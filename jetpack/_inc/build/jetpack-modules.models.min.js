window.jetpackModules=window.jetpackModules||{},window.jetpackModules.models=function(t,e,a){"use strict";var s={};return s.Modules=a.Model.extend({visibles:{},filter_and_sort:function(){var t=e(".subsubsub .current a"),a=Object.values(this.get("raw")),s=e(".button-group.filter-active .active"),i=e(".button-group.sort .active"),r=e("#srch-term-search-input").val().toLowerCase();if(t.closest("li").hasClass("all")||(a=a.filter(e=>e.module_tags.includes(t.data("title")))),s.data("filter-by")&&(a=a.filter(t=>t[s.data("filter-by")]===s.data("filter-value"))),r.length&&(a=a.filter(function(t){return-1!==(t.name+" "+t.description+" "+t.long_description+" "+t.search_terms+" "+t.module_tags).toLowerCase().indexOf(r)})),i.data("sort-by")){const t=i.data("sort-by"),e="reverse"===i.data("sort-order")?-1:1;a.sort((a,s)=>a[t]>s[t]?e:a[t]<s[t]?-e:0)}return a.sort((t,e)=>e.available-t.available),this.set("items",a),this},initialize:function(){var t=this.get("items");this.set("raw",t)}}),s}(window,jQuery,Backbone);