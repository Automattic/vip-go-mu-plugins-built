/* Do not modify this file directly. It is compiled from other files. */
/* global jQuery */
/* jshint esversion: 5, es3:false */
var JetpackEmailSubscribe={validateEmail:function(r){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(r).toLowerCase())},activate:function(r,e,i){var s=jQuery("#"+e);s.find("form").submit(function(e){e.preventDefault();var o=s.find("."+i+"-email");o.removeClass(i+"-form-error");var a=o.val();return JetpackEmailSubscribe.validateEmail(a)?(s.find("form").hide(),s.find("."+i+"-processing").show(),jQuery.get("https://public-api.wordpress.com/rest/v1.1/sites/"+r+"/email_follow/subscribe?email="+a).done(function(r){s.find("."+i+"-processing").hide(),r.error&&"member_exists"!==r.error?s.find("."+i+"-error").show():s.find("."+i+"-success").show()}).fail(function(){s.find("."+i+"-processing").hide(),s.find("."+i+"-error").show()}),!1):(o.addClass(i+"-form-error"),!1)})}};