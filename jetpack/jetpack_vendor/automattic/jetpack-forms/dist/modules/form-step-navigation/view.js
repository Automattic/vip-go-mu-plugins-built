import*as t from"@wordpress/interactivity";var e={841:(t,e,r)=>{r.d(e,{Kz:()=>o});const n=t=>document.getElementById("jp-form-"+t),o=t=>{const e=n(t);if(!e)return;const r=e.querySelector(".is-current-step").querySelectorAll("input, select, textarea, .jetpack-form-file-field__dropzone-inner, [tabindex]:not([disabled])");r[0]?.focus()}},833:(e,r,n)=>{e.exports=(t=>{var e={};return n.d(e,t),e})({getContext:()=>t.getContext,store:()=>t.store,withSyncEvent:()=>t.withSyncEvent})}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var s=r[t]={exports:{}};return e[t](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o=n(833),s=n(841);const{state:c}=(0,o.store)("jetpack/form",{state:{get isFirstStep(){return 1===(0,o.getContext)().currentStep},get isLastStep(){const t=(0,o.getContext)();return t.currentStep===t.maxSteps},get isNotLastStep(){const t=(0,o.getContext)();return t.currentStep!==t.maxSteps},get stepHasErrorFields(){const t=(0,o.getContext)(),e=t.fields;return Object.values(e).filter((e=>e.step===t.currentStep)).some((t=>"yes"!==t.error))}},actions:{nextStep:(0,o.withSyncEvent)((t=>{t.preventDefault();const e=(0,o.getContext)();if(e.currentStep>=e.maxSteps)return;if(e.showErrors=c.stepHasErrorFields,c.stepHasErrorFields)return;e.direction="forward",e.currentStep=e.currentStep+1;const r=e.formHash;setTimeout((()=>{(0,s.Kz)(r)}),100)})),previousStep:(0,o.withSyncEvent)((t=>{t.preventDefault();const e=(0,o.getContext)();if(e.currentStep<=1)return;e.showErrors=!1,e.direction="backward",e.currentStep=e.currentStep-1;const r=e.formHash;setTimeout((()=>{(0,s.Kz)(r)}),100)}))},callbacks:{updateUrl:()=>{const t=(0,o.getContext)(),e=new URL(window.location.href);e.searchParams.set("step",t.currentStep),window.history.pushState({},"",e)}}});