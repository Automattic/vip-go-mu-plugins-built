(()=>{var e={941:(e,n,t)=>{n.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;n.splice(1,0,t,"color: inherit");let o=0,r=0;n[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(o++,"%c"===e&&(r=o))})),n.splice(r,0,t)},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=function(){let e;try{e=n.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},n.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage=function(){try{return localStorage}catch(e){}}(),n.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||(()=>{}),e.exports=t(212)(n);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},212:(e,n,t)=>{e.exports=function(e){function n(e){let t,r,s,a=null;function i(...e){if(!i.enabled)return;const o=i,r=Number(new Date),s=r-(t||r);o.diff=s,o.prev=t,o.curr=r,t=r,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,r)=>{if("%%"===t)return"%";a++;const s=n.formatters[r];if("function"==typeof s){const n=e[a];t=s.call(o,n),e.splice(a,1),a--}return t})),n.formatArgs.call(o,e);(o.log||n.log).apply(o,e)}return i.namespace=e,i.useColors=n.useColors(),i.color=n.selectColor(e),i.extend=o,i.destroy=n.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(r!==n.namespaces&&(r=n.namespaces,s=n.enabled(e)),s),set:e=>{a=e}}),"function"==typeof n.init&&n.init(i),i}function o(e,t){const o=n(this.namespace+(void 0===t?":":t)+e);return o.log=this.log,o}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(r),...n.skips.map(r).map((e=>"-"+e))].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.namespaces=e,n.names=[],n.skips=[];const o=("string"==typeof e?e:"").split(/[\s,]+/),r=o.length;for(t=0;t<r;t++)o[t]&&("-"===(e=o[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.slice(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,o;for(t=0,o=n.skips.length;t<o;t++)if(n.skips[t].test(e))return!1;for(t=0,o=n.names.length;t<o;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=t(997),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((t=>{n[t]=e[t]})),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]},n.enable(n.load()),n}},997:e=>{var n=1e3,t=60*n,o=60*t,r=24*o,s=7*r,a=365.25*r;function i(e,n,t,o){var r=n>=1.5*t;return Math.round(e/t)+" "+o+(r?"s":"")}e.exports=function(e,c){c=c||{};var d=typeof e;if("string"===d&&e.length>0)return function(e){if((e=String(e)).length>100)return;var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!i)return;var c=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===d&&isFinite(e))return c.long?function(e){var s=Math.abs(e);if(s>=r)return i(e,s,r,"day");if(s>=o)return i(e,s,o,"hour");if(s>=t)return i(e,s,t,"minute");if(s>=n)return i(e,s,n,"second");return e+" ms"}(e):function(e){var s=Math.abs(e);if(s>=r)return Math.round(e/r)+"d";if(s>=o)return Math.round(e/o)+"h";if(s>=t)return Math.round(e/t)+"m";if(s>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},372:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var o=t(941);const r=t.n(o)()("dops:analytics");let s,a;window._tkq=window._tkq||[],window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date;const i={initialize:function(e,n,t){i.setUser(e,n),i.setSuperProps(t),i.identifyUser()},setGoogleAnalyticsEnabled:function(e,n=null){this.googleAnalyticsEnabled=e,this.googleAnalyticsKey=n},setMcAnalyticsEnabled:function(e){this.mcAnalyticsEnabled=e},setUser:function(e,n){a={ID:e,username:n}},setSuperProps:function(e){s=e},assignSuperProps:function(e){s=Object.assign(s||{},e)},mc:{bumpStat:function(e,n){const t=function(e,n){let t="";if("object"==typeof e){for(const n in e)t+="&x_"+encodeURIComponent(n)+"="+encodeURIComponent(e[n]);r("Bumping stats %o",e)}else t="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(n),r('Bumping stat "%s" in group "%s"',n,e);return t}(e,n);i.mcAnalyticsEnabled&&((new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+t+"&t="+Math.random())},bumpStatWithPageView:function(e,n){const t=function(e,n){let t="";if("object"==typeof e){for(const n in e)t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e[n]);r("Built stats %o",e)}else t="&"+encodeURIComponent(e)+"="+encodeURIComponent(n),r('Built stat "%s" in group "%s"',n,e);return t}(e,n);i.mcAnalyticsEnabled&&((new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+t+"&t="+Math.random())}},pageView:{record:function(e,n){i.tracks.recordPageView(e),i.ga.recordPageView(e,n)}},purchase:{record:function(e,n,t,o,r,s,a){i.ga.recordPurchase(e,n,t,o,r,s,a)}},tracks:{recordEvent:function(e,n){n=n||{},0===e.indexOf("akismet_")||0===e.indexOf("jetpack_")?(s&&(r("- Super Props: %o",s),n=Object.assign(n,s)),r('Record event "%s" called with props %s',e,JSON.stringify(n)),window._tkq.push(["recordEvent",e,n])):r('- Event name must be prefixed by "akismet_" or "jetpack_"')},recordJetpackClick:function(e){const n="object"==typeof e?e:{target:e};i.tracks.recordEvent("jetpack_wpa_click",n)},recordPageView:function(e){i.tracks.recordEvent("akismet_page_view",{path:e})},setOptOut:function(e){r("Pushing setOptOut: %o",e),window._tkq.push(["setOptOut",e])}},ga:{initialized:!1,initialize:function(){let e={};i.ga.initialized||(a&&(e={userId:"u-"+a.ID}),window.ga("create",this.googleAnalyticsKey,"auto",e),i.ga.initialized=!0)},recordPageView:function(e,n){i.ga.initialize(),r("Recording Page View ~ [URL: "+e+"] [Title: "+n+"]"),this.googleAnalyticsEnabled&&(window.ga("set","page",e),window.ga("send",{hitType:"pageview",page:e,title:n}))},recordEvent:function(e,n,t,o){i.ga.initialize();let s="Recording Event ~ [Category: "+e+"] [Action: "+n+"]";void 0!==t&&(s+=" [Option Label: "+t+"]"),void 0!==o&&(s+=" [Option Value: "+o+"]"),r(s),this.googleAnalyticsEnabled&&window.ga("send","event",e,n,t,o)},recordPurchase:function(e,n,t,o,r,s,a){window.ga("require","ecommerce"),window.ga("ecommerce:addTransaction",{id:e,revenue:o,currency:a}),window.ga("ecommerce:addItem",{id:e,name:n,sku:t,price:r,quantity:s}),window.ga("ecommerce:send")}},identifyUser:function(){a&&window._tkq.push(["identifyUser",a.ID,a.username])},setProperties:function(e){window._tkq.push(["setProperties",e])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}},c=i},428:e=>{"use strict";e.exports=window.jQuery},455:e=>{"use strict";e.exports=window.wp.apiFetch},723:e=>{"use strict";e.exports=window.wp.i18n}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var s=n[o]={exports:{}};return e[o](s,s.exports,t),s.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";var e=t(372),n=t(455),o=t.n(n),r=t(723),s=t(428),a=t.n(s);const _n=r._n,__=r.__,{ajaxUrl:i,connectionsUrl:c,isEnhancedPublishingEnabled:d,resharePath:u,isReshareSupported:l,siteType:p}=window.jetpackSocialClassicEditorOptions,g=["instagram-business"],{recordEvent:f}=e.A.tracks,m=(e,n)=>{const t=window.wp.media.featuredImage.get(),o=t&&-1!==t,r=e("#pub-connection-needs-media"),s=!!r.html();if(o!==s)return;if(n.forEach((n=>{e(".wpas-submit-"+n).each(((n,t)=>{const r=e(t);r.prop("disabled")||o||r.data("checkedVal",r.prop("checked")),r.prop("checked",o&&r.data("checkedVal")),r.prop("disabled",!o)}))})),o)return void r.removeClass().html("");const a=d?/* translators: %s is the link to the media upload best practices. */__('You need a featured image to share to Instagram. Use the block editor for more advanced media features! <a href="%s" rel="noopener noreferrer" target="_blank">Learn more</a>.',"jetpack-publicize-pkg"):/* translators: %s is the link to the media upload best practices. */__('You need a featured image to share to Instagram. <a href="%s" rel="noopener noreferrer" target="_blank">Learn more</a>.',"jetpack-publicize-pkg",0);r.addClass("notice-warning publicize__notice-media-warning publicize__notice-warning").append(a.replace("%s","https://jetpack.com/support/jetpack-social/sharing-to-instagram-with-jetpack-social"))};a()((function(e){const n=g.filter((n=>e(".wpas-submit-"+n).length));if(n.length>0){m(e,n);const t=window.wp.media.featuredImage.set;window.wp.media.featuredImage.set=function(o){t(o),m(e,n)}}let t=!1;const r=function(){t||(e.post(i,{action:"test_publicize_conns"},d),t=!0)};let s;window.addEventListener("focus",(()=>{s&&clearTimeout(s),s=setTimeout(r,2e3)}));const a=(n,t)=>t.data?t.data.reduce(((t,o)=>o.connectionTestPassed||n!==(o.connectionTestErrorCode??"broken")?t:(e("#wpas-submit-"+o.id).prop("checked",!1).prop("disabled",!0),t+1)),0):0,d=function(n){t=!1;const o=e("#pub-connection-tests");o.removeClass("test-in-progress").removeClass("below-h2").removeClass("error").removeClass("publicize-token-refresh-message").html("");const r=a("broken",n),s=a("unsupported",n);if(r){
/* translators: %s is the link to the connections page in Calypso */
const e=_n('One of your social connections is broken. Reconnect it on the <a href="%s" rel="noopener noreferrer" target="_blank">connection management</a> page.','Some of your social connections are broken. Reconnect them on the <a href="%s" rel="noopener noreferrer" target="_blank">connection management</a> page.',r,"jetpack-publicize-pkg");o.addClass("below-h2").addClass("error").addClass("publicize-token-refresh-message").append(e.replace("%s",c))}if(s){
/* translators: %s is the link to the connections page in Calypso */
const e=__('Twitter is not supported anymore. <a href="%s" rel="noopener noreferrer" target="_blank">Learn more</a>.',"jetpack-publicize-pkg");r?o.append("<hr />"):o.addClass("below-h2").addClass("error").addClass("publicize-token-refresh-message"),o.append(e.replace("%s",c))}};e("#pub-connection-tests").length&&r();const C=e("#publicize-share-now"),h=e("#publicize-share-now-notice"),w=e("#publicize-form").find('li input[type="checkbox"]'),b=(e,n="warning")=>{h.removeClass("notice-warning notice-success hidden").addClass("publicize__notice-warning notice-"+n).text(e)};C.on("click",(function(n){if(n.preventDefault(),!l)return;if(h.removeClass("publicize__notice-warning").addClass("hidden").text(""),!w.filter(((n,t)=>e(t).prop("checked"))).length)return void b(__("Please select at least one connection to share with.","jetpack-publicize-pkg"));const t=e('input[name="post_ID"]').val(),r=u.replace("{postId}",t),s=w.filter(((n,t)=>!e(t).prop("checked"))).map(((n,t)=>e(t).data("id"))).toArray(),a=e('textarea[name="wpas_title"]').val();C.prop("disabled",!0).text(__("Sharingâ€¦","jetpack-publicize-pkg")),f("jetpack_social_reshare_clicked",{location:"classic-editor",environment:p}),o()({path:r,method:"POST",data:{message:a,skipped_connections:s,async:!0}}).then((()=>{b(__("Request submitted successfully.","jetpack-publicize-pkg"),"success")})).catch((()=>{b(__("An error occurred while sharing your post.","jetpack-publicize-pkg"))})).finally((()=>{C.prop("disabled",!1).text(__("Share now","jetpack-publicize-pkg"))}))}))}))})()})();