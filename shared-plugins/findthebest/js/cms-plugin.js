!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){n(2),n(3),n(4)},function(t,e,n){var i=window.FTB=window.FTB||{};i.Recommender=n(6)},function(t,e,n){var i=n(6),s=window.jQuery;s&&!s.fn.recommender&&(s.fn.recommender=function(t){var e=this.data("__recommender");return e?e.search():(t=s.extend(t,{mode:"container",container:this}),e=new i(t),this.data("__recommender",e)),this})},function(t,e,n){var i="ftb-plugin",s=n(5);window.CKEDITOR&&window.CKEDITOR.plugins.add(i,{init:function(t){t.addCommand(i,{exec:function(t){t.__recommender?t.__recommender.show():console.log("No Recommender attached to this editor")}}),t.ui.addButton(i,{label:"Recommended Content",icon:s.ICON,command:i})}})},function(t){var e=window.FTB.IS_LOCAL||window.FTB_IS_LOCAL,n=e?"dw.com":"findthebest.com",i=e?window.location.protocol:"https:",s=i+"//www."+n;t.exports={DOMAIN:n,PROTOCOL:i,HOST:s,ICON:"//img1.findthebest.com/sites/default/files/4261/media/images/_6326290.png",VERSION:.1,MODE_MODAL:"modal",MODE_SIDEBAR:"sidebar",MODE_CONTAINER:"container"}},function(t,e,n){function i(t,e){t=t.charAt(0).toUpperCase()+t.slice(1);var n="set"+t;this[n]&&this[n](e)}function s(t,e){if(this.iframe){var n={method:t,payload:e};f.postMessage(n,c.HOST,this.iframe.contentWindow)}}function r(t){var e=t.data;e&&e.method&&("load"===e.method&&(this.isLoaded=!0,o.call(this),this.onLoad&&this.onLoad(),this.emit("load",e.payload)),"select"===e.method&&(this.emit("select",e.payload),this.hide()))}function o(){s.call(this,"options",{key:this.key,color:this.color,embedType:this.embedType})}var a=n(9),c=n(5),h=n(8).EventEmitter,u=n(10),l=n(7),f=n(11),d=function(){},p=a({init:function(t){t=u({},t),this.setMode(c.MODE_MODAL),this.setText().setTitle().setTags();for(var e in t)t.hasOwnProperty(e)&&i.call(this,e,t[e]);f.receiveMessage(r.bind(this),c.HOST)},show:function(){return this.showModal(),this.search(),this},showModal:function(){var t=this,e=c.HOST+"/widgets/plugin",n=this.buildQueryString({key:this.key,locale:this.locale,client_user_id:this.userID,client_user_email:this.userEmail});return n&&(e+="?"+n),this.frame?this.frame.show():(this.frame=l('<iframe id="wsp-iframe" src="'+e+'" frameborder="0"></iframe>',this.getMode()),this.iframe=document.querySelector("#wsp-iframe"),this.frame.on("hide",function(){t.afterHide()}),this.frame.on("show",function(){t.afterShow()})),this.afterShow(),this},afterShow:function(){return this.isShown=!0,this.emit("show"),this},hide:function(){return this.frame.hide(),this.afterHide(),this},afterHide:function(){return this.emit("hide"),this.isShown=!1,this},search:function(t){return this.isShown||this.showModal(),this.isLoaded?(t?s.call(this,"search",{text:t}):s.call(this,"search",{title:this.title(),text:this.text(),tags:this.tags()}),this):(this.onLoad=function(){this.search(t)}.bind(this),this)},setKey:function(t){return this.key=t,this},getKey:function(){return this.key},setText:function(t){return this.text=t||d,this},getText:function(){return this.text},setTitle:function(t){return this.title=t||d,this},getTitle:function(){return this.title},setTags:function(t){return this.tags=t||d,this},getTags:function(){return this.tags},setMode:function(t,e){return t===c.MODE_CONTAINER?(e&&this.setContainer(e),this.mode=c.MODE_CONTAINER):this.mode=t===c.MODE_SIDEBAR?c.MODE_SIDEBAR:c.MODE_MODAL,this.frame&&this.frame.setMode(this.mode),this},getMode:function(){return this.mode||c.MODE_MODAL},setContainer:function(t){return this.container=t,this},getContainer:function(){return this.container},setUserID:function(t){return this.userID=t,this},getUserID:function(){return this.userID},setUserEmail:function(t){return this.userEmail=t,this},getUserEmail:function(){return this.userEmail},setColor:function(t){return t&&/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)&&(this.color=t),this},getColor:function(){return this.color},setEmbedType:function(t){return("script"===t||"iframe"===t)&&(this.embedType=t),this},getEmbedType:function(){return this.embedType||"script"},setLocale:function(t){this.locale=t},getLocale:function(){return this.locale},attachEditor:function(t){return t.__recommender=this,this.setText(function(){return t.getData()}),this.on("select",function(e){t.insertHtml("<br/>"+e.code+"<br/>")}),this},buildQueryString:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}});u(p.prototype,h.prototype),p.VERSION=c.VERSION,p.ICON=c.ICON,t.exports=p},function(t,e,n){var i=n(12),s=n(13),r=(n(5),n(8).EventEmitter),o=n(10);t.exports=function(t,e){var a={};n(14);var c=document.createElement("div");c.innerHTML=s.replace("{content}",t),document.getElementsByTagName("body")[0].appendChild(c.children[0]);var h=document.getElementsByClassName("wsm-wrap")[0];return h.querySelector(".wsm-close").addEventListener("click",function(){a.hide()}),h.querySelector(".wsm-bg").addEventListener("click",function(){a.hide()}),a.show=function(){h.style.display="block",h.clientLeft,i.addClass(h,"shown"),a.emit("show")},a.hide=function(){i.removeClass(h,"shown"),setTimeout(function(){h.style.display="none"},400),a.emit("hide")},a.destroy=function(){h.parentNode.removeChild(h),a.emit("destroy")},a.setMode=function(t){h.dataset.mode=t},o(a,r.prototype),a.setMode(e),a.show(),a}},function(t){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var e,i,o,a,c,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[t],r(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,a=new Array(o-1),c=1;o>c;c++)a[c-1]=arguments[c];i.apply(this,a)}else if(s(i)){for(o=arguments.length,a=new Array(o-1),c=1;o>c;c++)a[c-1]=arguments[c];for(h=i.slice(),o=h.length,c=0;o>c;c++)h[c].apply(this,a)}return!0},e.prototype.addListener=function(t,i){var o;if(!n(i))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(i.listener)?i.listener:i),this._events[t]?s(this._events[t])?this._events[t].push(i):this._events[t]=[this._events[t],i]:this._events[t]=i,s(this._events[t])&&!this._events[t].warned){var o;o=r(this._maxListeners)?e.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,e){function i(){this.removeListener(t,i),s||(s=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var s=!1;return i.listener=e,this.on(t,i),this},e.prototype.removeListener=function(t,e){var i,r,o,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(i)){for(a=o;a-->0;)if(i[a]===e||i[a].listener&&i[a].listener===e){r=a;break}if(0>r)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},e.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.listenerCount=function(t,e){var i;return i=t._events&&t._events[e]?n(t._events[e])?1:t._events[e].length:0}},function(t){t.exports=function(){function t(){function t(e){return this instanceof t?void(n||"function"!=typeof this.init||this.init.apply(this,e&&e.callee?e:arguments)):new t(arguments)}return t}function e(){}var n=!1,i=/\b_parent\b/;return e.extend=function(e){var s=this.prototype;n=!0;var r=new this;n=!1;for(var o in e){var a=e[o];r[o]="function"==typeof a&&i.test(a)?function(t,e){var n="function"==typeof s[t]?s[t]:function(){throw new Error("Bad _parent() call: "+t+"() doesn't exist in parent class.")};return function(){var t=this._parent;this._parent=n;var i=e.apply(this,arguments);return this._parent=t,i}}(o,a):a}var c=t();return c.prototype=r,c.prototype.constructor=c,c.extend=arguments.callee,c},function(t){return e.extend(t)}}()},function(t){var e,n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=function(t){"use strict";if(!t||"[object Object]"!==i.call(t))return!1;var s=n.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!s&&!r)return!1;var o;for(o in t);return o===e||n.call(t,o)};t.exports=function r(){"use strict";var t,n,i,o,a,c,h=arguments[0],u=1,l=arguments.length,f=!1;for("boolean"==typeof h?(f=h,h=arguments[1]||{},u=2):("object"!=typeof h&&"function"!=typeof h||null==h)&&(h={});l>u;++u)if(t=arguments[u],null!=t)for(n in t)i=h[n],o=t[n],h!==o&&(f&&o&&(s(o)||(a=Array.isArray(o)))?(a?(a=!1,c=i&&Array.isArray(i)?i:[]):c=i&&s(i)?i:{},h[n]=r(f,c,o)):o!==e&&(h[n]=o));return h}},function(t){!function(e){var n,i,s,r,o=1,e=this,a=!1,c="postMessage",h="addEventListener",u=e[c];fn={},fn.postMessage=function(t,e,n){e&&(n=n||parent,u?n[c](t,e.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):e&&(n.location=e.replace(/#.*$/,"")+"#"+ +new Date+o++ +"&"+t))},fn.receiveMessage=function(t,o,c){u?(t&&(r&&fn.receiveMessage(),r=function(e){return"string"==typeof o&&e.origin!==o||"function"==typeof o&&o(e.origin)===a?a:void t(e)}),e[h]?e[t?h:"removeEventListener"]("message",r,a):e[t?"attachEvent":"detachEvent"]("onmessage",r)):(n&&clearInterval(n),n=null,t&&(c="number"==typeof o?o:"number"==typeof c?c:100,s=document.location.hash,n=setInterval(function(){var e=document.location.hash,n=/^#?\d+&/;e!==i&&e!==s&&n.test(e)&&(i=e,document.location.hash=s?s:"",t({data:e.replace(n,"")}))},c)))},t.exports={postMessage:fn.postMessage,receiveMessage:fn.receiveMessage}}(window)},function(t){t.exports={addClass:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}}},function(t){t.exports='<div class="wsm-wrap">\n	<div class="wsm-bg"></div>\n	<div class="wsm-frame">\n		<div class="wsm-content">{content}</div>\n		<div class="wsm-close">&times;</div>\n	</div>\n</div>\n'},function(t,e,n){var i=n(15);"string"==typeof i&&(i=[[t.id,i,""]]);n(16)(i,{})},function(t,e,n){e=t.exports=n(17)(),e.push([t.id,'/**\n * Common/Reset styles for all modes\n */\n.wsm-bg {\n	display: none;\n}\n.wsm-frame {\n	background: #eee;\n}\n.wsm-content {\n	position: absolute;\n	top: 0;\n	left: 0;\n	right: 0;\n	bottom: 0;\n}\n.wsm-content iframe {\n	position: absolute;\n	width: 100%;\n	height: 100%;\n}\n.wsm-wrap.shown {\n	opacity: 1 !important;\n}\n.wsm-close {\n	position: absolute;\n	top: 12px;\n	right: 20px;\n	padding: 3px;\n	text-align: center;\n	font-weight: bold;\n	color: #999;\n	font-size: 30px;\n	line-height: 1;\n	cursor: pointer;\n}\n.wsm-close:hover {\n	color: #aaa;\n}\n.wsm-close:active {\n	color: #bbb;\n}\n\n\n/**\n * Modal Mode\n */\n.wsm-wrap[data-mode="modal"] {\n	position: fixed;\n	min-height: 360px;\n	z-index: 9999999;\n	display: none;\n	opacity: 0;\n	transition: 0.4s opacity;\n	top: 0;\n	left: 0;\n	right: 0;\n	bottom: 0;\n}\n\n.wsm-wrap[data-mode="modal"] .wsm-bg {\n	display: block;\n	position: absolute;\n	background: #000;\n	opacity: 0.7;\n	top: 0;\n	left: 0;\n	right: 0;\n	bottom: 0;\n}\n\n.wsm-wrap[data-mode="modal"] .wsm-frame {\n	position: absolute;\n	top: 30px;\n	left: 30px;\n	right: 30px;\n	bottom: 30px;\n	z-index: 2;\n	-webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.7);\n	        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.7);\n}\n\n/**\n * Sidebar Mode\n */\n.wsm-wrap[data-mode="sidebar"] {\n	position: fixed;\n	min-height: 360px;\n	z-index: 9999999;\n	display: none;\n	opacity: 0;\n	transition: 0.4s opacity;\n	top: 0;\n	right: 0;\n	bottom: 0;\n	width: 300px;\n	-webkit-box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2);\n			box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2);\n}\n\n.wsm-wrap[data-mode="sidebar"] .wsm-frame {\n	position: absolute;\n	top: 0;\n	left: 0;\n	right: 0;\n	bottom: 0;\n}\n',""])},function(t){function e(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=c[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(s(i.parts[o],e))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(s(i.parts[o],e));c[i.id]={id:i.id,refs:1,parts:a}}}}function n(t){for(var e=[],n={},i=0;i<t.length;i++){var s=t[i],r=s[0],o=s[1],a=s[2],c=s[3],h={css:o,media:a,sourceMap:c};n[r]?n[r].parts.push(h):e.push(n[r]={id:r,parts:[h]})}return e}function i(){var t=document.createElement("style"),e=l();return t.type="text/css",e.appendChild(t),t}function s(t,e){var n,s,r;if(e.singleton){var c=d++;n=f||(f=i()),s=o.bind(null,n,c,!1),r=o.bind(null,n,c,!0)}else n=i(),s=a.bind(null,n),r=function(){n.parentNode.removeChild(n)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else r()}}function r(t,e,n){var i=["/** >>"+e+" **/","/** "+e+"<< **/"],s=t.lastIndexOf(i[0]),r=n?i[0]+n+i[1]:"";if(t.lastIndexOf(i[0])>=0){var o=t.lastIndexOf(i[1])+i[1].length;return t.slice(0,s)+r+t.slice(o)}return t+r}function o(t,e,n,i){var s=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=r(t.styleSheet.cssText,e,s);else{var o=document.createTextNode(s),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function a(t,e){var n=e.css,i=e.media,s=e.sourceMap;if(s&&"function"==typeof btoa)try{n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(s))+" */",n='@import url("data:text/css;base64,'+btoa(n)+'")'}catch(r){}if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var c={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},u=h(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),l=h(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,d=0;t.exports=function(t,i){i=i||{},"undefined"==typeof i.singleton&&(i.singleton=u());var s=n(t);return e(s,i),function(t){for(var r=[],o=0;o<s.length;o++){var a=s[o],h=c[a.id];h.refs--,r.push(h)}if(t){var u=n(t);e(u,i)}for(var o=0;o<r.length;o++){var h=r[o];if(0===h.refs){for(var l=0;l<h.parts.length;l++)h.parts[l]();delete c[h.id]}}}}},function(t){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];t.push(n[2]?"@media "+n[2]+"{"+n[1]+"}":n[1])}return t.join("")},t}}]);