{
  "version": 3,
  "sources": ["package-external:@wordpress/data", "package-external:@wordpress/core-data", "package-external:@wordpress/element", "package-external:@wordpress/compose", "package-external:@wordpress/hooks", "package-external:@wordpress/block-editor", "package-external:@wordpress/blocks", "package-external:@wordpress/date", "package-external:@wordpress/url", "package-external:@wordpress/deprecated", "package-external:@wordpress/preferences", "package-external:@wordpress/primitives", "vendor-external:react/jsx-runtime", "package-external:@wordpress/private-apis", "package-external:@wordpress/a11y", "package-external:@wordpress/api-fetch", "package-external:@wordpress/notices", "package-external:@wordpress/i18n", "package-external:@wordpress/html-entities", "package-external:@wordpress/components", "package-external:@wordpress/patterns", "package-external:@wordpress/blob", "package-external:@wordpress/media-utils", "../../../node_modules/remove-accents/index.js", "package-external:@wordpress/style-engine", "../../../node_modules/fast-deep-equal/es6/index.js", "../../../node_modules/deepmerge/dist/cjs.js", "package-external:@wordpress/commands", "package-external:@wordpress/viewport", "package-external:@wordpress/plugins", "package-external:@wordpress/keyboard-shortcuts", "package-external:@wordpress/keycodes", "../../../node_modules/fast-deep-equal/index.js", "package-external:@wordpress/dom", "package-external:@wordpress/rich-text", "package-external:@wordpress/warning", "vendor-external:react", "../../../node_modules/prop-types/lib/ReactPropTypesSecret.js", "../../../node_modules/prop-types/factoryWithThrowingShims.js", "../../../node_modules/prop-types/index.js", "../../../node_modules/autosize/dist/autosize.js", "../../../node_modules/computed-style/dist/computedStyle.commonjs.js", "../../../node_modules/line-height/lib/line-height.js", "../../../node_modules/react-autosize-textarea/lib/TextareaAutosize.js", "../../../node_modules/react-autosize-textarea/lib/index.js", "package-external:@wordpress/wordcount", "package-external:@wordpress/server-side-render", "../../../node_modules/diff/src/diff/base.js", "../../../node_modules/diff/src/diff/array.js", "vendor-external:react-dom", "../../../packages/editor/src/hooks/custom-sources-backwards-compatibility.js", "../../../packages/editor/src/store/index.js", "../../../packages/editor/src/store/reducer.js", "../../../packages/editor/src/store/defaults.js", "../../../packages/editor/src/dataviews/store/reducer.ts", "../../../packages/editor/src/store/selectors.js", "../../../packages/editor/src/store/constants.ts", "../../../packages/icons/src/icon/index.ts", "../../../packages/icons/src/library/add-template.tsx", "../../../packages/icons/src/library/archive.tsx", "../../../packages/icons/src/library/audio.tsx", "../../../packages/icons/src/library/background.tsx", "../../../packages/icons/src/library/backup.tsx", "../../../packages/icons/src/library/block-default.tsx", "../../../packages/icons/src/library/check.tsx", "../../../packages/icons/src/library/chevron-down.tsx", "../../../packages/icons/src/library/chevron-left-small.tsx", "../../../packages/icons/src/library/chevron-left.tsx", "../../../packages/icons/src/library/chevron-right-small.tsx", "../../../packages/icons/src/library/chevron-right.tsx", "../../../packages/icons/src/library/chevron-up.tsx", "../../../packages/icons/src/library/close-small.tsx", "../../../packages/icons/src/library/cloud-upload.tsx", "../../../packages/icons/src/library/cloud.tsx", "../../../packages/icons/src/library/code.tsx", "../../../packages/icons/src/library/color.tsx", "../../../packages/icons/src/library/comment-author-avatar.tsx", "../../../packages/icons/src/library/comment.tsx", "../../../packages/icons/src/library/copy-small.tsx", "../../../packages/icons/src/library/desktop.tsx", "../../../packages/icons/src/library/download.tsx", "../../../packages/icons/src/library/drafts.tsx", "../../../packages/icons/src/library/drawer-left.tsx", "../../../packages/icons/src/library/drawer-right.tsx", "../../../packages/icons/src/library/envelope.tsx", "../../../packages/icons/src/library/error.tsx", "../../../packages/icons/src/library/external.tsx", "../../../packages/icons/src/library/file.tsx", "../../../packages/icons/src/library/footer.tsx", "../../../packages/icons/src/library/format-list-bullets.tsx", "../../../packages/icons/src/library/header.tsx", "../../../packages/icons/src/library/info.tsx", "../../../packages/icons/src/library/keyboard.tsx", "../../../packages/icons/src/library/layout.tsx", "../../../packages/icons/src/library/link.tsx", "../../../packages/icons/src/library/list-view.tsx", "../../../packages/icons/src/library/lock-small.tsx", "../../../packages/icons/src/library/mobile.tsx", "../../../packages/icons/src/library/more-vertical.tsx", "../../../packages/icons/src/library/navigation.tsx", "../../../packages/icons/src/library/next.tsx", "../../../packages/icons/src/library/not-allowed.tsx", "../../../packages/icons/src/library/page.tsx", "../../../packages/icons/src/library/pencil.tsx", "../../../packages/icons/src/library/pending.tsx", "../../../packages/icons/src/library/plus.tsx", "../../../packages/icons/src/library/previous.tsx", "../../../packages/icons/src/library/published.tsx", "../../../packages/icons/src/library/redo.tsx", "../../../packages/icons/src/library/reset.tsx", "../../../packages/icons/src/library/rotate-left.tsx", "../../../packages/icons/src/library/rotate-right.tsx", "../../../packages/icons/src/library/scheduled.tsx", "../../../packages/icons/src/library/seen.tsx", "../../../packages/icons/src/library/settings.tsx", "../../../packages/icons/src/library/shadow.tsx", "../../../packages/icons/src/library/shuffle.tsx", "../../../packages/icons/src/library/sidebar.tsx", "../../../packages/icons/src/library/square.tsx", "../../../packages/icons/src/library/star-empty.tsx", "../../../packages/icons/src/library/star-filled.tsx", "../../../packages/icons/src/library/styles.tsx", "../../../packages/icons/src/library/symbol-filled.tsx", "../../../packages/icons/src/library/symbol.tsx", "../../../packages/icons/src/library/table-column-after.tsx", "../../../packages/icons/src/library/tablet.tsx", "../../../packages/icons/src/library/trash.tsx", "../../../packages/icons/src/library/typography.tsx", "../../../packages/icons/src/library/undo.tsx", "../../../packages/icons/src/library/unseen.tsx", "../../../packages/icons/src/library/verse.tsx", "../../../packages/icons/src/library/video.tsx", "../../../packages/icons/src/library/wordpress.tsx", "../../../packages/editor/src/utils/get-template-part-icon.js", "../../../packages/editor/src/lock-unlock.js", "../../../packages/editor/src/utils/get-template-info.js", "../../../packages/editor/src/store/actions.js", "../../../packages/editor/src/store/local-autosave.js", "../../../packages/editor/src/store/utils/notice-builder.js", "../../../packages/editor/src/store/private-actions.js", "../../../packages/editor/src/store/utils/is-template-revertable.js", "../../../packages/editor/src/dataviews/store/private-actions.ts", "../../../packages/fields/src/fields/slug/index.ts", "../../../packages/fields/src/fields/slug/slug-edit.tsx", "../../../packages/fields/src/fields/slug/utils.ts", "../../../packages/fields/src/actions/utils.ts", "../../../packages/fields/src/fields/slug/slug-view.tsx", "../../../packages/fields/src/fields/title/index.ts", "../../../node_modules/clsx/dist/clsx.mjs", "../../../packages/fields/src/fields/title/view.tsx", "../../../packages/fields/src/fields/page-title/index.ts", "../../../packages/fields/src/fields/page-title/view.tsx", "../../../packages/fields/src/lock-unlock.ts", "../../../packages/fields/src/fields/template-title/index.ts", "../../../packages/fields/src/fields/pattern-title/index.ts", "../../../packages/fields/src/fields/pattern-title/view.tsx", "../../../packages/fields/src/fields/featured-image/index.tsx", "../../../packages/fields/src/components/media-edit/index.tsx", "../../../packages/fields/src/fields/featured-image/featured-image-view.tsx", "../../../packages/fields/src/fields/template/index.ts", "../../../packages/fields/src/fields/template/template-edit.tsx", "../../../packages/fields/src/fields/parent/index.ts", "../../../packages/fields/src/fields/parent/parent-edit.tsx", "../../../packages/fields/src/fields/parent/utils.ts", "../../../packages/fields/src/fields/parent/parent-view.tsx", "../../../packages/fields/src/fields/password/index.tsx", "../../../packages/fields/src/fields/password/edit.tsx", "../../../packages/fields/src/fields/status/index.tsx", "../../../packages/fields/src/fields/status/status-view.tsx", "../../../packages/fields/src/fields/status/status-elements.tsx", "../../../packages/fields/src/fields/comment-status/index.tsx", "../../../packages/fields/src/fields/ping-status/index.tsx", "../../../packages/fields/src/fields/discussion/index.tsx", "../../../packages/fields/src/fields/date/index.tsx", "../../../packages/fields/src/fields/date/date-view.tsx", "../../../packages/fields/src/fields/author/index.tsx", "../../../packages/fields/src/fields/author/author-view.tsx", "../../../packages/fields/src/fields/notes/index.tsx", "../../../packages/fields/src/actions/view-post.tsx", "../../../packages/fields/src/actions/reorder-page.tsx", "../../../packages/fields/src/actions/duplicate-post.tsx", "../../../packages/fields/src/actions/rename-post.tsx", "../../../packages/fields/src/actions/reset-post.tsx", "../../../packages/fields/src/actions/duplicate-pattern.tsx", "../../../node_modules/tslib/tslib.es6.mjs", "../../../node_modules/lower-case/src/index.ts", "../../../node_modules/no-case/src/index.ts", "../../../node_modules/dot-case/src/index.ts", "../../../node_modules/param-case/src/index.ts", "../../../node_modules/client-zip/index.js", "../../../packages/fields/src/actions/export-pattern.tsx", "../../../packages/fields/src/actions/view-post-revisions.tsx", "../../../packages/fields/src/actions/permanently-delete-post.tsx", "../../../packages/fields/src/actions/restore-post.tsx", "../../../packages/fields/src/actions/trash-post.tsx", "../../../packages/fields/src/actions/delete-post.tsx", "../../../packages/fields/src/mutation/index.ts", "../../../packages/fields/src/actions/duplicate-template-part.tsx", "../../../packages/fields/src/components/create-template-part-modal/index.tsx", "../../../packages/fields/src/components/create-template-part-modal/utils.js", "../../../packages/media-fields/src/alt_text/index.tsx", "../../../packages/media-fields/src/attached_to/index.tsx", "../../../packages/media-fields/src/attached_to/view.tsx", "../../../packages/media-fields/src/utils/get-rendered-content.ts", "../../../packages/media-fields/src/attached_to/edit.tsx", "../../../packages/media-fields/src/author/index.tsx", "../../../packages/media-fields/src/author/view.tsx", "../../../packages/media-fields/src/caption/index.tsx", "../../../packages/media-fields/src/utils/get-raw-content.ts", "../../../packages/media-fields/src/date_added/index.tsx", "../../../packages/media-fields/src/description/index.tsx", "../../../packages/media-fields/src/filename/index.ts", "../../../packages/media-fields/src/filename/view.tsx", "../../../packages/media-fields/src/filesize/index.tsx", "../../../packages/media-fields/src/media_dimensions/index.ts", "../../../packages/media-fields/src/mime_type/index.ts", "../../../packages/editor/src/dataviews/fields/content-preview/index.tsx", "../../../packages/editor/src/dataviews/fields/content-preview/content-preview-view.tsx", "../../../packages/editor/src/components/provider/index.js", "../../../packages/editor/src/components/provider/with-registry-provider.js", "../../../packages/editor/src/components/provider/use-block-editor-settings.js", "../../../packages/editor/src/components/media-categories/index.js", "../../../node_modules/uuid/dist/esm-browser/rng.js", "../../../node_modules/uuid/dist/esm-browser/stringify.js", "../../../node_modules/uuid/dist/esm-browser/native.js", "../../../node_modules/uuid/dist/esm-browser/v4.js", "../../../packages/editor/src/utils/media-upload/index.js", "../../../packages/editor/src/utils/url.js", "../../../packages/editor/src/utils/sync-error-messages.js", "../../../packages/editor/src/utils/media-sideload/index.js", "../../../packages/editor/src/components/global-styles-provider/index.js", "../../../packages/global-styles-engine/src/utils/object.ts", "../../../packages/global-styles-engine/src/settings/get-setting.ts", "../../../packages/global-styles-engine/src/settings/set-setting.ts", "../../../packages/global-styles-engine/src/utils/common.ts", "../../../packages/global-styles-engine/src/utils/fluid.ts", "../../../packages/global-styles-engine/src/utils/typography.ts", "../../../packages/global-styles-engine/src/settings/get-style.ts", "../../../packages/global-styles-engine/src/settings/set-style.ts", "../../../packages/global-styles-engine/src/core/equal.ts", "../../../packages/global-styles-engine/src/core/merge.ts", "../../../node_modules/is-plain-object/dist/is-plain-object.mjs", "../../../node_modules/memize/dist/index.js", "../../../packages/global-styles-engine/src/utils/get-global-styles-changes.ts", "../../../packages/global-styles-engine/src/core/render.tsx", "../../../packages/global-styles-engine/src/core/selectors.ts", "../../../node_modules/colord/index.mjs", "../../../packages/global-styles-engine/src/utils/duotone.ts", "../../../packages/global-styles-engine/src/utils/string.ts", "../../../packages/global-styles-engine/src/utils/spacing.ts", "../../../packages/global-styles-engine/src/utils/gap.ts", "../../../packages/global-styles-engine/src/utils/background.ts", "../../../packages/global-styles-engine/src/utils/layout.ts", "../../../packages/editor/src/components/provider/disable-non-page-content-blocks.js", "../../../packages/editor/src/components/provider/use-post-content-blocks.js", "../../../packages/editor/src/components/provider/navigation-block-editing-mode.js", "../../../packages/editor/src/components/provider/use-hide-blocks-from-inserter.js", "../../../packages/editor/src/components/commands/index.js", "../../../packages/interface/src/components/complementary-area/index.js", "../../../packages/interface/src/components/complementary-area-toggle/index.js", "../../../packages/interface/src/store/index.js", "../../../packages/interface/src/store/actions.js", "../../../packages/interface/src/store/deprecated.js", "../../../packages/interface/src/store/selectors.js", "../../../packages/interface/src/store/reducer.js", "../../../packages/interface/src/store/constants.js", "../../../packages/interface/src/components/complementary-area-header/index.js", "../../../packages/interface/src/components/complementary-area-more-menu-item/index.js", "../../../packages/interface/src/components/action-item/index.js", "../../../packages/interface/src/components/pinned-items/index.js", "../../../packages/interface/src/components/fullscreen-mode/index.js", "../../../packages/admin-ui/src/navigable-region/index.tsx", "../../../packages/interface/src/components/interface-skeleton/index.js", "../../../packages/editor/src/components/pattern-rename-modal/index.js", "../../../packages/editor/src/components/pattern-duplicate-modal/index.js", "../../../packages/editor/src/components/block-removal-warnings/index.js", "../../../packages/editor/src/components/start-page-options/index.js", "../../../packages/editor/src/components/keyboard-shortcut-help-modal/index.js", "../../../packages/editor/src/components/keyboard-shortcut-help-modal/config.js", "../../../packages/editor/src/components/keyboard-shortcut-help-modal/shortcut.js", "../../../packages/editor/src/components/keyboard-shortcut-help-modal/dynamic-shortcut.js", "../../../packages/editor/src/components/start-template-options/index.js", "../../../packages/editor/src/components/global-keyboard-shortcuts/index.js", "../../../packages/editor/src/components/template-part-menu-items/index.js", "../../../packages/editor/src/components/template-part-menu-items/convert-to-regular.js", "../../../packages/editor/src/components/template-part-menu-items/convert-to-template-part.js", "../../../packages/editor/src/components/global-styles/index.js", "../../../packages/global-styles-ui/src/global-styles-ui.tsx", "../../../packages/global-styles-ui/src/provider.tsx", "../../../packages/global-styles-ui/src/context.ts", "../../../packages/global-styles-ui/src/screen-root.tsx", "../../../packages/global-styles-ui/src/icon-with-current-color.tsx", "../../../packages/global-styles-ui/src/navigation-button.tsx", "../../../packages/global-styles-ui/src/root-menu.tsx", "../../../node_modules/colord/plugins/a11y.mjs", "../../../packages/global-styles-ui/src/hooks.ts", "../../../packages/global-styles-ui/src/utils.ts", "../../../packages/global-styles-ui/src/lock-unlock.ts", "../../../packages/global-styles-ui/src/preview-styles.tsx", "../../../packages/global-styles-ui/src/preview-hooks.tsx", "../../../packages/global-styles-ui/src/typography-example.tsx", "../../../packages/global-styles-ui/src/font-library/utils/preview-styles.ts", "../../../packages/global-styles-ui/src/highlighted-colors.tsx", "../../../packages/global-styles-ui/src/preview-wrapper.tsx", "../../../packages/global-styles-ui/src/screen-block-list.tsx", "../../../packages/global-styles-ui/src/variations/variations-panel.tsx", "../../../packages/global-styles-ui/src/screen-header.tsx", "../../../packages/global-styles-ui/src/screen-block.tsx", "../../../packages/global-styles-ui/src/block-preview-panel.tsx", "../../../packages/global-styles-ui/src/subtitle.tsx", "../../../packages/global-styles-ui/src/screen-typography.tsx", "../../../packages/global-styles-ui/src/screen-body.tsx", "../../../packages/global-styles-ui/src/typography-elements.tsx", "../../../packages/global-styles-ui/src/variations/variations-typography.tsx", "../../../packages/global-styles-ui/src/preview-typography.tsx", "../../../packages/global-styles-ui/src/variations/variation.tsx", "../../../packages/global-styles-ui/src/font-families.tsx", "../../../packages/global-styles-ui/src/font-library/context.tsx", "../../../packages/global-styles-ui/src/font-library/api.ts", "../../../packages/global-styles-ui/src/font-library/utils/index.ts", "../../../packages/global-styles-ui/src/font-library/utils/constants.ts", "../../../packages/global-styles-ui/src/font-library/utils/set-immutably.ts", "../../../packages/global-styles-ui/src/font-library/utils/toggleFont.ts", "../../../packages/global-styles-ui/src/font-library/modal.tsx", "../../../packages/global-styles-ui/src/font-library/installed-fonts.tsx", "../../../packages/global-styles-ui/src/font-library/font-card.tsx", "../../../packages/global-styles-ui/src/font-library/font-demo.tsx", "../../../packages/global-styles-ui/src/font-library/library-font-variant.tsx", "../../../packages/global-styles-ui/src/font-library/utils/sort-font-faces.ts", "../../../packages/global-styles-ui/src/font-library/font-collection.tsx", "../../../packages/global-styles-ui/src/font-library/utils/filter-fonts.ts", "../../../packages/global-styles-ui/src/font-library/utils/fonts-outline.ts", "../../../packages/global-styles-ui/src/font-library/google-fonts-confirm-dialog.tsx", "../../../packages/global-styles-ui/src/font-library/collection-font-variant.tsx", "../../../packages/global-styles-ui/src/font-library/upload-fonts.tsx", "../../../packages/global-styles-ui/src/font-library/lib/unbrotli.js", "../../../packages/global-styles-ui/src/font-library/lib/inflate.js", "../../../packages/global-styles-ui/src/font-library/lib/lib-font.browser.js", "../../../packages/global-styles-ui/src/font-library/utils/make-families-from-faces.ts", "../../../packages/global-styles-ui/src/font-family-item.tsx", "../../../packages/global-styles-ui/src/font-sizes/font-sizes-count.tsx", "../../../packages/global-styles-ui/src/screen-typography-element.tsx", "../../../packages/global-styles-ui/src/typography-panel.tsx", "../../../packages/global-styles-ui/src/typography-preview.tsx", "../../../packages/global-styles-ui/src/screen-colors.tsx", "../../../packages/global-styles-ui/src/palette.tsx", "../../../packages/global-styles-ui/src/color-indicator-wrapper.tsx", "../../../packages/global-styles-ui/src/screen-color-palette.tsx", "../../../packages/global-styles-ui/src/color-palette-panel.tsx", "../../../packages/global-styles-ui/src/variations/variations-color.tsx", "../../../packages/global-styles-ui/src/preview-colors.tsx", "../../../packages/global-styles-ui/src/preset-colors.tsx", "../../../packages/global-styles-ui/src/gradients-palette-panel.tsx", "../../../packages/global-styles-ui/src/screen-background.tsx", "../../../packages/global-styles-ui/src/background-panel.tsx", "../../../packages/global-styles-ui/src/shadows-panel.tsx", "../../../packages/global-styles-ui/src/confirm-reset-shadow-dialog.tsx", "../../../packages/global-styles-ui/src/shadows-edit-panel.tsx", "../../../packages/global-styles-ui/src/shadow-utils.ts", "../../../packages/global-styles-ui/src/screen-shadows.tsx", "../../../packages/global-styles-ui/src/screen-layout.tsx", "../../../packages/global-styles-ui/src/dimensions-panel.tsx", "../../../packages/global-styles-ui/src/screen-style-variations.tsx", "../../../packages/global-styles-ui/src/style-variations-content.tsx", "../../../packages/global-styles-ui/src/style-variations-container.tsx", "../../../packages/global-styles-ui/src/screen-css.tsx", "../../../packages/global-styles-ui/src/screen-revisions/index.tsx", "../../../packages/global-styles-ui/src/screen-revisions/use-global-styles-revisions.tsx", "../../../packages/global-styles-ui/src/screen-revisions/revisions-buttons.tsx", "../../../packages/global-styles-ui/src/pagination/index.tsx", "../../../packages/global-styles-ui/src/font-sizes/font-sizes.tsx", "../../../packages/global-styles-ui/src/font-sizes/confirm-reset-font-sizes-dialog.tsx", "../../../packages/global-styles-ui/src/font-sizes/font-size.tsx", "../../../packages/global-styles-ui/src/font-sizes/font-size-preview.tsx", "../../../packages/global-styles-ui/src/font-sizes/confirm-delete-font-size-dialog.tsx", "../../../packages/global-styles-ui/src/font-sizes/rename-font-size-dialog.tsx", "../../../packages/global-styles-ui/src/size-control/index.tsx", "../../../packages/global-styles-ui/src/with-global-styles-provider.tsx", "../../../packages/global-styles-ui/src/style-variations.tsx", "../../../packages/global-styles-ui/src/color-variations.tsx", "../../../packages/global-styles-ui/src/typography-variations.tsx", "../../../packages/global-styles-ui/src/font-library/font-library.tsx", "../../../packages/editor/src/components/global-styles/block-link.js", "../../../packages/editor/src/components/global-styles/hooks.js", "../../../packages/editor/src/store/private-selectors.js", "../../../packages/editor/src/dataviews/store/private-selectors.ts", "../../../packages/editor/src/hooks/default-autocompleters.js", "../../../packages/editor/src/components/autocompleters/user.js", "../../../packages/editor/src/components/autosave-monitor/index.js", "../../../packages/editor/src/components/document-bar/index.js", "../../../packages/editor/src/utils/pageTypeBadge.js", "../../../packages/editor/src/components/styles-canvas/index.js", "../../../packages/editor/src/components/styles-canvas/style-book.js", "../../../packages/editor/src/components/style-book/index.js", "../../../packages/editor/src/components/style-book/constants.ts", "../../../packages/editor/src/components/style-book/categories.ts", "../../../packages/editor/src/components/style-book/examples.tsx", "../../../packages/editor/src/components/style-book/color-examples.tsx", "../../../packages/editor/src/components/style-book/duotone-examples.tsx", "../../../packages/editor/src/components/global-styles-renderer/index.js", "../../../packages/editor/src/hooks/use-global-styles-output.js", "../../../packages/editor/src/components/styles-canvas/revisions.js", "../../../packages/editor/src/components/resizable-editor/index.js", "../../../packages/editor/src/components/resizable-editor/resize-handle.js", "../../../packages/editor/src/components/document-bar/useEditedSectionDetails.js", "../../../packages/editor/src/components/document-outline/index.js", "../../../packages/editor/src/components/document-outline/item.js", "../../../packages/editor/src/components/document-outline/check.js", "../../../packages/editor/src/components/global-keyboard-shortcuts/register-shortcuts.js", "../../../packages/editor/src/components/editor-history/redo.js", "../../../packages/editor/src/components/editor-history/undo.js", "../../../packages/editor/src/components/editor-notices/index.js", "../../../packages/editor/src/components/template-validation-notice/index.js", "../../../packages/editor/src/components/editor-snackbars/index.js", "../../../packages/editor/src/components/entities-saved-states/index.js", "../../../packages/editor/src/components/entities-saved-states/entity-type-list.js", "../../../packages/editor/src/components/entities-saved-states/entity-record-item.js", "../../../packages/editor/src/components/entities-saved-states/hooks/use-is-dirty.js", "../../../packages/editor/src/components/error-boundary/index.js", "../../../packages/editor/src/components/local-autosave-monitor/index.js", "../../../packages/editor/src/components/page-attributes/check.js", "../../../packages/editor/src/components/page-attributes/order.js", "../../../packages/editor/src/components/post-type-support-check/index.js", "../../../packages/editor/src/components/page-attributes/panel.js", "../../../packages/editor/src/components/page-attributes/parent.js", "../../../packages/editor/src/components/post-panel-row/index.js", "../../../packages/editor/src/utils/terms.js", "../../../packages/editor/src/components/post-template/classic-theme.js", "../../../packages/editor/src/components/post-template/create-new-template-modal.js", "../../../packages/editor/src/components/post-template/hooks.js", "../../../packages/editor/src/components/plugin-document-setting-panel/index.js", "../../../packages/editor/src/components/preferences-modal/enable-plugin-document-setting-panel.js", "../../../packages/editor/src/components/preferences-modal/enable-panel.js", "../../../packages/editor/src/components/block-settings-menu/plugin-block-settings-menu-item.js", "../../../packages/editor/src/components/plugin-more-menu-item/index.js", "../../../packages/editor/src/components/plugin-post-publish-panel/index.js", "../../../packages/editor/src/components/plugin-post-status-info/index.js", "../../../packages/editor/src/components/plugin-pre-publish-panel/index.js", "../../../packages/editor/src/components/plugin-preview-menu-item/index.js", "../../../packages/editor/src/components/plugin-sidebar/index.js", "../../../packages/editor/src/components/plugin-sidebar-more-menu-item/index.js", "../../../packages/editor/src/components/post-template/panel.js", "../../../packages/editor/src/components/post-template/block-theme.js", "../../../packages/editor/src/components/post-template/swap-template-button.js", "../../../packages/editor/src/utils/search-templates.js", "../../../packages/editor/src/components/post-template/reset-default-template.js", "../../../packages/editor/src/components/post-template/create-new-template.js", "../../../packages/editor/src/components/post-author/index.js", "../../../packages/editor/src/components/post-author/combobox.js", "../../../packages/editor/src/components/post-author/hook.js", "../../../packages/editor/src/components/post-author/constants.js", "../../../packages/editor/src/components/post-author/select.js", "../../../packages/editor/src/components/post-author/check.js", "../../../packages/editor/src/components/post-author/panel.js", "../../../packages/editor/src/components/post-comments/index.js", "../../../packages/editor/src/components/post-discussion/panel.js", "../../../packages/editor/src/components/post-pingbacks/index.js", "../../../packages/editor/src/components/post-excerpt/index.js", "../../../packages/editor/src/components/post-excerpt/check.js", "../../../packages/editor/src/components/post-excerpt/panel.js", "../../../packages/editor/src/components/post-excerpt/plugin.js", "../../../packages/editor/src/components/post-featured-image/index.js", "../../../packages/editor/src/components/theme-support-check/index.js", "../../../packages/editor/src/components/post-featured-image/check.js", "../../../packages/editor/src/components/post-featured-image/panel.js", "../../../packages/editor/src/components/post-format/index.js", "../../../packages/editor/src/components/post-format/check.js", "../../../packages/editor/src/components/post-last-revision/index.js", "../../../packages/editor/src/components/post-last-revision/check.js", "../../../packages/editor/src/components/post-last-revision/panel.js", "../../../packages/editor/src/components/post-locked-modal/index.js", "../../../packages/editor/src/components/post-pending-status/index.js", "../../../packages/editor/src/components/post-pending-status/check.js", "../../../packages/editor/src/components/post-preview-button/index.js", "../../../packages/editor/src/components/post-publish-button/index.js", "../../../packages/editor/src/components/post-publish-button/label.js", "../../../packages/editor/src/components/post-publish-panel/index.js", "../../../packages/editor/src/components/post-publish-panel/prepublish.js", "../../../packages/editor/src/components/post-visibility/index.js", "../../../packages/editor/src/components/post-visibility/utils.js", "../../../packages/editor/src/components/post-visibility/label.js", "../../../node_modules/date-fns/toDate.mjs", "../../../node_modules/date-fns/constants.mjs", "../../../node_modules/date-fns/endOfMonth.mjs", "../../../node_modules/date-fns/startOfMonth.mjs", "../../../node_modules/date-fns/parseISO.mjs", "../../../packages/editor/src/components/post-schedule/index.js", "../../../packages/editor/src/components/post-schedule/label.js", "../../../packages/editor/src/components/post-publish-panel/maybe-tags-panel.js", "../../../packages/editor/src/components/post-taxonomies/flat-term-selector.js", "../../../packages/editor/src/components/post-taxonomies/most-used-terms.js", "../../../packages/editor/src/components/post-publish-panel/maybe-post-format-panel.js", "../../../packages/editor/src/components/post-publish-panel/maybe-category-panel.js", "../../../packages/editor/src/components/post-taxonomies/hierarchical-term-selector.js", "../../../packages/editor/src/components/post-publish-panel/maybe-upload-media.js", "../../../packages/editor/src/components/post-publish-panel/media-util.js", "../../../packages/editor/src/components/post-publish-panel/postpublish.js", "../../../packages/editor/src/components/post-saved-state/index.js", "../../../packages/editor/src/components/post-status/index.js", "../../../packages/editor/src/components/post-sticky/index.js", "../../../packages/editor/src/components/post-sticky/check.js", "../../../packages/editor/src/components/post-schedule/check.js", "../../../packages/editor/src/components/post-schedule/panel.js", "../../../packages/editor/src/components/post-switch-to-draft-button/index.js", "../../../packages/editor/src/components/post-sync-status/index.js", "../../../packages/editor/src/components/post-taxonomies/index.js", "../../../packages/editor/src/components/post-taxonomies/check.js", "../../../packages/editor/src/components/post-taxonomies/panel.js", "../../../packages/editor/src/components/post-text-editor/index.js", "../../../packages/editor/src/components/post-title/index.js", "../../../packages/editor/src/components/post-title/constants.js", "../../../packages/editor/src/components/post-title/use-post-title-focus.js", "../../../packages/editor/src/components/post-title/use-post-title.js", "../../../packages/editor/src/components/post-title/post-title-raw.js", "../../../packages/editor/src/components/post-trash/index.js", "../../../packages/editor/src/components/post-trash/check.js", "../../../packages/editor/src/components/post-url/index.js", "../../../packages/editor/src/components/post-url/check.js", "../../../packages/editor/src/components/post-url/label.js", "../../../packages/editor/src/components/post-url/panel.js", "../../../packages/editor/src/components/post-visibility/check.js", "../../../packages/editor/src/components/table-of-contents/index.js", "../../../packages/editor/src/components/table-of-contents/panel.js", "../../../packages/editor/src/components/word-count/index.js", "../../../packages/editor/src/components/time-to-read/index.js", "../../../packages/editor/src/components/character-count/index.js", "../../../packages/editor/src/components/unsaved-changes-warning/index.js", "../../../packages/editor/src/components/deprecated.js", "../../../packages/editor/src/components/index.js", "../../../packages/editor/src/hooks/media-upload.js", "../../../packages/editor/src/hooks/pattern-overrides.js", "../../../packages/editor/src/hooks/navigation-link-view-button.js", "../../../packages/editor/src/hooks/template-part-navigation-edit-button.js", "../../../packages/editor/src/hooks/push-changes-to-global-styles/index.js", "../../../packages/editor/src/utils/set-nested-value.js", "../../../packages/editor/src/components/header/back-button.js", "../../../packages/editor/src/components/editor/index.js", "../../../packages/editor/src/utils/block-selection-path.js", "../../../packages/editor/src/components/editor-interface/index.js", "../../../packages/editor/src/components/header/index.js", "../../../packages/editor/src/components/collapsible-block-toolbar/index.js", "../../../packages/editor/src/components/document-tools/index.js", "../../../packages/editor/src/components/header/header-skeleton.js", "../../../packages/editor/src/components/more-menu/index.js", "../../../packages/editor/src/components/more-menu/copy-content-menu-item.js", "../../../packages/editor/src/components/mode-switcher/index.js", "../../../packages/editor/src/components/more-menu/tools-more-menu-group.js", "../../../packages/editor/src/components/more-menu/view-more-menu-group.js", "../../../packages/editor/src/components/post-publish-button/post-publish-button-or-toggle.js", "../../../packages/editor/src/components/post-view-link/index.js", "../../../packages/editor/src/components/preview-dropdown/index.js", "../../../packages/editor/src/components/zoom-out-toggle/index.js", "../../../packages/editor/src/components/editor-presence/index.tsx", "../../../packages/editor/src/components/inserter-sidebar/index.js", "../../../packages/editor/src/components/list-view-sidebar/index.js", "../../../packages/editor/src/components/list-view-sidebar/list-view-outline.js", "../../../packages/editor/src/components/post-revisions-preview/revisions-header.js", "../../../packages/editor/src/components/post-revisions-preview/revisions-slider.js", "../../../packages/editor/src/components/post-revisions-preview/revisions-canvas.js", "../../../packages/editor/src/components/visual-editor/index.js", "../../../packages/editor/src/components/visual-editor/edit-template-blocks-notification.js", "../../../packages/editor/src/components/visual-editor/use-select-nearest-editable-block.js", "../../../packages/editor/src/components/visual-editor/use-zoom-out-mode-exit.js", "../../../packages/editor/src/components/visual-editor/use-padding-appender.js", "../../../packages/editor/src/components/visual-editor/use-edit-content-only-section-exit.js", "../../../packages/editor/src/components/sync-connection-modal/index.js", "../../../packages/editor/src/components/post-revisions-preview/preserve-client-ids.js", "../../../packages/editor/src/components/save-publish-panels/index.js", "../../../packages/editor/src/components/text-editor/index.js", "../../../packages/media-editor/src/components/media-editor-provider/index.tsx", "../../../packages/media-editor/src/components/media-preview/index.tsx", "../../../packages/media-editor/src/utils/get-media-type.ts", "../../../packages/ui/src/badge/badge.tsx", "../../../node_modules/@base-ui/utils/esm/useRefWithInit.js", "../../../node_modules/@base-ui/utils/esm/formatErrorMessage.js", "../../../node_modules/@base-ui/react/esm/utils/useRenderElement.js", "../../../node_modules/@base-ui/utils/esm/useMergedRefs.js", "../../../node_modules/@base-ui/utils/esm/getReactElementRef.js", "../../../node_modules/@base-ui/utils/esm/reactVersion.js", "../../../node_modules/@base-ui/utils/esm/mergeObjects.js", "../../../node_modules/@base-ui/react/esm/utils/getStateAttributesProps.js", "../../../node_modules/@base-ui/react/esm/utils/resolveClassName.js", "../../../node_modules/@base-ui/react/esm/utils/resolveStyle.js", "../../../node_modules/@base-ui/react/esm/merge-props/mergeProps.js", "../../../node_modules/@base-ui/utils/esm/empty.js", "../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs", "../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs", "../../../node_modules/@floating-ui/core/dist/floating-ui.core.mjs", "../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs", "../../../node_modules/@base-ui/react/esm/use-render/useRender.js", "../../../packages/ui/src/box/box.tsx", "../../../packages/ui/src/stack/stack.tsx", "../../../packages/ui/src/stack/style.module.css", "../../../packages/dataviews/src/constants.ts", "../../../packages/dataviews/src/lock-unlock.ts", "../../../packages/dataviews/src/hooks/use-elements.ts", "../../../packages/dataviews/node_modules/date-fns/constants.js", "../../../packages/dataviews/node_modules/date-fns/constructFrom.js", "../../../packages/dataviews/node_modules/date-fns/toDate.js", "../../../packages/dataviews/node_modules/date-fns/addDays.js", "../../../packages/dataviews/node_modules/date-fns/addMonths.js", "../../../packages/dataviews/node_modules/date-fns/_lib/defaultOptions.js", "../../../packages/dataviews/node_modules/date-fns/startOfWeek.js", "../../../packages/dataviews/node_modules/date-fns/startOfISOWeek.js", "../../../packages/dataviews/node_modules/date-fns/getISOWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js", "../../../packages/dataviews/node_modules/date-fns/_lib/normalizeDates.js", "../../../packages/dataviews/node_modules/date-fns/startOfDay.js", "../../../packages/dataviews/node_modules/date-fns/differenceInCalendarDays.js", "../../../packages/dataviews/node_modules/date-fns/startOfISOWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/addWeeks.js", "../../../packages/dataviews/node_modules/date-fns/addYears.js", "../../../packages/dataviews/node_modules/date-fns/isDate.js", "../../../packages/dataviews/node_modules/date-fns/isValid.js", "../../../packages/dataviews/node_modules/date-fns/startOfMonth.js", "../../../packages/dataviews/node_modules/date-fns/startOfYear.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/formatDistance.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildFormatLongFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/formatLong.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/formatRelative.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildLocalizeFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/localize.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildMatchFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/_lib/buildMatchPatternFn.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US/_lib/match.js", "../../../packages/dataviews/node_modules/date-fns/locale/en-US.js", "../../../packages/dataviews/node_modules/date-fns/getDayOfYear.js", "../../../packages/dataviews/node_modules/date-fns/getISOWeek.js", "../../../packages/dataviews/node_modules/date-fns/getWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/startOfWeekYear.js", "../../../packages/dataviews/node_modules/date-fns/getWeek.js", "../../../packages/dataviews/node_modules/date-fns/_lib/addLeadingZeros.js", "../../../packages/dataviews/node_modules/date-fns/_lib/format/lightFormatters.js", "../../../packages/dataviews/node_modules/date-fns/_lib/format/formatters.js", "../../../packages/dataviews/node_modules/date-fns/_lib/format/longFormatters.js", "../../../packages/dataviews/node_modules/date-fns/_lib/protectedTokens.js", "../../../packages/dataviews/node_modules/date-fns/format.js", "../../../packages/dataviews/node_modules/date-fns/subDays.js", "../../../packages/dataviews/node_modules/date-fns/subMonths.js", "../../../packages/dataviews/node_modules/date-fns/subWeeks.js", "../../../packages/dataviews/node_modules/date-fns/subYears.js", "../../../packages/dataviews/src/utils/operators.tsx", "../../../packages/dataviews/src/components/dataform-controls/checkbox.tsx", "../../../packages/dataviews/src/components/dataform-controls/utils/get-custom-validity.ts", "../../../packages/dataviews/src/components/dataform-controls/combobox.tsx", "../../../packages/dataviews/src/components/dataform-controls/datetime.tsx", "../../../packages/dataviews/src/components/dataform-controls/utils/relative-date-control.tsx", "../../../packages/dataviews/src/field-types/utils/parse-date-time.ts", "../../../packages/dataviews/src/components/dataform-controls/date.tsx", "../../../packages/dataviews/src/components/dataform-controls/email.tsx", "../../../packages/dataviews/src/components/dataform-controls/utils/validated-input.tsx", "../../../packages/dataviews/src/components/dataform-controls/telephone.tsx", "../../../packages/dataviews/src/components/dataform-controls/url.tsx", "../../../packages/dataviews/src/components/dataform-controls/utils/validated-number.tsx", "../../../packages/dataviews/src/components/dataform-controls/integer.tsx", "../../../packages/dataviews/src/components/dataform-controls/number.tsx", "../../../packages/dataviews/src/components/dataform-controls/radio.tsx", "../../../packages/dataviews/src/components/dataform-controls/select.tsx", "../../../packages/dataviews/src/components/dataform-controls/text.tsx", "../../../packages/dataviews/src/components/dataform-controls/toggle.tsx", "../../../packages/dataviews/src/components/dataform-controls/textarea.tsx", "../../../packages/dataviews/src/components/dataform-controls/toggle-group.tsx", "../../../packages/dataviews/src/components/dataform-controls/array.tsx", "../../../packages/dataviews/src/components/dataform-controls/color.tsx", "../../../packages/dataviews/src/components/dataform-controls/password.tsx", "../../../packages/dataviews/src/field-types/utils/has-elements.ts", "../../../packages/dataviews/src/components/dataform-controls/index.tsx", "../../../packages/dataviews/src/field-types/utils/get-filter-by.ts", "../../../packages/dataviews/src/field-types/utils/get-value-from-id.ts", "../../../packages/dataviews/src/field-types/utils/set-value-from-id.ts", "../../../packages/dataviews/src/field-types/email.tsx", "../../../packages/dataviews/src/field-types/utils/render-from-elements.tsx", "../../../packages/dataviews/src/field-types/utils/render-default.tsx", "../../../packages/dataviews/src/field-types/utils/sort-text.ts", "../../../packages/dataviews/src/field-types/utils/is-valid-required.ts", "../../../packages/dataviews/src/field-types/utils/is-valid-min-length.ts", "../../../packages/dataviews/src/field-types/utils/is-valid-max-length.ts", "../../../packages/dataviews/src/field-types/utils/is-valid-pattern.ts", "../../../packages/dataviews/src/field-types/utils/is-valid-elements.ts", "../../../packages/dataviews/src/field-types/utils/get-value-formatted-default.ts", "../../../packages/dataviews/src/field-types/integer.tsx", "../../../packages/dataviews/src/field-types/utils/sort-number.ts", "../../../packages/dataviews/src/field-types/utils/is-valid-min.ts", "../../../packages/dataviews/src/field-types/utils/is-valid-max.ts", "../../../packages/dataviews/src/field-types/number.tsx", "../../../packages/dataviews/src/field-types/text.tsx", "../../../packages/dataviews/src/field-types/datetime.tsx", "../../../packages/dataviews/src/field-types/date.tsx", "../../../packages/dataviews/src/field-types/boolean.tsx", "../../../packages/dataviews/src/field-types/utils/is-valid-required-for-bool.ts", "../../../packages/dataviews/src/field-types/media.tsx", "../../../packages/dataviews/src/field-types/array.tsx", "../../../packages/dataviews/src/field-types/utils/is-valid-required-for-array.ts", "../../../packages/dataviews/src/field-types/password.tsx", "../../../packages/dataviews/src/field-types/telephone.tsx", "../../../packages/dataviews/src/field-types/color.tsx", "../../../packages/dataviews/src/field-types/url.tsx", "../../../packages/dataviews/src/field-types/no-type.tsx", "../../../packages/dataviews/src/field-types/utils/get-is-valid.ts", "../../../packages/dataviews/src/field-types/utils/get-filter.ts", "../../../packages/dataviews/src/field-types/utils/get-format.ts", "../../../packages/dataviews/src/field-types/index.tsx", "../../../packages/dataviews/src/dataform/index.tsx", "../../../packages/dataviews/src/components/dataform-context/index.tsx", "../../../packages/dataviews/src/components/dataform-layouts/data-form-layout.tsx", "../../../packages/dataviews/src/components/dataform-layouts/regular/index.tsx", "../../../packages/dataviews/src/components/dataform-layouts/normalize-form.ts", "../../../packages/dataviews/src/components/dataform-layouts/panel/index.tsx", "../../../packages/dataviews/src/components/dataform-layouts/panel/dropdown.tsx", "../../../packages/dataviews/src/components/dataform-layouts/panel/summary-button.tsx", "../../../packages/dataviews/src/hooks/use-report-validity.ts", "../../../packages/dataviews/src/components/dataform-layouts/panel/modal.tsx", "../../../packages/dataviews/src/hooks/use-form-validity.ts", "../../../packages/dataviews/src/components/dataform-layouts/get-summary-fields.ts", "../../../packages/dataviews/src/components/dataform-layouts/card/index.tsx", "../../../packages/dataviews/src/components/dataform-layouts/validation-badge.tsx", "../../../packages/dataviews/src/components/dataform-layouts/row/index.tsx", "../../../packages/dataviews/src/components/dataform-layouts/details/index.tsx", "../../../packages/dataviews/src/components/dataform-layouts/index.tsx", "../../../packages/media-editor/src/components/media-form/index.tsx", "../../../packages/editor/src/components/media/preview.js", "../../../packages/editor/src/components/media/metadata-panel.js", "../../../packages/editor/src/components/post-fields/index.ts", "../../../packages/editor/src/components/post-card-panel/index.js", "../../../packages/editor/src/components/post-actions/index.js", "../../../packages/editor/src/components/post-actions/actions.js", "../../../packages/editor/src/components/post-actions/set-as-homepage.js", "../../../packages/editor/src/utils/get-item-title.js", "../../../packages/editor/src/components/post-actions/set-as-posts-page.js", "../../../packages/editor/src/components/post-panel-section/index.js", "../../../packages/editor/src/components/sidebar/index.js", "../../../packages/editor/src/components/pattern-overrides-panel/index.js", "../../../packages/editor/src/components/sidebar/post-summary.js", "../../../packages/editor/src/components/post-content-information/index.js", "../../../packages/editor/src/components/post-format/panel.js", "../../../packages/editor/src/components/post-last-edited-panel/index.js", "../../../packages/editor/src/components/revision-created-panel/index.js", "../../../packages/editor/src/components/blog-title/index.js", "../../../packages/editor/src/components/posts-per-page/index.js", "../../../packages/editor/src/components/site-discussion/index.js", "../../../packages/editor/src/components/revision-author-panel/index.js", "../../../packages/editor/src/components/post-transform-panel/index.js", "../../../packages/editor/src/components/post-transform-panel/hooks.js", "../../../packages/editor/src/components/sidebar/header.js", "../../../packages/editor/src/components/sidebar/constants.js", "../../../packages/editor/src/components/template-content-panel/index.js", "../../../packages/editor/src/components/template-part-content-panel/index.js", "../../../packages/editor/src/components/provider/use-auto-switch-editor-sidebars.js", "../../../packages/editor/src/components/collab-sidebar/index.js", "../../../packages/editor/src/components/collab-sidebar/constants.js", "../../../packages/editor/src/components/collab-sidebar/comments.js", "../../../packages/editor/src/components/collab-sidebar/comment-author-info.js", "../../../packages/editor/src/components/collab-sidebar/utils.js", "../../../packages/editor/src/components/collab-sidebar/comment-form.js", "../../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs", "../../../packages/editor/src/components/collab-sidebar/hooks.js", "../../../packages/editor/src/components/collab-sidebar/add-comment.js", "../../../packages/editor/src/components/collab-sidebar/comment-menu-item.js", "../../../packages/editor/src/components/collab-sidebar/comment-indicator-toolbar.js", "../../../packages/editor/src/components/global-styles-sidebar/index.js", "../../../packages/editor/src/components/global-styles/menu.js", "../../../packages/editor/src/components/global-styles-sidebar/default-sidebar.js", "../../../packages/editor/src/components/global-styles-sidebar/welcome-guide.js", "../../../packages/editor/src/components/global-styles-sidebar/welcome-guide-image.js", "../../../packages/editor/src/components/preferences-modal/index.js", "../../../packages/editor/src/components/preferences-modal/enable-publish-sidebar.js", "../../../packages/editor/src/components/block-visibility/index.js", "../../../packages/editor/src/bindings/api.js", "../../../packages/editor/src/bindings/pattern-overrides.js", "../../../packages/editor/src/bindings/post-data.js", "../../../packages/editor/src/bindings/post-meta.js", "../../../packages/editor/src/bindings/term-data.js", "../../../packages/editor/src/private-apis.js", "../../../packages/editor/src/dataviews/api.js", "../../../packages/editor/src/index.js"],
  "sourcesContent": ["module.exports = window.wp.data;", "module.exports = window.wp.coreData;", "module.exports = window.wp.element;", "module.exports = window.wp.compose;", "module.exports = window.wp.hooks;", "module.exports = window.wp.blockEditor;", "module.exports = window.wp.blocks;", "module.exports = window.wp.date;", "module.exports = window.wp.url;", "module.exports = window.wp.deprecated;", "module.exports = window.wp.preferences;", "module.exports = window.wp.primitives;", "module.exports = window.ReactJSXRuntime;", "module.exports = window.wp.privateApis;", "module.exports = window.wp.a11y;", "module.exports = window.wp.apiFetch;", "module.exports = window.wp.notices;", "module.exports = window.wp.i18n;", "module.exports = window.wp.htmlEntities;", "module.exports = window.wp.components;", "module.exports = window.wp.patterns;", "module.exports = window.wp.blob;", "module.exports = window.wp.mediaUtils;", "var characterMap = {\n\t\"\u00C0\": \"A\",\n\t\"\u00C1\": \"A\",\n\t\"\u00C2\": \"A\",\n\t\"\u00C3\": \"A\",\n\t\"\u00C4\": \"A\",\n\t\"\u00C5\": \"A\",\n\t\"\u1EA4\": \"A\",\n\t\"\u1EAE\": \"A\",\n\t\"\u1EB2\": \"A\",\n\t\"\u1EB4\": \"A\",\n\t\"\u1EB6\": \"A\",\n\t\"\u00C6\": \"AE\",\n\t\"\u1EA6\": \"A\",\n\t\"\u1EB0\": \"A\",\n\t\"\u0202\": \"A\",\n\t\"\u1EA2\": \"A\",\n\t\"\u1EA0\": \"A\",\n\t\"\u1EA8\": \"A\",\n\t\"\u1EAA\": \"A\",\n\t\"\u1EAC\": \"A\",\n\t\"\u00C7\": \"C\",\n\t\"\u1E08\": \"C\",\n\t\"\u00C8\": \"E\",\n\t\"\u00C9\": \"E\",\n\t\"\u00CA\": \"E\",\n\t\"\u00CB\": \"E\",\n\t\"\u1EBE\": \"E\",\n\t\"\u1E16\": \"E\",\n\t\"\u1EC0\": \"E\",\n\t\"\u1E14\": \"E\",\n\t\"\u1E1C\": \"E\",\n\t\"\u0206\": \"E\",\n\t\"\u1EBA\": \"E\",\n\t\"\u1EBC\": \"E\",\n\t\"\u1EB8\": \"E\",\n\t\"\u1EC2\": \"E\",\n\t\"\u1EC4\": \"E\",\n\t\"\u1EC6\": \"E\",\n\t\"\u00CC\": \"I\",\n\t\"\u00CD\": \"I\",\n\t\"\u00CE\": \"I\",\n\t\"\u00CF\": \"I\",\n\t\"\u1E2E\": \"I\",\n\t\"\u020A\": \"I\",\n\t\"\u1EC8\": \"I\",\n\t\"\u1ECA\": \"I\",\n\t\"\u00D0\": \"D\",\n\t\"\u00D1\": \"N\",\n\t\"\u00D2\": \"O\",\n\t\"\u00D3\": \"O\",\n\t\"\u00D4\": \"O\",\n\t\"\u00D5\": \"O\",\n\t\"\u00D6\": \"O\",\n\t\"\u00D8\": \"O\",\n\t\"\u1ED0\": \"O\",\n\t\"\u1E4C\": \"O\",\n\t\"\u1E52\": \"O\",\n\t\"\u020E\": \"O\",\n\t\"\u1ECE\": \"O\",\n\t\"\u1ECC\": \"O\",\n\t\"\u1ED4\": \"O\",\n\t\"\u1ED6\": \"O\",\n\t\"\u1ED8\": \"O\",\n\t\"\u1EDC\": \"O\",\n\t\"\u1EDE\": \"O\",\n\t\"\u1EE0\": \"O\",\n\t\"\u1EDA\": \"O\",\n\t\"\u1EE2\": \"O\",\n\t\"\u00D9\": \"U\",\n\t\"\u00DA\": \"U\",\n\t\"\u00DB\": \"U\",\n\t\"\u00DC\": \"U\",\n\t\"\u1EE6\": \"U\",\n\t\"\u1EE4\": \"U\",\n\t\"\u1EEC\": \"U\",\n\t\"\u1EEE\": \"U\",\n\t\"\u1EF0\": \"U\",\n\t\"\u00DD\": \"Y\",\n\t\"\u00E0\": \"a\",\n\t\"\u00E1\": \"a\",\n\t\"\u00E2\": \"a\",\n\t\"\u00E3\": \"a\",\n\t\"\u00E4\": \"a\",\n\t\"\u00E5\": \"a\",\n\t\"\u1EA5\": \"a\",\n\t\"\u1EAF\": \"a\",\n\t\"\u1EB3\": \"a\",\n\t\"\u1EB5\": \"a\",\n\t\"\u1EB7\": \"a\",\n\t\"\u00E6\": \"ae\",\n\t\"\u1EA7\": \"a\",\n\t\"\u1EB1\": \"a\",\n\t\"\u0203\": \"a\",\n\t\"\u1EA3\": \"a\",\n\t\"\u1EA1\": \"a\",\n\t\"\u1EA9\": \"a\",\n\t\"\u1EAB\": \"a\",\n\t\"\u1EAD\": \"a\",\n\t\"\u00E7\": \"c\",\n\t\"\u1E09\": \"c\",\n\t\"\u00E8\": \"e\",\n\t\"\u00E9\": \"e\",\n\t\"\u00EA\": \"e\",\n\t\"\u00EB\": \"e\",\n\t\"\u1EBF\": \"e\",\n\t\"\u1E17\": \"e\",\n\t\"\u1EC1\": \"e\",\n\t\"\u1E15\": \"e\",\n\t\"\u1E1D\": \"e\",\n\t\"\u0207\": \"e\",\n\t\"\u1EBB\": \"e\",\n\t\"\u1EBD\": \"e\",\n\t\"\u1EB9\": \"e\",\n\t\"\u1EC3\": \"e\",\n\t\"\u1EC5\": \"e\",\n\t\"\u1EC7\": \"e\",\n\t\"\u00EC\": \"i\",\n\t\"\u00ED\": \"i\",\n\t\"\u00EE\": \"i\",\n\t\"\u00EF\": \"i\",\n\t\"\u1E2F\": \"i\",\n\t\"\u020B\": \"i\",\n\t\"\u1EC9\": \"i\",\n\t\"\u1ECB\": \"i\",\n\t\"\u00F0\": \"d\",\n\t\"\u00F1\": \"n\",\n\t\"\u00F2\": \"o\",\n\t\"\u00F3\": \"o\",\n\t\"\u00F4\": \"o\",\n\t\"\u00F5\": \"o\",\n\t\"\u00F6\": \"o\",\n\t\"\u00F8\": \"o\",\n\t\"\u1ED1\": \"o\",\n\t\"\u1E4D\": \"o\",\n\t\"\u1E53\": \"o\",\n\t\"\u020F\": \"o\",\n\t\"\u1ECF\": \"o\",\n\t\"\u1ECD\": \"o\",\n\t\"\u1ED5\": \"o\",\n\t\"\u1ED7\": \"o\",\n\t\"\u1ED9\": \"o\",\n\t\"\u1EDD\": \"o\",\n\t\"\u1EDF\": \"o\",\n\t\"\u1EE1\": \"o\",\n\t\"\u1EDB\": \"o\",\n\t\"\u1EE3\": \"o\",\n\t\"\u00F9\": \"u\",\n\t\"\u00FA\": \"u\",\n\t\"\u00FB\": \"u\",\n\t\"\u00FC\": \"u\",\n\t\"\u1EE7\": \"u\",\n\t\"\u1EE5\": \"u\",\n\t\"\u1EED\": \"u\",\n\t\"\u1EEF\": \"u\",\n\t\"\u1EF1\": \"u\",\n\t\"\u00FD\": \"y\",\n\t\"\u00FF\": \"y\",\n\t\"\u0100\": \"A\",\n\t\"\u0101\": \"a\",\n\t\"\u0102\": \"A\",\n\t\"\u0103\": \"a\",\n\t\"\u0104\": \"A\",\n\t\"\u0105\": \"a\",\n\t\"\u0106\": \"C\",\n\t\"\u0107\": \"c\",\n\t\"\u0108\": \"C\",\n\t\"\u0109\": \"c\",\n\t\"\u010A\": \"C\",\n\t\"\u010B\": \"c\",\n\t\"\u010C\": \"C\",\n\t\"\u010D\": \"c\",\n\t\"C\u0306\": \"C\",\n\t\"c\u0306\": \"c\",\n\t\"\u010E\": \"D\",\n\t\"\u010F\": \"d\",\n\t\"\u0110\": \"D\",\n\t\"\u0111\": \"d\",\n\t\"\u0112\": \"E\",\n\t\"\u0113\": \"e\",\n\t\"\u0114\": \"E\",\n\t\"\u0115\": \"e\",\n\t\"\u0116\": \"E\",\n\t\"\u0117\": \"e\",\n\t\"\u0118\": \"E\",\n\t\"\u0119\": \"e\",\n\t\"\u011A\": \"E\",\n\t\"\u011B\": \"e\",\n\t\"\u011C\": \"G\",\n\t\"\u01F4\": \"G\",\n\t\"\u011D\": \"g\",\n\t\"\u01F5\": \"g\",\n\t\"\u011E\": \"G\",\n\t\"\u011F\": \"g\",\n\t\"\u0120\": \"G\",\n\t\"\u0121\": \"g\",\n\t\"\u0122\": \"G\",\n\t\"\u0123\": \"g\",\n\t\"\u0124\": \"H\",\n\t\"\u0125\": \"h\",\n\t\"\u0126\": \"H\",\n\t\"\u0127\": \"h\",\n\t\"\u1E2A\": \"H\",\n\t\"\u1E2B\": \"h\",\n\t\"\u0128\": \"I\",\n\t\"\u0129\": \"i\",\n\t\"\u012A\": \"I\",\n\t\"\u012B\": \"i\",\n\t\"\u012C\": \"I\",\n\t\"\u012D\": \"i\",\n\t\"\u012E\": \"I\",\n\t\"\u012F\": \"i\",\n\t\"\u0130\": \"I\",\n\t\"\u0131\": \"i\",\n\t\"\u0132\": \"IJ\",\n\t\"\u0133\": \"ij\",\n\t\"\u0134\": \"J\",\n\t\"\u0135\": \"j\",\n\t\"\u0136\": \"K\",\n\t\"\u0137\": \"k\",\n\t\"\u1E30\": \"K\",\n\t\"\u1E31\": \"k\",\n\t\"K\u0306\": \"K\",\n\t\"k\u0306\": \"k\",\n\t\"\u0139\": \"L\",\n\t\"\u013A\": \"l\",\n\t\"\u013B\": \"L\",\n\t\"\u013C\": \"l\",\n\t\"\u013D\": \"L\",\n\t\"\u013E\": \"l\",\n\t\"\u013F\": \"L\",\n\t\"\u0140\": \"l\",\n\t\"\u0141\": \"l\",\n\t\"\u0142\": \"l\",\n\t\"\u1E3E\": \"M\",\n\t\"\u1E3F\": \"m\",\n\t\"M\u0306\": \"M\",\n\t\"m\u0306\": \"m\",\n\t\"\u0143\": \"N\",\n\t\"\u0144\": \"n\",\n\t\"\u0145\": \"N\",\n\t\"\u0146\": \"n\",\n\t\"\u0147\": \"N\",\n\t\"\u0148\": \"n\",\n\t\"\u0149\": \"n\",\n\t\"N\u0306\": \"N\",\n\t\"n\u0306\": \"n\",\n\t\"\u014C\": \"O\",\n\t\"\u014D\": \"o\",\n\t\"\u014E\": \"O\",\n\t\"\u014F\": \"o\",\n\t\"\u0150\": \"O\",\n\t\"\u0151\": \"o\",\n\t\"\u0152\": \"OE\",\n\t\"\u0153\": \"oe\",\n\t\"P\u0306\": \"P\",\n\t\"p\u0306\": \"p\",\n\t\"\u0154\": \"R\",\n\t\"\u0155\": \"r\",\n\t\"\u0156\": \"R\",\n\t\"\u0157\": \"r\",\n\t\"\u0158\": \"R\",\n\t\"\u0159\": \"r\",\n\t\"R\u0306\": \"R\",\n\t\"r\u0306\": \"r\",\n\t\"\u0212\": \"R\",\n\t\"\u0213\": \"r\",\n\t\"\u015A\": \"S\",\n\t\"\u015B\": \"s\",\n\t\"\u015C\": \"S\",\n\t\"\u015D\": \"s\",\n\t\"\u015E\": \"S\",\n\t\"\u0218\": \"S\",\n\t\"\u0219\": \"s\",\n\t\"\u015F\": \"s\",\n\t\"\u0160\": \"S\",\n\t\"\u0161\": \"s\",\n\t\"\u0162\": \"T\",\n\t\"\u0163\": \"t\",\n\t\"\u021B\": \"t\",\n\t\"\u021A\": \"T\",\n\t\"\u0164\": \"T\",\n\t\"\u0165\": \"t\",\n\t\"\u0166\": \"T\",\n\t\"\u0167\": \"t\",\n\t\"T\u0306\": \"T\",\n\t\"t\u0306\": \"t\",\n\t\"\u0168\": \"U\",\n\t\"\u0169\": \"u\",\n\t\"\u016A\": \"U\",\n\t\"\u016B\": \"u\",\n\t\"\u016C\": \"U\",\n\t\"\u016D\": \"u\",\n\t\"\u016E\": \"U\",\n\t\"\u016F\": \"u\",\n\t\"\u0170\": \"U\",\n\t\"\u0171\": \"u\",\n\t\"\u0172\": \"U\",\n\t\"\u0173\": \"u\",\n\t\"\u0216\": \"U\",\n\t\"\u0217\": \"u\",\n\t\"V\u0306\": \"V\",\n\t\"v\u0306\": \"v\",\n\t\"\u0174\": \"W\",\n\t\"\u0175\": \"w\",\n\t\"\u1E82\": \"W\",\n\t\"\u1E83\": \"w\",\n\t\"X\u0306\": \"X\",\n\t\"x\u0306\": \"x\",\n\t\"\u0176\": \"Y\",\n\t\"\u0177\": \"y\",\n\t\"\u0178\": \"Y\",\n\t\"Y\u0306\": \"Y\",\n\t\"y\u0306\": \"y\",\n\t\"\u0179\": \"Z\",\n\t\"\u017A\": \"z\",\n\t\"\u017B\": \"Z\",\n\t\"\u017C\": \"z\",\n\t\"\u017D\": \"Z\",\n\t\"\u017E\": \"z\",\n\t\"\u017F\": \"s\",\n\t\"\u0192\": \"f\",\n\t\"\u01A0\": \"O\",\n\t\"\u01A1\": \"o\",\n\t\"\u01AF\": \"U\",\n\t\"\u01B0\": \"u\",\n\t\"\u01CD\": \"A\",\n\t\"\u01CE\": \"a\",\n\t\"\u01CF\": \"I\",\n\t\"\u01D0\": \"i\",\n\t\"\u01D1\": \"O\",\n\t\"\u01D2\": \"o\",\n\t\"\u01D3\": \"U\",\n\t\"\u01D4\": \"u\",\n\t\"\u01D5\": \"U\",\n\t\"\u01D6\": \"u\",\n\t\"\u01D7\": \"U\",\n\t\"\u01D8\": \"u\",\n\t\"\u01D9\": \"U\",\n\t\"\u01DA\": \"u\",\n\t\"\u01DB\": \"U\",\n\t\"\u01DC\": \"u\",\n\t\"\u1EE8\": \"U\",\n\t\"\u1EE9\": \"u\",\n\t\"\u1E78\": \"U\",\n\t\"\u1E79\": \"u\",\n\t\"\u01FA\": \"A\",\n\t\"\u01FB\": \"a\",\n\t\"\u01FC\": \"AE\",\n\t\"\u01FD\": \"ae\",\n\t\"\u01FE\": \"O\",\n\t\"\u01FF\": \"o\",\n\t\"\u00DE\": \"TH\",\n\t\"\u00FE\": \"th\",\n\t\"\u1E54\": \"P\",\n\t\"\u1E55\": \"p\",\n\t\"\u1E64\": \"S\",\n\t\"\u1E65\": \"s\",\n\t\"X\u0301\": \"X\",\n\t\"x\u0301\": \"x\",\n\t\"\u0403\": \"\u0413\",\n\t\"\u0453\": \"\u0433\",\n\t\"\u040C\": \"\u041A\",\n\t\"\u045C\": \"\u043A\",\n\t\"A\u030B\": \"A\",\n\t\"a\u030B\": \"a\",\n\t\"E\u030B\": \"E\",\n\t\"e\u030B\": \"e\",\n\t\"I\u030B\": \"I\",\n\t\"i\u030B\": \"i\",\n\t\"\u01F8\": \"N\",\n\t\"\u01F9\": \"n\",\n\t\"\u1ED2\": \"O\",\n\t\"\u1ED3\": \"o\",\n\t\"\u1E50\": \"O\",\n\t\"\u1E51\": \"o\",\n\t\"\u1EEA\": \"U\",\n\t\"\u1EEB\": \"u\",\n\t\"\u1E80\": \"W\",\n\t\"\u1E81\": \"w\",\n\t\"\u1EF2\": \"Y\",\n\t\"\u1EF3\": \"y\",\n\t\"\u0200\": \"A\",\n\t\"\u0201\": \"a\",\n\t\"\u0204\": \"E\",\n\t\"\u0205\": \"e\",\n\t\"\u0208\": \"I\",\n\t\"\u0209\": \"i\",\n\t\"\u020C\": \"O\",\n\t\"\u020D\": \"o\",\n\t\"\u0210\": \"R\",\n\t\"\u0211\": \"r\",\n\t\"\u0214\": \"U\",\n\t\"\u0215\": \"u\",\n\t\"B\u030C\": \"B\",\n\t\"b\u030C\": \"b\",\n\t\"\u010C\u0323\": \"C\",\n\t\"\u010D\u0323\": \"c\",\n\t\"\u00CA\u030C\": \"E\",\n\t\"\u00EA\u030C\": \"e\",\n\t\"F\u030C\": \"F\",\n\t\"f\u030C\": \"f\",\n\t\"\u01E6\": \"G\",\n\t\"\u01E7\": \"g\",\n\t\"\u021E\": \"H\",\n\t\"\u021F\": \"h\",\n\t\"J\u030C\": \"J\",\n\t\"\u01F0\": \"j\",\n\t\"\u01E8\": \"K\",\n\t\"\u01E9\": \"k\",\n\t\"M\u030C\": \"M\",\n\t\"m\u030C\": \"m\",\n\t\"P\u030C\": \"P\",\n\t\"p\u030C\": \"p\",\n\t\"Q\u030C\": \"Q\",\n\t\"q\u030C\": \"q\",\n\t\"\u0158\u0329\": \"R\",\n\t\"\u0159\u0329\": \"r\",\n\t\"\u1E66\": \"S\",\n\t\"\u1E67\": \"s\",\n\t\"V\u030C\": \"V\",\n\t\"v\u030C\": \"v\",\n\t\"W\u030C\": \"W\",\n\t\"w\u030C\": \"w\",\n\t\"X\u030C\": \"X\",\n\t\"x\u030C\": \"x\",\n\t\"Y\u030C\": \"Y\",\n\t\"y\u030C\": \"y\",\n\t\"A\u0327\": \"A\",\n\t\"a\u0327\": \"a\",\n\t\"B\u0327\": \"B\",\n\t\"b\u0327\": \"b\",\n\t\"\u1E10\": \"D\",\n\t\"\u1E11\": \"d\",\n\t\"\u0228\": \"E\",\n\t\"\u0229\": \"e\",\n\t\"\u0190\u0327\": \"E\",\n\t\"\u025B\u0327\": \"e\",\n\t\"\u1E28\": \"H\",\n\t\"\u1E29\": \"h\",\n\t\"I\u0327\": \"I\",\n\t\"i\u0327\": \"i\",\n\t\"\u0197\u0327\": \"I\",\n\t\"\u0268\u0327\": \"i\",\n\t\"M\u0327\": \"M\",\n\t\"m\u0327\": \"m\",\n\t\"O\u0327\": \"O\",\n\t\"o\u0327\": \"o\",\n\t\"Q\u0327\": \"Q\",\n\t\"q\u0327\": \"q\",\n\t\"U\u0327\": \"U\",\n\t\"u\u0327\": \"u\",\n\t\"X\u0327\": \"X\",\n\t\"x\u0327\": \"x\",\n\t\"Z\u0327\": \"Z\",\n\t\"z\u0327\": \"z\",\n\t\"\u0439\":\"\u0438\",\n\t\"\u0419\":\"\u0418\",\n\t\"\u0451\":\"\u0435\",\n\t\"\u0401\":\"\u0415\",\n};\n\nvar chars = Object.keys(characterMap).join('|');\nvar allAccents = new RegExp(chars, 'g');\nvar firstAccent = new RegExp(chars, '');\n\nfunction matcher(match) {\n\treturn characterMap[match];\n}\n\nvar removeAccents = function(string) {\n\treturn string.replace(allAccents, matcher);\n};\n\nvar hasAccents = function(string) {\n\treturn !!string.match(firstAccent);\n};\n\nmodule.exports = removeAccents;\nmodule.exports.has = hasAccents;\nmodule.exports.remove = removeAccents;\n", "module.exports = window.wp.styleEngine;", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n", "module.exports = window.wp.commands;", "module.exports = window.wp.viewport;", "module.exports = window.wp.plugins;", "module.exports = window.wp.keyboardShortcuts;", "module.exports = window.wp.keycodes;", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "module.exports = window.wp.dom;", "module.exports = window.wp.richText;", "module.exports = window.wp.warning;", "module.exports = window.React;", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n", "/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});", "// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n", "// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n", "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar RESIZED = \"autosize:resized\";\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosizeClass = /** @class */ (function (_super) {\n    __extends(TextareaAutosizeClass, _super);\n    function TextareaAutosizeClass() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.textarea = null;\n        _this.onResize = function (e) {\n            if (_this.props.onResize) {\n                _this.props.onResize(e);\n            }\n        };\n        _this.updateLineHeight = function () {\n            if (_this.textarea) {\n                _this.setState({\n                    lineHeight: getLineHeight(_this.textarea)\n                });\n            }\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        return _this;\n    }\n    TextareaAutosizeClass.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, maxRows = _a.maxRows, async = _a.async;\n        if (typeof maxRows === \"number\") {\n            this.updateLineHeight();\n        }\n        if (typeof maxRows === \"number\" || async) {\n            /*\n              the defer is needed to:\n                - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n                - support StyledComponents (see #71)\n            */\n            setTimeout(function () { return _this.textarea && autosize(_this.textarea); });\n        }\n        else {\n            this.textarea && autosize(this.textarea);\n        }\n        if (this.textarea) {\n            this.textarea.addEventListener(RESIZED, this.onResize);\n        }\n    };\n    TextareaAutosizeClass.prototype.componentWillUnmount = function () {\n        if (this.textarea) {\n            this.textarea.removeEventListener(RESIZED, this.onResize);\n            autosize.destroy(this.textarea);\n        }\n    };\n    TextareaAutosizeClass.prototype.render = function () {\n        var _this = this;\n        var _a = this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, children = _b.children, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\", \"children\"]), lineHeight = _a.state.lineHeight;\n        var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n        return (React.createElement(\"textarea\", __assign({}, props, { onChange: this.onChange, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, ref: function (element) {\n                _this.textarea = element;\n                if (typeof _this.props.innerRef === 'function') {\n                    _this.props.innerRef(element);\n                }\n                else if (_this.props.innerRef) {\n                    _this.props.innerRef.current = element;\n                }\n            } }), children));\n    };\n    TextareaAutosizeClass.prototype.componentDidUpdate = function () {\n        this.textarea && autosize.update(this.textarea);\n    };\n    TextareaAutosizeClass.defaultProps = {\n        rows: 1,\n        async: false\n    };\n    TextareaAutosizeClass.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.any,\n        async: PropTypes.bool\n    };\n    return TextareaAutosizeClass;\n}(React.Component));\nexports.TextareaAutosize = React.forwardRef(function (props, ref) {\n    return React.createElement(TextareaAutosizeClass, __assign({}, props, { innerRef: ref }));\n});\n", "\"use strict\";\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nmodule.exports = TextareaAutosize_1.TextareaAutosize;\n", "module.exports = window.wp.wordcount;", "module.exports = window.wp.serverSideRender;", "export default function Diff() {}\n\nDiff.prototype = {\n  diff(oldString, newString, options = {}) {\n    let callback = options.callback;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    this.options = options;\n\n    let self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function() { callback(undefined, value); }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    }\n\n    // Allow subclasses to massage the input prior to running\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n\n    let newLen = newString.length, oldLen = oldString.length;\n    let editLength = 1;\n    let maxEditLength = newLen + oldLen;\n    let bestPath = [{ newPos: -1, components: [] }];\n\n    // Seed editLength = 0, i.e. the content starts with the same values\n    let oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n    if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n      // Identity per the equality and tokenizer\n      return done([{value: this.join(newString), count: newString.length}]);\n    }\n\n    // Main worker method. checks all permutations of a given edit length for acceptance.\n    function execEditLength() {\n      for (let diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n        let basePath;\n        let addPath = bestPath[diagonalPath - 1],\n            removePath = bestPath[diagonalPath + 1],\n            oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n        if (addPath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        let canAdd = addPath && addPath.newPos + 1 < newLen,\n            canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        }\n\n        // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the new string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n        if (!canAdd || (canRemove && addPath.newPos < removePath.newPos)) {\n          basePath = clonePath(removePath);\n          self.pushComponent(basePath.components, undefined, true);\n        } else {\n          basePath = addPath; // No need to clone, we've pulled it from the list\n          basePath.newPos++;\n          self.pushComponent(basePath.components, true, undefined);\n        }\n\n        oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath);\n\n        // If we have hit the end of both strings, then we are done\n        if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n          return done(buildValues(self, basePath.components, newString, oldString, self.useLongestToken));\n        } else {\n          // Otherwise track this path as a potential candidate and continue.\n          bestPath[diagonalPath] = basePath;\n        }\n      }\n\n      editLength++;\n    }\n\n    // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced.\n    if (callback) {\n      (function exec() {\n        setTimeout(function() {\n          // This should not happen, but we want to be safe.\n          /* istanbul ignore next */\n          if (editLength > maxEditLength) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      }());\n    } else {\n      while (editLength <= maxEditLength) {\n        let ret = execEditLength();\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n\n  pushComponent(components, added, removed) {\n    let last = components[components.length - 1];\n    if (last && last.added === added && last.removed === removed) {\n      // We need to clone here as the component clone operation is just\n      // as shallow array clone\n      components[components.length - 1] = {count: last.count + 1, added: added, removed: removed };\n    } else {\n      components.push({count: 1, added: added, removed: removed });\n    }\n  },\n  extractCommon(basePath, newString, oldString, diagonalPath) {\n    let newLen = newString.length,\n        oldLen = oldString.length,\n        newPos = basePath.newPos,\n        oldPos = newPos - diagonalPath,\n\n        commonCount = 0;\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.components.push({count: commonCount});\n    }\n\n    basePath.newPos = newPos;\n    return oldPos;\n  },\n\n  equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right\n        || (this.options.ignoreCase && left.toLowerCase() === right.toLowerCase());\n    }\n  },\n  removeEmpty(array) {\n    let ret = [];\n    for (let i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n    return ret;\n  },\n  castInput(value) {\n    return value;\n  },\n  tokenize(value) {\n    return value.split('');\n  },\n  join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, components, newString, oldString, useLongestToken) {\n  let componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    let component = components[componentPos];\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        let value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function(value, i) {\n          let oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n      newPos += component.count;\n\n      // Common case\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count;\n\n      // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n      if (componentPos && components[componentPos - 1].added) {\n        let tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  }\n\n  // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n  let lastComponent = components[componentLen - 1];\n  if (componentLen > 1\n      && typeof lastComponent.value === 'string'\n      && (lastComponent.added || lastComponent.removed)\n      && diff.equals('', lastComponent.value)) {\n    components[componentLen - 2].value += lastComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n\nfunction clonePath(path) {\n  return { newPos: path.newPos, components: path.components.slice(0) };\n}\n", "import Diff from './base';\n\nexport const arrayDiff = new Diff();\narrayDiff.tokenize = function(value) {\n  return value.slice();\n};\narrayDiff.join = arrayDiff.removeEmpty = function(value) {\n  return value;\n};\n\nexport function diffArrays(oldArr, newArr, callback) { return arrayDiff.diff(oldArr, newArr, callback); }\n", "module.exports = window.ReactDOM;", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../store';\n\n/** @typedef {import('@wordpress/compose').WPHigherOrderComponent} WPHigherOrderComponent */\n/** @typedef {import('@wordpress/blocks').WPBlockSettings} WPBlockSettings */\n\n/**\n * Object whose keys are the names of block attributes, where each value\n * represents the meta key to which the block attribute is intended to save.\n *\n * @see https://developer.wordpress.org/reference/functions/register_meta/\n *\n * @typedef {Object<string,string>} WPMetaAttributeMapping\n */\n\n/**\n * Given a mapping of attribute names (meta source attributes) to their\n * associated meta key, returns a higher order component that overrides its\n * `attributes` and `setAttributes` props to sync any changes with the edited\n * post's meta keys.\n *\n * @param {WPMetaAttributeMapping} metaAttributes Meta attribute mapping.\n *\n * @return {WPHigherOrderComponent} Higher-order component.\n */\nconst createWithMetaAttributeSource = ( metaAttributes ) =>\n\tcreateHigherOrderComponent(\n\t\t( BlockEdit ) =>\n\t\t\t( { attributes, setAttributes, ...props } ) => {\n\t\t\t\tconst postType = useSelect(\n\t\t\t\t\t( select ) => select( editorStore ).getCurrentPostType(),\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tconst [ meta, setMeta ] = useEntityProp(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\t'meta'\n\t\t\t\t);\n\n\t\t\t\tconst mergedAttributes = useMemo(\n\t\t\t\t\t() => ( {\n\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\t...Object.fromEntries(\n\t\t\t\t\t\t\tObject.entries( metaAttributes ).map(\n\t\t\t\t\t\t\t\t( [ attributeKey, metaKey ] ) => [\n\t\t\t\t\t\t\t\t\tattributeKey,\n\t\t\t\t\t\t\t\t\tmeta[ metaKey ],\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t} ),\n\t\t\t\t\t[ attributes, meta ]\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<BlockEdit\n\t\t\t\t\t\tattributes={ mergedAttributes }\n\t\t\t\t\t\tsetAttributes={ ( nextAttributes ) => {\n\t\t\t\t\t\t\tconst nextMeta = Object.fromEntries(\n\t\t\t\t\t\t\t\tObject.entries( nextAttributes ?? {} )\n\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t// Filter to intersection of keys between the updated\n\t\t\t\t\t\t\t\t\t\t// attributes and those with an associated meta key.\n\t\t\t\t\t\t\t\t\t\t( [ key ] ) => key in metaAttributes\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.map( ( [ attributeKey, value ] ) => [\n\t\t\t\t\t\t\t\t\t\t// Rename the keys to the expected meta key name.\n\t\t\t\t\t\t\t\t\t\tmetaAttributes[ attributeKey ],\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t] )\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( Object.entries( nextMeta ).length ) {\n\t\t\t\t\t\t\t\tsetMeta( nextMeta );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetAttributes( nextAttributes );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t},\n\t\t'withMetaAttributeSource'\n\t);\n\n/**\n * Filters a registered block's settings to enhance a block's `edit` component\n * to upgrade meta-sourced attributes to use the post's meta entity property.\n *\n * @param {WPBlockSettings} settings Registered block settings.\n *\n * @return {WPBlockSettings} Filtered block settings.\n */\nfunction shimAttributeSource( settings ) {\n\t/** @type {WPMetaAttributeMapping} */\n\tconst metaAttributes = Object.fromEntries(\n\t\tObject.entries( settings.attributes ?? {} )\n\t\t\t.filter( ( [ , { source } ] ) => source === 'meta' )\n\t\t\t.map( ( [ attributeKey, { meta } ] ) => [ attributeKey, meta ] )\n\t);\n\tif ( Object.entries( metaAttributes ).length ) {\n\t\tsettings.edit = createWithMetaAttributeSource( metaAttributes )(\n\t\t\tsettings.edit\n\t\t);\n\t}\n\n\treturn settings;\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/editor/custom-sources-backwards-compatibility/shim-attribute-source',\n\tshimAttributeSource\n);\n", "/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport * as privateActions from './private-actions';\nimport * as privateSelectors from './private-selectors';\nimport { STORE_NAME } from './constants';\nimport { unlock } from '../lock-unlock';\n\n/**\n * Post editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#registerStore\n */\nexport const storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n};\n\n/**\n * Store definition for the editor namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n */\nexport const store = createReduxStore( STORE_NAME, {\n\t...storeConfig,\n} );\n\nregister( store );\nunlock( store ).registerPrivateActions( privateActions );\nunlock( store ).registerPrivateSelectors( privateSelectors );\n", "/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { EDITOR_SETTINGS_DEFAULTS } from './defaults';\nimport dataviewsReducer from '../dataviews/store/reducer';\n\n/**\n * Returns a post attribute value, flattening nested rendered content using its\n * raw value in place of its original object form.\n *\n * @param {*} value Original value.\n *\n * @return {*} Raw value.\n */\nexport function getPostRawValue( value ) {\n\tif ( value && 'object' === typeof value && 'raw' in value ) {\n\t\treturn value.raw;\n\t}\n\n\treturn value;\n}\n\n/**\n * Returns true if the two object arguments have the same keys, or false\n * otherwise.\n *\n * @param {Object} a First object.\n * @param {Object} b Second object.\n *\n * @return {boolean} Whether the two objects have the same keys.\n */\nexport function hasSameKeys( a, b ) {\n\tconst keysA = Object.keys( a ).sort();\n\tconst keysB = Object.keys( b ).sort();\n\treturn (\n\t\tkeysA.length === keysB.length &&\n\t\tkeysA.every( ( key, index ) => keysB[ index ] === key )\n\t);\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are editing the same post property, or\n * false otherwise.\n *\n * @param {Object} action         Currently dispatching action.\n * @param {Object} previousAction Previously dispatched action.\n *\n * @return {boolean} Whether actions are updating the same post property.\n */\nexport function isUpdatingSamePostProperty( action, previousAction ) {\n\treturn (\n\t\taction.type === 'EDIT_POST' &&\n\t\thasSameKeys( action.edits, previousAction.edits )\n\t);\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are modifying the same property such that\n * undo history should be batched.\n *\n * @param {Object} action         Currently dispatching action.\n * @param {Object} previousAction Previously dispatched action.\n *\n * @return {boolean} Whether to overwrite present state.\n */\nexport function shouldOverwriteState( action, previousAction ) {\n\tif ( action.type === 'RESET_EDITOR_BLOCKS' ) {\n\t\treturn ! action.shouldCreateUndoLevel;\n\t}\n\n\tif ( ! previousAction || action.type !== previousAction.type ) {\n\t\treturn false;\n\t}\n\n\treturn isUpdatingSamePostProperty( action, previousAction );\n}\n\nexport function postId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_EDITED_POST':\n\t\t\treturn action.postId;\n\t}\n\n\treturn state;\n}\n\nexport function templateId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_CURRENT_TEMPLATE_ID':\n\t\t\treturn action.id;\n\t}\n\n\treturn state;\n}\n\nexport function postType( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_EDITED_POST':\n\t\t\treturn action.postType;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether the post blocks match the defined template or not.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function template( state = { isValid: true }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_TEMPLATE_VALIDITY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisValid: action.isValid,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning current network request state (whether a request to\n * the WP REST API is in progress, successful, or failed).\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function saving( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REQUEST_POST_UPDATE_START':\n\t\tcase 'REQUEST_POST_UPDATE_FINISH':\n\t\t\treturn {\n\t\t\t\tpending: action.type === 'REQUEST_POST_UPDATE_START',\n\t\t\t\toptions: action.options || {},\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning deleting post request state.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deleting( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REQUEST_POST_DELETE_START':\n\t\tcase 'REQUEST_POST_DELETE_FINISH':\n\t\t\treturn {\n\t\t\t\tpending: action.type === 'REQUEST_POST_DELETE_START',\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Post Lock State.\n *\n * @typedef {Object} PostLockState\n *\n * @property {boolean}  isLocked       Whether the post is locked.\n * @property {?boolean} isTakeover     Whether the post editing has been taken over.\n * @property {?boolean} activePostLock Active post lock value.\n * @property {?Object}  user           User that took over the post.\n */\n\n/**\n * Reducer returning the post lock status.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object}        action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postLock( state = { isLocked: false }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_POST_LOCK':\n\t\t\treturn action.lock;\n\t}\n\n\treturn state;\n}\n\n/**\n * Post saving lock.\n *\n * When post saving is locked, the post cannot be published or updated.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object}        action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postSavingLock( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'LOCK_POST_SAVING':\n\t\t\treturn { ...state, [ action.lockName ]: true };\n\n\t\tcase 'UNLOCK_POST_SAVING': {\n\t\t\tconst { [ action.lockName ]: removedLockName, ...restState } =\n\t\t\t\tstate;\n\t\t\treturn restState;\n\t\t}\n\t}\n\treturn state;\n}\n\n/**\n * Post autosaving lock.\n *\n * When post autosaving is locked, the post will not autosave.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object}        action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postAutosavingLock( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'LOCK_POST_AUTOSAVING':\n\t\t\treturn { ...state, [ action.lockName ]: true };\n\n\t\tcase 'UNLOCK_POST_AUTOSAVING': {\n\t\t\tconst { [ action.lockName ]: removedLockName, ...restState } =\n\t\t\t\tstate;\n\t\t\treturn restState;\n\t\t}\n\t}\n\treturn state;\n}\n\n/**\n * Reducer returning the post editor setting.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function editorSettings( state = EDITOR_SETTINGS_DEFAULTS, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_EDITOR_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport function renderingMode( state = 'post-only', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_RENDERING_MODE':\n\t\t\treturn action.mode;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the editing canvas device type.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deviceType( state = 'Desktop', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_DEVICE_TYPE':\n\t\t\treturn action.deviceType;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer storing the list of all programmatically removed panels.\n *\n * @param {Array}  state  Current state.\n * @param {Object} action Action object.\n *\n * @return {Array} Updated state.\n */\nexport function removedPanels( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REMOVE_PANEL':\n\t\t\tif ( ! state.includes( action.panelName ) ) {\n\t\t\t\treturn [ ...state, action.panelName ];\n\t\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer to set the block inserter panel open or closed.\n *\n * Note: this reducer interacts with the list view panel reducer\n * to make sure that only one of the two panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the list view panel open or closed.\n *\n * Note: this reducer interacts with the inserter panel reducer\n * to make sure that only one of the two panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function listViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value ? false : state;\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t}\n\treturn state;\n}\n\n/**\n * This reducer does nothing aside initializing a ref to the list view toggle.\n * We will have a unique ref per \"editor\" instance.\n *\n * @param {Object} state\n * @return {Object} Reference to the list view toggle button.\n */\nexport function listViewToggleRef( state = { current: null } ) {\n\treturn state;\n}\n\n/**\n * This reducer does nothing aside initializing a ref to the inserter sidebar toggle.\n * We will have a unique ref per \"editor\" instance.\n *\n * @param {Object} state\n * @return {Object} Reference to the inserter sidebar toggle button.\n */\nexport function inserterSidebarToggleRef( state = { current: null } ) {\n\treturn state;\n}\n\nexport function publishSidebarActive( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_PUBLISH_SIDEBAR':\n\t\t\treturn true;\n\t\tcase 'CLOSE_PUBLISH_SIDEBAR':\n\t\t\treturn false;\n\t\tcase 'TOGGLE_PUBLISH_SIDEBAR':\n\t\t\treturn ! state;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer for the current global styles navigation path.\n *\n * @param {string} state  Current state.\n * @param {Object} action Dispatched action.\n * @return {string} Updated state.\n */\nexport function stylesPath( state = '/', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_STYLES_PATH':\n\t\t\treturn action.path;\n\t\tcase 'RESET_STYLES_NAVIGATION':\n\t\t\treturn '/';\n\t}\n\treturn state;\n}\n\n/**\n * Reducer for whether the stylebook is visible.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n * @return {boolean} Updated state.\n */\nexport function showStylebook( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_SHOW_STYLEBOOK':\n\t\t\treturn action.show;\n\t\tcase 'RESET_STYLES_NAVIGATION':\n\t\t\treturn false;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer for the canvas minimum height.\n *\n * @param {number} state  Current state.\n * @param {Object} action Dispatched action.\n * @return {number} Updated state.\n */\nexport function canvasMinHeight( state = 0, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_CANVAS_MIN_HEIGHT':\n\t\t\treturn action.minHeight;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer for the revisions preview mode.\n * Stores the current revision ID, or null if not in revisions mode.\n *\n * @param {number|null} state  Current revision ID.\n * @param {Object}      action Dispatched action.\n * @return {number|null} Updated state.\n */\nexport function revisionId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_CURRENT_REVISION_ID':\n\t\t\treturn action.revisionId;\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\tpostId,\n\tpostType,\n\ttemplateId,\n\tsaving,\n\tdeleting,\n\tpostLock,\n\ttemplate,\n\tpostSavingLock,\n\teditorSettings,\n\tpostAutosavingLock,\n\trenderingMode,\n\tdeviceType,\n\tremovedPanels,\n\tblockInserterPanel,\n\tinserterSidebarToggleRef,\n\tlistViewPanel,\n\tlistViewToggleRef,\n\tpublishSidebarActive,\n\tstylesPath,\n\tshowStylebook,\n\tcanvasMinHeight,\n\trevisionId,\n\tdataviews: dataviewsReducer,\n} );\n", "/**\n * WordPress dependencies\n */\nimport { SETTINGS_DEFAULTS } from '@wordpress/block-editor';\n\n/**\n * The default post editor settings.\n *\n * @property {boolean|Array} allowedBlockTypes     Allowed block types\n * @property {boolean}       richEditingEnabled    Whether rich editing is enabled or not\n * @property {boolean}       codeEditingEnabled    Whether code editing is enabled or not\n * @property {boolean}       fontLibraryEnabled    Whether the font library is enabled or not.\n * @property {boolean}       enableCustomFields    Whether the WordPress custom fields are enabled or not.\n *                                                 true  = the user has opted to show the Custom Fields panel at the bottom of the editor.\n *                                                 false = the user has opted to hide the Custom Fields panel at the bottom of the editor.\n *                                                 undefined = the current environment does not support Custom Fields, so the option toggle in Preferences -> Panels to enable the Custom Fields panel is not displayed.\n * @property {number}        autosaveInterval      How often in seconds the post will be auto-saved via the REST API.\n * @property {number}        localAutosaveInterval How often in seconds the post will be backed up to sessionStorage.\n * @property {Array?}        availableTemplates    The available post templates\n * @property {boolean}       disablePostFormats    Whether or not the post formats are disabled\n * @property {Array?}        allowedMimeTypes      List of allowed mime types and file extensions\n * @property {number}        maxUploadFileSize     Maximum upload file size\n * @property {boolean}       supportsLayout        Whether the editor supports layouts.\n */\nexport const EDITOR_SETTINGS_DEFAULTS = {\n\t...SETTINGS_DEFAULTS,\n\n\trichEditingEnabled: true,\n\tcodeEditingEnabled: true,\n\tfontLibraryEnabled: true,\n\tenableCustomFields: undefined,\n\tdefaultRenderingMode: 'post-only',\n};\n", "/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\nimport type { Action, Field } from '@wordpress/dataviews';\n\ntype ReduxAction =\n\t| ReturnType< typeof import('./private-actions').registerEntityAction >\n\t| ReturnType< typeof import('./private-actions').unregisterEntityAction >\n\t| ReturnType< typeof import('./private-actions').registerEntityField >\n\t| ReturnType< typeof import('./private-actions').unregisterEntityField >\n\t| ReturnType< typeof import('./private-actions').setIsReady >;\n\nexport type ActionState = Record< string, Record< string, Action< any >[] > >;\nexport type FieldsState = Record< string, Record< string, Field< any >[] > >;\nexport type ReadyState = Record< string, Record< string, boolean > >;\nexport type State = {\n\tactions: ActionState;\n\tfields: FieldsState;\n\tisReady: ReadyState;\n};\n\nfunction isReady( state: ReadyState = {}, action: ReduxAction ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_READY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.kind ]: {\n\t\t\t\t\t...state[ action.kind ],\n\t\t\t\t\t[ action.name ]: true,\n\t\t\t\t},\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nfunction actions( state: ActionState = {}, action: ReduxAction ) {\n\tswitch ( action.type ) {\n\t\tcase 'REGISTER_ENTITY_ACTION':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.kind ]: {\n\t\t\t\t\t...state[ action.kind ],\n\t\t\t\t\t[ action.name ]: [\n\t\t\t\t\t\t...(\n\t\t\t\t\t\t\tstate[ action.kind ]?.[ action.name ] ?? []\n\t\t\t\t\t\t).filter(\n\t\t\t\t\t\t\t( _action ) => _action.id !== action.config.id\n\t\t\t\t\t\t),\n\t\t\t\t\t\taction.config,\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t};\n\t\tcase 'UNREGISTER_ENTITY_ACTION': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.kind ]: {\n\t\t\t\t\t...state[ action.kind ],\n\t\t\t\t\t[ action.name ]: (\n\t\t\t\t\t\tstate[ action.kind ]?.[ action.name ] ?? []\n\t\t\t\t\t).filter( ( _action ) => _action.id !== action.actionId ),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n}\n\nfunction fields( state: FieldsState = {}, action: ReduxAction ) {\n\tswitch ( action.type ) {\n\t\tcase 'REGISTER_ENTITY_FIELD':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.kind ]: {\n\t\t\t\t\t...state[ action.kind ],\n\t\t\t\t\t[ action.name ]: [\n\t\t\t\t\t\t...(\n\t\t\t\t\t\t\tstate[ action.kind ]?.[ action.name ] ?? []\n\t\t\t\t\t\t).filter(\n\t\t\t\t\t\t\t( _field ) => _field.id !== action.config.id\n\t\t\t\t\t\t),\n\t\t\t\t\t\taction.config,\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t};\n\t\tcase 'UNREGISTER_ENTITY_FIELD':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.kind ]: {\n\t\t\t\t\t...state[ action.kind ],\n\t\t\t\t\t[ action.name ]: (\n\t\t\t\t\t\tstate[ action.kind ]?.[ action.name ] ?? []\n\t\t\t\t\t).filter( ( _field ) => _field.id !== action.fieldId ),\n\t\t\t\t},\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tactions,\n\tfields,\n\tisReady,\n} );\n", "/**\n * WordPress dependencies\n */\nimport {\n\tgetFreeformContentHandlerName,\n\tgetDefaultBlockName,\n\t__unstableSerializeAndClean,\n\tparse,\n} from '@wordpress/blocks';\nimport { isInTheFuture, getDate } from '@wordpress/date';\nimport { addQueryArgs, cleanForSlug } from '@wordpress/url';\nimport { createSelector, createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { Platform } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tATTACHMENT_POST_TYPE,\n\tEDIT_MERGE_PROPERTIES,\n\tPERMALINK_POSTNAME_REGEX,\n\tONE_MINUTE_IN_MS,\n\tAUTOSAVE_PROPERTIES,\n} from './constants';\nimport { getPostRawValue } from './reducer';\nimport { getTemplatePartIcon } from '../utils/get-template-part-icon';\nimport { unlock } from '../lock-unlock';\nimport { getTemplateInfo } from '../utils/get-template-info';\n\n/**\n * Shared reference to an empty object for cases where it is important to avoid\n * returning a new object reference on every invocation, as in a connected or\n * other pure component which performs `shouldComponentUpdate` check on props.\n * This should be used as a last resort, since the normalized data should be\n * maintained by the reducer result in state.\n */\nconst EMPTY_OBJECT = {};\n\n/**\n * Returns true if any past editor history snapshots exist, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether undo history exists.\n */\nexport const hasEditorUndo = createRegistrySelector( ( select ) => () => {\n\treturn select( coreStore ).hasUndo();\n} );\n\n/**\n * Returns true if any future editor history snapshots exist, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether redo history exists.\n */\nexport const hasEditorRedo = createRegistrySelector( ( select ) => () => {\n\treturn select( coreStore ).hasRedo();\n} );\n\n/**\n * Returns true if the currently edited post is yet to be saved, or false if\n * the post has been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is new.\n */\nexport function isEditedPostNew( state ) {\n\treturn getCurrentPost( state ).status === 'auto-draft';\n}\n\n/**\n * Returns true if content includes unsaved changes, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether content includes unsaved changes.\n */\nexport function hasChangedContent( state ) {\n\tconst edits = getPostEdits( state );\n\treturn 'content' in edits;\n}\n\n/**\n * Returns true if there are unsaved values for the current edit session, or\n * false if the editing state matches the saved or new post.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether unsaved values exist.\n */\nexport const isEditedPostDirty = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\t// Edits should contain only fields which differ from the saved post (reset\n\t\t// at initial load and save complete). Thus, a non-empty edits state can be\n\t\t// inferred to contain unsaved values.\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn select( coreStore ).hasEditsForEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t}\n);\n\n/**\n * Returns true if there are unsaved edits for entities other than\n * the editor's post, and false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether there are edits or not.\n */\nexport const hasNonPostEntityChanges = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst dirtyEntityRecords =\n\t\t\tselect( coreStore ).__experimentalGetDirtyEntityRecords();\n\t\tconst { type, id } = getCurrentPost( state );\n\t\treturn dirtyEntityRecords.some(\n\t\t\t( entityRecord ) =>\n\t\t\t\tentityRecord.kind !== 'postType' ||\n\t\t\t\tentityRecord.name !== type ||\n\t\t\t\tentityRecord.key !== id\n\t\t);\n\t}\n);\n\n/**\n * Returns true if there are no unsaved values for the current edit session and\n * if the currently edited post is new (has never been saved before).\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether new post and unsaved values exist.\n */\nexport function isCleanNewPost( state ) {\n\treturn ! isEditedPostDirty( state ) && isEditedPostNew( state );\n}\n\n/**\n * Returns the post currently being edited in its last known saved state, not\n * including unsaved edits. Returns an object containing relevant default post\n * values if the post has not yet been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Post object.\n */\nexport const getCurrentPost = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst postType = getCurrentPostType( state );\n\n\t\tconst post = select( coreStore ).getRawEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tif ( post ) {\n\t\t\treturn post;\n\t\t}\n\n\t\t// This exists for compatibility with the previous selector behavior\n\t\t// which would guarantee an object return based on the editor reducer's\n\t\t// default empty object state.\n\t\treturn EMPTY_OBJECT;\n\t}\n);\n\n/**\n * Returns the post type of the post currently being edited.\n *\n * @param {Object} state Global application state.\n *\n * @example\n *\n *```js\n * const currentPostType = wp.data.select( 'core/editor' ).getCurrentPostType();\n *```\n * @return {string} Post type.\n */\nexport function getCurrentPostType( state ) {\n\treturn state.postType;\n}\n\n/**\n * Returns the ID of the post currently being edited, or null if the post has\n * not yet been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {?(number|string)} The current post ID (number) or template slug (string).\n */\nexport function getCurrentPostId( state ) {\n\treturn state.postId;\n}\n\n/**\n * Returns the template ID currently being rendered/edited\n *\n * @param {Object} state Global application state.\n *\n * @return {?string} Template ID.\n */\nexport function getCurrentTemplateId( state ) {\n\treturn state.templateId;\n}\n\n/**\n * Returns the number of revisions of the post currently being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {number} Number of revisions.\n */\nexport function getCurrentPostRevisionsCount( state ) {\n\treturn (\n\t\tgetCurrentPost( state )._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0\n\t);\n}\n\n/**\n * Returns the last revision ID of the post currently being edited,\n * or null if the post has no revisions.\n *\n * @param {Object} state Global application state.\n *\n * @return {?number} ID of the last revision.\n */\nexport function getCurrentPostLastRevisionId( state ) {\n\treturn (\n\t\tgetCurrentPost( state )._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ??\n\t\tnull\n\t);\n}\n\n/**\n * Returns any post values which have been changed in the editor but not yet\n * been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Object of key value pairs comprising unsaved edits.\n */\nexport const getPostEdits = createRegistrySelector( ( select ) => ( state ) => {\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\treturn (\n\t\tselect( coreStore ).getEntityRecordEdits(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t) || EMPTY_OBJECT\n\t);\n} );\n\n/**\n * Returns an attribute value of the saved post.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nexport function getCurrentPostAttribute( state, attributeName ) {\n\tswitch ( attributeName ) {\n\t\tcase 'type':\n\t\t\treturn getCurrentPostType( state );\n\n\t\tcase 'id':\n\t\t\treturn getCurrentPostId( state );\n\n\t\tdefault:\n\t\t\tconst post = getCurrentPost( state );\n\t\t\tif ( ! post.hasOwnProperty( attributeName ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn getPostRawValue( post[ attributeName ] );\n\t}\n}\n\n/**\n * Returns a single attribute of the post being edited, preferring the unsaved\n * edit if one exists, but merging with the attribute value for the last known\n * saved state of the post (this is needed for some nested attributes like meta).\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nconst getNestedEditedPostProperty = createSelector(\n\t( state, attributeName ) => {\n\t\tconst edits = getPostEdits( state );\n\t\tif ( ! edits.hasOwnProperty( attributeName ) ) {\n\t\t\treturn getCurrentPostAttribute( state, attributeName );\n\t\t}\n\n\t\treturn {\n\t\t\t...getCurrentPostAttribute( state, attributeName ),\n\t\t\t...edits[ attributeName ],\n\t\t};\n\t},\n\t( state, attributeName ) => [\n\t\tgetCurrentPostAttribute( state, attributeName ),\n\t\tgetPostEdits( state )[ attributeName ],\n\t]\n);\n\n/**\n * Returns a single attribute of the post being edited, preferring the unsaved\n * edit if one exists, but falling back to the attribute for the last known\n * saved state of the post.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @example\n *\n *```js\n * \t// Get specific media size based on the featured media ID\n * \t// Note: change sizes?.large for any registered size\n * \tconst getFeaturedMediaUrl = useSelect( ( select ) => {\n * \t\tconst getFeaturedMediaId =\n * \t\t\tselect( 'core/editor' ).getEditedPostAttribute( 'featured_media' );\n * \t\tconst media = select( 'core' ).getEntityRecord(\n * \t\t\t'postType',\n * \t\t\t'attachment',\n * \t\t\tgetFeaturedMediaId\n * \t\t);\n *\n * \t\treturn (\n * \t\t\tmedia?.media_details?.sizes?.large?.source_url || media?.source_url || ''\n * \t\t);\n * }, [] );\n *```\n *\n * @return {*} Post attribute value.\n */\nexport function getEditedPostAttribute( state, attributeName ) {\n\t// Special cases.\n\tswitch ( attributeName ) {\n\t\tcase 'content':\n\t\t\treturn getEditedPostContent( state );\n\t}\n\n\t// Fall back to saved post value if not edited.\n\tconst edits = getPostEdits( state );\n\tif ( ! edits.hasOwnProperty( attributeName ) ) {\n\t\treturn getCurrentPostAttribute( state, attributeName );\n\t}\n\n\t// Merge properties are objects which contain only the patch edit in state,\n\t// and thus must be merged with the current post attribute.\n\tif ( EDIT_MERGE_PROPERTIES.has( attributeName ) ) {\n\t\treturn getNestedEditedPostProperty( state, attributeName );\n\t}\n\n\treturn edits[ attributeName ];\n}\n\n/**\n * Returns an attribute value of the current autosave revision for a post, or\n * null if there is no autosave for the post.\n *\n * @deprecated since 5.6. Callers should use the `getAutosave( postType, postId, userId )` selector\n * \t\t\t   from the '@wordpress/core-data' package and access properties on the returned\n * \t\t\t   autosave object using getPostRawValue.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Autosave attribute name.\n *\n * @return {*} Autosave attribute value.\n */\nexport const getAutosaveAttribute = createRegistrySelector(\n\t( select ) => ( state, attributeName ) => {\n\t\tif (\n\t\t\t! AUTOSAVE_PROPERTIES.includes( attributeName ) &&\n\t\t\tattributeName !== 'preview_link'\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst currentUserId = select( coreStore ).getCurrentUser()?.id;\n\t\tconst autosave = select( coreStore ).getAutosave(\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\tcurrentUserId\n\t\t);\n\n\t\tif ( autosave ) {\n\t\t\treturn getPostRawValue( autosave[ attributeName ] );\n\t\t}\n\t}\n);\n\n/**\n * Returns the current visibility of the post being edited, preferring the\n * unsaved value if different than the saved post. The return value is one of\n * \"private\", \"password\", or \"public\".\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post visibility.\n */\nexport function getEditedPostVisibility( state ) {\n\tconst status = getEditedPostAttribute( state, 'status' );\n\tif ( status === 'private' ) {\n\t\treturn 'private';\n\t}\n\n\tconst password = getEditedPostAttribute( state, 'password' );\n\tif ( password ) {\n\t\treturn 'password';\n\t}\n\n\treturn 'public';\n}\n\n/**\n * Returns true if post is pending review.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether current post is pending review.\n */\nexport function isCurrentPostPending( state ) {\n\treturn getCurrentPost( state ).status === 'pending';\n}\n\n/**\n * Return true if the current post has already been published.\n *\n * @param {Object} state         Global application state.\n * @param {Object} [currentPost] Explicit current post for bypassing registry selector.\n *\n * @return {boolean} Whether the post has been published.\n */\nexport function isCurrentPostPublished( state, currentPost ) {\n\tconst post = currentPost || getCurrentPost( state );\n\n\treturn (\n\t\t[ 'publish', 'private' ].indexOf( post.status ) !== -1 ||\n\t\t( post.status === 'future' &&\n\t\t\t! isInTheFuture(\n\t\t\t\tnew Date( Number( getDate( post.date ) ) - ONE_MINUTE_IN_MS )\n\t\t\t) )\n\t);\n}\n\n/**\n * Returns true if post is already scheduled.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether current post is scheduled to be posted.\n */\nexport function isCurrentPostScheduled( state ) {\n\treturn (\n\t\tgetCurrentPost( state ).status === 'future' &&\n\t\t! isCurrentPostPublished( state )\n\t);\n}\n\n/**\n * Return true if the post being edited can be published.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post can been published.\n */\nexport function isEditedPostPublishable( state ) {\n\tconst post = getCurrentPost( state );\n\n\t// TODO: Post being publishable should be superset of condition of post\n\t// being saveable. Currently this restriction is imposed at UI.\n\t//\n\t//  See: <PostPublishButton /> (`isButtonEnabled` assigned by `isSaveable`).\n\n\t// Attachments should only be publishable if they have unsaved changes.\n\tif ( post.type === ATTACHMENT_POST_TYPE ) {\n\t\treturn isEditedPostDirty( state );\n\t}\n\n\treturn (\n\t\tisEditedPostDirty( state ) ||\n\t\t[ 'publish', 'private', 'future' ].indexOf( post.status ) === -1\n\t);\n}\n\n/**\n * Returns true if the post can be saved, or false otherwise. A post must\n * contain a title, an excerpt, or non-empty content to be valid for save.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post can be saved.\n */\nexport function isEditedPostSaveable( state ) {\n\tif ( isSavingPost( state ) ) {\n\t\treturn false;\n\t}\n\n\t// TODO: Post should not be saveable if not dirty. Cannot be added here at\n\t// this time since posts where meta boxes are present can be saved even if\n\t// the post is not dirty. Currently this restriction is imposed at UI, but\n\t// should be moved here.\n\t//\n\t//  See: `isEditedPostPublishable` (includes `isEditedPostDirty` condition)\n\t//  See: <PostSavedState /> (`forceIsDirty` prop)\n\t//  See: <PostPublishButton /> (`forceIsDirty` prop)\n\t//  See: https://github.com/WordPress/gutenberg/pull/4184.\n\n\treturn (\n\t\t!! getEditedPostAttribute( state, 'title' ) ||\n\t\t!! getEditedPostAttribute( state, 'excerpt' ) ||\n\t\t! isEditedPostEmpty( state ) ||\n\t\tPlatform.OS === 'native'\n\t);\n}\n\n/**\n * Returns true if the edited post has content. A post has content if it has at\n * least one saveable block or otherwise has a non-empty content property\n * assigned.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post has content.\n */\nexport const isEditedPostEmpty = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\t// While the condition of truthy content string is sufficient to determine\n\t\t// emptiness, testing saveable blocks length is a trivial operation. Since\n\t\t// this function can be called frequently, optimize for the fast case as a\n\t\t// condition of the mere existence of blocks. Note that the value of edited\n\t\t// content takes precedent over block content, and must fall through to the\n\t\t// default logic.\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst record = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tif ( typeof record.content !== 'function' ) {\n\t\t\treturn ! record.content;\n\t\t}\n\n\t\tconst blocks = getEditedPostAttribute( state, 'blocks' );\n\n\t\tif ( blocks.length === 0 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Pierce the abstraction of the serializer in knowing that blocks are\n\t\t// joined with newlines such that even if every individual block\n\t\t// produces an empty save result, the serialized content is non-empty.\n\t\tif ( blocks.length > 1 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// There are two conditions under which the optimization cannot be\n\t\t// assumed, and a fallthrough to getEditedPostContent must occur:\n\t\t//\n\t\t// 1. getBlocksForSerialization has special treatment in omitting a\n\t\t//    single unmodified default block.\n\t\t// 2. Comment delimiters are omitted for a freeform or unregistered\n\t\t//    block in its serialization. The freeform block specifically may\n\t\t//    produce an empty string in its saved output.\n\t\t//\n\t\t// For all other content, the single block is assumed to make a post\n\t\t// non-empty, if only by virtue of its own comment delimiters.\n\t\tconst blockName = blocks[ 0 ].name;\n\t\tif (\n\t\t\tblockName !== getDefaultBlockName() &&\n\t\t\tblockName !== getFreeformContentHandlerName()\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ! getEditedPostContent( state );\n\t}\n);\n\n/**\n * Returns true if the post can be autosaved, or false otherwise.\n *\n * @param {Object} state    Global application state.\n * @param {Object} autosave A raw autosave object from the REST API.\n *\n * @return {boolean} Whether the post can be autosaved.\n */\nexport const isEditedPostAutosaveable = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\t// A post must contain a title, an excerpt, or non-empty content to be valid for autosaving.\n\t\tif ( ! isEditedPostSaveable( state ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// A post is not autosavable when there is a post autosave lock.\n\t\tif ( isPostAutosavingLocked( state ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postTypeObject = select( coreStore ).getPostType( postType );\n\n\t\tif ( ! postTypeObject?.supports?.autosave ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst hasFetchedAutosave = select( coreStore ).hasFetchedAutosaves(\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tconst currentUserId = select( coreStore ).getCurrentUser()?.id;\n\n\t\t// Disable reason - this line causes the side-effect of fetching the autosave\n\t\t// via a resolver, moving below the return would result in the autosave never\n\t\t// being fetched.\n\t\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\t\tconst autosave = select( coreStore ).getAutosave(\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\tcurrentUserId\n\t\t);\n\n\t\t// If any existing autosaves have not yet been fetched, this function is\n\t\t// unable to determine if the post is autosaveable, so return false.\n\t\tif ( ! hasFetchedAutosave ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If we don't already have an autosave, the post is autosaveable.\n\t\tif ( ! autosave ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// To avoid an expensive content serialization, use the content dirtiness\n\t\t// flag in place of content field comparison against the known autosave.\n\t\t// This is not strictly accurate, and relies on a tolerance toward autosave\n\t\t// request failures for unnecessary saves.\n\t\tif ( hasChangedContent( state ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If title, excerpt, or meta have changed, the post is autosaveable.\n\t\treturn [ 'title', 'excerpt', 'meta' ].some(\n\t\t\t( field ) =>\n\t\t\t\tgetPostRawValue( autosave[ field ] ) !==\n\t\t\t\tgetEditedPostAttribute( state, field )\n\t\t);\n\t}\n);\n\n/**\n * Return true if the post being edited is being scheduled. Preferring the\n * unsaved status values.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post has been published.\n */\nexport function isEditedPostBeingScheduled( state ) {\n\tconst date = getEditedPostAttribute( state, 'date' );\n\t// Offset the date by one minute (network latency).\n\tconst checkedDate = new Date(\n\t\tNumber( getDate( date ) ) - ONE_MINUTE_IN_MS\n\t);\n\n\treturn isInTheFuture( checkedDate );\n}\n\n/**\n * Returns whether the current post should be considered to have a \"floating\"\n * date (i.e. that it would publish \"Immediately\" rather than at a set time).\n *\n * Unlike in the PHP backend, the REST API returns a full date string for posts\n * where the 0000-00-00T00:00:00 placeholder is present in the database. To\n * infer that a post is set to publish \"Immediately\" we check whether the date\n * and modified date are the same.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether the edited post has a floating date value.\n */\nexport function isEditedPostDateFloating( state ) {\n\tconst date = getEditedPostAttribute( state, 'date' );\n\tconst modified = getEditedPostAttribute( state, 'modified' );\n\n\t// This should be the status of the persisted post\n\t// It shouldn't use the \"edited\" status otherwise it breaks the\n\t// inferred post data floating status\n\t// See https://github.com/WordPress/gutenberg/issues/28083.\n\tconst status = getCurrentPost( state ).status;\n\tif (\n\t\tstatus === 'draft' ||\n\t\tstatus === 'auto-draft' ||\n\t\tstatus === 'pending'\n\t) {\n\t\treturn date === modified || date === null;\n\t}\n\treturn false;\n}\n\n/**\n * Returns true if the post is currently being deleted, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether post is being deleted.\n */\nexport function isDeletingPost( state ) {\n\treturn !! state.deleting.pending;\n}\n\n/**\n * Returns true if the post is currently being saved, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post is being saved.\n */\nexport function isSavingPost( state ) {\n\treturn !! state.saving.pending;\n}\n\n/**\n * Returns true if non-post entities are currently being saved, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether non-post entities are being saved.\n */\nexport const isSavingNonPostEntityChanges = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst entitiesBeingSaved =\n\t\t\tselect( coreStore ).__experimentalGetEntitiesBeingSaved();\n\t\tconst { type, id } = getCurrentPost( state );\n\t\treturn entitiesBeingSaved.some(\n\t\t\t( entityRecord ) =>\n\t\t\t\tentityRecord.kind !== 'postType' ||\n\t\t\t\tentityRecord.name !== type ||\n\t\t\t\tentityRecord.key !== id\n\t\t);\n\t}\n);\n\n/**\n * Returns true if a previous post save was attempted successfully, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post was saved successfully.\n */\nexport const didPostSaveRequestSucceed = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn ! select( coreStore ).getLastEntitySaveError(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t}\n);\n\n/**\n * Returns true if a previous post save was attempted but failed, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post save failed.\n */\nexport const didPostSaveRequestFail = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn !! select( coreStore ).getLastEntitySaveError(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t}\n);\n\n/**\n * Returns true if the post is autosaving, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is autosaving.\n */\nexport function isAutosavingPost( state ) {\n\treturn isSavingPost( state ) && Boolean( state.saving.options?.isAutosave );\n}\n\n/**\n * Returns true if the post is being previewed, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is being previewed.\n */\nexport function isPreviewingPost( state ) {\n\treturn isSavingPost( state ) && Boolean( state.saving.options?.isPreview );\n}\n\n/**\n * Returns the post preview link\n *\n * @param {Object} state Global application state.\n *\n * @return {string | undefined} Preview Link.\n */\nexport function getEditedPostPreviewLink( state ) {\n\tif ( state.saving.pending || isSavingPost( state ) ) {\n\t\treturn;\n\t}\n\n\tlet previewLink = getAutosaveAttribute( state, 'preview_link' );\n\t// Fix for issue: https://github.com/WordPress/gutenberg/issues/33616\n\t// If the post is draft, ignore the preview link from the autosave record,\n\t// because the preview could be a stale autosave if the post was switched from\n\t// published to draft.\n\t// See: https://github.com/WordPress/gutenberg/pull/37952.\n\tif ( ! previewLink || 'draft' === getCurrentPost( state ).status ) {\n\t\tpreviewLink = getEditedPostAttribute( state, 'link' );\n\t\tif ( previewLink ) {\n\t\t\tpreviewLink = addQueryArgs( previewLink, { preview: true } );\n\t\t}\n\t}\n\tconst featuredImageId = getEditedPostAttribute( state, 'featured_media' );\n\n\tif ( previewLink && featuredImageId ) {\n\t\treturn addQueryArgs( previewLink, { _thumbnail_id: featuredImageId } );\n\t}\n\n\treturn previewLink;\n}\n\n/**\n * Returns a suggested post format for the current post, inferred only if there\n * is a single block within the post and it is of a type known to match a\n * default post format. Returns null if the format cannot be determined.\n *\n * @return {?string} Suggested post format.\n */\nexport const getSuggestedPostFormat = createRegistrySelector(\n\t( select ) => () => {\n\t\tconst blocks = select( blockEditorStore ).getBlocks();\n\n\t\tif ( blocks.length > 2 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet name;\n\t\t// If there is only one block in the content of the post grab its name\n\t\t// so we can derive a suitable post format from it.\n\t\tif ( blocks.length === 1 ) {\n\t\t\tname = blocks[ 0 ].name;\n\t\t\t// Check for core/embed `video` and `audio` eligible suggestions.\n\t\t\tif ( name === 'core/embed' ) {\n\t\t\t\tconst provider = blocks[ 0 ].attributes?.providerNameSlug;\n\t\t\t\tif ( [ 'youtube', 'vimeo' ].includes( provider ) ) {\n\t\t\t\t\tname = 'core/video';\n\t\t\t\t} else if ( [ 'spotify', 'soundcloud' ].includes( provider ) ) {\n\t\t\t\t\tname = 'core/audio';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If there are two blocks in the content and the last one is a text blocks\n\t\t// grab the name of the first one to also suggest a post format from it.\n\t\tif ( blocks.length === 2 && blocks[ 1 ].name === 'core/paragraph' ) {\n\t\t\tname = blocks[ 0 ].name;\n\t\t}\n\n\t\t// We only convert to default post formats in core.\n\t\tswitch ( name ) {\n\t\t\tcase 'core/image':\n\t\t\t\treturn 'image';\n\t\t\tcase 'core/quote':\n\t\t\tcase 'core/pullquote':\n\t\t\t\treturn 'quote';\n\t\t\tcase 'core/gallery':\n\t\t\t\treturn 'gallery';\n\t\t\tcase 'core/video':\n\t\t\t\treturn 'video';\n\t\t\tcase 'core/audio':\n\t\t\t\treturn 'audio';\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n);\n\n/**\n * Returns the content of the post being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post content.\n */\nexport const getEditedPostContent = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst record = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tif ( record ) {\n\t\t\tif ( typeof record.content === 'function' ) {\n\t\t\t\treturn record.content( record );\n\t\t\t} else if ( record.blocks ) {\n\t\t\t\treturn __unstableSerializeAndClean( record.blocks );\n\t\t\t} else if ( record.content ) {\n\t\t\t\treturn record.content;\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t}\n);\n\n/**\n * Returns true if the post is being published, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post is being published.\n */\nexport function isPublishingPost( state ) {\n\treturn (\n\t\tisSavingPost( state ) &&\n\t\t! isCurrentPostPublished( state ) &&\n\t\tgetEditedPostAttribute( state, 'status' ) === 'publish'\n\t);\n}\n\n/**\n * Returns whether the permalink is editable or not.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether or not the permalink is editable.\n */\nexport function isPermalinkEditable( state ) {\n\tconst permalinkTemplate = getEditedPostAttribute(\n\t\tstate,\n\t\t'permalink_template'\n\t);\n\n\treturn PERMALINK_POSTNAME_REGEX.test( permalinkTemplate );\n}\n\n/**\n * Returns the permalink for the post.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} The permalink, or null if the post is not viewable.\n */\nexport function getPermalink( state ) {\n\tconst permalinkParts = getPermalinkParts( state );\n\tif ( ! permalinkParts ) {\n\t\treturn null;\n\t}\n\n\tconst { prefix, postName, suffix } = permalinkParts;\n\n\tif ( isPermalinkEditable( state ) ) {\n\t\treturn prefix + postName + suffix;\n\t}\n\n\treturn prefix;\n}\n\n/**\n * Returns the slug for the post being edited, preferring a manually edited\n * value if one exists, then a sanitized version of the current post title, and\n * finally the post ID.\n *\n * @param {Object} state Editor state.\n *\n * @return {string} The current slug to be displayed in the editor\n */\nexport function getEditedPostSlug( state ) {\n\treturn (\n\t\tgetEditedPostAttribute( state, 'slug' ) ||\n\t\tcleanForSlug( getEditedPostAttribute( state, 'title' ) ) ||\n\t\tgetCurrentPostId( state )\n\t);\n}\n\n/**\n * Returns the permalink for a post, split into its three parts: the prefix,\n * the postName, and the suffix.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} An object containing the prefix, postName, and suffix for\n *                  the permalink, or null if the post is not viewable.\n */\nexport function getPermalinkParts( state ) {\n\tconst permalinkTemplate = getEditedPostAttribute(\n\t\tstate,\n\t\t'permalink_template'\n\t);\n\tif ( ! permalinkTemplate ) {\n\t\treturn null;\n\t}\n\n\tconst postName =\n\t\tgetEditedPostAttribute( state, 'slug' ) ||\n\t\tgetEditedPostAttribute( state, 'generated_slug' );\n\n\tconst [ prefix, suffix ] = permalinkTemplate.split(\n\t\tPERMALINK_POSTNAME_REGEX\n\t);\n\n\treturn {\n\t\tprefix,\n\t\tpostName,\n\t\tsuffix,\n\t};\n}\n\n/**\n * Returns whether the post is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostLocked( state ) {\n\treturn state.postLock.isLocked;\n}\n\n/**\n * Returns whether post saving is locked.\n *\n * @param {Object} state Global application state.\n *\n * @example\n * ```jsx\n * import { __ } from '@wordpress/i18n';\n * import { store as editorStore } from '@wordpress/editor';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n * \tconst isSavingLocked = useSelect(\n * \t\t( select ) => select( editorStore ).isPostSavingLocked(),\n * \t\t[]\n * \t);\n *\n * \treturn isSavingLocked ? (\n * \t\t<p>{ __( 'Post saving is locked' ) }</p>\n * \t) : (\n * \t\t<p>{ __( 'Post saving is not locked' ) }</p>\n * \t);\n * };\n * ```\n *\n * @return {boolean} Is locked.\n */\nexport function isPostSavingLocked( state ) {\n\treturn Object.keys( state.postSavingLock ).length > 0;\n}\n\n/**\n * Returns whether post autosaving is locked.\n *\n * @param {Object} state Global application state.\n *\n * @example\n * ```jsx\n * import { __ } from '@wordpress/i18n';\n * import { store as editorStore } from '@wordpress/editor';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n * \tconst isAutoSavingLocked = useSelect(\n * \t\t( select ) => select( editorStore ).isPostAutosavingLocked(),\n * \t\t[]\n * \t);\n *\n * \treturn isAutoSavingLocked ? (\n * \t\t<p>{ __( 'Post auto saving is locked' ) }</p>\n * \t) : (\n * \t\t<p>{ __( 'Post auto saving is not locked' ) }</p>\n * \t);\n * };\n * ```\n *\n * @return {boolean} Is locked.\n */\nexport function isPostAutosavingLocked( state ) {\n\treturn Object.keys( state.postAutosavingLock ).length > 0;\n}\n\n/**\n * Returns whether the edition of the post has been taken over.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is post lock takeover.\n */\nexport function isPostLockTakeover( state ) {\n\treturn state.postLock.isTakeover;\n}\n\n/**\n * Returns details about the post lock user.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} A user object.\n */\nexport function getPostLockUser( state ) {\n\treturn state.postLock.user;\n}\n\n/**\n * Returns the active post lock.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The lock object.\n */\nexport function getActivePostLock( state ) {\n\treturn state.postLock.activePostLock;\n}\n\n/**\n * Returns whether or not the user has the unfiltered_html capability.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether the user can or can't post unfiltered HTML.\n */\nexport function canUserUseUnfilteredHTML( state ) {\n\treturn Boolean(\n\t\tgetCurrentPost( state )._links?.hasOwnProperty(\n\t\t\t'wp:action-unfiltered-html'\n\t\t)\n\t);\n}\n\n/**\n * Returns whether the pre-publish panel should be shown\n * or skipped when the user clicks the \"publish\" button.\n *\n * @return {boolean} Whether the pre-publish panel should be shown or not.\n */\nexport const isPublishSidebarEnabled = createRegistrySelector(\n\t( select ) => () =>\n\t\t!! select( preferencesStore ).get( 'core', 'isPublishSidebarEnabled' )\n);\n\n/**\n * Return the current block list.\n *\n * @param {Object} state\n * @return {Array} Block list.\n */\nexport const getEditorBlocks = createSelector(\n\t( state ) => {\n\t\treturn (\n\t\t\tgetEditedPostAttribute( state, 'blocks' ) ||\n\t\t\tparse( getEditedPostContent( state ) )\n\t\t);\n\t},\n\t( state ) => [\n\t\tgetEditedPostAttribute( state, 'blocks' ),\n\t\tgetEditedPostContent( state ),\n\t]\n);\n\n/**\n * Returns true if the given panel was programmatically removed, or false otherwise.\n * All panels are not removed by default.\n *\n * @param {Object} state     Global application state.\n * @param {string} panelName A string that identifies the panel.\n *\n * @return {boolean} Whether or not the panel is removed.\n */\nexport function isEditorPanelRemoved( state, panelName ) {\n\treturn state.removedPanels.includes( panelName );\n}\n\n/**\n * Returns true if the given panel is enabled, or false otherwise. Panels are\n * enabled by default.\n *\n * @param {Object} state     Global application state.\n * @param {string} panelName A string that identifies the panel.\n *\n * @return {boolean} Whether or not the panel is enabled.\n */\nexport const isEditorPanelEnabled = createRegistrySelector(\n\t( select ) => ( state, panelName ) => {\n\t\t// For backward compatibility, we check edit-post\n\t\t// even though now this is in \"editor\" package.\n\t\tconst inactivePanels = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'inactivePanels'\n\t\t);\n\t\treturn (\n\t\t\t! isEditorPanelRemoved( state, panelName ) &&\n\t\t\t! inactivePanels?.includes( panelName )\n\t\t);\n\t}\n);\n\n/**\n * Returns true if the given panel is open, or false otherwise. Panels are\n * closed by default.\n *\n * @param {Object} state     Global application state.\n * @param {string} panelName A string that identifies the panel.\n *\n * @return {boolean} Whether or not the panel is open.\n */\nexport const isEditorPanelOpened = createRegistrySelector(\n\t( select ) => ( state, panelName ) => {\n\t\t// For backward compatibility, we check edit-post\n\t\t// even though now this is in \"editor\" package.\n\t\tconst openPanels = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'openPanels'\n\t\t);\n\t\treturn !! openPanels?.includes( panelName );\n\t}\n);\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPBlockSelection\n *\n * @property {string} clientId     A block client ID.\n * @property {string} attributeKey A block attribute key.\n * @property {number} offset       An attribute value offset, based on the rich\n *                                 text value. See `wp.richText.create`.\n */\n\n/**\n * Returns the current selection start.\n *\n * @deprecated since Gutenberg 10.0.0.\n *\n * @param {Object} state\n * @return {WPBlockSelection} The selection start.\n */\nexport function getEditorSelectionStart( state ) {\n\tdeprecated( \"select('core/editor').getEditorSelectionStart\", {\n\t\tsince: '5.8',\n\t\talternative: \"select('core/editor').getEditorSelection\",\n\t} );\n\treturn getEditedPostAttribute( state, 'selection' )?.selectionStart;\n}\n\n/**\n * Returns the current selection end.\n *\n * @deprecated since Gutenberg 10.0.0.\n *\n * @param {Object} state\n * @return {WPBlockSelection} The selection end.\n */\nexport function getEditorSelectionEnd( state ) {\n\tdeprecated( \"select('core/editor').getEditorSelectionStart\", {\n\t\tsince: '5.8',\n\t\talternative: \"select('core/editor').getEditorSelection\",\n\t} );\n\treturn getEditedPostAttribute( state, 'selection' )?.selectionEnd;\n}\n\n/**\n * Returns the current selection.\n *\n * @param {Object} state\n * @return {WPBlockSelection} The selection end.\n */\nexport function getEditorSelection( state ) {\n\treturn getEditedPostAttribute( state, 'selection' );\n}\n\n/**\n * Is the editor ready\n *\n * @param {Object} state\n * @return {boolean} is Ready.\n */\nexport function __unstableIsEditorReady( state ) {\n\treturn !! state.postId;\n}\n\n/**\n * Returns the post editor settings.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} The editor settings object.\n */\nexport function getEditorSettings( state ) {\n\treturn state.editorSettings;\n}\n\n/**\n * Returns the post editor's rendering mode.\n *\n * @param {Object} state Editor state.\n *\n * @return {string} Rendering mode.\n */\nexport function getRenderingMode( state ) {\n\treturn state.renderingMode;\n}\n\n/**\n * Returns the current editing canvas device type.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Device type.\n */\nexport const getDeviceType = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst isZoomOut = unlock( select( blockEditorStore ) ).isZoomOut();\n\t\tif ( isZoomOut ) {\n\t\t\treturn 'Desktop';\n\t\t}\n\t\treturn state.deviceType;\n\t}\n);\n\n/**\n * Returns true if the list view is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the list view is opened.\n */\nexport function isListViewOpened( state ) {\n\treturn state.listViewPanel;\n}\n\n/**\n * Returns true if the inserter is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the inserter is opened.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/**\n * Returns the current editing mode.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Editing mode.\n */\nexport const getEditorMode = createRegistrySelector(\n\t( select ) => () =>\n\t\tselect( preferencesStore ).get( 'core', 'editorMode' ) ?? 'visual'\n);\n\n/*\n * Backward compatibility\n */\n\n/**\n * Returns state object prior to a specified optimist transaction ID, or `null`\n * if the transaction corresponding to the given ID cannot be found.\n *\n * @deprecated since Gutenberg 9.7.0.\n */\nexport function getStateBeforeOptimisticTransaction() {\n\tdeprecated( \"select('core/editor').getStateBeforeOptimisticTransaction\", {\n\t\tsince: '5.7',\n\t\thint: 'No state history is kept on this store anymore',\n\t} );\n\n\treturn null;\n}\n/**\n * Returns true if an optimistic transaction is pending commit, for which the\n * before state satisfies the given predicate function.\n *\n * @deprecated since Gutenberg 9.7.0.\n */\nexport function inSomeHistory() {\n\tdeprecated( \"select('core/editor').inSomeHistory\", {\n\t\tsince: '5.7',\n\t\thint: 'No state history is kept on this store anymore',\n\t} );\n\treturn false;\n}\n\nfunction getBlockEditorSelector( name ) {\n\treturn createRegistrySelector( ( select ) => ( state, ...args ) => {\n\t\tdeprecated( \"`wp.data.select( 'core/editor' ).\" + name + '`', {\n\t\t\tsince: '5.3',\n\t\t\talternative: \"`wp.data.select( 'core/block-editor' ).\" + name + '`',\n\t\t\tversion: '6.2',\n\t\t} );\n\n\t\treturn select( blockEditorStore )[ name ]( ...args );\n\t} );\n}\n\n/**\n * @see getBlockName in core/block-editor store.\n */\nexport const getBlockName = getBlockEditorSelector( 'getBlockName' );\n\n/**\n * @see isBlockValid in core/block-editor store.\n */\nexport const isBlockValid = getBlockEditorSelector( 'isBlockValid' );\n\n/**\n * @see getBlockAttributes in core/block-editor store.\n */\nexport const getBlockAttributes =\n\tgetBlockEditorSelector( 'getBlockAttributes' );\n\n/**\n * @see getBlock in core/block-editor store.\n */\nexport const getBlock = getBlockEditorSelector( 'getBlock' );\n\n/**\n * @see getBlocks in core/block-editor store.\n */\nexport const getBlocks = getBlockEditorSelector( 'getBlocks' );\n\n/**\n * @see getClientIdsOfDescendants in core/block-editor store.\n */\nexport const getClientIdsOfDescendants = getBlockEditorSelector(\n\t'getClientIdsOfDescendants'\n);\n\n/**\n * @see getClientIdsWithDescendants in core/block-editor store.\n */\nexport const getClientIdsWithDescendants = getBlockEditorSelector(\n\t'getClientIdsWithDescendants'\n);\n\n/**\n * @see getGlobalBlockCount in core/block-editor store.\n */\nexport const getGlobalBlockCount = getBlockEditorSelector(\n\t'getGlobalBlockCount'\n);\n\n/**\n * @see getBlocksByClientId in core/block-editor store.\n */\nexport const getBlocksByClientId = getBlockEditorSelector(\n\t'getBlocksByClientId'\n);\n\n/**\n * @see getBlockCount in core/block-editor store.\n */\nexport const getBlockCount = getBlockEditorSelector( 'getBlockCount' );\n\n/**\n * @see getBlockSelectionStart in core/block-editor store.\n */\nexport const getBlockSelectionStart = getBlockEditorSelector(\n\t'getBlockSelectionStart'\n);\n\n/**\n * @see getBlockSelectionEnd in core/block-editor store.\n */\nexport const getBlockSelectionEnd = getBlockEditorSelector(\n\t'getBlockSelectionEnd'\n);\n\n/**\n * @see getSelectedBlockCount in core/block-editor store.\n */\nexport const getSelectedBlockCount = getBlockEditorSelector(\n\t'getSelectedBlockCount'\n);\n\n/**\n * @see hasSelectedBlock in core/block-editor store.\n */\nexport const hasSelectedBlock = getBlockEditorSelector( 'hasSelectedBlock' );\n\n/**\n * @see getSelectedBlockClientId in core/block-editor store.\n */\nexport const getSelectedBlockClientId = getBlockEditorSelector(\n\t'getSelectedBlockClientId'\n);\n\n/**\n * @see getSelectedBlock in core/block-editor store.\n */\nexport const getSelectedBlock = getBlockEditorSelector( 'getSelectedBlock' );\n\n/**\n * @see getBlockRootClientId in core/block-editor store.\n */\nexport const getBlockRootClientId = getBlockEditorSelector(\n\t'getBlockRootClientId'\n);\n\n/**\n * @see getBlockHierarchyRootClientId in core/block-editor store.\n */\nexport const getBlockHierarchyRootClientId = getBlockEditorSelector(\n\t'getBlockHierarchyRootClientId'\n);\n\n/**\n * @see getAdjacentBlockClientId in core/block-editor store.\n */\nexport const getAdjacentBlockClientId = getBlockEditorSelector(\n\t'getAdjacentBlockClientId'\n);\n\n/**\n * @see getPreviousBlockClientId in core/block-editor store.\n */\nexport const getPreviousBlockClientId = getBlockEditorSelector(\n\t'getPreviousBlockClientId'\n);\n\n/**\n * @see getNextBlockClientId in core/block-editor store.\n */\nexport const getNextBlockClientId = getBlockEditorSelector(\n\t'getNextBlockClientId'\n);\n\n/**\n * @see getSelectedBlocksInitialCaretPosition in core/block-editor store.\n */\nexport const getSelectedBlocksInitialCaretPosition = getBlockEditorSelector(\n\t'getSelectedBlocksInitialCaretPosition'\n);\n\n/**\n * @see getMultiSelectedBlockClientIds in core/block-editor store.\n */\nexport const getMultiSelectedBlockClientIds = getBlockEditorSelector(\n\t'getMultiSelectedBlockClientIds'\n);\n\n/**\n * @see getMultiSelectedBlocks in core/block-editor store.\n */\nexport const getMultiSelectedBlocks = getBlockEditorSelector(\n\t'getMultiSelectedBlocks'\n);\n\n/**\n * @see getFirstMultiSelectedBlockClientId in core/block-editor store.\n */\nexport const getFirstMultiSelectedBlockClientId = getBlockEditorSelector(\n\t'getFirstMultiSelectedBlockClientId'\n);\n\n/**\n * @see getLastMultiSelectedBlockClientId in core/block-editor store.\n */\nexport const getLastMultiSelectedBlockClientId = getBlockEditorSelector(\n\t'getLastMultiSelectedBlockClientId'\n);\n\n/**\n * @see isFirstMultiSelectedBlock in core/block-editor store.\n */\nexport const isFirstMultiSelectedBlock = getBlockEditorSelector(\n\t'isFirstMultiSelectedBlock'\n);\n\n/**\n * @see isBlockMultiSelected in core/block-editor store.\n */\nexport const isBlockMultiSelected = getBlockEditorSelector(\n\t'isBlockMultiSelected'\n);\n\n/**\n * @see isAncestorMultiSelected in core/block-editor store.\n */\nexport const isAncestorMultiSelected = getBlockEditorSelector(\n\t'isAncestorMultiSelected'\n);\n\n/**\n * @see getMultiSelectedBlocksStartClientId in core/block-editor store.\n */\nexport const getMultiSelectedBlocksStartClientId = getBlockEditorSelector(\n\t'getMultiSelectedBlocksStartClientId'\n);\n\n/**\n * @see getMultiSelectedBlocksEndClientId in core/block-editor store.\n */\nexport const getMultiSelectedBlocksEndClientId = getBlockEditorSelector(\n\t'getMultiSelectedBlocksEndClientId'\n);\n\n/**\n * @see getBlockOrder in core/block-editor store.\n */\nexport const getBlockOrder = getBlockEditorSelector( 'getBlockOrder' );\n\n/**\n * @see getBlockIndex in core/block-editor store.\n */\nexport const getBlockIndex = getBlockEditorSelector( 'getBlockIndex' );\n\n/**\n * @see isBlockSelected in core/block-editor store.\n */\nexport const isBlockSelected = getBlockEditorSelector( 'isBlockSelected' );\n\n/**\n * @see hasSelectedInnerBlock in core/block-editor store.\n */\nexport const hasSelectedInnerBlock = getBlockEditorSelector(\n\t'hasSelectedInnerBlock'\n);\n\n/**\n * @see isBlockWithinSelection in core/block-editor store.\n */\nexport const isBlockWithinSelection = getBlockEditorSelector(\n\t'isBlockWithinSelection'\n);\n\n/**\n * @see hasMultiSelection in core/block-editor store.\n */\nexport const hasMultiSelection = getBlockEditorSelector( 'hasMultiSelection' );\n\n/**\n * @see isMultiSelecting in core/block-editor store.\n */\nexport const isMultiSelecting = getBlockEditorSelector( 'isMultiSelecting' );\n\n/**\n * @see isSelectionEnabled in core/block-editor store.\n */\nexport const isSelectionEnabled =\n\tgetBlockEditorSelector( 'isSelectionEnabled' );\n\n/**\n * @see getBlockMode in core/block-editor store.\n */\nexport const getBlockMode = getBlockEditorSelector( 'getBlockMode' );\n\n/**\n * @see isTyping in core/block-editor store.\n */\nexport const isTyping = getBlockEditorSelector( 'isTyping' );\n\n/**\n * @see isCaretWithinFormattedText in core/block-editor store.\n */\nexport const isCaretWithinFormattedText = getBlockEditorSelector(\n\t'isCaretWithinFormattedText'\n);\n\n/**\n * @see getBlockInsertionPoint in core/block-editor store.\n */\nexport const getBlockInsertionPoint = getBlockEditorSelector(\n\t'getBlockInsertionPoint'\n);\n\n/**\n * @see isBlockInsertionPointVisible in core/block-editor store.\n */\nexport const isBlockInsertionPointVisible = getBlockEditorSelector(\n\t'isBlockInsertionPointVisible'\n);\n\n/**\n * @see isValidTemplate in core/block-editor store.\n */\nexport const isValidTemplate = getBlockEditorSelector( 'isValidTemplate' );\n\n/**\n * @see getTemplate in core/block-editor store.\n */\nexport const getTemplate = getBlockEditorSelector( 'getTemplate' );\n\n/**\n * @see getTemplateLock in core/block-editor store.\n */\nexport const getTemplateLock = getBlockEditorSelector( 'getTemplateLock' );\n\n/**\n * @see canInsertBlockType in core/block-editor store.\n */\nexport const canInsertBlockType =\n\tgetBlockEditorSelector( 'canInsertBlockType' );\n\n/**\n * @see getInserterItems in core/block-editor store.\n */\nexport const getInserterItems = getBlockEditorSelector( 'getInserterItems' );\n\n/**\n * @see hasInserterItems in core/block-editor store.\n */\nexport const hasInserterItems = getBlockEditorSelector( 'hasInserterItems' );\n\n/**\n * @see getBlockListSettings in core/block-editor store.\n */\nexport const getBlockListSettings = getBlockEditorSelector(\n\t'getBlockListSettings'\n);\n\nexport const __experimentalGetDefaultTemplateTypes = createRegistrySelector(\n\t( select ) => () => {\n\t\tdeprecated(\n\t\t\t\"select('core/editor').__experimentalGetDefaultTemplateTypes\",\n\t\t\t{\n\t\t\t\tsince: '6.8',\n\t\t\t\talternative:\n\t\t\t\t\t\"select('core/core-data').getCurrentTheme()?.default_template_types\",\n\t\t\t}\n\t\t);\n\t\treturn select( coreStore ).getCurrentTheme()?.default_template_types;\n\t}\n);\n\n/**\n * Returns the default template part areas.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} The template part areas.\n */\nexport const __experimentalGetDefaultTemplatePartAreas = createRegistrySelector(\n\t( select ) =>\n\t\tcreateSelector( () => {\n\t\t\tdeprecated(\n\t\t\t\t\"select('core/editor').__experimentalGetDefaultTemplatePartAreas\",\n\t\t\t\t{\n\t\t\t\t\tsince: '6.8',\n\t\t\t\t\talternative:\n\t\t\t\t\t\t\"select('core/core-data').getCurrentTheme()?.default_template_part_areas\",\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst areas =\n\t\t\t\tselect( coreStore ).getCurrentTheme()\n\t\t\t\t\t?.default_template_part_areas || [];\n\n\t\t\treturn areas.map( ( item ) => {\n\t\t\t\treturn { ...item, icon: getTemplatePartIcon( item.icon ) };\n\t\t\t} );\n\t\t} )\n);\n\n/**\n * Returns a default template type searched by slug.\n *\n * @param {Object} state Global application state.\n * @param {string} slug  The template type slug.\n *\n * @return {Object} The template type.\n */\nexport const __experimentalGetDefaultTemplateType = createRegistrySelector(\n\t( select ) =>\n\t\tcreateSelector( ( state, slug ) => {\n\t\t\tdeprecated(\n\t\t\t\t\"select('core/editor').__experimentalGetDefaultTemplateType\",\n\t\t\t\t{\n\t\t\t\t\tsince: '6.8',\n\t\t\t\t}\n\t\t\t);\n\t\t\tconst templateTypes =\n\t\t\t\tselect( coreStore ).getCurrentTheme()?.default_template_types;\n\n\t\t\tif ( ! templateTypes ) {\n\t\t\t\treturn EMPTY_OBJECT;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\tObject.values( templateTypes ).find(\n\t\t\t\t\t( type ) => type.slug === slug\n\t\t\t\t) ?? EMPTY_OBJECT\n\t\t\t);\n\t\t} )\n);\n\n/**\n * Given a template entity, return information about it which is ready to be\n * rendered, such as the title, description, and icon.\n *\n * @param {Object} state    Global application state.\n * @param {Object} template The template for which we need information.\n * @return {Object} Information about the template, including title, description, and icon.\n */\nexport const __experimentalGetTemplateInfo = createRegistrySelector(\n\t( select ) =>\n\t\tcreateSelector( ( state, template ) => {\n\t\t\tdeprecated( \"select('core/editor').__experimentalGetTemplateInfo\", {\n\t\t\t\tsince: '6.8',\n\t\t\t} );\n\n\t\t\tif ( ! template ) {\n\t\t\t\treturn EMPTY_OBJECT;\n\t\t\t}\n\n\t\t\tconst currentTheme = select( coreStore ).getCurrentTheme();\n\n\t\t\tconst templateTypes = currentTheme?.default_template_types || [];\n\t\t\tconst templateAreas =\n\t\t\t\tcurrentTheme?.default_template_part_areas || [];\n\n\t\t\treturn getTemplateInfo( {\n\t\t\t\ttemplate,\n\t\t\t\ttemplateAreas,\n\t\t\t\ttemplateTypes,\n\t\t\t} );\n\t\t} )\n);\n\n/**\n * Returns a post type label depending on the current post.\n *\n * @param {Object} state Global application state.\n *\n * @return {string|undefined} The post type label if available, otherwise undefined.\n */\nexport const getPostTypeLabel = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst currentPostType = getCurrentPostType( state );\n\t\tconst postType = select( coreStore ).getPostType( currentPostType );\n\t\treturn postType?.labels?.singular_name;\n\t}\n);\n\n/**\n * Returns true if the publish sidebar is opened.\n *\n * @param {Object} state Global application state\n *\n * @return {boolean} Whether the publish sidebar is open.\n */\nexport function isPublishSidebarOpened( state ) {\n\treturn state.publishSidebarActive;\n}\n", "/**\n * Set of post properties for which edits should assume a merging behavior,\n * assuming an object value.\n *\n * @type {Set}\n */\nexport const EDIT_MERGE_PROPERTIES = new Set( [ 'meta' ] );\n\n/**\n * Constant for the store module (or reducer) key.\n */\nexport const STORE_NAME = 'core/editor';\n\nexport const PERMALINK_POSTNAME_REGEX = /%(?:postname|pagename)%/;\nexport const ONE_MINUTE_IN_MS = 60 * 1000;\nexport const AUTOSAVE_PROPERTIES = [ 'title', 'excerpt', 'content' ];\nexport const TEMPLATE_PART_AREA_DEFAULT_CATEGORY = 'uncategorized';\nexport const TEMPLATE_POST_TYPE = 'wp_template';\nexport const TEMPLATE_PART_POST_TYPE = 'wp_template_part';\nexport const PATTERN_POST_TYPE = 'wp_block';\nexport const NAVIGATION_POST_TYPE = 'wp_navigation';\nexport const ATTACHMENT_POST_TYPE = 'attachment';\nexport const TEMPLATE_ORIGINS = {\n\tcustom: 'custom',\n\ttheme: 'theme',\n\tplugin: 'plugin',\n};\nexport const TEMPLATE_POST_TYPES = [ 'wp_template', 'wp_template_part' ];\nexport const GLOBAL_POST_TYPES = [\n\t...TEMPLATE_POST_TYPES,\n\t'wp_block',\n\t'wp_navigation',\n];\nexport const DESIGN_POST_TYPES = [\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n];\n", "/**\n * WordPress dependencies\n */\nimport { cloneElement, forwardRef } from '@wordpress/element';\n\n/**\n * External dependencies\n */\nimport type { ReactElement } from 'react';\nimport type { SVGProps } from '@wordpress/primitives';\n\nexport interface IconProps extends SVGProps {\n\t/**\n\t * The SVG component to render\n\t */\n\ticon: ReactElement;\n\t/**\n\t * The size of the icon in pixels\n\t *\n\t * @default 24\n\t */\n\tsize?: number;\n}\n\n/**\n * Return an SVG icon.\n *\n * @param props The component props.\n *\n * @return Icon component\n */\nexport default forwardRef< HTMLElement, IconProps >(\n\t( { icon, size = 24, ...props }: IconProps, ref ) => {\n\t\treturn cloneElement( icon, {\n\t\t\twidth: size,\n\t\t\theight: size,\n\t\t\t...props,\n\t\t\tref,\n\t\t} );\n\t}\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M11.934 7.406a1 1 0 0 0 .914.594H19a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5h5.764a.5.5 0 0 1 .447.276l.723 1.63Zm1.064-1.216a.5.5 0 0 0 .462.31H19a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.764a2 2 0 0 1 1.789 1.106l.445 1.084ZM8.5 10.5h7V12h-7v-1.5Zm7 3.5h-7v1.5h7V14Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M17.7 4.3c-1.2 0-2.8 0-3.8 1-.6.6-.9 1.5-.9 2.6V14c-.6-.6-1.5-1-2.5-1C8.6 13 7 14.6 7 16.5S8.6 20 10.5 20c1.5 0 2.8-1 3.3-2.3.5-.8.7-1.8.7-2.5V7.9c0-.7.2-1.2.5-1.6.6-.6 1.8-.6 2.8-.6h.3V4.3h-.4z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M11.53 4.47a.75.75 0 1 0-1.06 1.06l8 8a.75.75 0 1 0 1.06-1.06l-8-8Zm5 1a.75.75 0 1 0-1.06 1.06l2 2a.75.75 0 1 0 1.06-1.06l-2-2Zm-11.06 10a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-2-2a.75.75 0 0 1 0-1.06Zm.06-5a.75.75 0 0 0-1.06 1.06l8 8a.75.75 0 1 0 1.06-1.06l-8-8Zm-.06-3a.75.75 0 0 1 1.06 0l10 10a.75.75 0 1 1-1.06 1.06l-10-10a.75.75 0 0 1 0-1.06Zm3.06-2a.75.75 0 0 0-1.06 1.06l10 10a.75.75 0 1 0 1.06-1.06l-10-10Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M17.3 10.1C17.3 7.60001 15.2 5.70001 12.5 5.70001C10.3 5.70001 8.4 7.10001 7.9 9.00001H7.7C5.7 9.00001 4 10.7 4 12.8C4 14.9 5.7 16.6 7.7 16.6H9.5V15.2H7.7C6.5 15.2 5.5 14.1 5.5 12.9C5.5 11.7 6.5 10.5 7.7 10.5H9L9.3 9.40001C9.7 8.10001 11 7.20001 12.5 7.20001C14.3 7.20001 15.8 8.50001 15.8 10.1V11.4L17.1 11.6C17.9 11.7 18.5 12.5 18.5 13.4C18.5 14.4 17.7 15.2 16.8 15.2H14.5V16.6H16.7C18.5 16.6 19.9 15.1 19.9 13.3C20 11.7 18.8 10.4 17.3 10.1Z M14.1245 14.2426L15.1852 13.182L12.0032 10L8.82007 13.1831L9.88072 14.2438L11.25 12.8745V18H12.75V12.8681L14.1245 14.2426Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      d=\"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\"\n\t      clipRule=\"evenodd\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M18 4H6c-1.1 0-2 .9-2 2v12.9c0 .6.5 1.1 1.1 1.1.3 0 .5-.1.8-.3L8.5 17H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H7.9l-2.4 2.4V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v9z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M5.625 5.5h9.75c.069 0 .125.056.125.125v9.75a.125.125 0 0 1-.125.125h-9.75a.125.125 0 0 1-.125-.125v-9.75c0-.069.056-.125.125-.125ZM4 5.625C4 4.728 4.728 4 5.625 4h9.75C16.273 4 17 4.728 17 5.625v9.75c0 .898-.727 1.625-1.625 1.625h-9.75A1.625 1.625 0 0 1 4 15.375v-9.75Zm14.5 11.656v-9H20v9C20 18.8 18.77 20 17.251 20H6.25v-1.5h11.001c.69 0 1.249-.528 1.249-1.219Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8 4a4 4 0 0 0 4-4H8a4 4 0 0 0 4 4Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M3 7c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7Zm2-.5h14c.3 0 .5.2.5.5v1L12 13.5 4.5 7.9V7c0-.3.2-.5.5-.5Zm-.5 3.3V17c0 .3.2.5.5.5h14c.3 0 .5-.2.5-.5V9.8L12 15.4 4.5 9.8Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12.218 5.377a.25.25 0 0 0-.436 0l-7.29 12.96a.25.25 0 0 0 .218.373h14.58a.25.25 0 0 0 .218-.372l-7.29-12.96Zm-1.743-.735c.669-1.19 2.381-1.19 3.05 0l7.29 12.96a1.75 1.75 0 0 1-1.525 2.608H4.71a1.75 1.75 0 0 1-1.525-2.608l7.29-12.96ZM12.75 17.46h-1.5v-1.5h1.5v1.5Zm-1.5-3h1.5v-5h-1.5v5Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12.848 8a1 1 0 0 1-.914-.594l-.723-1.63a.5.5 0 0 0-.447-.276H5a.5.5 0 0 0-.5.5v11.5a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5v-9A.5.5 0 0 0 19 8h-6.152Zm.612-1.5a.5.5 0 0 1-.462-.31l-.445-1.084A2 2 0 0 0 10.763 4H5a2 2 0 0 0-2 2v11.5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2h-5.54Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      d=\"M18 5.5h-8v8h8.5V6a.5.5 0 00-.5-.5zm-9.5 8h-3V6a.5.5 0 01.5-.5h2.5v8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18.5 10.5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M5.5 12a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm.75 4v1.5h-1.5V8h1.5Zm0 8v-5h-1.5v5h1.5Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m16 15.5h-8v-1.5h8zm-7.5-2.5h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm-9-3h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2z\" />\n\t    <Path d=\"m18.5 6.5h-13a.5.5 0 0 0 -.5.5v9.5a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9.5a.5.5 0 0 0 -.5-.5zm-13-1.5h13a2 2 0 0 1 2 2v9.5a2 2 0 0 1 -2 2h-13a2 2 0 0 1 -2-2v-9.5a2 2 0 0 1 2-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M15 11h-.2V9c0-1.5-1.2-2.8-2.8-2.8S9.2 7.5 9.2 9v2H9c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1h6c.6 0 1-.4 1-1v-4c0-.6-.4-1-1-1zm-1.8 0h-2.5V9c0-.7.6-1.2 1.2-1.2s1.2.6 1.2 1.2v2z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5A6.5 6.5 0 0 1 6.93 7.931l9.139 9.138A6.473 6.473 0 0 1 12 18.5Zm5.123-2.498a6.5 6.5 0 0 0-9.124-9.124l9.124 9.124ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z\" />\n\t    <Path d=\"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8 4a4 4 0 0 1-4-4h4V8a4 4 0 0 1 0 8Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm11.53-1.47-1.06-1.06L11 12.94l-1.47-1.47-1.06 1.06L11 15.06l4.53-4.53Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M7 11.5h10V13H7z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M12 4V2.2L9 4.8l3 2.5V5.5c3.6 0 6.5 2.9 6.5 6.5 0 2.9-1.9 5.3-4.5 6.2v.2l-.1-.2c-.4.1-.7.2-1.1.2l.2 1.5c.3 0 .6-.1 1-.2 3.5-.9 6-4 6-7.7 0-4.4-3.6-8-8-8zm-7.9 7l1.5.2c.1-1.2.5-2.3 1.2-3.2l-1.1-.9C4.8 8.2 4.3 9.6 4.1 11zm1.5 1.8l-1.5.2c.1.7.3 1.4.5 2 .3.7.6 1.3 1 1.8l1.2-.8c-.3-.5-.6-1-.8-1.5s-.4-1.1-.4-1.7zm1.5 5.5c1.1.9 2.4 1.4 3.8 1.6l.2-1.5c-1.1-.1-2.2-.5-3.1-1.2l-.9 1.1z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm9 1V8h-1.5v3.5h-2V13H13Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z\" />\n\t    <Path d=\"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M12 8c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 6.5c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zM12.8 3h-1.5v3h1.5V3zm-1.6 18h1.5v-3h-1.5v3zm6.8-9.8v1.5h3v-1.5h-3zm-12 0H3v1.5h3v-1.5zm9.7 5.6 2.1 2.1 1.1-1.1-2.1-2.1-1.1 1.1zM8.3 7.2 6.2 5.1 5.1 6.2l2.1 2.1 1.1-1.1zM5.1 17.8l1.1 1.1 2.1-2.1-1.1-1.1-2.1 2.1zM18.9 6.2l-1.1-1.1-2.1 2.1 1.1 1.1 2.1-2.1z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/SVG\">\n\t<Path d=\"M17.192 6.75L15.47 5.03l1.06-1.06 3.537 3.53-3.537 3.53-1.06-1.06 1.723-1.72h-3.19c-.602 0-.993.202-1.28.498-.309.319-.538.792-.695 1.383-.13.488-.222 1.023-.296 1.508-.034.664-.116 1.413-.303 2.117-.193.721-.513 1.467-1.068 2.04-.575.594-1.359.954-2.357.954H4v-1.5h4.003c.601 0 .993-.202 1.28-.498.308-.319.538-.792.695-1.383.149-.557.216-1.093.288-1.662l.039-.31a9.653 9.653 0 0 1 .272-1.653c.193-.722.513-1.467 1.067-2.04.576-.594 1.36-.954 2.358-.954h3.19zM8.004 6.75c.8 0 1.46.23 1.988.628a6.24 6.24 0 0 0-.684 1.396 1.725 1.725 0 0 0-.024-.026c-.287-.296-.679-.498-1.28-.498H4v-1.5h4.003zM12.699 14.726c-.161.459-.38.94-.684 1.396.527.397 1.188.628 1.988.628h3.19l-1.722 1.72 1.06 1.06L20.067 16l-3.537-3.53-1.06 1.06 1.723 1.72h-3.19c-.602 0-.993-.202-1.28-.498a1.96 1.96 0 0 1-.024-.026z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fill=\"none\"\n\t      d=\"M5.75 12.75V18.25H11.25M12.75 5.75H18.25V11.25\"\n\t      stroke=\"currentColor\"\n\t      strokeWidth=\"1.5\"\n\t      strokeLinecap=\"square\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      d=\"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z\"\n\t      clipRule=\"evenodd\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M20 12a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 0 1-6.5 6.5v-13a6.5 6.5 0 0 1 6.5 6.5Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14.2c.1.9.9 1.7 1.8 1.8H19.2c1-.1 1.8-1 1.8-2V5c0-1.1-.9-2-2-2ZM8.5 19.5H5c-.3 0-.5-.2-.5-.5v-3.5h4v4Zm0-5.5h-4v-4h4v4Zm0-5.5h-4V5c0-.3.2-.5.5-.5h3.5v4Zm11 10.5c0 .3-.2.5-.5.5h-9v-15h9c.3 0 .5.2.5.5v14Zm-4-10.8H14v3h-3v1.5h3v3h1.5v-3h3v-1.5h-3v-3Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path fillRule=\"evenodd\"\n\t      clipRule=\"evenodd\"\n\t      d=\"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z\"\n\t    />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"m8.6 7 3.9 10.8h-1.7l-1-2.8H5.7l-1 2.8H3L6.9 7h1.7Zm-2.4 6.6h3L7.7 9.3l-1.5 4.3ZM17.691 8.879c.473 0 .88.055 1.221.165.352.1.643.264.875.495.274.253.456.572.544.957.088.374.132.83.132 1.37v4.554c0 .274.033.472.099.593.077.11.198.166.363.166.11 0 .215-.028.313-.083.11-.055.237-.137.38-.247l.165.28a3.304 3.304 0 0 1-.71.446c-.23.11-.527.165-.89.165-.352 0-.639-.055-.858-.165-.22-.11-.386-.27-.495-.479-.1-.209-.149-.468-.149-.775-.286.462-.627.814-1.023 1.056-.396.242-.858.363-1.386.363-.462 0-.858-.088-1.188-.264a1.752 1.752 0 0 1-.742-.726 2.201 2.201 0 0 1-.248-1.056c0-.484.11-.875.33-1.172.22-.308.5-.556.841-.742.352-.187.721-.341 1.106-.462.396-.132.765-.253 1.106-.363.351-.121.637-.259.857-.413.232-.154.347-.357.347-.61V10.81c0-.396-.066-.71-.198-.941a1.05 1.05 0 0 0-.511-.511 1.763 1.763 0 0 0-.76-.149c-.253 0-.522.039-.808.116a1.165 1.165 0 0 0-.677.412 1.1 1.1 0 0 1 .595.396c.165.187.247.424.247.71 0 .307-.104.55-.313.726-.198.176-.451.263-.76.263-.34 0-.594-.104-.758-.313a1.231 1.231 0 0 1-.248-.759c0-.297.072-.539.214-.726.154-.187.352-.363.595-.528.264-.176.6-.324 1.006-.445.418-.121.88-.182 1.386-.182Zm.99 3.729a1.57 1.57 0 0 1-.528.462c-.231.121-.479.248-.742.38a5.377 5.377 0 0 0-.76.462c-.23.165-.423.38-.577.643-.154.264-.231.6-.231 1.007 0 .429.11.77.33 1.023.22.242.517.363.891.363.308 0 .594-.088.858-.264.275-.176.528-.44.759-.792v-3.284Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M17.8 2l-.9.3c-.1 0-3.6 1-5.2 2.1C10 5.5 9.3 6.5 8.9 7.1c-.6.9-1.7 4.7-1.7 6.3l-.9 2.3c-.2.4 0 .8.4 1 .1 0 .2.1.3.1.3 0 .6-.2.7-.5l.6-1.5c.3 0 .7-.1 1.2-.2.7-.1 1.4-.3 2.2-.5.8-.2 1.6-.5 2.4-.8.7-.3 1.4-.7 1.9-1.2s.8-1.2 1-1.9c.2-.7.3-1.6.4-2.4.1-.8.1-1.7.2-2.5 0-.8.1-1.5.2-2.1V2zm-1.9 5.6c-.1.8-.2 1.5-.3 2.1-.2.6-.4 1-.6 1.3-.3.3-.8.6-1.4.9-.7.3-1.4.5-2.2.8-.6.2-1.3.3-1.8.4L15 7.5c.3-.3.6-.7 1-1.1 0 .4 0 .8-.1 1.2zM6 20h8v-1.5H6V20z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<Path d=\"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t<Path d=\"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z\" />\n\t</SVG>\n);\n", "/**\n * WordPress dependencies\n */\nimport {\n\theader as headerIcon,\n\tfooter as footerIcon,\n\tsidebar as sidebarIcon,\n\ttableColumnAfter as overlayIcon,\n\tsymbolFilled as symbolFilledIcon,\n} from '@wordpress/icons';\n\n/**\n * Helper function to retrieve the corresponding icon by area name or icon name.\n *\n * @param {string} areaOrIconName The area name (e.g., 'header', 'navigation-overlay') or icon name (e.g., 'menu').\n *\n * @return {Object} The corresponding icon.\n */\nexport function getTemplatePartIcon( areaOrIconName ) {\n\t// Handle area names first\n\tif ( 'header' === areaOrIconName ) {\n\t\treturn headerIcon;\n\t} else if ( 'footer' === areaOrIconName ) {\n\t\treturn footerIcon;\n\t} else if ( 'sidebar' === areaOrIconName ) {\n\t\treturn sidebarIcon;\n\t} else if ( 'overlay' === areaOrIconName ) {\n\t\t// TODO: Replace with a proper overlay icon when available.\n\t\t// Using tableColumnAfter as a placeholder.\n\t\treturn overlayIcon;\n\t}\n\t// Handle icon names for backwards compatibility\n\tif ( 'menu' === areaOrIconName ) {\n\t\t// TODO: Replace with a proper overlay icon when available.\n\t\t// Using tableColumnAfter as a placeholder.\n\t\treturn overlayIcon;\n\t}\n\treturn symbolFilledIcon;\n}\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/editor'\n\t);\n", "/**\n * WordPress dependencies\n */\nimport { layout } from '@wordpress/icons';\n/**\n * Internal dependencies\n */\nimport { getTemplatePartIcon } from './get-template-part-icon';\nconst EMPTY_OBJECT = {};\n\n/**\n * Helper function to retrieve the corresponding template info for a given template.\n * @param {Object} params\n * @param {Array}  params.templateTypes\n * @param {Array}  [params.templateAreas]\n * @param {Object} params.template\n */\nexport const getTemplateInfo = ( params ) => {\n\tif ( ! params ) {\n\t\treturn EMPTY_OBJECT;\n\t}\n\n\tconst { templateTypes, templateAreas, template } = params;\n\n\tconst { description, slug, title, area } = template;\n\n\tconst { title: defaultTitle, description: defaultDescription } =\n\t\tObject.values( templateTypes ).find( ( type ) => type.slug === slug ) ??\n\t\tEMPTY_OBJECT;\n\n\tconst templateTitle = typeof title === 'string' ? title : title?.rendered;\n\tconst templateDescription =\n\t\ttypeof description === 'string' ? description : description?.raw;\n\n\tconst templateAreasWithIcon = templateAreas?.map( ( item ) => ( {\n\t\t...item,\n\t\ticon: getTemplatePartIcon( item.icon ),\n\t} ) );\n\n\tconst templateIcon =\n\t\ttemplateAreasWithIcon?.find( ( item ) => area === item.area )?.icon ||\n\t\tlayout;\n\n\treturn {\n\t\ttitle:\n\t\t\ttemplateTitle && templateTitle !== slug\n\t\t\t\t? templateTitle\n\t\t\t\t: defaultTitle || slug,\n\t\tdescription: templateDescription || defaultDescription,\n\t\ticon: templateIcon,\n\t};\n};\n", "/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport apiFetch from '@wordpress/api-fetch';\nimport deprecated from '@wordpress/deprecated';\nimport {\n\tparse,\n\tsynchronizeBlocksWithTemplate,\n\t__unstableSerializeAndClean,\n} from '@wordpress/blocks';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport {\n\tapplyFilters,\n\tapplyFiltersAsync,\n\tdoActionAsync,\n} from '@wordpress/hooks';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { localAutosaveSet } from './local-autosave';\nimport {\n\tgetNotificationArgumentsForSaveSuccess,\n\tgetNotificationArgumentsForSaveFail,\n\tgetNotificationArgumentsForTrashFail,\n} from './utils/notice-builder';\nimport { unlock } from '../lock-unlock';\n/**\n * Returns an action generator used in signalling that editor has initialized with\n * the specified post object and editor settings.\n *\n * @param {Object} post       Post object.\n * @param {Object} edits      Initial edited attributes object.\n * @param {Array}  [template] Block Template.\n */\nexport const setupEditor =\n\t( post, edits, template ) =>\n\t( { dispatch } ) => {\n\t\tdispatch.setEditedPost( post.type, post.id );\n\t\t// Apply a template for new posts only, if exists.\n\t\tconst isNewPost = post.status === 'auto-draft';\n\t\tif ( isNewPost && template ) {\n\t\t\t// In order to ensure maximum of a single parse during setup, edits are\n\t\t\t// included as part of editor setup action. Assume edited content as\n\t\t\t// canonical if provided, falling back to post.\n\t\t\tlet content;\n\t\t\tif ( 'content' in edits ) {\n\t\t\t\tcontent = edits.content;\n\t\t\t} else {\n\t\t\t\tcontent = post.content.raw;\n\t\t\t}\n\t\t\tlet blocks = parse( content );\n\t\t\tblocks = synchronizeBlocksWithTemplate( blocks, template );\n\t\t\tdispatch.resetEditorBlocks( blocks, {\n\t\t\t\t__unstableShouldCreateUndoLevel: false,\n\t\t\t} );\n\t\t}\n\t\tif (\n\t\t\tedits &&\n\t\t\tObject.entries( edits ).some(\n\t\t\t\t( [ key, edit ] ) =>\n\t\t\t\t\tedit !== ( post[ key ]?.raw ?? post[ key ] )\n\t\t\t)\n\t\t) {\n\t\t\tdispatch.editPost( edits );\n\t\t}\n\t};\n\n/**\n * Returns an action object signalling that the editor is being destroyed and\n * that any necessary state or side-effect cleanup should occur.\n *\n * @deprecated\n *\n * @return {Object} Action object.\n */\nexport function __experimentalTearDownEditor() {\n\tdeprecated(\n\t\t\"wp.data.dispatch( 'core/editor' ).__experimentalTearDownEditor\",\n\t\t{\n\t\t\tsince: '6.5',\n\t\t}\n\t);\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Returns an action object used in signalling that the latest version of the\n * post has been received, either by initialization or save.\n *\n * @deprecated Since WordPress 6.0.\n */\nexport function resetPost() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).resetPost\", {\n\t\tsince: '6.0',\n\t\tversion: '6.3',\n\t\talternative: 'Initialize the editor with the setupEditorState action',\n\t} );\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Returns an action object used in signalling that a patch of updates for the\n * latest version of the post have been received.\n *\n * @return {Object} Action object.\n * @deprecated since Gutenberg 9.7.0.\n */\nexport function updatePost() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).updatePost\", {\n\t\tsince: '5.7',\n\t\talternative: 'Use the core entities store instead',\n\t} );\n\treturn {\n\t\ttype: 'DO_NOTHING',\n\t};\n}\n\n/**\n * Setup the editor state.\n *\n * @deprecated\n *\n * @param {Object} post Post object.\n */\nexport function setupEditorState( post ) {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).setupEditorState\", {\n\t\tsince: '6.5',\n\t\talternative: \"wp.data.dispatch( 'core/editor' ).setEditedPost\",\n\t} );\n\treturn setEditedPost( post.type, post.id );\n}\n\n/**\n * Returns an action that sets the current post Type and post ID.\n *\n * @param {string} postType Post Type.\n * @param {string} postId   Post ID.\n *\n * @return {Object} Action object.\n */\nexport function setEditedPost( postType, postId ) {\n\treturn {\n\t\ttype: 'SET_EDITED_POST',\n\t\tpostType,\n\t\tpostId,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that attributes of the post have\n * been edited.\n *\n * @param {Object} edits     Post attributes to edit.\n * @param {Object} [options] Options for the edit.\n *\n * @example\n * ```js\n * // Update the post title\n * wp.data.dispatch( 'core/editor' ).editPost( { title: `${ newTitle }` } );\n * ```\n *\n * @return {Object} Action object\n */\nexport const editPost =\n\t( edits, options ) =>\n\t( { select, registry } ) => {\n\t\tconst { id, type } = select.getCurrentPost();\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.editEntityRecord( 'postType', type, id, edits, options );\n\t};\n\n/**\n * Action for saving the current post in the editor.\n *\n * @param {Object} [options]\n */\nexport const savePost =\n\t( options = {} ) =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tif ( ! select.isEditedPostSaveable() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst content = select.getEditedPostContent();\n\n\t\tif ( ! options.isAutosave ) {\n\t\t\tdispatch.editPost( { content }, { undoIgnore: true } );\n\t\t}\n\n\t\tconst previousRecord = select.getCurrentPost();\n\t\tlet edits = {\n\t\t\tid: previousRecord.id,\n\t\t\t...registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEntityRecordNonTransientEdits(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpreviousRecord.type,\n\t\t\t\t\tpreviousRecord.id\n\t\t\t\t),\n\t\t\tcontent,\n\t\t};\n\t\tdispatch( { type: 'REQUEST_POST_UPDATE_START', options } );\n\n\t\tlet error = false;\n\t\ttry {\n\t\t\tedits = await applyFiltersAsync(\n\t\t\t\t'editor.preSavePost',\n\t\t\t\tedits,\n\t\t\t\toptions\n\t\t\t);\n\t\t} catch ( err ) {\n\t\t\terror = err;\n\t\t}\n\n\t\tif ( ! error ) {\n\t\t\ttry {\n\t\t\t\tawait registry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.saveEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\tpreviousRecord.type,\n\t\t\t\t\t\tedits,\n\t\t\t\t\t\toptions\n\t\t\t\t\t);\n\t\t\t} catch ( err ) {\n\t\t\t\terror =\n\t\t\t\t\terr.message && err.code !== 'unknown_error'\n\t\t\t\t\t\t? err.message\n\t\t\t\t\t\t: __( 'An error occurred while updating.' );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! error ) {\n\t\t\terror = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getLastEntitySaveError(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpreviousRecord.type,\n\t\t\t\t\tpreviousRecord.id\n\t\t\t\t);\n\t\t}\n\n\t\t// Run the hook with legacy unstable name for backward compatibility\n\t\tif ( ! error ) {\n\t\t\ttry {\n\t\t\t\tawait applyFilters(\n\t\t\t\t\t'editor.__unstableSavePost',\n\t\t\t\t\tPromise.resolve(),\n\t\t\t\t\toptions\n\t\t\t\t);\n\t\t\t} catch ( err ) {\n\t\t\t\terror = err;\n\t\t\t}\n\t\t}\n\n\t\tif ( ! error ) {\n\t\t\ttry {\n\t\t\t\tawait doActionAsync(\n\t\t\t\t\t'editor.savePost',\n\t\t\t\t\t{ id: previousRecord.id, type: previousRecord.type },\n\t\t\t\t\toptions\n\t\t\t\t);\n\t\t\t} catch ( err ) {\n\t\t\t\terror = err;\n\t\t\t}\n\t\t}\n\t\tdispatch( { type: 'REQUEST_POST_UPDATE_FINISH', options } );\n\n\t\tif (\n\t\t\ttypeof window !== 'undefined' &&\n\t\t\twindow.__experimentalTemplateActivate &&\n\t\t\t! options.isAutosave &&\n\t\t\tpreviousRecord.type === 'wp_template' &&\n\t\t\t( typeof previousRecord.id === 'number' ||\n\t\t\t\t/^\\d+$/.test( previousRecord.id ) )\n\t\t) {\n\t\t\ttemplateActivationNotice( { select, dispatch, registry } );\n\t\t}\n\n\t\tif ( error ) {\n\t\t\tconst args = getNotificationArgumentsForSaveFail( {\n\t\t\t\tpost: previousRecord,\n\t\t\t\tedits,\n\t\t\t\terror,\n\t\t\t} );\n\t\t\tif ( args.length ) {\n\t\t\t\tregistry.dispatch( noticesStore ).createErrorNotice( ...args );\n\t\t\t}\n\t\t} else {\n\t\t\tconst updatedRecord = select.getCurrentPost();\n\t\t\tconst args = getNotificationArgumentsForSaveSuccess( {\n\t\t\t\tpreviousPost: previousRecord,\n\t\t\t\tpost: updatedRecord,\n\t\t\t\tpostType: await registry\n\t\t\t\t\t.resolveSelect( coreStore )\n\t\t\t\t\t.getPostType( updatedRecord.type ),\n\t\t\t\toptions,\n\t\t\t} );\n\t\t\tif ( args.length ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createSuccessNotice( ...args );\n\t\t\t}\n\t\t\t// Make sure that any edits after saving create an undo level and are\n\t\t\t// considered for change detection.\n\t\t\tif ( ! options.isAutosave ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( blockEditorStore )\n\t\t\t\t\t.__unstableMarkLastChangeAsPersistent();\n\t\t\t}\n\t\t}\n\t};\n\nasync function templateActivationNotice( { select, registry } ) {\n\tconst editorSettings = select.getEditorSettings();\n\n\t// Don't open for focused entity.\n\tif ( editorSettings.onNavigateToPreviousEntityRecord ) {\n\t\treturn;\n\t}\n\n\tconst { id, slug } = select.getCurrentPost();\n\tconst site = await registry\n\t\t.select( coreStore )\n\t\t.getEntityRecord( 'root', 'site' );\n\n\t// Already active.\n\tif ( site.active_templates[ slug ] === id ) {\n\t\treturn;\n\t}\n\n\tconst currentTheme = await registry\n\t\t.resolveSelect( coreStore )\n\t\t.getCurrentTheme();\n\tconst templateType = currentTheme?.default_template_types.find(\n\t\t( type ) => type.slug === slug\n\t);\n\n\tawait registry.dispatch( noticesStore ).createNotice(\n\t\t'info',\n\t\tsprintf(\n\t\t\t// translators: %s: The name (or slug) of the type of template.\n\t\t\t__( 'Do you want to activate this \"%s\" template?' ),\n\t\t\ttemplateType?.title ?? slug\n\t\t),\n\t\t{\n\t\t\tid: 'template-activate-notice',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: __( 'Activate' ),\n\t\t\t\t\tonClick: async () => {\n\t\t\t\t\t\tawait registry\n\t\t\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t\t\t.createNotice(\n\t\t\t\t\t\t\t\t'info',\n\t\t\t\t\t\t\t\t__( 'Activating template\u2026' ),\n\t\t\t\t\t\t\t\t{ id: 'template-activate-notice' }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst currentSite = await registry\n\t\t\t\t\t\t\t\t.select( coreStore )\n\t\t\t\t\t\t\t\t.getEntityRecord( 'root', 'site' );\n\t\t\t\t\t\t\tawait registry\n\t\t\t\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t\t\t\t.saveEntityRecord(\n\t\t\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t\t\t'site',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tactive_templates: {\n\t\t\t\t\t\t\t\t\t\t\t...currentSite.active_templates,\n\t\t\t\t\t\t\t\t\t\t\t[ slug ]: id,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tawait registry\n\t\t\t\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t\t\t\t.createSuccessNotice(\n\t\t\t\t\t\t\t\t\t__( 'Template activated.' ),\n\t\t\t\t\t\t\t\t\t{ id: 'template-activate-notice' }\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\t\tawait registry\n\t\t\t\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t\t\t\t__( 'Template activation failed.' ),\n\t\t\t\t\t\t\t\t\t{ id: 'template-activate-notice' }\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// Rethrow for debugging.\n\t\t\t\t\t\t\tthrow error;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\t);\n}\n\n/**\n * Action for refreshing the current post.\n *\n * @deprecated Since WordPress 6.0.\n */\nexport function refreshPost() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).refreshPost\", {\n\t\tsince: '6.0',\n\t\tversion: '6.3',\n\t\talternative: 'Use the core entities store instead',\n\t} );\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Action for trashing the current post in the editor.\n */\nexport const trashPost =\n\t() =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tconst postTypeSlug = select.getCurrentPostType();\n\t\tconst postType = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getPostType( postTypeSlug );\n\t\tconst { rest_base: restBase, rest_namespace: restNamespace = 'wp/v2' } =\n\t\t\tpostType;\n\t\tdispatch( { type: 'REQUEST_POST_DELETE_START' } );\n\t\ttry {\n\t\t\tconst post = select.getCurrentPost();\n\t\t\tawait apiFetch( {\n\t\t\t\tpath: `/${ restNamespace }/${ restBase }/${ post.id }`,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t} );\n\n\t\t\tawait dispatch.savePost();\n\t\t} catch ( error ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice(\n\t\t\t\t\t...getNotificationArgumentsForTrashFail( { error } )\n\t\t\t\t);\n\t\t}\n\t\tdispatch( { type: 'REQUEST_POST_DELETE_FINISH' } );\n\t};\n\n/**\n * Action that autosaves the current post.  This\n * includes server-side autosaving (default) and client-side (a.k.a. local)\n * autosaving (e.g. on the Web, the post might be committed to Session\n * Storage).\n *\n * @param {Object}  [options]       Extra flags to identify the autosave.\n * @param {boolean} [options.local] Whether to perform a local autosave.\n */\nexport const autosave =\n\t( { local = false, ...options } = {} ) =>\n\tasync ( { select, dispatch } ) => {\n\t\tconst post = select.getCurrentPost();\n\n\t\tif ( local ) {\n\t\t\tconst isPostNew = select.isEditedPostNew();\n\t\t\tconst title = select.getEditedPostAttribute( 'title' );\n\t\t\tconst content = select.getEditedPostAttribute( 'content' );\n\t\t\tconst excerpt = select.getEditedPostAttribute( 'excerpt' );\n\t\t\tlocalAutosaveSet( post.id, isPostNew, title, content, excerpt );\n\t\t} else {\n\t\t\tawait dispatch.savePost( { isAutosave: true, ...options } );\n\t\t}\n\t};\n\n/**\n * Save for preview.\n *\n * @param {Object}  options                     Options object.\n * @param {boolean} options.forceIsAutosaveable Whether to force the post to be autosaveable.\n *\n * @return {Function} Thunk that saves for preview and returns the preview link.\n */\nexport const __unstableSaveForPreview =\n\t( { forceIsAutosaveable } = {} ) =>\n\tasync ( { select, dispatch } ) => {\n\t\tif (\n\t\t\t( forceIsAutosaveable || select.isEditedPostAutosaveable() ) &&\n\t\t\t! select.isPostLocked()\n\t\t) {\n\t\t\tconst isDraft = [ 'draft', 'auto-draft' ].includes(\n\t\t\t\tselect.getEditedPostAttribute( 'status' )\n\t\t\t);\n\t\t\tif ( isDraft ) {\n\t\t\t\tawait dispatch.savePost( { isPreview: true } );\n\t\t\t} else {\n\t\t\t\tawait dispatch.autosave( { isPreview: true } );\n\t\t\t}\n\t\t}\n\n\t\treturn select.getEditedPostPreviewLink();\n\t};\n\n/**\n * Action that restores last popped state in undo history.\n */\nexport const redo =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry.dispatch( coreStore ).redo();\n\t};\n\n/**\n * Action that pops a record from undo history and undoes the edit.\n */\nexport const undo =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry.dispatch( coreStore ).undo();\n\t};\n\n/**\n * Action that creates an undo history record.\n *\n * @deprecated Since WordPress 6.0\n */\nexport function createUndoLevel() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).createUndoLevel\", {\n\t\tsince: '6.0',\n\t\tversion: '6.3',\n\t\talternative: 'Use the core entities store instead',\n\t} );\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Action that locks the editor.\n *\n * @param {Object} lock Details about the post lock status, user, and nonce.\n * @return {Object} Action object.\n */\nexport function updatePostLock( lock ) {\n\treturn {\n\t\ttype: 'UPDATE_POST_LOCK',\n\t\tlock,\n\t};\n}\n\n/**\n * Enable the publish sidebar.\n */\nexport const enablePublishSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'isPublishSidebarEnabled', true );\n\t};\n\n/**\n * Disables the publish sidebar.\n */\nexport const disablePublishSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'isPublishSidebarEnabled', false );\n\t};\n\n/**\n * Action that locks post saving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * const { subscribe } = wp.data;\n *\n * const initialPostStatus = wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' );\n *\n * // Only allow publishing posts that are set to a future date.\n * if ( 'publish' !== initialPostStatus ) {\n *\n * \t// Track locking.\n * \tlet locked = false;\n *\n * \t// Watch for the publish event.\n * \tlet unssubscribe = subscribe( () => {\n * \t\tconst currentPostStatus = wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' );\n * \t\tif ( 'publish' !== currentPostStatus ) {\n *\n * \t\t\t// Compare the post date to the current date, lock the post if the date isn't in the future.\n * \t\t\tconst postDate = new Date( wp.data.select( 'core/editor' ).getEditedPostAttribute( 'date' ) );\n * \t\t\tconst currentDate = new Date();\n * \t\t\tif ( postDate.getTime() <= currentDate.getTime() ) {\n * \t\t\t\tif ( ! locked ) {\n * \t\t\t\t\tlocked = true;\n * \t\t\t\t\twp.data.dispatch( 'core/editor' ).lockPostSaving( 'futurelock' );\n * \t\t\t\t}\n * \t\t\t} else {\n * \t\t\t\tif ( locked ) {\n * \t\t\t\t\tlocked = false;\n * \t\t\t\t\twp.data.dispatch( 'core/editor' ).unlockPostSaving( 'futurelock' );\n * \t\t\t\t}\n * \t\t\t}\n * \t\t}\n * \t} );\n * }\n * ```\n *\n * @return {Object} Action object\n */\nexport function lockPostSaving( lockName ) {\n\treturn {\n\t\ttype: 'LOCK_POST_SAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Action that unlocks post saving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * // Unlock post saving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).unlockPostSaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function unlockPostSaving( lockName ) {\n\treturn {\n\t\ttype: 'UNLOCK_POST_SAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Action that locks post autosaving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * // Lock post autosaving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).lockPostAutosaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function lockPostAutosaving( lockName ) {\n\treturn {\n\t\ttype: 'LOCK_POST_AUTOSAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Action that unlocks post autosaving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * // Unlock post saving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).unlockPostAutosaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function unlockPostAutosaving( lockName ) {\n\treturn {\n\t\ttype: 'UNLOCK_POST_AUTOSAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Returns an action object used to signal that the blocks have been updated.\n *\n * @param {Array}  blocks    Block Array.\n * @param {Object} [options] Optional options.\n */\nexport const resetEditorBlocks =\n\t( blocks, options = {} ) =>\n\t( { select, dispatch, registry } ) => {\n\t\tconst { __unstableShouldCreateUndoLevel, selection } = options;\n\t\tconst edits = { blocks, selection };\n\n\t\tif ( __unstableShouldCreateUndoLevel !== false ) {\n\t\t\tconst { id, type } = select.getCurrentPost();\n\t\t\tconst noChange =\n\t\t\t\tregistry\n\t\t\t\t\t.select( coreStore )\n\t\t\t\t\t.getEditedEntityRecord( 'postType', type, id ).blocks ===\n\t\t\t\tedits.blocks;\n\t\t\tif ( noChange ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.__unstableCreateUndoLevel( 'postType', type, id );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We create a new function here on every persistent edit\n\t\t\t// to make sure the edit makes the post dirty and creates\n\t\t\t// a new undo level.\n\t\t\tedits.content = ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\t\t__unstableSerializeAndClean( blocksForSerialization );\n\t\t}\n\n\t\tdispatch.editPost( edits );\n\t};\n\n/*\n * Returns an action object used in signalling that the post editor settings have been updated.\n *\n * @param {Object} settings Updated settings\n *\n * @return {Object} Action object\n */\nexport function updateEditorSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_EDITOR_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Returns an action used to set the rendering mode of the post editor. We support multiple rendering modes:\n *\n * -   `post-only`: This mode extracts the post blocks from the template and renders only those. The idea is to allow the user to edit the post/page in isolation without the wrapping template.\n * -   `template-locked`: This mode renders both the template and the post blocks but the template blocks are locked and can't be edited. The post blocks are editable.\n *\n * @param {string} mode Mode (one of 'post-only' or 'template-locked').\n */\nexport const setRenderingMode =\n\t( mode ) =>\n\t( { dispatch, registry, select } ) => {\n\t\tif (\n\t\t\tselect.__unstableIsEditorReady() &&\n\t\t\t! select.getEditorSettings().isPreviewMode\n\t\t) {\n\t\t\t// We clear the block selection but we also need to clear the selection from the core store.\n\t\t\tregistry.dispatch( blockEditorStore ).clearSelectedBlock();\n\t\t\tdispatch.editPost( { selection: undefined }, { undoIgnore: true } );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_RENDERING_MODE',\n\t\t\tmode,\n\t\t} );\n\t};\n\n/**\n * Action that changes the width of the editing canvas.\n *\n * @param {string} deviceType\n *\n * @return {Object} Action object.\n */\nexport function setDeviceType( deviceType ) {\n\treturn {\n\t\ttype: 'SET_DEVICE_TYPE',\n\t\tdeviceType,\n\t};\n}\n\n/**\n * Returns an action object used to enable or disable a panel in the editor.\n *\n * @param {string} panelName A string that identifies the panel to enable or disable.\n *\n * @return {Object} Action object.\n */\nexport const toggleEditorPanelEnabled =\n\t( panelName ) =>\n\t( { registry } ) => {\n\t\tconst inactivePanels =\n\t\t\tregistry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'inactivePanels' ) ?? [];\n\n\t\tconst isPanelInactive = !! inactivePanels?.includes( panelName );\n\n\t\t// If the panel is inactive, remove it to enable it, else add it to\n\t\t// make it inactive.\n\t\tlet updatedInactivePanels;\n\t\tif ( isPanelInactive ) {\n\t\t\tupdatedInactivePanels = inactivePanels.filter(\n\t\t\t\t( invactivePanelName ) => invactivePanelName !== panelName\n\t\t\t);\n\t\t} else {\n\t\t\tupdatedInactivePanels = [ ...inactivePanels, panelName ];\n\t\t}\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'inactivePanels', updatedInactivePanels );\n\t};\n\n/**\n * Opens a closed panel and closes an open panel.\n *\n * @param {string} panelName A string that identifies the panel to open or close.\n */\nexport const toggleEditorPanelOpened =\n\t( panelName ) =>\n\t( { registry } ) => {\n\t\tconst openPanels =\n\t\t\tregistry.select( preferencesStore ).get( 'core', 'openPanels' ) ??\n\t\t\t[];\n\n\t\tconst isPanelOpen = !! openPanels?.includes( panelName );\n\n\t\t// If the panel is open, remove it to close it, else add it to\n\t\t// make it open.\n\t\tlet updatedOpenPanels;\n\t\tif ( isPanelOpen ) {\n\t\t\tupdatedOpenPanels = openPanels.filter(\n\t\t\t\t( openPanelName ) => openPanelName !== panelName\n\t\t\t);\n\t\t} else {\n\t\t\tupdatedOpenPanels = [ ...openPanels, panelName ];\n\t\t}\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'openPanels', updatedOpenPanels );\n\t};\n\n/**\n * Returns an action object used to remove a panel from the editor.\n *\n * @param {string} panelName A string that identifies the panel to remove.\n *\n * @return {Object} Action object.\n */\nexport function removeEditorPanel( panelName ) {\n\treturn {\n\t\ttype: 'REMOVE_PANEL',\n\t\tpanelName,\n\t};\n}\n\n/**\n * Returns an action object used to open/close the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n * @param {string}         value.filterValue    A query to filter the inserter results.\n * @param {Function}       value.onSelect       A callback when an item is selected.\n * @param {string}         value.tab            The tab to open in the inserter.\n * @param {string}         value.category       The category to initialize in the inserter.\n *\n * @return {Object} Action object.\n */\nexport const setIsInserterOpened =\n\t( value ) =>\n\t( { dispatch, registry } ) => {\n\t\tif (\n\t\t\ttypeof value === 'object' &&\n\t\t\tvalue.hasOwnProperty( 'rootClientId' ) &&\n\t\t\tvalue.hasOwnProperty( 'insertionIndex' )\n\t\t) {\n\t\t\tunlock( registry.dispatch( blockEditorStore ) ).setInsertionPoint( {\n\t\t\t\trootClientId: value.rootClientId,\n\t\t\t\tindex: value.insertionIndex,\n\t\t\t} );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\t\tvalue,\n\t\t} );\n\t};\n\n/**\n * Returns an action object used to open/close the list view.\n *\n * @param {boolean} isOpen A boolean representing whether the list view should be opened or closed.\n * @return {Object} Action object.\n */\nexport function setIsListViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_LIST_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Action that toggles Distraction free mode.\n * Distraction free mode expects there are no sidebars, as due to the\n * z-index values set, you can't close sidebars.\n *\n * @param {Object}  [options={}]                Optional configuration object\n * @param {boolean} [options.createNotice=true] Whether to create a notice\n */\nexport const toggleDistractionFree =\n\t( { createNotice = true } = {} ) =>\n\t( { dispatch, registry } ) => {\n\t\tconst isDistractionFree = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( 'core', 'distractionFree' );\n\t\tif ( isDistractionFree ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( 'core', 'fixedToolbar', false );\n\t\t}\n\t\tif ( ! isDistractionFree ) {\n\t\t\tregistry.batch( () => {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t\t.set( 'core', 'fixedToolbar', true );\n\t\t\t\tdispatch.setIsInserterOpened( false );\n\t\t\t\tdispatch.setIsListViewOpened( false );\n\t\t\t\tunlock(\n\t\t\t\t\tregistry.dispatch( blockEditorStore )\n\t\t\t\t).resetZoomLevel();\n\t\t\t} );\n\t\t}\n\t\tregistry.batch( () => {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( 'core', 'distractionFree', ! isDistractionFree );\n\n\t\t\tif ( createNotice ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createInfoNotice(\n\t\t\t\t\t\tisDistractionFree\n\t\t\t\t\t\t\t? __( 'Distraction free mode deactivated.' )\n\t\t\t\t\t\t\t: __( 'Distraction free mode activated.' ),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'core/editor/distraction-free-mode/notice',\n\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\tregistry.batch( () => {\n\t\t\t\t\t\t\t\t\t\t\tregistry\n\t\t\t\t\t\t\t\t\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t\t\t\t\t\t\t\t\t.set(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'core',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'fixedToolbar',\n\t\t\t\t\t\t\t\t\t\t\t\t\tisDistractionFree\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tregistry\n\t\t\t\t\t\t\t\t\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t\t\t\t\t\t\t\t\t.toggle(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'core',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'distractionFree'\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t}\n\t\t} );\n\t};\n\n/**\n * Action that toggles the Spotlight Mode view option.\n */\nexport const toggleSpotlightMode =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry.dispatch( preferencesStore ).toggle( 'core', 'focusMode' );\n\n\t\tconst isFocusMode = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( 'core', 'focusMode' );\n\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createInfoNotice(\n\t\t\t\tisFocusMode\n\t\t\t\t\t? __( 'Spotlight mode activated.' )\n\t\t\t\t\t: __( 'Spotlight mode deactivated.' ),\n\t\t\t\t{\n\t\t\t\t\tid: 'core/editor/toggle-spotlight-mode/notice',\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tregistry\n\t\t\t\t\t\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t\t\t\t\t\t.toggle( 'core', 'focusMode' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t};\n\n/**\n * Action that toggles the Top Toolbar view option.\n */\nexport const toggleTopToolbar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry.dispatch( preferencesStore ).toggle( 'core', 'fixedToolbar' );\n\n\t\tconst isTopToolbar = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( 'core', 'fixedToolbar' );\n\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createInfoNotice(\n\t\t\t\tisTopToolbar\n\t\t\t\t\t? __( 'Top toolbar activated.' )\n\t\t\t\t\t: __( 'Top toolbar deactivated.' ),\n\t\t\t\t{\n\t\t\t\t\tid: 'core/editor/toggle-top-toolbar/notice',\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tregistry\n\t\t\t\t\t\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t\t\t\t\t\t.toggle( 'core', 'fixedToolbar' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t};\n\n/**\n * Triggers an action used to switch editor mode.\n *\n * @param {string} mode The editor mode.\n */\nexport const switchEditorMode =\n\t( mode ) =>\n\t( { dispatch, registry } ) => {\n\t\tregistry.dispatch( preferencesStore ).set( 'core', 'editorMode', mode );\n\n\t\tif ( mode !== 'visual' ) {\n\t\t\t// Unselect blocks when we switch to a non visual mode.\n\t\t\tregistry.dispatch( blockEditorStore ).clearSelectedBlock();\n\t\t\t// Exit zoom out state when switching to a non visual mode.\n\t\t\tunlock( registry.dispatch( blockEditorStore ) ).resetZoomLevel();\n\t\t}\n\n\t\tif ( mode === 'visual' ) {\n\t\t\tspeak( __( 'Visual editor selected' ), 'assertive' );\n\t\t} else if ( mode === 'text' ) {\n\t\t\tconst isDistractionFree = registry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'distractionFree' );\n\t\t\tif ( isDistractionFree ) {\n\t\t\t\tdispatch.toggleDistractionFree();\n\t\t\t}\n\t\t\tspeak( __( 'Code editor selected' ), 'assertive' );\n\t\t}\n\t};\n\n/**\n * Returns an action object used in signalling that the user opened the publish\n * sidebar.\n *\n * @return {Object} Action object\n */\nexport function openPublishSidebar() {\n\treturn {\n\t\ttype: 'OPEN_PUBLISH_SIDEBAR',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user closed the\n * publish sidebar.\n *\n * @return {Object} Action object.\n */\nexport function closePublishSidebar() {\n\treturn {\n\t\ttype: 'CLOSE_PUBLISH_SIDEBAR',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user toggles the publish sidebar.\n *\n * @return {Object} Action object\n */\nexport function togglePublishSidebar() {\n\treturn {\n\t\ttype: 'TOGGLE_PUBLISH_SIDEBAR',\n\t};\n}\n\n/**\n * Backward compatibility\n */\n\nconst getBlockEditorAction =\n\t( name ) =>\n\t( ...args ) =>\n\t( { registry } ) => {\n\t\tdeprecated( \"`wp.data.dispatch( 'core/editor' ).\" + name + '`', {\n\t\t\tsince: '5.3',\n\t\t\talternative:\n\t\t\t\t\"`wp.data.dispatch( 'core/block-editor' ).\" + name + '`',\n\t\t\tversion: '6.2',\n\t\t} );\n\t\tregistry.dispatch( blockEditorStore )[ name ]( ...args );\n\t};\n\n/**\n * @see resetBlocks in core/block-editor store.\n */\nexport const resetBlocks = getBlockEditorAction( 'resetBlocks' );\n\n/**\n * @see receiveBlocks in core/block-editor store.\n */\nexport const receiveBlocks = getBlockEditorAction( 'receiveBlocks' );\n\n/**\n * @see updateBlock in core/block-editor store.\n */\nexport const updateBlock = getBlockEditorAction( 'updateBlock' );\n\n/**\n * @see updateBlockAttributes in core/block-editor store.\n */\nexport const updateBlockAttributes = getBlockEditorAction(\n\t'updateBlockAttributes'\n);\n\n/**\n * @see selectBlock in core/block-editor store.\n */\nexport const selectBlock = getBlockEditorAction( 'selectBlock' );\n\n/**\n * @see startMultiSelect in core/block-editor store.\n */\nexport const startMultiSelect = getBlockEditorAction( 'startMultiSelect' );\n\n/**\n * @see stopMultiSelect in core/block-editor store.\n */\nexport const stopMultiSelect = getBlockEditorAction( 'stopMultiSelect' );\n\n/**\n * @see multiSelect in core/block-editor store.\n */\nexport const multiSelect = getBlockEditorAction( 'multiSelect' );\n\n/**\n * @see clearSelectedBlock in core/block-editor store.\n */\nexport const clearSelectedBlock = getBlockEditorAction( 'clearSelectedBlock' );\n\n/**\n * @see toggleSelection in core/block-editor store.\n */\nexport const toggleSelection = getBlockEditorAction( 'toggleSelection' );\n\n/**\n * @see replaceBlocks in core/block-editor store.\n */\nexport const replaceBlocks = getBlockEditorAction( 'replaceBlocks' );\n\n/**\n * @see replaceBlock in core/block-editor store.\n */\nexport const replaceBlock = getBlockEditorAction( 'replaceBlock' );\n\n/**\n * @see moveBlocksDown in core/block-editor store.\n */\nexport const moveBlocksDown = getBlockEditorAction( 'moveBlocksDown' );\n\n/**\n * @see moveBlocksUp in core/block-editor store.\n */\nexport const moveBlocksUp = getBlockEditorAction( 'moveBlocksUp' );\n\n/**\n * @see moveBlockToPosition in core/block-editor store.\n */\nexport const moveBlockToPosition = getBlockEditorAction(\n\t'moveBlockToPosition'\n);\n\n/**\n * @see insertBlock in core/block-editor store.\n */\nexport const insertBlock = getBlockEditorAction( 'insertBlock' );\n\n/**\n * @see insertBlocks in core/block-editor store.\n */\nexport const insertBlocks = getBlockEditorAction( 'insertBlocks' );\n\n/**\n * @see showInsertionPoint in core/block-editor store.\n */\nexport const showInsertionPoint = getBlockEditorAction( 'showInsertionPoint' );\n\n/**\n * @see hideInsertionPoint in core/block-editor store.\n */\nexport const hideInsertionPoint = getBlockEditorAction( 'hideInsertionPoint' );\n\n/**\n * @see setTemplateValidity in core/block-editor store.\n */\nexport const setTemplateValidity = getBlockEditorAction(\n\t'setTemplateValidity'\n);\n\n/**\n * @see synchronizeTemplate in core/block-editor store.\n */\nexport const synchronizeTemplate = getBlockEditorAction(\n\t'synchronizeTemplate'\n);\n\n/**\n * @see mergeBlocks in core/block-editor store.\n */\nexport const mergeBlocks = getBlockEditorAction( 'mergeBlocks' );\n\n/**\n * @see removeBlocks in core/block-editor store.\n */\nexport const removeBlocks = getBlockEditorAction( 'removeBlocks' );\n\n/**\n * @see removeBlock in core/block-editor store.\n */\nexport const removeBlock = getBlockEditorAction( 'removeBlock' );\n\n/**\n * @see toggleBlockMode in core/block-editor store.\n */\nexport const toggleBlockMode = getBlockEditorAction( 'toggleBlockMode' );\n\n/**\n * @see startTyping in core/block-editor store.\n */\nexport const startTyping = getBlockEditorAction( 'startTyping' );\n\n/**\n * @see stopTyping in core/block-editor store.\n */\nexport const stopTyping = getBlockEditorAction( 'stopTyping' );\n\n/**\n * @see enterFormattedText in core/block-editor store.\n */\nexport const enterFormattedText = getBlockEditorAction( 'enterFormattedText' );\n\n/**\n * @see exitFormattedText in core/block-editor store.\n */\nexport const exitFormattedText = getBlockEditorAction( 'exitFormattedText' );\n\n/**\n * @see insertDefaultBlock in core/block-editor store.\n */\nexport const insertDefaultBlock = getBlockEditorAction( 'insertDefaultBlock' );\n\n/**\n * @see updateBlockListSettings in core/block-editor store.\n */\nexport const updateBlockListSettings = getBlockEditorAction(\n\t'updateBlockListSettings'\n);\n", "/**\n * Function returning a sessionStorage key to set or retrieve a given post's\n * automatic session backup.\n *\n * Keys are crucially prefixed with 'wp-autosave-' so that wp-login.php's\n * `loggedout` handler can clear sessionStorage of any user-private content.\n *\n * @see https://github.com/WordPress/wordpress-develop/blob/6dad32d2aed47e6c0cf2aee8410645f6d7aba6bd/src/wp-login.php#L103\n *\n * @param {string}  postId    Post ID.\n * @param {boolean} isPostNew Whether post new.\n *\n * @return {string} sessionStorage key\n */\nfunction postKey( postId, isPostNew ) {\n\treturn `wp-autosave-block-editor-post-${\n\t\tisPostNew ? 'auto-draft' : postId\n\t}`;\n}\n\nexport function localAutosaveGet( postId, isPostNew ) {\n\treturn window.sessionStorage.getItem( postKey( postId, isPostNew ) );\n}\n\nexport function localAutosaveSet( postId, isPostNew, title, content, excerpt ) {\n\twindow.sessionStorage.setItem(\n\t\tpostKey( postId, isPostNew ),\n\t\tJSON.stringify( {\n\t\t\tpost_title: title,\n\t\t\tcontent,\n\t\t\texcerpt,\n\t\t} )\n\t);\n}\n\nexport function localAutosaveClear( postId, isPostNew ) {\n\twindow.sessionStorage.removeItem( postKey( postId, isPostNew ) );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { ATTACHMENT_POST_TYPE } from '../constants';\n\n/**\n * Builds the arguments for a success notification dispatch.\n *\n * @param {Object} data Incoming data to build the arguments from.\n *\n * @return {Array} Arguments for dispatch. An empty array signals no\n *                 notification should be sent.\n */\nexport function getNotificationArgumentsForSaveSuccess( data ) {\n\tconst { previousPost, post, postType } = data;\n\t// Autosaves are neither shown a notice nor redirected.\n\tif ( data.options?.isAutosave ) {\n\t\treturn [];\n\t}\n\n\tconst publishStatus = [ 'publish', 'private', 'future' ];\n\tconst isPublished = publishStatus.includes( previousPost.status );\n\tconst willPublish = publishStatus.includes( post.status );\n\tconst willTrash =\n\t\tpost.status === 'trash' && previousPost.status !== 'trash';\n\n\tlet noticeMessage;\n\tlet shouldShowLink = postType?.viewable ?? false;\n\tlet isDraft;\n\n\t// Always should a notice, which will be spoken for accessibility.\n\tif ( willTrash ) {\n\t\tnoticeMessage = postType.labels.item_trashed;\n\t\tshouldShowLink = false;\n\t} else if ( post.type === ATTACHMENT_POST_TYPE ) {\n\t\t// Attachments should always show a simple updated message because they don't have a draft state.\n\t\tnoticeMessage = __( 'Media updated.' );\n\t\tshouldShowLink = false;\n\t} else if ( ! isPublished && ! willPublish ) {\n\t\t// If saving a non-published post, don't show notice.\n\t\tnoticeMessage = __( 'Draft saved.' );\n\t\tisDraft = true;\n\t} else if ( isPublished && ! willPublish ) {\n\t\t// If undoing publish status, show specific notice.\n\t\tnoticeMessage = postType.labels.item_reverted_to_draft;\n\t\tshouldShowLink = false;\n\t} else if ( ! isPublished && willPublish ) {\n\t\t// If publishing or scheduling a post, show the corresponding\n\t\t// publish message.\n\t\tnoticeMessage = {\n\t\t\tpublish: postType.labels.item_published,\n\t\t\tprivate: postType.labels.item_published_privately,\n\t\t\tfuture: postType.labels.item_scheduled,\n\t\t}[ post.status ];\n\t} else {\n\t\t// Generic fallback notice.\n\t\tnoticeMessage = postType.labels.item_updated;\n\t}\n\n\tconst actions = [];\n\tif ( shouldShowLink ) {\n\t\tactions.push( {\n\t\t\tlabel: isDraft ? __( 'View Preview' ) : postType.labels.view_item,\n\t\t\turl: post.link,\n\t\t\topenInNewTab: true,\n\t\t} );\n\t}\n\treturn [\n\t\tnoticeMessage,\n\t\t{\n\t\t\tid: 'editor-save',\n\t\t\ttype: 'snackbar',\n\t\t\tactions,\n\t\t},\n\t];\n}\n\n/**\n * Builds the fail notification arguments for dispatch.\n *\n * @param {Object} data Incoming data to build the arguments with.\n *\n * @return {Array} Arguments for dispatch. An empty array signals no\n *                 notification should be sent.\n */\nexport function getNotificationArgumentsForSaveFail( data ) {\n\tconst { post, edits, error } = data;\n\tif ( error && 'rest_autosave_no_changes' === error.code ) {\n\t\t// Autosave requested a new autosave, but there were no changes. This shouldn't\n\t\t// result in an error notice for the user.\n\t\treturn [];\n\t}\n\n\tconst publishStatus = [ 'publish', 'private', 'future' ];\n\tconst isPublished = publishStatus.indexOf( post.status ) !== -1;\n\n\tif ( error.code === 'offline_error' ) {\n\t\tconst messages = {\n\t\t\tpublish: __(\n\t\t\t\t'Publishing failed because you were offline. Please verify your connection and try again.'\n\t\t\t),\n\t\t\tprivate: __(\n\t\t\t\t'Publishing failed because you were offline. Please verify your connection and try again.'\n\t\t\t),\n\t\t\tfuture: __(\n\t\t\t\t'Scheduling failed because you were offline. Please verify your connection and try again.'\n\t\t\t),\n\t\t\tdefault: __(\n\t\t\t\t'Updating failed because you were offline. Please verify your connection and try again.'\n\t\t\t),\n\t\t};\n\n\t\tconst noticeMessage =\n\t\t\t! isPublished && edits.status in messages\n\t\t\t\t? messages[ edits.status ]\n\t\t\t\t: messages.default;\n\n\t\treturn [ noticeMessage, { id: 'editor-save' } ];\n\t}\n\n\tconst messages = {\n\t\tpublish: __( 'Publishing failed.' ),\n\t\tprivate: __( 'Publishing failed.' ),\n\t\tfuture: __( 'Scheduling failed.' ),\n\t\tdefault: __( 'Updating failed.' ),\n\t};\n\n\tlet noticeMessage =\n\t\t! isPublished && edits.status in messages\n\t\t\t? messages[ edits.status ]\n\t\t\t: messages.default;\n\n\t// Check if message string contains HTML. Notice text is currently only\n\t// supported as plaintext, and stripping the tags may muddle the meaning.\n\tif ( error.message && ! /<\\/?[^>]*>/.test( error.message ) ) {\n\t\tnoticeMessage = [ noticeMessage, error.message ].join( ' ' );\n\t}\n\treturn [\n\t\tnoticeMessage,\n\t\t{\n\t\t\tid: 'editor-save',\n\t\t},\n\t];\n}\n\n/**\n * Builds the trash fail notification arguments for dispatch.\n *\n * @param {Object} data\n *\n * @return {Array} Arguments for dispatch.\n */\nexport function getNotificationArgumentsForTrashFail( data ) {\n\treturn [\n\t\tdata.error.message && data.error.code !== 'unknown_error'\n\t\t\t? data.error.message\n\t\t\t: __( 'Trashing failed' ),\n\t\t{\n\t\t\tid: 'editor-trash-fail',\n\t\t},\n\t];\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '@wordpress/api-fetch';\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport isTemplateRevertable from './utils/is-template-revertable';\nexport * from '../dataviews/store/private-actions';\n\n/**\n * Returns an action object used to set which template is currently being used/edited.\n *\n * @param {string} id Template Id.\n *\n * @return {Object} Action object.\n */\nexport function setCurrentTemplateId( id ) {\n\treturn {\n\t\ttype: 'SET_CURRENT_TEMPLATE_ID',\n\t\tid,\n\t};\n}\n\n/**\n * Create a block based template.\n *\n * @param {?Object} template Template to create and assign.\n */\nexport const createTemplate =\n\t( template ) =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tconst savedTemplate = await registry\n\t\t\t.dispatch( coreStore )\n\t\t\t.saveEntityRecord( 'postType', 'wp_template', template );\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tselect.getCurrentPostType(),\n\t\t\t\tselect.getCurrentPostId(),\n\t\t\t\t{\n\t\t\t\t\ttemplate: savedTemplate.slug,\n\t\t\t\t}\n\t\t\t);\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createSuccessNotice(\n\t\t\t\t__( \"Custom template created. You're in template mode now.\" ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\tdispatch.setRenderingMode(\n\t\t\t\t\t\t\t\t\tselect.getEditorSettings()\n\t\t\t\t\t\t\t\t\t\t.defaultRenderingMode\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\treturn savedTemplate;\n\t};\n\n/**\n * Update the provided block types to be visible.\n *\n * @param {string[]} blockNames Names of block types to show.\n */\nexport const showBlockTypes =\n\t( blockNames ) =>\n\t( { registry } ) => {\n\t\tconst existingBlockNames =\n\t\t\tregistry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'hiddenBlockTypes' ) ?? [];\n\n\t\tconst newBlockNames = existingBlockNames.filter(\n\t\t\t( type ) =>\n\t\t\t\t! (\n\t\t\t\t\tArray.isArray( blockNames ) ? blockNames : [ blockNames ]\n\t\t\t\t).includes( type )\n\t\t);\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'hiddenBlockTypes', newBlockNames );\n\t};\n\n/**\n * Update the provided block types to be hidden.\n *\n * @param {string[]} blockNames Names of block types to hide.\n */\nexport const hideBlockTypes =\n\t( blockNames ) =>\n\t( { registry } ) => {\n\t\tconst existingBlockNames =\n\t\t\tregistry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'hiddenBlockTypes' ) ?? [];\n\n\t\tconst mergedBlockNames = new Set( [\n\t\t\t...existingBlockNames,\n\t\t\t...( Array.isArray( blockNames ) ? blockNames : [ blockNames ] ),\n\t\t] );\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'hiddenBlockTypes', [ ...mergedBlockNames ] );\n\t};\n\n/**\n * Save entity records marked as dirty.\n *\n * @param {Object}   options                      Options for the action.\n * @param {Function} [options.onSave]             Callback when saving happens.\n * @param {object[]} [options.dirtyEntityRecords] Array of dirty entities.\n * @param {object[]} [options.entitiesToSkip]     Array of entities to skip saving.\n * @param {Function} [options.close]              Callback when the actions is called. It should be consolidated with `onSave`.\n */\nexport const saveDirtyEntities =\n\t( { onSave, dirtyEntityRecords = [], entitiesToSkip = [], close } = {} ) =>\n\t( { registry } ) => {\n\t\tconst PUBLISH_ON_SAVE_ENTITIES = [\n\t\t\t{ kind: 'postType', name: 'wp_navigation' },\n\t\t];\n\t\tconst saveNoticeId = 'site-editor-save-success';\n\t\tconst homeUrl = registry\n\t\t\t.select( coreStore )\n\t\t\t.getEntityRecord( 'root', '__unstableBase' )?.home;\n\t\tregistry.dispatch( noticesStore ).removeNotice( saveNoticeId );\n\t\tconst entitiesToSave = dirtyEntityRecords.filter(\n\t\t\t( { kind, name, key, property } ) => {\n\t\t\t\treturn ! entitiesToSkip.some(\n\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\telt.kind === kind &&\n\t\t\t\t\t\telt.name === name &&\n\t\t\t\t\t\telt.key === key &&\n\t\t\t\t\t\telt.property === property\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t\tclose?.( entitiesToSave );\n\t\tconst siteItemsToSave = [];\n\t\tconst pendingSavedRecords = [];\n\t\tentitiesToSave.forEach( ( { kind, name, key, property } ) => {\n\t\t\tif ( 'root' === kind && 'site' === name ) {\n\t\t\t\tsiteItemsToSave.push( property );\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tPUBLISH_ON_SAVE_ENTITIES.some(\n\t\t\t\t\t\t( typeToPublish ) =>\n\t\t\t\t\t\t\ttypeToPublish.kind === kind &&\n\t\t\t\t\t\t\ttypeToPublish.name === name\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t\t.editEntityRecord( kind, name, key, {\n\t\t\t\t\t\t\tstatus: 'publish',\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tpendingSavedRecords.push(\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t\t.saveEditedEntityRecord( kind, name, key )\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\t\tif ( siteItemsToSave.length ) {\n\t\t\tpendingSavedRecords.push(\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.__experimentalSaveSpecifiedEntityEdits(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'site',\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\tsiteItemsToSave\n\t\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tregistry\n\t\t\t.dispatch( blockEditorStore )\n\t\t\t.__unstableMarkLastChangeAsPersistent();\n\t\tPromise.all( pendingSavedRecords )\n\t\t\t.then( ( values ) => {\n\t\t\t\treturn onSave ? onSave( values ) : values;\n\t\t\t} )\n\t\t\t.then( ( values ) => {\n\t\t\t\tif (\n\t\t\t\t\tvalues.some( ( value ) => typeof value === 'undefined' )\n\t\t\t\t) {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t\t.createErrorNotice( __( 'Saving failed.' ) );\n\t\t\t\t} else {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t\t.createSuccessNotice( __( 'Site updated.' ), {\n\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\tid: saveNoticeId,\n\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __( 'View site' ),\n\t\t\t\t\t\t\t\t\turl: homeUrl,\n\t\t\t\t\t\t\t\t\topenInNewTab: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( ( error ) =>\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t`${ __( 'Saving failed.' ) } ${ error }`\n\t\t\t\t\t)\n\t\t\t);\n\t};\n\n/**\n * Reverts a template to its original theme-provided file.\n *\n * @param {Object}  template            The template to revert.\n * @param {Object}  [options]\n * @param {boolean} [options.allowUndo] Whether to allow the user to undo\n *                                      reverting the template. Default true.\n */\nexport const revertTemplate =\n\t( template, { allowUndo = true } = {} ) =>\n\tasync ( { registry } ) => {\n\t\tconst noticeId = 'edit-site-template-reverted';\n\t\tregistry.dispatch( noticesStore ).removeNotice( noticeId );\n\t\tif ( ! isTemplateRevertable( template ) ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( __( 'This template is not revertable.' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst templateEntityConfig = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEntityConfig( 'postType', template.type );\n\n\t\t\tif ( ! templateEntityConfig ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst fileTemplatePath = addQueryArgs(\n\t\t\t\t`${ templateEntityConfig.baseURL }/${ template.id }`,\n\t\t\t\t{ context: 'edit', source: template.origin }\n\t\t\t);\n\n\t\t\tconst fileTemplate = await apiFetch( { path: fileTemplatePath } );\n\t\t\tif ( ! fileTemplate ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst serializeBlocks = ( {\n\t\t\t\tblocks: blocksForSerialization = [],\n\t\t\t} ) => __unstableSerializeAndClean( blocksForSerialization );\n\n\t\t\tconst edited = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id\n\t\t\t\t);\n\n\t\t\t// We are fixing up the undo level here to make sure we can undo\n\t\t\t// the revert in the header toolbar correctly.\n\t\t\tregistry.dispatch( coreStore ).editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id,\n\t\t\t\t{\n\t\t\t\t\tcontent: serializeBlocks, // Required to make the `undo` behave correctly.\n\t\t\t\t\tblocks: edited.blocks, // Required to revert the blocks in the editor.\n\t\t\t\t\tsource: 'custom', // required to avoid turning the editor into a dirty state\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tundoIgnore: true, // Required to merge this edit with the last undo level.\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst blocks = parse( fileTemplate?.content?.raw );\n\t\t\tregistry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.editEntityRecord( 'postType', template.type, fileTemplate.id, {\n\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\tblocks,\n\t\t\t\t\tsource: 'theme',\n\t\t\t\t} );\n\n\t\t\tif ( allowUndo ) {\n\t\t\t\tconst undoRevert = () => {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t\t.editEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\ttemplate.type,\n\t\t\t\t\t\t\tedited.id,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\t\t\t\tblocks: edited.blocks,\n\t\t\t\t\t\t\t\tsource: 'custom',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createSuccessNotice( __( 'Template reset.' ), {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: noticeId,\n\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\t\tonClick: undoRevert,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t} );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'Template revert failed. Please reload.' );\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t};\n\n/**\n * Action that removes an array of templates, template parts or patterns.\n *\n * @param {Array} items An array of template,template part or pattern objects to remove.\n */\nexport const removeTemplates =\n\t( items ) =>\n\tasync ( { registry } ) => {\n\t\tconst isResetting = items.every( ( item ) => item?.has_theme_file );\n\n\t\tconst promiseResult = await Promise.allSettled(\n\t\t\titems.map( ( item ) => {\n\t\t\t\treturn registry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.deleteEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\titem.type,\n\t\t\t\t\t\titem.id,\n\t\t\t\t\t\t{ force: true },\n\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t);\n\t\t\t} )\n\t\t);\n\n\t\t// If all the promises were fulfilled with success.\n\t\tif ( promiseResult.every( ( { status } ) => status === 'fulfilled' ) ) {\n\t\t\tlet successMessage;\n\n\t\t\tif ( items.length === 1 ) {\n\t\t\t\t// Depending on how the entity was retrieved its title might be\n\t\t\t\t// an object or simple string.\n\t\t\t\tlet title;\n\t\t\t\tif ( typeof items[ 0 ].title === 'string' ) {\n\t\t\t\t\ttitle = items[ 0 ].title;\n\t\t\t\t} else if ( typeof items[ 0 ].title?.rendered === 'string' ) {\n\t\t\t\t\ttitle = items[ 0 ].title?.rendered;\n\t\t\t\t} else if ( typeof items[ 0 ].title?.raw === 'string' ) {\n\t\t\t\t\ttitle = items[ 0 ].title?.raw;\n\t\t\t\t}\n\t\t\t\tsuccessMessage = isResetting\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t/* translators: %s: The template/part's name. */\n\t\t\t\t\t\t\t__( '\"%s\" reset.' ),\n\t\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t  )\n\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t/* translators: %s: The template/part's name. */\n\t\t\t\t\t\t\t_x( '\"%s\" deleted.', 'template part' ),\n\t\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t  );\n\t\t\t} else {\n\t\t\t\tsuccessMessage = isResetting\n\t\t\t\t\t? __( 'Items reset.' )\n\t\t\t\t\t: __( 'Items deleted.' );\n\t\t\t}\n\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createSuccessNotice( successMessage, {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tid: 'editor-template-deleted-success',\n\t\t\t\t} );\n\t\t} else {\n\t\t\t// If there was at lease one failure.\n\t\t\tlet errorMessage;\n\t\t\t// If we were trying to delete a single template.\n\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\tif ( promiseResult[ 0 ].reason?.message ) {\n\t\t\t\t\terrorMessage = promiseResult[ 0 ].reason.message;\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = isResetting\n\t\t\t\t\t\t? __( 'An error occurred while reverting the item.' )\n\t\t\t\t\t\t: __( 'An error occurred while deleting the item.' );\n\t\t\t\t}\n\t\t\t\t// If we were trying to delete a multiple templates\n\t\t\t} else {\n\t\t\t\tconst errorMessages = new Set();\n\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t);\n\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\tif ( failedPromise.reason?.message ) {\n\t\t\t\t\t\terrorMessages.add( failedPromise.reason.message );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t'An error occurred while deleting the items.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\terrorMessage = isResetting\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the items: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'An error occurred while deleting the items: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t  );\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = isResetting\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Some errors occurred while reverting the items: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Some errors occurred while deleting the items: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t  );\n\t\t\t\t}\n\t\t\t}\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t};\n\n/**\n * Set the default rendering mode preference for the current post type.\n *\n * @param {string} mode The rendering mode to set as default.\n */\nexport const setDefaultRenderingMode =\n\t( mode ) =>\n\t( { select, registry } ) => {\n\t\tconst postType = select.getCurrentPostType();\n\t\tconst theme = registry\n\t\t\t.select( coreStore )\n\t\t\t.getCurrentTheme()?.stylesheet;\n\t\tconst renderingModes =\n\t\t\tregistry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'renderingModes' )?.[ theme ] ?? {};\n\n\t\tif ( renderingModes[ postType ] === mode ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newModes = {\n\t\t\t[ theme ]: {\n\t\t\t\t...renderingModes,\n\t\t\t\t[ postType ]: mode,\n\t\t\t},\n\t\t};\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'renderingModes', newModes );\n\t};\n\n/**\n * Set the current global styles navigation path.\n *\n * @param {string} path The navigation path.\n * @return {Object} Action object.\n */\nexport function setStylesPath( path ) {\n\treturn {\n\t\ttype: 'SET_STYLES_PATH',\n\t\tpath,\n\t};\n}\n\n/**\n * Set whether the stylebook is visible.\n *\n * @param {boolean} show Whether to show the stylebook.\n * @return {Object} Action object.\n */\nexport function setShowStylebook( show ) {\n\treturn {\n\t\ttype: 'SET_SHOW_STYLEBOOK',\n\t\tshow,\n\t};\n}\n\n/**\n * Reset the global styles navigation to initial state.\n *\n * @return {Object} Action object.\n */\nexport function resetStylesNavigation() {\n\treturn {\n\t\ttype: 'RESET_STYLES_NAVIGATION',\n\t};\n}\n\n/**\n * Set the minimum height of the canvas.\n *\n * @param {number} minHeight\n * @return {Object} Action object.\n */\nexport function setCanvasMinHeight( minHeight ) {\n\treturn {\n\t\ttype: 'SET_CANVAS_MIN_HEIGHT',\n\t\tminHeight,\n\t};\n}\n\n/**\n * Set the current revision ID for revisions preview mode.\n * Pass a revision ID to enter revisions mode, or null to exit.\n *\n * @param {number|null} revisionId The revision ID, or null to exit revisions mode.\n * @return {Object} Action object.\n */\nexport function setCurrentRevisionId( revisionId ) {\n\treturn {\n\t\ttype: 'SET_CURRENT_REVISION_ID',\n\t\trevisionId,\n\t};\n}\n\n/**\n * Restore a revision by replacing the current content with the revision's content\n * and auto-saving.\n *\n * @param {number} revisionId The revision ID to restore.\n */\nexport const restoreRevision =\n\t( revisionId ) =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tconst postType = select.getCurrentPostType();\n\t\tconst postId = select.getCurrentPostId();\n\n\t\tconst revision = registry\n\t\t\t.select( coreStore )\n\t\t\t.getRevision( 'postType', postType, postId, revisionId, {\n\t\t\t\tcontext: 'edit',\n\t\t\t} );\n\n\t\tif ( ! revision ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Build the edits object with all restorable fields from the revision.\n\t\t// Setting blocks to undefined clears edited blocks, forcing a re-parse of content.\n\t\tconst edits = {\n\t\t\tblocks: undefined,\n\t\t\tcontent: revision.content.raw,\n\t\t};\n\t\tif ( revision.title?.raw !== undefined ) {\n\t\t\tedits.title = revision.title.raw;\n\t\t}\n\t\tif ( revision.excerpt?.raw !== undefined ) {\n\t\t\tedits.excerpt = revision.excerpt.raw;\n\t\t}\n\t\tif ( revision.meta !== undefined ) {\n\t\t\tedits.meta = revision.meta;\n\t\t}\n\n\t\t// Apply edits and save.\n\t\tdispatch.editPost( edits );\n\n\t\t// Exit revisions mode.\n\t\tdispatch.setCurrentRevisionId( null );\n\n\t\t// Save the post to persist the restored revision.\n\t\tawait dispatch.savePost();\n\n\t\t// Show success notice.\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createSuccessNotice( __( 'Revision restored.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t\tid: 'editor-revision-restored',\n\t\t\t} );\n\t};\n", "/**\n * Internal dependencies\n */\nimport { TEMPLATE_ORIGINS } from '../constants';\n\n// Copy of the function from packages/edit-site/src/utils/is-template-revertable.js\n\n/**\n * Check if a template or template part is revertable to its original theme-provided file.\n *\n * @param {Object} templateOrTemplatePart The entity to check.\n * @return {boolean} Whether the entity is revertable.\n */\nexport default function isTemplateRevertable( templateOrTemplatePart ) {\n\tif ( ! templateOrTemplatePart ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\ttemplateOrTemplatePart.source === TEMPLATE_ORIGINS.custom &&\n\t\t( Boolean( templateOrTemplatePart?.plugin ) ||\n\t\t\ttemplateOrTemplatePart?.has_theme_file )\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport type { Action, Field } from '@wordpress/dataviews';\nimport { doAction } from '@wordpress/hooks';\nimport type { PostType } from '@wordpress/fields';\nimport {\n\tviewPost,\n\tviewPostRevisions,\n\tduplicatePost,\n\tduplicatePattern,\n\treorderPage,\n\texportPattern,\n\tpermanentlyDeletePost,\n\trestorePost,\n\ttrashPost,\n\trenamePost,\n\tresetPost,\n\tdeletePost,\n\tduplicateTemplatePart,\n\tfeaturedImageField,\n\tdateField,\n\tparentField,\n\tpasswordField,\n\tcommentStatusField,\n\tpingStatusField,\n\tdiscussionField,\n\tslugField,\n\tstatusField,\n\tauthorField,\n\ttitleField,\n\ttemplateField,\n\ttemplateTitleField,\n\tpageTitleField,\n\tpatternTitleField,\n\tnotesField,\n} from '@wordpress/fields';\nimport {\n\taltTextField,\n\tattachedToField,\n\tauthorField as mediaAuthorField,\n\tcaptionField,\n\tdateAddedField,\n\tdescriptionField,\n\tfilenameField,\n\tfilesizeField,\n\tmediaDimensionsField,\n\tmimeTypeField,\n} from '@wordpress/media-fields';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { ATTACHMENT_POST_TYPE, DESIGN_POST_TYPES } from '../../store/constants';\nimport postPreviewField from '../fields/content-preview';\nimport { unlock } from '../../lock-unlock';\n\ndeclare global {\n\tinterface Window {\n\t\t__experimentalTemplateActivate?: boolean;\n\t\t__experimentalMediaEditor?: boolean;\n\t}\n}\n\n/**\n * Check if a post type supports editor notes.\n *\n * @param supports The post type supports object.\n * @return Whether editor notes are supported.\n */\nfunction hasEditorNotesSupport( supports?: PostType[ 'supports' ] ): boolean {\n\tconst editor = supports?.editor;\n\tif ( Array.isArray( editor ) ) {\n\t\treturn !! editor[ 0 ]?.notes;\n\t}\n\treturn false;\n}\n\nexport function registerEntityAction< Item >(\n\tkind: string,\n\tname: string,\n\tconfig: Action< Item >\n) {\n\treturn {\n\t\ttype: 'REGISTER_ENTITY_ACTION' as const,\n\t\tkind,\n\t\tname,\n\t\tconfig,\n\t};\n}\n\nexport function unregisterEntityAction(\n\tkind: string,\n\tname: string,\n\tactionId: string\n) {\n\treturn {\n\t\ttype: 'UNREGISTER_ENTITY_ACTION' as const,\n\t\tkind,\n\t\tname,\n\t\tactionId,\n\t};\n}\n\nexport function registerEntityField< Item >(\n\tkind: string,\n\tname: string,\n\tconfig: Field< Item >\n) {\n\treturn {\n\t\ttype: 'REGISTER_ENTITY_FIELD' as const,\n\t\tkind,\n\t\tname,\n\t\tconfig,\n\t};\n}\n\nexport function unregisterEntityField(\n\tkind: string,\n\tname: string,\n\tfieldId: string\n) {\n\treturn {\n\t\ttype: 'UNREGISTER_ENTITY_FIELD' as const,\n\t\tkind,\n\t\tname,\n\t\tfieldId,\n\t};\n}\n\nexport function setIsReady( kind: string, name: string ) {\n\treturn {\n\t\ttype: 'SET_IS_READY' as const,\n\t\tkind,\n\t\tname,\n\t};\n}\n\n/*\n * Media fields for the attachment post type.\n *\n * Field order follows a logical grouping:\n * 1. Metadata fields in panels (date, author, file info)\n * 2. Core editable fields (title, alt text, caption, description)\n *\n * Note: media_thumbnail is not included as it's shown in the canvas preview\n */\nconst ORDERED_MEDIA_FIELDS = [\n\t// Metadata in panels (collapsed by default).\n\tdateAddedField,\n\tmediaAuthorField,\n\tfilenameField,\n\tmimeTypeField,\n\tfilesizeField,\n\tmediaDimensionsField,\n\tattachedToField,\n\t// Regular layout fields (always visible).\n\ttitleField,\n\taltTextField,\n\tcaptionField,\n\tdescriptionField,\n];\n\nexport const registerPostTypeSchema =\n\t( postType: string ) =>\n\tasync ( { registry }: { registry: any } ) => {\n\t\tconst isReady = unlock( registry.select( editorStore ) ).isEntityReady(\n\t\t\t'postType',\n\t\t\tpostType\n\t\t);\n\t\tif ( isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\tunlock( registry.dispatch( editorStore ) ).setIsReady(\n\t\t\t'postType',\n\t\t\tpostType\n\t\t);\n\n\t\tconst postTypeConfig = ( await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getPostType( postType ) ) as PostType;\n\n\t\tconst canCreate = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: postType,\n\t\t\t} );\n\t\tconst currentTheme = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getCurrentTheme();\n\n\t\tlet canDuplicate =\n\t\t\t! [ 'wp_block', 'wp_template_part' ].includes(\n\t\t\t\tpostTypeConfig.slug\n\t\t\t) &&\n\t\t\tcanCreate &&\n\t\t\tduplicatePost;\n\n\t\t// @ts-ignore\n\t\tif ( ! globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t\t// Outside Gutenberg, disable duplication except for wp_template.\n\t\t\tif ( 'wp_template' !== postTypeConfig.slug ) {\n\t\t\t\tcanDuplicate = undefined;\n\t\t\t}\n\t\t}\n\n\t\t// When template activation experiment is disabled, templates cannot be duplicated.\n\t\t// @ts-ignore\n\t\tif (\n\t\t\tpostTypeConfig.slug === 'wp_template' &&\n\t\t\t! window?.__experimentalTemplateActivate\n\t\t) {\n\t\t\tcanDuplicate = undefined;\n\t\t}\n\n\t\tconst actions = [\n\t\t\tpostTypeConfig.viewable ? viewPost : undefined,\n\t\t\t!! postTypeConfig.supports?.revisions\n\t\t\t\t? viewPostRevisions\n\t\t\t\t: undefined,\n\t\t\t// @ts-ignore\n\t\t\tcanDuplicate,\n\t\t\tpostTypeConfig.slug === 'wp_template_part' &&\n\t\t\tcanCreate &&\n\t\t\tcurrentTheme?.is_block_theme\n\t\t\t\t? duplicateTemplatePart\n\t\t\t\t: undefined,\n\t\t\tcanCreate && postTypeConfig.slug === 'wp_block'\n\t\t\t\t? duplicatePattern\n\t\t\t\t: undefined,\n\t\t\tpostTypeConfig.supports?.title ? renamePost : undefined,\n\t\t\tpostTypeConfig.supports?.[ 'page-attributes' ]\n\t\t\t\t? reorderPage\n\t\t\t\t: undefined,\n\t\t\tpostTypeConfig.slug === 'wp_block' ? exportPattern : undefined,\n\t\t\trestorePost,\n\t\t\tresetPost,\n\t\t\tdeletePost,\n\t\t\ttrashPost,\n\t\t\tpermanentlyDeletePost,\n\t\t].filter( Boolean );\n\n\t\t// Handle attachment post type separately with media-specific fields\n\t\tlet fields;\n\n\t\tif ( postType === ATTACHMENT_POST_TYPE ) {\n\t\t\tfields = ORDERED_MEDIA_FIELDS;\n\t\t} else {\n\t\t\tfields = [\n\t\t\t\tpostTypeConfig.supports?.thumbnail &&\n\t\t\t\t\tcurrentTheme?.theme_supports?.[ 'post-thumbnails' ] &&\n\t\t\t\t\tfeaturedImageField,\n\t\t\t\tpostTypeConfig.supports?.author && authorField,\n\t\t\t\tstatusField,\n\t\t\t\t! DESIGN_POST_TYPES.includes( postTypeConfig.slug ) &&\n\t\t\t\t\tdateField,\n\t\t\t\tslugField,\n\t\t\t\tpostTypeConfig.supports?.[ 'page-attributes' ] && parentField,\n\t\t\t\tpostTypeConfig.supports?.comments && commentStatusField,\n\t\t\t\tpostTypeConfig.supports?.trackbacks && pingStatusField,\n\t\t\t\t( postTypeConfig.supports?.comments ||\n\t\t\t\t\tpostTypeConfig.supports?.trackbacks ) &&\n\t\t\t\t\tdiscussionField,\n\t\t\t\ttemplateField,\n\t\t\t\tpasswordField,\n\t\t\t\tpostTypeConfig.supports?.editor &&\n\t\t\t\t\tpostTypeConfig.viewable &&\n\t\t\t\t\tpostPreviewField,\n\t\t\t\thasEditorNotesSupport( postTypeConfig.supports ) && notesField,\n\t\t\t].filter( Boolean );\n\t\t\tif ( postTypeConfig.supports?.title ) {\n\t\t\t\tlet _titleField;\n\t\t\t\tif ( postType === 'page' ) {\n\t\t\t\t\t_titleField = pageTitleField;\n\t\t\t\t} else if ( postType === 'wp_template' ) {\n\t\t\t\t\t_titleField = templateTitleField;\n\t\t\t\t} else if ( postType === 'wp_block' ) {\n\t\t\t\t\t_titleField = patternTitleField;\n\t\t\t\t} else {\n\t\t\t\t\t_titleField = titleField;\n\t\t\t\t}\n\t\t\t\tfields.push( _titleField );\n\t\t\t}\n\t\t}\n\n\t\tregistry.batch( () => {\n\t\t\tactions.forEach( ( action ) => {\n\t\t\t\tunlock( registry.dispatch( editorStore ) ).registerEntityAction(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\taction\n\t\t\t\t);\n\t\t\t} );\n\t\t\tfields.forEach( ( field ) => {\n\t\t\t\tunlock( registry.dispatch( editorStore ) ).registerEntityField(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tfield\n\t\t\t\t);\n\t\t\t} );\n\t\t} );\n\n\t\tdoAction( 'core.registerPostTypeSchema', postType );\n\t};\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport SlugEdit from './slug-edit';\nimport SlugView from './slug-view';\n\nconst slugField: Field< BasePost > = {\n\tid: 'slug',\n\ttype: 'text',\n\tlabel: __( 'Slug' ),\n\tEdit: SlugEdit,\n\trender: SlugView,\n\tfilterBy: false,\n};\n\n/**\n * Slug field for BasePost.\n */\nexport default slugField;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tExternalLink,\n\t__experimentalInputControl as InputControl,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n\t__experimentalInputControlSuffixWrapper as InputControlSuffixWrapper,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { copySmall } from '@wordpress/icons';\nimport { useCopyToClipboard, useInstanceId } from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\nimport { useCallback, useEffect, useRef } from '@wordpress/element';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { safeDecodeURIComponent } from '@wordpress/url';\nimport type { DataFormControlProps } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport { getSlug } from './utils';\n\nconst SlugEdit = ( {\n\tfield,\n\tonChange,\n\tdata,\n}: DataFormControlProps< BasePost > ) => {\n\tconst { id } = field;\n\n\tconst slug = field.getValue( { item: data } ) || getSlug( data );\n\tconst permalinkTemplate = data.permalink_template || '';\n\tconst PERMALINK_POSTNAME_REGEX = /%(?:postname|pagename)%/;\n\tconst [ prefix, suffix ] = permalinkTemplate.split(\n\t\tPERMALINK_POSTNAME_REGEX\n\t);\n\tconst permalinkPrefix = prefix;\n\tconst permalinkSuffix = suffix;\n\tconst isEditable = PERMALINK_POSTNAME_REGEX.test( permalinkTemplate );\n\tconst originalSlugRef = useRef( slug );\n\tconst slugToDisplay = slug || originalSlugRef.current;\n\tconst permalink = isEditable\n\t\t? `${ permalinkPrefix }${ slugToDisplay }${ permalinkSuffix }`\n\t\t: safeDecodeURIComponent( data.link || '' );\n\n\tuseEffect( () => {\n\t\tif ( slug && originalSlugRef.current === undefined ) {\n\t\t\toriginalSlugRef.current = slug;\n\t\t}\n\t}, [ slug ] );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue?: string ) =>\n\t\t\tonChange( {\n\t\t\t\t[ id ]: newValue,\n\t\t\t} ),\n\t\t[ id, onChange ]\n\t);\n\n\tconst { createNotice } = useDispatch( noticesStore );\n\n\tconst copyButtonRef = useCopyToClipboard( permalink, () => {\n\t\tcreateNotice( 'info', __( 'Copied Permalink to clipboard.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t} );\n\n\tconst postUrlSlugDescriptionId =\n\t\t'editor-post-url__slug-description-' + useInstanceId( SlugEdit );\n\n\treturn (\n\t\t<fieldset className=\"fields-controls__slug\">\n\t\t\t{ isEditable && (\n\t\t\t\t<VStack>\n\t\t\t\t\t<VStack spacing=\"0px\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Customize the last part of the Permalink.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ExternalLink href=\"https://wordpress.org/documentation/article/page-post-settings-sidebar/#permalink\">\n\t\t\t\t\t\t\t{ __( 'Learn more' ) }\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t</VStack>\n\t\t\t\t\t<InputControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tprefix={\n\t\t\t\t\t\t\t<InputControlPrefixWrapper>\n\t\t\t\t\t\t\t\t/\n\t\t\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsuffix={\n\t\t\t\t\t\t\t<InputControlSuffixWrapper variant=\"control\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\ticon={ copySmall }\n\t\t\t\t\t\t\t\t\tref={ copyButtonRef }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Copy' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</InputControlSuffixWrapper>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={ __( 'Link' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ slug }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tspellCheck=\"false\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"fields-controls__slug-input\"\n\t\t\t\t\t\tonChange={ ( newValue?: string ) => {\n\t\t\t\t\t\t\tonChangeControl( newValue );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonBlur={ () => {\n\t\t\t\t\t\t\tif ( slug === '' ) {\n\t\t\t\t\t\t\t\tonChangeControl( originalSlugRef.current );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taria-describedby={ postUrlSlugDescriptionId }\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"fields-controls__slug-help\">\n\t\t\t\t\t\t<span className=\"fields-controls__slug-help-visual-label\">\n\t\t\t\t\t\t\t{ __( 'Permalink:' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\tclassName=\"fields-controls__slug-help-link\"\n\t\t\t\t\t\t\thref={ permalink }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"fields-controls__slug-help-prefix\">\n\t\t\t\t\t\t\t\t{ permalinkPrefix }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"fields-controls__slug-help-slug\">\n\t\t\t\t\t\t\t\t{ slugToDisplay }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"fields-controls__slug-help-suffix\">\n\t\t\t\t\t\t\t\t{ permalinkSuffix }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t</div>\n\t\t\t\t</VStack>\n\t\t\t) }\n\t\t\t{ ! isEditable && (\n\t\t\t\t<ExternalLink\n\t\t\t\t\tclassName=\"fields-controls__slug-help\"\n\t\t\t\t\thref={ permalink }\n\t\t\t\t>\n\t\t\t\t\t{ permalink }\n\t\t\t\t</ExternalLink>\n\t\t\t) }\n\t\t</fieldset>\n\t);\n};\n\nexport default SlugEdit;\n", "/**\n * WordPress dependencies\n */\nimport { cleanForSlug } from '@wordpress/url';\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport { getItemTitle } from '../../actions/utils';\n\nexport const getSlug = ( item: BasePost ): string => {\n\tif ( typeof item !== 'object' ) {\n\t\treturn '';\n\t}\n\n\treturn (\n\t\titem.slug || cleanForSlug( getItemTitle( item ) ) || item.id.toString()\n\t);\n};\n", "/**\n * WordPress dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { Post, TemplatePart, Template } from '../types';\n\nexport function isTemplate( post: Post ): post is Template {\n\treturn post.type === 'wp_template';\n}\n\nexport function isTemplatePart( post: Post ): post is TemplatePart {\n\treturn post.type === 'wp_template_part';\n}\n\nexport function isTemplateOrTemplatePart(\n\tp: Post\n): p is Template | TemplatePart {\n\treturn p.type === 'wp_template' || p.type === 'wp_template_part';\n}\n\nexport function getItemTitle(\n\titem: {\n\t\ttitle: string | { rendered: string } | { raw: string };\n\t},\n\tfallback: string = __( '(no title)' )\n) {\n\tlet title = '';\n\tif ( typeof item.title === 'string' ) {\n\t\ttitle = decodeEntities( item.title );\n\t} else if ( item.title && 'rendered' in item.title ) {\n\t\ttitle = decodeEntities( item.title.rendered );\n\t} else if ( item.title && 'raw' in item.title ) {\n\t\ttitle = decodeEntities( item.title.raw );\n\t}\n\treturn title || fallback;\n}\n\n/**\n * Check if a template is removable.\n *\n * @param template The template entity to check.\n * @return Whether the template is removable.\n */\nexport function isTemplateRemovable( template: Template | TemplatePart ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\t// In patterns list page we map the templates parts to a different object\n\t// than the one returned from the endpoint. This is why we need to check for\n\t// two props whether is custom or has a theme file.\n\treturn (\n\t\t[ template.source, template.source ].includes( 'custom' ) &&\n\t\t! Boolean( template.type === 'wp_template' && template?.plugin ) &&\n\t\t! template.has_theme_file\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport { getSlug } from './utils';\n\nconst SlugView = ( { item }: { item: BasePost } ) => {\n\tconst slug = getSlug( item );\n\tconst originalSlugRef = useRef( slug );\n\n\tuseEffect( () => {\n\t\tif ( slug && originalSlugRef.current === undefined ) {\n\t\t\toriginalSlugRef.current = slug;\n\t\t}\n\t}, [ slug ] );\n\n\tconst slugToDisplay = slug || originalSlugRef.current;\n\n\treturn `${ slugToDisplay }`;\n};\n\nexport default SlugView;\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { CommonPost } from '../../types';\nimport { getItemTitle } from '../../actions/utils';\nimport TitleView from './view';\n\nconst titleField: Field< CommonPost > = {\n\ttype: 'text',\n\tid: 'title',\n\tlabel: __( 'Title' ),\n\tplaceholder: __( 'No title' ),\n\tgetValue: ( { item } ) => getItemTitle( item ),\n\trender: TitleView,\n\tenableHiding: true,\n\tenableGlobalSearch: true,\n\tfilterBy: false,\n};\n\n/**\n * Title for the any entity with a `title` property.\n * For patterns, pages or templates you should use the respective field\n * because there are some differences in the rendering, labels, etc.\n */\nexport default titleField;\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { ReactNode } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { CommonPost } from '../../types';\nimport { getItemTitle } from '../../actions/utils';\n\nexport function BaseTitleView( {\n\titem,\n\tclassName,\n\tchildren,\n}: {\n\titem: CommonPost;\n\tclassName?: string;\n\tchildren?: ReactNode;\n} ) {\n\tconst renderedTitle = getItemTitle( item );\n\treturn (\n\t\t<HStack\n\t\t\tclassName={ clsx( 'fields-field__title', className ) }\n\t\t\talignment=\"center\"\n\t\t\tjustify=\"flex-start\"\n\t\t>\n\t\t\t<span>{ renderedTitle || __( '(no title)' ) }</span>\n\t\t\t{ children }\n\t\t</HStack>\n\t);\n}\n\nexport default function TitleView( { item }: { item: CommonPost } ) {\n\treturn <BaseTitleView item={ item } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport { getItemTitle } from '../../actions/utils';\nimport PageTitleView from './view';\n\nconst pageTitleField: Field< BasePost > = {\n\ttype: 'text',\n\tid: 'title',\n\tlabel: __( 'Title' ),\n\tplaceholder: __( 'No title' ),\n\tgetValue: ( { item } ) => getItemTitle( item ),\n\trender: PageTitleView,\n\tenableHiding: false,\n\tenableGlobalSearch: true,\n\tfilterBy: false,\n};\n\n/**\n * Title for the page entity.\n */\nexport default pageTitleField;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport type { Settings } from '@wordpress/core-data';\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { CommonPost } from '../../types';\nimport { BaseTitleView } from '../title/view';\nimport { unlock } from '../../lock-unlock';\nconst { Badge } = unlock( componentsPrivateApis );\n\nexport default function PageTitleView( { item }: { item: CommonPost } ) {\n\tconst { frontPageId, postsPageId } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord } = select( coreStore );\n\t\tconst siteSettings = getEntityRecord(\n\t\t\t'root',\n\t\t\t'site'\n\t\t) as Partial< Settings >;\n\t\treturn {\n\t\t\tfrontPageId: siteSettings?.page_on_front,\n\t\t\tpostsPageId: siteSettings?.page_for_posts,\n\t\t};\n\t}, [] );\n\treturn (\n\t\t<BaseTitleView item={ item } className=\"fields-field__page-title\">\n\t\t\t{ [ frontPageId, postsPageId ].includes( item.id as number ) && (\n\t\t\t\t<Badge>\n\t\t\t\t\t{ item.id === frontPageId\n\t\t\t\t\t\t? __( 'Homepage' )\n\t\t\t\t\t\t: __( 'Posts Page' ) }\n\t\t\t\t</Badge>\n\t\t\t) }\n\t\t</BaseTitleView>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/fields'\n\t);\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { Template } from '../../types';\nimport { getItemTitle } from '../../actions/utils';\nimport TitleView from '../title/view';\n\nconst templateTitleField: Field< Template > = {\n\ttype: 'text',\n\tlabel: __( 'Template' ),\n\tplaceholder: __( 'No title' ),\n\tid: 'title',\n\tgetValue: ( { item } ) => getItemTitle( item ),\n\trender: TitleView,\n\tenableHiding: false,\n\tenableGlobalSearch: true,\n\tfilterBy: false,\n};\n\n/**\n * Title for the template entity.\n */\nexport default templateTitleField;\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { Pattern } from '../../types';\nimport { getItemTitle } from '../../actions/utils';\nimport PatternTitleView from './view';\n\nconst patternTitleField: Field< Pattern > = {\n\ttype: 'text',\n\tid: 'title',\n\tlabel: __( 'Title' ),\n\tplaceholder: __( 'No title' ),\n\tgetValue: ( { item } ) => getItemTitle( item ),\n\trender: PatternTitleView,\n\tenableHiding: false,\n\tenableGlobalSearch: true,\n\tfilterBy: false,\n};\n\n/**\n * Title for the pattern entity.\n */\nexport default patternTitleField;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, lockSmall } from '@wordpress/icons';\nimport { Tooltip } from '@wordpress/components';\n// @ts-ignore\nimport { privateApis as patternPrivateApis } from '@wordpress/patterns';\n\n/**\n * Internal dependencies\n */\nimport type { CommonPost } from '../../types';\nimport { BaseTitleView } from '../title/view';\nimport { unlock } from '../../lock-unlock';\n\nexport const { PATTERN_TYPES } = unlock( patternPrivateApis );\n\nexport default function PatternTitleView( { item }: { item: CommonPost } ) {\n\treturn (\n\t\t<BaseTitleView item={ item } className=\"fields-field__pattern-title\">\n\t\t\t{ item.type === PATTERN_TYPES.theme && (\n\t\t\t\t<Tooltip\n\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\ttext={ __( 'This pattern cannot be edited.' ) }\n\t\t\t\t>\n\t\t\t\t\t<Icon icon={ lockSmall } size={ 24 } />\n\t\t\t\t</Tooltip>\n\t\t\t) }\n\t\t</BaseTitleView>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport MediaEdit from '../../components/media-edit';\nimport type { BasePostWithEmbeddedFeaturedMedia } from '../../types';\nimport { FeaturedImageView } from './featured-image-view';\n\nconst featuredImageField: Field< BasePostWithEmbeddedFeaturedMedia > = {\n\tid: 'featured_media',\n\ttype: 'media',\n\tlabel: __( 'Featured Image' ),\n\tEdit: MediaEdit,\n\trender: FeaturedImageView,\n\tsetValue: ( { value } ) => ( {\n\t\tfeatured_media: value ?? 0,\n\t} ),\n\tenableSorting: false,\n\tfilterBy: false,\n};\n\n/**\n * Featured Image field for BasePostWithEmbeddedFeaturedMedia.\n */\nexport default featuredImageField;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tDropZone,\n\tIcon,\n\tSpinner,\n\t__experimentalText as Text,\n\t__experimentalTruncate as Truncate,\n\t__experimentalVStack as VStack,\n\tBaseControl,\n\tTooltip,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { isBlobURL, getBlobTypeByURL } from '@wordpress/blob';\nimport { store as coreStore, type Attachment } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tarchive,\n\taudio,\n\tvideo,\n\tfile,\n\tcloseSmall,\n\terror as errorIcon,\n} from '@wordpress/icons';\nimport {\n\tMediaUpload,\n\tuploadMedia,\n\tprivateApis as mediaUtilsPrivateApis,\n} from '@wordpress/media-utils';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport type { MediaEditProps } from '../../types';\n\nconst { MediaUploadModal } = unlock( mediaUtilsPrivateApis );\n\ntype BlobItem = {\n\tid: string;\n\tsource_url: string;\n\tmime_type: string | undefined;\n\talt_text?: string;\n};\n\n/**\n * Conditional Media component that uses MediaUploadModal when experiment is enabled,\n * otherwise falls back to media-utils MediaUpload.\n *\n * @param root0          Component props.\n * @param root0.render   Render prop function that receives { open } object.\n * @param root0.multiple Whether to allow multiple media selections.\n * @return The component.\n */\nfunction ConditionalMediaUpload( { render, multiple, ...props }: any ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tif ( ( window as any ).__experimentalDataViewsMediaModal ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ render && render( { open: () => setIsModalOpen( true ) } ) }\n\t\t\t\t{ isModalOpen && (\n\t\t\t\t\t<MediaUploadModal\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t\tisOpen={ isModalOpen }\n\t\t\t\t\t\tonClose={ () => {\n\t\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t\t\tprops.onClose?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonSelect={ ( media: any ) => {\n\t\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t\t\tprops.onSelect?.( media );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n\t// Fallback to media-utils MediaUpload when experiment is disabled.\n\treturn (\n\t\t<MediaUpload\n\t\t\t{ ...props }\n\t\t\trender={ render }\n\t\t\tmultiple={ multiple ? 'add' : undefined }\n\t\t/>\n\t);\n}\n\nfunction MediaPickerButton( {\n\topen,\n\tchildren,\n\tlabel,\n\tshowTooltip = false,\n\tonFilesDrop,\n\tattachment,\n\tisUploading = false,\n}: {\n\topen: () => void;\n\tchildren: React.ReactNode;\n\tlabel: string;\n\tshowTooltip?: boolean;\n\tonFilesDrop: MediaEditAttachmentsProps[ 'onFilesDrop' ];\n\tattachment?: MediaEditAttachment;\n\tisUploading?: boolean;\n} ) {\n\tconst isBlob = attachment && isBlobURL( attachment.source_url );\n\tconst mediaPickerButton = (\n\t\t<div\n\t\t\tclassName=\"fields__media-edit-picker-button\"\n\t\t\trole=\"button\"\n\t\t\ttabIndex={ 0 }\n\t\t\tonClick={ () => {\n\t\t\t\tif ( ! isUploading ) {\n\t\t\t\t\topen();\n\t\t\t\t}\n\t\t\t} }\n\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\tif ( isUploading ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( event.key === 'Enter' || event.key === ' ' ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\topen();\n\t\t\t\t}\n\t\t\t} }\n\t\t\taria-label={ label }\n\t\t\taria-disabled={ isUploading }\n\t\t>\n\t\t\t{ children }\n\t\t\t{ isBlob && (\n\t\t\t\t<span className=\"fields__media-edit-picker-button-spinner\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t{ ! isUploading && (\n\t\t\t\t<DropZone\n\t\t\t\t\tonFilesDrop={ ( files ) =>\n\t\t\t\t\t\tonFilesDrop( files, attachment?.id as number )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n\tif ( ! showTooltip ) {\n\t\treturn mediaPickerButton;\n\t}\n\treturn <Tooltip text={ label }>{ mediaPickerButton }</Tooltip>;\n}\n\nconst archiveMimeTypes = [\n\t'application/zip',\n\t'application/x-zip-compressed',\n\t'application/x-rar-compressed',\n\t'application/x-7z-compressed',\n\t'application/x-tar',\n\t'application/x-gzip',\n];\n\nfunction MediaTitle( { attachment }: { attachment: Attachment< 'view' > } ) {\n\treturn (\n\t\t<Truncate className=\"fields__media-edit-filename\">\n\t\t\t{ attachment.title.rendered }\n\t\t</Truncate>\n\t);\n}\n\nfunction MediaEditPlaceholder( props: {\n\topen: () => void;\n\tlabel: string;\n\tonFilesDrop: MediaEditAttachmentsProps[ 'onFilesDrop' ];\n\tisUploading: boolean;\n} ) {\n\treturn (\n\t\t<MediaPickerButton { ...props }>\n\t\t\t<span className=\"fields__media-edit-placeholder\">\n\t\t\t\t{ props.label }\n\t\t\t</span>\n\t\t</MediaPickerButton>\n\t);\n}\n\nfunction MediaPreview( { attachment }: { attachment: MediaEditAttachment } ) {\n\tconst url = attachment.source_url;\n\tconst mimeType = attachment.mime_type || '';\n\tif ( mimeType.startsWith( 'image' ) ) {\n\t\treturn (\n\t\t\t<img\n\t\t\t\tclassName=\"fields__media-edit-thumbnail\"\n\t\t\t\talt={ attachment.alt_text || '' }\n\t\t\t\tsrc={ url }\n\t\t\t/>\n\t\t);\n\t} else if ( mimeType.startsWith( 'audio' ) ) {\n\t\treturn <Icon icon={ audio } />;\n\t} else if ( mimeType.startsWith( 'video' ) ) {\n\t\treturn <Icon icon={ video } />;\n\t} else if ( archiveMimeTypes.includes( mimeType ) ) {\n\t\treturn <Icon icon={ archive } />;\n\t}\n\treturn <Icon icon={ file } />;\n}\n\ntype MediaEditAttachment = Attachment< 'view' > | BlobItem;\ninterface MediaEditAttachmentsProps {\n\tallItems: Array< MediaEditAttachment > | null;\n\taddButtonLabel: string;\n\tmultiple?: boolean;\n\tremoveItem: ( itemId: number ) => void;\n\topen: () => void;\n\tonFilesDrop: ( files: File[], attachmentId?: number ) => void;\n\tisUploading: boolean;\n}\n\nfunction ExpandedMediaEditAttachments( {\n\tallItems,\n\taddButtonLabel,\n\tmultiple,\n\tremoveItem,\n\topen,\n\tonFilesDrop,\n\tisUploading,\n}: MediaEditAttachmentsProps ) {\n\treturn (\n\t\t<div\n\t\t\tclassName={ clsx( 'fields__media-edit-expanded', {\n\t\t\t\t'is-multiple': multiple,\n\t\t\t\t'is-single': ! multiple,\n\t\t\t\t'is-empty': ! allItems?.length,\n\t\t\t} ) }\n\t\t>\n\t\t\t{ allItems?.map( ( attachment ) => {\n\t\t\t\tconst hasPreviewImage =\n\t\t\t\t\tattachment.mime_type?.startsWith( 'image' );\n\t\t\t\tconst isBlob = isBlobURL( attachment.source_url );\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={ attachment.id }\n\t\t\t\t\t\tclassName={ clsx( 'fields__media-edit-expanded-item', {\n\t\t\t\t\t\t\t'has-preview-image': hasPreviewImage,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<MediaPickerButton\n\t\t\t\t\t\t\topen={ open }\n\t\t\t\t\t\t\tlabel={ __( 'Replace' ) }\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\tonFilesDrop={ onFilesDrop }\n\t\t\t\t\t\t\tattachment={ attachment }\n\t\t\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"fields__media-edit-expanded-preview\">\n\t\t\t\t\t\t\t\t<VStack\n\t\t\t\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t\t\t\t\talignment=\"center\"\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\tclassName=\"fields__media-edit-expanded-preview-stack\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ ( ! isBlob || hasPreviewImage ) && (\n\t\t\t\t\t\t\t\t\t\t<MediaPreview\n\t\t\t\t\t\t\t\t\t\t\tattachment={ attachment }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! isBlob &&\n\t\t\t\t\t\t\t\t\t\t( ! hasPreviewImage ? (\n\t\t\t\t\t\t\t\t\t\t\t<MediaTitle\n\t\t\t\t\t\t\t\t\t\t\t\tattachment={\n\t\t\t\t\t\t\t\t\t\t\t\t\tattachment as Attachment< 'view' >\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fields__media-edit-expanded-overlay\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"fields__media-edit-expanded-title\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MediaTitle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattachment={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tattachment as Attachment< 'view' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</MediaPickerButton>\n\t\t\t\t\t\t{ ! isBlob && (\n\t\t\t\t\t\t\t<div className=\"fields__media-edit-expanded-overlay\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tclassName=\"fields__media-edit-expanded-remove\"\n\t\t\t\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Remove' ) }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tdisabled={ isUploading }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\tonClick={ (\n\t\t\t\t\t\t\t\t\t\tevent: React.MouseEvent< HTMLButtonElement >\n\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t\t\tremoveItem( attachment.id as number );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ ( multiple || ! allItems?.length ) && (\n\t\t\t\t<MediaEditPlaceholder\n\t\t\t\t\topen={ open }\n\t\t\t\t\tlabel={ addButtonLabel }\n\t\t\t\t\tonFilesDrop={ onFilesDrop }\n\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction CompactMediaEditAttachments( {\n\tallItems,\n\taddButtonLabel,\n\tmultiple,\n\tremoveItem,\n\topen,\n\tonFilesDrop,\n\tisUploading,\n}: MediaEditAttachmentsProps ) {\n\treturn (\n\t\t<>\n\t\t\t{ !! allItems?.length && (\n\t\t\t\t<VStack spacing={ 2 }>\n\t\t\t\t\t{ allItems.map( ( attachment ) => {\n\t\t\t\t\t\tconst isBlob = isBlobURL( attachment.source_url );\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={ attachment.id }\n\t\t\t\t\t\t\t\tclassName=\"fields__media-edit-compact\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MediaPickerButton\n\t\t\t\t\t\t\t\t\topen={ open }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Replace' ) }\n\t\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\t\tonFilesDrop={ onFilesDrop }\n\t\t\t\t\t\t\t\t\tattachment={ attachment }\n\t\t\t\t\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<MediaPreview\n\t\t\t\t\t\t\t\t\t\t\tattachment={ attachment }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{ ! isBlob && (\n\t\t\t\t\t\t\t\t\t\t\t<MediaTitle\n\t\t\t\t\t\t\t\t\t\t\t\tattachment={\n\t\t\t\t\t\t\t\t\t\t\t\t\tattachment as Attachment< 'view' >\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</MediaPickerButton>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tclassName=\"fields__media-edit-remove\"\n\t\t\t\t\t\t\t\t\ttext={ __( 'Remove' ) }\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={ isUploading }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\tonClick={ (\n\t\t\t\t\t\t\t\t\t\tevent: React.MouseEvent< HTMLButtonElement >\n\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\ttypeof attachment.id === 'number'\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tremoveItem( attachment.id );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</VStack>\n\t\t\t) }\n\t\t\t{ ( multiple || ! allItems?.length ) && (\n\t\t\t\t<MediaEditPlaceholder\n\t\t\t\t\topen={ open }\n\t\t\t\t\tlabel={ addButtonLabel }\n\t\t\t\t\tonFilesDrop={ onFilesDrop }\n\t\t\t\t\tisUploading={ isUploading }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\n/**\n * A media edit control component that provides a media picker UI with upload functionality\n * for selecting WordPress media attachments. Supports both the traditional WordPress media\n * library and the experimental DataViews media modal.\n *\n * This component is intended to be used as the `Edit` property of a field definition when\n * registering fields with `registerEntityField` from `@wordpress/editor`.\n *\n * @template Item - The type of the item being edited.\n *\n * @param {MediaEditProps<Item>} props                       - The component props.\n * @param {Item}                 props.data                  - The item being edited.\n * @param {Object}               props.field                 - The field configuration with getValue and setValue methods.\n * @param {Function}             props.onChange              - Callback function when the media selection changes.\n * @param {string[]}             [props.allowedTypes]        - Array of allowed media types. Default `['image']`.\n * @param {boolean}              [props.multiple]            - Whether to allow multiple media selections. Default `false`.\n * @param {boolean}              [props.hideLabelFromVision] - Whether the label should be hidden from vision.\n * @param {boolean}              [props.isExpanded]          - Whether to render in an expanded form. Default `false`.\n *\n * @return {JSX.Element} The media edit control component.\n *\n * @example\n * ```tsx\n * import { MediaEdit } from '@wordpress/fields';\n * import type { DataFormControlProps } from '@wordpress/dataviews';\n *\n * const featuredImageField = {\n *   id: 'featured_media',\n *   type: 'media',\n *   label: 'Featured Image',\n *   Edit: (props: DataFormControlProps<MyPostType>) => (\n *     <MediaEdit\n *       {...props}\n *       allowedTypes={['image']}\n *     />\n *   ),\n * };\n * ```\n */\nexport default function MediaEdit< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tallowedTypes = [ 'image' ],\n\tmultiple,\n\tisExpanded,\n\tvalidity,\n}: MediaEditProps< Item > ) {\n\tconst value = field.getValue( { item: data } );\n\tconst [ isTouched, setIsTouched ] = useState( false );\n\tconst validityTargetRef = useRef< HTMLInputElement >( null );\n\tconst [ customValidity, setCustomValidity ] = useState<\n\t\t| { type: 'valid' | 'validating' | 'invalid'; message?: string }\n\t\t| undefined\n\t>( undefined );\n\t// Listen for invalid event (e.g., form submission, reportValidity())\n\t// to show validation messages even before blur.\n\tuseEffect( () => {\n\t\tconst validityTarget = validityTargetRef.current;\n\t\tconst handler = () => {\n\t\t\tsetIsTouched( true );\n\t\t};\n\t\tvalidityTarget?.addEventListener( 'invalid', handler );\n\t\treturn () => validityTarget?.removeEventListener( 'invalid', handler );\n\t}, [] );\n\tconst attachments = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! value ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst normalizedValue = Array.isArray( value ) ? value : [ value ];\n\t\t\tconst { getEntityRecords } = select( coreStore );\n\t\t\treturn getEntityRecords( 'postType', 'attachment', {\n\t\t\t\tinclude: normalizedValue,\n\t\t\t} ) as Attachment< 'view' >[] | null;\n\t\t},\n\t\t[ value ]\n\t);\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\t// Support one upload action at a time for now.\n\tconst [ replacementId, setReplacementId ] = useState< number >();\n\tconst [ blobs, setBlobs ] = useState< string[] >( [] );\n\tconst onChangeControl = useCallback(\n\t\t( newValue: number | number[] | undefined ) =>\n\t\t\tonChange( field.setValue( { item: data, value: newValue } ) ),\n\t\t[ data, field, onChange ]\n\t);\n\tconst removeItem = useCallback(\n\t\t( itemId: number ) => {\n\t\t\tconst currentIds = Array.isArray( value ) ? value : [ value ];\n\t\t\tconst newIds = currentIds.filter( ( id ) => id !== itemId );\n\t\t\t// Mark as touched to immediately show any validation error.\n\t\t\tsetIsTouched( true );\n\t\t\tonChangeControl( newIds.length ? newIds : undefined );\n\t\t},\n\t\t[ value, onChangeControl ]\n\t);\n\tconst onFilesDrop = useCallback(\n\t\t( files: File[], _replacementId?: number ) => {\n\t\t\tuploadMedia( {\n\t\t\t\tallowedTypes: allowedTypes?.length ? allowedTypes : undefined,\n\t\t\t\tfilesList: files,\n\t\t\t\tonFileChange( uploadedMedia: any[] ) {\n\t\t\t\t\tsetReplacementId( _replacementId );\n\t\t\t\t\tconst { blobItems, uploadedItems } = uploadedMedia.reduce(\n\t\t\t\t\t\t( accumulator, item ) => {\n\t\t\t\t\t\t\tif ( isBlobURL( item.url ) ) {\n\t\t\t\t\t\t\t\taccumulator.blobItems.push( item.url );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\taccumulator.uploadedItems.push( item.id );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn accumulator;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tblobItems: [] as string[],\n\t\t\t\t\t\t\tuploadedItems: [] as number[],\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tsetBlobs( blobItems );\n\t\t\t\t\t// If all uploads are complete reset the replacementId.\n\t\t\t\t\tif ( uploadedItems.length === uploadedMedia.length ) {\n\t\t\t\t\t\tsetReplacementId( undefined );\n\t\t\t\t\t}\n\t\t\t\t\tif ( ! uploadedItems.length ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif ( ! multiple ) {\n\t\t\t\t\t\tonChangeControl( uploadedItems[ 0 ] );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif ( ! value ) {\n\t\t\t\t\t\tonChangeControl( uploadedItems );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst normalizedValue = Array.isArray( value )\n\t\t\t\t\t\t? value\n\t\t\t\t\t\t: [ value ];\n\t\t\t\t\tconst newIds = [\n\t\t\t\t\t\t...( _replacementId\n\t\t\t\t\t\t\t? normalizedValue.filter(\n\t\t\t\t\t\t\t\t\t( id: any ) => id !== _replacementId\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: normalizedValue ),\n\t\t\t\t\t\t...uploadedItems,\n\t\t\t\t\t];\n\t\t\t\t\tonChangeControl( newIds );\n\t\t\t\t},\n\t\t\t\tonError( error: Error ) {\n\t\t\t\t\tsetReplacementId( undefined );\n\t\t\t\t\tsetBlobs( [] );\n\t\t\t\t\tcreateErrorNotice( error.message, { type: 'snackbar' } );\n\t\t\t\t},\n\t\t\t\tmultiple: !! multiple,\n\t\t\t} );\n\t\t},\n\t\t[ allowedTypes, value, multiple, createErrorNotice, onChangeControl ]\n\t);\n\tconst addButtonLabel =\n\t\tfield.placeholder ||\n\t\t( multiple ? __( 'Choose files' ) : __( 'Choose file' ) );\n\t// Merge real attachments with any existing blob items that are being uploaded.\n\tconst allItems: Array< MediaEditAttachment > | null = useMemo( () => {\n\t\tif ( ! blobs.length ) {\n\t\t\treturn attachments;\n\t\t}\n\t\tconst items: Array< MediaEditAttachment > = [\n\t\t\t...( attachments || [] ),\n\t\t];\n\t\tconst blobItems = blobs.map( ( url ) => ( {\n\t\t\tid: url,\n\t\t\tsource_url: url,\n\t\t\tmime_type: getBlobTypeByURL( url ),\n\t\t} ) );\n\t\tconst replacementIndex = items.findIndex(\n\t\t\t( a ) => a.id === replacementId\n\t\t);\n\t\t// Place blobs at the replacement index, when files\n\t\t// dropped in existing media item.\n\t\tif ( replacementIndex !== -1 ) {\n\t\t\treturn [\n\t\t\t\t...items.slice( 0, replacementIndex ),\n\t\t\t\t...blobItems,\n\t\t\t\t...items.slice( replacementIndex + 1 ),\n\t\t\t];\n\t\t}\n\t\titems.push( ...blobItems );\n\t\treturn items;\n\t}, [ attachments, replacementId, blobs ] );\n\tuseEffect( () => {\n\t\tif ( ! isTouched ) {\n\t\t\treturn;\n\t\t}\n\t\tconst input = validityTargetRef.current;\n\t\tif ( ! input ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( validity ) {\n\t\t\tconst customValidityResult = validity?.custom;\n\t\t\tsetCustomValidity( customValidityResult );\n\n\t\t\t// Set custom validity on hidden input for HTML5 form validation.\n\t\t\tif ( customValidityResult?.type === 'invalid' ) {\n\t\t\t\tinput.setCustomValidity(\n\t\t\t\t\tcustomValidityResult.message || __( 'Invalid' )\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tinput.setCustomValidity( '' ); // Clear validity\n\t\t\t}\n\t\t} else {\n\t\t\t// Clear any previous validation.\n\t\t\tinput.setCustomValidity( '' );\n\t\t\tsetCustomValidity( undefined );\n\t\t}\n\t}, [ isTouched, field.isValid, validity ] );\n\tconst onBlur = useCallback(\n\t\t( event: React.FocusEvent< HTMLElement > ) => {\n\t\t\tif ( isTouched ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t! event.relatedTarget ||\n\t\t\t\t! event.currentTarget.contains( event.relatedTarget )\n\t\t\t) {\n\t\t\t\tsetIsTouched( true );\n\t\t\t}\n\t\t},\n\t\t[ isTouched ]\n\t);\n\treturn (\n\t\t<div onBlur={ onBlur }>\n\t\t\t<fieldset className=\"fields__media-edit\" data-field-id={ field.id }>\n\t\t\t\t<ConditionalMediaUpload\n\t\t\t\t\tonSelect={ ( selectedMedia: any ) => {\n\t\t\t\t\t\tif ( multiple ) {\n\t\t\t\t\t\t\tconst newIds = Array.isArray( selectedMedia )\n\t\t\t\t\t\t\t\t? selectedMedia.map( ( m: any ) => m.id )\n\t\t\t\t\t\t\t\t: [ selectedMedia.id ];\n\t\t\t\t\t\t\tonChangeControl( newIds );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tonChangeControl( selectedMedia.id );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t\tallowedTypes={ allowedTypes }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\ttitle={ field.label }\n\t\t\t\t\trender={ ( { open }: any ) => {\n\t\t\t\t\t\tconst AttachmentsComponent = isExpanded\n\t\t\t\t\t\t\t? ExpandedMediaEditAttachments\n\t\t\t\t\t\t\t: CompactMediaEditAttachments;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<VStack spacing={ 2 }>\n\t\t\t\t\t\t\t\t{ field.label &&\n\t\t\t\t\t\t\t\t\t( hideLabelFromVision ? (\n\t\t\t\t\t\t\t\t\t\t<VisuallyHidden as=\"legend\">\n\t\t\t\t\t\t\t\t\t\t\t{ field.label }\n\t\t\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<BaseControl.VisualLabel as=\"legend\">\n\t\t\t\t\t\t\t\t\t\t\t{ field.label }\n\t\t\t\t\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t<AttachmentsComponent\n\t\t\t\t\t\t\t\t\tallItems={ allItems }\n\t\t\t\t\t\t\t\t\taddButtonLabel={ addButtonLabel }\n\t\t\t\t\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t\t\t\t\tremoveItem={ removeItem }\n\t\t\t\t\t\t\t\t\topen={ open }\n\t\t\t\t\t\t\t\t\tonFilesDrop={ onFilesDrop }\n\t\t\t\t\t\t\t\t\tisUploading={ !! blobs.length }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ field.description && (\n\t\t\t\t\t\t\t\t\t<Text variant=\"muted\">\n\t\t\t\t\t\t\t\t\t\t{ field.description }\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t);\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</fieldset>\n\t\t\t{ /* Visually hidden text input for validation. */ }\n\t\t\t<VisuallyHidden>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tref={ validityTargetRef }\n\t\t\t\t\tvalue={ value ?? '' }\n\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tonChange={ () => {} }\n\t\t\t\t/>\n\t\t\t</VisuallyHidden>\n\t\t\t{ customValidity && (\n\t\t\t\t<div aria-live=\"polite\">\n\t\t\t\t\t<p\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'components-validated-control__indicator',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-invalid': customValidity.type === 'invalid',\n\t\t\t\t\t\t\t\t'is-valid': customValidity.type === 'valid',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName=\"components-validated-control__indicator-icon\"\n\t\t\t\t\t\t\ticon={ errorIcon }\n\t\t\t\t\t\t\tsize={ 16 }\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ customValidity.message }\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport type { DataViewRenderFieldProps } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { BasePostWithEmbeddedFeaturedMedia } from '../../types';\n\nexport const FeaturedImageView = ( {\n\titem,\n\tconfig,\n}: DataViewRenderFieldProps< BasePostWithEmbeddedFeaturedMedia > ) => {\n\tconst media = item?._embedded?.[ 'wp:featuredmedia' ]?.[ 0 ];\n\tconst url = media?.source_url;\n\n\tif ( url ) {\n\t\treturn (\n\t\t\t<img\n\t\t\t\tclassName=\"fields-controls__featured-image-image\"\n\t\t\t\tsrc={ url }\n\t\t\t\talt=\"\"\n\t\t\t\tsrcSet={\n\t\t\t\t\tmedia?.media_details?.sizes\n\t\t\t\t\t\t? Object.values( media.media_details.sizes )\n\t\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t\t( size: any ) =>\n\t\t\t\t\t\t\t\t\t\t`${ size.source_url } ${ size.width }w`\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.join( ', ' )\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tsizes={ config?.sizes || '100vw' }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn <span className=\"fields-controls__featured-image-placeholder\" />;\n};\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport type { BasePost } from '../../types';\nimport { TemplateEdit } from './template-edit';\n\nconst templateField: Field< BasePost > = {\n\tid: 'template',\n\ttype: 'text',\n\tlabel: __( 'Template' ),\n\tEdit: TemplateEdit,\n\tenableSorting: false,\n\tfilterBy: false,\n};\n\n/**\n * Template field for BasePost.\n */\nexport default templateField;\n", "/**\n * WordPress dependencies\n */\nimport { useCallback, useMemo, useState } from '@wordpress/element';\n// @ts-ignore\nimport { parse } from '@wordpress/blocks';\nimport type { WpTemplate } from '@wordpress/core-data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport type { DataFormControlProps } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\n// @ts-expect-error block-editor is not typed correctly.\nimport { __experimentalBlockPatternsList as BlockPatternsList } from '@wordpress/block-editor';\nimport {\n\tButton,\n\tDropdown,\n\tMenuGroup,\n\tMenuItem,\n\tModal,\n} from '@wordpress/components';\nimport { useAsyncList } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __ } from '@wordpress/i18n';\nimport { getItemTitle } from '../../actions/utils';\nimport type { BasePost } from '../../types';\nimport { unlock } from '../../lock-unlock';\n\nconst EMPTY_ARRAY: [] = [];\n\nexport const TemplateEdit = ( {\n\tdata,\n\tfield,\n\tonChange,\n}: DataFormControlProps< BasePost > ) => {\n\tconst { id } = field;\n\tconst postType = data.type;\n\tconst postId =\n\t\ttypeof data.id === 'number' ? data.id : parseInt( data.id, 10 );\n\tconst slug = data.slug;\n\n\tconst { canSwitchTemplate, templates } = useSelect(\n\t\t( select ) => {\n\t\t\tconst allTemplates =\n\t\t\t\tselect( coreStore ).getEntityRecords< WpTemplate >(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template',\n\t\t\t\t\t{\n\t\t\t\t\t\tper_page: -1,\n\t\t\t\t\t\tpost_type: postType,\n\t\t\t\t\t}\n\t\t\t\t) ?? EMPTY_ARRAY;\n\n\t\t\tconst { getHomePage, getPostsPageId } = unlock(\n\t\t\t\tselect( coreStore )\n\t\t\t);\n\n\t\t\tconst isPostsPage = getPostsPageId() === +postId;\n\t\t\tconst isFrontPage =\n\t\t\t\tpostType === 'page' && getHomePage()?.postId === +postId;\n\n\t\t\tconst allowSwitchingTemplate = ! isPostsPage && ! isFrontPage;\n\n\t\t\treturn {\n\t\t\t\ttemplates: allTemplates,\n\t\t\t\tcanSwitchTemplate: allowSwitchingTemplate,\n\t\t\t};\n\t\t},\n\t\t[ postId, postType ]\n\t);\n\n\tconst templatesAsPatterns = useMemo( () => {\n\t\tif ( ! canSwitchTemplate ) {\n\t\t\treturn [];\n\t\t}\n\t\treturn templates\n\t\t\t.filter(\n\t\t\t\t( template ) =>\n\t\t\t\t\ttemplate.is_custom &&\n\t\t\t\t\ttemplate.slug !== data.template &&\n\t\t\t\t\t// Skip empty templates.\n\t\t\t\t\t!! template.content.raw\n\t\t\t)\n\t\t\t.map( ( template ) => ( {\n\t\t\t\tname: template.slug,\n\t\t\t\tblocks: parse( template.content.raw ),\n\t\t\t\ttitle: decodeEntities( template.title.rendered ),\n\t\t\t\tid: template.id,\n\t\t\t} ) );\n\t}, [ canSwitchTemplate, data.template, templates ] );\n\n\tconst shownTemplates = useAsyncList( templatesAsPatterns );\n\n\tconst value = field.getValue( { item: data } );\n\tconst foundTemplate = templates.find(\n\t\t( template ) => template.slug === value\n\t);\n\n\tconst currentTemplate = useSelect(\n\t\t( select ) => {\n\t\t\tif ( foundTemplate ) {\n\t\t\t\treturn foundTemplate;\n\t\t\t}\n\n\t\t\tlet slugToCheck;\n\t\t\t// In `draft` status we might not have a slug available, so we use the `single`\n\t\t\t// post type templates slug(ex page, single-post, single-product etc..).\n\t\t\t// Pages do not need the `single` prefix in the slug to be prioritized\n\t\t\t// through template hierarchy.\n\t\t\tif ( slug ) {\n\t\t\t\tslugToCheck =\n\t\t\t\t\tpostType === 'page'\n\t\t\t\t\t\t? `${ postType }-${ slug }`\n\t\t\t\t\t\t: `single-${ postType }-${ slug }`;\n\t\t\t} else {\n\t\t\t\tslugToCheck =\n\t\t\t\t\tpostType === 'page' ? 'page' : `single-${ postType }`;\n\t\t\t}\n\n\t\t\tif ( postType ) {\n\t\t\t\tconst templateId = select( coreStore ).getDefaultTemplateId( {\n\t\t\t\t\tslug: slugToCheck,\n\t\t\t\t} );\n\n\t\t\t\treturn select( coreStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template',\n\t\t\t\t\ttemplateId\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ foundTemplate, postType, slug ]\n\t);\n\n\tconst [ showModal, setShowModal ] = useState( false );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange( {\n\t\t\t\t[ id ]: newValue,\n\t\t\t} ),\n\t\t[ id, onChange ]\n\t);\n\n\treturn (\n\t\t<fieldset className=\"fields-controls__template\">\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ { placement: 'bottom-start' } }\n\t\t\t\trenderToggle={ ( { onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ currentTemplate\n\t\t\t\t\t\t\t? getItemTitle( currentTemplate )\n\t\t\t\t\t\t\t: '' }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onToggle } ) => (\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetShowModal( true );\n\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Change template' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// The default template in a post is indicated by an empty string\n\t\t\t\t\t\t\tvalue !== '' && (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tonChangeControl( '' );\n\t\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Use default template' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t{ showModal && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Choose a template' ) }\n\t\t\t\t\tonRequestClose={ () => setShowModal( false ) }\n\t\t\t\t\toverlayClassName=\"fields-controls__template-modal\"\n\t\t\t\t\tisFullScreen\n\t\t\t\t>\n\t\t\t\t\t<div className=\"fields-controls__template-content\">\n\t\t\t\t\t\t<BlockPatternsList\n\t\t\t\t\t\t\tlabel={ __( 'Templates' ) }\n\t\t\t\t\t\t\tblockPatterns={ templatesAsPatterns }\n\t\t\t\t\t\t\tshownPatterns={ shownTemplates }\n\t\t\t\t\t\t\tonClickPattern={ (\n\t\t\t\t\t\t\t\ttemplate: ( typeof templatesAsPatterns )[ 0 ]\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tonChangeControl( template.name );\n\t\t\t\t\t\t\t\tsetShowModal( false );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</fieldset>\n\t);\n};\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport { ParentEdit } from './parent-edit';\nimport { ParentView } from './parent-view';\n\nconst parentField: Field< BasePost > = {\n\tid: 'parent',\n\ttype: 'text',\n\tlabel: __( 'Parent' ),\n\tEdit: ParentEdit,\n\trender: ParentView,\n\tenableSorting: true,\n\tfilterBy: false,\n};\n\n/**\n * Parent field for BasePost.\n */\nexport default parentField;\n", "/**\n * External dependencies\n */\nimport removeAccents from 'remove-accents';\n\n/**\n * WordPress dependencies\n */\nimport { ComboboxControl, ExternalLink } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tcreateInterpolateElement,\n\tuseCallback,\n\tuseMemo,\n\tuseState,\n} from '@wordpress/element';\n// @ts-ignore\nimport { store as coreStore } from '@wordpress/core-data';\nimport type { DataFormControlProps } from '@wordpress/dataviews';\nimport { debounce } from '@wordpress/compose';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { filterURLForDisplay } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport { getTitleWithFallbackName } from './utils';\n\ntype TreeBase = {\n\tid: number;\n\tname: string;\n\t[ key: string ]: any;\n};\n\ntype TreeWithParent = TreeBase & {\n\tparent: number;\n};\n\ntype TreeWithoutParent = TreeBase & {\n\tparent: null;\n};\n\ntype Tree = TreeWithParent | TreeWithoutParent;\n\nfunction buildTermsTree( flatTerms: Tree[] ) {\n\tconst flatTermsWithParentAndChildren = flatTerms.map( ( term ) => {\n\t\treturn {\n\t\t\tchildren: [],\n\t\t\t...term,\n\t\t};\n\t} );\n\n\t// All terms should have a `parent` because we're about to index them by it.\n\tif (\n\t\tflatTermsWithParentAndChildren.some(\n\t\t\t( { parent } ) => parent === null || parent === undefined\n\t\t)\n\t) {\n\t\treturn flatTermsWithParentAndChildren as TreeWithParent[];\n\t}\n\n\tconst termsByParent = (\n\t\tflatTermsWithParentAndChildren as TreeWithParent[]\n\t ).reduce(\n\t\t( acc, term ) => {\n\t\t\tconst { parent } = term;\n\t\t\tif ( ! acc[ parent ] ) {\n\t\t\t\tacc[ parent ] = [];\n\t\t\t}\n\t\t\tacc[ parent ].push( term );\n\t\t\treturn acc;\n\t\t},\n\t\t{} as Record< string, Array< TreeWithParent > >\n\t);\n\n\tconst fillWithChildren = (\n\t\tterms: Array< TreeWithParent >\n\t): Array< TreeWithParent > => {\n\t\treturn terms.map( ( term ) => {\n\t\t\tconst children = termsByParent[ term.id ];\n\t\t\treturn {\n\t\t\t\t...term,\n\t\t\t\tchildren:\n\t\t\t\t\tchildren && children.length\n\t\t\t\t\t\t? fillWithChildren( children )\n\t\t\t\t\t\t: [],\n\t\t\t};\n\t\t} );\n\t};\n\n\treturn fillWithChildren( termsByParent[ '0' ] || [] );\n}\n\nexport const getItemPriority = ( name: string, searchValue: string ) => {\n\tconst normalizedName = removeAccents( name || '' ).toLowerCase();\n\tconst normalizedSearch = removeAccents( searchValue || '' ).toLowerCase();\n\tif ( normalizedName === normalizedSearch ) {\n\t\treturn 0;\n\t}\n\n\tif ( normalizedName.startsWith( normalizedSearch ) ) {\n\t\treturn normalizedName.length;\n\t}\n\n\treturn Infinity;\n};\n\nexport function PageAttributesParent( {\n\tdata,\n\tonChangeControl,\n}: {\n\tdata: BasePost;\n\tonChangeControl: ( newValue: number ) => void;\n} ) {\n\tconst [ fieldValue, setFieldValue ] = useState< null | string >( null );\n\n\tconst pageId = data.parent;\n\tconst postId = data.id;\n\tconst postTypeSlug = data.type;\n\n\tconst { parentPostTitle, pageItems, isHierarchical } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, getEntityRecords, getPostType } =\n\t\t\t\tselect( coreStore );\n\n\t\t\tconst postTypeInfo = getPostType( postTypeSlug );\n\n\t\t\tconst postIsHierarchical =\n\t\t\t\tpostTypeInfo?.hierarchical && postTypeInfo.viewable;\n\n\t\t\tconst parentPost = pageId\n\t\t\t\t? getEntityRecord< BasePost >(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\tpostTypeSlug,\n\t\t\t\t\t\tpageId\n\t\t\t\t  )\n\t\t\t\t: null;\n\n\t\t\tconst query = {\n\t\t\t\tper_page: 100,\n\t\t\t\texclude: postId,\n\t\t\t\tparent_exclude: postId,\n\t\t\t\torderby: 'menu_order',\n\t\t\t\torder: 'asc',\n\t\t\t\t_fields: 'id,title,parent',\n\t\t\t\t...( fieldValue !== null && {\n\t\t\t\t\t// Perform a search by relevance when the field is changed.\n\t\t\t\t\tsearch: fieldValue,\n\t\t\t\t\torderby: 'relevance',\n\t\t\t\t} ),\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tisHierarchical: postIsHierarchical,\n\t\t\t\tparentPostTitle: parentPost\n\t\t\t\t\t? getTitleWithFallbackName( parentPost )\n\t\t\t\t\t: '',\n\t\t\t\tpageItems: postIsHierarchical\n\t\t\t\t\t? getEntityRecords< BasePost >(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tpostTypeSlug,\n\t\t\t\t\t\t\tquery\n\t\t\t\t\t  )\n\t\t\t\t\t: null,\n\t\t\t};\n\t\t},\n\t\t[ fieldValue, pageId, postId, postTypeSlug ]\n\t);\n\n\t/**\n\t * This logic has been copied from https://github.com/WordPress/gutenberg/blob/0249771b519d5646171fb9fae422006c8ab773f2/packages/editor/src/components/page-attributes/parent.js#L106.\n\t */\n\tconst parentOptions = useMemo( () => {\n\t\tconst getOptionsFromTree = (\n\t\t\ttree: Array< Tree >,\n\t\t\tlevel = 0\n\t\t): Array< {\n\t\t\tvalue: number;\n\t\t\tlabel: string;\n\t\t\trawName: string;\n\t\t} > => {\n\t\t\tconst mappedNodes = tree.map( ( treeNode ) => [\n\t\t\t\t{\n\t\t\t\t\tvalue: treeNode.id,\n\t\t\t\t\tlabel:\n\t\t\t\t\t\t'\u2014 '.repeat( level ) + decodeEntities( treeNode.name ),\n\t\t\t\t\trawName: treeNode.name,\n\t\t\t\t},\n\t\t\t\t...getOptionsFromTree( treeNode.children || [], level + 1 ),\n\t\t\t] );\n\n\t\t\tconst sortedNodes = mappedNodes.sort( ( [ a ], [ b ] ) => {\n\t\t\t\tconst priorityA = getItemPriority(\n\t\t\t\t\ta.rawName,\n\t\t\t\t\tfieldValue ?? ''\n\t\t\t\t);\n\t\t\t\tconst priorityB = getItemPriority(\n\t\t\t\t\tb.rawName,\n\t\t\t\t\tfieldValue ?? ''\n\t\t\t\t);\n\t\t\t\treturn priorityA >= priorityB ? 1 : -1;\n\t\t\t} );\n\n\t\t\treturn sortedNodes.flat();\n\t\t};\n\n\t\tif ( ! pageItems ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tlet tree = pageItems.map( ( item ) => ( {\n\t\t\tid: item.id as number,\n\t\t\tparent: item.parent ?? null,\n\t\t\tname: getTitleWithFallbackName( item ),\n\t\t} ) );\n\n\t\t// Only build a hierarchical tree when not searching.\n\t\tif ( ! fieldValue ) {\n\t\t\ttree = buildTermsTree( tree );\n\t\t}\n\n\t\tconst opts = getOptionsFromTree( tree );\n\n\t\t// Ensure the current parent is in the options list.\n\t\tconst optsHasParent = opts.find( ( item ) => item.value === pageId );\n\t\tif ( pageId && parentPostTitle && ! optsHasParent ) {\n\t\t\topts.unshift( {\n\t\t\t\tvalue: pageId,\n\t\t\t\tlabel: parentPostTitle,\n\t\t\t\trawName: '',\n\t\t\t} );\n\t\t}\n\t\treturn opts.map( ( option ) => ( {\n\t\t\t...option,\n\t\t\tvalue: option.value.toString(),\n\t\t} ) );\n\t}, [ pageItems, fieldValue, parentPostTitle, pageId ] );\n\n\tif ( ! isHierarchical ) {\n\t\treturn null;\n\t}\n\n\t/**\n\t * Handle user input.\n\t *\n\t * @param {string} inputValue The current value of the input field.\n\t */\n\tconst handleKeydown = ( inputValue: string ) => {\n\t\tsetFieldValue( inputValue );\n\t};\n\n\t/**\n\t * Handle author selection.\n\t *\n\t * @param {Object} selectedPostId The selected Author.\n\t */\n\tconst handleChange = ( selectedPostId: string | null | undefined ) => {\n\t\tif ( selectedPostId ) {\n\t\t\treturn onChangeControl( parseInt( selectedPostId, 10 ) ?? 0 );\n\t\t}\n\n\t\tonChangeControl( 0 );\n\t};\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\t__next40pxDefaultSize\n\t\t\tlabel={ __( 'Parent' ) }\n\t\t\thelp={ __( 'Choose a parent page.' ) }\n\t\t\tvalue={ pageId?.toString() }\n\t\t\toptions={ parentOptions }\n\t\t\tonFilterValueChange={ debounce(\n\t\t\t\t( value: unknown ) => handleKeydown( value as string ),\n\t\t\t\t300\n\t\t\t) }\n\t\t\tonChange={ handleChange }\n\t\t\thideLabelFromVision\n\t\t/>\n\t);\n}\n\nexport const ParentEdit = ( {\n\tdata,\n\tfield,\n\tonChange,\n}: DataFormControlProps< BasePost > ) => {\n\tconst { id } = field;\n\n\tconst homeUrl = useSelect( ( select ) => {\n\t\treturn select( coreStore ).getEntityRecord< {\n\t\t\thome: string;\n\t\t} >( 'root', '__unstableBase' )?.home as string;\n\t}, [] );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue?: number ) =>\n\t\t\tonChange( {\n\t\t\t\t[ id ]: newValue,\n\t\t\t} ),\n\t\t[ id, onChange ]\n\t);\n\n\treturn (\n\t\t<fieldset className=\"fields-controls__parent\">\n\t\t\t<div>\n\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %1$s The home URL of the WordPress installation without the scheme. */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Child pages inherit characteristics from their parent, such as URL structure. For instance, if \"Pricing\" is a child of \"Services\", its URL would be %1$s<wbr />/services<wbr />/pricing.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tfilterURLForDisplay( homeUrl ).replace(\n\t\t\t\t\t\t\t/([/.])/g,\n\t\t\t\t\t\t\t'<wbr />$1'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\twbr: <wbr />,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\t<p>\n\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'They also show up as sub-items in the default navigation menu. <a>Learn more.</a>'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ta: (\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#page-attributes'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tchildren={ undefined }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t</p>\n\t\t\t\t<PageAttributesParent\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tonChangeControl={ onChangeControl }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</fieldset>\n\t);\n};\n", "/**\n * WordPress dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\n\nexport function getTitleWithFallbackName( post: BasePost ) {\n\treturn typeof post.title === 'object' &&\n\t\t'rendered' in post.title &&\n\t\tpost.title.rendered\n\t\t? decodeEntities( post.title.rendered )\n\t\t: `#${ post?.id } (${ __( 'no title' ) })`;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport type { DataViewRenderFieldProps } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport { getTitleWithFallbackName } from './utils';\n\nexport const ParentView = ( {\n\titem,\n}: DataViewRenderFieldProps< BasePost > ) => {\n\tconst parent = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\t\t\treturn item?.parent\n\t\t\t\t? getEntityRecord( 'postType', item.type, item.parent )\n\t\t\t\t: null;\n\t\t},\n\t\t[ item.parent, item.type ]\n\t);\n\n\tif ( parent ) {\n\t\treturn <>{ getTitleWithFallbackName( parent ) }</>;\n\t}\n\n\treturn <>{ __( 'None' ) }</>;\n};\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport PasswordEdit from './edit';\n\nconst passwordField: Field< BasePost > = {\n\tid: 'password',\n\ttype: 'text',\n\tlabel: __( 'Password' ),\n\tEdit: PasswordEdit,\n\tenableSorting: false,\n\tenableHiding: false,\n\tisVisible: ( item ) => item.status !== 'private',\n\tfilterBy: false,\n};\n\n/**\n * Password field for BasePost.\n */\nexport default passwordField;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tCheckboxControl,\n\t__experimentalVStack as VStack,\n\tTextControl,\n} from '@wordpress/components';\nimport type { DataFormControlProps } from '@wordpress/dataviews';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\n\nfunction PasswordEdit( {\n\tdata,\n\tonChange,\n\tfield,\n}: DataFormControlProps< BasePost > ) {\n\tconst [ showPassword, setShowPassword ] = useState(\n\t\t!! field.getValue( { item: data } )\n\t);\n\n\tconst handleTogglePassword = ( value: boolean ) => {\n\t\tsetShowPassword( value );\n\t\tif ( ! value ) {\n\t\t\tonChange( { password: '' } );\n\t\t}\n\t};\n\n\treturn (\n\t\t<VStack\n\t\t\tas=\"fieldset\"\n\t\t\tspacing={ 4 }\n\t\t\tclassName=\"fields-controls__password\"\n\t\t>\n\t\t\t<CheckboxControl\n\t\t\t\tlabel={ __( 'Password protected' ) }\n\t\t\t\thelp={ __( 'Only visible to those who know the password' ) }\n\t\t\t\tchecked={ showPassword }\n\t\t\t\tonChange={ handleTogglePassword }\n\t\t\t/>\n\t\t\t{ showPassword && (\n\t\t\t\t<div className=\"fields-controls__password-input\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Password' ) }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\tpassword: value,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={ field.getValue( { item: data } ) || '' }\n\t\t\t\t\t\tplaceholder={ __( 'Use a secure password' ) }\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tmaxLength={ 255 }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\nexport default PasswordEdit;\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport StatusView from './status-view';\nimport STATUSES from './status-elements';\n\nconst OPERATOR_IS_ANY = 'isAny';\n\nconst statusField: Field< BasePost > = {\n\tlabel: __( 'Status' ),\n\tid: 'status',\n\ttype: 'text',\n\telements: STATUSES,\n\trender: StatusView,\n\tEdit: 'radio',\n\tenableSorting: false,\n\tfilterBy: {\n\t\toperators: [ OPERATOR_IS_ANY ],\n\t},\n};\n\n/**\n * Status field for BasePost.\n */\nexport default statusField;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack, Icon } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport STATUSES from './status-elements';\n\nfunction StatusView( { item }: { item: BasePost } ) {\n\tconst status = STATUSES.find( ( { value } ) => value === item.status );\n\tconst label = status?.label || item.status;\n\tconst icon = status?.icon;\n\treturn (\n\t\t<HStack alignment=\"left\" spacing={ 0 }>\n\t\t\t{ icon && (\n\t\t\t\t<div className=\"edit-site-post-list__status-icon\">\n\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<span>{ label }</span>\n\t\t</HStack>\n\t);\n}\n\nexport default StatusView;\n", "/**\n * WordPress dependencies\n */\nimport {\n\ttrash,\n\tdrafts,\n\tpublished,\n\tscheduled,\n\tpending,\n\tnotAllowed,\n} from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\n// See https://github.com/WordPress/gutenberg/issues/55886\n// We do not support custom statutes at the moment.\nconst STATUSES = [\n\t{\n\t\tvalue: 'draft',\n\t\tlabel: __( 'Draft' ),\n\t\ticon: drafts,\n\t\tdescription: __( 'Not ready to publish.' ),\n\t},\n\t{\n\t\tvalue: 'future',\n\t\tlabel: __( 'Scheduled' ),\n\t\ticon: scheduled,\n\t\tdescription: __( 'Publish automatically on a chosen date.' ),\n\t},\n\t{\n\t\tvalue: 'pending',\n\t\tlabel: __( 'Pending Review' ),\n\t\ticon: pending,\n\t\tdescription: __( 'Waiting for review before publishing.' ),\n\t},\n\t{\n\t\tvalue: 'private',\n\t\tlabel: __( 'Private' ),\n\t\ticon: notAllowed,\n\t\tdescription: __( 'Only visible to site admins and editors.' ),\n\t},\n\t{\n\t\tvalue: 'publish',\n\t\tlabel: __( 'Published' ),\n\t\ticon: published,\n\t\tdescription: __( 'Visible to everyone.' ),\n\t},\n\t{ value: 'trash', label: __( 'Trash' ), icon: trash },\n];\n\nexport default STATUSES;\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\n\nconst commentStatusField: Field< BasePost > = {\n\tid: 'comment_status',\n\tlabel: __( 'Comments' ),\n\ttype: 'text',\n\tEdit: 'radio',\n\tenableSorting: false,\n\tenableHiding: false,\n\tfilterBy: false,\n\telements: [\n\t\t{\n\t\t\tvalue: 'open',\n\t\t\tlabel: __( 'Open' ),\n\t\t\tdescription: __( 'Visitors can add new comments and replies.' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'closed',\n\t\t\tlabel: __( 'Closed' ),\n\t\t\tdescription: __(\n\t\t\t\t'Visitors cannot add new comments or replies. Existing comments remain visible.'\n\t\t\t),\n\t\t},\n\t],\n};\n\n/**\n * Comment status field for BasePost.\n */\nexport default commentStatusField;\n", "/**\n * WordPress dependencies\n */\nimport type { DataFormControlProps, Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl, ExternalLink } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\n\nfunction PingStatusEdit( {\n\tdata,\n\tonChange,\n}: DataFormControlProps< BasePost > ) {\n\tconst pingStatus = data?.ping_status ?? 'open';\n\n\tconst onTogglePingback = ( checked: boolean ) => {\n\t\tonChange( {\n\t\t\t...data,\n\t\t\tping_status: checked ? 'open' : 'closed',\n\t\t} );\n\t};\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\tlabel={ __( 'Enable pingbacks & trackbacks' ) }\n\t\t\tchecked={ pingStatus === 'open' }\n\t\t\tonChange={ onTogglePingback }\n\t\t\thelp={\n\t\t\t\t<ExternalLink\n\t\t\t\t\thref={ __(\n\t\t\t\t\t\t'https://wordpress.org/documentation/article/trackbacks-and-pingbacks/'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Learn more about pingbacks & trackbacks' ) }\n\t\t\t\t</ExternalLink>\n\t\t\t}\n\t\t/>\n\t);\n}\n\nconst pingStatusField: Field< BasePost > = {\n\tid: 'ping_status',\n\tlabel: __( 'Trackbacks & Pingbacks' ),\n\ttype: 'text',\n\tEdit: PingStatusEdit,\n\tenableSorting: false,\n\tenableHiding: false,\n\tfilterBy: false,\n\telements: [\n\t\t{\n\t\t\tvalue: 'open',\n\t\t\tlabel: __( 'Allow' ),\n\t\t\tdescription: __(\n\t\t\t\t'Allow link notifications from other blogs (pingbacks and trackbacks) on new articles.'\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tvalue: 'closed',\n\t\t\tlabel: __( \"Don't allow\" ),\n\t\t\tdescription: __(\n\t\t\t\t\"Don't allow link notifications from other blogs (pingbacks and trackbacks) on new articles.\"\n\t\t\t),\n\t\t},\n\t],\n};\n\n/**\n * Ping status field for BasePost.\n */\nexport default pingStatusField;\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\n\nconst discussionField: Field< BasePost > = {\n\tid: 'discussion',\n\tlabel: __( 'Discussion' ),\n\ttype: 'text',\n\trender: ( { item } ) => {\n\t\tconst commentsOpen = item.comment_status === 'open';\n\t\tconst pingsOpen = item.ping_status === 'open';\n\n\t\tif ( commentsOpen && pingsOpen ) {\n\t\t\treturn __( 'Open' );\n\t\t}\n\t\tif ( commentsOpen && ! pingsOpen ) {\n\t\t\treturn __( 'Comments only' );\n\t\t}\n\t\tif ( ! commentsOpen && pingsOpen ) {\n\t\t\treturn __( 'Pings only' );\n\t\t}\n\t\treturn __( 'Closed' );\n\t},\n\tfilterBy: false,\n};\n\n/**\n * Discussion field for BasePost with custom render logic.\n */\nexport default discussionField;\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport DateView from './date-view';\n\nconst dateField: Field< BasePost > = {\n\tid: 'date',\n\ttype: 'datetime',\n\tlabel: __( 'Date' ),\n\trender: DateView,\n\tfilterBy: {\n\t\toperators: [ 'before', 'after' ],\n\t},\n};\n\n/**\n * Date field for BasePost.\n */\nexport default dateField;\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { createInterpolateElement } from '@wordpress/element';\nimport { dateI18n, getDate, getSettings } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\n\nconst getFormattedDate = ( dateToDisplay: string | null ) =>\n\tdateI18n(\n\t\tgetSettings().formats.datetimeAbbreviated,\n\t\tgetDate( dateToDisplay )\n\t);\n\nconst DateView = ( { item }: { item: BasePost } ) => {\n\tconst isDraftOrPrivate = [ 'draft', 'private' ].includes(\n\t\titem.status ?? ''\n\t);\n\tif ( isDraftOrPrivate ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: page creation or modification date. */\n\t\t\t\t__( '<span>Modified: <time>%s</time></span>' ),\n\t\t\t\tgetFormattedDate( item.date ?? null )\n\t\t\t),\n\t\t\t{\n\t\t\t\tspan: <span />,\n\t\t\t\ttime: <time />,\n\t\t\t}\n\t\t);\n\t}\n\n\tconst isScheduled = item.status === 'future';\n\tif ( isScheduled ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: page creation date */\n\t\t\t\t__( '<span>Scheduled: <time>%s</time></span>' ),\n\t\t\t\tgetFormattedDate( item.date ?? null )\n\t\t\t),\n\t\t\t{\n\t\t\t\tspan: <span />,\n\t\t\t\ttime: <time />,\n\t\t\t}\n\t\t);\n\t}\n\n\tconst isPublished = item.status === 'publish';\n\tif ( isPublished ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: page creation time */\n\t\t\t\t__( '<span>Published: <time>%s</time></span>' ),\n\t\t\t\tgetFormattedDate( item.date ?? null )\n\t\t\t),\n\t\t\t{\n\t\t\t\tspan: <span />,\n\t\t\t\ttime: <time />,\n\t\t\t}\n\t\t);\n\t}\n\n\t// Pending posts show the modified date if it's newer.\n\tconst dateToDisplay =\n\t\tgetDate( item.modified ?? null ) > getDate( item.date ?? null )\n\t\t\t? item.modified\n\t\t\t: item.date;\n\n\tconst isPending = item.status === 'pending';\n\tif ( isPending ) {\n\t\treturn createInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: page creation or modification date. */\n\t\t\t\t__( '<span>Modified: <time>%s</time></span>' ),\n\t\t\t\tgetFormattedDate( dateToDisplay ?? null )\n\t\t\t),\n\t\t\t{\n\t\t\t\tspan: <span />,\n\t\t\t\ttime: <time />,\n\t\t\t}\n\t\t);\n\t}\n\n\t// Unknow status.\n\treturn <time>{ getFormattedDate( item.date ?? null ) }</time>;\n};\n\nexport default DateView;\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\nimport { resolveSelect } from '@wordpress/data';\nimport { store as coreDataStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport type { BasePostWithEmbeddedAuthor } from '../../types';\nimport AuthorView from './author-view';\n\ninterface Author {\n\tid: number;\n\tname: string;\n}\n\nconst authorField: Field< BasePostWithEmbeddedAuthor > = {\n\tlabel: __( 'Author' ),\n\tid: 'author',\n\ttype: 'integer',\n\tgetElements: async () => {\n\t\tconst authors: Author[] =\n\t\t\t( await resolveSelect( coreDataStore ).getEntityRecords(\n\t\t\t\t'root',\n\t\t\t\t'user',\n\t\t\t\t{\n\t\t\t\t\tper_page: -1,\n\t\t\t\t}\n\t\t\t) ) ?? [];\n\t\treturn authors.map( ( { id, name } ) => ( {\n\t\t\tvalue: id,\n\t\t\tlabel: name,\n\t\t} ) );\n\t},\n\tsetValue: ( { value } ) => ( { author: Number( value ) } ),\n\trender: AuthorView,\n\tsort: ( a, b, direction ) => {\n\t\tconst nameA = a._embedded?.author?.[ 0 ]?.name || '';\n\t\tconst nameB = b._embedded?.author?.[ 0 ]?.name || '';\n\n\t\treturn direction === 'asc'\n\t\t\t? nameA.localeCompare( nameB )\n\t\t\t: nameB.localeCompare( nameA );\n\t},\n\tfilterBy: {\n\t\toperators: [ 'isAny', 'isNone' ],\n\t},\n};\n\n/**\n * Author field for BasePost.\n */\nexport default authorField;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { commentAuthorAvatar as authorIcon } from '@wordpress/icons';\nimport { __experimentalHStack as HStack, Icon } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport type { BasePostWithEmbeddedAuthor } from '../../types';\n\nfunction AuthorView( { item }: { item: BasePostWithEmbeddedAuthor } ) {\n\t// When editing, item.author may differ from _embedded.author (which preserves\n\t// the saved record). Fetch the updated author only when they differ, so the\n\t// view reflects edits while lists preserve original data.\n\tconst authorId = item?.author;\n\tconst embeddedAuthorId = item?._embedded?.author?.[ 0 ]?.id;\n\tconst shouldFetch = Boolean(\n\t\tauthorId && embeddedAuthorId && authorId !== embeddedAuthorId\n\t);\n\tconst author = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! shouldFetch ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\t\t\t// This doesn't make extra REST requests because the records are\n\t\t\t// already in the store from the field's getElements function.\n\t\t\treturn authorId\n\t\t\t\t? getEntityRecord( 'root', 'user', authorId )\n\t\t\t\t: null;\n\t\t},\n\t\t[ authorId, shouldFetch ]\n\t);\n\t// Use fetched author if available, otherwise use _embedded.\n\tconst text = author?.name || item?._embedded?.author?.[ 0 ]?.name;\n\tconst imageUrl =\n\t\tauthor?.avatar_urls?.[ 48 ] ||\n\t\titem?._embedded?.author?.[ 0 ]?.avatar_urls?.[ 48 ];\n\tconst [ isImageLoaded, setIsImageLoaded ] = useState( false );\n\treturn (\n\t\t<HStack alignment=\"left\" spacing={ 0 }>\n\t\t\t{ !! imageUrl && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx( 'page-templates-author-field__avatar', {\n\t\t\t\t\t\t'is-loaded': isImageLoaded,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tonLoad={ () => setIsImageLoaded( true ) }\n\t\t\t\t\t\talt={ __( 'Author avatar' ) }\n\t\t\t\t\t\tsrc={ imageUrl }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ ! imageUrl && (\n\t\t\t\t<div className=\"page-templates-author-field__icon\">\n\t\t\t\t\t<Icon icon={ authorIcon } />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<span className=\"page-templates-author-field__name\">{ text }</span>\n\t\t</HStack>\n\t);\n}\n\nexport default AuthorView;\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\n\ninterface PostWithNotesCount extends BasePost {\n\tnotesCount?: number;\n}\n\nconst notesField: Field< PostWithNotesCount > = {\n\tid: 'notesCount',\n\tlabel: __( 'Notes' ),\n\ttype: 'integer',\n\tenableSorting: false,\n\tfilterBy: false,\n};\n\n/**\n * Notes count field for post types that support editor.notes.\n */\nexport default notesField;\n", "/**\n * WordPress dependencies\n */\nimport { external } from '@wordpress/icons';\nimport { _x } from '@wordpress/i18n';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../types';\n\nconst viewPost: Action< BasePost > = {\n\tid: 'view-post',\n\tlabel: _x( 'View', 'verb' ),\n\tisPrimary: true,\n\ticon: external,\n\tisEligible( post ) {\n\t\treturn post.status !== 'trash';\n\t},\n\tcallback( posts, { onActionPerformed } ) {\n\t\tconst post = posts[ 0 ];\n\t\twindow.open( post?.link, '_blank' );\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\n/**\n * View post action for BasePost.\n */\nexport default viewPost;\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useState } from '@wordpress/element';\nimport {\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalInputControl as InputControl,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { CoreDataError, BasePost } from '../types';\n\ninterface RenderModalProps< Item > {\n\titems: Item[];\n\tcloseModal?: () => void;\n\tonActionPerformed?: ( items: Item[] ) => void;\n}\n\ninterface Action< Item > {\n\tid: string;\n\tlabel: string;\n\tisEligible?: ( item: Item ) => boolean;\n\tmodalFocusOnMount?: string;\n\tRenderModal: ( props: RenderModalProps< Item > ) => JSX.Element;\n}\n\nfunction isItemValid( item: BasePost ): boolean {\n\treturn (\n\t\ttypeof item.menu_order === 'number' &&\n\t\tNumber.isInteger( item.menu_order )\n\t);\n}\n\nfunction ReorderModal( {\n\titems,\n\tcloseModal,\n\tonActionPerformed,\n}: RenderModalProps< BasePost > ) {\n\tconst [ item, setItem ] = useState( items[ 0 ] );\n\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\tuseDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tconst isValid = isItemValid( item );\n\n\tasync function onOrder( event: React.FormEvent ) {\n\t\tevent.preventDefault();\n\n\t\tif ( ! isValid ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait editEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\tmenu_order: item.menu_order,\n\t\t\t} );\n\t\t\tcloseModal?.();\n\t\t\t// Persist edited entity.\n\t\t\tawait saveEditedEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\tthrowOnError: true,\n\t\t\t} );\n\t\t\tcreateSuccessNotice( __( 'Order updated.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t\tonActionPerformed?.( items );\n\t\t} catch ( error ) {\n\t\t\tconst typedError = error as CoreDataError;\n\t\t\tconst errorMessage =\n\t\t\t\ttypedError.message && typedError.code !== 'unknown_error'\n\t\t\t\t\t? typedError.message\n\t\t\t\t\t: __( 'An error occurred while updating the order' );\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t}\n\t}\n\n\treturn (\n\t\t<form onSubmit={ onOrder }>\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<div>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Determines the order of pages. Pages with the same order value are sorted alphabetically. Negative order values are supported.'\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<InputControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Order' ) }\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={\n\t\t\t\t\t\ttypeof item.menu_order === 'number' &&\n\t\t\t\t\t\tNumber.isInteger( item.menu_order )\n\t\t\t\t\t\t\t? String( item.menu_order )\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\tconst parsed = parseInt( value as string, 10 ); // absorbs '' and undefined\n\t\t\t\t\t\tsetItem( {\n\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\tmenu_order: isNaN( parsed ) ? undefined : parsed,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tdisabled={ ! isValid }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n}\n\nconst reorderPage: Action< BasePost > = {\n\tid: 'order-pages',\n\tlabel: __( 'Order' ),\n\tisEligible( { status } ) {\n\t\treturn status !== 'trash';\n\t},\n\tmodalFocusOnMount: 'firstContentElement',\n\tRenderModal: ReorderModal,\n};\n\n/**\n * Reorder action for BasePost.\n */\nexport default reorderPage;\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf, _x } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useState } from '@wordpress/element';\nimport {\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalInputControl as InputControl,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost, CoreDataError } from '../types';\nimport { getItemTitle } from './utils';\n\ninterface RenderModalProps< Item > {\n\titems: Item[];\n\tcloseModal?: () => void;\n\tonActionPerformed?: ( items: Item[] ) => void;\n}\n\ninterface Action< Item > {\n\tid: string;\n\tlabel: string;\n\tisEligible?: ( item: Item ) => boolean;\n\tmodalFocusOnMount?: string;\n\tRenderModal: ( props: RenderModalProps< Item > ) => JSX.Element;\n}\n\nconst duplicatePost: Action< BasePost > = {\n\tid: 'duplicate-post',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible( { status } ) {\n\t\treturn status !== 'trash';\n\t},\n\tmodalFocusOnMount: 'firstContentElement',\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ item, setItem ] = useState< BasePost >( {\n\t\t\t...items[ 0 ],\n\t\t\ttitle: sprintf(\n\t\t\t\t/* translators: %s: Existing post title */\n\t\t\t\t_x( '%s (Copy)', 'post' ),\n\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t),\n\t\t} );\n\n\t\tconst [ isCreatingPage, setIsCreatingPage ] = useState( false );\n\t\tconst { saveEntityRecord } = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\tasync function createPage( event: React.FormEvent ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( isCreatingPage ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isTemplate = item.type === 'wp_template';\n\n\t\t\tconst newItemObject = {\n\t\t\t\tstatus: isTemplate ? 'publish' : 'draft',\n\t\t\t\ttitle: item.title,\n\t\t\t\tslug: isTemplate ? item.slug : item.title || __( 'No title' ),\n\t\t\t\tcomment_status: item.comment_status,\n\t\t\t\tcontent:\n\t\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t\t? item.content\n\t\t\t\t\t\t: item.content.raw,\n\t\t\t\texcerpt:\n\t\t\t\t\ttypeof item.excerpt === 'string'\n\t\t\t\t\t\t? item.excerpt\n\t\t\t\t\t\t: item.excerpt?.raw,\n\t\t\t\tmeta: item.meta,\n\t\t\t\tparent: item.parent,\n\t\t\t\tpassword: item.password,\n\t\t\t\ttemplate: item.template,\n\t\t\t\tformat: item.format,\n\t\t\t\tfeatured_media: item.featured_media,\n\t\t\t\tmenu_order: item.menu_order,\n\t\t\t\tping_status: item.ping_status,\n\t\t\t};\n\t\t\tconst assignablePropertiesPrefix = 'wp:action-assign-';\n\t\t\t// Get all the properties that the current user is able to assign normally author, categories, tags,\n\t\t\t// and custom taxonomies.\n\t\t\tconst assignableProperties = Object.keys( item?._links || {} )\n\t\t\t\t.filter( ( property ) =>\n\t\t\t\t\tproperty.startsWith( assignablePropertiesPrefix )\n\t\t\t\t)\n\t\t\t\t.map( ( property ) =>\n\t\t\t\t\tproperty.slice( assignablePropertiesPrefix.length )\n\t\t\t\t);\n\t\t\tassignableProperties.forEach( ( property ) => {\n\t\t\t\tif ( item.hasOwnProperty( property ) ) {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tnewItemObject[ property ] = item[ property ];\n\t\t\t\t}\n\t\t\t} );\n\t\t\tsetIsCreatingPage( true );\n\t\t\ttry {\n\t\t\t\tconst newItem = await saveEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\titem.type,\n\t\t\t\t\tnewItemObject,\n\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t);\n\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t// translators: %s: Title of the created post, e.g: \"Hello world\".\n\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\tgetItemTitle( newItem )\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\tonActionPerformed( [ newItem ] );\n\t\t\t\t}\n\t\t\t} catch ( error ) {\n\t\t\t\tconst typedError = error as CoreDataError;\n\t\t\t\tconst errorMessage =\n\t\t\t\t\ttypedError.message && typedError.code !== 'unknown_error'\n\t\t\t\t\t\t? typedError.message\n\t\t\t\t\t\t: __( 'An error occurred while duplicating the page.' );\n\n\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t} finally {\n\t\t\t\tsetIsCreatingPage( false );\n\t\t\t\tcloseModal?.();\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<form onSubmit={ createPage }>\n\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t{ typeof item.id === 'string' && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'You are about to duplicate a bundled template. Changes will not be live until you activate the new template.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<InputControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Title' ) }\n\t\t\t\t\t\tplaceholder={ __( 'No title' ) }\n\t\t\t\t\t\tvalue={ getItemTitle( item ) }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetItem( ( prev ) => ( {\n\t\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\t\ttitle: value || __( 'No title' ),\n\t\t\t\t\t\t\t} ) )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack spacing={ 2 } justify=\"end\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isCreatingPage }\n\t\t\t\t\t\t\taria-disabled={ isCreatingPage }\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ _x( 'Duplicate', 'action label' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\n/**\n * Duplicate action for BasePost.\n */\nexport default duplicatePost;\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\n// @ts-ignore\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport {\n\tButton,\n\tTextControl,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport type { Action } from '@wordpress/dataviews';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\n\nimport { unlock } from '../lock-unlock';\nimport {\n\tgetItemTitle,\n\tisTemplateRemovable,\n\tisTemplate,\n\tisTemplatePart,\n} from './utils';\nimport type { CoreDataError, PostWithPermissions } from '../types';\n\n// Patterns.\nconst { PATTERN_TYPES } = unlock( patternsPrivateApis );\n\nconst renamePost: Action< PostWithPermissions > = {\n\tid: 'rename-post',\n\tlabel: __( 'Rename' ),\n\tmodalFocusOnMount: 'firstContentElement',\n\tisEligible( post ) {\n\t\tif ( post.status === 'trash' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Non-database template cannot be edited.\n\t\tif (\n\t\t\tpost.type === 'wp_template' &&\n\t\t\ttypeof post.id === 'string' &&\n\t\t\twindow?.__experimentalTemplateActivate\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst specialChecks = [ 'wp_template', 'wp_template_part' ];\n\n\t\tif ( ! window?.__experimentalTemplateActivate ) {\n\t\t\tspecialChecks.push( 'wp_template' );\n\t\t}\n\n\t\t// Templates, template parts and patterns have special checks for renaming.\n\t\tif ( ! specialChecks.includes( post.type ) ) {\n\t\t\treturn post.permissions?.update;\n\t\t}\n\n\t\t// In the case of templates, we can only rename custom templates.\n\t\tif ( isTemplate( post ) && ! window?.__experimentalTemplateActivate ) {\n\t\t\treturn (\n\t\t\t\tisTemplateRemovable( post ) &&\n\t\t\t\tpost.is_custom &&\n\t\t\t\tpost.permissions?.update\n\t\t\t);\n\t\t}\n\n\t\tif ( isTemplatePart( post ) ) {\n\t\t\treturn (\n\t\t\t\tpost.source === 'custom' &&\n\t\t\t\t! post?.has_theme_file &&\n\t\t\t\tpost.permissions?.update\n\t\t\t);\n\t\t}\n\n\t\treturn post.type === PATTERN_TYPES.user && post.permissions?.update;\n\t},\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ item ] = items;\n\t\tconst [ title, setTitle ] = useState( () => getItemTitle( item, '' ) );\n\t\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\t\tuseDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\tasync function onRename( event: React.FormEvent ) {\n\t\t\tevent.preventDefault();\n\t\t\ttry {\n\t\t\t\tawait editEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\ttitle,\n\t\t\t\t} );\n\t\t\t\t// Update state before saving rerenders the list.\n\t\t\t\tsetTitle( '' );\n\t\t\t\tcloseModal?.();\n\t\t\t\t// Persist edited entity.\n\t\t\t\tawait saveEditedEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t} );\n\t\t\t\tcreateSuccessNotice( __( 'Name updated' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t\tonActionPerformed?.( items );\n\t\t\t} catch ( error ) {\n\t\t\t\tconst typedError = error as CoreDataError;\n\t\t\t\tconst errorMessage =\n\t\t\t\t\ttypedError.message && typedError.code !== 'unknown_error'\n\t\t\t\t\t\t? typedError.message\n\t\t\t\t\t\t: __( 'An error occurred while updating the name' );\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<form onSubmit={ onRename }>\n\t\t\t\t<VStack spacing=\"5\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\n/**\n * Rename action for PostWithPermissions.\n */\nexport default renamePost;\n", "/**\n * WordPress dependencies\n */\nimport { backup } from '@wordpress/icons';\nimport { dispatch, select, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useState } from '@wordpress/element';\n// @ts-ignore\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport type { Action } from '@wordpress/dataviews';\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle, isTemplateOrTemplatePart } from './utils';\nimport type { CoreDataError, Template, TemplatePart } from '../types';\n\ndeclare global {\n\tinterface Window {\n\t\t__experimentalTemplateActivate?: boolean;\n\t}\n}\n\nconst isTemplateRevertable = (\n\ttemplateOrTemplatePart: Template | TemplatePart\n) => {\n\tif ( ! templateOrTemplatePart ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\ttemplateOrTemplatePart.source === 'custom' &&\n\t\t( Boolean( templateOrTemplatePart?.plugin ) ||\n\t\t\ttemplateOrTemplatePart?.has_theme_file )\n\t);\n};\n\n/**\n *  Copied - pasted from https://github.com/WordPress/gutenberg/blob/bf1462ad37d4637ebbf63270b9c244b23c69e2a8/packages/editor/src/store/private-actions.js#L233-L365\n *\n * @param {Object}  template            The template to revert.\n * @param {Object}  [options]\n * @param {boolean} [options.allowUndo] Whether to allow the user to undo\n *                                      reverting the template. Default true.\n */\nconst revertTemplate = async (\n\ttemplate: TemplatePart | Template,\n\t{ allowUndo = true } = {}\n) => {\n\tconst noticeId = 'edit-site-template-reverted';\n\tdispatch( noticesStore ).removeNotice( noticeId );\n\tif ( ! isTemplateRevertable( template ) ) {\n\t\tdispatch( noticesStore ).createErrorNotice(\n\t\t\t__( 'This template is not revertable.' ),\n\t\t\t{\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst templateEntityConfig = select( coreStore ).getEntityConfig(\n\t\t\t'postType',\n\t\t\ttemplate.type\n\t\t);\n\n\t\tif ( ! templateEntityConfig ) {\n\t\t\tdispatch( noticesStore ).createErrorNotice(\n\t\t\t\t__(\n\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst fileTemplatePath = addQueryArgs(\n\t\t\t`${ templateEntityConfig.baseURL }/${ template.id }`,\n\t\t\t{ context: 'edit', source: template.origin }\n\t\t);\n\n\t\tconst fileTemplate = ( await apiFetch( {\n\t\t\tpath: fileTemplatePath,\n\t\t} ) ) as any;\n\t\tif ( ! fileTemplate ) {\n\t\t\tdispatch( noticesStore ).createErrorNotice(\n\t\t\t\t__(\n\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst serializeBlocks = ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\t__unstableSerializeAndClean( blocksForSerialization );\n\n\t\tconst edited = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\ttemplate.id\n\t\t) as any;\n\n\t\t// We are fixing up the undo level here to make sure we can undo\n\t\t// the revert in the header toolbar correctly.\n\t\tdispatch( coreStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\ttemplate.id,\n\t\t\t{\n\t\t\t\tcontent: serializeBlocks, // Required to make the `undo` behave correctly.\n\t\t\t\tblocks: edited.blocks, // Required to revert the blocks in the editor.\n\t\t\t\tsource: 'custom', // required to avoid turning the editor into a dirty state\n\t\t\t},\n\t\t\t{\n\t\t\t\tundoIgnore: true, // Required to merge this edit with the last undo level.\n\t\t\t}\n\t\t);\n\n\t\tconst blocks = parse( fileTemplate?.content?.raw );\n\n\t\tdispatch( coreStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\tfileTemplate.id,\n\t\t\t{\n\t\t\t\tcontent: serializeBlocks,\n\t\t\t\tblocks,\n\t\t\t\tsource: 'theme',\n\t\t\t}\n\t\t);\n\n\t\tif ( allowUndo ) {\n\t\t\tconst undoRevert = () => {\n\t\t\t\tdispatch( coreStore ).editEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\tedited.id,\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\t\tblocks: edited.blocks,\n\t\t\t\t\t\tsource: 'custom',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tdispatch( noticesStore ).createSuccessNotice(\n\t\t\t\t__( 'Template reset.' ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tid: noticeId,\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\tonClick: undoRevert,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch ( error: any ) {\n\t\tconst errorMessage =\n\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t? error.message\n\t\t\t\t: __( 'Template revert failed. Please reload.' );\n\n\t\tdispatch( noticesStore ).createErrorNotice( errorMessage, {\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n};\n\nconst resetPostAction: Action< Template | TemplatePart > = {\n\tid: 'reset-post',\n\tlabel: __( 'Reset' ),\n\tisEligible: ( item ) => {\n\t\tif ( window?.__experimentalTemplateActivate ) {\n\t\t\treturn (\n\t\t\t\titem.type === 'wp_template_part' &&\n\t\t\t\titem?.source === 'custom' &&\n\t\t\t\titem?.has_theme_file\n\t\t\t);\n\t\t}\n\n\t\t// When experiment is disabled: use wp/6.9 logic for both templates and template parts.\n\t\treturn (\n\t\t\tisTemplateOrTemplatePart( item ) &&\n\t\t\titem?.source === 'custom' &&\n\t\t\t( Boolean( item.type === 'wp_template' && item?.plugin ) ||\n\t\t\t\titem?.has_theme_file )\n\t\t);\n\t},\n\ticon: backup,\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tmodalFocusOnMount: 'firstContentElement',\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\n\t\tconst { saveEditedEntityRecord } = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst onConfirm = async () => {\n\t\t\ttry {\n\t\t\t\tfor ( const template of items ) {\n\t\t\t\t\tawait revertTemplate( template, {\n\t\t\t\t\t\tallowUndo: false,\n\t\t\t\t\t} );\n\t\t\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\ttemplate.type,\n\t\t\t\t\t\ttemplate.id\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\titems.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: %d: The number of items. */\n\t\t\t\t\t\t\t\t__( '%d items reset.' ),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: The template/part's name. */\n\t\t\t\t\t\t\t\t__( '\"%s\" reset.' ),\n\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t  ),\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: 'revert-template-action',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} catch ( error ) {\n\t\t\t\tlet fallbackErrorMessage;\n\t\t\t\tif ( items[ 0 ].type === 'wp_template' ) {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the templates.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t} else {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template part.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template parts.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t}\n\n\t\t\t\tconst typedError = error as CoreDataError;\n\t\t\t\tconst errorMessage =\n\t\t\t\t\ttypedError.message && typedError.code !== 'unknown_error'\n\t\t\t\t\t\t? typedError.message\n\t\t\t\t\t\t: fallbackErrorMessage;\n\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t};\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ __( 'Reset to default and clear all customizations?' ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tawait onConfirm();\n\t\t\t\t\t\t\tonActionPerformed?.( items );\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\n/**\n * Reset action for Template and TemplatePart.\n */\nexport default resetPostAction;\n", "/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\n// @ts-ignore\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\nimport type { Pattern } from '../types';\n\n// Patterns.\nconst { CreatePatternModalContents, useDuplicatePatternProps } =\n\tunlock( patternsPrivateApis );\n\nconst duplicatePattern: Action< Pattern > = {\n\tid: 'duplicate-pattern',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible: ( item ) => item.type !== 'wp_template_part',\n\tmodalHeader: _x( 'Duplicate pattern', 'action label' ),\n\tmodalFocusOnMount: 'firstContentElement',\n\tRenderModal: ( { items, closeModal } ) => {\n\t\tconst [ item ] = items;\n\t\tconst duplicatedProps = useDuplicatePatternProps( {\n\t\t\tpattern: item,\n\t\t\tonSuccess: () => closeModal?.(),\n\t\t} );\n\t\treturn (\n\t\t\t<CreatePatternModalContents\n\t\t\t\tonClose={ closeModal }\n\t\t\t\tconfirmLabel={ _x( 'Duplicate', 'action label' ) }\n\t\t\t\t{ ...duplicatedProps }\n\t\t\t/>\n\t\t);\n\t},\n};\n\n/**\n * Duplicate action for Pattern.\n */\nexport default duplicatePattern;\n", "/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n", "/**\n * Locale character mapping rules.\n */\ninterface Locale {\n  regexp: RegExp;\n  map: Record<string, string>;\n}\n\n/**\n * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt\n */\nconst SUPPORTED_LOCALE: Record<string, Locale> = {\n  tr: {\n    regexp: /\\u0130|\\u0049|\\u0049\\u0307/g,\n    map: {\n      : \"\\u0069\",\n      I: \"\\u0131\",\n      I: \"\\u0069\",\n    },\n  },\n  az: {\n    regexp: /\\u0130/g,\n    map: {\n      : \"\\u0069\",\n      I: \"\\u0131\",\n      I: \"\\u0069\",\n    },\n  },\n  lt: {\n    regexp: /\\u0049|\\u004A|\\u012E|\\u00CC|\\u00CD|\\u0128/g,\n    map: {\n      I: \"\\u0069\\u0307\",\n      J: \"\\u006A\\u0307\",\n      : \"\\u012F\\u0307\",\n      : \"\\u0069\\u0307\\u0300\",\n      : \"\\u0069\\u0307\\u0301\",\n      : \"\\u0069\\u0307\\u0303\",\n    },\n  },\n};\n\n/**\n * Localized lower case.\n */\nexport function localeLowerCase(str: string, locale: string) {\n  const lang = SUPPORTED_LOCALE[locale.toLowerCase()];\n  if (lang) return lowerCase(str.replace(lang.regexp, (m) => lang.map[m]));\n  return lowerCase(str);\n}\n\n/**\n * Lower case as a function.\n */\nexport function lowerCase(str: string) {\n  return str.toLowerCase();\n}\n", "import { lowerCase } from \"lower-case\";\n\nexport interface Options {\n  splitRegexp?: RegExp | RegExp[];\n  stripRegexp?: RegExp | RegExp[];\n  delimiter?: string;\n  transform?: (part: string, index: number, parts: string[]) => string;\n}\n\n// Support camel case (\"camelCase\" -> \"camel Case\" and \"CAMELCase\" -> \"CAMEL Case\").\nconst DEFAULT_SPLIT_REGEXP = [/([a-z0-9])([A-Z])/g, /([A-Z])([A-Z][a-z])/g];\n\n// Remove all non-word characters.\nconst DEFAULT_STRIP_REGEXP = /[^A-Z0-9]+/gi;\n\n/**\n * Normalize the string into something other libraries can manipulate easier.\n */\nexport function noCase(input: string, options: Options = {}) {\n  const {\n    splitRegexp = DEFAULT_SPLIT_REGEXP,\n    stripRegexp = DEFAULT_STRIP_REGEXP,\n    transform = lowerCase,\n    delimiter = \" \",\n  } = options;\n\n  let result = replace(\n    replace(input, splitRegexp, \"$1\\0$2\"),\n    stripRegexp,\n    \"\\0\"\n  );\n  let start = 0;\n  let end = result.length;\n\n  // Trim the delimiter from around the output string.\n  while (result.charAt(start) === \"\\0\") start++;\n  while (result.charAt(end - 1) === \"\\0\") end--;\n\n  // Transform each token independently.\n  return result.slice(start, end).split(\"\\0\").map(transform).join(delimiter);\n}\n\n/**\n * Replace `re` in the input string with the replacement value.\n */\nfunction replace(input: string, re: RegExp | RegExp[], value: string) {\n  if (re instanceof RegExp) return input.replace(re, value);\n  return re.reduce((input, re) => input.replace(re, value), input);\n}\n", "import { noCase, Options } from \"no-case\";\n\nexport { Options };\n\nexport function dotCase(input: string, options: Options = {}) {\n  return noCase(input, {\n    delimiter: \".\",\n    ...options,\n  });\n}\n", "import { dotCase, Options } from \"dot-case\";\n\nexport { Options };\n\nexport function paramCase(input: string, options: Options = {}) {\n  return dotCase(input, {\n    delimiter: \"-\",\n    ...options,\n  });\n}\n", "\"stream\"in Blob.prototype||Object.defineProperty(Blob.prototype,\"stream\",{value(){return new Response(this).body}}),\"setBigUint64\"in DataView.prototype||Object.defineProperty(DataView.prototype,\"setBigUint64\",{value(e,n,t){const i=Number(0xffffffffn&n),r=Number(n>>32n);this.setUint32(e+(t?0:4),i,t),this.setUint32(e+(t?4:0),r,t)}});var e=e=>new DataView(new ArrayBuffer(e)),n=e=>new Uint8Array(e.buffer||e),t=e=>(new TextEncoder).encode(String(e)),i=e=>Math.min(4294967295,Number(e)),r=e=>Math.min(65535,Number(e));function f(e,i){if(void 0===i||i instanceof Date||(i=new Date(i)),e instanceof File)return{isFile:1,t:i||new Date(e.lastModified),i:e.stream()};if(e instanceof Response)return{isFile:1,t:i||new Date(e.headers.get(\"Last-Modified\")||Date.now()),i:e.body};if(void 0===i)i=new Date;else if(isNaN(i))throw new Error(\"Invalid modification date.\");if(void 0===e)return{isFile:0,t:i};if(\"string\"==typeof e)return{isFile:1,t:i,i:t(e)};if(e instanceof Blob)return{isFile:1,t:i,i:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:1,t:i,i:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:1,t:i,i:n(e)};if(Symbol.asyncIterator in e)return{isFile:1,t:i,i:o(e[Symbol.asyncIterator]())};throw new TypeError(\"Unsupported input format.\")}function o(e,n=e){return new ReadableStream({async pull(n){let t=0;for(;n.desiredSize>t;){const i=await e.next();if(!i.value){n.close();break}{const e=a(i.value);n.enqueue(e),t+=e.byteLength}}},cancel(e){n.throw?.(e)}})}function a(e){return\"string\"==typeof e?t(e):e instanceof Uint8Array?e:n(e)}function s(e,i,r){let[f,o]=function(e){return e?e instanceof Uint8Array?[e,1]:ArrayBuffer.isView(e)||e instanceof ArrayBuffer?[n(e),1]:[t(e),0]:[void 0,0]}(i);if(e instanceof File)return{o:d(f||t(e.name)),u:BigInt(e.size),l:o};if(e instanceof Response){const n=e.headers.get(\"content-disposition\"),i=n&&n.match(/;\\s*filename\\*?=[\"']?(.*?)[\"']?$/i),a=i&&i[1]||e.url&&new URL(e.url).pathname.split(\"/\").findLast(Boolean),s=a&&decodeURIComponent(a),u=r||+e.headers.get(\"content-length\");return{o:d(f||t(s)),u:BigInt(u),l:o}}return f=d(f,void 0!==e||void 0!==r),\"string\"==typeof e?{o:f,u:BigInt(t(e).length),l:o}:e instanceof Blob?{o:f,u:BigInt(e.size),l:o}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{o:f,u:BigInt(e.byteLength),l:o}:{o:f,u:u(e,r),l:o}}function u(e,n){return n>-1?BigInt(n):e?void 0:0n}function d(e,n=1){if(!e||e.every((c=>47===c)))throw new Error(\"The file must have a name.\");if(n)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array([...e,47]));return e}var l=new Uint32Array(256);for(let e=0;e<256;++e){let n=e;for(let e=0;e<8;++e)n=n>>>1^(1&n&&3988292384);l[e]=n}function y(e,n=0){n^=-1;for(var t=0,i=e.length;t<i;t++)n=n>>>8^l[255&n^e[t]];return(-1^n)>>>0}function w(e,n,t=0){const i=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,r=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;n.setUint16(t,i,1),n.setUint16(t+2,r,1)}function B({o:e,l:n},t){return 8*(!n||(t??function(e){try{b.decode(e)}catch{return 0}return 1}(e)))}var b=new TextDecoder(\"utf8\",{fatal:1});function p(t,i=0){const r=e(30);return r.setUint32(0,1347093252),r.setUint32(4,754976768|i),w(t.t,r,10),r.setUint16(26,t.o.length,1),n(r)}async function*g(e){let{i:n}=e;if(\"then\"in n&&(n=await n),n instanceof Uint8Array)yield n,e.m=y(n,0),e.u=BigInt(n.length);else{e.u=0n;const t=n.getReader();for(;;){const{value:n,done:i}=await t.read();if(i)break;e.m=y(n,e.m),e.u+=BigInt(n.length),yield n}}}function I(t,r){const f=e(16+(r?8:0));return f.setUint32(0,1347094280),f.setUint32(4,t.isFile?t.m:0,1),r?(f.setBigUint64(8,t.u,1),f.setBigUint64(16,t.u,1)):(f.setUint32(8,i(t.u),1),f.setUint32(12,i(t.u),1)),n(f)}function v(t,r,f=0,o=0){const a=e(46);return a.setUint32(0,1347092738),a.setUint32(4,755182848),a.setUint16(8,2048|f),w(t.t,a,12),a.setUint32(16,t.isFile?t.m:0,1),a.setUint32(20,i(t.u),1),a.setUint32(24,i(t.u),1),a.setUint16(28,t.o.length,1),a.setUint16(30,o,1),a.setUint16(40,t.isFile?33204:16893,1),a.setUint32(42,i(r),1),n(a)}function h(t,i,r){const f=e(r);return f.setUint16(0,1,1),f.setUint16(2,r-4,1),16&r&&(f.setBigUint64(4,t.u,1),f.setBigUint64(12,t.u,1)),f.setBigUint64(r-8,i,1),n(f)}function D(e){return e instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified]]}var S=e=>function(e){let n=BigInt(22),t=0n,i=0;for(const r of e){if(!r.o)throw new Error(\"Every file must have a non-empty name.\");if(void 0===r.u)throw new Error(`Missing size for file \"${(new TextDecoder).decode(r.o)}\".`);const e=r.u>=0xffffffffn,f=t>=0xffffffffn;t+=BigInt(46+r.o.length+(e&&8))+r.u,n+=BigInt(r.o.length+46+(12*f|28*e)),i||(i=e)}return(i||t>=0xffffffffn)&&(n+=BigInt(76)),n+t}(function*(e){for(const n of e)yield s(...D(n)[0])}(e));function A(e,n={}){const t={\"Content-Type\":\"application/zip\",\"Content-Disposition\":\"attachment\"};return(\"bigint\"==typeof n.length||Number.isInteger(n.length))&&n.length>0&&(t[\"Content-Length\"]=String(n.length)),n.metadata&&(t[\"Content-Length\"]=String(S(n.metadata))),new Response(N(e,n),{headers:t})}function N(t,a={}){const u=function(e){const n=e[Symbol.iterator in e?Symbol.iterator:Symbol.asyncIterator]();return{async next(){const e=await n.next();if(e.done)return e;const[t,i]=D(e.value);return{done:0,value:Object.assign(f(...i),s(...t))}},throw:n.throw?.bind(n),[Symbol.asyncIterator](){return this}}}(t);return o(async function*(t,f){const o=[];let a=0n,s=0n,u=0;for await(const e of t){const n=B(e,f.buffersAreUTF8);yield p(e,n),yield new Uint8Array(e.o),e.isFile&&(yield*g(e));const t=e.u>=0xffffffffn,i=12*(a>=0xffffffffn)|28*t;yield I(e,t),o.push(v(e,a,n,i)),o.push(e.o),i&&o.push(h(e,a,i)),t&&(a+=8n),s++,a+=BigInt(46+e.o.length)+e.u,u||(u=t)}let d=0n;for(const e of o)yield e,d+=BigInt(e.length);if(u||a>=0xffffffffn){const t=e(76);t.setUint32(0,1347094022),t.setBigUint64(4,BigInt(44),1),t.setUint32(12,755182848),t.setBigUint64(24,s,1),t.setBigUint64(32,s,1),t.setBigUint64(40,d,1),t.setBigUint64(48,a,1),t.setUint32(56,1347094023),t.setBigUint64(64,a+d,1),t.setUint32(72,1,1),yield n(t)}const l=e(22);l.setUint32(0,1347093766),l.setUint16(8,r(s),1),l.setUint16(10,r(s),1),l.setUint32(12,i(d),1),l.setUint32(16,i(a),1),yield n(l)}(u,a),u)}export{A as downloadZip,N as makeZip,S as predictLength};", "/**\n * External dependencies\n */\nimport { paramCase as kebabCase } from 'change-case';\nimport { downloadZip } from 'client-zip';\n\n/**\n * WordPress dependencies\n */\nimport { downloadBlob } from '@wordpress/blob';\nimport { __ } from '@wordpress/i18n';\nimport { download } from '@wordpress/icons';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { Pattern } from '../types';\nimport { getItemTitle } from './utils';\n\nfunction getJsonFromItem( item: Pattern ) {\n\treturn JSON.stringify(\n\t\t{\n\t\t\t__file: item.type,\n\t\t\ttitle: getItemTitle( item ),\n\t\t\tcontent:\n\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t? item.content\n\t\t\t\t\t: item.content?.raw,\n\t\t\tsyncStatus: item.wp_pattern_sync_status,\n\t\t},\n\t\tnull,\n\t\t2\n\t);\n}\n\nconst exportPattern: Action< Pattern > = {\n\tid: 'export-pattern',\n\tlabel: __( 'Export as JSON' ),\n\ticon: download,\n\tsupportsBulk: true,\n\tisEligible: ( item ) => item.type === 'wp_block',\n\tcallback: async ( items ) => {\n\t\tif ( items.length === 1 ) {\n\t\t\treturn downloadBlob(\n\t\t\t\t`${ kebabCase(\n\t\t\t\t\tgetItemTitle( items[ 0 ] ) || items[ 0 ].slug\n\t\t\t\t) }.json`,\n\t\t\t\tgetJsonFromItem( items[ 0 ] ),\n\t\t\t\t'application/json'\n\t\t\t);\n\t\t}\n\t\tconst nameCount: Record< string, number > = {};\n\t\tconst filesToZip = items.map( ( item ) => {\n\t\t\tconst name = kebabCase( getItemTitle( item ) || item.slug );\n\t\t\tnameCount[ name ] = ( nameCount[ name ] || 0 ) + 1;\n\t\t\treturn {\n\t\t\t\tname: `${\n\t\t\t\t\tname +\n\t\t\t\t\t( nameCount[ name ] > 1\n\t\t\t\t\t\t? '-' + ( nameCount[ name ] - 1 )\n\t\t\t\t\t\t: '' )\n\t\t\t\t}.json`,\n\t\t\t\tlastModified: new Date(),\n\t\t\t\tinput: getJsonFromItem( item ),\n\t\t\t};\n\t\t} );\n\t\treturn downloadBlob(\n\t\t\t__( 'patterns-export' ) + '.zip',\n\t\t\tawait downloadZip( filesToZip ).blob(),\n\t\t\t'application/zip'\n\t\t);\n\t},\n};\n\n/**\n * Export action as JSON for Pattern.\n */\nexport default exportPattern;\n", "/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\nimport { __, sprintf } from '@wordpress/i18n';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { Post } from '../types';\n\nconst viewPostRevisions: Action< Post > = {\n\tid: 'view-post-revisions',\n\tcontext: 'list',\n\tlabel( items ) {\n\t\tconst revisionsCount =\n\t\t\titems[ 0 ]._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\treturn sprintf(\n\t\t\t/* translators: %d: number of revisions. */\n\t\t\t__( 'View revisions (%d)' ),\n\t\t\trevisionsCount\n\t\t);\n\t},\n\tisEligible( post ) {\n\t\tif ( post.status === 'trash' ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst lastRevisionId =\n\t\t\tpost?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ?? null;\n\t\tconst revisionsCount =\n\t\t\tpost?._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\treturn !! lastRevisionId && revisionsCount > 1;\n\t},\n\tcallback( posts, { onActionPerformed } ) {\n\t\tconst post = posts[ 0 ];\n\t\tconst href = addQueryArgs( 'revision.php', {\n\t\t\trevision: post?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id,\n\t\t} );\n\t\tdocument.location.href = href;\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\n/**\n * View post revisions action for Post.\n */\nexport default viewPostRevisions;\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport type { Action } from '@wordpress/dataviews';\nimport { trash } from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle, isTemplateOrTemplatePart } from './utils';\nimport type { CoreDataError, PostWithPermissions } from '../types';\n\nconst permanentlyDeletePost: Action< PostWithPermissions > = {\n\tid: 'permanently-delete',\n\tlabel: __( 'Permanently delete' ),\n\tsupportsBulk: true,\n\ticon: trash,\n\tisEligible( item ) {\n\t\tif ( isTemplateOrTemplatePart( item ) || item.type === 'wp_block' ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst { status, permissions } = item;\n\t\treturn status === 'trash' && permissions?.delete;\n\t},\n\thideModalHeader: true,\n\tmodalFocusOnMount: 'firstContentElement',\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst { deleteEntityRecord } = useDispatch( coreStore );\n\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ items.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: number of items to delete.\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Are you sure you want to permanently delete %d item?',\n\t\t\t\t\t\t\t\t\t'Are you sure you want to permanently delete %d items?',\n\t\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The post's title\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Are you sure you want to permanently delete \"%s\"?'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tdecodeEntities( getItemTitle( items[ 0 ] ) )\n\t\t\t\t\t\t  ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tconst promiseResult = await Promise.allSettled(\n\t\t\t\t\t\t\t\titems.map( ( post ) =>\n\t\t\t\t\t\t\t\t\tdeleteEntityRecord(\n\t\t\t\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\t\t\t\tpost.type,\n\t\t\t\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t\t\t\t{ force: true },\n\t\t\t\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// If all the promises were fulfilled with success.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tpromiseResult.every(\n\t\t\t\t\t\t\t\t\t( { status } ) => status === 'fulfilled'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet successMessage;\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: %s: The posts's title. */\n\t\t\t\t\t\t\t\t\t\t__( '\"%s\" permanently deleted.' ),\n\t\t\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsuccessMessage = __(\n\t\t\t\t\t\t\t\t\t\t'The items were permanently deleted.'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\tid: 'permanently-delete-post-action',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\tonActionPerformed?.( items );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// If there was at lease one failure.\n\t\t\t\t\t\t\t\tlet errorMessage;\n\t\t\t\t\t\t\t\t// If we were trying to permanently delete a single post.\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tconst typedError = promiseResult[ 0 ] as {\n\t\t\t\t\t\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage =\n\t\t\t\t\t\t\t\t\t\t\ttypedError.reason.message;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while permanently deleting the item.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// If we were trying to permanently delete multiple posts\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst errorMessages = new Set< string >();\n\t\t\t\t\t\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\t\t\t\t\t\tconst typedError = failedPromise as {\n\t\t\t\t\t\t\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\t\t\t\t\t\t\terrorMessages.add(\n\t\t\t\t\t\t\t\t\t\t\t\ttypedError.reason.message\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while permanently deleting the items.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while permanently deleting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'Some errors occurred while permanently deleting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Delete permanently' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\n/**\n * Delete action for PostWithPermissions.\n */\nexport default permanentlyDeletePost;\n", "/**\n * WordPress dependencies\n */\nimport { backup } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle, isTemplateOrTemplatePart } from './utils';\nimport type { CoreDataError, PostWithPermissions } from '../types';\n\nconst restorePost: Action< PostWithPermissions > = {\n\tid: 'restore',\n\tlabel: __( 'Restore' ),\n\tisPrimary: true,\n\ticon: backup,\n\tsupportsBulk: true,\n\tisEligible( item ) {\n\t\treturn (\n\t\t\t! isTemplateOrTemplatePart( item ) &&\n\t\t\titem.type !== 'wp_block' &&\n\t\t\titem.status === 'trash' &&\n\t\t\titem.permissions?.update\n\t\t);\n\t},\n\tasync callback( posts, { registry, onActionPerformed } ) {\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tregistry.dispatch( noticesStore );\n\t\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\t\tregistry.dispatch( coreStore );\n\t\tawait Promise.allSettled(\n\t\t\tposts.map( ( post ) => {\n\t\t\t\treturn editEntityRecord( 'postType', post.type, post.id, {\n\t\t\t\t\tstatus: 'draft',\n\t\t\t\t} );\n\t\t\t} )\n\t\t);\n\t\tconst promiseResult = await Promise.allSettled(\n\t\t\tposts.map( ( post ) => {\n\t\t\t\treturn saveEditedEntityRecord( 'postType', post.type, post.id, {\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t} );\n\t\t\t} )\n\t\t);\n\n\t\tif ( promiseResult.every( ( { status } ) => status === 'fulfilled' ) ) {\n\t\t\tlet successMessage;\n\t\t\tif ( posts.length === 1 ) {\n\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t/* translators: %s: The number of posts. */\n\t\t\t\t\t__( '\"%s\" has been restored.' ),\n\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t);\n\t\t\t} else if ( posts[ 0 ].type === 'page' ) {\n\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t/* translators: %d: The number of posts. */\n\t\t\t\t\t__( '%d pages have been restored.' ),\n\t\t\t\t\tposts.length\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t/* translators: %d: The number of posts. */\n\t\t\t\t\t__( '%d posts have been restored.' ),\n\t\t\t\t\tposts.length\n\t\t\t\t);\n\t\t\t}\n\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t\tid: 'restore-post-action',\n\t\t\t} );\n\t\t\tif ( onActionPerformed ) {\n\t\t\t\tonActionPerformed( posts );\n\t\t\t}\n\t\t} else {\n\t\t\t// If there was at lease one failure.\n\t\t\tlet errorMessage;\n\t\t\t// If we were trying to move a single post to the trash.\n\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\tconst typedError = promiseResult[ 0 ] as {\n\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t};\n\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\terrorMessage = typedError.reason.message;\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t'An error occurred while restoring the post.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// If we were trying to move multiple posts to the trash\n\t\t\t} else {\n\t\t\t\tconst errorMessages = new Set< string >();\n\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t);\n\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\tconst typedError = failedPromise as {\n\t\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t\t};\n\t\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\t\terrorMessages.add( typedError.reason.message );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t'An error occurred while restoring the posts.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t__( 'An error occurred while restoring the posts: %s' ),\n\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Some errors occurred while restoring the posts: %s'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t}\n\t},\n};\n\n/**\n * Restore action for PostWithPermissions.\n */\nexport default restorePost;\n", "/**\n * WordPress dependencies\n */\nimport { trash } from '@wordpress/icons';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, _n, sprintf, _x } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useState } from '@wordpress/element';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle } from './utils';\nimport type { CoreDataError, PostWithPermissions } from '../types';\n\nconst trashPost: Action< PostWithPermissions > = {\n\tid: 'move-to-trash',\n\tlabel: _x( 'Trash', 'verb' ),\n\tisPrimary: true,\n\ticon: trash,\n\tisEligible( item ) {\n\t\tif ( item.type === 'wp_template_part' || item.type === 'wp_block' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Non-database template cannot be trashed.\n\t\tif ( item.type === 'wp_template' && typeof item.id === 'string' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn (\n\t\t\t!! item.status &&\n\t\t\t! [ 'auto-draft', 'trash' ].includes( item.status ) &&\n\t\t\titem.permissions?.delete\n\t\t);\n\t},\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tmodalFocusOnMount: 'firstContentElement',\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst { deleteEntityRecord } = useDispatch( coreStore );\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ items.length === 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The item's title.\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Are you sure you want to move \"%s\" to the trash?'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: The number of items (2 or more).\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Are you sure you want to move %d item to the trash ?',\n\t\t\t\t\t\t\t\t\t'Are you sure you want to move %d items to the trash ?',\n\t\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tconst promiseResult = await Promise.allSettled(\n\t\t\t\t\t\t\t\titems.map( ( item ) =>\n\t\t\t\t\t\t\t\t\tdeleteEntityRecord(\n\t\t\t\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\t\t\t\titem.type,\n\t\t\t\t\t\t\t\t\t\titem.id.toString(),\n\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// If all the promises were fulfilled with success.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tpromiseResult.every(\n\t\t\t\t\t\t\t\t\t( { status } ) => status === 'fulfilled'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet successMessage;\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: %s: The item's title. */\n\t\t\t\t\t\t\t\t\t\t__( '\"%s\" moved to the trash.' ),\n\t\t\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: %d: The number of items. */\n\t\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t\t'%d item moved to the trash.',\n\t\t\t\t\t\t\t\t\t\t\t'%d items moved to the trash.',\n\t\t\t\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\tid: 'move-to-trash-action',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// If there was at least one failure.\n\t\t\t\t\t\t\t\tlet errorMessage;\n\t\t\t\t\t\t\t\t// If we were trying to delete a single item.\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tconst typedError = promiseResult[ 0 ] as {\n\t\t\t\t\t\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage =\n\t\t\t\t\t\t\t\t\t\t\ttypedError.reason.message;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the item to the trash.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// If we were trying to delete multiple items.\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst errorMessages = new Set< string >();\n\t\t\t\t\t\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\t\t\t\t\t\tconst typedError = failedPromise as {\n\t\t\t\t\t\t\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\t\t\t\t\t\t\terrorMessages.add(\n\t\t\t\t\t\t\t\t\t\t\t\ttypedError.reason.message\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the items to the trash.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the item to the trash: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'Some errors occurred while moving the items to the trash: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\t\t\t\tonActionPerformed( items );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _x( 'Trash', 'verb' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\n/**\n * Trash action for PostWithPermissions.\n */\nexport default trashPost;\n", "/**\n * WordPress dependencies\n */\nimport { trash } from '@wordpress/icons';\nimport { __, _x, _n, sprintf } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n// @ts-ignore\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport type { Action } from '@wordpress/dataviews';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetItemTitle,\n\tisTemplateOrTemplatePart,\n\tisTemplateRemovable,\n} from './utils';\nimport type { Pattern, Template, TemplatePart } from '../types';\nimport type { NoticeSettings } from '../mutation';\nimport { deletePostWithNotices } from '../mutation';\nimport { unlock } from '../lock-unlock';\n\nconst { PATTERN_TYPES } = unlock( patternsPrivateApis );\n\n// This action is used for templates, patterns and template parts.\n// Every other post type uses the similar `trashPostAction` which\n// moves the post to trash.\nconst deletePostAction: Action< Template | TemplatePart | Pattern > = {\n\tid: 'delete-post',\n\tlabel: __( 'Delete' ),\n\tisPrimary: true,\n\ticon: trash,\n\tisEligible( post ) {\n\t\tif ( isTemplateOrTemplatePart( post ) ) {\n\t\t\treturn isTemplateRemovable( post );\n\t\t}\n\t\t// We can only remove user patterns.\n\t\treturn post.type === PATTERN_TYPES.user;\n\t},\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tmodalFocusOnMount: 'firstContentElement',\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst isResetting = items.every(\n\t\t\t( item ) => isTemplateOrTemplatePart( item ) && item?.has_theme_file\n\t\t);\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ items.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: number of items to delete.\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Delete %d item?',\n\t\t\t\t\t\t\t\t\t'Delete %d items?',\n\t\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The template or template part's title\n\t\t\t\t\t\t\t\t_x( 'Delete \"%s\"?', 'template part' ),\n\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t  ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tconst notice: NoticeSettings<\n\t\t\t\t\t\t\t\tTemplate | TemplatePart | Pattern\n\t\t\t\t\t\t\t> = {\n\t\t\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\t\t\tgetMessage: ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: The template/part's name. */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__( '\"%s\" reset.' ),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecodeEntities(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetItemTitle( item )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: The template/part's name. */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'\"%s\" deleted.',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'template part'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecodeEntities(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetItemTitle( item )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tgetBatchMessage: () => {\n\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t? __( 'Items reset.' )\n\t\t\t\t\t\t\t\t\t\t\t\t: __( 'Items deleted.' );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\t\t\tgetMessage: ( error ) => {\n\t\t\t\t\t\t\t\t\t\t\tif ( error.size === 1 ) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn [ ...error ][ 0 ];\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while reverting the item.'\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while deleting the item.'\n\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tgetBatchMessage: ( errors ) => {\n\t\t\t\t\t\t\t\t\t\t\tif ( errors.size === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while reverting the items.'\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while deleting the items.'\n\t\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( errors.size === 1 ) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while reverting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ ...errors ][ 0 ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while deleting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ ...errors ][ 0 ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Some errors occurred while reverting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ ...errors ].join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Some errors occurred while deleting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ ...errors ].join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tawait deletePostWithNotices( items, notice, {\n\t\t\t\t\t\t\t\tonActionPerformed,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\n/**\n * Delete action for Templates, Patterns and Template Parts.\n */\nexport default deletePostAction;\n", "/**\n * WordPress dependencies\n */\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport type { CoreDataError, Post } from '../types';\n\nfunction getErrorMessagesFromPromises< T >(\n\tallSettledResults: PromiseSettledResult< T >[]\n) {\n\tconst errorMessages = new Set< string >();\n\t// If there was at lease one failure.\n\tif ( allSettledResults.length === 1 ) {\n\t\tconst typedError = allSettledResults[ 0 ] as {\n\t\t\treason?: CoreDataError;\n\t\t};\n\t\tif ( typedError.reason?.message ) {\n\t\t\terrorMessages.add( typedError.reason.message );\n\t\t}\n\t} else {\n\t\tconst failedPromises = allSettledResults.filter(\n\t\t\t( { status } ) => status === 'rejected'\n\t\t);\n\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\tconst typedError = failedPromise as {\n\t\t\t\treason?: CoreDataError;\n\t\t\t};\n\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\terrorMessages.add( typedError.reason.message );\n\t\t\t}\n\t\t}\n\t}\n\treturn errorMessages;\n}\n\nexport type NoticeSettings< T extends Post > = {\n\tsuccess: {\n\t\tid?: string;\n\t\ttype?: string;\n\t\tmessages: {\n\t\t\tgetMessage: ( posts: T ) => string;\n\t\t\tgetBatchMessage: ( posts: T[] ) => string;\n\t\t};\n\t};\n\terror: {\n\t\tid?: string;\n\t\ttype?: string;\n\t\tmessages: {\n\t\t\tgetMessage: ( errors: Set< string > ) => string;\n\t\t\tgetBatchMessage: ( errors: Set< string > ) => string;\n\t\t};\n\t};\n};\n\nexport const deletePostWithNotices = async < T extends Post >(\n\tposts: T[],\n\tnotice: NoticeSettings< T >,\n\tcallbacks: {\n\t\tonActionPerformed?: ( posts: T[] ) => void;\n\t\tonActionError?: () => void;\n\t}\n) => {\n\tconst { createSuccessNotice, createErrorNotice } = dispatch( noticesStore );\n\tconst { deleteEntityRecord } = dispatch( coreStore );\n\tconst allSettledResults = await Promise.allSettled(\n\t\tposts.map( ( post ) => {\n\t\t\treturn deleteEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpost.type,\n\t\t\t\tpost.id,\n\t\t\t\t{ force: true },\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\t\t} )\n\t);\n\t// If all the promises were fulfilled with success.\n\tif ( allSettledResults.every( ( { status } ) => status === 'fulfilled' ) ) {\n\t\tlet successMessage;\n\t\tif ( allSettledResults.length === 1 ) {\n\t\t\tsuccessMessage = notice.success.messages.getMessage( posts[ 0 ] );\n\t\t} else {\n\t\t\tsuccessMessage = notice.success.messages.getBatchMessage( posts );\n\t\t}\n\t\tcreateSuccessNotice( successMessage, {\n\t\t\ttype: notice.success.type ?? 'snackbar',\n\t\t\tid: notice.success.id,\n\t\t} );\n\t\tcallbacks.onActionPerformed?.( posts );\n\t} else {\n\t\tconst errorMessages = getErrorMessagesFromPromises( allSettledResults );\n\t\tlet errorMessage = '';\n\t\tif ( allSettledResults.length === 1 ) {\n\t\t\terrorMessage = notice.error.messages.getMessage( errorMessages );\n\t\t} else {\n\t\t\terrorMessage =\n\t\t\t\tnotice.error.messages.getBatchMessage( errorMessages );\n\t\t}\n\n\t\tcreateErrorNotice( errorMessage, {\n\t\t\ttype: notice.error.type ?? 'snackbar',\n\t\t\tid: notice.error.id,\n\t\t} );\n\t\tcallbacks.onActionError?.();\n\t}\n};\n\nexport const editPostWithNotices = async < T extends Post >(\n\tpostsWithUpdates: {\n\t\toriginalPost: T;\n\t\tchanges: Partial< T >;\n\t}[],\n\tnotice: NoticeSettings< T >,\n\tcallbacks: {\n\t\tonActionPerformed?: ( posts: T[] ) => void;\n\t\tonActionError?: () => void;\n\t}\n) => {\n\tconst { createSuccessNotice, createErrorNotice } = dispatch( noticesStore );\n\tconst { editEntityRecord, saveEditedEntityRecord } = dispatch( coreStore );\n\tawait Promise.allSettled(\n\t\tpostsWithUpdates.map( ( post ) => {\n\t\t\treturn editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpost.originalPost.type,\n\t\t\t\tpost.originalPost.id,\n\t\t\t\t{\n\t\t\t\t\t...post.changes,\n\t\t\t\t}\n\t\t\t);\n\t\t} )\n\t);\n\tconst allSettledResults = await Promise.allSettled(\n\t\tpostsWithUpdates.map( ( post ) => {\n\t\t\treturn saveEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpost.originalPost.type,\n\t\t\t\tpost.originalPost.id,\n\t\t\t\t{\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t}\n\t\t\t);\n\t\t} )\n\t);\n\t// If all the promises were fulfilled with success.\n\tif ( allSettledResults.every( ( { status } ) => status === 'fulfilled' ) ) {\n\t\tlet successMessage;\n\t\tif ( allSettledResults.length === 1 ) {\n\t\t\tsuccessMessage = notice.success.messages.getMessage(\n\t\t\t\tpostsWithUpdates[ 0 ].originalPost\n\t\t\t);\n\t\t} else {\n\t\t\tsuccessMessage = notice.success.messages.getBatchMessage(\n\t\t\t\tpostsWithUpdates.map( ( post ) => post.originalPost )\n\t\t\t);\n\t\t}\n\t\tcreateSuccessNotice( successMessage, {\n\t\t\ttype: notice.success.type ?? 'snackbar',\n\t\t\tid: notice.success.id,\n\t\t} );\n\t\tcallbacks.onActionPerformed?.(\n\t\t\tpostsWithUpdates.map( ( post ) => post.originalPost )\n\t\t);\n\t} else {\n\t\tconst errorMessages = getErrorMessagesFromPromises( allSettledResults );\n\t\tlet errorMessage = '';\n\t\tif ( allSettledResults.length === 1 ) {\n\t\t\terrorMessage = notice.error.messages.getMessage( errorMessages );\n\t\t} else {\n\t\t\terrorMessage =\n\t\t\t\tnotice.error.messages.getBatchMessage( errorMessages );\n\t\t}\n\n\t\tcreateErrorNotice( errorMessage, {\n\t\t\ttype: notice.error.type ?? 'snackbar',\n\t\t\tid: notice.error.id,\n\t\t} );\n\t\tcallbacks.onActionError?.();\n\t}\n};\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { _x, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useMemo } from '@wordpress/element';\n// @ts-ignore\nimport { parse } from '@wordpress/blocks';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { Post, TemplatePart } from '../types';\nimport { CreateTemplatePartModalContents } from '../components/create-template-part-modal';\nimport { getItemTitle } from './utils';\n\n/**\n * This action is used to duplicate a template part.\n */\nconst duplicateTemplatePart: Action< TemplatePart > = {\n\tid: 'duplicate-template-part',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible: ( item ) => item.type === 'wp_template_part',\n\tmodalHeader: _x( 'Duplicate template part', 'action label' ),\n\tmodalFocusOnMount: 'firstContentElement',\n\tRenderModal: ( { items, closeModal } ) => {\n\t\tconst [ item ] = items;\n\t\tconst blocks = useMemo( () => {\n\t\t\treturn (\n\t\t\t\titem.blocks ??\n\t\t\t\tparse(\n\t\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t\t? item.content\n\t\t\t\t\t\t: item.content.raw,\n\t\t\t\t\t{\n\t\t\t\t\t\t__unstableSkipMigrationLogs: true,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t);\n\t\t}, [ item.content, item.blocks ] );\n\t\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\t\tfunction onTemplatePartSuccess( templatePart: Post ) {\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: The new template part's title e.g. 'Call to action (copy)'.\n\t\t\t\t\t_x( '\"%s\" duplicated.', 'template part' ),\n\t\t\t\t\tgetItemTitle( templatePart )\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar', id: 'edit-site-patterns-success' }\n\t\t\t);\n\t\t\tcloseModal?.();\n\t\t}\n\t\treturn (\n\t\t\t<CreateTemplatePartModalContents\n\t\t\t\tblocks={ blocks }\n\t\t\t\tdefaultArea={ item.area }\n\t\t\t\tdefaultTitle={ sprintf(\n\t\t\t\t\t/* translators: %s: Existing template part title */\n\t\t\t\t\t_x( '%s (Copy)', 'template part' ),\n\t\t\t\t\tgetItemTitle( item )\n\t\t\t\t) }\n\t\t\t\tonCreate={ onTemplatePartSuccess }\n\t\t\t\tonError={ closeModal }\n\t\t\t\tconfirmLabel={ _x( 'Duplicate', 'action label' ) }\n\t\t\t\tcloseModal={ closeModal ?? ( () => {} ) }\n\t\t\t/>\n\t\t);\n\t},\n};\n/**\n * Duplicate action for TemplatePart.\n */\nexport default duplicateTemplatePart;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\tBaseControl,\n\tTextControl,\n\tButton,\n\tModal,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport type { TemplatePartArea } from '@wordpress/core-data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tcheck,\n\tfooter as footerIcon,\n\theader as headerIcon,\n\tsidebar as sidebarIcon,\n\ttableColumnAfter as overlayIcon,\n\tsymbolFilled as symbolFilledIcon,\n} from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n// @ts-expect-error serialize is not typed\nimport { serialize } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetCleanTemplatePartSlug,\n\tgetUniqueTemplatePartTitle,\n\tuseExistingTemplateParts,\n} from './utils';\n\nfunction getAreaRadioId( value: string, instanceId: number ) {\n\treturn `fields-create-template-part-modal__area-option-${ value }-${ instanceId }`;\n}\nfunction getAreaRadioDescriptionId( value: string, instanceId: number ) {\n\treturn `fields-create-template-part-modal__area-option-description-${ value }-${ instanceId }`;\n}\n\ntype CreateTemplatePartModalContentsProps = {\n\tdefaultArea?: string;\n\tblocks: any[];\n\tconfirmLabel?: string;\n\tcloseModal: () => void;\n\tonCreate: ( templatePart: any ) => void;\n\tonError?: () => void;\n\tdefaultTitle?: string;\n};\n\n/**\n * A React component that renders a modal for creating a template part. The modal displays a title and the contents for creating the template part.\n * This component should not live in this package, it should be moved to a dedicated package responsible for managing template.\n * @param props            The component props.\n * @param props.modalTitle\n */\nexport default function CreateTemplatePartModal( {\n\tmodalTitle,\n\t...restProps\n}: {\n\tmodalTitle?: string;\n} & CreateTemplatePartModalContentsProps ) {\n\tconst defaultModalTitle = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getPostType( 'wp_template_part' )?.labels\n\t\t\t\t?.add_new_item,\n\t\t[]\n\t);\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ modalTitle || defaultModalTitle }\n\t\t\tonRequestClose={ restProps.closeModal }\n\t\t\toverlayClassName=\"fields-create-template-part-modal\"\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<CreateTemplatePartModalContents { ...restProps } />\n\t\t</Modal>\n\t);\n}\n\n/**\n * Helper function to retrieve the corresponding icon by area name or icon name.\n *\n * @param {string} areaOrIconName The area name (e.g., 'header', 'navigation-overlay') or icon name (e.g., 'menu').\n *\n * @return {Object} The corresponding icon.\n */\nconst getTemplatePartIcon = ( areaOrIconName: string ) => {\n\t// Handle area names first\n\tif ( 'header' === areaOrIconName ) {\n\t\treturn headerIcon;\n\t} else if ( 'footer' === areaOrIconName ) {\n\t\treturn footerIcon;\n\t} else if ( 'sidebar' === areaOrIconName ) {\n\t\treturn sidebarIcon;\n\t} else if ( 'overlay' === areaOrIconName ) {\n\t\t// TODO: Replace with a proper overlay icon when available.\n\t\t// Using tableColumnAfter as a placeholder.\n\t\treturn overlayIcon;\n\t}\n\t// Handle icon names for backwards compatibility\n\tif ( 'menu' === areaOrIconName ) {\n\t\t// TODO: Replace with a proper overlay icon when available.\n\t\t// Using tableColumnAfter as a placeholder.\n\t\treturn overlayIcon;\n\t}\n\treturn symbolFilledIcon;\n};\n\n/**\n * A React component that renders the content of a model for creating a template part.\n * This component should not live in this package; it should be moved to a dedicated package responsible for managing template.\n *\n * @param {Object}   props                             - The component props.\n * @param {string}   [props.defaultArea=uncategorized] - The default area for the template part.\n * @param {Array}    [props.blocks=[]]                 - The blocks to be included in the template part.\n * @param {string}   [props.confirmLabel='Add']        - The label for the confirm button.\n * @param {Function} props.closeModal                  - Function to close the modal.\n * @param {Function} props.onCreate                    - Function to call when the template part is successfully created.\n * @param {Function} [props.onError]                   - Function to call when there is an error creating the template part.\n * @param {string}   [props.defaultTitle='']           - The default title for the template part.\n */\nexport function CreateTemplatePartModalContents( {\n\tdefaultArea = 'uncategorized',\n\tblocks = [],\n\tconfirmLabel = __( 'Add' ),\n\tcloseModal,\n\tonCreate,\n\tonError,\n\tdefaultTitle = '',\n}: CreateTemplatePartModalContentsProps ) {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst existingTemplateParts = useExistingTemplateParts();\n\n\tconst [ title, setTitle ] = useState( defaultTitle );\n\tconst [ area, setArea ] = useState( defaultArea );\n\tconst [ isSubmitting, setIsSubmitting ] = useState( false );\n\tconst instanceId = useInstanceId( CreateTemplatePartModal );\n\n\tconst defaultTemplatePartAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getCurrentTheme()?.default_template_part_areas,\n\t\t[]\n\t);\n\n\tasync function createTemplatePart() {\n\t\tif ( ! title || isSubmitting ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tsetIsSubmitting( true );\n\t\t\tconst uniqueTitle = getUniqueTemplatePartTitle(\n\t\t\t\ttitle,\n\t\t\t\texistingTemplateParts\n\t\t\t);\n\t\t\tconst cleanSlug = getCleanTemplatePartSlug( uniqueTitle );\n\n\t\t\tconst templatePart = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\t{\n\t\t\t\t\tslug: cleanSlug,\n\t\t\t\t\ttitle: uniqueTitle,\n\t\t\t\t\tcontent: serialize( blocks ),\n\t\t\t\t\tarea,\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\t\t\tawait onCreate( templatePart );\n\n\t\t\t// TODO: Add a success notice?\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror instanceof Error &&\n\t\t\t\t'code' in error &&\n\t\t\t\terror.message &&\n\t\t\t\terror.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'An error occurred while creating the template part.'\n\t\t\t\t\t  );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\n\t\t\tonError?.();\n\t\t} finally {\n\t\t\tsetIsSubmitting( false );\n\t\t}\n\t}\n\treturn (\n\t\t<form\n\t\t\tonSubmit={ async ( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tawait createTemplatePart();\n\t\t\t} }\n\t\t>\n\t\t\t<VStack spacing=\"4\">\n\t\t\t\t<TextControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\tvalue={ title }\n\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<fieldset className=\"fields-create-template-part-modal__area-fieldset\">\n\t\t\t\t\t<BaseControl.VisualLabel as=\"legend\">\n\t\t\t\t\t\t{ __( 'Area' ) }\n\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t<div className=\"fields-create-template-part-modal__area-radio-group\">\n\t\t\t\t\t\t{ ( defaultTemplatePartAreas ?? [] ).map(\n\t\t\t\t\t\t\t( item: TemplatePartArea ) => {\n\t\t\t\t\t\t\t\tconst icon = getTemplatePartIcon( item.icon );\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={ item.area }\n\t\t\t\t\t\t\t\t\t\tclassName=\"fields-create-template-part-modal__area-radio-wrapper\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\tid={ getAreaRadioId(\n\t\t\t\t\t\t\t\t\t\t\t\titem.area,\n\t\t\t\t\t\t\t\t\t\t\t\tinstanceId\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tname={ `fields-create-template-part-modal__area-${ instanceId }` }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ item.area }\n\t\t\t\t\t\t\t\t\t\t\tchecked={ area === item.area }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetArea( item.area );\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={ getAreaRadioDescriptionId(\n\t\t\t\t\t\t\t\t\t\t\t\titem.area,\n\t\t\t\t\t\t\t\t\t\t\t\tinstanceId\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"fields-create-template-part-modal__area-radio-icon\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\thtmlFor={ getAreaRadioId(\n\t\t\t\t\t\t\t\t\t\t\t\titem.area,\n\t\t\t\t\t\t\t\t\t\t\t\tinstanceId\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"fields-create-template-part-modal__area-radio-label\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ item.label }\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\ticon={ check }\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"fields-create-template-part-modal__area-radio-checkmark\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"fields-create-template-part-modal__area-radio-description\"\n\t\t\t\t\t\t\t\t\t\t\tid={ getAreaRadioDescriptionId(\n\t\t\t\t\t\t\t\t\t\t\t\titem.area,\n\t\t\t\t\t\t\t\t\t\t\t\tinstanceId\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ item.description }\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\taria-disabled={ ! title || isSubmitting }\n\t\t\t\t\t\tisBusy={ isSubmitting }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ confirmLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport { paramCase as kebabCase } from 'change-case';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\n\nexport const useExistingTemplateParts = () => {\n\treturn (\n\t\tuseSelect(\n\t\t\t( select ) =>\n\t\t\t\tselect( coreStore ).getEntityRecords(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template_part',\n\t\t\t\t\t{\n\t\t\t\t\t\tper_page: -1,\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t[]\n\t\t) ?? []\n\t);\n};\n\n/**\n * Return a unique template part title based on\n * the given title and existing template parts.\n *\n * @param {string} title         The original template part title.\n * @param {Object} templateParts The array of template part entities.\n * @return {string} A unique template part title.\n */\nexport const getUniqueTemplatePartTitle = ( title, templateParts ) => {\n\tconst lowercaseTitle = title.toLowerCase();\n\tconst existingTitles = templateParts.map( ( templatePart ) =>\n\t\ttemplatePart.title.rendered.toLowerCase()\n\t);\n\n\tif ( ! existingTitles.includes( lowercaseTitle ) ) {\n\t\treturn title;\n\t}\n\n\tlet suffix = 2;\n\twhile ( existingTitles.includes( `${ lowercaseTitle } ${ suffix }` ) ) {\n\t\tsuffix++;\n\t}\n\n\treturn `${ title } ${ suffix }`;\n};\n\n/**\n * Get a valid slug for a template part.\n * Currently template parts only allow latin chars.\n * The fallback slug will receive suffix by default.\n *\n * @param {string} title The template part title.\n * @return {string} A valid template part slug.\n */\nexport const getCleanTemplatePartSlug = ( title ) => {\n\treturn kebabCase( title ).replace( /[^\\w-]+/g, '' ) || 'wp-custom-part';\n};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TextareaControl } from '@wordpress/components';\nimport type { Field } from '@wordpress/dataviews';\nimport type { Attachment, Updatable } from '@wordpress/core-data';\n\nconst altTextField: Partial< Field< Updatable< Attachment > > > = {\n\tid: 'alt_text',\n\ttype: 'text',\n\tlabel: __( 'Alt text' ),\n\tisVisible: ( item ) => item?.media_type === 'image',\n\trender: ( { item } ) => item?.alt_text || '-',\n\tEdit: ( { field, onChange, data } ) => {\n\t\treturn (\n\t\t\t<TextareaControl\n\t\t\t\tlabel={ field.label }\n\t\t\t\tvalue={ data.alt_text || '' }\n\t\t\t\tonChange={ ( value ) => onChange( { alt_text: value } ) }\n\t\t\t\trows={ 2 }\n\t\t\t/>\n\t\t);\n\t},\n\tenableSorting: false,\n\tfilterBy: false,\n};\n\nexport default altTextField;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport type { Field } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { MediaItem } from '../types';\nimport MediaAttachedToView from './view';\nimport MediaAttachedToEdit from './edit';\n\nconst attachedToField: Partial< Field< MediaItem > > = {\n\tid: 'attached_to',\n\ttype: 'text',\n\tlabel: __( 'Attached to' ),\n\tEdit: MediaAttachedToEdit,\n\trender: MediaAttachedToView,\n\tenableSorting: false,\n\tfilterBy: false,\n};\n\nexport default attachedToField;\n", "/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport type { DataViewRenderFieldProps } from '@wordpress/dataviews';\n/**\n * Internal dependencies\n */\nimport type { MediaItem } from '../types';\nimport { getRenderedContent } from '../utils/get-rendered-content';\n\nexport default function MediaAttachedToView( {\n\titem,\n}: DataViewRenderFieldProps< MediaItem > ) {\n\t// Store the displayed title in state, as the embedded post may be loaded\n\t// asynchronously. This ensures that the title remains stable after it\n\t// is updated by the user, and while it is re-fetched from the server.\n\tconst [ attachedPostTitle, setAttachedPostTitle ] = useState<\n\t\tstring | null\n\t>( null );\n\n\tconst parentId = item.post;\n\tconst embeddedPostId = item._embedded?.[ 'wp:attached-to' ]?.[ 0 ]?.id;\n\tconst embeddedPostTitle =\n\t\titem._embedded?.[ 'wp:attached-to' ]?.[ 0 ]?.title;\n\n\tuseEffect( () => {\n\t\tif ( !! parentId && parentId === embeddedPostId ) {\n\t\t\tsetAttachedPostTitle(\n\t\t\t\tgetRenderedContent( embeddedPostTitle ) ||\n\t\t\t\t\tembeddedPostId?.toString() ||\n\t\t\t\t\t''\n\t\t\t);\n\t\t}\n\n\t\tif ( ! parentId ) {\n\t\t\tsetAttachedPostTitle( __( '(Unattached)' ) );\n\t\t}\n\t}, [ parentId, embeddedPostId, embeddedPostTitle ] );\n\n\treturn <>{ attachedPostTitle }</>;\n}\n", "/**\n * Utility function to extract rendered content from either a string or an object\n * containing raw and rendered properties.\n *\n * This handles the inconsistency in WordPress REST API responses where\n * some fields like caption and description can be either:\n * - A simple string\n * - An object with { raw: string, rendered: string }\n *\n * @param content - The content to extract raw value from\n * @return The rendered content string, falling back to raw or empty string if content is falsy\n */\nexport function getRenderedContent(\n\tcontent: string | { raw: string; rendered: string } | undefined | null\n): string {\n\tif ( ! content ) {\n\t\treturn '';\n\t}\n\n\t// If it's a string, return it directly\n\tif ( typeof content === 'string' ) {\n\t\treturn content;\n\t}\n\n\t// If it's an object with raw property, return the raw value\n\tif ( typeof content === 'object' ) {\n\t\treturn content.rendered || content.raw || '';\n\t}\n\n\t// Fallback to empty string\n\treturn '';\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalFetchLinkSuggestions as fetchLinkSuggestions,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport { Button, ComboboxControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState, createInterpolateElement } from '@wordpress/element';\nimport { debounce } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport type { DataFormControlProps } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { MediaItem } from '../types';\nimport { getRenderedContent } from '../utils/get-rendered-content';\n\nexport type SearchResult = {\n\t/**\n\t * Post or term id.\n\t */\n\tid: number;\n\t/**\n\t * Link url.\n\t */\n\turl: string;\n\t/**\n\t * Title of the link.\n\t */\n\ttitle: string;\n\t/**\n\t * The taxonomy or post type slug or type URL.\n\t */\n\ttype: string;\n\t/**\n\t * Link kind of post-type or taxonomy\n\t */\n\tkind?: string;\n};\n\nexport default function MediaAttachedToEdit( {\n\tdata,\n\tonChange,\n}: DataFormControlProps< MediaItem > ) {\n\tconst defaultPost =\n\t\t!! data.post && !! data?._embedded?.[ 'wp:attached-to' ]?.[ 0 ]\n\t\t\t? [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: getRenderedContent(\n\t\t\t\t\t\t\tdata._embedded?.[ 'wp:attached-to' ]?.[ 0 ]?.title\n\t\t\t\t\t\t),\n\t\t\t\t\t\tvalue: data.post.toString(),\n\t\t\t\t\t},\n\t\t\t  ]\n\t\t\t: [];\n\tconst [ options, setOptions ] =\n\t\tuseState< { label: string; value: string }[] >( defaultPost );\n\tconst [ searchResults, setSearchResults ] = useState< SearchResult[] >(\n\t\t[]\n\t);\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\tconst [ value, setValue ] = useState< string | null >(\n\t\tdata?.post?.toString() ?? null\n\t);\n\n\tconst postTypes = useSelect(\n\t\t( select ) => select( coreStore ).getPostTypes(),\n\t\t[]\n\t);\n\tconst handleDetach = () => {\n\t\tonChange( {\n\t\t\tpost: 0,\n\t\t\t_embedded: { ...data?._embedded, 'wp:attached-to': undefined },\n\t\t} );\n\t\tsetOptions( [] );\n\t};\n\n\tconst onValueChange = async ( filterValue: string ) => {\n\t\tsetIsLoading( true );\n\t\tconst results = await fetchLinkSuggestions(\n\t\t\tfilterValue,\n\t\t\t/*\n\t\t\t * @TODO `fetchLinkSuggestions()` should accept `perPage` as an option argument.\n\t\t\t * `isInitialSuggestions` limits the result to 3, otherwise it's hardcoded to 20.\n\t\t\t */\n\t\t\t{ type: 'post', isInitialSuggestions: true },\n\t\t\t{}\n\t\t);\n\t\tsetSearchResults( results );\n\t\tconst mappedSuggestions = results.map( ( result ) => {\n\t\t\treturn {\n\t\t\t\tlabel: result.title,\n\t\t\t\tvalue: result.id.toString(),\n\t\t\t};\n\t\t} );\n\t\tsetOptions( mappedSuggestions );\n\t\tsetIsLoading( false );\n\t};\n\n\t/**\n\t * Handle selection.\n\t *\n\t * @param {Object} selectedPostId The selected post id.\n\t */\n\tconst handleSelectOption = (\n\t\tselectedPostId: string | null | undefined\n\t) => {\n\t\tif ( ! selectedPostId ) {\n\t\t\thandleDetach();\n\t\t\treturn;\n\t\t}\n\t\tsetValue( selectedPostId );\n\t\tif ( selectedPostId ) {\n\t\t\tconst selectedPost = searchResults.find(\n\t\t\t\t( result ) => result.id === Number( selectedPostId )\n\t\t\t);\n\t\t\t// Although unlikely, it's technically possible for selectedPost to not be found.\n\t\t\t// E.g. if the user selects an option just as new search results are loaded.\n\t\t\t// TODO: Add error handling for when selectedPost is not found.\n\t\t\tif ( selectedPost && postTypes ) {\n\t\t\t\tconst postType = postTypes.find(\n\t\t\t\t\t( _postType: { slug: string } ) =>\n\t\t\t\t\t\t_postType.slug === selectedPost?.type\n\t\t\t\t);\n\n\t\t\t\tconst attachedTo = {\n\t\t\t\t\t...( postType && { type: postType.slug } ),\n\t\t\t\t\tid: Number( selectedPostId ),\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\traw: selectedPost.title,\n\t\t\t\t\t\trendered: selectedPost.title,\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\t\tonChange( {\n\t\t\t\t\tpost: Number( selectedPostId ),\n\t\t\t\t\t_embedded: {\n\t\t\t\t\t\t...data?._embedded,\n\t\t\t\t\t\t'wp:attached-to': [ attachedTo ],\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t};\n\n\tconst help = !! data.post\n\t\t? createInterpolateElement(\n\t\t\t\t__(\n\t\t\t\t\t'Search for a post or page to attach this media to or <button>detach current</button>.'\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\tbutton: (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tonClick={ handleDetach }\n\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t}\n\t\t  )\n\t\t: __( 'Search for a post or page to attach this media to.' );\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\tclassName=\"dataviews-media-field__attached-to\"\n\t\t\t__next40pxDefaultSize\n\t\t\tisLoading={ isLoading }\n\t\t\tlabel={ __( 'Attached to' ) }\n\t\t\thelp={ help }\n\t\t\tvalue={ value }\n\t\t\toptions={ options }\n\t\t\tonFilterValueChange={ debounce(\n\t\t\t\t( filterValue: unknown ) =>\n\t\t\t\t\tonValueChange( filterValue as string ),\n\t\t\t\t300\n\t\t\t) }\n\t\t\tonChange={ handleSelectOption }\n\t\t\thideLabelFromVision\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\nimport { resolveSelect } from '@wordpress/data';\nimport { store as coreDataStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport type { MediaItem } from '../types';\nimport AuthorView from './view';\n\ninterface Author {\n\tid: number;\n\tname: string;\n}\n\nconst authorField: Partial< Field< MediaItem > > = {\n\tlabel: __( 'Author' ),\n\tid: 'author',\n\ttype: 'integer',\n\tgetElements: async () => {\n\t\tconst authors: Author[] =\n\t\t\t( await resolveSelect( coreDataStore ).getEntityRecords(\n\t\t\t\t'root',\n\t\t\t\t'user',\n\t\t\t\t{\n\t\t\t\t\tper_page: -1,\n\t\t\t\t}\n\t\t\t) ) ?? [];\n\t\treturn authors.map( ( { id, name } ) => ( {\n\t\t\tvalue: id,\n\t\t\tlabel: name,\n\t\t} ) );\n\t},\n\trender: AuthorView,\n\tsort: ( a, b, direction ) => {\n\t\tconst nameA = a._embedded?.author?.[ 0 ]?.name || '';\n\t\tconst nameB = b._embedded?.author?.[ 0 ]?.name || '';\n\n\t\treturn direction === 'asc'\n\t\t\t? nameA.localeCompare( nameB )\n\t\t\t: nameB.localeCompare( nameA );\n\t},\n\tfilterBy: {\n\t\toperators: [ 'isAny', 'isNone' ],\n\t},\n\treadOnly: true,\n};\n\nexport default authorField;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState, useCallback, useEffect } from '@wordpress/element';\nimport { commentAuthorAvatar as authorIcon } from '@wordpress/icons';\nimport { __experimentalHStack as HStack, Icon } from '@wordpress/components';\nimport type { DataViewRenderFieldProps } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { MediaItem } from '../types';\n\nexport default function AuthorView( {\n\titem,\n}: DataViewRenderFieldProps< MediaItem > ) {\n\tconst author = item?._embedded?.author?.[ 0 ];\n\tconst text = author?.name;\n\tconst imageUrl = author?.avatar_urls?.[ 48 ];\n\n\t/*\n\t * Use three states to avoid fade-in animation for cached images:\n\t * 'instant' = image already cached, 'loading' = waiting, 'loaded' = just finished.\n\t */\n\tconst [ loadingState, setLoadingState ] = useState<\n\t\t'instant' | 'loading' | 'loaded'\n\t>( 'loading' );\n\n\tuseEffect( () => {\n\t\tsetLoadingState( 'loading' );\n\t}, [ imageUrl ] );\n\n\tconst imgRef = useCallback( ( img: HTMLImageElement | null ) => {\n\t\tif ( img?.complete ) {\n\t\t\tsetLoadingState( 'instant' );\n\t\t}\n\t}, [] );\n\n\tconst handleLoad = () => {\n\t\tif ( loadingState === 'loading' ) {\n\t\t\tsetLoadingState( 'loaded' );\n\t\t}\n\t};\n\n\treturn (\n\t\t<HStack alignment=\"left\" spacing={ 0 }>\n\t\t\t{ !! imageUrl && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx( 'media-author-field__avatar', {\n\t\t\t\t\t\t'is-loading': loadingState === 'loading',\n\t\t\t\t\t\t'is-loaded': loadingState === 'loaded',\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tref={ imgRef }\n\t\t\t\t\t\tonLoad={ handleLoad }\n\t\t\t\t\t\talt={ __( 'Author avatar' ) }\n\t\t\t\t\t\tsrc={ imageUrl }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ ! imageUrl && (\n\t\t\t\t<div className=\"media-author-field__icon\">\n\t\t\t\t\t<Icon icon={ authorIcon } />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<span className=\"media-author-field__name\">{ text }</span>\n\t\t</HStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TextareaControl } from '@wordpress/components';\nimport type { Attachment, Updatable } from '@wordpress/core-data';\nimport type { Field } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { getRawContent } from '../utils/get-raw-content';\n\nconst captionField: Partial< Field< Updatable< Attachment > > > = {\n\tid: 'caption',\n\ttype: 'text',\n\tlabel: __( 'Caption' ),\n\tgetValue: ( { item } ) => getRawContent( item?.caption ),\n\trender: ( { item } ) => getRawContent( item?.caption ) || '-',\n\tEdit: ( { field, onChange, data } ) => {\n\t\treturn (\n\t\t\t<TextareaControl\n\t\t\t\tlabel={ field.label }\n\t\t\t\tvalue={ getRawContent( data.caption ) || '' }\n\t\t\t\tonChange={ ( value ) => onChange( { caption: value } ) }\n\t\t\t\trows={ 2 }\n\t\t\t/>\n\t\t);\n\t},\n\tenableSorting: false,\n\tfilterBy: false,\n};\n\nexport default captionField;\n", "/**\n * Utility function to extract raw content from either a string or an object\n * containing raw and rendered properties.\n *\n * This handles the inconsistency in WordPress REST API responses where\n * some fields like caption and description can be either:\n * - A simple string\n * - An object with { raw: string, rendered: string }\n *\n * @param content - The content to extract raw value from\n * @return The raw content string, or empty string if content is falsy\n */\nexport function getRawContent(\n\tcontent: string | { raw: string; rendered: string } | undefined | null\n): string {\n\tif ( ! content ) {\n\t\treturn '';\n\t}\n\n\t// If it's a string, return it directly\n\tif ( typeof content === 'string' ) {\n\t\treturn content;\n\t}\n\n\t// If it's an object with raw property, return the raw value\n\tif ( typeof content === 'object' && 'raw' in content ) {\n\t\treturn content.raw || '';\n\t}\n\n\t// Fallback to empty string\n\treturn '';\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { getSettings } from '@wordpress/date';\nimport type { Field } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { MediaItem } from '../types';\n\nconst dateAddedField: Partial< Field< MediaItem > > = {\n\tid: 'date',\n\ttype: 'datetime',\n\tlabel: __( 'Date added' ),\n\tfilterBy: {\n\t\toperators: [ 'before', 'after' ],\n\t},\n\tformat: {\n\t\tdatetime: getSettings().formats.datetimeAbbreviated,\n\t},\n\treadOnly: true,\n};\n\nexport default dateAddedField;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TextareaControl } from '@wordpress/components';\nimport type { Attachment, Updatable } from '@wordpress/core-data';\nimport type { Field } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { getRawContent } from '../utils/get-raw-content';\n\nconst descriptionField: Partial< Field< Updatable< Attachment > > > = {\n\tid: 'description',\n\ttype: 'text',\n\tlabel: __( 'Description' ),\n\tgetValue: ( { item } ) => getRawContent( item?.description ),\n\trender: ( { item } ) => (\n\t\t<div>{ getRawContent( item?.description ) || '-' }</div>\n\t),\n\tEdit: ( { field, onChange, data } ) => {\n\t\treturn (\n\t\t\t<TextareaControl\n\t\t\t\tlabel={ field.label }\n\t\t\t\tvalue={ getRawContent( data.description ) || '' }\n\t\t\t\tonChange={ ( value ) => onChange( { description: value } ) }\n\t\t\t\trows={ 5 }\n\t\t\t/>\n\t\t);\n\t},\n\tenableSorting: false,\n\tfilterBy: false,\n};\n\nexport default descriptionField;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { getFilename } from '@wordpress/url';\nimport type { Field } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { MediaItem } from '../types';\nimport FileNameView from './view';\n\nconst filenameField: Partial< Field< MediaItem > > = {\n\tid: 'filename',\n\ttype: 'text',\n\tlabel: __( 'File name' ),\n\tgetValue: ( { item }: { item: MediaItem } ) =>\n\t\tgetFilename( item?.source_url || '' ),\n\trender: FileNameView,\n\tenableSorting: false,\n\tfilterBy: false,\n\treadOnly: true,\n};\n\nexport default filenameField;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tTooltip,\n\t__experimentalTruncate as Truncate,\n} from '@wordpress/components';\nimport { useMemo } from '@wordpress/element';\nimport { getFilename } from '@wordpress/url';\nimport type { DataViewRenderFieldProps } from '@wordpress/dataviews';\n/**\n * Internal dependencies\n */\nimport type { MediaItem } from '../types';\n\n// Hard-coded truncate length to match the available area in the media sidebar.\n// Longer file names will be truncated and wrapped in a tooltip showing the full name.\nconst TRUNCATE_LENGTH = 15;\n\nexport default function FileNameView( {\n\titem,\n}: DataViewRenderFieldProps< MediaItem > ) {\n\tconst fileName = useMemo(\n\t\t() => ( item?.source_url ? getFilename( item.source_url ) : null ),\n\t\t[ item?.source_url ]\n\t);\n\n\tif ( ! fileName ) {\n\t\treturn '';\n\t}\n\n\treturn fileName.length > TRUNCATE_LENGTH ? (\n\t\t<Tooltip text={ fileName }>\n\t\t\t<Truncate>{ fileName }</Truncate>\n\t\t</Tooltip>\n\t) : (\n\t\t<>{ fileName }</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf, _x } from '@wordpress/i18n';\nimport type { Field } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { MediaItem } from '../types';\n\nconst KB_IN_BYTES = 1024;\nconst MB_IN_BYTES = 1024 * KB_IN_BYTES;\nconst GB_IN_BYTES = 1024 * MB_IN_BYTES;\nconst TB_IN_BYTES = 1024 * GB_IN_BYTES;\nconst PB_IN_BYTES = 1024 * TB_IN_BYTES;\nconst EB_IN_BYTES = 1024 * PB_IN_BYTES;\nconst ZB_IN_BYTES = 1024 * EB_IN_BYTES;\nconst YB_IN_BYTES = 1024 * ZB_IN_BYTES;\n\nfunction getBytesString(\n\tbytes: number,\n\tunitSymbol: string,\n\tdecimals = 2\n): string {\n\treturn sprintf(\n\t\t// translators: 1: Actual bytes of a file. 2: The unit symbol (e.g. MB).\n\t\t_x( '%1$s %2$s', 'file size' ),\n\t\tbytes.toLocaleString( undefined, {\n\t\t\tminimumFractionDigits: 0,\n\t\t\tmaximumFractionDigits: decimals,\n\t\t} ),\n\t\tunitSymbol\n\t);\n}\n\n/**\n * Converts bytes to a human-readable file size string with a specified number of decimal places.\n *\n * This logic is comparable to core's `size_format()` function.\n *\n * @param bytes    The size in bytes.\n * @param decimals The number of decimal places to include in the result.\n * @return         The human-readable file size string.\n */\nfunction formatFileSize( bytes: number, decimals = 2 ): string {\n\tif ( bytes === 0 ) {\n\t\treturn getBytesString( 0, _x( 'B', 'unit symbol' ), decimals );\n\t}\n\tconst quant = {\n\t\t/* translators: Unit symbol for yottabyte. */\n\t\t[ _x( 'YB', 'unit symbol' ) ]: YB_IN_BYTES,\n\t\t/* translators: Unit symbol for zettabyte. */\n\t\t[ _x( 'ZB', 'unit symbol' ) ]: ZB_IN_BYTES,\n\t\t/* translators: Unit symbol for exabyte. */\n\t\t[ _x( 'EB', 'unit symbol' ) ]: EB_IN_BYTES,\n\t\t/* translators: Unit symbol for petabyte. */\n\t\t[ _x( 'PB', 'unit symbol' ) ]: PB_IN_BYTES,\n\t\t/* translators: Unit symbol for terabyte. */\n\t\t[ _x( 'TB', 'unit symbol' ) ]: TB_IN_BYTES,\n\t\t/* translators: Unit symbol for gigabyte. */\n\t\t[ _x( 'GB', 'unit symbol' ) ]: GB_IN_BYTES,\n\t\t/* translators: Unit symbol for megabyte. */\n\t\t[ _x( 'MB', 'unit symbol' ) ]: MB_IN_BYTES,\n\t\t/* translators: Unit symbol for kilobyte. */\n\t\t[ _x( 'KB', 'unit symbol' ) ]: KB_IN_BYTES,\n\t\t/* translators: Unit symbol for byte. */\n\t\t[ _x( 'B', 'unit symbol' ) ]: 1,\n\t};\n\n\tfor ( const [ unit, mag ] of Object.entries( quant ) ) {\n\t\tif ( bytes >= mag ) {\n\t\t\treturn getBytesString( bytes / mag, unit, decimals );\n\t\t}\n\t}\n\n\treturn ''; // Fallback in case no unit matches, though this should not happen.\n}\n\nconst filesizeField: Partial< Field< MediaItem > > = {\n\tid: 'filesize',\n\ttype: 'text',\n\tlabel: __( 'File size' ),\n\tgetValue: ( { item }: { item: MediaItem } ) =>\n\t\titem?.media_details?.filesize\n\t\t\t? formatFileSize( item?.media_details?.filesize )\n\t\t\t: '',\n\tisVisible: ( item: MediaItem ) => {\n\t\treturn !! item?.media_details?.filesize;\n\t},\n\tenableSorting: false,\n\tfilterBy: false,\n\treadOnly: true,\n};\n\nexport default filesizeField;\n", "/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport type { Attachment, Updatable } from '@wordpress/core-data';\nimport type { Field } from '@wordpress/dataviews';\n\nconst mediaDimensionsField: Partial< Field< Updatable< Attachment > > > = {\n\tid: 'media_dimensions',\n\ttype: 'text',\n\tlabel: __( 'Dimensions' ),\n\tgetValue: ( { item } ) =>\n\t\titem?.media_details?.width && item?.media_details?.height\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: 1: Width. 2: Height.\n\t\t\t\t\t_x( '%1$s \u00D7 %2$s', 'image dimensions' ),\n\t\t\t\t\titem?.media_details?.width?.toString(),\n\t\t\t\t\titem?.media_details?.height?.toString()\n\t\t\t  )\n\t\t\t: '',\n\tisVisible: ( item ) => {\n\t\treturn !! ( item?.media_details?.width && item?.media_details?.height );\n\t},\n\tenableSorting: false,\n\tfilterBy: false,\n\treadOnly: true,\n};\n\nexport default mediaDimensionsField;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport type { Attachment, Updatable } from '@wordpress/core-data';\nimport type { Field } from '@wordpress/dataviews';\n\nconst mimeTypeField: Partial< Field< Updatable< Attachment > > > = {\n\tid: 'mime_type',\n\ttype: 'text',\n\tlabel: __( 'File type' ),\n\tgetValue: ( { item } ) => item?.mime_type || '',\n\trender: ( { item } ) => item?.mime_type || '-',\n\t// Disable sorting until REST API support for ordering my `mime_type` is added.\n\t// See: https://core.trac.wordpress.org/ticket/64073\n\tenableSorting: false,\n\tfilterBy: false,\n\treadOnly: true,\n};\n\nexport default mimeTypeField;\n", "/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport type { BasePost } from '@wordpress/fields';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport PostPreviewView from './content-preview-view';\n\nconst postPreviewField: Field< BasePost > = {\n\ttype: 'media',\n\tid: 'content-preview',\n\tlabel: __( 'Content preview' ),\n\trender: PostPreviewView,\n\tenableSorting: false,\n};\n\nexport default postPreviewField;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t// @ts-ignore\n\tBlockPreview,\n\t// @ts-ignore\n} from '@wordpress/block-editor';\nimport type { BasePost } from '@wordpress/fields';\nimport { useSelect } from '@wordpress/data';\nimport { useEntityBlockEditor, store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { EditorProvider } from '../../../components/provider';\nimport { useStyle } from '../../../components/global-styles';\nimport { unlock } from '../../../lock-unlock';\n// @ts-ignore\nimport { store as editorStore } from '../../../store';\n\nfunction PostPreviewContainer( {\n\ttemplate,\n\tpost,\n}: {\n\ttemplate: any;\n\tpost: any;\n} ) {\n\tconst [ backgroundColor = 'white' ] = useStyle( 'color.background' );\n\tconst [ postBlocks ] = useEntityBlockEditor( 'postType', post.type, {\n\t\tid: post.id,\n\t} );\n\tconst [ templateBlocks ] = useEntityBlockEditor(\n\t\t'postType',\n\t\ttemplate?.type,\n\t\t{\n\t\t\tid: template?.id,\n\t\t}\n\t);\n\tconst blocks = template && templateBlocks ? templateBlocks : postBlocks;\n\tconst isEmpty = ! blocks?.length;\n\treturn (\n\t\t<div\n\t\t\tclassName=\"editor-fields-content-preview\"\n\t\t\tstyle={ {\n\t\t\t\tbackgroundColor,\n\t\t\t} }\n\t\t>\n\t\t\t{ isEmpty && (\n\t\t\t\t<span className=\"editor-fields-content-preview__empty\">\n\t\t\t\t\t{ __( 'Empty content' ) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t{ ! isEmpty && (\n\t\t\t\t<BlockPreview.Async>\n\t\t\t\t\t<BlockPreview blocks={ blocks } />\n\t\t\t\t</BlockPreview.Async>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default function PostPreviewView( { item }: { item: BasePost } ) {\n\tconst { settings, template } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser, getPostType, getTemplateId, getEntityRecord } =\n\t\t\t\tunlock( select( coreStore ) );\n\t\t\tconst canViewTemplate = canUser( 'read', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} );\n\t\t\tconst _settings = select( editorStore ).getEditorSettings();\n\t\t\t// @ts-ignore\n\t\t\tconst supportsTemplateMode = _settings.supportsTemplateMode;\n\t\t\tconst isViewable = getPostType( item.type )?.viewable ?? false;\n\n\t\t\tconst templateId =\n\t\t\t\tsupportsTemplateMode && isViewable && canViewTemplate\n\t\t\t\t\t? getTemplateId( item.type, item.id )\n\t\t\t\t\t: null;\n\t\t\treturn {\n\t\t\t\tsettings: _settings,\n\t\t\t\ttemplate: templateId\n\t\t\t\t\t? getEntityRecord( 'postType', 'wp_template', templateId )\n\t\t\t\t\t: undefined,\n\t\t\t};\n\t\t},\n\t\t[ item.type, item.id ]\n\t);\n\t// Wrap everything in a block editor provider to ensure 'styles' that are needed\n\t// for the previews are synced between the site editor store and the block editor store.\n\t// Additionally we need to have the `__experimentalBlockPatterns` setting in order to\n\t// render patterns inside the previews.\n\t// TODO: Same approach is used in the patterns list and it becomes obvious that some of\n\t// the block editor settings are needed in context where we don't have the block editor.\n\t// Explore how we can solve this in a better way.\n\treturn (\n\t\t<EditorProvider\n\t\t\tpost={ item }\n\t\t\tsettings={ settings }\n\t\t\t__unstableTemplate={ template }\n\t\t>\n\t\t\t<PostPreviewContainer template={ template } post={ item } />\n\t\t</EditorProvider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useLayoutEffect, useMemo } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tEntityProvider,\n\tuseEntityBlockEditor,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport {\n\tBlockEditorProvider,\n\tBlockContextProvider,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { privateApis as editPatternsPrivateApis } from '@wordpress/patterns';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport withRegistryProvider from './with-registry-provider';\nimport { store as editorStore } from '../../store';\nimport { ATTACHMENT_POST_TYPE } from '../../store/constants';\nimport useBlockEditorSettings from './use-block-editor-settings';\nimport { unlock } from '../../lock-unlock';\nimport DisableNonPageContentBlocks from './disable-non-page-content-blocks';\nimport NavigationBlockEditingMode from './navigation-block-editing-mode';\nimport { useHideBlocksFromInserter } from './use-hide-blocks-from-inserter';\nimport useCommands from '../commands';\nimport BlockRemovalWarnings from '../block-removal-warnings';\nimport StartPageOptions from '../start-page-options';\nimport KeyboardShortcutHelpModal from '../keyboard-shortcut-help-modal';\nimport StartTemplateOptions from '../start-template-options';\nimport EditorKeyboardShortcuts from '../global-keyboard-shortcuts';\nimport PatternRenameModal from '../pattern-rename-modal';\nimport PatternDuplicateModal from '../pattern-duplicate-modal';\nimport TemplatePartMenuItems from '../template-part-menu-items';\n\nconst { ExperimentalBlockEditorProvider } = unlock( blockEditorPrivateApis );\nconst { PatternsMenuItems } = unlock( editPatternsPrivateApis );\n\nconst noop = () => {};\n\n/**\n * These are global entities that are only there to split blocks into logical units\n * They don't provide a \"context\" for the current post/page being rendered.\n * So we should not use their ids as post context. This is important to allow post blocks\n * (post content, post title) to be used within them without issues.\n */\nconst NON_CONTEXTUAL_POST_TYPES = [\n\t'wp_block',\n\t'wp_navigation',\n\t'wp_template_part',\n];\n\n/**\n * Depending on the post, template and template mode,\n * returns the appropriate blocks and change handlers for the block editor provider.\n *\n * @param {Array}   post     Block list.\n * @param {boolean} template Whether the page content has focus (and the surrounding template is inert). If `true` return page content blocks. Default `false`.\n * @param {string}  mode     Rendering mode.\n *\n * @example\n * ```jsx\n * const [ blocks, onInput, onChange ] = useBlockEditorProps( post, template, mode );\n * ```\n *\n * @return {Array} Block editor props.\n */\nfunction useBlockEditorProps( post, template, mode ) {\n\tconst rootLevelPost = mode === 'template-locked' ? 'template' : 'post';\n\tconst [ postBlocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\tpost.type,\n\t\t{ id: post.id }\n\t);\n\tconst [ templateBlocks, onInputTemplate, onChangeTemplate ] =\n\t\tuseEntityBlockEditor( 'postType', template?.type, {\n\t\t\tid: template?.id,\n\t\t} );\n\tconst maybeNavigationBlocks = useMemo( () => {\n\t\tif ( post.type === 'wp_navigation' ) {\n\t\t\treturn [\n\t\t\t\tcreateBlock( 'core/navigation', {\n\t\t\t\t\tref: post.id,\n\t\t\t\t\t// As the parent editor is locked with `templateLock`, the template locking\n\t\t\t\t\t// must be explicitly \"unset\" on the block itself to allow the user to modify\n\t\t\t\t\t// the block's content.\n\t\t\t\t\ttemplateLock: false,\n\t\t\t\t} ),\n\t\t\t];\n\t\t}\n\t}, [ post.type, post.id ] );\n\n\t// It is important that we don't create a new instance of blocks on every change\n\t// We should only create a new instance if the blocks them selves change, not a dependency of them.\n\tconst blocks = useMemo( () => {\n\t\tif ( maybeNavigationBlocks ) {\n\t\t\treturn maybeNavigationBlocks;\n\t\t}\n\n\t\tif ( rootLevelPost === 'template' ) {\n\t\t\treturn templateBlocks;\n\t\t}\n\n\t\treturn postBlocks;\n\t}, [ maybeNavigationBlocks, rootLevelPost, templateBlocks, postBlocks ] );\n\n\t// Handle fallback to postBlocks outside of the above useMemo, to ensure\n\t// that constructed block templates that call `createBlock` are not generated\n\t// too frequently. This ensures that clientIds are stable.\n\tconst disableRootLevelChanges =\n\t\t( !! template && mode === 'template-locked' ) ||\n\t\tpost.type === 'wp_navigation';\n\tif ( disableRootLevelChanges ) {\n\t\treturn [ blocks, noop, noop ];\n\t}\n\n\treturn [\n\t\tblocks,\n\t\trootLevelPost === 'post' ? onInput : onInputTemplate,\n\t\trootLevelPost === 'post' ? onChange : onChangeTemplate,\n\t];\n}\n\n/**\n * This component provides the editor context and manages the state of the block editor.\n *\n * @param {Object}  props                                The component props.\n * @param {Object}  props.post                           The post object.\n * @param {Object}  props.settings                       The editor settings.\n * @param {boolean} props.recovery                       Indicates if the editor is in recovery mode.\n * @param {Array}   props.initialEdits                   The initial edits for the editor.\n * @param {Object}  props.children                       The child components.\n * @param {Object}  [props.BlockEditorProviderComponent] The block editor provider component to use. Defaults to ExperimentalBlockEditorProvider.\n * @param {Object}  [props.__unstableTemplate]           The template object.\n *\n * @example\n * ```jsx\n * <ExperimentalEditorProvider\n *   post={ post }\n *   settings={ settings }\n *   recovery={ recovery }\n *   initialEdits={ initialEdits }\n *   __unstableTemplate={ template }\n * >\n *   { children }\n * </ExperimentalEditorProvider>\n *\n * @return {Object} The rendered ExperimentalEditorProvider component.\n */\nexport const ExperimentalEditorProvider = withRegistryProvider(\n\t( {\n\t\tpost,\n\t\tsettings,\n\t\trecovery,\n\t\tinitialEdits,\n\t\tchildren,\n\t\tBlockEditorProviderComponent = ExperimentalBlockEditorProvider,\n\t\t__unstableTemplate: template,\n\t} ) => {\n\t\tconst hasTemplate = !! template;\n\t\tconst {\n\t\t\teditorSettings,\n\t\t\tselection,\n\t\t\tisReady,\n\t\t\tmode,\n\t\t\tdefaultMode,\n\t\t\tpostTypeEntities,\n\t\t} = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst {\n\t\t\t\t\tgetEditorSettings,\n\t\t\t\t\tgetEditorSelection,\n\t\t\t\t\tgetRenderingMode,\n\t\t\t\t\t__unstableIsEditorReady,\n\t\t\t\t\tgetDefaultRenderingMode,\n\t\t\t\t} = unlock( select( editorStore ) );\n\t\t\t\tconst { getEntitiesConfig } = select( coreStore );\n\n\t\t\t\tconst _mode = getRenderingMode();\n\t\t\t\tconst _defaultMode = getDefaultRenderingMode( post.type );\n\t\t\t\t/**\n\t\t\t\t * To avoid content \"flash\", wait until rendering mode has been resolved.\n\t\t\t\t * This is important for the initial render of the editor.\n\t\t\t\t *\n\t\t\t\t * - Wait for template to be resolved if the default mode is 'template-locked'.\n\t\t\t\t * - Wait for default mode to be resolved otherwise.\n\t\t\t\t */\n\t\t\t\tconst hasResolvedDefaultMode =\n\t\t\t\t\t_defaultMode === 'template-locked'\n\t\t\t\t\t\t? hasTemplate\n\t\t\t\t\t\t: _defaultMode !== undefined;\n\t\t\t\t// Wait until the default mode is retrieved and start rendering canvas.\n\t\t\t\tconst isRenderingModeReady = _defaultMode !== undefined;\n\n\t\t\t\treturn {\n\t\t\t\t\teditorSettings: getEditorSettings(),\n\t\t\t\t\tisReady: __unstableIsEditorReady(),\n\t\t\t\t\tmode: isRenderingModeReady ? _mode : undefined,\n\t\t\t\t\tdefaultMode: hasResolvedDefaultMode\n\t\t\t\t\t\t? _defaultMode\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\tselection: getEditorSelection(),\n\t\t\t\t\tpostTypeEntities:\n\t\t\t\t\t\tpost.type === 'wp_template'\n\t\t\t\t\t\t\t? getEntitiesConfig( 'postType' )\n\t\t\t\t\t\t\t: null,\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ post.type, hasTemplate ]\n\t\t);\n\n\t\tconst shouldRenderTemplate = hasTemplate && mode !== 'post-only';\n\t\tconst rootLevelPost = shouldRenderTemplate ? template : post;\n\t\tconst defaultBlockContext = useMemo( () => {\n\t\t\tconst postContext = {};\n\t\t\t// If it is a template, try to inherit the post type from the name.\n\t\t\tif ( post.type === 'wp_template' ) {\n\t\t\t\tif ( post.slug === 'page' ) {\n\t\t\t\t\tpostContext.postType = 'page';\n\t\t\t\t} else if ( post.slug === 'single' ) {\n\t\t\t\t\tpostContext.postType = 'post';\n\t\t\t\t} else if ( post.slug.split( '-' )[ 0 ] === 'single' ) {\n\t\t\t\t\t// If the slug is single-{postType}, infer the post type from the name.\n\t\t\t\t\tconst postTypeNames =\n\t\t\t\t\t\tpostTypeEntities?.map( ( entity ) => entity.name ) ||\n\t\t\t\t\t\t[];\n\t\t\t\t\tconst match = post.slug.match(\n\t\t\t\t\t\t`^single-(${ postTypeNames.join( '|' ) })(?:-.+)?$`\n\t\t\t\t\t);\n\t\t\t\t\tif ( match ) {\n\t\t\t\t\t\tpostContext.postType = match[ 1 ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\t! NON_CONTEXTUAL_POST_TYPES.includes( rootLevelPost.type ) ||\n\t\t\t\tshouldRenderTemplate\n\t\t\t) {\n\t\t\t\tpostContext.postId = post.id;\n\t\t\t\tpostContext.postType = post.type;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...postContext,\n\t\t\t\ttemplateSlug:\n\t\t\t\t\trootLevelPost.type === 'wp_template'\n\t\t\t\t\t\t? rootLevelPost.slug\n\t\t\t\t\t\t: undefined,\n\t\t\t};\n\t\t}, [\n\t\t\tshouldRenderTemplate,\n\t\t\tpost.id,\n\t\t\tpost.type,\n\t\t\tpost.slug,\n\t\t\trootLevelPost.type,\n\t\t\trootLevelPost.slug,\n\t\t\tpostTypeEntities,\n\t\t] );\n\t\tconst { id, type } = rootLevelPost;\n\t\tconst blockEditorSettings = useBlockEditorSettings(\n\t\t\teditorSettings,\n\t\t\ttype,\n\t\t\tid,\n\t\t\tmode\n\t\t);\n\t\tconst [ blocks, onInput, onChange ] = useBlockEditorProps(\n\t\t\tpost,\n\t\t\ttemplate,\n\t\t\tmode\n\t\t);\n\n\t\tconst {\n\t\t\tupdatePostLock,\n\t\t\tsetupEditor,\n\t\t\tupdateEditorSettings,\n\t\t\tsetCurrentTemplateId,\n\t\t\tsetEditedPost,\n\t\t\tsetRenderingMode,\n\t\t} = unlock( useDispatch( editorStore ) );\n\t\tconst { createWarningNotice, removeNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\t// Ideally this should be synced on each change and not just something you do once.\n\t\tuseLayoutEffect( () => {\n\t\t\t// Assume that we don't need to initialize in the case of an error recovery.\n\t\t\tif ( recovery ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdatePostLock( settings.postLock );\n\t\t\tsetupEditor( post, initialEdits, settings.template );\n\t\t\tif ( settings.autosave ) {\n\t\t\t\tcreateWarningNotice(\n\t\t\t\t\t__(\n\t\t\t\t\t\t'There is an autosave of this post that is more recent than the version below.'\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'autosave-exists',\n\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'View the autosave' ),\n\t\t\t\t\t\t\t\turl: settings.autosave.editLink,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// The dependencies of the hook are omitted deliberately\n\t\t\t// We only want to run setupEditor (with initialEdits) only once per post.\n\t\t\t// A better solution in the future would be to split this effect into multiple ones.\n\t\t}, [] );\n\n\t\t// Synchronizes the active post with the state\n\t\tuseEffect( () => {\n\t\t\tsetEditedPost( post.type, post.id );\n\t\t\tif (\n\t\t\t\ttypeof window !== 'undefined' &&\n\t\t\t\twindow.__experimentalTemplateActivate\n\t\t\t) {\n\t\t\t\t// Clear any notices dependent on the post context.\n\t\t\t\tremoveNotice( 'template-activate-notice' );\n\t\t\t}\n\n\t\t\treturn () => setEditedPost( null, null );\n\t\t}, [ post.type, post.id, setEditedPost, removeNotice ] );\n\n\t\t// Synchronize the editor settings as they change.\n\t\tuseEffect( () => {\n\t\t\tupdateEditorSettings( settings );\n\t\t}, [ settings, updateEditorSettings ] );\n\n\t\t// Synchronizes the active template with the state.\n\t\tuseEffect( () => {\n\t\t\tsetCurrentTemplateId( template?.id );\n\t\t}, [ template?.id, setCurrentTemplateId ] );\n\n\t\t// Sets the right rendering mode when loading the editor.\n\t\tuseEffect( () => {\n\t\t\tif ( defaultMode ) {\n\t\t\t\tsetRenderingMode( defaultMode );\n\t\t\t}\n\t\t}, [ defaultMode, setRenderingMode ] );\n\n\t\tuseHideBlocksFromInserter( post.type, mode );\n\n\t\t// Register the editor commands.\n\t\tuseCommands();\n\n\t\tif ( ! isReady || ! mode ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst isAttachment =\n\t\t\tpost.type === ATTACHMENT_POST_TYPE &&\n\t\t\twindow?.__experimentalMediaEditor;\n\n\t\t// Early return for attachments - no block editor needed\n\t\tif ( isAttachment ) {\n\t\t\treturn (\n\t\t\t\t<EntityProvider kind=\"root\" type=\"site\">\n\t\t\t\t\t<EntityProvider\n\t\t\t\t\t\tkind=\"postType\"\n\t\t\t\t\t\ttype={ post.type }\n\t\t\t\t\t\tid={ post.id }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t{ ! settings.isPreviewMode && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<EditorKeyboardShortcuts />\n\t\t\t\t\t\t\t\t<KeyboardShortcutHelpModal />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</EntityProvider>\n\t\t\t\t</EntityProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<EntityProvider kind=\"root\" type=\"site\">\n\t\t\t\t<EntityProvider\n\t\t\t\t\tkind=\"postType\"\n\t\t\t\t\ttype={ post.type }\n\t\t\t\t\tid={ post.id }\n\t\t\t\t>\n\t\t\t\t\t<BlockContextProvider value={ defaultBlockContext }>\n\t\t\t\t\t\t<BlockEditorProviderComponent\n\t\t\t\t\t\t\tvalue={ blocks }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\tonInput={ onInput }\n\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\tsettings={ blockEditorSettings }\n\t\t\t\t\t\t\tuseSubRegistry={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t\t{ ! settings.isPreviewMode && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<PatternsMenuItems />\n\t\t\t\t\t\t\t\t\t<TemplatePartMenuItems />\n\t\t\t\t\t\t\t\t\t{ mode === 'template-locked' && (\n\t\t\t\t\t\t\t\t\t\t<DisableNonPageContentBlocks />\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ type === 'wp_navigation' && (\n\t\t\t\t\t\t\t\t\t\t<NavigationBlockEditingMode />\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t<EditorKeyboardShortcuts />\n\t\t\t\t\t\t\t\t\t<KeyboardShortcutHelpModal />\n\t\t\t\t\t\t\t\t\t<BlockRemovalWarnings />\n\t\t\t\t\t\t\t\t\t<StartPageOptions />\n\t\t\t\t\t\t\t\t\t<StartTemplateOptions />\n\t\t\t\t\t\t\t\t\t<PatternRenameModal />\n\t\t\t\t\t\t\t\t\t<PatternDuplicateModal />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</BlockEditorProviderComponent>\n\t\t\t\t\t</BlockContextProvider>\n\t\t\t\t</EntityProvider>\n\t\t\t</EntityProvider>\n\t\t);\n\t}\n);\n\n/**\n * This component establishes a new post editing context, and serves as the entry point for a new post editor (or post with template editor).\n *\n * It supports a large number of post types, including post, page, templates,\n * custom post types, patterns, template parts.\n *\n * All modification and changes are performed to the `@wordpress/core-data` store.\n *\n * @param {Object}          props                      The component props.\n * @param {Object}          [props.post]               The post object to edit. This is required.\n * @param {Object}          [props.__unstableTemplate] The template object wrapper the edited post.\n *                                                     This is optional and can only be used when the post type supports templates (like posts and pages).\n * @param {Object}          [props.settings]           The settings object to use for the editor.\n *                                                     This is optional and can be used to override the default settings.\n * @param {React.ReactNode} [props.children]           Children elements for which the BlockEditorProvider context should apply.\n *                                                     This is optional.\n *\n * @example\n * ```jsx\n * <EditorProvider\n *   post={ post }\n *   settings={ settings }\n *   __unstableTemplate={ template }\n * >\n *   { children }\n * </EditorProvider>\n * ```\n *\n * @return {React.ReactNode} The rendered EditorProvider component.\n */\nexport function EditorProvider( props ) {\n\treturn (\n\t\t<ExperimentalEditorProvider\n\t\t\t{ ...props }\n\t\t\tBlockEditorProviderComponent={ BlockEditorProvider }\n\t\t>\n\t\t\t{ props.children }\n\t\t</ExperimentalEditorProvider>\n\t);\n}\n\nexport default EditorProvider;\n", "/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { useRegistry, createRegistry, RegistryProvider } from '@wordpress/data';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { storeConfig as blockEditorStoreConfig } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { storeConfig } from '../../store';\n\nfunction getSubRegistry( subRegistries, registry, useSubRegistry ) {\n\tif ( ! useSubRegistry ) {\n\t\treturn registry;\n\t}\n\tlet subRegistry = subRegistries.get( registry );\n\tif ( ! subRegistry ) {\n\t\tsubRegistry = createRegistry(\n\t\t\t{\n\t\t\t\t'core/block-editor': blockEditorStoreConfig,\n\t\t\t},\n\t\t\tregistry\n\t\t);\n\t\t// Todo: The interface store should also be created per instance.\n\t\tsubRegistry.registerStore( 'core/editor', storeConfig );\n\t\tsubRegistries.set( registry, subRegistry );\n\t}\n\treturn subRegistry;\n}\n\nconst withRegistryProvider = createHigherOrderComponent(\n\t( WrappedComponent ) =>\n\t\t( { useSubRegistry = true, ...props } ) => {\n\t\t\tconst registry = useRegistry();\n\t\t\tconst [ subRegistries ] = useState( () => new WeakMap() );\n\t\t\tconst subRegistry = getSubRegistry(\n\t\t\t\tsubRegistries,\n\t\t\t\tregistry,\n\t\t\t\tuseSubRegistry\n\t\t\t);\n\n\t\t\tif ( subRegistry === registry ) {\n\t\t\t\treturn <WrappedComponent registry={ registry } { ...props } />;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<RegistryProvider value={ subRegistry }>\n\t\t\t\t\t<WrappedComponent registry={ subRegistry } { ...props } />\n\t\t\t\t</RegistryProvider>\n\t\t\t);\n\t\t},\n\t'withRegistryProvider'\n);\n\nexport default withRegistryProvider;\n", "/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tstore as coreStore,\n\t__experimentalFetchLinkSuggestions as fetchLinkSuggestions,\n\t__experimentalFetchUrlData as fetchUrlData,\n\tprivateApis as coreDataPrivateApis,\n} from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { store as blocksStore } from '@wordpress/blocks';\nimport {\n\tprivateApis,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport inserterMediaCategories from '../media-categories';\nimport { mediaUpload } from '../../utils';\nimport { default as mediaSideload } from '../../utils/media-sideload';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport { useGlobalStylesContext } from '../global-styles-provider';\n\nconst EMPTY_OBJECT = {};\n\nfunction __experimentalReusableBlocksSelect( select ) {\n\tconst { RECEIVE_INTERMEDIATE_RESULTS } = unlock( coreDataPrivateApis );\n\tconst { getEntityRecords } = select( coreStore );\n\treturn getEntityRecords( 'postType', 'wp_block', {\n\t\tper_page: -1,\n\t\t[ RECEIVE_INTERMEDIATE_RESULTS ]: true,\n\t} );\n}\n\nconst BLOCK_EDITOR_SETTINGS = [\n\t'__experimentalBlockBindingsSupportedAttributes',\n\t'__experimentalBlockDirectory',\n\t'__experimentalDiscussionSettings',\n\t'__experimentalFeatures',\n\t'__experimentalGlobalStylesBaseStyles',\n\t'alignWide',\n\t'blockInspectorTabs',\n\t'maxUploadFileSize',\n\t'allowedMimeTypes',\n\t'bodyPlaceholder',\n\t'canEditCSS',\n\t'canLockBlocks',\n\t'canUpdateBlockBindings',\n\t'capabilities',\n\t'clearBlockSelection',\n\t'codeEditingEnabled',\n\t'colors',\n\t'disableCustomColors',\n\t'disableCustomFontSizes',\n\t'disableCustomSpacingSizes',\n\t'disableCustomGradients',\n\t'disableLayoutStyles',\n\t'enableCustomLineHeight',\n\t'enableCustomSpacing',\n\t'enableCustomUnits',\n\t'enableOpenverseMediaCategory',\n\t'fontSizes',\n\t'gradients',\n\t'generateAnchors',\n\t'onNavigateToEntityRecord',\n\t'imageDefaultSize',\n\t'imageDimensions',\n\t'imageEditing',\n\t'imageSizes',\n\t'isPreviewMode',\n\t'isRTL',\n\t'locale',\n\t'maxWidth',\n\t'postContentAttributes',\n\t'postsPerPage',\n\t'readOnly',\n\t'styles',\n\t'titlePlaceholder',\n\t'supportsLayout',\n\t'widgetTypesToHideFromLegacyWidgetBlock',\n\t'__unstableHasCustomAppender',\n\t'__unstableResolvedAssets',\n\t'__unstableIsBlockBasedTheme',\n];\n\nconst {\n\tglobalStylesDataKey,\n\tglobalStylesLinksDataKey,\n\tselectBlockPatternsKey,\n\treusableBlocksSelectKey,\n\tsectionRootClientIdKey,\n\tmediaEditKey,\n\tgetMediaSelectKey,\n\tisIsolatedEditorKey,\n\tdeviceTypeKey,\n} = unlock( privateApis );\n\n/**\n * React hook used to compute the block editor settings to use for the post editor.\n *\n * @param {Object} settings      EditorProvider settings prop.\n * @param {string} postType      Editor root level post type.\n * @param {string} postId        Editor root level post ID.\n * @param {string} renderingMode Editor rendering mode.\n *\n * @return {Object} Block Editor Settings.\n */\nfunction useBlockEditorSettings( settings, postType, postId, renderingMode ) {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst {\n\t\tallowRightClickOverrides,\n\t\tblockTypes,\n\t\tfocusMode,\n\t\thasFixedToolbar,\n\t\tisDistractionFree,\n\t\tkeepCaretInsideBlock,\n\t\thasUploadPermissions,\n\t\thiddenBlockTypes,\n\t\tcanUseUnfilteredHTML,\n\t\tuserCanCreatePages,\n\t\tpageOnFront,\n\t\tpageForPosts,\n\t\tuserPatternCategories,\n\t\trestBlockPatternCategories,\n\t\tsectionRootClientId,\n\t\tdeviceType,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tcanUser,\n\t\t\t\tgetRawEntityRecord,\n\t\t\t\tgetEntityRecord,\n\t\t\t\tgetUserPatternCategories,\n\t\t\t\tgetBlockPatternCategories,\n\t\t\t} = select( coreStore );\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\tconst { getBlockTypes } = select( blocksStore );\n\t\t\tconst { getDeviceType } = unlock( select( editorStore ) );\n\t\t\tconst { getBlocksByName, getBlockAttributes } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\n\t\t\tfunction getSectionRootBlock() {\n\t\t\t\tif ( renderingMode === 'template-locked' ) {\n\t\t\t\t\treturn getBlocksByName( 'core/post-content' )?.[ 0 ] ?? '';\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\tgetBlocksByName( 'core/group' ).find(\n\t\t\t\t\t\t( clientId ) =>\n\t\t\t\t\t\t\tgetBlockAttributes( clientId )?.tagName === 'main'\n\t\t\t\t\t) ?? ''\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tallowRightClickOverrides: get(\n\t\t\t\t\t'core',\n\t\t\t\t\t'allowRightClickOverrides'\n\t\t\t\t),\n\t\t\t\tblockTypes: getBlockTypes(),\n\t\t\t\tcanUseUnfilteredHTML: getRawEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId\n\t\t\t\t)?._links?.hasOwnProperty( 'wp:action-unfiltered-html' ),\n\t\t\t\tfocusMode: get( 'core', 'focusMode' ),\n\t\t\t\thasFixedToolbar:\n\t\t\t\t\tget( 'core', 'fixedToolbar' ) || ! isLargeViewport,\n\t\t\t\thiddenBlockTypes: get( 'core', 'hiddenBlockTypes' ),\n\t\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\t\tkeepCaretInsideBlock: get( 'core', 'keepCaretInsideBlock' ),\n\t\t\t\thasUploadPermissions:\n\t\t\t\t\tcanUser( 'create', {\n\t\t\t\t\t\tkind: 'postType',\n\t\t\t\t\t\tname: 'attachment',\n\t\t\t\t\t} ) ?? true,\n\t\t\t\tuserCanCreatePages: canUser( 'create', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: 'page',\n\t\t\t\t} ),\n\t\t\t\tpageOnFront: siteSettings?.page_on_front,\n\t\t\t\tpageForPosts: siteSettings?.page_for_posts,\n\t\t\t\tuserPatternCategories: getUserPatternCategories(),\n\t\t\t\trestBlockPatternCategories: getBlockPatternCategories(),\n\t\t\t\tsectionRootClientId: getSectionRootBlock(),\n\t\t\t\tdeviceType: getDeviceType(),\n\t\t\t};\n\t\t},\n\t\t[ postType, postId, isLargeViewport, renderingMode ]\n\t);\n\n\tconst { merged: mergedGlobalStyles } = useGlobalStylesContext();\n\tconst globalStylesData = mergedGlobalStyles.styles ?? EMPTY_OBJECT;\n\tconst globalStylesLinksData = mergedGlobalStyles._links ?? EMPTY_OBJECT;\n\n\tconst settingsBlockPatterns =\n\t\tsettings.__experimentalAdditionalBlockPatterns ?? // WP 6.0\n\t\tsettings.__experimentalBlockPatterns; // WP 5.9\n\tconst settingsBlockPatternCategories =\n\t\tsettings.__experimentalAdditionalBlockPatternCategories ?? // WP 6.0\n\t\tsettings.__experimentalBlockPatternCategories; // WP 5.9\n\n\tconst blockPatterns = useMemo(\n\t\t() =>\n\t\t\t[ ...( settingsBlockPatterns || [] ) ].filter(\n\t\t\t\t( { postTypes } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t! postTypes ||\n\t\t\t\t\t\t( Array.isArray( postTypes ) &&\n\t\t\t\t\t\t\tpostTypes.includes( postType ) )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t),\n\t\t[ settingsBlockPatterns, postType ]\n\t);\n\n\tconst blockPatternCategories = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t...( settingsBlockPatternCategories || [] ),\n\t\t\t\t...( restBlockPatternCategories || [] ),\n\t\t\t].filter(\n\t\t\t\t( x, index, arr ) =>\n\t\t\t\t\tindex === arr.findIndex( ( y ) => x.name === y.name )\n\t\t\t),\n\t\t[ settingsBlockPatternCategories, restBlockPatternCategories ]\n\t);\n\n\tconst { undo, setIsInserterOpened } = useDispatch( editorStore );\n\tconst { editMediaEntity } = unlock( useDispatch( coreStore ) );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\n\t/**\n\t * Creates a Post entity.\n\t * This is utilised by the Link UI to allow for on-the-fly creation of Posts/Pages.\n\t *\n\t * @param {Object} options parameters for the post being created. These mirror those used on 3rd param of saveEntityRecord.\n\t * @return {Object} the post type object that was created.\n\t */\n\tconst createPageEntity = useCallback(\n\t\t( options ) => {\n\t\t\tif ( ! userCanCreatePages ) {\n\t\t\t\treturn Promise.reject( {\n\t\t\t\t\tmessage: __(\n\t\t\t\t\t\t'You do not have permission to create Pages.'\n\t\t\t\t\t),\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn saveEntityRecord( 'postType', 'page', options );\n\t\t},\n\t\t[ saveEntityRecord, userCanCreatePages ]\n\t);\n\n\tconst { getSelectedBlockClientId } = useSelect( blockEditorStore );\n\n\t/**\n\t * Wraps onNavigateToEntityRecord to automatically include the currently selected block.\n\t * This ensures that navigation can restore the selection when returning to the previous entity.\n\t */\n\tconst wrappedOnNavigateToEntityRecord = useCallback(\n\t\t( params ) => {\n\t\t\tif ( ! settings.onNavigateToEntityRecord ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\n\t\t\treturn settings.onNavigateToEntityRecord( {\n\t\t\t\t...params,\n\t\t\t\tselectedBlockClientId,\n\t\t\t} );\n\t\t},\n\t\t[ settings, getSelectedBlockClientId ]\n\t);\n\n\tconst allowedBlockTypes = useMemo( () => {\n\t\t// Omit hidden block types if exists and non-empty.\n\t\tif ( hiddenBlockTypes && hiddenBlockTypes.length > 0 ) {\n\t\t\t// Defer to passed setting for `allowedBlockTypes` if provided as\n\t\t\t// anything other than `true` (where `true` is equivalent to allow\n\t\t\t// all block types).\n\t\t\tconst defaultAllowedBlockTypes =\n\t\t\t\ttrue === settings.allowedBlockTypes\n\t\t\t\t\t? blockTypes.map( ( { name } ) => name )\n\t\t\t\t\t: settings.allowedBlockTypes || [];\n\n\t\t\treturn defaultAllowedBlockTypes.filter(\n\t\t\t\t( type ) => ! hiddenBlockTypes.includes( type )\n\t\t\t);\n\t\t}\n\n\t\treturn settings.allowedBlockTypes;\n\t}, [ settings.allowedBlockTypes, hiddenBlockTypes, blockTypes ] );\n\n\tconst forceDisableFocusMode = settings.focusMode === false;\n\n\treturn useMemo( () => {\n\t\tconst blockEditorSettings = {\n\t\t\t...Object.fromEntries(\n\t\t\t\tObject.entries( settings )\n\t\t\t\t\t.filter( ( [ key ] ) =>\n\t\t\t\t\t\tBLOCK_EDITOR_SETTINGS.includes( key )\n\t\t\t\t\t)\n\t\t\t\t\t// Exclude onNavigateToEntityRecord since we're wrapping it\n\t\t\t\t\t.filter( ( [ key ] ) => key !== 'onNavigateToEntityRecord' )\n\t\t\t),\n\t\t\t[ globalStylesDataKey ]: globalStylesData,\n\t\t\t[ globalStylesLinksDataKey ]: globalStylesLinksData,\n\t\t\tallowedBlockTypes,\n\t\t\tallowRightClickOverrides,\n\t\t\tfocusMode: focusMode && ! forceDisableFocusMode,\n\t\t\thasFixedToolbar,\n\t\t\tisDistractionFree,\n\t\t\tkeepCaretInsideBlock,\n\t\t\tonNavigateToEntityRecord: settings.onNavigateToEntityRecord\n\t\t\t\t? wrappedOnNavigateToEntityRecord\n\t\t\t\t: undefined,\n\t\t\t[ getMediaSelectKey ]: ( select, attachmentId ) => {\n\t\t\t\treturn select( coreStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'attachment',\n\t\t\t\t\tattachmentId\n\t\t\t\t);\n\t\t\t},\n\t\t\t[ mediaEditKey ]: hasUploadPermissions\n\t\t\t\t? editMediaEntity\n\t\t\t\t: undefined,\n\t\t\tmediaUpload: hasUploadPermissions ? mediaUpload : undefined,\n\t\t\tmediaSideload: hasUploadPermissions ? mediaSideload : undefined,\n\t\t\t__experimentalBlockPatterns: blockPatterns,\n\t\t\t[ selectBlockPatternsKey ]: ( select ) => {\n\t\t\t\tconst { hasFinishedResolution, getBlockPatternsForPostType } =\n\t\t\t\t\tunlock( select( coreStore ) );\n\t\t\t\tconst patterns = getBlockPatternsForPostType( postType );\n\t\t\t\treturn hasFinishedResolution( 'getBlockPatterns' )\n\t\t\t\t\t? patterns\n\t\t\t\t\t: undefined;\n\t\t\t},\n\t\t\t[ reusableBlocksSelectKey ]: __experimentalReusableBlocksSelect,\n\t\t\t__experimentalBlockPatternCategories: blockPatternCategories,\n\t\t\t__experimentalUserPatternCategories: userPatternCategories,\n\t\t\t__experimentalFetchLinkSuggestions: ( search, searchOptions ) =>\n\t\t\t\tfetchLinkSuggestions( search, searchOptions, settings ),\n\t\t\tinserterMediaCategories,\n\t\t\t__experimentalFetchRichUrlData: fetchUrlData,\n\t\t\t// Todo: This only checks the top level post, not the post within a template or any other entity that can be edited.\n\t\t\t// This might be better as a generic \"canUser\" selector.\n\t\t\t__experimentalCanUserUseUnfilteredHTML: canUseUnfilteredHTML,\n\t\t\t//Todo: this is only needed for native and should probably be removed.\n\t\t\t__experimentalUndo: undo,\n\t\t\t// Check whether we want all site editor frames to have outlines\n\t\t\t// including the navigation / pattern / parts editors.\n\t\t\toutlineMode: ! isDistractionFree && postType === 'wp_template',\n\t\t\t// Check these two properties: they were not present in the site editor.\n\t\t\t__experimentalCreatePageEntity: createPageEntity,\n\t\t\t__experimentalUserCanCreatePages: userCanCreatePages,\n\t\t\tpageOnFront,\n\t\t\tpageForPosts,\n\t\t\t__experimentalPreferPatternsOnRoot: postType === 'wp_template',\n\t\t\ttemplateLock:\n\t\t\t\tpostType === 'wp_navigation' ? 'insert' : settings.templateLock,\n\t\t\ttemplate:\n\t\t\t\tpostType === 'wp_navigation'\n\t\t\t\t\t? [ [ 'core/navigation', {}, [] ] ]\n\t\t\t\t\t: settings.template,\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpened,\n\t\t\t[ sectionRootClientIdKey ]: sectionRootClientId,\n\t\t\teditorTool:\n\t\t\t\trenderingMode === 'post-only' && postType !== 'wp_template'\n\t\t\t\t\t? 'edit'\n\t\t\t\t\t: undefined,\n\t\t\t// When editing template parts, patterns, or navigation directly,\n\t\t\t// we're in an isolated editing context (focused on that entity alone).\n\t\t\t[ isIsolatedEditorKey ]: [\n\t\t\t\t'wp_template_part',\n\t\t\t\t'wp_block',\n\t\t\t\t'wp_navigation',\n\t\t\t].includes( postType ),\n\t\t\t...( deviceType ? { [ deviceTypeKey ]: deviceType } : {} ),\n\t\t};\n\n\t\treturn blockEditorSettings;\n\t}, [\n\t\tallowedBlockTypes,\n\t\tallowRightClickOverrides,\n\t\tfocusMode,\n\t\tforceDisableFocusMode,\n\t\thasFixedToolbar,\n\t\tisDistractionFree,\n\t\tkeepCaretInsideBlock,\n\t\tsettings,\n\t\thasUploadPermissions,\n\t\tuserPatternCategories,\n\t\tblockPatterns,\n\t\tblockPatternCategories,\n\t\tcanUseUnfilteredHTML,\n\t\tundo,\n\t\tcreatePageEntity,\n\t\tuserCanCreatePages,\n\t\tpageOnFront,\n\t\tpageForPosts,\n\t\tpostType,\n\t\tsetIsInserterOpened,\n\t\tsectionRootClientId,\n\t\tglobalStylesData,\n\t\tglobalStylesLinksData,\n\t\trenderingMode,\n\t\teditMediaEntity,\n\t\twrappedOnNavigateToEntityRecord,\n\t\tdeviceType,\n\t] );\n}\n\nexport default useBlockEditorSettings;\n", "/**\n * The `editor` settings here need to be in sync with the corresponding ones in `editor` package.\n * See `packages/editor/src/components/media-categories/index.js`.\n *\n * In the future we could consider creating an Openvese package that can be used in both `editor` and `site-editor`.\n * The rest of the settings would still need to be in sync though.\n */\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf, _x } from '@wordpress/i18n';\nimport { resolveSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\n\n/** @typedef {import('@wordpress/block-editor').InserterMediaRequest} InserterMediaRequest */\n/** @typedef {import('@wordpress/block-editor').InserterMediaItem} InserterMediaItem */\n/** @typedef {import('@wordpress/block-editor').InserterMediaCategory} InserterMediaCategory */\n\nconst getExternalLink = ( url, text ) =>\n\t`<a ${ getExternalLinkAttributes( url ) }>${ text }</a>`;\n\nconst getExternalLinkAttributes = ( url ) =>\n\t`href=\"${ url }\" target=\"_blank\" rel=\"noreferrer noopener\"`;\n\nconst getOpenverseLicense = ( license, licenseVersion ) => {\n\tlet licenseName = license.trim();\n\t// PDM has no abbreviation\n\tif ( license !== 'pdm' ) {\n\t\tlicenseName = license.toUpperCase().replace( 'SAMPLING', 'Sampling' );\n\t}\n\t// If version is known, append version to the name.\n\t// The license has to have a version to be valid. Only\n\t// PDM (public domain mark) doesn't have a version.\n\tif ( licenseVersion ) {\n\t\tlicenseName += ` ${ licenseVersion }`;\n\t}\n\t// For licenses other than public-domain marks, prepend 'CC' to the name.\n\tif ( ! [ 'pdm', 'cc0' ].includes( license ) ) {\n\t\tlicenseName = `CC ${ licenseName }`;\n\t}\n\treturn licenseName;\n};\n\nconst getOpenverseCaption = ( item ) => {\n\tconst {\n\t\ttitle,\n\t\tforeign_landing_url: foreignLandingUrl,\n\t\tcreator,\n\t\tcreator_url: creatorUrl,\n\t\tlicense,\n\t\tlicense_version: licenseVersion,\n\t\tlicense_url: licenseUrl,\n\t} = item;\n\tconst fullLicense = getOpenverseLicense( license, licenseVersion );\n\tconst _creator = decodeEntities( creator );\n\tlet _caption;\n\tif ( _creator ) {\n\t\t_caption = title\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %1s: Title of a media work from Openverse; %2$s: Name of the work's creator; %3s: Work's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '\"%1$s\" by %2$s/ %3$s', 'caption' ),\n\t\t\t\t\tgetExternalLink(\n\t\t\t\t\t\tforeignLandingUrl,\n\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t),\n\t\t\t\t\tcreatorUrl\n\t\t\t\t\t\t? getExternalLink( creatorUrl, _creator )\n\t\t\t\t\t\t: _creator,\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %1s: Link attributes for a given Openverse media work; %2s: Name of the work's creator; %3s: Works's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '<a %1$s>Work</a> by %2$s/ %3$s', 'caption' ),\n\t\t\t\t\tgetExternalLinkAttributes( foreignLandingUrl ),\n\t\t\t\t\tcreatorUrl\n\t\t\t\t\t\t? getExternalLink( creatorUrl, _creator )\n\t\t\t\t\t\t: _creator,\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  );\n\t} else {\n\t\t_caption = title\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %1s: Title of a media work from Openverse; %2s: Work's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '\"%1$s\"/ %2$s', 'caption' ),\n\t\t\t\t\tgetExternalLink(\n\t\t\t\t\t\tforeignLandingUrl,\n\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t),\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %1s: Link attributes for a given Openverse media work; %2s: Works's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '<a %1$s>Work</a>/ %2$s', 'caption' ),\n\t\t\t\t\tgetExternalLinkAttributes( foreignLandingUrl ),\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  );\n\t}\n\treturn _caption.replace( /\\s{2}/g, ' ' );\n};\n\nconst coreMediaFetch = async ( query = {} ) => {\n\tconst mediaItems = await resolveSelect( coreStore ).getEntityRecords(\n\t\t'postType',\n\t\t'attachment',\n\t\t{\n\t\t\t...query,\n\t\t\torderBy: !! query?.search ? 'relevance' : 'date',\n\t\t}\n\t);\n\treturn mediaItems.map( ( mediaItem ) => ( {\n\t\t...mediaItem,\n\t\talt: mediaItem.alt_text,\n\t\turl: mediaItem.source_url,\n\t\tpreviewUrl: mediaItem.media_details?.sizes?.medium?.source_url,\n\t\tcaption: mediaItem.caption?.raw,\n\t} ) );\n};\n\n/** @type {InserterMediaCategory[]} */\nconst inserterMediaCategories = [\n\t{\n\t\tname: 'images',\n\t\tlabels: {\n\t\t\tname: __( 'Images' ),\n\t\t\tsearch_items: __( 'Search images' ),\n\t\t},\n\t\tmediaType: 'image',\n\t\tasync fetch( query = {} ) {\n\t\t\treturn coreMediaFetch( { ...query, media_type: 'image' } );\n\t\t},\n\t},\n\t{\n\t\tname: 'videos',\n\t\tlabels: {\n\t\t\tname: __( 'Videos' ),\n\t\t\tsearch_items: __( 'Search videos' ),\n\t\t},\n\t\tmediaType: 'video',\n\t\tasync fetch( query = {} ) {\n\t\t\treturn coreMediaFetch( { ...query, media_type: 'video' } );\n\t\t},\n\t},\n\t{\n\t\tname: 'audio',\n\t\tlabels: {\n\t\t\tname: __( 'Audio' ),\n\t\t\tsearch_items: __( 'Search audio' ),\n\t\t},\n\t\tmediaType: 'audio',\n\t\tasync fetch( query = {} ) {\n\t\t\treturn coreMediaFetch( { ...query, media_type: 'audio' } );\n\t\t},\n\t},\n\t{\n\t\tname: 'openverse',\n\t\tlabels: {\n\t\t\tname: __( 'Openverse' ),\n\t\t\tsearch_items: __( 'Search Openverse' ),\n\t\t},\n\t\tmediaType: 'image',\n\t\tasync fetch( query = {} ) {\n\t\t\tconst defaultArgs = {\n\t\t\t\tmature: false,\n\t\t\t\texcluded_source: 'flickr,inaturalist,wikimedia',\n\t\t\t\tlicense: 'pdm,cc0',\n\t\t\t};\n\t\t\tconst finalQuery = { ...query, ...defaultArgs };\n\t\t\tconst mapFromInserterMediaRequest = {\n\t\t\t\tper_page: 'page_size',\n\t\t\t\tsearch: 'q',\n\t\t\t};\n\t\t\tconst url = new URL( 'https://api.openverse.org/v1/images/' );\n\t\t\tObject.entries( finalQuery ).forEach( ( [ key, value ] ) => {\n\t\t\t\tconst queryKey = mapFromInserterMediaRequest[ key ] || key;\n\t\t\t\turl.searchParams.set( queryKey, value );\n\t\t\t} );\n\t\t\tconst response = await window.fetch( url, {\n\t\t\t\theaders: {\n\t\t\t\t\t'User-Agent': 'WordPress/inserter-media-fetch',\n\t\t\t\t},\n\t\t\t} );\n\t\t\tconst jsonResponse = await response.json();\n\t\t\tconst results = jsonResponse.results;\n\t\t\treturn results.map( ( result ) => ( {\n\t\t\t\t...result,\n\t\t\t\t// This is a temp solution for better titles, until Openverse API\n\t\t\t\t// completes the cleaning up of some titles of their upstream data.\n\t\t\t\ttitle: result.title?.toLowerCase().startsWith( 'file:' )\n\t\t\t\t\t? result.title.slice( 5 )\n\t\t\t\t\t: result.title,\n\t\t\t\tsourceId: result.id,\n\t\t\t\tid: undefined,\n\t\t\t\tcaption: getOpenverseCaption( result ),\n\t\t\t\tpreviewUrl: result.thumbnail,\n\t\t\t} ) );\n\t\t},\n\t\tgetReportUrl: ( { sourceId } ) =>\n\t\t\t`https://wordpress.org/openverse/image/${ sourceId }/report/`,\n\t\tisExternalResource: true,\n\t},\n];\n\nexport default inserterMediaCategories;\n", "// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}", "import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;", "const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};", "import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;", "/**\n * External dependencies\n */\nimport { v4 as uuid } from 'uuid';\n\n/**\n * WordPress dependencies\n */\nimport { select, dispatch } from '@wordpress/data';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { uploadMedia } from '@wordpress/media-utils';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nconst noop = () => {};\n\n/**\n * Upload a media file when the file upload button is activated.\n * Wrapper around uploadMedia() that injects the current post ID.\n *\n * @param {Object}   $0                   Parameters object passed to the function.\n * @param {?Object}  $0.additionalData    Additional data to include in the request.\n * @param {string}   $0.allowedTypes      Array with the types of media that can be uploaded, if unset all types are allowed.\n * @param {Array}    $0.filesList         List of files.\n * @param {?number}  $0.maxUploadFileSize Maximum upload size in bytes allowed for the site.\n * @param {Function} $0.onError           Function called when an error happens.\n * @param {Function} $0.onFileChange      Function called each time a file or a temporary representation of the file is available.\n * @param {Function} $0.onSuccess         Function called after the final representation of the file is available.\n * @param {boolean}  $0.multiple          Whether to allow multiple files to be uploaded.\n */\nexport default function mediaUpload( {\n\tadditionalData = {},\n\tallowedTypes,\n\tfilesList,\n\tmaxUploadFileSize,\n\tonError = noop,\n\tonFileChange,\n\tonSuccess,\n\tmultiple = true,\n} ) {\n\tconst { receiveEntityRecords } = dispatch( coreDataStore );\n\tconst { getCurrentPost, getEditorSettings } = select( editorStore );\n\tconst {\n\t\tlockPostAutosaving,\n\t\tunlockPostAutosaving,\n\t\tlockPostSaving,\n\t\tunlockPostSaving,\n\t} = dispatch( editorStore );\n\n\tconst wpAllowedMimeTypes = getEditorSettings().allowedMimeTypes;\n\tconst lockKey = `image-upload-${ uuid() }`;\n\tlet imageIsUploading = false;\n\tmaxUploadFileSize =\n\t\tmaxUploadFileSize || getEditorSettings().maxUploadFileSize;\n\tconst currentPost = getCurrentPost();\n\t// Templates and template parts' numerical ID is stored in `wp_id`.\n\tconst currentPostId =\n\t\ttypeof currentPost?.id === 'number'\n\t\t\t? currentPost.id\n\t\t\t: currentPost?.wp_id;\n\tconst setSaveLock = () => {\n\t\tlockPostSaving( lockKey );\n\t\tlockPostAutosaving( lockKey );\n\t\timageIsUploading = true;\n\t};\n\n\tconst postData = currentPostId ? { post: currentPostId } : {};\n\tconst clearSaveLock = () => {\n\t\tunlockPostSaving( lockKey );\n\t\tunlockPostAutosaving( lockKey );\n\t\timageIsUploading = false;\n\t};\n\n\tuploadMedia( {\n\t\tallowedTypes,\n\t\tfilesList,\n\t\tonFileChange: ( file ) => {\n\t\t\tif ( ! imageIsUploading ) {\n\t\t\t\tsetSaveLock();\n\t\t\t} else {\n\t\t\t\tclearSaveLock();\n\t\t\t}\n\t\t\tonFileChange?.( file );\n\n\t\t\t// Files are initially received by `onFileChange` as a blob.\n\t\t\t// After that the function is called a second time with the file as an entity.\n\t\t\t// For core-data, we only care about receiving/invalidating entities.\n\t\t\tconst entityFiles = file.filter( ( _file ) => _file?.id );\n\t\t\tif ( entityFiles?.length ) {\n\t\t\t\tconst invalidateCache = true;\n\t\t\t\treceiveEntityRecords(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'attachment',\n\t\t\t\t\tentityFiles,\n\t\t\t\t\tundefined,\n\t\t\t\t\tinvalidateCache\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tonSuccess,\n\t\tadditionalData: {\n\t\t\t...postData,\n\t\t\t...additionalData,\n\t\t},\n\t\tmaxUploadFileSize,\n\t\tonError: ( { message } ) => {\n\t\t\tclearSaveLock();\n\t\t\tonError( message );\n\t\t},\n\t\twpAllowedMimeTypes,\n\t\tmultiple,\n\t} );\n}\n", "/**\n * WordPress dependencies\n */\nimport { cleanForSlug as urlCleanForSlug } from '@wordpress/url';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Performs some basic cleanup of a string for use as a post slug\n *\n * This replicates some of what sanitize_title() does in WordPress core, but\n * is only designed to approximate what the slug will be.\n *\n * Converts Latin-1 Supplement and Latin Extended-A letters to basic Latin letters.\n * Removes combining diacritical marks. Converts whitespace, periods,\n * and forward slashes to hyphens. Removes any remaining non-word characters\n * except hyphens and underscores. Converts remaining string to lowercase.\n * It does not account for octets, HTML entities, or other encoded characters.\n *\n * @param {string} string Title or slug to be processed\n *\n * @return {string} Processed string\n */\nexport function cleanForSlug( string ) {\n\tdeprecated( 'wp.editor.cleanForSlug', {\n\t\tsince: '12.7',\n\t\tplugin: 'Gutenberg',\n\t\talternative: 'wp.url.cleanForSlug',\n\t} );\n\treturn urlCleanForSlug( string );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Default error messages for known error codes.\n */\nconst ERROR_CODE_DEFAULTS = {\n\t'too-many-connections': {\n\t\ttitle: __( 'Connection Limit Reached' ),\n\t\tdescription: __(\n\t\t\t'The collaborative editing server has reached its maximum connection capacity. ' +\n\t\t\t\t'Please try again later or contact your site administrator.'\n\t\t),\n\t},\n\t'auth-failed': {\n\t\ttitle: __( 'Authentication Failed' ),\n\t\tdescription: __(\n\t\t\t'Authentication with the collaborative editing server failed. ' +\n\t\t\t\t'Please verify that you have the necessary permissions.'\n\t\t),\n\t},\n\t'connection-expired': {\n\t\ttitle: __( 'Connection Expired' ),\n\t\tdescription: __(\n\t\t\t'The connection to the collaborative editing server has expired.'\n\t\t),\n\t},\n};\n\n/**\n * Get user-facing title and description from a sync connection error.\n *\n * Provides default messages based on error.code, which can be overridden\n * by error.message and error.description.\n *\n * @param {Object} error - Connection error object.\n * @return {Object} Object with title and description strings.\n */\nexport function getSyncErrorMessages( error ) {\n\t// Default messages for generic disconnection without specific error\n\tconst genericDisconnectMessages = {\n\t\ttitle: __( 'Disconnected' ),\n\t\tdescription: __(\n\t\t\t'You are currently disconnected from the collaborative editing server. ' +\n\t\t\t\t'Editing is temporarily disabled to prevent conflicts.'\n\t\t),\n\t};\n\n\tif ( ! error ) {\n\t\treturn genericDisconnectMessages;\n\t}\n\n\t// Look up defaults based on code\n\tconst defaults = ERROR_CODE_DEFAULTS[ error.code ];\n\n\t// Use explicit message/description if provided, otherwise fall back to defaults or generic messages\n\treturn {\n\t\ttitle:\n\t\t\terror.message || defaults?.title || genericDisconnectMessages.title,\n\t\tdescription:\n\t\t\terror.description ||\n\t\t\tdefaults?.description ||\n\t\t\tgenericDisconnectMessages.description,\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/media-utils';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { sideloadMedia: mediaSideload } = unlock( privateApis );\n\nexport default mediaSideload;\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { mergeGlobalStyles } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\n\nfunction useGlobalStylesUserConfig() {\n\tconst { globalStylesId, isReady, settings, styles, _links } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEntityRecord,\n\t\t\t\tgetEditedEntityRecord,\n\t\t\t\thasFinishedResolution,\n\t\t\t\tcanUser,\n\t\t\t} = select( coreStore );\n\t\t\tconst _globalStylesId =\n\t\t\t\tselect( coreStore ).__experimentalGetCurrentGlobalStylesId();\n\n\t\t\tlet record;\n\n\t\t\t/*\n\t\t\t * Ensure that the global styles ID request is complete by testing `_globalStylesId`,\n\t\t\t * before firing off the `canUser` OPTIONS request for user capabilities, otherwise it will\n\t\t\t * fetch `/wp/v2/global-styles` instead of `/wp/v2/global-styles/{id}`.\n\t\t\t * NOTE: Please keep in sync any preload paths sent to `block_editor_rest_api_preload()`,\n\t\t\t * or set using the `block_editor_rest_api_preload_paths` filter, if this changes.\n\t\t\t */\n\t\t\tconst userCanEditGlobalStyles = _globalStylesId\n\t\t\t\t? canUser( 'update', {\n\t\t\t\t\t\tkind: 'root',\n\t\t\t\t\t\tname: 'globalStyles',\n\t\t\t\t\t\tid: _globalStylesId,\n\t\t\t\t  } )\n\t\t\t\t: null;\n\n\t\t\tif (\n\t\t\t\t_globalStylesId &&\n\t\t\t\t/*\n\t\t\t\t * Test that the OPTIONS request for user capabilities is complete\n\t\t\t\t * before fetching the global styles entity record.\n\t\t\t\t * This is to avoid fetching the global styles entity unnecessarily.\n\t\t\t\t */\n\t\t\t\ttypeof userCanEditGlobalStyles === 'boolean'\n\t\t\t) {\n\t\t\t\t/*\n\t\t\t\t * Fetch the global styles entity record based on the user's capabilities.\n\t\t\t\t * The default context is `edit` for users who can edit global styles.\n\t\t\t\t * Otherwise, the context is `view`.\n\t\t\t\t * NOTE: There is an equivalent conditional check using `current_user_can()` in the backend\n\t\t\t\t * to preload the global styles entity. Please keep in sync any preload paths sent to `block_editor_rest_api_preload()`,\n\t\t\t\t * or set using `block_editor_rest_api_preload_paths` filter, if this changes.\n\t\t\t\t */\n\t\t\t\tif ( userCanEditGlobalStyles ) {\n\t\t\t\t\trecord = getEditedEntityRecord(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t_globalStylesId\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\trecord = getEntityRecord(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t\t{ context: 'view' }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet hasResolved = false;\n\t\t\tif (\n\t\t\t\thasFinishedResolution(\n\t\t\t\t\t'__experimentalGetCurrentGlobalStylesId'\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tif ( _globalStylesId ) {\n\t\t\t\t\thasResolved = userCanEditGlobalStyles\n\t\t\t\t\t\t? hasFinishedResolution( 'getEditedEntityRecord', [\n\t\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t\t  ] )\n\t\t\t\t\t\t: hasFinishedResolution( 'getEntityRecord', [\n\t\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t\t\t\t{ context: 'view' },\n\t\t\t\t\t\t  ] );\n\t\t\t\t} else {\n\t\t\t\t\thasResolved = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tglobalStylesId: _globalStylesId,\n\t\t\t\tisReady: hasResolved,\n\t\t\t\tsettings: record?.settings,\n\t\t\t\tstyles: record?.styles,\n\t\t\t\t_links: record?._links,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst config = useMemo( () => {\n\t\treturn {\n\t\t\tsettings: settings ?? {},\n\t\t\tstyles: styles ?? {},\n\t\t\t_links: _links ?? {},\n\t\t};\n\t}, [ settings, styles, _links ] );\n\n\tconst setConfig = useCallback(\n\t\t/**\n\t\t * Set the global styles config.\n\t\t * @param {Function|Object} callbackOrObject If the callbackOrObject is a function, pass the current config to the callback so the consumer can merge values.\n\t\t *                                           Otherwise, overwrite the current config with the incoming object.\n\t\t * @param {Object}          options          Options for editEntityRecord Core selector.\n\t\t */\n\t\t( callbackOrObject, options = {} ) => {\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId\n\t\t\t);\n\n\t\t\tconst currentConfig = {\n\t\t\t\tstyles: record?.styles ?? {},\n\t\t\t\tsettings: record?.settings ?? {},\n\t\t\t\t_links: record?._links ?? {},\n\t\t\t};\n\n\t\t\tconst updatedConfig =\n\t\t\t\ttypeof callbackOrObject === 'function'\n\t\t\t\t\t? callbackOrObject( currentConfig )\n\t\t\t\t\t: callbackOrObject;\n\n\t\t\teditEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId,\n\t\t\t\t{\n\t\t\t\t\tstyles: cleanEmptyObject( updatedConfig.styles ) || {},\n\t\t\t\t\tsettings: cleanEmptyObject( updatedConfig.settings ) || {},\n\t\t\t\t\t_links: cleanEmptyObject( updatedConfig._links ) || {},\n\t\t\t\t},\n\t\t\t\toptions\n\t\t\t);\n\t\t},\n\t\t[ globalStylesId, editEntityRecord, getEditedEntityRecord ]\n\t);\n\n\treturn [ isReady, config, setConfig ];\n}\n\nfunction useGlobalStylesBaseConfig() {\n\tconst baseConfig = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).__experimentalGetCurrentThemeBaseGlobalStyles(),\n\t\t[]\n\t);\n\treturn [ !! baseConfig, baseConfig ];\n}\n\nexport function useGlobalStylesContext() {\n\tconst [ isUserConfigReady, userConfig, setUserConfig ] =\n\t\tuseGlobalStylesUserConfig();\n\tconst [ isBaseConfigReady, baseConfig ] = useGlobalStylesBaseConfig();\n\n\tconst mergedConfig = useMemo( () => {\n\t\tif ( ! baseConfig || ! userConfig ) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn mergeGlobalStyles( baseConfig, userConfig );\n\t}, [ userConfig, baseConfig ] );\n\n\tconst context = useMemo( () => {\n\t\treturn {\n\t\t\tisReady: isUserConfigReady && isBaseConfigReady,\n\t\t\tuser: userConfig,\n\t\t\tbase: baseConfig,\n\t\t\tmerged: mergedConfig,\n\t\t\tsetUserConfig,\n\t\t};\n\t}, [\n\t\tmergedConfig,\n\t\tuserConfig,\n\t\tbaseConfig,\n\t\tsetUserConfig,\n\t\tisUserConfigReady,\n\t\tisBaseConfigReady,\n\t] );\n\n\treturn context;\n}\n", "/**\n * Immutably sets a value inside an object. Like `lodash#set`, but returning a\n * new object. Treats nullish initial values as empty objects. Clones any\n * nested objects. Supports arrays, too.\n *\n * @param object Object to set a value in.\n * @param path   Path in the object to modify.\n * @param value  New value to set.\n * @return Cloned object with the new value set.\n */\nexport function setImmutably(\n\tobject: Object,\n\tpath: string | number | ( string | number )[],\n\tvalue: any\n) {\n\t// Normalize path\n\tpath = Array.isArray( path ) ? [ ...path ] : [ path ];\n\n\t// Shallowly clone the base of the object\n\tobject = Array.isArray( object ) ? [ ...object ] : { ...object };\n\n\tconst leaf = path.pop();\n\n\t// Traverse object from root to leaf, shallowly cloning at each level\n\tlet prev = object;\n\tfor ( const key of path ) {\n\t\t// @ts-expect-error\n\t\tconst lvl = prev[ key ];\n\t\t// @ts-expect-error\n\t\tprev = prev[ key ] = Array.isArray( lvl ) ? [ ...lvl ] : { ...lvl };\n\t}\n\t// @ts-expect-error\n\tprev[ leaf ] = value;\n\n\treturn object;\n}\n\n/**\n * Helper util to return a value from a certain path of the object.\n *\n * Path is specified as either:\n * - a string of properties, separated by dots, for example: \"x.y\".\n * - an array of properties, for example `[ 'x', 'y' ]`.\n *\n * You can also specify a default value in case the result is nullish.\n *\n * @param object       Input object.\n * @param path         Path to the object property.\n * @param defaultValue Default value if the value at the specified path is nullish.\n * @return Value of the object property at the specified path.\n */\nexport const getValueFromObjectPath = (\n\tobject: Object,\n\tpath: string | string[],\n\tdefaultValue?: any\n) => {\n\tconst arrayPath = Array.isArray( path ) ? path : path.split( '.' );\n\tlet value = object;\n\tarrayPath.forEach( ( fieldName ) => {\n\t\t// @ts-expect-error\n\t\tvalue = value?.[ fieldName ];\n\t} );\n\treturn value ?? defaultValue;\n};\n", "/**\n * Internal dependencies\n */\nimport { getValueFromObjectPath, setImmutably } from '../utils/object';\nimport type { GlobalStylesConfig } from '../types';\n\nconst VALID_SETTINGS = [\n\t'appearanceTools',\n\t'useRootPaddingAwareAlignments',\n\t'background.backgroundImage',\n\t'background.backgroundRepeat',\n\t'background.backgroundSize',\n\t'background.backgroundPosition',\n\t'border.color',\n\t'border.radius',\n\t'border.radiusSizes',\n\t'border.style',\n\t'border.width',\n\t'shadow.presets',\n\t'shadow.defaultPresets',\n\t'color.background',\n\t'color.button',\n\t'color.caption',\n\t'color.custom',\n\t'color.customDuotone',\n\t'color.customGradient',\n\t'color.defaultDuotone',\n\t'color.defaultGradients',\n\t'color.defaultPalette',\n\t'color.duotone',\n\t'color.gradients',\n\t'color.heading',\n\t'color.link',\n\t'color.palette',\n\t'color.text',\n\t'custom',\n\t'dimensions.aspectRatio',\n\t'dimensions.height',\n\t'dimensions.minHeight',\n\t'dimensions.width',\n\t'dimensions.dimensionSizes',\n\t'layout.contentSize',\n\t'layout.definitions',\n\t'layout.wideSize',\n\t'lightbox.enabled',\n\t'lightbox.allowEditing',\n\t'position.fixed',\n\t'position.sticky',\n\t'spacing.customSpacingSize',\n\t'spacing.defaultSpacingSizes',\n\t'spacing.spacingSizes',\n\t'spacing.spacingScale',\n\t'spacing.blockGap',\n\t'spacing.margin',\n\t'spacing.padding',\n\t'spacing.units',\n\t'typography.fluid',\n\t'typography.customFontSize',\n\t'typography.defaultFontSizes',\n\t'typography.dropCap',\n\t'typography.fontFamilies',\n\t'typography.fontSizes',\n\t'typography.fontStyle',\n\t'typography.fontWeight',\n\t'typography.letterSpacing',\n\t'typography.lineHeight',\n\t'typography.textAlign',\n\t'typography.textColumns',\n\t'typography.textDecoration',\n\t'typography.textTransform',\n\t'typography.writingMode',\n];\n\nexport function getSetting< T = any >(\n\tglobalStyles: GlobalStylesConfig,\n\tpath: string,\n\tblockName?: string\n): T {\n\tconst appendedBlockPath = blockName ? '.blocks.' + blockName : '';\n\tconst appendedPropertyPath = path ? '.' + path : '';\n\tconst contextualPath = `settings${ appendedBlockPath }${ appendedPropertyPath }`;\n\tconst globalPath = `settings${ appendedPropertyPath }`;\n\n\tif ( path ) {\n\t\treturn ( getValueFromObjectPath( globalStyles, contextualPath ) ??\n\t\t\tgetValueFromObjectPath( globalStyles, globalPath ) ) as T;\n\t}\n\n\tlet result = {};\n\tVALID_SETTINGS.forEach( ( setting ) => {\n\t\tconst value =\n\t\t\tgetValueFromObjectPath(\n\t\t\t\tglobalStyles,\n\t\t\t\t`settings${ appendedBlockPath }.${ setting }`\n\t\t\t) ??\n\t\t\tgetValueFromObjectPath( globalStyles, `settings.${ setting }` );\n\t\tif ( value !== undefined ) {\n\t\t\tresult = setImmutably( result, setting.split( '.' ), value );\n\t\t}\n\t} );\n\treturn result as T;\n}\n", "/**\n * Internal dependencies\n */\nimport { setImmutably } from '../utils/object';\nimport type { GlobalStylesConfig } from '../types';\n\nexport function setSetting< T = any >(\n\tglobalStyles: GlobalStylesConfig,\n\tpath: string,\n\tnewValue: T | undefined,\n\tblockName?: string\n): GlobalStylesConfig {\n\tconst appendedBlockPath = blockName ? '.blocks.' + blockName : '';\n\tconst appendedPropertyPath = path ? '.' + path : '';\n\tconst finalPath = `settings${ appendedBlockPath }${ appendedPropertyPath }`;\n\n\treturn setImmutably(\n\t\tglobalStyles,\n\t\tfinalPath.split( '.' ),\n\t\tnewValue\n\t) as GlobalStylesConfig;\n}\n", "/**\n * WordPress dependencies\n */\nimport { getCSSValueFromRawStyle } from '@wordpress/style-engine';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tGlobalStylesSettings,\n\tThemeFileLink,\n\tTypographyPreset,\n\tUnresolvedValue,\n\tGlobalStylesConfig,\n} from '../types';\nimport { getTypographyFontSizeValue } from './typography';\nimport { getValueFromObjectPath } from './object';\n\nexport const ROOT_BLOCK_SELECTOR = 'body';\nexport const ROOT_CSS_PROPERTIES_SELECTOR = ':root';\n\nexport const PRESET_METADATA = [\n\t{\n\t\tpath: [ 'color', 'palette' ],\n\t\tvalueKey: 'color',\n\t\tcssVarInfix: 'color',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'color', propertyName: 'color' },\n\t\t\t{\n\t\t\t\tclassSuffix: 'background-color',\n\t\t\t\tpropertyName: 'background-color',\n\t\t\t},\n\t\t\t{\n\t\t\t\tclassSuffix: 'border-color',\n\t\t\t\tpropertyName: 'border-color',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'color', 'gradients' ],\n\t\tvalueKey: 'gradient',\n\t\tcssVarInfix: 'gradient',\n\t\tclasses: [\n\t\t\t{\n\t\t\t\tclassSuffix: 'gradient-background',\n\t\t\t\tpropertyName: 'background',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'color', 'duotone' ],\n\t\tvalueKey: 'colors',\n\t\tcssVarInfix: 'duotone',\n\t\tvalueFunc: ( { slug }: { slug: string } ) =>\n\t\t\t`url( '#wp-duotone-${ slug }' )`,\n\t\tclasses: [],\n\t},\n\t{\n\t\tpath: [ 'shadow', 'presets' ],\n\t\tvalueKey: 'shadow',\n\t\tcssVarInfix: 'shadow',\n\t\tclasses: [],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontSizes' ],\n\t\tvalueFunc: (\n\t\t\tpreset: TypographyPreset,\n\t\t\tsettings: GlobalStylesSettings\n\t\t) => getTypographyFontSizeValue( preset, settings ),\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'font-size',\n\t\tclasses: [ { classSuffix: 'font-size', propertyName: 'font-size' } ],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontFamilies' ],\n\t\tvalueKey: 'fontFamily',\n\t\tcssVarInfix: 'font-family',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'font-family', propertyName: 'font-family' },\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'spacing', 'spacingSizes' ],\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'spacing',\n\t\tvalueFunc: ( { size }: { size: string } ) => size,\n\t\tclasses: [],\n\t},\n\t{\n\t\tpath: [ 'border', 'radiusSizes' ],\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'border-radius',\n\t\tclasses: [],\n\t},\n\t{\n\t\tpath: [ 'dimensions', 'dimensionSizes' ],\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'dimension',\n\t\tclasses: [],\n\t},\n];\n\nexport const STYLE_PATH_TO_CSS_VAR_INFIX: Record< string, string > = {\n\t'color.background': 'color',\n\t'color.text': 'color',\n\t'filter.duotone': 'duotone',\n\t'elements.link.color.text': 'color',\n\t'elements.link.:hover.color.text': 'color',\n\t'elements.link.typography.fontFamily': 'font-family',\n\t'elements.link.typography.fontSize': 'font-size',\n\t'elements.button.color.text': 'color',\n\t'elements.button.color.background': 'color',\n\t'elements.caption.color.text': 'color',\n\t'elements.button.typography.fontFamily': 'font-family',\n\t'elements.button.typography.fontSize': 'font-size',\n\t'elements.heading.color': 'color',\n\t'elements.heading.color.background': 'color',\n\t'elements.heading.typography.fontFamily': 'font-family',\n\t'elements.heading.gradient': 'gradient',\n\t'elements.heading.color.gradient': 'gradient',\n\t'elements.h1.color': 'color',\n\t'elements.h1.color.background': 'color',\n\t'elements.h1.typography.fontFamily': 'font-family',\n\t'elements.h1.color.gradient': 'gradient',\n\t'elements.h2.color': 'color',\n\t'elements.h2.color.background': 'color',\n\t'elements.h2.typography.fontFamily': 'font-family',\n\t'elements.h2.color.gradient': 'gradient',\n\t'elements.h3.color': 'color',\n\t'elements.h3.color.background': 'color',\n\t'elements.h3.typography.fontFamily': 'font-family',\n\t'elements.h3.color.gradient': 'gradient',\n\t'elements.h4.color': 'color',\n\t'elements.h4.color.background': 'color',\n\t'elements.h4.typography.fontFamily': 'font-family',\n\t'elements.h4.color.gradient': 'gradient',\n\t'elements.h5.color': 'color',\n\t'elements.h5.color.background': 'color',\n\t'elements.h5.typography.fontFamily': 'font-family',\n\t'elements.h5.color.gradient': 'gradient',\n\t'elements.h6.color': 'color',\n\t'elements.h6.color.background': 'color',\n\t'elements.h6.typography.fontFamily': 'font-family',\n\t'elements.h6.color.gradient': 'gradient',\n\t'color.gradient': 'gradient',\n\tshadow: 'shadow',\n\t'typography.fontSize': 'font-size',\n\t'typography.fontFamily': 'font-family',\n};\n\n/**\n * Function that scopes a selector with another one. This works a bit like\n * SCSS nesting except the `&` operator isn't supported.\n *\n * @example\n * ```js\n * const scope = '.a, .b .c';\n * const selector = '> .x, .y';\n * const merged = scopeSelector( scope, selector );\n * // merged is '.a > .x, .a .y, .b .c > .x, .b .c .y'\n * ```\n *\n * @param scope    Selector to scope to.\n * @param selector Original selector.\n *\n * @return Scoped selector.\n */\nexport function scopeSelector( scope: string | undefined, selector: string ) {\n\tif ( ! scope || ! selector ) {\n\t\treturn selector;\n\t}\n\n\tconst scopes = scope.split( ',' );\n\tconst selectors = selector.split( ',' );\n\n\tconst selectorsScoped: string[] = [];\n\tscopes.forEach( ( outer ) => {\n\t\tselectors.forEach( ( inner ) => {\n\t\t\tselectorsScoped.push( `${ outer.trim() } ${ inner.trim() }` );\n\t\t} );\n\t} );\n\n\treturn selectorsScoped.join( ', ' );\n}\n\n/**\n * Scopes a collection of selectors for features and subfeatures.\n *\n * @example\n * ```js\n * const scope = '.custom-scope';\n * const selectors = {\n *     color: '.wp-my-block p',\n *     typography: { fontSize: '.wp-my-block caption' },\n * };\n * const result = scopeFeatureSelector( scope, selectors );\n * // result is {\n * //     color: '.custom-scope .wp-my-block p',\n * //     typography: { fonSize: '.custom-scope .wp-my-block caption' },\n * // }\n * ```\n *\n * @param scope     Selector to scope collection of selectors with.\n * @param selectors Collection of feature selectors e.g.\n *\n * @return Scoped collection of feature selectors.\n */\nexport function scopeFeatureSelectors(\n\tscope: string | undefined,\n\tselectors: string | Record< string, string | Record< string, string > >\n) {\n\tif ( ! scope || ! selectors ) {\n\t\treturn;\n\t}\n\n\tconst featureSelectors: Record<\n\t\tstring,\n\t\tstring | Record< string, string >\n\t> = {};\n\n\tObject.entries( selectors ).forEach( ( [ feature, selector ] ) => {\n\t\tif ( typeof selector === 'string' ) {\n\t\t\tfeatureSelectors[ feature ] = scopeSelector( scope, selector );\n\t\t}\n\n\t\tif ( typeof selector === 'object' ) {\n\t\t\tfeatureSelectors[ feature ] = {};\n\n\t\t\tObject.entries( selector ).forEach(\n\t\t\t\t( [ subfeature, subfeatureSelector ] ) => {\n\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\tfeatureSelectors[ feature ][ subfeature ] = scopeSelector(\n\t\t\t\t\t\tscope,\n\t\t\t\t\t\tsubfeatureSelector as string\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} );\n\n\treturn featureSelectors;\n}\n\n/**\n * Appends a sub-selector to an existing one.\n *\n * Given the compounded `selector` \"h1, h2, h3\"\n * and the `toAppend` selector \".some-class\" the result will be\n * \"h1.some-class, h2.some-class, h3.some-class\".\n *\n * @param selector Original selector.\n * @param toAppend Selector to append.\n *\n * @return The new selector.\n */\nexport function appendToSelector( selector: string, toAppend: string ) {\n\tif ( ! selector.includes( ',' ) ) {\n\t\treturn selector + toAppend;\n\t}\n\tconst selectors = selector.split( ',' );\n\tconst newSelectors = selectors.map( ( sel ) => sel + toAppend );\n\treturn newSelectors.join( ',' );\n}\n\n/**\n * Generates the selector for a block style variation by creating the\n * appropriate CSS class and adding it to the ancestor portion of the block's\n * selector.\n *\n * For example, take the Button block which has a compound selector:\n * `.wp-block-button .wp-block-button__link`. With a variation named 'custom',\n * the class `.is-style-custom` should be added to the `.wp-block-button`\n * ancestor only.\n *\n * This function will take into account comma separated and complex selectors.\n *\n * @param variation     Name for the variation.\n * @param blockSelector CSS selector for the block.\n *\n * @return CSS selector for the block style variation.\n */\nexport function getBlockStyleVariationSelector(\n\tvariation: string,\n\tblockSelector: string\n) {\n\tconst variationClass = `.is-style-${ variation }`;\n\n\tif ( ! blockSelector ) {\n\t\treturn variationClass;\n\t}\n\n\tconst ancestorRegex = /((?::\\([^)]+\\))?\\s*)([^\\s:]+)/;\n\tconst addVariationClass = (\n\t\t_match: string,\n\t\tgroup1: string,\n\t\tgroup2: string\n\t) => {\n\t\treturn group1 + group2 + variationClass;\n\t};\n\n\tconst result = blockSelector\n\t\t.split( ',' )\n\t\t.map( ( part ) => part.replace( ancestorRegex, addVariationClass ) );\n\n\treturn result.join( ',' );\n}\n\n/**\n * Resolves ref values in theme JSON.\n *\n * @param ruleValue A block style value that may contain a reference to a theme.json value.\n * @param tree      A theme.json object.\n * @return The resolved value or incoming ruleValue.\n */\nexport function getResolvedRefValue(\n\truleValue: UnresolvedValue,\n\ttree?: GlobalStylesConfig\n): UnresolvedValue {\n\tif ( ! ruleValue || ! tree ) {\n\t\treturn ruleValue;\n\t}\n\n\t/*\n\t * Where the rule value is an object with a 'ref' property pointing\n\t * to a path, this converts that path into the value at that path.\n\t * For example: { \"ref\": \"style.color.background\" } => \"#fff\".\n\t */\n\tif (\n\t\ttypeof ruleValue === 'object' &&\n\t\t'ref' in ruleValue &&\n\t\truleValue?.ref\n\t) {\n\t\tconst resolvedRuleValue = getCSSValueFromRawStyle(\n\t\t\tgetValueFromObjectPath( tree, ruleValue.ref )\n\t\t) as UnresolvedValue;\n\n\t\t/*\n\t\t * Presence of another ref indicates a reference to another dynamic value.\n\t\t * Pointing to another dynamic value is not supported.\n\t\t */\n\t\tif (\n\t\t\ttypeof resolvedRuleValue === 'object' &&\n\t\t\tresolvedRuleValue !== null &&\n\t\t\t'ref' in resolvedRuleValue &&\n\t\t\tresolvedRuleValue?.ref\n\t\t) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif ( resolvedRuleValue === undefined ) {\n\t\t\treturn ruleValue;\n\t\t}\n\n\t\treturn resolvedRuleValue;\n\t}\n\treturn ruleValue;\n}\n\n/**\n * Looks up a theme file URI based on a relative path.\n *\n * @param file          A relative path.\n * @param themeFileURIs A collection of absolute theme file URIs and their corresponding file paths.\n * @return A resolved theme file URI, if one is found in the themeFileURIs collection.\n */\nexport function getResolvedThemeFilePath(\n\tfile: string,\n\tthemeFileURIs?: ThemeFileLink[]\n) {\n\tif ( ! file || ! themeFileURIs || ! Array.isArray( themeFileURIs ) ) {\n\t\treturn file;\n\t}\n\n\tconst uri = themeFileURIs.find(\n\t\t( themeFileUri ) => themeFileUri?.name === file\n\t);\n\n\tif ( ! uri?.href ) {\n\t\treturn file;\n\t}\n\n\treturn uri?.href;\n}\n\n/**\n * Resolves ref and relative path values in theme JSON.\n *\n * @param ruleValue A block style value that may contain a reference to a theme.json value.\n * @param tree      A theme.json object.\n * @return The resolved value or incoming ruleValue.\n */\nexport function getResolvedValue(\n\truleValue: UnresolvedValue,\n\ttree: GlobalStylesConfig | undefined\n) {\n\tif ( ! ruleValue || ! tree ) {\n\t\treturn ruleValue;\n\t}\n\n\t// Resolve ref values.\n\tconst resolvedValue = getResolvedRefValue( ruleValue, tree );\n\n\t// Resolve relative paths.\n\tif (\n\t\ttypeof resolvedValue === 'object' &&\n\t\tresolvedValue !== null &&\n\t\t'url' in resolvedValue &&\n\t\tresolvedValue?.url\n\t) {\n\t\tresolvedValue.url = getResolvedThemeFilePath(\n\t\t\tresolvedValue.url,\n\t\t\ttree?._links?.[ 'wp:theme-file' ]\n\t\t);\n\t}\n\n\treturn resolvedValue;\n}\n\nfunction findInPresetsBy(\n\tsettings: GlobalStylesSettings,\n\tblockName?: string,\n\tpresetPath: string[] = [],\n\tpresetProperty: string = 'slug',\n\tpresetValueValue?: string\n) {\n\t// Block presets take priority above root level presets.\n\tconst orderedPresetsByOrigin = [\n\t\tblockName\n\t\t\t? getValueFromObjectPath( settings, [\n\t\t\t\t\t'blocks',\n\t\t\t\t\tblockName,\n\t\t\t\t\t...presetPath,\n\t\t\t  ] )\n\t\t\t: undefined,\n\t\tgetValueFromObjectPath( settings, presetPath ),\n\t].filter( Boolean );\n\n\tfor ( const presetByOrigin of orderedPresetsByOrigin ) {\n\t\tif ( presetByOrigin ) {\n\t\t\t// Preset origins ordered by priority.\n\t\t\tconst origins = [ 'custom', 'theme', 'default' ];\n\t\t\tfor ( const origin of origins ) {\n\t\t\t\t// @ts-expect-error\n\t\t\t\tconst presets = presetByOrigin[ origin ];\n\t\t\t\tif ( presets ) {\n\t\t\t\t\tconst presetObject = presets.find(\n\t\t\t\t\t\t( preset: any ) =>\n\t\t\t\t\t\t\tpreset[ presetProperty ] === presetValueValue\n\t\t\t\t\t);\n\t\t\t\t\tif ( presetObject ) {\n\t\t\t\t\t\tif ( presetProperty === 'slug' ) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If there is a highest priority preset with the same slug but different value the preset we found was overwritten and should be ignored.\n\t\t\t\t\t\tconst highestPresetObjectWithSameSlug = findInPresetsBy(\n\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\tblockName,\n\t\t\t\t\t\t\tpresetPath,\n\t\t\t\t\t\t\t'slug',\n\t\t\t\t\t\t\tpresetObject.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thighestPresetObjectWithSameSlug[\n\t\t\t\t\t\t\t\tpresetProperty\n\t\t\t\t\t\t\t] === presetObject[ presetProperty ]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction getValueFromPresetVariable(\n\tfeatures: GlobalStylesConfig,\n\tblockName?: string,\n\tvariable?: string,\n\t[ presetType, slug ]: string[] = []\n) {\n\tconst metadata = PRESET_METADATA.find(\n\t\t( data ) => data.cssVarInfix === presetType\n\t);\n\tif ( ! metadata || ! features.settings ) {\n\t\treturn variable;\n\t}\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures.settings,\n\t\tblockName,\n\t\tmetadata.path,\n\t\t'slug',\n\t\tslug\n\t);\n\n\tif ( presetObject ) {\n\t\tconst { valueKey } = metadata;\n\t\tconst result = presetObject[ valueKey ];\n\t\treturn getValueFromVariable( features, blockName, result );\n\t}\n\n\treturn variable;\n}\n\nfunction getValueFromCustomVariable(\n\tfeatures: GlobalStylesConfig,\n\tblockName?: string,\n\tvariable?: string,\n\tpath: string[] = []\n): string | undefined {\n\tconst result =\n\t\t( blockName\n\t\t\t? getValueFromObjectPath( features?.settings ?? {}, [\n\t\t\t\t\t'blocks',\n\t\t\t\t\tblockName,\n\t\t\t\t\t'custom',\n\t\t\t\t\t...path,\n\t\t\t  ] )\n\t\t\t: undefined ) ??\n\t\tgetValueFromObjectPath( features?.settings ?? {}, [\n\t\t\t'custom',\n\t\t\t...path,\n\t\t] );\n\tif ( ! result ) {\n\t\treturn variable;\n\t}\n\t// A variable may reference another variable so we need recursion until we find the value.\n\treturn getValueFromVariable( features, blockName, result as string );\n}\n\n/**\n * Attempts to fetch the value of a theme.json CSS variable.\n *\n * This function resolves CSS variable references in two formats:\n * - User format: `var:preset|color|red` or `var:custom|spacing|small`\n * - Theme format: `var(--wp--preset--color--red)` or `var(--wp--custom--spacing--small)`\n *\n * It also handles ref-style variables in the format `{ ref: \"path.to.value\" }`.\n *\n * @param features  GlobalStylesContext config (user, base, or merged). Represents the theme.json tree.\n * @param blockName The name of a block as represented in the styles property. E.g., 'root' for root-level, and 'core/block-name' for blocks.\n * @param variable  An incoming style value. A CSS var value is expected, but it could be any value.\n * @return The value of the CSS var, if found. If not found, returns the original variable argument.\n */\nexport function getValueFromVariable(\n\tfeatures: GlobalStylesConfig,\n\tblockName?: string,\n\tvariable?: string | UnresolvedValue\n): any {\n\tif ( ! variable || typeof variable !== 'string' ) {\n\t\tif (\n\t\t\ttypeof variable === 'object' &&\n\t\t\tvariable !== null &&\n\t\t\t'ref' in variable &&\n\t\t\ttypeof variable.ref === 'string'\n\t\t) {\n\t\t\tconst resolvedVariable = getValueFromObjectPath(\n\t\t\t\tfeatures,\n\t\t\t\tvariable.ref\n\t\t\t);\n\t\t\t// Presence of another ref indicates a reference to another dynamic value.\n\t\t\t// Pointing to another dynamic value is not supported.\n\t\t\tif (\n\t\t\t\t! resolvedVariable ||\n\t\t\t\t( typeof resolvedVariable === 'object' &&\n\t\t\t\t\t'ref' in resolvedVariable )\n\t\t\t) {\n\t\t\t\treturn resolvedVariable;\n\t\t\t}\n\t\t\tvariable = resolvedVariable as string;\n\t\t} else {\n\t\t\treturn variable;\n\t\t}\n\t}\n\tconst USER_VALUE_PREFIX = 'var:';\n\tconst THEME_VALUE_PREFIX = 'var(--wp--';\n\tconst THEME_VALUE_SUFFIX = ')';\n\n\tlet parsedVar;\n\n\tif ( variable.startsWith( USER_VALUE_PREFIX ) ) {\n\t\tparsedVar = variable.slice( USER_VALUE_PREFIX.length ).split( '|' );\n\t} else if (\n\t\tvariable.startsWith( THEME_VALUE_PREFIX ) &&\n\t\tvariable.endsWith( THEME_VALUE_SUFFIX )\n\t) {\n\t\tparsedVar = variable\n\t\t\t.slice( THEME_VALUE_PREFIX.length, -THEME_VALUE_SUFFIX.length )\n\t\t\t.split( '--' );\n\t} else {\n\t\t// We don't know how to parse the value: either is raw of uses complex CSS such as `calc(1px * var(--wp--variable) )`\n\t\treturn variable;\n\t}\n\n\tconst [ type, ...path ] = parsedVar;\n\tif ( type === 'preset' ) {\n\t\treturn getValueFromPresetVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\tif ( type === 'custom' ) {\n\t\treturn getValueFromCustomVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\treturn variable;\n}\n\n/**\n * Encodes a value to a preset variable format if it matches a preset.\n * This is the inverse operation of getValueFromVariable().\n *\n * @example\n * ```js\n * const presetVar = getPresetVariableFromValue(\n *     globalStyles.settings,\n *     'core/paragraph',\n *     'color.text',\n *     '#ff0000'\n * );\n * // If #ff0000 is the 'red' preset color, returns 'var:preset|color|red'\n * // Otherwise returns '#ff0000'\n * ```\n *\n * @param features            GlobalStylesContext settings object.\n * @param blockName           The name of a block (e.g., 'core/paragraph').\n * @param variableStylePath   The style path (e.g., 'color.text', 'typography.fontSize').\n * @param presetPropertyValue The value to encode (e.g., '#ff0000').\n * @return The preset variable if found, otherwise the original value.\n */\nexport function getPresetVariableFromValue(\n\tfeatures: GlobalStylesSettings,\n\tblockName: string | undefined,\n\tvariableStylePath: string,\n\tpresetPropertyValue: any\n): any {\n\tif ( ! presetPropertyValue ) {\n\t\treturn presetPropertyValue;\n\t}\n\n\tconst cssVarInfix = STYLE_PATH_TO_CSS_VAR_INFIX[ variableStylePath ];\n\n\tconst metadata = PRESET_METADATA.find(\n\t\t( data ) => data.cssVarInfix === cssVarInfix\n\t);\n\n\tif ( ! metadata ) {\n\t\t// The property doesn't have preset data\n\t\t// so the value should be returned as it is.\n\t\treturn presetPropertyValue;\n\t}\n\tconst { valueKey, path } = metadata;\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures,\n\t\tblockName,\n\t\tpath,\n\t\tvalueKey,\n\t\tpresetPropertyValue\n\t);\n\n\tif ( ! presetObject ) {\n\t\t// Value wasn't found in the presets,\n\t\t// so it must be a custom value.\n\t\treturn presetPropertyValue;\n\t}\n\n\treturn `var:preset|${ cssVarInfix }|${ presetObject.slug }`;\n}\n", "/**\n * The fluid utilities must match the backend equivalent.\n * See: gutenberg_get_typography_font_size_value() in lib/block-supports/typography.php\n * ---------------------------------------------------------------\n */\n\n// Defaults.\nconst DEFAULT_MAXIMUM_VIEWPORT_WIDTH = '1600px';\nconst DEFAULT_MINIMUM_VIEWPORT_WIDTH = '320px';\nconst DEFAULT_SCALE_FACTOR = 1;\nconst DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN = 0.25;\nconst DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX = 0.75;\nconst DEFAULT_MINIMUM_FONT_SIZE_LIMIT = '14px';\n\n/**\n * Computes a fluid font-size value that uses clamp(). A minimum and maximum\n * font size OR a single font size can be specified.\n *\n * If a single font size is specified, it is scaled up and down using a logarithmic scale.\n *\n * @example\n * ```js\n * // Calculate fluid font-size value from a minimum and maximum value.\n * const fontSize = getComputedFluidTypographyValue( {\n *     minimumFontSize: '20px',\n *     maximumFontSize: '45px'\n * } );\n * // Calculate fluid font-size value from a single font size.\n * const fontSize = getComputedFluidTypographyValue( {\n *     fontSize: '30px',\n * } );\n * ```\n *\n * @param {Object}        args\n * @param {?string}       args.minimumViewportWidth Minimum viewport size from which type will have fluidity. Optional if fontSize is specified.\n * @param {?string}       args.maximumViewportWidth Maximum size up to which type will have fluidity. Optional if fontSize is specified.\n * @param {string|number} [args.fontSize]           Size to derive maximumFontSize and minimumFontSize from, if necessary. Optional if minimumFontSize and maximumFontSize are specified.\n * @param {?string}       args.maximumFontSize      Maximum font size for any clamp() calculation. Optional.\n * @param {?string}       args.minimumFontSize      Minimum font size for any clamp() calculation. Optional.\n * @param {?number}       args.scaleFactor          A scale factor to determine how fast a font scales within boundaries. Optional.\n * @param {?string}       args.minimumFontSizeLimit The smallest a calculated font size may be. Optional.\n *\n * @return {string|null} A font-size value using clamp().\n */\nexport function getComputedFluidTypographyValue( {\n\tminimumFontSize,\n\tmaximumFontSize,\n\tfontSize,\n\tminimumViewportWidth = DEFAULT_MINIMUM_VIEWPORT_WIDTH,\n\tmaximumViewportWidth = DEFAULT_MAXIMUM_VIEWPORT_WIDTH,\n\tscaleFactor = DEFAULT_SCALE_FACTOR,\n\tminimumFontSizeLimit,\n}: {\n\tminimumFontSize?: string;\n\tmaximumFontSize?: string;\n\tfontSize?: string | number;\n\tminimumViewportWidth?: string;\n\tmaximumViewportWidth?: string;\n\tscaleFactor?: number;\n\tminimumFontSizeLimit?: string;\n} ) {\n\t// Validate incoming settings and set defaults.\n\tminimumFontSizeLimit = !! getTypographyValueAndUnit( minimumFontSizeLimit )\n\t\t? minimumFontSizeLimit\n\t\t: DEFAULT_MINIMUM_FONT_SIZE_LIMIT;\n\n\t/*\n\t * Calculates missing minimumFontSize and maximumFontSize from\n\t * defaultFontSize if provided.\n\t */\n\tif ( fontSize ) {\n\t\t// Parses default font size.\n\t\tconst fontSizeParsed = getTypographyValueAndUnit( fontSize );\n\n\t\t// Protect against invalid units.\n\t\tif ( ! fontSizeParsed?.unit || ! fontSizeParsed?.value ) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Parses the minimum font size limit, so we can perform checks using it.\n\t\tconst minimumFontSizeLimitParsed = getTypographyValueAndUnit(\n\t\t\tminimumFontSizeLimit,\n\t\t\t{\n\t\t\t\tcoerceTo: fontSizeParsed.unit,\n\t\t\t}\n\t\t);\n\n\t\t// Don't enforce minimum font size if a font size has explicitly set a min and max value.\n\t\tif (\n\t\t\t!! minimumFontSizeLimitParsed?.value &&\n\t\t\t! minimumFontSize &&\n\t\t\t! maximumFontSize\n\t\t) {\n\t\t\t/*\n\t\t\t * If a minimum size was not passed to this function\n\t\t\t * and the user-defined font size is lower than $minimum_font_size_limit,\n\t\t\t * do not calculate a fluid value.\n\t\t\t */\n\t\t\tif ( fontSizeParsed?.value <= minimumFontSizeLimitParsed?.value ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// If no fluid max font size is available use the incoming value.\n\t\tif ( ! maximumFontSize ) {\n\t\t\tmaximumFontSize = `${ fontSizeParsed.value }${ fontSizeParsed.unit }`;\n\t\t}\n\n\t\t/*\n\t\t * If no minimumFontSize is provided, create one using\n\t\t * the given font size multiplied by the min font size scale factor.\n\t\t */\n\t\tif ( ! minimumFontSize ) {\n\t\t\tconst fontSizeValueInPx =\n\t\t\t\tfontSizeParsed.unit === 'px'\n\t\t\t\t\t? fontSizeParsed.value\n\t\t\t\t\t: fontSizeParsed.value * 16;\n\n\t\t\t/*\n\t\t\t * The scale factor is a multiplier that affects how quickly the curve will move towards the minimum,\n\t\t\t * that is, how quickly the size factor reaches 0 given increasing font size values.\n\t\t\t * For a - b * log2(), lower values of b will make the curve move towards the minimum faster.\n\t\t\t * The scale factor is constrained between min and max values.\n\t\t\t */\n\t\t\tconst minimumFontSizeFactor = Math.min(\n\t\t\t\tMath.max(\n\t\t\t\t\t1 - 0.075 * Math.log2( fontSizeValueInPx ),\n\t\t\t\t\tDEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN\n\t\t\t\t),\n\t\t\t\tDEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX\n\t\t\t);\n\n\t\t\t// Calculates the minimum font size.\n\t\t\tconst calculatedMinimumFontSize = roundToPrecision(\n\t\t\t\tfontSizeParsed.value * minimumFontSizeFactor,\n\t\t\t\t3\n\t\t\t) as number;\n\n\t\t\t// Only use calculated min font size if it's > $minimum_font_size_limit value.\n\t\t\tif (\n\t\t\t\t!! minimumFontSizeLimitParsed?.value &&\n\t\t\t\tcalculatedMinimumFontSize < minimumFontSizeLimitParsed?.value\n\t\t\t) {\n\t\t\t\tminimumFontSize = `${ minimumFontSizeLimitParsed.value }${ minimumFontSizeLimitParsed.unit }`;\n\t\t\t} else {\n\t\t\t\tminimumFontSize = `${ calculatedMinimumFontSize }${ fontSizeParsed.unit }`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Grab the minimum font size and normalize it in order to use the value for calculations.\n\tconst minimumFontSizeParsed = getTypographyValueAndUnit( minimumFontSize );\n\n\t// We get a 'preferred' unit to keep units consistent when calculating,\n\t// otherwise the result will not be accurate.\n\tconst fontSizeUnit = minimumFontSizeParsed?.unit || 'rem';\n\n\t// Grabs the maximum font size and normalize it in order to use the value for calculations.\n\tconst maximumFontSizeParsed = getTypographyValueAndUnit( maximumFontSize, {\n\t\tcoerceTo: fontSizeUnit,\n\t} );\n\n\t// Checks for mandatory min and max sizes, and protects against unsupported units.\n\tif ( ! minimumFontSizeParsed || ! maximumFontSizeParsed ) {\n\t\treturn null;\n\t}\n\n\t// Uses rem for accessible fluid target font scaling.\n\tconst minimumFontSizeRem = getTypographyValueAndUnit( minimumFontSize, {\n\t\tcoerceTo: 'rem',\n\t} );\n\n\t// Viewport widths defined for fluid typography. Normalize units\n\tconst maximumViewportWidthParsed = getTypographyValueAndUnit(\n\t\tmaximumViewportWidth,\n\t\t{ coerceTo: fontSizeUnit }\n\t);\n\tconst minimumViewportWidthParsed = getTypographyValueAndUnit(\n\t\tminimumViewportWidth,\n\t\t{ coerceTo: fontSizeUnit }\n\t);\n\n\t// Protect against unsupported units.\n\tif (\n\t\t! maximumViewportWidthParsed ||\n\t\t! minimumViewportWidthParsed ||\n\t\t! minimumFontSizeRem\n\t) {\n\t\treturn null;\n\t}\n\n\t// Calculates the linear factor denominator. If it's 0, we cannot calculate a fluid value.\n\tconst linearDenominator =\n\t\tmaximumViewportWidthParsed.value - minimumViewportWidthParsed.value;\n\tif ( ! linearDenominator ) {\n\t\treturn null;\n\t}\n\n\t// Build CSS rule.\n\t// Borrowed from https://websemantics.uk/tools/responsive-font-calculator/.\n\tconst minViewportWidthOffsetValue = roundToPrecision(\n\t\tminimumViewportWidthParsed.value / 100,\n\t\t3\n\t);\n\n\tconst viewportWidthOffset =\n\t\troundToPrecision( minViewportWidthOffsetValue, 3 ) + fontSizeUnit;\n\tconst linearFactor =\n\t\t100 *\n\t\t( ( maximumFontSizeParsed.value - minimumFontSizeParsed.value ) /\n\t\t\tlinearDenominator );\n\tconst linearFactorScaled = roundToPrecision(\n\t\t( linearFactor || 1 ) * scaleFactor,\n\t\t3\n\t);\n\tconst fluidTargetFontSize = `${ minimumFontSizeRem.value }${ minimumFontSizeRem.unit } + ((1vw - ${ viewportWidthOffset }) * ${ linearFactorScaled })`;\n\n\treturn `clamp(${ minimumFontSize }, ${ fluidTargetFontSize }, ${ maximumFontSize })`;\n}\n\n/**\n * Internal method that checks a string for a unit and value and returns an array consisting of `'value'` and `'unit'`, e.g., [ '42', 'rem' ].\n * A raw font size of `value + unit` is expected. If the value is an integer, it will convert to `value + 'px'`.\n *\n * @param rawValue Raw size value from theme.json.\n * @param options  Calculation options.\n *\n * @return An object consisting of `'value'` and `'unit'` properties.\n */\nexport function getTypographyValueAndUnit(\n\trawValue?: string | number,\n\toptions = {}\n) {\n\tif ( typeof rawValue !== 'string' && typeof rawValue !== 'number' ) {\n\t\treturn null;\n\t}\n\n\t// Converts numeric values to pixel values by default.\n\tif ( isFinite( rawValue as number ) ) {\n\t\trawValue = `${ rawValue }px`;\n\t}\n\n\tconst { coerceTo, rootSizeValue, acceptableUnits } = {\n\t\tcoerceTo: '',\n\t\t// Default browser font size. Later we could inject some JS to compute this `getComputedStyle( document.querySelector( \"html\" ) ).fontSize`.\n\t\trootSizeValue: 16,\n\t\tacceptableUnits: [ 'rem', 'px', 'em' ],\n\t\t...options,\n\t};\n\n\tconst acceptableUnitsGroup = acceptableUnits?.join( '|' );\n\tconst regexUnits = new RegExp(\n\t\t`^(\\\\d*\\\\.?\\\\d+)(${ acceptableUnitsGroup }){1,1}$`\n\t);\n\n\tconst matches = rawValue.toString().match( regexUnits );\n\n\t// We need a number value and a unit.\n\tif ( ! matches || matches.length < 3 ) {\n\t\treturn null;\n\t}\n\n\tlet [ , value, unit ] = matches;\n\n\tlet returnValue = parseFloat( value );\n\n\tif ( 'px' === coerceTo && ( 'em' === unit || 'rem' === unit ) ) {\n\t\treturnValue = returnValue * rootSizeValue;\n\t\tunit = coerceTo;\n\t}\n\n\tif ( 'px' === unit && ( 'em' === coerceTo || 'rem' === coerceTo ) ) {\n\t\treturnValue = returnValue / rootSizeValue;\n\t\tunit = coerceTo;\n\t}\n\n\t/*\n\t * No calculation is required if swapping between em and rem yet,\n\t * since we assume a root size value. Later we might like to differentiate between\n\t * :root font size (rem) and parent element font size (em) relativity.\n\t */\n\tif (\n\t\t( 'em' === coerceTo || 'rem' === coerceTo ) &&\n\t\t( 'em' === unit || 'rem' === unit )\n\t) {\n\t\tunit = coerceTo;\n\t}\n\n\tif ( ! unit ) {\n\t\treturn null;\n\t}\n\n\treturn {\n\t\tvalue: roundToPrecision( returnValue, 3 ),\n\t\tunit,\n\t};\n}\n\n/**\n * Returns a value rounded to defined precision.\n * Returns `undefined` if the value is not a valid finite number.\n *\n * @param value  Raw value.\n * @param digits The number of digits to appear after the decimal point\n *\n * @return Value rounded to standard precision.\n */\nexport function roundToPrecision( value: number, digits: number = 3 ) {\n\tconst base = Math.pow( 10, digits );\n\treturn Math.round( value * base ) / base;\n}\n", "/**\n * Internal dependencies\n */\nimport type {\n\tTypographyPreset,\n\tGlobalStylesSettings,\n\tFluidTypographySettings,\n\tTypographySettings,\n} from '../types';\nimport {\n\tgetTypographyValueAndUnit,\n\tgetComputedFluidTypographyValue,\n} from './fluid';\n\n/**\n * Checks if fluid typography is enabled in the given typography settings.\n *\n * Fluid typography is considered enabled if the fluid setting is explicitly set to true,\n * or if it's an object with properties (which would contain fluid typography configuration\n * like minViewportWidth, maxViewportWidth, etc.).\n *\n * @param typographySettings       Typography settings object that may contain fluid typography configuration.\n * @param typographySettings.fluid Fluid typography configuration. Can be:\n *                                 - `true` to enable with default settings\n *                                 - An object with fluid settings (minViewportWidth, maxViewportWidth, etc.)\n *                                 - `false` or `undefined` to disable\n *\n * @return True if fluid typography is enabled, false otherwise.\n */\nfunction isFluidTypographyEnabled(\n\ttypographySettings?: TypographySettings | TypographyPreset\n) {\n\tconst fluidSettings = typographySettings?.fluid;\n\treturn (\n\t\ttrue === fluidSettings ||\n\t\t( fluidSettings &&\n\t\t\ttypeof fluidSettings === 'object' &&\n\t\t\tObject.keys( fluidSettings ).length > 0 )\n\t);\n}\n\n/**\n * Returns fluid typography settings from theme.json setting object.\n *\n * @param settings            Theme.json settings\n * @param settings.typography Theme.json typography settings\n * @param settings.layout     Theme.json layout settings\n * @return Fluid typography settings\n */\nexport function getFluidTypographyOptionsFromSettings(\n\tsettings: GlobalStylesSettings\n): { fluid?: FluidTypographySettings | boolean | undefined } {\n\tconst typographySettings = settings?.typography ?? {};\n\tconst layoutSettings = settings?.layout;\n\tconst defaultMaxViewportWidth = getTypographyValueAndUnit(\n\t\tlayoutSettings?.wideSize\n\t)\n\t\t? layoutSettings?.wideSize\n\t\t: null;\n\treturn isFluidTypographyEnabled( typographySettings ) &&\n\t\tdefaultMaxViewportWidth\n\t\t? {\n\t\t\t\tfluid: {\n\t\t\t\t\tmaxViewportWidth: defaultMaxViewportWidth,\n\t\t\t\t\t...( typeof typographySettings.fluid === 'object'\n\t\t\t\t\t\t? typographySettings.fluid\n\t\t\t\t\t\t: {} ),\n\t\t\t\t},\n\t\t  }\n\t\t: {\n\t\t\t\tfluid: typographySettings?.fluid,\n\t\t  };\n}\n\n/**\n * Returns a font-size value based on a given font-size preset.\n * Takes into account fluid typography parameters and attempts to return a css formula depending on available, valid values.\n *\n * The Core PHP equivalent is wp_get_typography_font_size_value().\n *\n * @param preset   A typography preset object containing size and fluid properties.\n * @param settings Global styles settings object containing typography and layout settings.\n *\n * @return A font-size value or the value of preset.size.\n */\nexport function getTypographyFontSizeValue(\n\tpreset: TypographyPreset,\n\tsettings: GlobalStylesSettings\n) {\n\tconst { size: defaultSize } = preset;\n\n\t/*\n\t * Catch falsy values and 0/'0'. Fluid calculations cannot be performed on `0`.\n\t * Also return early when a preset font size explicitly disables fluid typography with `false`.\n\t */\n\tif ( ! defaultSize || '0' === defaultSize || false === preset?.fluid ) {\n\t\treturn defaultSize;\n\t}\n\n\t/*\n\t * Return early when fluid typography is disabled in the settings, and there\n\t * are no local settings to enable it for the individual preset.\n\t *\n\t * If this condition isn't met, either the settings or individual preset settings\n\t * have enabled fluid typography.\n\t */\n\tif (\n\t\t! isFluidTypographyEnabled( settings?.typography ) &&\n\t\t! isFluidTypographyEnabled( preset )\n\t) {\n\t\treturn defaultSize;\n\t}\n\n\tconst fluidTypographySettings =\n\t\tgetFluidTypographyOptionsFromSettings( settings )?.fluid ?? {};\n\n\tconst fluidFontSizeValue = getComputedFluidTypographyValue( {\n\t\tminimumFontSize:\n\t\t\ttypeof preset?.fluid === 'boolean' ? undefined : preset?.fluid?.min,\n\t\tmaximumFontSize:\n\t\t\ttypeof preset?.fluid === 'boolean' ? undefined : preset?.fluid?.max,\n\t\tfontSize: defaultSize,\n\t\tminimumFontSizeLimit:\n\t\t\ttypeof fluidTypographySettings === 'object'\n\t\t\t\t? fluidTypographySettings?.minFontSize\n\t\t\t\t: undefined,\n\t\tmaximumViewportWidth:\n\t\t\ttypeof fluidTypographySettings === 'object'\n\t\t\t\t? fluidTypographySettings?.maxViewportWidth\n\t\t\t\t: undefined,\n\t\tminimumViewportWidth:\n\t\t\ttypeof fluidTypographySettings === 'object'\n\t\t\t\t? fluidTypographySettings?.minViewportWidth\n\t\t\t\t: undefined,\n\t} );\n\n\tif ( !! fluidFontSizeValue ) {\n\t\treturn fluidFontSizeValue;\n\t}\n\n\treturn defaultSize;\n}\n", "/**\n * Internal dependencies\n */\nimport { getValueFromObjectPath } from '../utils/object';\nimport { getValueFromVariable } from '../utils/common';\nimport type { GlobalStylesConfig, UnresolvedValue } from '../types';\n\nexport function getStyle< T = any >(\n\tglobalStyles?: GlobalStylesConfig,\n\tpath?: string,\n\tblockName?: string,\n\tshouldDecodeEncode = true\n): T | undefined {\n\tconst appendedPath = path ? '.' + path : '';\n\tconst finalPath = ! blockName\n\t\t? `styles${ appendedPath }`\n\t\t: `styles.blocks.${ blockName }${ appendedPath }`;\n\tif ( ! globalStyles ) {\n\t\treturn undefined;\n\t}\n\n\tconst rawResult = getValueFromObjectPath( globalStyles, finalPath ) as\n\t\t| string\n\t\t| UnresolvedValue;\n\tconst result = shouldDecodeEncode\n\t\t? getValueFromVariable( globalStyles, blockName, rawResult )\n\t\t: rawResult;\n\treturn result as T | undefined;\n}\n", "/**\n * Internal dependencies\n */\nimport { setImmutably } from '../utils/object';\nimport type { GlobalStylesConfig } from '../types';\n\nexport function setStyle< T = any >(\n\tglobalStyles: GlobalStylesConfig,\n\tpath: string,\n\tnewValue: T | undefined,\n\tblockName?: string\n): GlobalStylesConfig {\n\tconst appendedPath = path ? '.' + path : '';\n\tconst finalPath = ! blockName\n\t\t? `styles${ appendedPath }`\n\t\t: `styles.blocks.${ blockName }${ appendedPath }`;\n\n\treturn setImmutably(\n\t\tglobalStyles,\n\t\tfinalPath.split( '.' ),\n\t\tnewValue\n\t) as GlobalStylesConfig;\n}\n", "/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6/index.js';\n\n/**\n * Internal dependencies\n */\nimport type { GlobalStylesConfig } from '../types';\n\n/**\n * Compares global style variations according to their styles and settings properties.\n *\n * @param original  A global styles object.\n * @param variation A global styles object.\n * @return Whether `original` and `variation` match.\n */\nexport function areGlobalStylesEqual(\n\toriginal: GlobalStylesConfig,\n\tvariation: GlobalStylesConfig\n): boolean {\n\tif ( typeof original !== 'object' || typeof variation !== 'object' ) {\n\t\treturn original === variation;\n\t}\n\treturn (\n\t\tfastDeepEqual( original?.styles, variation?.styles ) &&\n\t\tfastDeepEqual( original?.settings, variation?.settings )\n\t);\n}\n", "/**\n * External dependencies\n */\nimport deepmerge from 'deepmerge';\n// @ts-ignore - is-plain-object doesn't have proper types\nimport { isPlainObject } from 'is-plain-object';\n\n/**\n * Internal dependencies\n */\nimport type { GlobalStylesConfig } from '../types';\n\n/**\n * Merges base and user global styles configurations\n *\n * @param base Base global styles (theme + WordPress defaults)\n * @param user User customizations\n * @return Merged global styles configuration\n */\nexport function mergeGlobalStyles(\n\tbase: GlobalStylesConfig,\n\tuser: GlobalStylesConfig\n): GlobalStylesConfig {\n\treturn deepmerge( base, user, {\n\t\t/*\n\t\t * We only pass as arrays the presets,\n\t\t * in which case we want the new array of values\n\t\t * to override the old array (no merging).\n\t\t */\n\t\tisMergeableObject: isPlainObject,\n\t\t/*\n\t\t * Exceptions to the above rule.\n\t\t * Background images should be replaced, not merged,\n\t\t * as they themselves are specific object definitions for the style.\n\t\t */\n\t\tcustomMerge: ( key ) => {\n\t\t\tif ( key === 'backgroundImage' ) {\n\t\t\t\treturn ( baseConfig, userConfig ) => userConfig ?? baseConfig;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\t} );\n}\n", "/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n", "/**\n * Memize options object.\n *\n * @typedef MemizeOptions\n *\n * @property {number} [maxSize] Maximum size of the cache.\n */\n\n/**\n * Internal cache entry.\n *\n * @typedef MemizeCacheNode\n *\n * @property {?MemizeCacheNode|undefined} [prev] Previous node.\n * @property {?MemizeCacheNode|undefined} [next] Next node.\n * @property {Array<*>}                   args   Function arguments for cache\n *                                               entry.\n * @property {*}                          val    Function result.\n */\n\n/**\n * Properties of the enhanced function for controlling cache.\n *\n * @typedef MemizeMemoizedFunction\n *\n * @property {()=>void} clear Clear the cache.\n */\n\n/**\n * Accepts a function to be memoized, and returns a new memoized function, with\n * optional options.\n *\n * @template {(...args: any[]) => any} F\n *\n * @param {F}             fn        Function to memoize.\n * @param {MemizeOptions} [options] Options object.\n *\n * @return {((...args: Parameters<F>) => ReturnType<F>) & MemizeMemoizedFunction} Memoized function.\n */\nfunction memize(fn, options) {\n\tvar size = 0;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar head;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar tail;\n\n\toptions = options || {};\n\n\tfunction memoized(/* ...args */) {\n\t\tvar node = head,\n\t\t\tlen = arguments.length,\n\t\t\targs,\n\t\t\ti;\n\n\t\tsearchCache: while (node) {\n\t\t\t// Perform a shallow equality test to confirm that whether the node\n\t\t\t// under test is a candidate for the arguments passed. Two arrays\n\t\t\t// are shallowly equal if their length matches and each entry is\n\t\t\t// strictly equal between the two sets. Avoid abstracting to a\n\t\t\t// function which could incur an arguments leaking deoptimization.\n\n\t\t\t// Check whether node arguments match arguments length\n\t\t\tif (node.args.length !== arguments.length) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check whether node arguments match arguments values\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (node.args[i] !== arguments[i]) {\n\t\t\t\t\tnode = node.next;\n\t\t\t\t\tcontinue searchCache;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif (node !== head) {\n\t\t\t\t// As tail, shift to previous. Must only shift if not also\n\t\t\t\t// head, since if both head and tail, there is no previous.\n\t\t\t\tif (node === tail) {\n\t\t\t\t\ttail = node.prev;\n\t\t\t\t}\n\n\t\t\t\t// Adjust siblings to point to each other. If node was tail,\n\t\t\t\t// this also handles new tail's empty `next` assignment.\n\t\t\t\t/** @type {MemizeCacheNode} */ (node.prev).next = node.next;\n\t\t\t\tif (node.next) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = head;\n\t\t\t\tnode.prev = null;\n\t\t\t\t/** @type {MemizeCacheNode} */ (head).prev = node;\n\t\t\t\thead = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\t// Create a copy of arguments (avoid leaking deoptimization)\n\t\targs = new Array(len);\n\t\tfor (i = 0; i < len; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\n\t\tnode = {\n\t\t\targs: args,\n\n\t\t\t// Generate the result from original function\n\t\t\tval: fn.apply(null, args),\n\t\t};\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif (head) {\n\t\t\thead.prev = node;\n\t\t\tnode.next = head;\n\t\t} else {\n\t\t\t// If no head, follows that there's no tail (at initial or reset)\n\t\t\ttail = node;\n\t\t}\n\n\t\t// Trim tail if we're reached max size and are pending cache insertion\n\t\tif (size === /** @type {MemizeOptions} */ (options).maxSize) {\n\t\t\ttail = /** @type {MemizeCacheNode} */ (tail).prev;\n\t\t\t/** @type {MemizeCacheNode} */ (tail).next = null;\n\t\t} else {\n\t\t\tsize++;\n\t\t}\n\n\t\thead = node;\n\n\t\treturn node.val;\n\t}\n\n\tmemoized.clear = function () {\n\t\thead = null;\n\t\ttail = null;\n\t\tsize = 0;\n\t};\n\n\t// Ignore reason: There's not a clear solution to create an intersection of\n\t// the function with additional properties, where the goal is to retain the\n\t// function signature of the incoming argument and add control properties\n\t// on the return value.\n\n\t// @ts-ignore\n\treturn memoized;\n}\n\nexport { memize as default };\n", "/**\n * External dependencies\n */\nimport memoize from 'memize';\n\n/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\n// @ts-expect-error blocks package not typed yet.\nimport { getBlockTypes } from '@wordpress/blocks';\n\ntype TranslationMap = Record< string, string >;\ntype BlockNamesMap = Record< string, string >;\ntype ChangeEntry = [ string, string ];\n\ninterface GetGlobalStylesChangesOptions {\n\tmaxResults?: number;\n}\n\nconst globalStylesChangesCache = new Map< string, ChangeEntry[] >();\nconst EMPTY_ARRAY: string[] = [];\nconst translationMap: TranslationMap = {\n\tcaption: __( 'Caption' ),\n\tlink: __( 'Link' ),\n\tbutton: __( 'Button' ),\n\theading: __( 'Heading' ),\n\th1: __( 'H1' ),\n\th2: __( 'H2' ),\n\th3: __( 'H3' ),\n\th4: __( 'H4' ),\n\th5: __( 'H5' ),\n\th6: __( 'H6' ),\n\t'settings.color': __( 'Color' ),\n\t'settings.typography': __( 'Typography' ),\n\t'settings.shadow': __( 'Shadow' ),\n\t'settings.layout': __( 'Layout' ),\n\t'styles.color': __( 'Colors' ),\n\t'styles.spacing': __( 'Spacing' ),\n\t'styles.background': __( 'Background' ),\n\t'styles.typography': __( 'Typography' ),\n};\nconst getBlockNames = memoize(\n\t(): BlockNamesMap =>\n\t\tgetBlockTypes().reduce< BlockNamesMap >(\n\t\t\t(\n\t\t\t\taccumulator: BlockNamesMap,\n\t\t\t\t{\n\t\t\t\t\tname,\n\t\t\t\t\ttitle,\n\t\t\t\t}: {\n\t\t\t\t\tname: string;\n\t\t\t\t\ttitle: string;\n\t\t\t\t}\n\t\t\t) => {\n\t\t\t\taccumulator[ name ] = title;\n\t\t\t\treturn accumulator;\n\t\t\t},\n\t\t\t{}\n\t\t)\n);\nconst isObject = ( obj: any ): obj is Record< string, any > =>\n\tobj !== null && typeof obj === 'object';\n\n/**\n * Get the translation for a given global styles key.\n * @param key A key representing a path to a global style property or setting.\n * @return A translated key or undefined if no translation exists.\n */\nfunction getTranslation( key: string ): string | undefined {\n\tif ( translationMap[ key ] ) {\n\t\treturn translationMap[ key ];\n\t}\n\n\tconst keyArray = key.split( '.' );\n\n\tif ( keyArray?.[ 0 ] === 'blocks' ) {\n\t\tconst blockName = getBlockNames()?.[ keyArray[ 1 ] ];\n\t\treturn blockName || keyArray[ 1 ];\n\t}\n\n\tif ( keyArray?.[ 0 ] === 'elements' ) {\n\t\treturn translationMap[ keyArray[ 1 ] ] || keyArray[ 1 ];\n\t}\n\n\treturn undefined;\n}\n\n/**\n * A deep comparison of two objects, optimized for comparing global styles.\n * @param changedObject  The changed object to compare.\n * @param originalObject The original object to compare against.\n * @param parentPath     A key/value pair object of block names and their rendered titles.\n * @return An array of paths whose values have changed.\n */\nfunction deepCompare(\n\tchangedObject: any,\n\toriginalObject: any,\n\tparentPath: string = ''\n): string | string[] | undefined {\n\t// We have two non-object values to compare.\n\tif ( ! isObject( changedObject ) && ! isObject( originalObject ) ) {\n\t\t/*\n\t\t * Only return a path if the value has changed.\n\t\t * And then only the path name up to 2 levels deep.\n\t\t */\n\t\treturn changedObject !== originalObject\n\t\t\t? parentPath.split( '.' ).slice( 0, 2 ).join( '.' )\n\t\t\t: undefined;\n\t}\n\n\t// Enable comparison when an object doesn't have a corresponding property to compare.\n\tchangedObject = isObject( changedObject ) ? changedObject : {};\n\toriginalObject = isObject( originalObject ) ? originalObject : {};\n\n\tconst allKeys = new Set( [\n\t\t...Object.keys( changedObject ),\n\t\t...Object.keys( originalObject ),\n\t] );\n\n\tlet diffs: string[] = [];\n\tfor ( const key of allKeys ) {\n\t\tconst path = parentPath ? parentPath + '.' + key : key;\n\t\tconst changedPath = deepCompare(\n\t\t\tchangedObject[ key ],\n\t\t\toriginalObject[ key ],\n\t\t\tpath\n\t\t);\n\t\tif ( changedPath ) {\n\t\t\tdiffs = diffs.concat( changedPath );\n\t\t}\n\t}\n\treturn diffs;\n}\n\n/**\n * Returns an array of translated summarized global styles changes.\n * Results are cached using a Map() key of `JSON.stringify( { next, previous } )`.\n *\n * @param next     The changed object to compare.\n * @param previous The original object to compare against.\n * @return A 2-dimensional array of tuples: [ \"group\", \"translated change\" ].\n */\nexport function getGlobalStylesChangelist(\n\tnext: any,\n\tprevious: any\n): ChangeEntry[] {\n\tconst cacheKey = JSON.stringify( { next, previous } );\n\n\tif ( globalStylesChangesCache.has( cacheKey ) ) {\n\t\treturn globalStylesChangesCache.get( cacheKey )!;\n\t}\n\n\t/*\n\t * Compare the two changesets with normalized keys.\n\t * The order of these keys determines the order in which\n\t * they'll appear in the results.\n\t */\n\tconst changedValueTree = deepCompare(\n\t\t{\n\t\t\tstyles: {\n\t\t\t\tbackground: next?.styles?.background,\n\t\t\t\tcolor: next?.styles?.color,\n\t\t\t\ttypography: next?.styles?.typography,\n\t\t\t\tspacing: next?.styles?.spacing,\n\t\t\t},\n\t\t\tblocks: next?.styles?.blocks,\n\t\t\telements: next?.styles?.elements,\n\t\t\tsettings: next?.settings,\n\t\t},\n\t\t{\n\t\t\tstyles: {\n\t\t\t\tbackground: previous?.styles?.background,\n\t\t\t\tcolor: previous?.styles?.color,\n\t\t\t\ttypography: previous?.styles?.typography,\n\t\t\t\tspacing: previous?.styles?.spacing,\n\t\t\t},\n\t\t\tblocks: previous?.styles?.blocks,\n\t\t\telements: previous?.styles?.elements,\n\t\t\tsettings: previous?.settings,\n\t\t}\n\t);\n\n\tif (\n\t\t! changedValueTree ||\n\t\t( Array.isArray( changedValueTree ) && ! changedValueTree.length )\n\t) {\n\t\tglobalStylesChangesCache.set( cacheKey, [] );\n\t\treturn [];\n\t}\n\n\tconst changedValueArray = Array.isArray( changedValueTree )\n\t\t? changedValueTree\n\t\t: [ changedValueTree ];\n\n\t// Remove duplicate results.\n\tconst result = [ ...new Set( changedValueArray ) ]\n\t\t/*\n\t\t * Translate the keys.\n\t\t * Remove empty translations.\n\t\t */\n\t\t.reduce< ChangeEntry[] >( ( acc, curr ) => {\n\t\t\tconst translation = getTranslation( curr );\n\t\t\tif ( translation ) {\n\t\t\t\tacc.push( [ curr.split( '.' )[ 0 ], translation ] );\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, [] );\n\n\tglobalStylesChangesCache.set( cacheKey, result );\n\n\treturn result;\n}\n\n/**\n * From a getGlobalStylesChangelist() result, returns an array of translated global styles changes, grouped by type.\n * The types are 'blocks', 'elements', 'settings', and 'styles'.\n *\n * @param next     The changed object to compare.\n * @param previous The original object to compare against.\n * @param options  Options. maxResults: results to return before truncating.\n * @return An array of translated changes.\n */\nexport default function getGlobalStylesChanges(\n\tnext: any,\n\tprevious: any,\n\toptions: GetGlobalStylesChangesOptions = {}\n): string[] {\n\tlet changeList = getGlobalStylesChangelist( next, previous );\n\tconst changesLength = changeList.length;\n\tconst { maxResults } = options;\n\n\tif ( changesLength ) {\n\t\t// Truncate to `n` results if necessary.\n\t\tif ( !! maxResults && changesLength > maxResults ) {\n\t\t\tchangeList = changeList.slice( 0, maxResults );\n\t\t}\n\t\treturn Object.entries(\n\t\t\tchangeList.reduce< Record< string, string[] > >( ( acc, curr ) => {\n\t\t\t\tconst group = acc[ curr[ 0 ] ] || [];\n\t\t\t\tif ( ! group.includes( curr[ 1 ] ) ) {\n\t\t\t\t\tacc[ curr[ 0 ] ] = [ ...group, curr[ 1 ] ];\n\t\t\t\t}\n\t\t\t\treturn acc;\n\t\t\t}, {} )\n\t\t).map( ( [ key, changeValues ] ) => {\n\t\t\tconst changeValuesLength = changeValues.length;\n\t\t\tconst joinedChangesValue = changeValues.join(\n\t\t\t\t/* translators: Used between list items, there is a space after the comma. */\n\t\t\t\t__( ', ' ) // eslint-disable-line @wordpress/i18n-no-flanking-whitespace\n\t\t\t);\n\t\t\tswitch ( key ) {\n\t\t\t\tcase 'blocks': {\n\t\t\t\t\treturn sprintf(\n\t\t\t\t\t\t// translators: %s: a list of block names separated by a comma.\n\t\t\t\t\t\t_n( '%s block.', '%s blocks.', changeValuesLength ),\n\t\t\t\t\t\tjoinedChangesValue\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcase 'elements': {\n\t\t\t\t\treturn sprintf(\n\t\t\t\t\t\t// translators: %s: a list of element names separated by a comma.\n\t\t\t\t\t\t_n( '%s element.', '%s elements.', changeValuesLength ),\n\t\t\t\t\t\tjoinedChangesValue\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcase 'settings': {\n\t\t\t\t\treturn sprintf(\n\t\t\t\t\t\t// translators: %s: a list of theme.json setting labels separated by a comma.\n\t\t\t\t\t\t__( '%s settings.' ),\n\t\t\t\t\t\tjoinedChangesValue\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcase 'styles': {\n\t\t\t\t\treturn sprintf(\n\t\t\t\t\t\t// translators: %s: a list of theme.json top-level styles labels separated by a comma.\n\t\t\t\t\t\t__( '%s styles.' ),\n\t\t\t\t\t\tjoinedChangesValue\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\treturn sprintf(\n\t\t\t\t\t\t// translators: %s: a list of global styles changes separated by a comma.\n\t\t\t\t\t\t__( '%s.' ),\n\t\t\t\t\t\tjoinedChangesValue\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\treturn EMPTY_ARRAY;\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__EXPERIMENTAL_STYLE_PROPERTY as STYLE_PROPERTY,\n\t__EXPERIMENTAL_ELEMENTS as ELEMENTS,\n\tgetBlockSupport,\n\tgetBlockTypes,\n\tstore as blocksStore,\n\t// @ts-expect-error - @wordpress/blocks module doesn't have TypeScript declarations\n} from '@wordpress/blocks';\nimport { getCSSRules, getCSSValueFromRawStyle } from '@wordpress/style-engine';\nimport { select } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tPRESET_METADATA,\n\tROOT_BLOCK_SELECTOR,\n\tROOT_CSS_PROPERTIES_SELECTOR,\n\tscopeSelector,\n\tscopeFeatureSelectors,\n\tappendToSelector,\n\tgetBlockStyleVariationSelector,\n\tgetResolvedValue,\n} from '../utils/common';\nimport { getBlockSelector } from './selectors';\nimport { getTypographyFontSizeValue } from '../utils/typography';\nimport { getDuotoneFilter } from '../utils/duotone';\nimport { kebabCase } from '../utils/string';\nimport { getGapCSSValue } from '../utils/gap';\nimport { setBackgroundStyleDefaults } from '../utils/background';\nimport { LAYOUT_DEFINITIONS } from '../utils/layout';\nimport { getValueFromObjectPath, setImmutably } from '../utils/object';\nimport { getSetting } from '../settings/get-setting';\nimport type {\n\tBlockStyleVariation,\n\tBlockType,\n\tGlobalStylesConfig,\n\tGlobalStylesSettings,\n\tGlobalStylesStyles,\n} from '../types';\n\n// =============================================================================\n// LOCAL TYPE DEFINITIONS\n// =============================================================================\n\n/**\n * Preset metadata for CSS variable generation\n */\ninterface PresetMetadata {\n\tpath: string[];\n\tvalueKey?: string;\n\tvalueFunc?: ( preset: any, settings: any ) => string | number | null;\n\tcssVarInfix: string;\n\tclasses?: Array< {\n\t\tclassSuffix: string;\n\t\tpropertyName: string;\n\t} >;\n}\n\n/**\n * Preset collection by origin\n */\ninterface PresetsByOrigin {\n\t[ origin: string ]: any[];\n}\n\n/**\n * CSS class configuration\n */\ninterface CSSClassConfig {\n\tclassSuffix: string;\n\tpropertyName: string;\n}\n\n/**\n * Style property configuration from WordPress\n */\ninterface StylePropertyConfig {\n\tvalue: string[];\n\tproperties?: Record< string, string >;\n\tuseEngine?: boolean;\n\trootOnly?: boolean;\n}\n\n/**\n * Layout definition structure\n */\ninterface LayoutDefinition {\n\tclassName: string;\n\tname: string;\n\tdisplayMode?: string;\n\tspacingStyles?: Array< {\n\t\tselector?: string;\n\t\trules?: Record< string, any >;\n\t} >;\n\tbaseStyles?: Array< {\n\t\tselector?: string;\n\t\trules?: Record< string, any >;\n\t} >;\n}\n\n/**\n * CSS rule from style engine\n */\ninterface CSSRule {\n\tkey: string;\n\tvalue: any;\n}\n\n/**\n * Block variation in theme.json (different from BlockStyleVariation)\n */\ninterface BlockVariation {\n\tcss?: string;\n\telements?: Record< string, any >;\n\tblocks?: Record< string, any >;\n\t[ key: string ]: any; // For additional style properties\n}\n\n/**\n * Block node in theme.json\n */\ninterface BlockNode {\n\tvariations?: Record< string, BlockVariation >;\n\telements?: Record< string, any >;\n\t[ key: string ]: any; // For additional style properties\n}\n\nexport type BlockSelectors = Record<\n\tstring,\n\t{\n\t\tduotoneSelector?: string;\n\t\tselector: string;\n\t\tfallbackGapValue?: string;\n\t\thasLayoutSupport?: boolean;\n\t\tfeatureSelectors?:\n\t\t\t| string\n\t\t\t| Record< string, string | Record< string, string > >;\n\t\tname?: string;\n\t\tstyleVariationSelectors?: Record< string, string >;\n\t}\n>;\n\n// Elements that rely on class names in their selectors.\nconst ELEMENT_CLASS_NAMES = {\n\tbutton: 'wp-element-button',\n\tcaption: 'wp-element-caption',\n};\n\n// List of block support features that can have their related styles\n// generated under their own feature level selector rather than the block's.\nconst BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS = {\n\t__experimentalBorder: 'border',\n\tcolor: 'color',\n\tdimensions: 'dimensions',\n\tspacing: 'spacing',\n\ttypography: 'typography',\n};\n\n/**\n * Transform given preset tree into a set of style declarations.\n *\n * @param blockPresets   Block presets object\n * @param mergedSettings Merged theme.json settings\n * @return An array of style declarations\n */\nfunction getPresetsDeclarations(\n\tblockPresets: Record< string, any > = {},\n\tmergedSettings: GlobalStylesSettings\n): string[] {\n\treturn PRESET_METADATA.reduce(\n\t\t(\n\t\t\tdeclarations: string[],\n\t\t\t{ path, valueKey, valueFunc, cssVarInfix }: PresetMetadata\n\t\t) => {\n\t\t\tconst presetByOrigin = getValueFromObjectPath(\n\t\t\t\tblockPresets,\n\t\t\t\tpath,\n\t\t\t\t[]\n\t\t\t) as PresetsByOrigin;\n\t\t\t[ 'default', 'theme', 'custom' ].forEach( ( origin ) => {\n\t\t\t\tif ( presetByOrigin[ origin ] ) {\n\t\t\t\t\tpresetByOrigin[ origin ].forEach( ( value: any ) => {\n\t\t\t\t\t\tif ( valueKey && ! valueFunc ) {\n\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t`--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\t\tvalue.slug\n\t\t\t\t\t\t\t\t) }: ${ value[ valueKey ] }`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tvalueFunc &&\n\t\t\t\t\t\t\ttypeof valueFunc === 'function'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t`--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\t\tvalue.slug\n\t\t\t\t\t\t\t\t) }: ${ valueFunc( value, mergedSettings ) }`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn declarations;\n\t\t},\n\t\t[] as string[]\n\t);\n}\n\n/**\n * Transform given preset tree into a set of preset class declarations.\n *\n * @param blockSelector Block selector string\n * @param blockPresets  Block presets object\n * @return CSS declarations for the preset classes\n */\nfunction getPresetsClasses(\n\tblockSelector: string = '*',\n\tblockPresets: Record< string, any > = {}\n): string {\n\treturn PRESET_METADATA.reduce(\n\t\t(\n\t\t\tdeclarations: string,\n\t\t\t{ path, cssVarInfix, classes }: PresetMetadata\n\t\t) => {\n\t\t\tif ( ! classes ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tconst presetByOrigin = getValueFromObjectPath(\n\t\t\t\tblockPresets,\n\t\t\t\tpath,\n\t\t\t\t[]\n\t\t\t) as PresetsByOrigin;\n\t\t\t[ 'default', 'theme', 'custom' ].forEach( ( origin ) => {\n\t\t\t\tif ( presetByOrigin[ origin ] ) {\n\t\t\t\t\tpresetByOrigin[ origin ].forEach(\n\t\t\t\t\t\t( { slug }: { slug: string } ) => {\n\t\t\t\t\t\t\tclasses!.forEach(\n\t\t\t\t\t\t\t\t( {\n\t\t\t\t\t\t\t\t\tclassSuffix,\n\t\t\t\t\t\t\t\t\tpropertyName,\n\t\t\t\t\t\t\t\t}: CSSClassConfig ) => {\n\t\t\t\t\t\t\t\t\tconst classSelectorToUse = `.has-${ kebabCase(\n\t\t\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t\t\t) }-${ classSuffix }`;\n\t\t\t\t\t\t\t\t\tconst selectorToUse = blockSelector\n\t\t\t\t\t\t\t\t\t\t.split( ',' ) // Selector can be \"h1, h2, h3\"\n\t\t\t\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t\t\t\t( selector ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t`${ selector }${ classSelectorToUse }`\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t.join( ',' );\n\t\t\t\t\t\t\t\t\tconst value = `var(--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t\t\t) })`;\n\t\t\t\t\t\t\t\t\tdeclarations += `${ selectorToUse }{${ propertyName }: ${ value } !important;}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} );\n\t\t\treturn declarations;\n\t\t},\n\t\t''\n\t);\n}\n\nfunction getPresetsSvgFilters(\n\tblockPresets: Record< string, any > = {}\n): string[] {\n\treturn PRESET_METADATA.filter(\n\t\t// Duotone are the only type of filters for now.\n\t\t( metadata: PresetMetadata ) => metadata.path.at( -1 ) === 'duotone'\n\t).flatMap( ( metadata: PresetMetadata ) => {\n\t\tconst presetByOrigin = getValueFromObjectPath(\n\t\t\tblockPresets,\n\t\t\tmetadata.path,\n\t\t\t{}\n\t\t) as PresetsByOrigin;\n\t\treturn [ 'default', 'theme' ]\n\t\t\t.filter( ( origin ) => presetByOrigin[ origin ] )\n\t\t\t.flatMap( ( origin ) =>\n\t\t\t\tpresetByOrigin[ origin ].map( ( preset: any ) =>\n\t\t\t\t\tgetDuotoneFilter(\n\t\t\t\t\t\t`wp-duotone-${ preset.slug }`,\n\t\t\t\t\t\tpreset.colors\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t\t.join( '' );\n\t} );\n}\n\nfunction flattenTree(\n\tinput: any = {},\n\tprefix: string,\n\ttoken: string\n): string[] {\n\tlet result: string[] = [];\n\tObject.keys( input ).forEach( ( key ) => {\n\t\tconst newKey = prefix + kebabCase( key.replace( '/', '-' ) );\n\t\tconst newLeaf = input[ key ];\n\n\t\tif ( newLeaf instanceof Object ) {\n\t\t\tconst newPrefix = newKey + token;\n\t\t\tresult = [ ...result, ...flattenTree( newLeaf, newPrefix, token ) ];\n\t\t} else {\n\t\t\tresult.push( `${ newKey }: ${ newLeaf }` );\n\t\t}\n\t} );\n\treturn result;\n}\n\n/**\n * Gets variation selector string from feature selector.\n *\n * @param featureSelector        The feature selector\n * @param styleVariationSelector The style variation selector\n * @return Combined selector string\n */\nfunction concatFeatureVariationSelectorString(\n\tfeatureSelector: string,\n\tstyleVariationSelector: string\n): string {\n\tconst featureSelectors = featureSelector.split( ',' );\n\tconst combinedSelectors: string[] = [];\n\tfeatureSelectors.forEach( ( selector ) => {\n\t\tcombinedSelectors.push(\n\t\t\t`${ styleVariationSelector.trim() }${ selector.trim() }`\n\t\t);\n\t} );\n\treturn combinedSelectors.join( ', ' );\n}\n\n/**\n * Generate style declarations for a block's custom feature and subfeature\n * selectors.\n *\n * NOTE: The passed `styles` object will be mutated by this function.\n *\n * @param selectors Custom selectors object for a block\n * @param styles    A block's styles object\n * @return Style declarations\n */\nconst getFeatureDeclarations = (\n\tselectors: Record< string, any >,\n\tstyles: Record< string, any >\n): Record< string, string[] > => {\n\tconst declarations: Record< string, string[] > = {};\n\n\tObject.entries( selectors ).forEach( ( [ feature, selector ] ) => {\n\t\t// We're only processing features/subfeatures that have styles.\n\t\tif ( feature === 'root' || ! styles?.[ feature ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isShorthand = typeof selector === 'string';\n\n\t\t// If we have a selector object instead of shorthand process it.\n\t\tif (\n\t\t\t! isShorthand &&\n\t\t\ttypeof selector === 'object' &&\n\t\t\tselector !== null\n\t\t) {\n\t\t\tObject.entries( selector as Record< string, string > ).forEach(\n\t\t\t\t( [ subfeature, subfeatureSelector ] ) => {\n\t\t\t\t\t// Don't process root feature selector yet or any\n\t\t\t\t\t// subfeature that doesn't have a style.\n\t\t\t\t\tif (\n\t\t\t\t\t\tsubfeature === 'root' ||\n\t\t\t\t\t\t! styles?.[ feature ][ subfeature ]\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create a temporary styles object and build\n\t\t\t\t\t// declarations for subfeature.\n\t\t\t\t\tconst subfeatureStyles = {\n\t\t\t\t\t\t[ feature ]: {\n\t\t\t\t\t\t\t[ subfeature ]: styles[ feature ][ subfeature ],\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t\tconst newDeclarations =\n\t\t\t\t\t\tgetStylesDeclarations( subfeatureStyles );\n\n\t\t\t\t\t// Merge new declarations in with any others that\n\t\t\t\t\t// share the same selector.\n\t\t\t\t\tdeclarations[ subfeatureSelector ] = [\n\t\t\t\t\t\t...( declarations[ subfeatureSelector ] || [] ),\n\t\t\t\t\t\t...newDeclarations,\n\t\t\t\t\t];\n\n\t\t\t\t\t// Remove the subfeature's style now it will be\n\t\t\t\t\t// included under its own selector not the block's.\n\t\t\t\t\tdelete styles[ feature ][ subfeature ];\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\t// Now subfeatures have been processed and removed, we can\n\t\t// process root, or shorthand, feature selectors.\n\t\tif (\n\t\t\tisShorthand ||\n\t\t\t( typeof selector === 'object' &&\n\t\t\t\tselector !== null &&\n\t\t\t\t'root' in selector )\n\t\t) {\n\t\t\tconst featureSelector = isShorthand\n\t\t\t\t? ( selector as string )\n\t\t\t\t: ( selector as any ).root;\n\n\t\t\t// Create temporary style object and build declarations for feature.\n\t\t\tconst featureStyles = { [ feature ]: styles[ feature ] };\n\t\t\tconst newDeclarations = getStylesDeclarations( featureStyles );\n\n\t\t\t// Merge new declarations with any others that share the selector.\n\t\t\tdeclarations[ featureSelector ] = [\n\t\t\t\t...( declarations[ featureSelector ] || [] ),\n\t\t\t\t...newDeclarations,\n\t\t\t];\n\n\t\t\t// Remove the feature from the block's styles now as it will be\n\t\t\t// included under its own selector not the block's.\n\t\t\tdelete styles[ feature ];\n\t\t}\n\t} );\n\n\treturn declarations;\n};\n\n/**\n * Transform given style tree into a set of style declarations.\n *\n * @param blockStyles         Block styles\n * @param selector            The selector these declarations should attach to\n * @param useRootPaddingAlign Whether to use CSS custom properties in root selector\n * @param tree                A theme.json tree containing layout definitions\n * @param disableRootPadding  Whether to force disable the root padding styles\n * @return An array of style declarations\n */\nexport function getStylesDeclarations(\n\tblockStyles: any = {},\n\tselector: string = '',\n\tuseRootPaddingAlign?: boolean,\n\ttree: any = {},\n\tdisableRootPadding: boolean = false\n): string[] {\n\tconst isRoot = ROOT_BLOCK_SELECTOR === selector;\n\tconst output = Object.entries(\n\t\tSTYLE_PROPERTY as Record< string, StylePropertyConfig >\n\t).reduce(\n\t\t(\n\t\t\tdeclarations: string[],\n\t\t\t[ key, { value, properties, useEngine, rootOnly } ]: [\n\t\t\t\tstring,\n\t\t\t\tStylePropertyConfig,\n\t\t\t]\n\t\t) => {\n\t\t\tif ( rootOnly && ! isRoot ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\t\t\tconst pathToValue = value;\n\t\t\tif ( pathToValue[ 0 ] === 'elements' || useEngine ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tconst styleValue = getValueFromObjectPath(\n\t\t\t\tblockStyles,\n\t\t\t\tpathToValue\n\t\t\t);\n\n\t\t\t// Root-level padding styles don't currently support strings with CSS shorthand values.\n\t\t\t// This may change: https://github.com/WordPress/gutenberg/issues/40132.\n\t\t\tif (\n\t\t\t\tkey === '--wp--style--root--padding' &&\n\t\t\t\t( typeof styleValue === 'string' || ! useRootPaddingAlign )\n\t\t\t) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tif ( properties && typeof styleValue !== 'string' ) {\n\t\t\t\tObject.entries( properties ).forEach( ( entry ) => {\n\t\t\t\t\tconst [ name, prop ] = entry;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t! getValueFromObjectPath( styleValue, [ prop ], false )\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Do not create a declaration\n\t\t\t\t\t\t// for sub-properties that don't have any value.\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst cssProperty = name.startsWith( '--' )\n\t\t\t\t\t\t? name\n\t\t\t\t\t\t: kebabCase( name );\n\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t`${ cssProperty }: ${ getCSSValueFromRawStyle(\n\t\t\t\t\t\t\tgetValueFromObjectPath( styleValue, [ prop ] )\n\t\t\t\t\t\t) }`\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t} else if (\n\t\t\t\tgetValueFromObjectPath( blockStyles, pathToValue, false )\n\t\t\t) {\n\t\t\t\tconst cssProperty = key.startsWith( '--' )\n\t\t\t\t\t? key\n\t\t\t\t\t: kebabCase( key );\n\t\t\t\tdeclarations.push(\n\t\t\t\t\t`${ cssProperty }: ${ getCSSValueFromRawStyle(\n\t\t\t\t\t\tgetValueFromObjectPath( blockStyles, pathToValue )\n\t\t\t\t\t) }`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn declarations;\n\t\t},\n\t\t[] as string[]\n\t);\n\n\t/*\n\t * Preprocess background image values.\n\t *\n\t * Note: As we absorb more and more styles into the engine, we could simplify this function.\n\t * A refactor is for the style engine to handle ref resolution (and possibly defaults)\n\t * via a public util used internally and externally. Theme.json tree and defaults could be passed\n\t * as options.\n\t */\n\tif ( !! blockStyles.background ) {\n\t\t/*\n\t\t * Resolve dynamic values before they are compiled by the style engine,\n\t\t * which doesn't (yet) resolve dynamic values.\n\t\t */\n\t\tif ( blockStyles.background?.backgroundImage ) {\n\t\t\tblockStyles.background.backgroundImage = getResolvedValue(\n\t\t\t\tblockStyles.background.backgroundImage,\n\t\t\t\ttree\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\t * Set default values for block background styles.\n\t\t * Top-level styles are an exception as they are applied to the body.\n\t\t */\n\t\tif ( ! isRoot && !! blockStyles.background?.backgroundImage?.id ) {\n\t\t\tblockStyles = {\n\t\t\t\t...blockStyles,\n\t\t\t\tbackground: {\n\t\t\t\t\t...blockStyles.background,\n\t\t\t\t\t...setBackgroundStyleDefaults( blockStyles.background ),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\n\tconst extraRules = getCSSRules( blockStyles );\n\textraRules.forEach( ( rule: CSSRule ) => {\n\t\t// Don't output padding properties if padding variables are set or if we're not editing a full template.\n\t\tif (\n\t\t\tisRoot &&\n\t\t\t( useRootPaddingAlign || disableRootPadding ) &&\n\t\t\trule.key.startsWith( 'padding' )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tconst cssProperty = rule.key.startsWith( '--' )\n\t\t\t? rule.key\n\t\t\t: kebabCase( rule.key );\n\n\t\tlet ruleValue = getResolvedValue( rule.value, tree );\n\n\t\t// Calculate fluid typography rules where available.\n\t\tif ( cssProperty === 'font-size' ) {\n\t\t\t/*\n\t\t\t * getTypographyFontSizeValue() will check\n\t\t\t * if fluid typography has been activated and also\n\t\t\t * whether the incoming value can be converted to a fluid value.\n\t\t\t * Values that already have a \"clamp()\" function will not pass the test,\n\t\t\t * and therefore the original $value will be returned.\n\t\t\t */\n\t\t\truleValue = getTypographyFontSizeValue(\n\t\t\t\t{ name: '', slug: '', size: ruleValue as string },\n\t\t\t\ttree?.settings\n\t\t\t);\n\t\t}\n\n\t\t// For aspect ratio to work, other dimensions rules (and Cover block defaults) must be unset.\n\t\t// This ensures that a fixed height does not override the aspect ratio.\n\t\tif ( cssProperty === 'aspect-ratio' ) {\n\t\t\toutput.push( 'min-height: unset' );\n\t\t}\n\n\t\toutput.push( `${ cssProperty }: ${ ruleValue }` );\n\t} );\n\n\treturn output;\n}\n\n/**\n * Get generated CSS for layout styles by looking up layout definitions provided\n * in theme.json, and outputting common layout styles, and specific blockGap values.\n *\n * @param props                       Layout styles configuration\n * @param props.layoutDefinitions     Layout definitions from theme.json\n * @param props.style                 Style object for the block\n * @param props.selector              Selector to apply the styles to\n * @param props.hasBlockGapSupport    Whether the block supports block gap styles\n * @param props.hasFallbackGapSupport Whether the block supports fallback gap styles\n * @param props.fallbackGapValue      Fallback gap value to use if block gap support is\n *\n * @return Generated CSS rules for the layout styles\n */\nexport function getLayoutStyles( {\n\tlayoutDefinitions = LAYOUT_DEFINITIONS,\n\tstyle,\n\tselector,\n\thasBlockGapSupport,\n\thasFallbackGapSupport,\n\tfallbackGapValue,\n}: {\n\tlayoutDefinitions?: Record< string, LayoutDefinition >;\n\tstyle?: GlobalStylesStyles;\n\tselector?: string;\n\thasBlockGapSupport?: boolean;\n\thasFallbackGapSupport?: boolean;\n\tfallbackGapValue?: string;\n} ): string {\n\tlet ruleset = '';\n\tlet gapValue = hasBlockGapSupport\n\t\t? getGapCSSValue( style?.spacing?.blockGap )\n\t\t: '';\n\n\t// Ensure a fallback gap value for the root layout definitions,\n\t// and use a fallback value if one is provided for the current block.\n\tif ( hasFallbackGapSupport ) {\n\t\tif ( selector === ROOT_BLOCK_SELECTOR ) {\n\t\t\tgapValue = ! gapValue ? '0.5em' : gapValue;\n\t\t} else if ( ! hasBlockGapSupport && fallbackGapValue ) {\n\t\t\tgapValue = fallbackGapValue;\n\t\t}\n\t}\n\n\tif ( gapValue && layoutDefinitions ) {\n\t\tObject.values( layoutDefinitions ).forEach(\n\t\t\t( { className, name, spacingStyles } ) => {\n\t\t\t\t// Allow outputting fallback gap styles for flex layout type when block gap support isn't available.\n\t\t\t\tif (\n\t\t\t\t\t! hasBlockGapSupport &&\n\t\t\t\t\t'flex' !== name &&\n\t\t\t\t\t'grid' !== name\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( spacingStyles?.length ) {\n\t\t\t\t\tspacingStyles.forEach( ( spacingStyle: any ) => {\n\t\t\t\t\t\tconst declarations: string[] = [];\n\n\t\t\t\t\t\tif ( spacingStyle.rules ) {\n\t\t\t\t\t\t\tObject.entries( spacingStyle.rules ).forEach(\n\t\t\t\t\t\t\t\t( [ cssProperty, cssValue ] ) => {\n\t\t\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t\t\t`${ cssProperty }: ${\n\t\t\t\t\t\t\t\t\t\t\tcssValue ? cssValue : gapValue\n\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( declarations.length ) {\n\t\t\t\t\t\t\tlet combinedSelector = '';\n\n\t\t\t\t\t\t\tif ( ! hasBlockGapSupport ) {\n\t\t\t\t\t\t\t\t// For fallback gap styles, use lower specificity, to ensure styles do not unintentionally override theme styles.\n\t\t\t\t\t\t\t\tcombinedSelector =\n\t\t\t\t\t\t\t\t\tselector === ROOT_BLOCK_SELECTOR\n\t\t\t\t\t\t\t\t\t\t? `:where(.${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  })`\n\t\t\t\t\t\t\t\t\t\t: `:where(${ selector }.${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  })`;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcombinedSelector =\n\t\t\t\t\t\t\t\t\tselector === ROOT_BLOCK_SELECTOR\n\t\t\t\t\t\t\t\t\t\t? `:root :where(.${ className })${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t: `:root :where(${ selector }-${ className })${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  }`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\truleset += `${ combinedSelector } { ${ declarations.join(\n\t\t\t\t\t\t\t\t'; '\n\t\t\t\t\t\t\t) }; }`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t// For backwards compatibility, ensure the legacy block gap CSS variable is still available.\n\t\tif ( selector === ROOT_BLOCK_SELECTOR && hasBlockGapSupport ) {\n\t\t\truleset += `${ ROOT_CSS_PROPERTIES_SELECTOR } { --wp--style--block-gap: ${ gapValue }; }`;\n\t\t}\n\t}\n\n\t// Output base styles\n\tif ( selector === ROOT_BLOCK_SELECTOR && layoutDefinitions ) {\n\t\tconst validDisplayModes = [ 'block', 'flex', 'grid' ];\n\t\tObject.values( layoutDefinitions ).forEach(\n\t\t\t( { className, displayMode, baseStyles }: LayoutDefinition ) => {\n\t\t\t\tif (\n\t\t\t\t\tdisplayMode &&\n\t\t\t\t\tvalidDisplayModes.includes( displayMode )\n\t\t\t\t) {\n\t\t\t\t\truleset += `${ selector } .${ className } { display:${ displayMode }; }`;\n\t\t\t\t}\n\n\t\t\t\tif ( baseStyles?.length ) {\n\t\t\t\t\tbaseStyles.forEach( ( baseStyle: any ) => {\n\t\t\t\t\t\tconst declarations: string[] = [];\n\n\t\t\t\t\t\tif ( baseStyle.rules ) {\n\t\t\t\t\t\t\tObject.entries( baseStyle.rules ).forEach(\n\t\t\t\t\t\t\t\t( [ cssProperty, cssValue ] ) => {\n\t\t\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t\t\t`${ cssProperty }: ${ cssValue }`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( declarations.length ) {\n\t\t\t\t\t\t\tconst combinedSelector = `.${ className }${\n\t\t\t\t\t\t\t\tbaseStyle?.selector || ''\n\t\t\t\t\t\t\t}`;\n\t\t\t\t\t\t\truleset += `${ combinedSelector } { ${ declarations.join(\n\t\t\t\t\t\t\t\t'; '\n\t\t\t\t\t\t\t) }; }`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\treturn ruleset;\n}\n\nconst STYLE_KEYS = [\n\t'border',\n\t'color',\n\t'dimensions',\n\t'spacing',\n\t'typography',\n\t'filter',\n\t'outline',\n\t'shadow',\n\t'background',\n];\n\nfunction pickStyleKeys( treeToPickFrom: any ): any {\n\tif ( ! treeToPickFrom ) {\n\t\treturn {};\n\t}\n\tconst entries = Object.entries( treeToPickFrom );\n\tconst pickedEntries = entries.filter( ( [ key ] ) =>\n\t\tSTYLE_KEYS.includes( key )\n\t);\n\t// clone the style objects so that `getFeatureDeclarations` can remove consumed keys from it\n\tconst clonedEntries = pickedEntries.map( ( [ key, style ] ) => [\n\t\tkey,\n\t\tJSON.parse( JSON.stringify( style ) ),\n\t] );\n\treturn Object.fromEntries( clonedEntries );\n}\n\nexport const getNodesWithStyles = (\n\ttree: GlobalStylesConfig,\n\tblockSelectors: string | BlockSelectors\n): any[] => {\n\tconst nodes: {\n\t\tstyles: Partial< Omit< GlobalStylesStyles, 'elements' | 'blocks' > >;\n\t\tselector: string;\n\t\tskipSelectorWrapper?: boolean;\n\t\tduotoneSelector?: string;\n\t\tfeatureSelectors?:\n\t\t\t| string\n\t\t\t| Record< string, string | Record< string, string > >;\n\t\tfallbackGapValue?: string;\n\t\thasLayoutSupport?: boolean;\n\t\tstyleVariationSelectors?: Record< string, string >;\n\t}[] = [];\n\n\tif ( ! tree?.styles ) {\n\t\treturn nodes;\n\t}\n\n\t// Top-level.\n\tconst styles = pickStyleKeys( tree.styles );\n\tif ( styles ) {\n\t\tnodes.push( {\n\t\t\tstyles,\n\t\t\tselector: ROOT_BLOCK_SELECTOR,\n\t\t\t// Root selector (body) styles should not be wrapped in `:root where()` to keep\n\t\t\t// specificity at (0,0,1) and maintain backwards compatibility.\n\t\t\tskipSelectorWrapper: true,\n\t\t} );\n\t}\n\n\tObject.entries( ELEMENTS ).forEach( ( [ name, selector ] ) => {\n\t\tif ( tree.styles?.elements?.[ name ] ) {\n\t\t\tnodes.push( {\n\t\t\t\tstyles: tree.styles?.elements?.[ name ] ?? {},\n\t\t\t\tselector: selector as string,\n\t\t\t\t// Top level elements that don't use a class name should not receive the\n\t\t\t\t// `:root :where()` wrapper to maintain backwards compatibility.\n\t\t\t\tskipSelectorWrapper: ! (\n\t\t\t\t\tELEMENT_CLASS_NAMES as Record< string, string >\n\t\t\t\t )[ name ],\n\t\t\t} );\n\t\t}\n\t} );\n\n\t// Iterate over blocks: they can have styles & elements.\n\tObject.entries( tree.styles?.blocks ?? {} ).forEach(\n\t\t( [ blockName, node ] ) => {\n\t\t\tconst blockStyles = pickStyleKeys( node );\n\t\t\tconst typedNode = node as BlockNode;\n\n\t\t\t// Store variation data for later processing, but don't add to nodes yet.\n\t\t\t// Variations should be processed AFTER the main block styles to match PHP order.\n\t\t\tconst variationNodesToAdd: typeof nodes = [];\n\n\t\t\tif ( typedNode?.variations ) {\n\t\t\t\tconst variations: Record< string, any > = {};\n\t\t\t\tObject.entries( typedNode.variations ).forEach(\n\t\t\t\t\t( [ variationName, variation ] ) => {\n\t\t\t\t\t\tconst typedVariation = variation as BlockVariation;\n\t\t\t\t\t\tvariations[ variationName ] =\n\t\t\t\t\t\t\tpickStyleKeys( typedVariation );\n\t\t\t\t\t\tif ( typedVariation?.css ) {\n\t\t\t\t\t\t\tvariations[ variationName ].css =\n\t\t\t\t\t\t\t\ttypedVariation.css;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst variationSelector =\n\t\t\t\t\t\t\ttypeof blockSelectors !== 'string'\n\t\t\t\t\t\t\t\t? blockSelectors[ blockName ]\n\t\t\t\t\t\t\t\t\t\t?.styleVariationSelectors?.[\n\t\t\t\t\t\t\t\t\t\tvariationName\n\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t: undefined;\n\n\t\t\t\t\t\t// Process the variation's inner element styles.\n\t\t\t\t\t\t// This comes before the inner block styles so the\n\t\t\t\t\t\t// element styles within the block type styles take\n\t\t\t\t\t\t// precedence over these.\n\t\t\t\t\t\tObject.entries(\n\t\t\t\t\t\t\ttypedVariation?.elements ?? {}\n\t\t\t\t\t\t).forEach( ( [ element, elementStyles ] ) => {\n\t\t\t\t\t\t\tif ( elementStyles && ELEMENTS[ element ] ) {\n\t\t\t\t\t\t\t\tvariationNodesToAdd.push( {\n\t\t\t\t\t\t\t\t\tstyles: elementStyles,\n\t\t\t\t\t\t\t\t\tselector: scopeSelector(\n\t\t\t\t\t\t\t\t\t\tvariationSelector,\n\t\t\t\t\t\t\t\t\t\tELEMENTS[ element ]\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t// Process the variations inner block type styles.\n\t\t\t\t\t\tObject.entries( typedVariation?.blocks ?? {} ).forEach(\n\t\t\t\t\t\t\t( [\n\t\t\t\t\t\t\t\tvariationBlockName,\n\t\t\t\t\t\t\t\tvariationBlockStyles,\n\t\t\t\t\t\t\t] ) => {\n\t\t\t\t\t\t\t\tconst variationBlockSelector =\n\t\t\t\t\t\t\t\t\ttypeof blockSelectors !== 'string'\n\t\t\t\t\t\t\t\t\t\t? scopeSelector(\n\t\t\t\t\t\t\t\t\t\t\t\tvariationSelector,\n\t\t\t\t\t\t\t\t\t\t\t\tblockSelectors[\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariationBlockName\n\t\t\t\t\t\t\t\t\t\t\t\t]?.selector\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\t\t\t\tconst variationDuotoneSelector =\n\t\t\t\t\t\t\t\t\ttypeof blockSelectors !== 'string'\n\t\t\t\t\t\t\t\t\t\t? scopeSelector(\n\t\t\t\t\t\t\t\t\t\t\t\tvariationSelector,\n\t\t\t\t\t\t\t\t\t\t\t\tblockSelectors[\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariationBlockName\n\t\t\t\t\t\t\t\t\t\t\t\t]?.duotoneSelector as string\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\t\t\t\tconst variationFeatureSelectors =\n\t\t\t\t\t\t\t\t\ttypeof blockSelectors !== 'string'\n\t\t\t\t\t\t\t\t\t\t? scopeFeatureSelectors(\n\t\t\t\t\t\t\t\t\t\t\t\tvariationSelector,\n\t\t\t\t\t\t\t\t\t\t\t\tblockSelectors[\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariationBlockName\n\t\t\t\t\t\t\t\t\t\t\t\t]?.featureSelectors ?? {}\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: undefined;\n\n\t\t\t\t\t\t\t\tconst variationBlockStyleNodes =\n\t\t\t\t\t\t\t\t\tpickStyleKeys( variationBlockStyles );\n\n\t\t\t\t\t\t\t\tif ( variationBlockStyles?.css ) {\n\t\t\t\t\t\t\t\t\tvariationBlockStyleNodes.css =\n\t\t\t\t\t\t\t\t\t\tvariationBlockStyles.css;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t! variationBlockSelector ||\n\t\t\t\t\t\t\t\t\ttypeof blockSelectors === 'string'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvariationNodesToAdd.push( {\n\t\t\t\t\t\t\t\t\tselector: variationBlockSelector,\n\t\t\t\t\t\t\t\t\tduotoneSelector: variationDuotoneSelector,\n\t\t\t\t\t\t\t\t\tfeatureSelectors: variationFeatureSelectors,\n\t\t\t\t\t\t\t\t\tfallbackGapValue:\n\t\t\t\t\t\t\t\t\t\tblockSelectors[ variationBlockName ]\n\t\t\t\t\t\t\t\t\t\t\t?.fallbackGapValue,\n\t\t\t\t\t\t\t\t\thasLayoutSupport:\n\t\t\t\t\t\t\t\t\t\tblockSelectors[ variationBlockName ]\n\t\t\t\t\t\t\t\t\t\t\t?.hasLayoutSupport,\n\t\t\t\t\t\t\t\t\tstyles: variationBlockStyleNodes,\n\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t// Process element styles for the inner blocks\n\t\t\t\t\t\t\t\t// of the variation.\n\t\t\t\t\t\t\t\tObject.entries(\n\t\t\t\t\t\t\t\t\tvariationBlockStyles.elements ?? {}\n\t\t\t\t\t\t\t\t).forEach(\n\t\t\t\t\t\t\t\t\t( [\n\t\t\t\t\t\t\t\t\t\tvariationBlockElement,\n\t\t\t\t\t\t\t\t\t\tvariationBlockElementStyles,\n\t\t\t\t\t\t\t\t\t] ) => {\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tvariationBlockElementStyles &&\n\t\t\t\t\t\t\t\t\t\t\tELEMENTS[ variationBlockElement ]\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tvariationNodesToAdd.push( {\n\t\t\t\t\t\t\t\t\t\t\t\tstyles: variationBlockElementStyles,\n\t\t\t\t\t\t\t\t\t\t\t\tselector: scopeSelector(\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariationBlockSelector,\n\t\t\t\t\t\t\t\t\t\t\t\t\tELEMENTS[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariationBlockElement\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tblockStyles.variations = variations;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof blockSelectors !== 'string' &&\n\t\t\t\tblockSelectors?.[ blockName ]?.selector\n\t\t\t) {\n\t\t\t\tnodes.push( {\n\t\t\t\t\tduotoneSelector:\n\t\t\t\t\t\tblockSelectors[ blockName ].duotoneSelector,\n\t\t\t\t\tfallbackGapValue:\n\t\t\t\t\t\tblockSelectors[ blockName ].fallbackGapValue,\n\t\t\t\t\thasLayoutSupport:\n\t\t\t\t\t\tblockSelectors[ blockName ].hasLayoutSupport,\n\t\t\t\t\tselector: blockSelectors[ blockName ].selector,\n\t\t\t\t\tstyles: blockStyles,\n\t\t\t\t\tfeatureSelectors:\n\t\t\t\t\t\tblockSelectors[ blockName ].featureSelectors,\n\t\t\t\t\tstyleVariationSelectors:\n\t\t\t\t\t\tblockSelectors[ blockName ].styleVariationSelectors,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tObject.entries( typedNode?.elements ?? {} ).forEach(\n\t\t\t\t( [ elementName, value ] ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof blockSelectors !== 'string' &&\n\t\t\t\t\t\tvalue &&\n\t\t\t\t\t\tblockSelectors?.[ blockName ] &&\n\t\t\t\t\t\tELEMENTS[ elementName ]\n\t\t\t\t\t) {\n\t\t\t\t\t\tnodes.push( {\n\t\t\t\t\t\t\tstyles: value,\n\t\t\t\t\t\t\tselector: blockSelectors[ blockName ]?.selector\n\t\t\t\t\t\t\t\t.split( ',' )\n\t\t\t\t\t\t\t\t.map( ( sel: string ) => {\n\t\t\t\t\t\t\t\t\tconst elementSelectors =\n\t\t\t\t\t\t\t\t\t\tELEMENTS[ elementName ].split( ',' );\n\t\t\t\t\t\t\t\t\treturn elementSelectors.map(\n\t\t\t\t\t\t\t\t\t\t( elementSelector: string ) =>\n\t\t\t\t\t\t\t\t\t\t\tsel + ' ' + elementSelector\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t.join( ',' ),\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t// Add variation nodes AFTER the main block and its elements\n\t\t\t// to match PHP processing order.\n\t\t\tnodes.push( ...variationNodesToAdd );\n\t\t}\n\t);\n\n\treturn nodes;\n};\n\nexport const getNodesWithSettings = (\n\ttree: GlobalStylesConfig,\n\tblockSelectors: string | BlockSelectors\n): any[] => {\n\tconst nodes: {\n\t\tpresets: Record< string, any >;\n\t\tcustom?: Record< string, any >;\n\t\tselector?: string;\n\t\tduotoneSelector?: string;\n\t\tfallbackGapValue?: string;\n\t\thasLayoutSupport?: boolean;\n\t\tfeatureSelectors?: Record< string, string >;\n\t\tstyleVariationSelectors?: Record< string, string >;\n\t}[] = [];\n\n\tif ( ! tree?.settings ) {\n\t\treturn nodes;\n\t}\n\n\tconst pickPresets = ( treeToPickFrom: any ): any => {\n\t\tlet presets = {};\n\t\tPRESET_METADATA.forEach( ( { path } ) => {\n\t\t\tconst value = getValueFromObjectPath( treeToPickFrom, path, false );\n\t\t\tif ( value !== false ) {\n\t\t\t\tpresets = setImmutably( presets, path, value );\n\t\t\t}\n\t\t} );\n\t\treturn presets;\n\t};\n\n\t// Top-level.\n\tconst presets = pickPresets( tree.settings );\n\tconst custom = tree.settings?.custom;\n\tif ( Object.keys( presets ).length > 0 || custom ) {\n\t\tnodes.push( {\n\t\t\tpresets,\n\t\t\tcustom,\n\t\t\tselector: ROOT_CSS_PROPERTIES_SELECTOR,\n\t\t} );\n\t}\n\n\t// Blocks.\n\tObject.entries( tree.settings?.blocks ?? {} ).forEach(\n\t\t( [ blockName, node ] ) => {\n\t\t\tconst blockCustom = node.custom;\n\t\t\tif (\n\t\t\t\ttypeof blockSelectors === 'string' ||\n\t\t\t\t! blockSelectors[ blockName ]\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst blockPresets = pickPresets( node );\n\t\t\tif ( Object.keys( blockPresets ).length > 0 || blockCustom ) {\n\t\t\t\tnodes.push( {\n\t\t\t\t\tpresets: blockPresets,\n\t\t\t\t\tcustom: blockCustom,\n\t\t\t\t\tselector: blockSelectors[ blockName ]?.selector,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t);\n\n\treturn nodes;\n};\n\nexport const generateCustomProperties = (\n\ttree: GlobalStylesConfig,\n\tblockSelectors: BlockSelectors\n): string => {\n\tconst settings = getNodesWithSettings( tree, blockSelectors );\n\tlet ruleset = '';\n\tsettings.forEach( ( { presets, custom, selector } ) => {\n\t\tconst declarations = tree?.settings\n\t\t\t? getPresetsDeclarations( presets, tree?.settings )\n\t\t\t: [];\n\t\tconst customProps = flattenTree( custom, '--wp--custom--', '--' );\n\t\tif ( customProps.length > 0 ) {\n\t\t\tdeclarations.push( ...customProps );\n\t\t}\n\n\t\tif ( declarations.length > 0 ) {\n\t\t\truleset += `${ selector }{${ declarations.join( ';' ) };}`;\n\t\t}\n\t} );\n\n\treturn ruleset;\n};\n\nexport const transformToStyles = (\n\ttree: GlobalStylesConfig,\n\tblockSelectors: string | BlockSelectors,\n\thasBlockGapSupport?: boolean,\n\thasFallbackGapSupport?: boolean,\n\tdisableLayoutStyles: boolean = false,\n\tdisableRootPadding: boolean = false,\n\tstyleOptions: Record< string, boolean > = {}\n): string => {\n\t// These allow opting out of certain sets of styles.\n\tconst options = {\n\t\tblockGap: true,\n\t\tblockStyles: true,\n\t\tlayoutStyles: true,\n\t\tmarginReset: true,\n\t\tpresets: true,\n\t\trootPadding: true,\n\t\tvariationStyles: false,\n\t\t...styleOptions,\n\t};\n\tconst nodesWithStyles = getNodesWithStyles( tree, blockSelectors );\n\tconst nodesWithSettings = getNodesWithSettings( tree, blockSelectors );\n\tconst useRootPaddingAlign = tree?.settings?.useRootPaddingAwareAlignments;\n\tconst { contentSize, wideSize } = tree?.settings?.layout || {};\n\tconst hasBodyStyles =\n\t\toptions.marginReset || options.rootPadding || options.layoutStyles;\n\n\tlet ruleset = '';\n\n\tif ( options.presets && ( contentSize || wideSize ) ) {\n\t\truleset += `${ ROOT_CSS_PROPERTIES_SELECTOR } {`;\n\t\truleset = contentSize\n\t\t\t? ruleset + ` --wp--style--global--content-size: ${ contentSize };`\n\t\t\t: ruleset;\n\t\truleset = wideSize\n\t\t\t? ruleset + ` --wp--style--global--wide-size: ${ wideSize };`\n\t\t\t: ruleset;\n\t\truleset += '}';\n\t}\n\n\tif ( hasBodyStyles ) {\n\t\t/*\n\t\t * Reset default browser margin on the body element.\n\t\t * This is set on the body selector **before** generating the ruleset\n\t\t * from the `theme.json`. This is to ensure that if the `theme.json` declares\n\t\t * `margin` in its `spacing` declaration for the `body` element then these\n\t\t * user-generated values take precedence in the CSS cascade.\n\t\t * @link https://github.com/WordPress/gutenberg/issues/36147.\n\t\t */\n\t\truleset += ':where(body) {margin: 0;';\n\n\t\t// Root padding styles should be output for full templates, patterns and template parts.\n\t\tif ( options.rootPadding && useRootPaddingAlign ) {\n\t\t\t/*\n\t\t\t * These rules reproduce the ones from https://github.com/WordPress/gutenberg/blob/79103f124925d1f457f627e154f52a56228ed5ad/lib/class-wp-theme-json-gutenberg.php#L2508\n\t\t\t * almost exactly, but for the selectors that target block wrappers in the front end. This code only runs in the editor, so it doesn't need those selectors.\n\t\t\t */\n\t\t\truleset += `padding-right: 0; padding-left: 0; padding-top: var(--wp--style--root--padding-top); padding-bottom: var(--wp--style--root--padding-bottom) }\n\t\t\t\t.has-global-padding { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t\t.has-global-padding > .alignfull { margin-right: calc(var(--wp--style--root--padding-right) * -1); margin-left: calc(var(--wp--style--root--padding-left) * -1); }\n\t\t\t\t.has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) { padding-right: 0; padding-left: 0; }\n\t\t\t\t.has-global-padding :where(:not(.alignfull.is-layout-flow) > .has-global-padding:not(.wp-block-block, .alignfull)) > .alignfull { margin-left: 0; margin-right: 0;\n\t\t\t\t`;\n\t\t}\n\n\t\truleset += '}';\n\t}\n\n\tif ( options.blockStyles ) {\n\t\tnodesWithStyles.forEach(\n\t\t\t( {\n\t\t\t\tselector,\n\t\t\t\tduotoneSelector,\n\t\t\t\tstyles,\n\t\t\t\tfallbackGapValue,\n\t\t\t\thasLayoutSupport,\n\t\t\t\tfeatureSelectors,\n\t\t\t\tstyleVariationSelectors,\n\t\t\t\tskipSelectorWrapper,\n\t\t\t} ) => {\n\t\t\t\t// Process styles for block support features with custom feature level\n\t\t\t\t// CSS selectors set.\n\t\t\t\tif ( featureSelectors ) {\n\t\t\t\t\tconst featureDeclarations = getFeatureDeclarations(\n\t\t\t\t\t\tfeatureSelectors,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t);\n\n\t\t\t\t\tObject.entries( featureDeclarations ).forEach(\n\t\t\t\t\t\t( [ cssSelector, declarations ] ) => {\n\t\t\t\t\t\t\tif ( declarations.length ) {\n\t\t\t\t\t\t\t\tconst rules = declarations.join( ';' );\n\t\t\t\t\t\t\t\truleset += `:root :where(${ cssSelector }){${ rules };}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// Process duotone styles.\n\t\t\t\tif ( duotoneSelector ) {\n\t\t\t\t\tconst duotoneStyles: any = {};\n\t\t\t\t\tif ( styles?.filter ) {\n\t\t\t\t\t\tduotoneStyles.filter = styles.filter;\n\t\t\t\t\t\tdelete styles.filter;\n\t\t\t\t\t}\n\t\t\t\t\tconst duotoneDeclarations =\n\t\t\t\t\t\tgetStylesDeclarations( duotoneStyles );\n\t\t\t\t\tif ( duotoneDeclarations.length ) {\n\t\t\t\t\t\truleset += `${ duotoneSelector }{${ duotoneDeclarations.join(\n\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t) };}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Process blockGap and layout styles.\n\t\t\t\tif (\n\t\t\t\t\t! disableLayoutStyles &&\n\t\t\t\t\t( ROOT_BLOCK_SELECTOR === selector || hasLayoutSupport )\n\t\t\t\t) {\n\t\t\t\t\truleset += getLayoutStyles( {\n\t\t\t\t\t\tstyle: styles,\n\t\t\t\t\t\tselector,\n\t\t\t\t\t\thasBlockGapSupport,\n\t\t\t\t\t\thasFallbackGapSupport,\n\t\t\t\t\t\tfallbackGapValue,\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// Process the remaining block styles (they use either normal block class or __experimentalSelector).\n\t\t\t\tconst styleDeclarations = getStylesDeclarations(\n\t\t\t\t\tstyles,\n\t\t\t\t\tselector,\n\t\t\t\t\tuseRootPaddingAlign,\n\t\t\t\t\ttree,\n\t\t\t\t\tdisableRootPadding\n\t\t\t\t);\n\t\t\t\tif ( styleDeclarations?.length ) {\n\t\t\t\t\tconst generalSelector = skipSelectorWrapper\n\t\t\t\t\t\t? selector\n\t\t\t\t\t\t: `:root :where(${ selector })`;\n\t\t\t\t\truleset += `${ generalSelector }{${ styleDeclarations.join(\n\t\t\t\t\t\t';'\n\t\t\t\t\t) };}`;\n\t\t\t\t}\n\t\t\t\tif ( styles?.css ) {\n\t\t\t\t\truleset += processCSSNesting(\n\t\t\t\t\t\tstyles.css,\n\t\t\t\t\t\t`:root :where(${ selector })`\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif ( options.variationStyles && styleVariationSelectors ) {\n\t\t\t\t\tObject.entries( styleVariationSelectors ).forEach(\n\t\t\t\t\t\t( [ styleVariationName, styleVariationSelector ] ) => {\n\t\t\t\t\t\t\tconst styleVariations =\n\t\t\t\t\t\t\t\tstyles?.variations?.[ styleVariationName ];\n\t\t\t\t\t\t\tif ( styleVariations ) {\n\t\t\t\t\t\t\t\t// If the block uses any custom selectors for block support, add those first.\n\t\t\t\t\t\t\t\tif ( featureSelectors ) {\n\t\t\t\t\t\t\t\t\tconst featureDeclarations =\n\t\t\t\t\t\t\t\t\t\tgetFeatureDeclarations(\n\t\t\t\t\t\t\t\t\t\t\tfeatureSelectors,\n\t\t\t\t\t\t\t\t\t\t\tstyleVariations\n\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tObject.entries(\n\t\t\t\t\t\t\t\t\t\tfeatureDeclarations\n\t\t\t\t\t\t\t\t\t).forEach(\n\t\t\t\t\t\t\t\t\t\t( [ baseSelector, declarations ]: [\n\t\t\t\t\t\t\t\t\t\t\tstring,\n\t\t\t\t\t\t\t\t\t\t\tstring[],\n\t\t\t\t\t\t\t\t\t\t] ) => {\n\t\t\t\t\t\t\t\t\t\t\tif ( declarations.length ) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst cssSelector =\n\t\t\t\t\t\t\t\t\t\t\t\t\tconcatFeatureVariationSelectorString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbaseSelector,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyleVariationSelector as string\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\tconst rules =\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeclarations.join( ';' );\n\t\t\t\t\t\t\t\t\t\t\t\truleset += `:root :where(${ cssSelector }){${ rules };}`;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Otherwise add regular selectors.\n\t\t\t\t\t\t\t\tconst styleVariationDeclarations =\n\t\t\t\t\t\t\t\t\tgetStylesDeclarations(\n\t\t\t\t\t\t\t\t\t\tstyleVariations,\n\t\t\t\t\t\t\t\t\t\tstyleVariationSelector as string,\n\t\t\t\t\t\t\t\t\t\tuseRootPaddingAlign,\n\t\t\t\t\t\t\t\t\t\ttree\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif ( styleVariationDeclarations.length ) {\n\t\t\t\t\t\t\t\t\truleset += `:root :where(${ styleVariationSelector }){${ styleVariationDeclarations.join(\n\t\t\t\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t\t\t\t) };}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( styleVariations?.css ) {\n\t\t\t\t\t\t\t\t\truleset += processCSSNesting(\n\t\t\t\t\t\t\t\t\t\tstyleVariations.css,\n\t\t\t\t\t\t\t\t\t\t`:root :where(${ styleVariationSelector })`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Generate layout styles for the variation if it supports layout and has blockGap defined.\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\thasLayoutSupport &&\n\t\t\t\t\t\t\t\t\tstyleVariations?.spacing?.blockGap\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t// Append block selector to variation selector so layout classes are properly constructed.\n\t\t\t\t\t\t\t\t\tconst variationSelectorWithBlock =\n\t\t\t\t\t\t\t\t\t\tstyleVariationSelector + selector;\n\t\t\t\t\t\t\t\t\truleset += getLayoutStyles( {\n\t\t\t\t\t\t\t\t\t\tstyle: styleVariations,\n\t\t\t\t\t\t\t\t\t\tselector: variationSelectorWithBlock,\n\t\t\t\t\t\t\t\t\t\thasBlockGapSupport: true,\n\t\t\t\t\t\t\t\t\t\thasFallbackGapSupport,\n\t\t\t\t\t\t\t\t\t\tfallbackGapValue,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// Check for pseudo selector in `styles` and handle separately.\n\t\t\t\tconst pseudoSelectorStyles = Object.entries( styles ).filter(\n\t\t\t\t\t( [ key ] ) => key.startsWith( ':' )\n\t\t\t\t);\n\n\t\t\t\tif ( pseudoSelectorStyles?.length ) {\n\t\t\t\t\tpseudoSelectorStyles.forEach(\n\t\t\t\t\t\t( [ pseudoKey, pseudoStyle ] ) => {\n\t\t\t\t\t\t\tconst pseudoDeclarations =\n\t\t\t\t\t\t\t\tgetStylesDeclarations( pseudoStyle );\n\n\t\t\t\t\t\t\tif ( ! pseudoDeclarations?.length ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// `selector` may be provided in a form\n\t\t\t\t\t\t\t// where block level selectors have sub element\n\t\t\t\t\t\t\t// selectors appended to them as a comma separated\n\t\t\t\t\t\t\t// string.\n\t\t\t\t\t\t\t// e.g. `h1 a,h2 a,h3 a,h4 a,h5 a,h6 a`;\n\t\t\t\t\t\t\t// Split and append pseudo selector to create\n\t\t\t\t\t\t\t// the proper rules to target the elements.\n\t\t\t\t\t\t\tconst _selector = selector\n\t\t\t\t\t\t\t\t.split( ',' )\n\t\t\t\t\t\t\t\t.map( ( sel: string ) => sel + pseudoKey )\n\t\t\t\t\t\t\t\t.join( ',' );\n\n\t\t\t\t\t\t\t// As pseudo classes such as :hover, :focus etc. have class-level\n\t\t\t\t\t\t\t// specificity, they must use the `:root :where()` wrapper. This.\n\t\t\t\t\t\t\t// caps the specificity at `0-1-0` to allow proper nesting of variations\n\t\t\t\t\t\t\t// and block type element styles.\n\t\t\t\t\t\t\tconst pseudoRule = `:root :where(${ _selector }){${ pseudoDeclarations.join(\n\t\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t\t) };}`;\n\n\t\t\t\t\t\t\truleset += pseudoRule;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tif ( options.layoutStyles ) {\n\t\t/* Add alignment / layout styles */\n\t\truleset =\n\t\t\truleset +\n\t\t\t'.wp-site-blocks > .alignleft { float: left; margin-right: 2em; }';\n\t\truleset =\n\t\t\truleset +\n\t\t\t'.wp-site-blocks > .alignright { float: right; margin-left: 2em; }';\n\t\truleset =\n\t\t\truleset +\n\t\t\t'.wp-site-blocks > .aligncenter { justify-content: center; margin-left: auto; margin-right: auto; }';\n\t}\n\n\tif ( options.blockGap && hasBlockGapSupport ) {\n\t\t// Use fallback of `0.5em` just in case, however if there is blockGap support, there should nearly always be a real value.\n\t\tconst gapValue =\n\t\t\tgetGapCSSValue( tree?.styles?.spacing?.blockGap ) || '0.5em';\n\t\truleset =\n\t\t\truleset +\n\t\t\t`:root :where(.wp-site-blocks) > * { margin-block-start: ${ gapValue }; margin-block-end: 0; }`;\n\t\truleset =\n\t\t\truleset +\n\t\t\t':root :where(.wp-site-blocks) > :first-child { margin-block-start: 0; }';\n\t\truleset =\n\t\t\truleset +\n\t\t\t':root :where(.wp-site-blocks) > :last-child { margin-block-end: 0; }';\n\t}\n\n\tif ( options.presets ) {\n\t\tnodesWithSettings.forEach( ( { selector, presets } ) => {\n\t\t\tif (\n\t\t\t\tROOT_BLOCK_SELECTOR === selector ||\n\t\t\t\tROOT_CSS_PROPERTIES_SELECTOR === selector\n\t\t\t) {\n\t\t\t\t// Do not add extra specificity for top-level classes.\n\t\t\t\tselector = '';\n\t\t\t}\n\n\t\t\tconst classes = getPresetsClasses( selector, presets );\n\t\t\tif ( classes.length > 0 ) {\n\t\t\t\truleset += classes;\n\t\t\t}\n\t\t} );\n\t}\n\n\treturn ruleset;\n};\n\nexport function generateSvgFilters(\n\ttree: GlobalStylesConfig,\n\tblockSelectors: BlockSelectors\n): string[] {\n\tconst nodesWithSettings = getNodesWithSettings( tree, blockSelectors );\n\treturn nodesWithSettings.flatMap( ( { presets } ) => {\n\t\treturn getPresetsSvgFilters( presets );\n\t} );\n}\n\nconst getSelectorsConfig = ( blockType: BlockType, rootSelector: string ) => {\n\tif (\n\t\tblockType?.selectors &&\n\t\tObject.keys( blockType.selectors ).length > 0\n\t) {\n\t\treturn blockType.selectors;\n\t}\n\n\tconst config: Record< string, string > = {\n\t\troot: rootSelector,\n\t};\n\tObject.entries( BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS ).forEach(\n\t\t( [ featureKey, featureName ] ) => {\n\t\t\tconst featureSelector = getBlockSelector( blockType, featureKey );\n\n\t\t\tif ( featureSelector ) {\n\t\t\t\tconfig[ featureName ] = featureSelector;\n\t\t\t}\n\t\t}\n\t);\n\n\treturn config;\n};\n\nexport const getBlockSelectors = (\n\tblockTypes: BlockType[],\n\tvariationInstanceId?: string\n) => {\n\tconst { getBlockStyles } = select( blocksStore );\n\tconst result: BlockSelectors = {};\n\tblockTypes.forEach( ( blockType ) => {\n\t\tconst name = blockType.name;\n\t\tconst selector = getBlockSelector( blockType );\n\n\t\tif ( ! selector ) {\n\t\t\treturn; // Skip blocks without valid selectors\n\t\t}\n\t\tlet duotoneSelector = getBlockSelector( blockType, 'filter.duotone' );\n\t\t// Keep backwards compatibility for support.color.__experimentalDuotone.\n\t\tif ( ! duotoneSelector ) {\n\t\t\tconst rootSelector = getBlockSelector( blockType );\n\t\t\tconst duotoneSupport = getBlockSupport(\n\t\t\t\tblockType,\n\t\t\t\t'color.__experimentalDuotone',\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tduotoneSelector =\n\t\t\t\tduotoneSupport &&\n\t\t\t\trootSelector &&\n\t\t\t\tscopeSelector( rootSelector, duotoneSupport );\n\t\t}\n\n\t\tconst hasLayoutSupport =\n\t\t\t!! blockType?.supports?.layout ||\n\t\t\t!! blockType?.supports?.__experimentalLayout;\n\t\tconst fallbackGapValue =\n\t\t\t// @ts-expect-error\n\t\t\tblockType?.supports?.spacing?.blockGap?.__experimentalDefault;\n\n\t\tconst blockStyleVariations = getBlockStyles( name );\n\t\tconst styleVariationSelectors: Record< string, string > = {};\n\t\tblockStyleVariations?.forEach( ( variation: BlockStyleVariation ) => {\n\t\t\tconst variationSuffix = variationInstanceId\n\t\t\t\t? `-${ variationInstanceId }`\n\t\t\t\t: '';\n\t\t\tconst variationName = `${ variation.name }${ variationSuffix }`;\n\t\t\tconst styleVariationSelector = getBlockStyleVariationSelector(\n\t\t\t\tvariationName,\n\t\t\t\tselector\n\t\t\t);\n\n\t\t\tstyleVariationSelectors[ variationName ] = styleVariationSelector;\n\t\t} );\n\n\t\t// For each block support feature add any custom selectors.\n\t\tconst featureSelectors = getSelectorsConfig( blockType, selector );\n\n\t\tresult[ name ] = {\n\t\t\tduotoneSelector: duotoneSelector ?? undefined,\n\t\t\tfallbackGapValue,\n\t\t\tfeatureSelectors: Object.keys( featureSelectors ).length\n\t\t\t\t? featureSelectors\n\t\t\t\t: undefined,\n\t\t\thasLayoutSupport,\n\t\t\tname,\n\t\t\tselector,\n\t\t\tstyleVariationSelectors: blockStyleVariations?.length\n\t\t\t\t? styleVariationSelectors\n\t\t\t\t: undefined,\n\t\t};\n\t} );\n\n\treturn result;\n};\n\n/**\n * If there is a separator block whose color is defined in theme.json via background,\n * update the separator color to the same value by using border color.\n *\n * @param config Theme.json configuration file object\n * @return Theme.json configuration file object updated\n */\nfunction updateConfigWithSeparator(\n\tconfig: GlobalStylesConfig\n): GlobalStylesConfig {\n\tconst blocks = config.styles?.blocks;\n\tconst separatorBlock = blocks?.[ 'core/separator' ];\n\tconst needsSeparatorStyleUpdate =\n\t\tseparatorBlock &&\n\t\tseparatorBlock.color?.background &&\n\t\t! separatorBlock.color?.text &&\n\t\t! separatorBlock.border?.color;\n\tif ( needsSeparatorStyleUpdate ) {\n\t\treturn {\n\t\t\t...config,\n\t\t\tstyles: {\n\t\t\t\t...config.styles,\n\t\t\t\tblocks: {\n\t\t\t\t\t...blocks,\n\t\t\t\t\t'core/separator': {\n\t\t\t\t\t\t...separatorBlock,\n\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t...separatorBlock.color,\n\t\t\t\t\t\t\ttext: separatorBlock.color?.background,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\treturn config;\n}\n\nexport function processCSSNesting( css: string, blockSelector: string ) {\n\tlet processedCSS = '';\n\n\tif ( ! css || css.trim() === '' ) {\n\t\treturn processedCSS;\n\t}\n\n\t// Split CSS nested rules.\n\tconst parts = css.split( '&' );\n\tparts.forEach( ( part: string ) => {\n\t\tif ( ! part || part.trim() === '' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isRootCss = ! part.includes( '{' );\n\t\tif ( isRootCss ) {\n\t\t\t// If the part doesn't contain braces, it applies to the root level.\n\t\t\tprocessedCSS += `:root :where(${ blockSelector }){${ part.trim() }}`;\n\t\t} else {\n\t\t\t// If the part contains braces, it's a nested CSS rule.\n\t\t\tconst splitPart = part.replace( '}', '' ).split( '{' );\n\t\t\tif ( splitPart.length !== 2 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst [ nestedSelector, cssValue ] = splitPart;\n\n\t\t\t// Handle pseudo elements such as ::before, ::after, etc. Regex will also\n\t\t\t// capture any leading combinator such as >, +, or ~, as well as spaces.\n\t\t\t// This allows pseudo elements as descendants e.g. `.parent ::before`.\n\t\t\tconst matches = nestedSelector.match( /([>+~\\s]*::[a-zA-Z-]+)/ );\n\t\t\tconst pseudoPart = matches ? matches[ 1 ] : '';\n\t\t\tconst withoutPseudoElement = matches\n\t\t\t\t? nestedSelector.replace( pseudoPart, '' ).trim()\n\t\t\t\t: nestedSelector.trim();\n\n\t\t\tlet combinedSelector;\n\t\t\tif ( withoutPseudoElement === '' ) {\n\t\t\t\t// Only contained a pseudo element to use the block selector to form\n\t\t\t\t// the final `:root :where()` selector.\n\t\t\t\tcombinedSelector = blockSelector;\n\t\t\t} else {\n\t\t\t\t// If the nested selector is a descendant of the block scope it with the\n\t\t\t\t// block selector. Otherwise append it to the block selector.\n\t\t\t\tcombinedSelector = nestedSelector.startsWith( ' ' )\n\t\t\t\t\t? scopeSelector( blockSelector, withoutPseudoElement )\n\t\t\t\t\t: appendToSelector( blockSelector, withoutPseudoElement );\n\t\t\t}\n\n\t\t\t// Build final rule, re-adding any pseudo element outside the `:where()`\n\t\t\t// to maintain valid CSS selector.\n\t\t\tprocessedCSS += `:root :where(${ combinedSelector })${ pseudoPart }{${ cssValue.trim() }}`;\n\t\t}\n\t} );\n\treturn processedCSS;\n}\n\nexport interface GlobalStylesRenderOptions {\n\thasBlockGapSupport?: boolean;\n\thasFallbackGapSupport?: boolean;\n\tdisableLayoutStyles?: boolean;\n\tdisableRootPadding?: boolean;\n\tgetBlockStyles?: ( blockName: string ) => any[];\n\tstyleOptions?: Record< string, boolean >;\n}\n\n/**\n * Returns the global styles output based on the current state of global styles config loaded in the editor context.\n *\n * @param config     Global styles configuration\n * @param blockTypes Array of block types from WordPress blocks store\n * @param options    Options for rendering global styles\n * @return Array of stylesheets and settings\n */\nexport function generateGlobalStyles(\n\tconfig: GlobalStylesConfig | undefined = {},\n\tblockTypes: any[] = [],\n\toptions: GlobalStylesRenderOptions = {}\n): [ any[], any ] {\n\tconst {\n\t\thasBlockGapSupport: hasBlockGapSupportOption,\n\t\thasFallbackGapSupport: hasFallbackGapSupportOption,\n\t\tdisableLayoutStyles = false,\n\t\tdisableRootPadding = false,\n\t\tstyleOptions = {},\n\t} = options;\n\n\t// Use provided block types or fall back to getBlockTypes()\n\tconst blocks = blockTypes.length > 0 ? blockTypes : getBlockTypes();\n\n\tconst blockGap = getSetting( config, 'spacing.blockGap' );\n\tconst hasBlockGapSupport = hasBlockGapSupportOption ?? blockGap !== null;\n\tconst hasFallbackGapSupport =\n\t\thasFallbackGapSupportOption ?? ! hasBlockGapSupport;\n\n\tif ( ! config?.styles || ! config?.settings ) {\n\t\treturn [ [], {} ];\n\t}\n\tconst updatedConfig = updateConfigWithSeparator( config );\n\tconst blockSelectors = getBlockSelectors( blocks );\n\tconst customProperties = generateCustomProperties(\n\t\tupdatedConfig,\n\t\tblockSelectors\n\t);\n\tconst globalStyles = transformToStyles(\n\t\tupdatedConfig,\n\t\tblockSelectors,\n\t\thasBlockGapSupport,\n\t\thasFallbackGapSupport,\n\t\tdisableLayoutStyles,\n\t\tdisableRootPadding,\n\t\tstyleOptions\n\t);\n\tconst svgs = generateSvgFilters( updatedConfig, blockSelectors );\n\tconst styles = [\n\t\t{\n\t\t\tcss: customProperties,\n\t\t\tisGlobalStyles: true,\n\t\t},\n\t\t{\n\t\t\tcss: globalStyles,\n\t\t\tisGlobalStyles: true,\n\t\t},\n\t\t// Load custom CSS in own stylesheet so that any invalid CSS entered in the input won't break all the global styles in the editor.\n\t\t{\n\t\t\tcss: updatedConfig?.styles?.css ?? '',\n\t\t\tisGlobalStyles: true,\n\t\t},\n\t\t{\n\t\t\tassets: svgs,\n\t\t\t__unstableType: 'svg',\n\t\t\tisGlobalStyles: true,\n\t\t},\n\t];\n\n\t// Loop through the blocks to check if there are custom CSS values.\n\t// If there are, get the block selector and push the selector together with\n\t// the CSS value to the 'stylesheets' array.\n\tblocks.forEach( ( blockType: BlockType ) => {\n\t\tconst blockStyles = updatedConfig?.styles?.blocks?.[ blockType.name ];\n\t\tif ( blockStyles?.css ) {\n\t\t\tconst selector = blockSelectors[ blockType.name ].selector;\n\t\t\tstyles.push( {\n\t\t\t\tcss: processCSSNesting( blockStyles.css, selector ),\n\t\t\t\tisGlobalStyles: true,\n\t\t\t} );\n\t\t}\n\t} );\n\n\treturn [ styles, updatedConfig.settings ];\n}\n", "/**\n * Internal dependencies\n */\nimport type { BlockType } from '../types';\nimport { scopeSelector } from '../utils/common';\nimport { getValueFromObjectPath } from '../utils/object';\n\n/**\n * Determine the CSS selector for the block type and target provided, returning\n * it if available.\n *\n * @param blockType        The block's type.\n * @param target           The desired selector's target e.g. `root`, delimited string, or array path.\n * @param options          Options object.\n * @param options.fallback Whether or not to fallback to broader selector.\n *\n * @return The CSS selector or `null` if no selector available.\n */\nexport function getBlockSelector(\n\tblockType: BlockType,\n\ttarget: string = 'root',\n\toptions: { fallback?: boolean } = {}\n): string | null {\n\tif ( ! target ) {\n\t\treturn null;\n\t}\n\n\tconst { fallback = false } = options;\n\tconst { name, selectors, supports } = blockType;\n\n\tconst hasSelectors = selectors && Object.keys( selectors ).length > 0;\n\tconst path = Array.isArray( target ) ? target.join( '.' ) : target;\n\n\t// Root selector.\n\n\t// Calculated before returning as it can be used as a fallback for feature\n\t// selectors later on.\n\tlet rootSelector: string | null = null;\n\n\tif ( hasSelectors && selectors.root ) {\n\t\t// Use the selectors API if available.\n\t\trootSelector = selectors?.root as string;\n\t} else if ( supports?.__experimentalSelector ) {\n\t\t// Use the old experimental selector supports property if set.\n\t\trootSelector = supports.__experimentalSelector;\n\t} else {\n\t\t// If no root selector found, generate default block class selector.\n\t\trootSelector =\n\t\t\t'.wp-block-' + name.replace( 'core/', '' ).replace( '/', '-' );\n\t}\n\n\t// Return selector if it's the root target we are looking for.\n\tif ( path === 'root' ) {\n\t\treturn rootSelector;\n\t}\n\n\t// If target is not `root` or `duotone` we have a feature or subfeature\n\t// as the target. If the target is a string convert to an array.\n\tconst pathArray = Array.isArray( target ) ? target : target.split( '.' );\n\n\t// Feature selectors ( may fallback to root selector );\n\tif ( pathArray.length === 1 ) {\n\t\tconst fallbackSelector = fallback ? rootSelector : null;\n\n\t\t// Prefer the selectors API if available.\n\t\tif ( hasSelectors ) {\n\t\t\t// Get selector from either `feature.root` or shorthand path.\n\t\t\tconst featureSelector =\n\t\t\t\t( getValueFromObjectPath(\n\t\t\t\t\tselectors,\n\t\t\t\t\t`${ path }.root`,\n\t\t\t\t\tnull\n\t\t\t\t) as string ) ||\n\t\t\t\t( getValueFromObjectPath( selectors, path, null ) as string );\n\n\t\t\t// Return feature selector if found or any available fallback.\n\t\t\treturn featureSelector || fallbackSelector;\n\t\t}\n\n\t\t// Try getting old experimental supports selector value.\n\t\tconst featureSelector = supports\n\t\t\t? ( getValueFromObjectPath(\n\t\t\t\t\tsupports,\n\t\t\t\t\t`${ path }.__experimentalSelector`,\n\t\t\t\t\tnull\n\t\t\t  ) as string | undefined )\n\t\t\t: undefined;\n\n\t\t// If nothing to work with, provide fallback selector if available.\n\t\tif ( ! featureSelector ) {\n\t\t\treturn fallbackSelector;\n\t\t}\n\n\t\t// Scope the feature selector by the block's root selector.\n\t\treturn scopeSelector( rootSelector, featureSelector );\n\t}\n\n\t// Subfeature selector.\n\t// This may fallback either to parent feature or root selector.\n\tlet subfeatureSelector;\n\n\t// Use selectors API if available.\n\tif ( hasSelectors ) {\n\t\tsubfeatureSelector = getValueFromObjectPath( selectors, path, null );\n\t}\n\n\t// Only return if we have a subfeature selector.\n\tif ( subfeatureSelector ) {\n\t\treturn subfeatureSelector as string;\n\t}\n\n\t// To this point we don't have a subfeature selector. If a fallback has been\n\t// requested, remove subfeature from target path and return results of a\n\t// call for the parent feature's selector.\n\tif ( fallback ) {\n\t\treturn getBlockSelector( blockType, pathArray[ 0 ], options );\n\t}\n\n\t// We tried.\n\treturn null;\n}\n", "var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n", "/**\n * External dependencies\n */\nimport { colord } from 'colord';\n\n/**\n * Convert a list of colors to an object of R, G, and B values.\n *\n * @param colors Array of RBG color strings.\n *\n * @return R, G, and B values.\n */\nexport function getValuesFromColors( colors: string[] = [] ) {\n\tconst values: { r: number[]; g: number[]; b: number[]; a: number[] } = {\n\t\tr: [],\n\t\tg: [],\n\t\tb: [],\n\t\ta: [],\n\t};\n\n\tcolors.forEach( ( color ) => {\n\t\tconst rgbColor = colord( color ).toRgb();\n\t\tvalues.r.push( rgbColor.r / 255 );\n\t\tvalues.g.push( rgbColor.g / 255 );\n\t\tvalues.b.push( rgbColor.b / 255 );\n\t\tvalues.a.push( rgbColor.a );\n\t} );\n\n\treturn values;\n}\n\n/**\n * Stylesheet for disabling a global styles duotone filter.\n *\n * @param selector Selector to disable the filter for.\n *\n * @return Filter none style.\n */\nexport function getDuotoneUnsetStylesheet( selector: string ) {\n\treturn `${ selector }{filter:none}`;\n}\n\n/**\n * SVG and stylesheet needed for rendering the duotone filter.\n *\n * @param {string} selector Selector to apply the filter to.\n * @param {string} id       Unique id for this duotone filter.\n *\n * @return {string} Duotone filter style.\n */\nexport function getDuotoneStylesheet( selector: string, id: string ) {\n\treturn `${ selector }{filter:url(#${ id })}`;\n}\n\n/**\n * The SVG part of the duotone filter.\n *\n * @param id     Unique id for this duotone filter.\n * @param colors Color strings from dark to light.\n *\n * @return Duotone SVG.\n */\nexport function getDuotoneFilter( id: string, colors: string[] ) {\n\tconst values = getValuesFromColors( colors );\n\treturn `\n<svg\n\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\tviewBox=\"0 0 0 0\"\n\twidth=\"0\"\n\theight=\"0\"\n\tfocusable=\"false\"\n\trole=\"none\"\n\taria-hidden=\"true\"\n\tstyle=\"visibility: hidden; position: absolute; left: -9999px; overflow: hidden;\"\n>\n\t<defs>\n\t\t<filter id=\"${ id }\">\n\t\t\t<!--\n\t\t\t\tUse sRGB instead of linearRGB so transparency looks correct.\n\t\t\t\tUse perceptual brightness to convert to grayscale.\n\t\t\t-->\n\t\t\t<feColorMatrix color-interpolation-filters=\"sRGB\" type=\"matrix\" values=\" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 \"></feColorMatrix>\n\t\t\t<!-- Use sRGB instead of linearRGB to be consistent with how CSS gradients work. -->\n\t\t\t<feComponentTransfer color-interpolation-filters=\"sRGB\">\n\t\t\t\t<feFuncR type=\"table\" tableValues=\"${ values.r.join( ' ' ) }\"></feFuncR>\n\t\t\t\t<feFuncG type=\"table\" tableValues=\"${ values.g.join( ' ' ) }\"></feFuncG>\n\t\t\t\t<feFuncB type=\"table\" tableValues=\"${ values.b.join( ' ' ) }\"></feFuncB>\n\t\t\t\t<feFuncA type=\"table\" tableValues=\"${ values.a.join( ' ' ) }\"></feFuncA>\n\t\t\t</feComponentTransfer>\n\t\t\t<!-- Re-mask the image with the original transparency since the feColorMatrix above loses that information. -->\n\t\t\t<feComposite in2=\"SourceGraphic\" operator=\"in\"></feComposite>\n\t\t</filter>\n\t</defs>\n</svg>`;\n}\n", "/**\n * Converts a string to kebab-case.\n * Matches WordPress kebabCase behavior.\n *\n * @param str The string to convert\n * @return The kebab-cased string\n */\nexport function kebabCase( str: string ): string {\n\treturn str\n\t\t.replace( /([a-z])([A-Z])/g, '$1-$2' ) // camelCase to kebab-case\n\t\t.replace( /([0-9])([a-zA-Z])/g, '$1-$2' ) // number followed by letter\n\t\t.replace( /([a-zA-Z])([0-9])/g, '$1-$2' ) // letter followed by number\n\t\t.replace( /[\\s_]+/g, '-' ) // spaces and underscores to hyphens\n\t\t.toLowerCase();\n}\n", "export function getSpacingPresetCssVar( value?: string ) {\n\tif ( ! value ) {\n\t\treturn;\n\t}\n\n\tconst slug = value.match( /var:preset\\|spacing\\|(.+)/ );\n\n\tif ( ! slug ) {\n\t\treturn value;\n\t}\n\n\treturn `var(--wp--preset--spacing--${ slug[ 1 ] })`;\n}\n", "/**\n * Internal dependencies\n */\nimport { getSpacingPresetCssVar } from './spacing';\n\n/**\n * Returns a BoxControl object value from a given blockGap style value.\n * The string check is for backwards compatibility before Gutenberg supported\n * split gap values (row and column) and the value was a string n + unit.\n *\n * @param blockGapValue A block gap string or axial object value, e.g., '10px' or { top: '10px', left: '10px'}.\n * @return A value to pass to the BoxControl component.\n */\nexport function getGapBoxControlValueFromStyle(\n\tblockGapValue?: string | { top: string; left: string }\n) {\n\tif ( ! blockGapValue ) {\n\t\treturn null;\n\t}\n\n\tconst isValueString = typeof blockGapValue === 'string';\n\treturn {\n\t\ttop: isValueString ? blockGapValue : blockGapValue?.top,\n\t\tleft: isValueString ? blockGapValue : blockGapValue?.left,\n\t};\n}\n\n/**\n * Returns a CSS value for the `gap` property from a given blockGap style.\n *\n * @param blockGapValue A block gap string or axial object value, e.g., '10px' or { top: '10px', left: '10px'}.\n * @param defaultValue  A default gap value.\n * @return The concatenated gap value (row and column).\n */\nexport function getGapCSSValue(\n\tblockGapValue?:\n\t\t| string\n\t\t| {\n\t\t\t\ttop: string;\n\t\t\t\tleft: string;\n\t\t  },\n\tdefaultValue: string = '0'\n) {\n\tconst blockGapBoxControlValue =\n\t\tgetGapBoxControlValueFromStyle( blockGapValue );\n\tif ( ! blockGapBoxControlValue ) {\n\t\treturn null;\n\t}\n\n\tconst row =\n\t\tgetSpacingPresetCssVar( blockGapBoxControlValue?.top ) || defaultValue;\n\tconst column =\n\t\tgetSpacingPresetCssVar( blockGapBoxControlValue?.left ) || defaultValue;\n\n\treturn row === column ? row : `${ row } ${ column }`;\n}\n", "/**\n * Internal dependencies\n */\nimport type { BackgroundStyle } from '../types';\n\nexport const BACKGROUND_BLOCK_DEFAULT_VALUES = {\n\tbackgroundSize: 'cover',\n\tbackgroundPosition: '50% 50%', // used only when backgroundSize is 'contain'.\n};\n\nexport function setBackgroundStyleDefaults( backgroundStyle: BackgroundStyle ) {\n\tif (\n\t\t! backgroundStyle ||\n\t\t// @ts-expect-error\n\t\t! backgroundStyle?.backgroundImage?.url\n\t) {\n\t\treturn;\n\t}\n\n\tlet backgroundStylesWithDefaults;\n\n\t// Set block background defaults.\n\tif ( ! backgroundStyle?.backgroundSize ) {\n\t\tbackgroundStylesWithDefaults = {\n\t\t\tbackgroundSize: BACKGROUND_BLOCK_DEFAULT_VALUES.backgroundSize,\n\t\t};\n\t}\n\n\tif (\n\t\t'contain' === backgroundStyle?.backgroundSize &&\n\t\t! backgroundStyle?.backgroundPosition\n\t) {\n\t\tbackgroundStylesWithDefaults = {\n\t\t\tbackgroundPosition:\n\t\t\t\tBACKGROUND_BLOCK_DEFAULT_VALUES.backgroundPosition,\n\t\t};\n\t}\n\treturn backgroundStylesWithDefaults;\n}\n", "// Layout definitions keyed by layout type.\n// Provides a common definition of slugs, classnames, base styles, and spacing styles for each layout type.\n// If making changes or additions to layout definitions, be sure to update the corresponding PHP definitions in\n// `block-supports/layout.php` so that the server-side and client-side definitions match.\nexport const LAYOUT_DEFINITIONS = {\n\tdefault: {\n\t\tname: 'default',\n\t\tslug: 'flow',\n\t\tclassName: 'is-layout-flow',\n\t\tbaseStyles: [\n\t\t\t{\n\t\t\t\tselector: ' > .alignleft',\n\t\t\t\trules: {\n\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t'margin-inline-start': '0',\n\t\t\t\t\t'margin-inline-end': '2em',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > .alignright',\n\t\t\t\trules: {\n\t\t\t\t\tfloat: 'right',\n\t\t\t\t\t'margin-inline-start': '2em',\n\t\t\t\t\t'margin-inline-end': '0',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > .aligncenter',\n\t\t\t\trules: {\n\t\t\t\t\t'margin-left': 'auto !important',\n\t\t\t\t\t'margin-right': 'auto !important',\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tspacingStyles: [\n\t\t\t{\n\t\t\t\tselector: ' > :first-child',\n\t\t\t\trules: {\n\t\t\t\t\t'margin-block-start': '0',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > :last-child',\n\t\t\t\trules: {\n\t\t\t\t\t'margin-block-end': '0',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > *',\n\t\t\t\trules: {\n\t\t\t\t\t'margin-block-start': null,\n\t\t\t\t\t'margin-block-end': '0',\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\tconstrained: {\n\t\tname: 'constrained',\n\t\tslug: 'constrained',\n\t\tclassName: 'is-layout-constrained',\n\t\tbaseStyles: [\n\t\t\t{\n\t\t\t\tselector: ' > .alignleft',\n\t\t\t\trules: {\n\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t'margin-inline-start': '0',\n\t\t\t\t\t'margin-inline-end': '2em',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > .alignright',\n\t\t\t\trules: {\n\t\t\t\t\tfloat: 'right',\n\t\t\t\t\t'margin-inline-start': '2em',\n\t\t\t\t\t'margin-inline-end': '0',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > .aligncenter',\n\t\t\t\trules: {\n\t\t\t\t\t'margin-left': 'auto !important',\n\t\t\t\t\t'margin-right': 'auto !important',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector:\n\t\t\t\t\t' > :where(:not(.alignleft):not(.alignright):not(.alignfull))',\n\t\t\t\trules: {\n\t\t\t\t\t'max-width': 'var(--wp--style--global--content-size)',\n\t\t\t\t\t'margin-left': 'auto !important',\n\t\t\t\t\t'margin-right': 'auto !important',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > .alignwide',\n\t\t\t\trules: {\n\t\t\t\t\t'max-width': 'var(--wp--style--global--wide-size)',\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tspacingStyles: [\n\t\t\t{\n\t\t\t\tselector: ' > :first-child',\n\t\t\t\trules: {\n\t\t\t\t\t'margin-block-start': '0',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > :last-child',\n\t\t\t\trules: {\n\t\t\t\t\t'margin-block-end': '0',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > *',\n\t\t\t\trules: {\n\t\t\t\t\t'margin-block-start': null,\n\t\t\t\t\t'margin-block-end': '0',\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\tflex: {\n\t\tname: 'flex',\n\t\tslug: 'flex',\n\t\tclassName: 'is-layout-flex',\n\t\tdisplayMode: 'flex',\n\t\tbaseStyles: [\n\t\t\t{\n\t\t\t\tselector: '',\n\t\t\t\trules: {\n\t\t\t\t\t'flex-wrap': 'wrap',\n\t\t\t\t\t'align-items': 'center',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tselector: ' > :is(*, div)', // :is(*, div) instead of just * increases the specificity by 001.\n\t\t\t\trules: {\n\t\t\t\t\tmargin: '0',\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tspacingStyles: [\n\t\t\t{\n\t\t\t\tselector: '',\n\t\t\t\trules: {\n\t\t\t\t\tgap: null,\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\tgrid: {\n\t\tname: 'grid',\n\t\tslug: 'grid',\n\t\tclassName: 'is-layout-grid',\n\t\tdisplayMode: 'grid',\n\t\tbaseStyles: [\n\t\t\t{\n\t\t\t\tselector: ' > :is(*, div)', // :is(*, div) instead of just * increases the specificity by 001.\n\t\t\t\trules: {\n\t\t\t\t\tmargin: '0',\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tspacingStyles: [\n\t\t\t{\n\t\t\t\tselector: '',\n\t\t\t\trules: {\n\t\t\t\t\tgap: null,\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useRegistry } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport usePostContentBlocks from './use-post-content-blocks';\n\n/**\n * Component that when rendered, makes it so that the site editor allows only\n * page content to be edited.\n */\nexport default function DisableNonPageContentBlocks() {\n\tconst contentOnlyIds = usePostContentBlocks();\n\tconst { templateParts } = useSelect( ( select ) => {\n\t\tconst { getBlocksByName } = select( blockEditorStore );\n\t\treturn {\n\t\t\ttemplateParts: getBlocksByName( 'core/template-part' ),\n\t\t};\n\t}, [] );\n\tconst disabledIds = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockOrder } = select( blockEditorStore );\n\t\t\treturn templateParts.flatMap( ( clientId ) =>\n\t\t\t\tgetBlockOrder( clientId )\n\t\t\t);\n\t\t},\n\t\t[ templateParts ]\n\t);\n\n\tconst registry = useRegistry();\n\n\t// The code here is split into multiple `useEffects` calls.\n\t// This is done to avoid setting/unsetting block editing modes multiple times unnecessarily.\n\t//\n\t// For example, the block editing mode of the root block (clientId: '') only\n\t// needs to be set once, not when `contentOnlyIds` or `disabledIds` change.\n\t//\n\t// It's also unlikely that these different types of blocks are being inserted\n\t// or removed at the same time, so using different effects reflects that.\n\tuseEffect( () => {\n\t\tconst { setBlockEditingMode, unsetBlockEditingMode } =\n\t\t\tregistry.dispatch( blockEditorStore );\n\n\t\tsetBlockEditingMode( '', 'disabled' );\n\n\t\treturn () => {\n\t\t\tunsetBlockEditingMode( '' );\n\t\t};\n\t}, [ registry ] );\n\n\tuseEffect( () => {\n\t\tconst { setBlockEditingMode, unsetBlockEditingMode } =\n\t\t\tregistry.dispatch( blockEditorStore );\n\n\t\tregistry.batch( () => {\n\t\t\tfor ( const clientId of contentOnlyIds ) {\n\t\t\t\tsetBlockEditingMode( clientId, 'contentOnly' );\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tregistry.batch( () => {\n\t\t\t\tfor ( const clientId of contentOnlyIds ) {\n\t\t\t\t\tunsetBlockEditingMode( clientId );\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\t}, [ contentOnlyIds, registry ] );\n\n\tuseEffect( () => {\n\t\tconst { setBlockEditingMode, unsetBlockEditingMode } =\n\t\t\tregistry.dispatch( blockEditorStore );\n\n\t\tregistry.batch( () => {\n\t\t\tfor ( const clientId of templateParts ) {\n\t\t\t\tsetBlockEditingMode( clientId, 'contentOnly' );\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tregistry.batch( () => {\n\t\t\t\tfor ( const clientId of templateParts ) {\n\t\t\t\t\tunsetBlockEditingMode( clientId );\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\t}, [ templateParts, registry ] );\n\n\tuseEffect( () => {\n\t\tconst { setBlockEditingMode, unsetBlockEditingMode } =\n\t\t\tregistry.dispatch( blockEditorStore );\n\n\t\tregistry.batch( () => {\n\t\t\tfor ( const clientId of disabledIds ) {\n\t\t\t\tsetBlockEditingMode( clientId, 'disabled' );\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tregistry.batch( () => {\n\t\t\t\tfor ( const clientId of disabledIds ) {\n\t\t\t\t\tunsetBlockEditingMode( clientId );\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\t}, [ disabledIds, registry ] );\n\n\treturn null;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { applyFilters } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst POST_CONTENT_BLOCK_TYPES = [\n\t'core/post-title',\n\t'core/post-featured-image',\n\t'core/post-content',\n];\n\nexport default function usePostContentBlocks() {\n\tconst contentOnlyBlockTypes = useMemo(\n\t\t() => [\n\t\t\t...applyFilters(\n\t\t\t\t'editor.postContentBlockTypes',\n\t\t\t\tPOST_CONTENT_BLOCK_TYPES\n\t\t\t),\n\t\t],\n\t\t[]\n\t);\n\n\t// Note that there are two separate subscriptions because the result for each\n\t// returns a new array.\n\tconst contentOnlyIds = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostBlocksByName } = unlock( select( editorStore ) );\n\t\t\treturn getPostBlocksByName( contentOnlyBlockTypes );\n\t\t},\n\t\t[ contentOnlyBlockTypes ]\n\t);\n\n\treturn contentOnlyIds;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * For the Navigation block editor, we need to force the block editor to contentOnly for that block.\n *\n * Set block editing mode to contentOnly when entering Navigation focus mode.\n * this ensures that non-content controls on the block will be hidden and thus\n * the user can focus on editing the Navigation Menu content only.\n */\n\nexport default function NavigationBlockEditingMode() {\n\t// In the navigation block editor,\n\t// the navigation block is the only root block.\n\tconst blockClientId = useSelect(\n\t\t( select ) => select( blockEditorStore ).getBlockOrder()?.[ 0 ],\n\t\t[]\n\t);\n\tconst { setBlockEditingMode, unsetBlockEditingMode } =\n\t\tuseDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\tif ( ! blockClientId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetBlockEditingMode( blockClientId, 'contentOnly' );\n\n\t\treturn () => {\n\t\t\tunsetBlockEditingMode( blockClientId );\n\t\t};\n\t}, [ blockClientId, unsetBlockEditingMode, setBlockEditingMode ] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { addFilter, removeFilter } from '@wordpress/hooks';\n\n// These post types are \"structural\" block lists.\n// We should be allowed to use\n// the post content and template parts blocks within them.\nconst POST_TYPES_ALLOWING_POST_CONTENT_TEMPLATE_PART = [\n\t'wp_block',\n\t'wp_template',\n\t'wp_template_part',\n];\n\n/**\n * In some specific contexts,\n * the template part and post content blocks need to be hidden.\n *\n * @param {string} postType Post Type\n * @param {string} mode     Rendering mode\n */\nexport function useHideBlocksFromInserter( postType, mode ) {\n\tuseEffect( () => {\n\t\t/*\n\t\t * Prevent adding template part in the editor.\n\t\t */\n\t\taddFilter(\n\t\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t\t'removeTemplatePartsFromInserter',\n\t\t\t( canInsert, blockType ) => {\n\t\t\t\tif (\n\t\t\t\t\t! POST_TYPES_ALLOWING_POST_CONTENT_TEMPLATE_PART.includes(\n\t\t\t\t\t\tpostType\n\t\t\t\t\t) &&\n\t\t\t\t\tblockType.name === 'core/template-part' &&\n\t\t\t\t\tmode === 'post-only'\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn canInsert;\n\t\t\t}\n\t\t);\n\n\t\t/*\n\t\t * Prevent adding post content block (except in query block) in the editor.\n\t\t */\n\t\taddFilter(\n\t\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t\t'removePostContentFromInserter',\n\t\t\t(\n\t\t\t\tcanInsert,\n\t\t\t\tblockType,\n\t\t\t\trootClientId,\n\t\t\t\t{ getBlockParentsByBlockName }\n\t\t\t) => {\n\t\t\t\tif (\n\t\t\t\t\t! POST_TYPES_ALLOWING_POST_CONTENT_TEMPLATE_PART.includes(\n\t\t\t\t\t\tpostType\n\t\t\t\t\t) &&\n\t\t\t\t\tblockType.name === 'core/post-content'\n\t\t\t\t) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tgetBlockParentsByBlockName( rootClientId, 'core/query' )\n\t\t\t\t\t\t\t.length > 0\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn canInsert;\n\t\t\t}\n\t\t);\n\n\t\treturn () => {\n\t\t\tremoveFilter(\n\t\t\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t\t\t'removeTemplatePartsFromInserter'\n\t\t\t);\n\t\t\tremoveFilter(\n\t\t\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t\t\t'removePostContentFromInserter'\n\t\t\t);\n\t\t};\n\t}, [ postType, mode ] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, isRTL, sprintf } from '@wordpress/i18n';\nimport {\n\tblockDefault,\n\tcode,\n\tdrawerLeft,\n\tdrawerRight,\n\tpencil,\n\tformatListBullets,\n\tlistView,\n\texternal,\n\tkeyboard,\n\tsymbol,\n\tpage,\n\tlayout,\n\trotateRight,\n\trotateLeft,\n} from '@wordpress/icons';\nimport { useCommandLoader } from '@wordpress/commands';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore, useEntityRecord } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport {\n\tPATTERN_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n} from '../../store/constants';\nimport { modalName as patternRenameModalName } from '../pattern-rename-modal';\nimport { modalName as patternDuplicateModalName } from '../pattern-duplicate-modal';\nimport isTemplateRevertable from '../../store/utils/is-template-revertable';\n\nconst getEditorCommandLoader = () =>\n\tfunction useEditorCommandLoader() {\n\t\tconst {\n\t\t\teditorMode,\n\t\t\tisListViewOpen,\n\t\t\tshowBlockBreadcrumbs,\n\t\t\tisDistractionFree,\n\t\t\tisFocusMode,\n\t\t\tisPreviewMode,\n\t\t\tisViewable,\n\t\t\tisCodeEditingEnabled,\n\t\t\tisRichEditingEnabled,\n\t\t\tisPublishSidebarEnabled,\n\t\t} = useSelect( ( select ) => {\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\tconst { isListViewOpened, getCurrentPostType, getEditorSettings } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getSettings } = select( blockEditorStore );\n\t\t\tconst { getPostType } = select( coreStore );\n\n\t\t\treturn {\n\t\t\t\teditorMode: get( 'core', 'editorMode' ) ?? 'visual',\n\t\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\t\tshowBlockBreadcrumbs: get( 'core', 'showBlockBreadcrumbs' ),\n\t\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\t\tisFocusMode: get( 'core', 'focusMode' ),\n\t\t\t\tisPreviewMode: getSettings().isPreviewMode,\n\t\t\t\tisViewable:\n\t\t\t\t\tgetPostType( getCurrentPostType() )?.viewable ?? false,\n\t\t\t\tisCodeEditingEnabled: getEditorSettings().codeEditingEnabled,\n\t\t\t\tisRichEditingEnabled: getEditorSettings().richEditingEnabled,\n\t\t\t\tisPublishSidebarEnabled:\n\t\t\t\t\tselect( editorStore ).isPublishSidebarEnabled(),\n\t\t\t};\n\t\t}, [] );\n\t\tconst { getActiveComplementaryArea } = useSelect( interfaceStore );\n\t\tconst { toggle } = useDispatch( preferencesStore );\n\t\tconst { createInfoNotice } = useDispatch( noticesStore );\n\t\tconst {\n\t\t\t__unstableSaveForPreview,\n\t\t\tsetIsListViewOpened,\n\t\t\tswitchEditorMode,\n\t\t\ttoggleDistractionFree,\n\t\t\ttoggleSpotlightMode,\n\t\t\ttoggleTopToolbar,\n\t\t} = useDispatch( editorStore );\n\t\tconst { openModal, enableComplementaryArea, disableComplementaryArea } =\n\t\t\tuseDispatch( interfaceStore );\n\t\tconst { getCurrentPostId } = useSelect( editorStore );\n\t\tconst allowSwitchEditorMode =\n\t\t\tisCodeEditingEnabled && isRichEditingEnabled;\n\n\t\tif ( isPreviewMode ) {\n\t\t\treturn { commands: [], isLoading: false };\n\t\t}\n\n\t\tconst commands = [];\n\n\t\tcommands.push( {\n\t\t\tname: 'core/open-shortcut-help',\n\t\t\tlabel: __( 'Keyboard shortcuts' ),\n\t\t\ticon: keyboard,\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\tclose();\n\t\t\t\topenModal( 'editor/keyboard-shortcut-help' );\n\t\t\t},\n\t\t} );\n\n\t\tcommands.push( {\n\t\t\tname: 'core/toggle-distraction-free',\n\t\t\tlabel: isDistractionFree\n\t\t\t\t? __( 'Exit Distraction free' )\n\t\t\t\t: __( 'Enter Distraction free' ),\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\ttoggleDistractionFree();\n\t\t\t\tclose();\n\t\t\t},\n\t\t} );\n\n\t\tcommands.push( {\n\t\t\tname: 'core/open-preferences',\n\t\t\tlabel: __( 'Editor preferences' ),\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\tclose();\n\t\t\t\topenModal( 'editor/preferences' );\n\t\t\t},\n\t\t} );\n\n\t\tcommands.push( {\n\t\t\tname: 'core/toggle-spotlight-mode',\n\t\t\tlabel: isFocusMode\n\t\t\t\t? __( 'Exit Spotlight mode' )\n\t\t\t\t: __( 'Enter Spotlight mode' ),\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\ttoggleSpotlightMode();\n\t\t\t\tclose();\n\t\t\t},\n\t\t} );\n\n\t\tcommands.push( {\n\t\t\tname: 'core/toggle-list-view',\n\t\t\tlabel: isListViewOpen\n\t\t\t\t? __( 'Close List View' )\n\t\t\t\t: __( 'Open List View' ),\n\t\t\ticon: listView,\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\tsetIsListViewOpened( ! isListViewOpen );\n\t\t\t\tclose();\n\t\t\t\tcreateInfoNotice(\n\t\t\t\t\tisListViewOpen\n\t\t\t\t\t\t? __( 'List View off.' )\n\t\t\t\t\t\t: __( 'List View on.' ),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'core/editor/toggle-list-view/notice',\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t} );\n\n\t\tcommands.push( {\n\t\t\tname: 'core/toggle-top-toolbar',\n\t\t\tlabel: __( 'Top toolbar' ),\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\ttoggleTopToolbar();\n\t\t\t\tclose();\n\t\t\t},\n\t\t} );\n\n\t\tif ( allowSwitchEditorMode ) {\n\t\t\tcommands.push( {\n\t\t\t\tname: 'core/toggle-code-editor',\n\t\t\t\tlabel:\n\t\t\t\t\teditorMode === 'visual'\n\t\t\t\t\t\t? __( 'Open code editor' )\n\t\t\t\t\t\t: __( 'Exit code editor' ),\n\t\t\t\ticon: code,\n\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\tswitchEditorMode(\n\t\t\t\t\t\teditorMode === 'visual' ? 'text' : 'visual'\n\t\t\t\t\t);\n\t\t\t\t\tclose();\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\n\t\tcommands.push( {\n\t\t\tname: 'core/toggle-breadcrumbs',\n\t\t\tlabel: showBlockBreadcrumbs\n\t\t\t\t? __( 'Hide block breadcrumbs' )\n\t\t\t\t: __( 'Show block breadcrumbs' ),\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\ttoggle( 'core', 'showBlockBreadcrumbs' );\n\t\t\t\tclose();\n\t\t\t\tcreateInfoNotice(\n\t\t\t\t\tshowBlockBreadcrumbs\n\t\t\t\t\t\t? __( 'Breadcrumbs hidden.' )\n\t\t\t\t\t\t: __( 'Breadcrumbs visible.' ),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'core/editor/toggle-breadcrumbs/notice',\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t} );\n\n\t\tcommands.push( {\n\t\t\tname: 'core/open-settings-sidebar',\n\t\t\tlabel: __( 'Show or hide the Settings panel' ),\n\t\t\ticon: isRTL() ? drawerLeft : drawerRight,\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\tconst activeSidebar = getActiveComplementaryArea( 'core' );\n\t\t\t\tclose();\n\t\t\t\tif ( activeSidebar === 'edit-post/document' ) {\n\t\t\t\t\tdisableComplementaryArea( 'core' );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( 'core', 'edit-post/document' );\n\t\t\t\t}\n\t\t\t},\n\t\t} );\n\n\t\tcommands.push( {\n\t\t\tname: 'core/open-block-inspector',\n\t\t\tlabel: __( 'Show or hide the Block settings panel' ),\n\t\t\ticon: blockDefault,\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\tconst activeSidebar = getActiveComplementaryArea( 'core' );\n\t\t\t\tclose();\n\t\t\t\tif ( activeSidebar === 'edit-post/block' ) {\n\t\t\t\t\tdisableComplementaryArea( 'core' );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( 'core', 'edit-post/block' );\n\t\t\t\t}\n\t\t\t},\n\t\t} );\n\n\t\tcommands.push( {\n\t\t\tname: 'core/toggle-publish-sidebar',\n\t\t\tlabel: isPublishSidebarEnabled\n\t\t\t\t? __( 'Disable pre-publish checks' )\n\t\t\t\t: __( 'Enable pre-publish checks' ),\n\t\t\ticon: formatListBullets,\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\tclose();\n\t\t\t\ttoggle( 'core', 'isPublishSidebarEnabled' );\n\t\t\t\tcreateInfoNotice(\n\t\t\t\t\tisPublishSidebarEnabled\n\t\t\t\t\t\t? __( 'Pre-publish checks disabled.' )\n\t\t\t\t\t\t: __( 'Pre-publish checks enabled.' ),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'core/editor/publish-sidebar/notice',\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t} );\n\n\t\tif ( isViewable ) {\n\t\t\tcommands.push( {\n\t\t\t\tname: 'core/preview-link',\n\t\t\t\tlabel: __( 'Preview in a new tab' ),\n\t\t\t\ticon: external,\n\t\t\t\tcallback: async ( { close } ) => {\n\t\t\t\t\tclose();\n\t\t\t\t\tconst postId = getCurrentPostId();\n\t\t\t\t\tconst link = await __unstableSaveForPreview();\n\t\t\t\t\twindow.open( link, `wp-preview-${ postId }` );\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\n\t\treturn {\n\t\t\tcommands,\n\t\t\tisLoading: false,\n\t\t};\n\t};\n\nconst getEditedEntityContextualCommands = () =>\n\tfunction useEditedEntityContextualCommands() {\n\t\tconst { postType } = useSelect( ( select ) => {\n\t\t\tconst { getCurrentPostType } = select( editorStore );\n\t\t\treturn {\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t};\n\t\t}, [] );\n\t\tconst { openModal } = useDispatch( interfaceStore );\n\t\tconst commands = [];\n\n\t\tif ( postType === PATTERN_POST_TYPE ) {\n\t\t\tcommands.push( {\n\t\t\t\tname: 'core/rename-pattern',\n\t\t\t\tlabel: __( 'Rename pattern' ),\n\t\t\t\ticon: pencil,\n\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\topenModal( patternRenameModalName );\n\t\t\t\t\tclose();\n\t\t\t\t},\n\t\t\t} );\n\t\t\tcommands.push( {\n\t\t\t\tname: 'core/duplicate-pattern',\n\t\t\t\tlabel: __( 'Duplicate pattern' ),\n\t\t\t\ticon: symbol,\n\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\topenModal( patternDuplicateModalName );\n\t\t\t\t\tclose();\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\n\t\treturn { isLoading: false, commands };\n\t};\n\nconst getPageContentFocusCommands = () =>\n\tfunction usePageContentFocusCommands() {\n\t\tconst {\n\t\t\tonNavigateToEntityRecord,\n\t\t\tgoBack,\n\t\t\ttemplateId,\n\t\t\tisPreviewMode,\n\t\t\tcanEditTemplate,\n\t\t} = useSelect( ( select ) => {\n\t\t\tconst {\n\t\t\t\tgetRenderingMode,\n\t\t\t\tgetEditorSettings: _getEditorSettings,\n\t\t\t\tgetCurrentTemplateId,\n\t\t\t} = unlock( select( editorStore ) );\n\t\t\tconst editorSettings = _getEditorSettings();\n\t\t\tconst _templateId = getCurrentTemplateId();\n\t\t\treturn {\n\t\t\t\tisTemplateHidden: getRenderingMode() === 'post-only',\n\t\t\t\tonNavigateToEntityRecord:\n\t\t\t\t\teditorSettings.onNavigateToEntityRecord,\n\t\t\t\tgetEditorSettings: _getEditorSettings,\n\t\t\t\tgoBack: editorSettings.onNavigateToPreviousEntityRecord,\n\t\t\t\ttemplateId: _templateId,\n\t\t\t\tisPreviewMode: editorSettings.isPreviewMode,\n\t\t\t\tcanEditTemplate:\n\t\t\t\t\t!! _templateId &&\n\t\t\t\t\tselect( coreStore ).canUser( 'update', {\n\t\t\t\t\t\tkind: 'postType',\n\t\t\t\t\t\tname: 'wp_template',\n\t\t\t\t\t\tid: _templateId,\n\t\t\t\t\t} ),\n\t\t\t};\n\t\t}, [] );\n\t\tconst { editedRecord: template, hasResolved } = useEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template',\n\t\t\ttemplateId\n\t\t);\n\n\t\tif ( isPreviewMode ) {\n\t\t\treturn { isLoading: false, commands: [] };\n\t\t}\n\n\t\tconst commands = [];\n\n\t\tif ( templateId && hasResolved && canEditTemplate ) {\n\t\t\tcommands.push( {\n\t\t\t\tname: 'core/switch-to-template-focus',\n\t\t\t\tlabel: sprintf(\n\t\t\t\t\t/* translators: %s: template title */\n\t\t\t\t\t__( 'Edit template: %s' ),\n\t\t\t\t\tdecodeEntities( template.title )\n\t\t\t\t),\n\t\t\t\ticon: layout,\n\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\tonNavigateToEntityRecord( {\n\t\t\t\t\t\tpostId: templateId,\n\t\t\t\t\t\tpostType: 'wp_template',\n\t\t\t\t\t} );\n\t\t\t\t\tclose();\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\n\t\tif ( !! goBack ) {\n\t\t\tcommands.push( {\n\t\t\t\tname: 'core/switch-to-previous-entity',\n\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\ticon: page,\n\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\tgoBack();\n\t\t\t\t\tclose();\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\n\t\treturn { isLoading: false, commands };\n\t};\n\nconst getManipulateDocumentCommands = () =>\n\tfunction useManipulateDocumentCommands() {\n\t\tconst { postType, postId } = useSelect( ( select ) => {\n\t\t\tconst { getCurrentPostId, getCurrentPostType } =\n\t\t\t\tselect( editorStore );\n\t\t\treturn {\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t\tpostId: getCurrentPostId(),\n\t\t\t};\n\t\t}, [] );\n\t\tconst { editedRecord: template, hasResolved } = useEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\t\tconst { revertTemplate } = unlock( useDispatch( editorStore ) );\n\n\t\tif (\n\t\t\t! hasResolved ||\n\t\t\t! [ TEMPLATE_PART_POST_TYPE, TEMPLATE_POST_TYPE ].includes(\n\t\t\t\tpostType\n\t\t\t)\n\t\t) {\n\t\t\treturn { isLoading: true, commands: [] };\n\t\t}\n\n\t\tconst commands = [];\n\n\t\tif ( isTemplateRevertable( template ) ) {\n\t\t\tconst label =\n\t\t\t\ttemplate.type === TEMPLATE_POST_TYPE\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t/* translators: %s: template title */\n\t\t\t\t\t\t\t__( 'Reset template: %s' ),\n\t\t\t\t\t\t\tdecodeEntities( template.title )\n\t\t\t\t\t  )\n\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t/* translators: %s: template part title */\n\t\t\t\t\t\t\t__( 'Reset template part: %s' ),\n\t\t\t\t\t\t\tdecodeEntities( template.title )\n\t\t\t\t\t  );\n\t\t\tcommands.push( {\n\t\t\t\tname: 'core/reset-template',\n\t\t\t\tlabel,\n\t\t\t\ticon: isRTL() ? rotateRight : rotateLeft,\n\t\t\t\tcallback: ( { close } ) => {\n\t\t\t\t\trevertTemplate( template );\n\t\t\t\t\tclose();\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\n\t\treturn {\n\t\t\tisLoading: ! hasResolved,\n\t\t\tcommands,\n\t\t};\n\t};\n\nexport default function useCommands() {\n\tuseCommandLoader( {\n\t\tname: 'core/editor/edit-ui',\n\t\thook: getEditorCommandLoader(),\n\t} );\n\n\tuseCommandLoader( {\n\t\tname: 'core/editor/contextual-commands',\n\t\thook: getEditedEntityContextualCommands(),\n\t\tcontext: 'entity-edit',\n\t} );\n\n\tuseCommandLoader( {\n\t\tname: 'core/editor/page-content-focus',\n\t\thook: getPageContentFocusCommands(),\n\t\tcontext: 'entity-edit',\n\t} );\n\n\tuseCommandLoader( {\n\t\tname: 'core/edit-site/manipulate-document',\n\t\thook: getManipulateDocumentCommands(),\n\t} );\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tPanel,\n\tSlot,\n\tFill,\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { check, starEmpty, starFilled } from '@wordpress/icons';\nimport { useEffect, useRef, useState } from '@wordpress/element';\nimport { store as viewportStore } from '@wordpress/viewport';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tuseReducedMotion,\n\tuseViewportMatch,\n\tusePrevious,\n} from '@wordpress/compose';\nimport { usePluginContext } from '@wordpress/plugins';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaHeader from '../complementary-area-header';\nimport ComplementaryAreaMoreMenuItem from '../complementary-area-more-menu-item';\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport PinnedItems from '../pinned-items';\nimport { store as interfaceStore } from '../../store';\n\nconst ANIMATION_DURATION = 0.3;\n\nfunction ComplementaryAreaSlot( { scope, ...props } ) {\n\treturn <Slot name={ `ComplementaryArea/${ scope }` } { ...props } />;\n}\n\nconst SIDEBAR_WIDTH = 280;\nconst variants = {\n\topen: { width: SIDEBAR_WIDTH },\n\tclosed: { width: 0 },\n\tmobileOpen: { width: '100vw' },\n};\n\nfunction ComplementaryAreaFill( {\n\tactiveArea,\n\tisActive,\n\tscope,\n\tchildren,\n\tclassName,\n\tid,\n} ) {\n\tconst disableMotion = useReducedMotion();\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\t// This is used to delay the exit animation to the next tick.\n\t// The reason this is done is to allow us to apply the right transition properties\n\t// When we switch from an open sidebar to another open sidebar.\n\t// we don't want to animate in this case.\n\tconst previousActiveArea = usePrevious( activeArea );\n\tconst previousIsActive = usePrevious( isActive );\n\tconst [ , setState ] = useState( {} );\n\tuseEffect( () => {\n\t\tsetState( {} );\n\t}, [ isActive ] );\n\tconst transition = {\n\t\ttype: 'tween',\n\t\tduration:\n\t\t\tdisableMotion ||\n\t\t\tisMobileViewport ||\n\t\t\t( !! previousActiveArea &&\n\t\t\t\t!! activeArea &&\n\t\t\t\tactiveArea !== previousActiveArea )\n\t\t\t\t? 0\n\t\t\t\t: ANIMATION_DURATION,\n\t\tease: [ 0.6, 0, 0.4, 1 ],\n\t};\n\n\treturn (\n\t\t<Fill name={ `ComplementaryArea/${ scope }` }>\n\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t{ ( previousIsActive || isActive ) && (\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tvariants={ variants }\n\t\t\t\t\t\tinitial=\"closed\"\n\t\t\t\t\t\tanimate={ isMobileViewport ? 'mobileOpen' : 'open' }\n\t\t\t\t\t\texit=\"closed\"\n\t\t\t\t\t\ttransition={ transition }\n\t\t\t\t\t\tclassName=\"interface-complementary-area__fill\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\twidth: isMobileViewport\n\t\t\t\t\t\t\t\t\t? '100vw'\n\t\t\t\t\t\t\t\t\t: SIDEBAR_WIDTH,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</motion.div>\n\t\t\t\t) }\n\t\t\t</AnimatePresence>\n\t\t</Fill>\n\t);\n}\n\nfunction useAdjustComplementaryListener(\n\tscope,\n\tidentifier,\n\tactiveArea,\n\tisActive,\n\tisSmall\n) {\n\tconst previousIsSmallRef = useRef( false );\n\tconst shouldOpenWhenNotSmallRef = useRef( false );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tuseEffect( () => {\n\t\t// If the complementary area is active and the editor is switching from\n\t\t// a big to a small window size.\n\t\tif ( isActive && isSmall && ! previousIsSmallRef.current ) {\n\t\t\tdisableComplementaryArea( scope );\n\t\t\t// Flag the complementary area to be reopened when the window size\n\t\t\t// goes from small to big.\n\t\t\tshouldOpenWhenNotSmallRef.current = true;\n\t\t} else if (\n\t\t\t// If there is a flag indicating the complementary area should be\n\t\t\t// enabled when we go from small to big window size and we are going\n\t\t\t// from a small to big window size.\n\t\t\tshouldOpenWhenNotSmallRef.current &&\n\t\t\t! isSmall &&\n\t\t\tpreviousIsSmallRef.current\n\t\t) {\n\t\t\t// Remove the flag indicating the complementary area should be\n\t\t\t// enabled.\n\t\t\tshouldOpenWhenNotSmallRef.current = false;\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t} else if (\n\t\t\t// If the flag is indicating the current complementary should be\n\t\t\t// reopened but another complementary area becomes active, remove\n\t\t\t// the flag.\n\t\t\tshouldOpenWhenNotSmallRef.current &&\n\t\t\tactiveArea &&\n\t\t\tactiveArea !== identifier\n\t\t) {\n\t\t\tshouldOpenWhenNotSmallRef.current = false;\n\t\t}\n\t\tif ( isSmall !== previousIsSmallRef.current ) {\n\t\t\tpreviousIsSmallRef.current = isSmall;\n\t\t}\n\t}, [\n\t\tisActive,\n\t\tisSmall,\n\t\tscope,\n\t\tidentifier,\n\t\tactiveArea,\n\t\tdisableComplementaryArea,\n\t\tenableComplementaryArea,\n\t] );\n}\n\nfunction ComplementaryArea( {\n\tchildren,\n\tclassName,\n\tcloseLabel = __( 'Close plugin' ),\n\tidentifier: identifierProp,\n\theader,\n\theaderClassName,\n\ticon: iconProp,\n\tisPinnable = true,\n\tpanelClassName,\n\tscope,\n\tname,\n\ttitle,\n\ttoggleShortcut,\n\tisActiveByDefault,\n} ) {\n\tconst context = usePluginContext();\n\tconst icon = iconProp || context.icon;\n\tconst identifier = identifierProp || `${ context.name }/${ name }`;\n\n\t// This state is used to delay the rendering of the Fill\n\t// until the initial effect runs.\n\t// This prevents the animation from running on mount if\n\t// the complementary area is active by default.\n\tconst [ isReady, setIsReady ] = useState( false );\n\tconst {\n\t\tisLoading,\n\t\tisActive,\n\t\tisPinned,\n\t\tactiveArea,\n\t\tisSmall,\n\t\tisLarge,\n\t\tshowIconLabels,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetActiveComplementaryArea,\n\t\t\t\tisComplementaryAreaLoading,\n\t\t\t\tisItemPinned,\n\t\t\t} = select( interfaceStore );\n\t\t\tconst { get } = select( preferencesStore );\n\n\t\t\tconst _activeArea = getActiveComplementaryArea( scope );\n\n\t\t\treturn {\n\t\t\t\tisLoading: isComplementaryAreaLoading( scope ),\n\t\t\t\tisActive: _activeArea === identifier,\n\t\t\t\tisPinned: isItemPinned( scope, identifier ),\n\t\t\t\tactiveArea: _activeArea,\n\t\t\t\tisSmall: select( viewportStore ).isViewportMatch( '< medium' ),\n\t\t\t\tisLarge: select( viewportStore ).isViewportMatch( 'large' ),\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t};\n\t\t},\n\t\t[ identifier, scope ]\n\t);\n\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\n\tuseAdjustComplementaryListener(\n\t\tscope,\n\t\tidentifier,\n\t\tactiveArea,\n\t\tisActive,\n\t\tisSmall\n\t);\n\tconst {\n\t\tenableComplementaryArea,\n\t\tdisableComplementaryArea,\n\t\tpinItem,\n\t\tunpinItem,\n\t} = useDispatch( interfaceStore );\n\n\tuseEffect( () => {\n\t\t// Set initial visibility: For large screens, enable if it's active by\n\t\t// default. For small screens, always initially disable.\n\t\tif ( isActiveByDefault && activeArea === undefined && ! isSmall ) {\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t} else if ( activeArea === undefined && isSmall ) {\n\t\t\tdisableComplementaryArea( scope, identifier );\n\t\t}\n\t\tsetIsReady( true );\n\t}, [\n\t\tactiveArea,\n\t\tisActiveByDefault,\n\t\tscope,\n\t\tidentifier,\n\t\tisSmall,\n\t\tenableComplementaryArea,\n\t\tdisableComplementaryArea,\n\t] );\n\n\tif ( ! isReady ) {\n\t\treturn;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ isPinnable && (\n\t\t\t\t<PinnedItems scope={ scope }>\n\t\t\t\t\t{ isPinned && (\n\t\t\t\t\t\t<ComplementaryAreaToggle\n\t\t\t\t\t\t\tscope={ scope }\n\t\t\t\t\t\t\tidentifier={ identifier }\n\t\t\t\t\t\t\tisPressed={\n\t\t\t\t\t\t\t\tisActive && ( ! showIconLabels || isLarge )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-expanded={ isActive }\n\t\t\t\t\t\t\taria-disabled={ isLoading }\n\t\t\t\t\t\t\tlabel={ title }\n\t\t\t\t\t\t\ticon={ showIconLabels ? check : icon }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tshortcut={ toggleShortcut }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PinnedItems>\n\t\t\t) }\n\t\t\t{ name && isPinnable && (\n\t\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\t\ttarget={ name }\n\t\t\t\t\tscope={ scope }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t\tidentifier={ identifier }\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t\t) }\n\t\t\t<ComplementaryAreaFill\n\t\t\t\tactiveArea={ activeArea }\n\t\t\t\tisActive={ isActive }\n\t\t\t\tclassName={ clsx( 'interface-complementary-area', className ) }\n\t\t\t\tscope={ scope }\n\t\t\t\tid={ identifier.replace( '/', ':' ) }\n\t\t\t>\n\t\t\t\t<ComplementaryAreaHeader\n\t\t\t\t\tclassName={ headerClassName }\n\t\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\t\tonClose={ () => disableComplementaryArea( scope ) }\n\t\t\t\t\ttoggleButtonProps={ {\n\t\t\t\t\t\tlabel: closeLabel,\n\t\t\t\t\t\tsize: 'compact',\n\t\t\t\t\t\tshortcut: toggleShortcut,\n\t\t\t\t\t\tscope,\n\t\t\t\t\t\tidentifier,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ header || (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h2 className=\"interface-complementary-area-header__title\">\n\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t{ isPinnable && ! isMobileViewport && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"interface-complementary-area__pin-unpin-item\"\n\t\t\t\t\t\t\t\t\ticon={ isPinned ? starFilled : starEmpty }\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\tisPinned\n\t\t\t\t\t\t\t\t\t\t\t? __( 'Unpin from toolbar' )\n\t\t\t\t\t\t\t\t\t\t\t: __( 'Pin to toolbar' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t( isPinned ? unpinItem : pinItem )(\n\t\t\t\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t\t\t\t\tidentifier\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tisPressed={ isPinned }\n\t\t\t\t\t\t\t\t\taria-expanded={ isPinned }\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</ComplementaryAreaHeader>\n\t\t\t\t<Panel className={ panelClassName }>{ children }</Panel>\n\t\t\t</ComplementaryAreaFill>\n\t\t</>\n\t);\n}\n\nComplementaryArea.Slot = ComplementaryAreaSlot;\n\nexport default ComplementaryArea;\n", "/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { usePluginContext } from '@wordpress/plugins';\n\n/**\n * Internal dependencies\n */\nimport { store as interfaceStore } from '../../store';\n\n/**\n * Whether the role supports checked state.\n *\n * @see https://www.w3.org/TR/wai-aria-1.1/#aria-checked\n * @param {import('react').AriaRole} role Role.\n * @return {boolean} Whether the role supports checked state.\n */\nfunction roleSupportsCheckedState( role ) {\n\treturn [\n\t\t'checkbox',\n\t\t'option',\n\t\t'radio',\n\t\t'switch',\n\t\t'menuitemcheckbox',\n\t\t'menuitemradio',\n\t\t'treeitem',\n\t].includes( role );\n}\n\nexport default function ComplementaryAreaToggle( {\n\tas = Button,\n\tscope,\n\tidentifier: identifierProp,\n\ticon: iconProp,\n\tselectedIcon,\n\tname,\n\tshortcut,\n\t...props\n} ) {\n\tconst ComponentToUse = as;\n\tconst context = usePluginContext();\n\tconst icon = iconProp || context.icon;\n\tconst identifier = identifierProp || `${ context.name }/${ name }`;\n\tconst isSelected = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea( scope ) ===\n\t\t\tidentifier,\n\t\t[ identifier, scope ]\n\t);\n\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\n\treturn (\n\t\t<ComponentToUse\n\t\t\ticon={ selectedIcon && isSelected ? selectedIcon : icon }\n\t\t\taria-controls={ identifier.replace( '/', ':' ) }\n\t\t\t// Make sure aria-checked matches spec https://www.w3.org/TR/wai-aria-1.1/#aria-checked\n\t\t\taria-checked={\n\t\t\t\troleSupportsCheckedState( props.role ) ? isSelected : undefined\n\t\t\t}\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tdisableComplementaryArea( scope );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( scope, identifier );\n\t\t\t\t}\n\t\t\t} }\n\t\t\tshortcut={ shortcut }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport reducer from './reducer';\nimport { STORE_NAME } from './constants';\n\n/**\n * Store definition for the interface namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, {\n\treducer,\n\tactions,\n\tselectors,\n} );\nregister( store );\n", "/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tnormalizeComplementaryAreaScope,\n\tnormalizeComplementaryAreaName,\n} from './deprecated';\n\n/**\n * Set a default complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n *\n * @return {Object} Action object.\n */\nexport const setDefaultComplementaryArea = ( scope, area ) => {\n\tscope = normalizeComplementaryAreaScope( scope );\n\tarea = normalizeComplementaryAreaName( scope, area );\n\treturn {\n\t\ttype: 'SET_DEFAULT_COMPLEMENTARY_AREA',\n\t\tscope,\n\t\tarea,\n\t};\n};\n\n/**\n * Enable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n */\nexport const enableComplementaryArea =\n\t( scope, area ) =>\n\t( { registry, dispatch } ) => {\n\t\t// Return early if there's no area.\n\t\tif ( ! area ) {\n\t\t\treturn;\n\t\t}\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tarea = normalizeComplementaryAreaName( scope, area );\n\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( ! isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', true );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'ENABLE_COMPLEMENTARY_AREA',\n\t\t\tscope,\n\t\t\tarea,\n\t\t} );\n\t};\n\n/**\n * Disable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n */\nexport const disableComplementaryArea =\n\t( scope ) =>\n\t( { registry } ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', false );\n\t\t}\n\t};\n\n/**\n * Pins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n *\n * @return {Object} Action object.\n */\nexport const pinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\titem = normalizeComplementaryAreaName( scope, item );\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\t// The item is already pinned, there's nothing to do.\n\t\tif ( pinnedItems?.[ item ] === true ) {\n\t\t\treturn;\n\t\t}\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: true,\n\t\t} );\n\t};\n\n/**\n * Unpins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n */\nexport const unpinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\titem = normalizeComplementaryAreaName( scope, item );\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: false,\n\t\t} );\n\t};\n\n/**\n * Returns an action object used in signalling that a feature should be toggled.\n *\n * @param {string} scope       The feature scope (e.g. core/edit-post).\n * @param {string} featureName The feature name.\n */\nexport function toggleFeature( scope, featureName ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).toggleFeature`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).toggle`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).toggle( scope, featureName );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a feature should be set to\n * a true or false value\n *\n * @param {string}  scope       The feature scope (e.g. core/edit-post).\n * @param {string}  featureName The feature name.\n * @param {boolean} value       The value to set.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureValue( scope, featureName, value ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureValue`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).set`,\n\t\t} );\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( scope, featureName, !! value );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that defaults should be set for features.\n *\n * @param {string}                  scope    The feature scope (e.g. core/edit-post).\n * @param {Object<string, boolean>} defaults A key/value map of feature names to values.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureDefaults( scope, defaults ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureDefaults`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).setDefaults`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).setDefaults( scope, defaults );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user opened a modal.\n *\n * @param {string} name A string that uniquely identifies the modal.\n *\n * @return {Object} Action object.\n */\nexport function openModal( name ) {\n\treturn {\n\t\ttype: 'OPEN_MODAL',\n\t\tname,\n\t};\n}\n\n/**\n * Returns an action object signalling that the user closed a modal.\n *\n * @return {Object} Action object.\n */\nexport function closeModal() {\n\treturn {\n\t\ttype: 'CLOSE_MODAL',\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\n\nexport function normalizeComplementaryAreaScope( scope ) {\n\tif ( [ 'core/edit-post', 'core/edit-site' ].includes( scope ) ) {\n\t\tdeprecated( `${ scope } interface scope`, {\n\t\t\talternative: 'core interface scope',\n\t\t\thint: 'core/edit-post and core/edit-site are merging.',\n\t\t\tversion: '6.6',\n\t\t} );\n\t\treturn 'core';\n\t}\n\n\treturn scope;\n}\n\nexport function normalizeComplementaryAreaName( scope, name ) {\n\tif ( scope === 'core' && name === 'edit-site/template' ) {\n\t\tdeprecated( `edit-site/template sidebar`, {\n\t\t\talternative: 'edit-post/document',\n\t\t\tversion: '6.6',\n\t\t} );\n\t\treturn 'edit-post/document';\n\t}\n\n\tif ( scope === 'core' && name === 'edit-site/block-inspector' ) {\n\t\tdeprecated( `edit-site/block-inspector sidebar`, {\n\t\t\talternative: 'edit-post/block',\n\t\t\tversion: '6.6',\n\t\t} );\n\t\treturn 'edit-post/block';\n\t}\n\n\treturn name;\n}\n", "/**\n * WordPress dependencies\n */\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tnormalizeComplementaryAreaScope,\n\tnormalizeComplementaryAreaName,\n} from './deprecated';\n\n/**\n * Returns the complementary area that is active in a given scope.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Item scope.\n *\n * @return {string | null | undefined} The complementary area that is active in the given scope.\n */\nexport const getActiveComplementaryArea = createRegistrySelector(\n\t( select ) => ( state, scope ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tconst isComplementaryAreaVisible = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'isComplementaryAreaVisible'\n\t\t);\n\n\t\t// Return `undefined` to indicate that the user has never toggled\n\t\t// visibility, this is the vanilla default. Other code relies on this\n\t\t// nuance in the return value.\n\t\tif ( isComplementaryAreaVisible === undefined ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Return `null` to indicate the user hid the complementary area.\n\t\tif ( isComplementaryAreaVisible === false ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn state?.complementaryAreas?.[ scope ];\n\t}\n);\n\nexport const isComplementaryAreaLoading = createRegistrySelector(\n\t( select ) => ( state, scope ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tconst isVisible = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'isComplementaryAreaVisible'\n\t\t);\n\t\tconst identifier = state?.complementaryAreas?.[ scope ];\n\n\t\treturn isVisible && identifier === undefined;\n\t}\n);\n\n/**\n * Returns a boolean indicating if an item is pinned or not.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Scope.\n * @param {string} item  Item to check.\n *\n * @return {boolean} True if the item is pinned and false otherwise.\n */\nexport const isItemPinned = createRegistrySelector(\n\t( select ) => ( state, scope, item ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\titem = normalizeComplementaryAreaName( scope, item );\n\t\tconst pinnedItems = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'pinnedItems'\n\t\t);\n\t\treturn pinnedItems?.[ item ] ?? true;\n\t}\n);\n\n/**\n * Returns a boolean indicating whether a feature is active for a particular\n * scope.\n *\n * @param {Object} state       The store state.\n * @param {string} scope       The scope of the feature (e.g. core/edit-post).\n * @param {string} featureName The name of the feature.\n *\n * @return {boolean} Is the feature enabled?\n */\nexport const isFeatureActive = createRegistrySelector(\n\t( select ) => ( state, scope, featureName ) => {\n\t\tdeprecated(\n\t\t\t`select( 'core/interface' ).isFeatureActive( scope, featureName )`,\n\t\t\t{\n\t\t\t\tsince: '6.0',\n\t\t\t\talternative: `select( 'core/preferences' ).get( scope, featureName )`,\n\t\t\t}\n\t\t);\n\n\t\treturn !! select( preferencesStore ).get( scope, featureName );\n\t}\n);\n\n/**\n * Returns true if a modal is active, or false otherwise.\n *\n * @param {Object} state     Global application state.\n * @param {string} modalName A string that uniquely identifies the modal.\n *\n * @return {boolean} Whether the modal is active.\n */\nexport function isModalActive( state, modalName ) {\n\treturn state.activeModal === modalName;\n}\n", "/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\nexport function complementaryAreas( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_DEFAULT_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\n\t\t\t// If there's already an area, don't overwrite it.\n\t\t\tif ( state[ scope ] ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t\tcase 'ENABLE_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer for storing the name of the open modal, or null if no modal is open.\n *\n * @param {Object} state  Previous state.\n * @param {Object} action Action object containing the `name` of the modal\n *\n * @return {Object} Updated state\n */\nexport function activeModal( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_MODAL':\n\t\t\treturn action.name;\n\t\tcase 'CLOSE_MODAL':\n\t\t\treturn null;\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tcomplementaryAreas,\n\tactiveModal,\n} );\n", "/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/interface';\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\n\nconst ComplementaryAreaHeader = ( {\n\tchildren,\n\tclassName,\n\ttoggleButtonProps,\n} ) => {\n\tconst toggleButton = (\n\t\t<ComplementaryAreaToggle icon={ closeSmall } { ...toggleButtonProps } />\n\t);\n\treturn (\n\t\t<div\n\t\t\tclassName={ clsx(\n\t\t\t\t'components-panel__header',\n\t\t\t\t'interface-complementary-area-header',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\ttabIndex={ -1 }\n\t\t>\n\t\t\t{ children }\n\t\t\t{ toggleButton }\n\t\t</div>\n\t);\n};\n\nexport default ComplementaryAreaHeader;\n", "/**\n * WordPress dependencies\n */\nimport { check } from '@wordpress/icons';\nimport { MenuItem } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport ActionItem from '../action-item';\n\nconst PluginsMenuItem = ( {\n\t// Menu item is marked with unstable prop for backward compatibility.\n\t// They are removed so they don't leak to DOM elements.\n\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t__unstableExplicitMenuItem,\n\t__unstableTarget,\n\t...restProps\n} ) => <MenuItem { ...restProps } />;\n\nexport default function ComplementaryAreaMoreMenuItem( {\n\tscope,\n\ttarget,\n\t__unstableExplicitMenuItem,\n\t...props\n} ) {\n\treturn (\n\t\t<ComplementaryAreaToggle\n\t\t\tas={ ( toggleProps ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ActionItem\n\t\t\t\t\t\t__unstableExplicitMenuItem={\n\t\t\t\t\t\t\t__unstableExplicitMenuItem\n\t\t\t\t\t\t}\n\t\t\t\t\t\t__unstableTarget={ `${ scope }/${ target }` }\n\t\t\t\t\t\tas={ PluginsMenuItem }\n\t\t\t\t\t\tname={ `${ scope }/plugin-more-menu` }\n\t\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tselectedIcon={ check }\n\t\t\tname={ target }\n\t\t\tscope={ scope }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { MenuGroup, Button, Slot, Fill } from '@wordpress/components';\nimport { Children } from '@wordpress/element';\n\nconst noop = () => {};\n\nfunction ActionItemSlot( {\n\tname,\n\tas: Component = MenuGroup,\n\tfillProps = {},\n\tbubblesVirtually,\n\t...props\n} ) {\n\treturn (\n\t\t<Slot\n\t\t\tname={ name }\n\t\t\tbubblesVirtually={ bubblesVirtually }\n\t\t\tfillProps={ fillProps }\n\t\t>\n\t\t\t{ ( fills ) => {\n\t\t\t\tif ( ! Children.toArray( fills ).length ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Special handling exists for backward compatibility.\n\t\t\t\t// It ensures that menu items created by plugin authors aren't\n\t\t\t\t// duplicated with automatically injected menu items coming\n\t\t\t\t// from pinnable plugin sidebars.\n\t\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t\tconst initializedByPlugins = [];\n\t\t\t\tChildren.forEach(\n\t\t\t\t\tfills,\n\t\t\t\t\t( {\n\t\t\t\t\t\tprops: { __unstableExplicitMenuItem, __unstableTarget },\n\t\t\t\t\t} ) => {\n\t\t\t\t\t\tif ( __unstableTarget && __unstableExplicitMenuItem ) {\n\t\t\t\t\t\t\tinitializedByPlugins.push( __unstableTarget );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst children = Children.map( fills, ( child ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t! child.props.__unstableExplicitMenuItem &&\n\t\t\t\t\t\tinitializedByPlugins.includes(\n\t\t\t\t\t\t\tchild.props.__unstableTarget\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn child;\n\t\t\t\t} );\n\n\t\t\t\treturn <Component { ...props }>{ children }</Component>;\n\t\t\t} }\n\t\t</Slot>\n\t);\n}\n\nfunction ActionItem( { name, as: Component = Button, onClick, ...props } ) {\n\treturn (\n\t\t<Fill name={ name }>\n\t\t\t{ ( { onClick: fpOnClick } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Component\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tonClick || fpOnClick\n\t\t\t\t\t\t\t\t? ( ...args ) => {\n\t\t\t\t\t\t\t\t\t\t( onClick || noop )( ...args );\n\t\t\t\t\t\t\t\t\t\t( fpOnClick || noop )( ...args );\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t</Fill>\n\t);\n}\n\nActionItem.Slot = ActionItemSlot;\n\nexport default ActionItem;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Slot, Fill } from '@wordpress/components';\n\nfunction PinnedItems( { scope, ...props } ) {\n\treturn <Fill name={ `PinnedItems/${ scope }` } { ...props } />;\n}\n\nfunction PinnedItemsSlot( { scope, className, ...props } ) {\n\treturn (\n\t\t<Slot name={ `PinnedItems/${ scope }` } { ...props }>\n\t\t\t{ ( fills ) =>\n\t\t\t\tfills?.length > 0 && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t'interface-pinned-items'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ fills }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</Slot>\n\t);\n}\n\nPinnedItems.Slot = PinnedItemsSlot;\n\nexport default PinnedItems;\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\nconst FullscreenMode = ( { isActive } ) => {\n\tuseEffect( () => {\n\t\tlet isSticky = false;\n\t\t// `is-fullscreen-mode` is set in PHP as a body class by Gutenberg, and this causes\n\t\t// `sticky-menu` to be applied by WordPress and prevents the admin menu being scrolled\n\t\t// even if `is-fullscreen-mode` is then removed. Let's remove `sticky-menu` here as\n\t\t// a consequence of the FullscreenMode setup.\n\t\tif ( document.body.classList.contains( 'sticky-menu' ) ) {\n\t\t\tisSticky = true;\n\t\t\tdocument.body.classList.remove( 'sticky-menu' );\n\t\t}\n\n\t\treturn () => {\n\t\t\tif ( isSticky ) {\n\t\t\t\tdocument.body.classList.add( 'sticky-menu' );\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( isActive ) {\n\t\t\tdocument.body.classList.add( 'is-fullscreen-mode' );\n\t\t} else {\n\t\t\tdocument.body.classList.remove( 'is-fullscreen-mode' );\n\t\t}\n\n\t\treturn () => {\n\t\t\tif ( isActive ) {\n\t\t\t\tdocument.body.classList.remove( 'is-fullscreen-mode' );\n\t\t\t}\n\t\t};\n\t}, [ isActive ] );\n\n\treturn null;\n};\nexport default FullscreenMode;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Type definitions\n */\ntype NavigableRegionProps = {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tariaLabel: string;\n\tas?: React.ElementType;\n\t[ key: string ]: any;\n};\n\n// This is a copy of the private `NavigableRegion` component from the '@wordpress/editor' private APIs.\nconst NavigableRegion = forwardRef< HTMLElement, NavigableRegionProps >(\n\t( { children, className, ariaLabel, as: Tag = 'div', ...props }, ref ) => {\n\t\treturn (\n\t\t\t<Tag\n\t\t\t\tref={ ref }\n\t\t\t\tclassName={ clsx( 'admin-ui-navigable-region', className ) }\n\t\t\t\taria-label={ ariaLabel }\n\t\t\t\trole=\"region\"\n\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Tag>\n\t\t);\n\t}\n);\n\nNavigableRegion.displayName = 'NavigableRegion';\n\nexport default NavigableRegion;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { NavigableRegion } from '@wordpress/admin-ui';\nimport { forwardRef, useEffect } from '@wordpress/element';\nimport {\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tuseReducedMotion,\n\tuseViewportMatch,\n\tuseResizeObserver,\n} from '@wordpress/compose';\n\nconst ANIMATION_DURATION = 0.25;\nconst commonTransition = {\n\ttype: 'tween',\n\tduration: ANIMATION_DURATION,\n\tease: [ 0.6, 0, 0.4, 1 ],\n};\n\nfunction useHTMLClass( className ) {\n\tuseEffect( () => {\n\t\tconst element =\n\t\t\tdocument && document.querySelector( `html:not(.${ className })` );\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\t\telement.classList.toggle( className );\n\t\treturn () => {\n\t\t\telement.classList.toggle( className );\n\t\t};\n\t}, [ className ] );\n}\n\nconst headerVariants = {\n\thidden: { opacity: 1, marginTop: -60 },\n\tvisible: { opacity: 1, marginTop: 0 },\n\tdistractionFreeHover: {\n\t\topacity: 1,\n\t\tmarginTop: 0,\n\t\ttransition: {\n\t\t\t...commonTransition,\n\t\t\tdelay: 0.2,\n\t\t\tdelayChildren: 0.2,\n\t\t},\n\t},\n\tdistractionFreeHidden: {\n\t\topacity: 0,\n\t\tmarginTop: -60,\n\t},\n\tdistractionFreeDisabled: {\n\t\topacity: 0,\n\t\tmarginTop: 0,\n\t\ttransition: {\n\t\t\t...commonTransition,\n\t\t\tdelay: 0.8,\n\t\t\tdelayChildren: 0.8,\n\t\t},\n\t},\n};\n\nfunction InterfaceSkeleton(\n\t{\n\t\tisDistractionFree,\n\t\tfooter,\n\t\theader,\n\t\teditorNotices,\n\t\tsidebar,\n\t\tsecondarySidebar,\n\t\tcontent,\n\t\tactions,\n\t\tlabels,\n\t\tclassName,\n\t},\n\tref\n) {\n\tconst [ secondarySidebarResizeListener, secondarySidebarSize ] =\n\t\tuseResizeObserver();\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst disableMotion = useReducedMotion();\n\tconst defaultTransition = {\n\t\ttype: 'tween',\n\t\tduration: disableMotion ? 0 : ANIMATION_DURATION,\n\t\tease: [ 0.6, 0, 0.4, 1 ],\n\t};\n\tuseHTMLClass( 'interface-interface-skeleton__html-container' );\n\n\tconst defaultLabels = {\n\t\t/* translators: accessibility text for the top bar landmark region. */\n\t\theader: _x( 'Header', 'header landmark area' ),\n\t\t/* translators: accessibility text for the content landmark region. */\n\t\tbody: __( 'Content' ),\n\t\t/* translators: accessibility text for the secondary sidebar landmark region. */\n\t\tsecondarySidebar: __( 'Block Library' ),\n\t\t/* translators: accessibility text for the settings landmark region. */\n\t\tsidebar: _x( 'Settings', 'settings landmark area' ),\n\t\t/* translators: accessibility text for the publish landmark region. */\n\t\tactions: __( 'Publish' ),\n\t\t/* translators: accessibility text for the footer landmark region. */\n\t\tfooter: __( 'Footer' ),\n\t};\n\n\tconst mergedLabels = { ...defaultLabels, ...labels };\n\n\treturn (\n\t\t<div\n\t\t\tref={ ref }\n\t\t\tclassName={ clsx(\n\t\t\t\tclassName,\n\t\t\t\t'interface-interface-skeleton',\n\t\t\t\t!! footer && 'has-footer'\n\t\t\t) }\n\t\t>\n\t\t\t<div className=\"interface-interface-skeleton__editor\">\n\t\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t\t{ !! header && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__header\"\n\t\t\t\t\t\t\taria-label={ mergedLabels.header }\n\t\t\t\t\t\t\tinitial={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeHidden'\n\t\t\t\t\t\t\t\t\t: 'hidden'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhileHover={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeHover'\n\t\t\t\t\t\t\t\t\t: 'visible'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tanimate={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeDisabled'\n\t\t\t\t\t\t\t\t\t: 'visible'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\texit={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeHidden'\n\t\t\t\t\t\t\t\t\t: 'hidden'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvariants={ headerVariants }\n\t\t\t\t\t\t\ttransition={ defaultTransition }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ header }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t</AnimatePresence>\n\t\t\t\t{ isDistractionFree && (\n\t\t\t\t\t<div className=\"interface-interface-skeleton__header\">\n\t\t\t\t\t\t{ editorNotices }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<div className=\"interface-interface-skeleton__body\">\n\t\t\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t\t\t{ !! secondarySidebar && (\n\t\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__secondary-sidebar\"\n\t\t\t\t\t\t\t\tariaLabel={ mergedLabels.secondarySidebar }\n\t\t\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\t\t\tinitial=\"closed\"\n\t\t\t\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\t\t\t\texit=\"closed\"\n\t\t\t\t\t\t\t\tvariants={ {\n\t\t\t\t\t\t\t\t\topen: { width: secondarySidebarSize.width },\n\t\t\t\t\t\t\t\t\tclosed: { width: 0 },\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\ttransition={ defaultTransition }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\twidth: isMobileViewport\n\t\t\t\t\t\t\t\t\t\t\t? '100vw'\n\t\t\t\t\t\t\t\t\t\t\t: 'fit-content',\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tvariants={ {\n\t\t\t\t\t\t\t\t\t\topen: { x: 0 },\n\t\t\t\t\t\t\t\t\t\tclosed: { x: '-100%' },\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\ttransition={ defaultTransition }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ secondarySidebarResizeListener }\n\t\t\t\t\t\t\t\t\t{ secondarySidebar }\n\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</AnimatePresence>\n\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__content\"\n\t\t\t\t\t\tariaLabel={ mergedLabels.body }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ content }\n\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t{ !! sidebar && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__sidebar\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.sidebar }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ sidebar }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! actions && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__actions\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.actions }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ actions }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ !! footer && (\n\t\t\t\t<NavigableRegion\n\t\t\t\t\tclassName=\"interface-interface-skeleton__footer\"\n\t\t\t\t\tariaLabel={ mergedLabels.footer }\n\t\t\t\t>\n\t\t\t\t\t{ footer }\n\t\t\t\t</NavigableRegion>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default forwardRef( InterfaceSkeleton );\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport { PATTERN_POST_TYPE } from '../../store/constants';\n\nconst { RenamePatternModal } = unlock( patternsPrivateApis );\nexport const modalName = 'editor/pattern-rename';\n\nexport default function PatternRenameModal() {\n\tconst isActive = useSelect( ( select ) =>\n\t\tselect( interfaceStore ).isModalActive( modalName )\n\t);\n\n\tconst { record, postType } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! isActive ) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tconst { getCurrentPostType, getCurrentPostId } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\t\tconst _postType = getCurrentPostType();\n\t\t\treturn {\n\t\t\t\trecord: getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t_postType,\n\t\t\t\t\tgetCurrentPostId()\n\t\t\t\t),\n\t\t\t\tpostType: _postType,\n\t\t\t};\n\t\t},\n\t\t[ isActive ]\n\t);\n\n\tconst { closeModal } = useDispatch( interfaceStore );\n\n\tif ( ! isActive || postType !== PATTERN_POST_TYPE ) {\n\t\treturn null;\n\t}\n\n\treturn <RenamePatternModal onClose={ closeModal } pattern={ record } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport { PATTERN_POST_TYPE } from '../../store/constants';\n\nconst { DuplicatePatternModal } = unlock( patternsPrivateApis );\nexport const modalName = 'editor/pattern-duplicate';\n\nexport default function PatternDuplicateModal() {\n\tconst isActive = useSelect( ( select ) =>\n\t\tselect( interfaceStore ).isModalActive( modalName )\n\t);\n\n\tconst { record, postType } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! isActive ) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tconst { getCurrentPostType, getCurrentPostId } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\t\tconst _postType = getCurrentPostType();\n\t\t\treturn {\n\t\t\t\trecord: getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t_postType,\n\t\t\t\t\tgetCurrentPostId()\n\t\t\t\t),\n\t\t\t\tpostType: _postType,\n\t\t\t};\n\t\t},\n\t\t[ isActive ]\n\t);\n\tconst { closeModal } = useDispatch( interfaceStore );\n\n\tif ( ! isActive || postType !== PATTERN_POST_TYPE ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DuplicatePatternModal\n\t\t\tonClose={ closeModal }\n\t\t\tonSuccess={ () => closeModal() }\n\t\t\tpattern={ record }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\n\nimport { _n } from '@wordpress/i18n';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { BlockRemovalWarningModal } = unlock( blockEditorPrivateApis );\n\n// Prevent accidental removal of certain blocks, asking the user for confirmation first.\nconst TEMPLATE_BLOCKS = [\n\t'core/post-content',\n\t'core/post-template',\n\t'core/query',\n];\nconst BLOCK_REMOVAL_RULES = [\n\t{\n\t\t// Template blocks.\n\t\t// The warning is only shown when a user manipulates templates or template parts.\n\t\tpostTypes: [ 'wp_template', 'wp_template_part' ],\n\t\tcallback( removedBlocks ) {\n\t\t\tconst removedTemplateBlocks = removedBlocks.filter( ( { name } ) =>\n\t\t\t\tTEMPLATE_BLOCKS.includes( name )\n\t\t\t);\n\t\t\tif ( removedTemplateBlocks.length ) {\n\t\t\t\treturn _n(\n\t\t\t\t\t'Deleting this block will stop your post or page content from displaying on this template. It is not recommended.',\n\t\t\t\t\t'Some of the deleted blocks will stop your post or page content from displaying on this template. It is not recommended.',\n\t\t\t\t\tremovedBlocks.length\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t},\n\t{\n\t\t// Pattern overrides.\n\t\t// The warning is only shown when the user edits a pattern.\n\t\tpostTypes: [ 'wp_block' ],\n\t\tcallback( removedBlocks ) {\n\t\t\tconst removedBlocksWithOverrides = removedBlocks.filter(\n\t\t\t\t( { attributes } ) =>\n\t\t\t\t\tattributes?.metadata?.bindings &&\n\t\t\t\t\tObject.values( attributes.metadata.bindings ).some(\n\t\t\t\t\t\t( binding ) =>\n\t\t\t\t\t\t\tbinding.source === 'core/pattern-overrides'\n\t\t\t\t\t)\n\t\t\t);\n\t\t\tif ( removedBlocksWithOverrides.length ) {\n\t\t\t\treturn _n(\n\t\t\t\t\t'The deleted block allows instance overrides. Removing it may result in content not displaying where this pattern is used. Are you sure you want to proceed?',\n\t\t\t\t\t'Some of the deleted blocks allow instance overrides. Removing them may result in content not displaying where this pattern is used. Are you sure you want to proceed?',\n\t\t\t\t\tremovedBlocks.length\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t},\n];\n\nexport default function BlockRemovalWarnings() {\n\tconst currentPostType = useSelect(\n\t\t( select ) => select( editorStore ).getCurrentPostType(),\n\t\t[]\n\t);\n\n\tconst removalRulesForPostType = useMemo(\n\t\t() =>\n\t\t\tBLOCK_REMOVAL_RULES.filter( ( rule ) =>\n\t\t\t\trule.postTypes.includes( currentPostType )\n\t\t\t),\n\t\t[ currentPostType ]\n\t);\n\n\t// `BlockRemovalWarnings` is rendered in the editor provider, a shared component\n\t// across react native and web. However, `BlockRemovalWarningModal` is web only.\n\t// Check it exists before trying to render it.\n\tif ( ! BlockRemovalWarningModal ) {\n\t\treturn null;\n\t}\n\n\tif ( ! removalRulesForPostType ) {\n\t\treturn null;\n\t}\n\n\treturn <BlockRemovalWarningModal rules={ removalRulesForPostType } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { Flex, FlexItem, Modal, CheckboxControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useMemo, useEffect } from '@wordpress/element';\nimport {\n\tstore as blockEditorStore,\n\t__experimentalBlockPatternsList as BlockPatternsList,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport {\n\tATTACHMENT_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n} from '../../store/constants';\nimport { store as editorStore } from '../../store';\n\nexport function useStartPatterns() {\n\t// A pattern is a start pattern if it includes 'core/post-content' in its blockTypes,\n\t// and it has no postTypes declared and the current post type is page or if\n\t// the current post type is part of the postTypes declared.\n\tconst { blockPatternsWithPostContentBlockType, postType } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPatternsByBlockTypes, getBlocksByName } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst { getCurrentPostType, getRenderingMode } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst rootClientId =\n\t\t\t\tgetRenderingMode() === 'post-only'\n\t\t\t\t\t? ''\n\t\t\t\t\t: getBlocksByName( 'core/post-content' )?.[ 0 ];\n\t\t\treturn {\n\t\t\t\tblockPatternsWithPostContentBlockType: getPatternsByBlockTypes(\n\t\t\t\t\t'core/post-content',\n\t\t\t\t\trootClientId\n\t\t\t\t),\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\treturn useMemo( () => {\n\t\tif ( ! blockPatternsWithPostContentBlockType?.length ) {\n\t\t\treturn [];\n\t\t}\n\n\t\t/*\n\t\t * Filter patterns without postTypes declared if the current postType is page\n\t\t * or patterns that declare the current postType in its post type array.\n\t\t */\n\t\treturn blockPatternsWithPostContentBlockType.filter( ( pattern ) => {\n\t\t\treturn (\n\t\t\t\t( postType === 'page' && ! pattern.postTypes ) ||\n\t\t\t\t( Array.isArray( pattern.postTypes ) &&\n\t\t\t\t\tpattern.postTypes.includes( postType ) )\n\t\t\t);\n\t\t} );\n\t}, [ postType, blockPatternsWithPostContentBlockType ] );\n}\n\nfunction PatternSelection( { blockPatterns, onChoosePattern } ) {\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst { postType, postId } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\n\t\treturn {\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t};\n\t}, [] );\n\treturn (\n\t\t<BlockPatternsList\n\t\t\tblockPatterns={ blockPatterns }\n\t\t\tonClickPattern={ ( _pattern, blocks ) => {\n\t\t\t\teditEntityRecord( 'postType', postType, postId, {\n\t\t\t\t\tblocks,\n\t\t\t\t\tcontent: ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\t\t\t\t__unstableSerializeAndClean( blocksForSerialization ),\n\t\t\t\t} );\n\t\t\t\tonChoosePattern();\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nfunction StartPageOptionsModal( { onClose } ) {\n\tconst [ showStartPatterns, setShowStartPatterns ] = useState( true );\n\tconst { set: setPreference } = useDispatch( preferencesStore );\n\tconst startPatterns = useStartPatterns();\n\tconst hasStartPattern = startPatterns.length > 0;\n\n\tif ( ! hasStartPattern ) {\n\t\treturn null;\n\t}\n\n\tfunction handleClose() {\n\t\tonClose();\n\t\tsetPreference( 'core', 'enableChoosePatternModal', showStartPatterns );\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"editor-start-page-options__modal\"\n\t\t\ttitle={ __( 'Choose a pattern' ) }\n\t\t\tisFullScreen\n\t\t\tonRequestClose={ handleClose }\n\t\t>\n\t\t\t<div className=\"editor-start-page-options__modal-content\">\n\t\t\t\t<PatternSelection\n\t\t\t\t\tblockPatterns={ startPatterns }\n\t\t\t\t\tonChoosePattern={ handleClose }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Flex\n\t\t\t\tclassName=\"editor-start-page-options__modal__actions\"\n\t\t\t\tjustify=\"flex-start\"\n\t\t\t\texpanded={ false }\n\t\t\t>\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tchecked={ showStartPatterns }\n\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t'Always show starter patterns for new pages'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\tsetShowStartPatterns( newValue );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</FlexItem>\n\t\t\t</Flex>\n\t\t</Modal>\n\t);\n}\n\nexport default function StartPageOptions() {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst { isEditedPostDirty, isEditedPostEmpty } = useSelect( editorStore );\n\tconst { isModalActive } = useSelect( interfaceStore );\n\tconst { enabled, postId } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostId, getCurrentPostType } = select( editorStore );\n\t\tconst choosePatternModalEnabled = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'enableChoosePatternModal'\n\t\t);\n\t\tconst currentPostType = getCurrentPostType();\n\t\treturn {\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tenabled:\n\t\t\t\tchoosePatternModalEnabled &&\n\t\t\t\tATTACHMENT_POST_TYPE !== currentPostType &&\n\t\t\t\tTEMPLATE_POST_TYPE !== currentPostType &&\n\t\t\t\tTEMPLATE_PART_POST_TYPE !== currentPostType,\n\t\t};\n\t}, [] );\n\n\t// Note: The `postId` ensures the effect re-runs when pages are switched without remounting the component.\n\t// Examples: changing pages in the List View, creating a new page via Command Palette.\n\tuseEffect( () => {\n\t\tconst isFreshPage = ! isEditedPostDirty() && isEditedPostEmpty();\n\t\t// Prevents immediately opening when features is enabled via preferences modal.\n\t\tconst isPreferencesModalActive = isModalActive( 'editor/preferences' );\n\t\tif ( ! enabled || ! isFreshPage || isPreferencesModalActive ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Open the modal after the initial render for a new page.\n\t\tsetIsOpen( true );\n\t}, [\n\t\tenabled,\n\t\tpostId,\n\t\tisEditedPostDirty,\n\t\tisEditedPostEmpty,\n\t\tisModalActive,\n\t] );\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t}\n\n\treturn <StartPageOptionsModal onClose={ () => setIsOpen( false ) } />;\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { textFormattingShortcuts } from './config';\nimport Shortcut from './shortcut';\nimport DynamicShortcut from './dynamic-shortcut';\n\nconst KEYBOARD_SHORTCUT_HELP_MODAL_NAME = 'editor/keyboard-shortcut-help';\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t<ul\n\t\tclassName=\"editor-keyboard-shortcut-help-modal__shortcut-list\"\n\t\trole=\"list\"\n\t>\n\t\t{ shortcuts.map( ( shortcut, index ) => (\n\t\t\t<li\n\t\t\t\tclassName=\"editor-keyboard-shortcut-help-modal__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t{ typeof shortcut === 'string' ? (\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\n\t\t\t\t) : (\n\t\t\t\t\t<Shortcut { ...shortcut } />\n\t\t\t\t) }\n\t\t\t</li>\n\t\t) ) }\n\t</ul>\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\n);\n\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\n\t<section\n\t\tclassName={ clsx(\n\t\t\t'editor-keyboard-shortcut-help-modal__section',\n\t\t\tclassName\n\t\t) }\n\t>\n\t\t{ !! title && (\n\t\t\t<h2 className=\"editor-keyboard-shortcut-help-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t) }\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nconst ShortcutCategorySection = ( {\n\ttitle,\n\tcategoryName,\n\tadditionalShortcuts = [],\n} ) => {\n\tconst categoryShortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\n\t\t\t\tcategoryName\n\t\t\t);\n\t\t},\n\t\t[ categoryName ]\n\t);\n\n\treturn (\n\t\t<ShortcutSection\n\t\t\ttitle={ title }\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\n\t\t/>\n\t);\n};\n\nfunction KeyboardShortcutHelpModal() {\n\tconst isModalActive = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).isModalActive(\n\t\t\t\tKEYBOARD_SHORTCUT_HELP_MODAL_NAME\n\t\t\t),\n\t\t[]\n\t);\n\tconst { openModal, closeModal } = useDispatch( interfaceStore );\n\tconst toggleModal = () => {\n\t\tif ( isModalActive ) {\n\t\t\tcloseModal();\n\t\t} else {\n\t\t\topenModal( KEYBOARD_SHORTCUT_HELP_MODAL_NAME );\n\t\t}\n\t};\n\tuseShortcut( 'core/editor/keyboard-shortcuts', toggleModal );\n\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"editor-keyboard-shortcut-help-modal\"\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\n\t\t\tcloseButtonLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ toggleModal }\n\t\t>\n\t\t\t<ShortcutSection\n\t\t\t\tclassName=\"editor-keyboard-shortcut-help-modal__main-shortcuts\"\n\t\t\t\tshortcuts={ [ 'core/editor/keyboard-shortcuts' ] }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\n\t\t\t\tcategoryName=\"global\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\n\t\t\t\tcategoryName=\"selection\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\n\t\t\t\tcategoryName=\"block\"\n\t\t\t\tadditionalShortcuts={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeyCombination: { character: '/' },\n\t\t\t\t\t\tdescription: __(\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t\t<ShortcutSection\n\t\t\t\ttitle={ __( 'Text formatting' ) }\n\t\t\t\tshortcuts={ textFormattingShortcuts }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'List View shortcuts' ) }\n\t\t\t\tcategoryName=\"list-view\"\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n\nexport default KeyboardShortcutHelpModal;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const textFormattingShortcuts = [\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'b' },\n\t\tdescription: __( 'Make the selected text bold.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'i' },\n\t\tdescription: __( 'Make the selected text italic.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'k' },\n\t\tdescription: __( 'Convert the selected text into a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'k' },\n\t\tdescription: __( 'Remove a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { character: '[[' },\n\t\tdescription: __( 'Insert a link to a post or page.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'u' },\n\t\tdescription: __( 'Underline the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'd' },\n\t\tdescription: __( 'Strikethrough the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'x' },\n\t\tdescription: __( 'Make the selected text inline code.' ),\n\t},\n\t{\n\t\tkeyCombination: {\n\t\t\tmodifier: 'access',\n\t\t\tcharacter: '0',\n\t\t},\n\t\taliases: [\n\t\t\t{\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: '7',\n\t\t\t},\n\t\t],\n\t\tdescription: __( 'Convert the current heading to a paragraph.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: '1-6' },\n\t\tdescription: __(\n\t\t\t'Convert the current paragraph or heading to a heading of level 1 to 6.'\n\t\t),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'SPACE' },\n\t\tdescription: __( 'Add non breaking space.' ),\n\t},\n];\n", "/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { displayShortcutList, shortcutAriaLabel } from '@wordpress/keycodes';\n\nfunction KeyCombination( { keyCombination, forceAriaLabel } ) {\n\tconst shortcut = keyCombination.modifier\n\t\t? displayShortcutList[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst ariaLabel = keyCombination.modifier\n\t\t? shortcutAriaLabel[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\n\treturn (\n\t\t<kbd\n\t\t\tclassName=\"editor-keyboard-shortcut-help-modal__shortcut-key-combination\"\n\t\t\taria-label={ forceAriaLabel || ariaLabel }\n\t\t>\n\t\t\t{ ( Array.isArray( shortcut ) ? shortcut : [ shortcut ] ).map(\n\t\t\t\t( character, index ) => {\n\t\t\t\t\tif ( character === '+' ) {\n\t\t\t\t\t\treturn <Fragment key={ index }>{ character }</Fragment>;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<kbd\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tclassName=\"editor-keyboard-shortcut-help-modal__shortcut-key\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ character }\n\t\t\t\t\t\t</kbd>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t) }\n\t\t</kbd>\n\t);\n}\n\nfunction Shortcut( { description, keyCombination, aliases = [], ariaLabel } ) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"editor-keyboard-shortcut-help-modal__shortcut-description\">\n\t\t\t\t{ description }\n\t\t\t</div>\n\t\t\t<div className=\"editor-keyboard-shortcut-help-modal__shortcut-term\">\n\t\t\t\t<KeyCombination\n\t\t\t\t\tkeyCombination={ keyCombination }\n\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ aliases.map( ( alias, index ) => (\n\t\t\t\t\t<KeyCombination\n\t\t\t\t\t\tkeyCombination={ alias }\n\t\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Shortcut;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from './shortcut';\n\nfunction DynamicShortcut( { name } ) {\n\tconst { keyCombination, description, aliases } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetShortcutKeyCombination,\n\t\t\t\tgetShortcutDescription,\n\t\t\t\tgetShortcutAliases,\n\t\t\t} = select( keyboardShortcutsStore );\n\n\t\t\treturn {\n\t\t\t\tkeyCombination: getShortcutKeyCombination( name ),\n\t\t\t\taliases: getShortcutAliases( name ),\n\t\t\t\tdescription: getShortcutDescription( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! keyCombination ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Shortcut\n\t\t\tkeyCombination={ keyCombination }\n\t\t\tdescription={ description }\n\t\t\taliases={ aliases }\n\t\t/>\n\t);\n}\n\nexport default DynamicShortcut;\n", "/**\n * WordPress dependencies\n */\nimport { Modal, Flex, FlexItem, Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useMemo, useEffect } from '@wordpress/element';\nimport { __experimentalBlockPatternsList as BlockPatternsList } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { parse } from '@wordpress/blocks';\nimport { store as coreStore, useEntityBlockEditor } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\n\nfunction useFallbackTemplateContent( slug, isCustom = false ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, getDefaultTemplateId } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst templateId = getDefaultTemplateId( {\n\t\t\t\tslug,\n\t\t\t\tis_custom: isCustom,\n\t\t\t\tignore_empty: true,\n\t\t\t} );\n\t\t\treturn templateId\n\t\t\t\t? getEntityRecord( 'postType', TEMPLATE_POST_TYPE, templateId )\n\t\t\t\t\t\t?.content?.raw\n\t\t\t\t: undefined;\n\t\t},\n\t\t[ slug, isCustom ]\n\t);\n}\n\nfunction useStartPatterns( fallbackContent ) {\n\tconst { slug, patterns } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst { getEntityRecord, getBlockPatterns } = select( coreStore );\n\t\tconst postId = getCurrentPostId();\n\t\tconst postType = getCurrentPostType();\n\t\tconst record = getEntityRecord( 'postType', postType, postId );\n\t\treturn {\n\t\t\tslug: record.slug,\n\t\t\tpatterns: getBlockPatterns(),\n\t\t};\n\t}, [] );\n\n\tconst currentThemeStylesheet = useSelect(\n\t\t( select ) => select( coreStore ).getCurrentTheme().stylesheet\n\t);\n\n\t// Duplicated from packages/block-library/src/pattern/edit.js.\n\tfunction injectThemeAttributeInBlockTemplateContent( block ) {\n\t\tif (\n\t\t\tblock.innerBlocks.find(\n\t\t\t\t( innerBlock ) => innerBlock.name === 'core/template-part'\n\t\t\t)\n\t\t) {\n\t\t\tblock.innerBlocks = block.innerBlocks.map( ( innerBlock ) => {\n\t\t\t\tif (\n\t\t\t\t\tinnerBlock.name === 'core/template-part' &&\n\t\t\t\t\tinnerBlock.attributes.theme === undefined\n\t\t\t\t) {\n\t\t\t\t\tinnerBlock.attributes.theme = currentThemeStylesheet;\n\t\t\t\t}\n\t\t\t\treturn innerBlock;\n\t\t\t} );\n\t\t}\n\n\t\tif (\n\t\t\tblock.name === 'core/template-part' &&\n\t\t\tblock.attributes.theme === undefined\n\t\t) {\n\t\t\tblock.attributes.theme = currentThemeStylesheet;\n\t\t}\n\t\treturn block;\n\t}\n\n\treturn useMemo( () => {\n\t\t// filter patterns that are supposed to be used in the current template being edited.\n\t\treturn [\n\t\t\t{\n\t\t\t\tname: 'fallback',\n\t\t\t\tblocks: parse( fallbackContent ),\n\t\t\t\ttitle: __( 'Fallback content' ),\n\t\t\t},\n\t\t\t...patterns\n\t\t\t\t.filter( ( pattern ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tArray.isArray( pattern.templateTypes ) &&\n\t\t\t\t\t\tpattern.templateTypes.some( ( templateType ) =>\n\t\t\t\t\t\t\tslug.startsWith( templateType )\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} )\n\t\t\t\t.map( ( pattern ) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...pattern,\n\t\t\t\t\t\tblocks: parse( pattern.content ).map( ( block ) =>\n\t\t\t\t\t\t\tinjectThemeAttributeInBlockTemplateContent( block )\n\t\t\t\t\t\t),\n\t\t\t\t\t};\n\t\t\t\t} ),\n\t\t];\n\t}, [ fallbackContent, slug, patterns ] );\n}\n\nfunction PatternSelection( { fallbackContent, onChoosePattern, postType } ) {\n\tconst [ , , onChange ] = useEntityBlockEditor( 'postType', postType );\n\tconst blockPatterns = useStartPatterns( fallbackContent );\n\treturn (\n\t\t<BlockPatternsList\n\t\t\tblockPatterns={ blockPatterns }\n\t\t\tonClickPattern={ ( pattern, blocks ) => {\n\t\t\t\tonChange( blocks, { selection: undefined } );\n\t\t\t\tonChoosePattern();\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nfunction StartModal( { slug, isCustom, onClose, postType } ) {\n\tconst fallbackContent = useFallbackTemplateContent( slug, isCustom );\n\tif ( ! fallbackContent ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"editor-start-template-options__modal\"\n\t\t\ttitle={ __( 'Choose a pattern' ) }\n\t\t\tcloseLabel={ __( 'Cancel' ) }\n\t\t\tfocusOnMount=\"firstElement\"\n\t\t\tonRequestClose={ onClose }\n\t\t\tisFullScreen\n\t\t>\n\t\t\t<div className=\"editor-start-template-options__modal-content\">\n\t\t\t\t<PatternSelection\n\t\t\t\t\tfallbackContent={ fallbackContent }\n\t\t\t\t\tslug={ slug }\n\t\t\t\t\tisCustom={ isCustom }\n\t\t\t\t\tpostType={ postType }\n\t\t\t\t\tonChoosePattern={ () => {\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Flex\n\t\t\t\tclassName=\"editor-start-template-options__modal__actions\"\n\t\t\t\tjustify=\"flex-end\"\n\t\t\t\texpanded={ false }\n\t\t\t>\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Skip' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexItem>\n\t\t\t</Flex>\n\t\t</Modal>\n\t);\n}\n\nexport default function StartTemplateOptions() {\n\tconst [ isClosed, setIsClosed ] = useState( false );\n\tconst { shouldOpenModal, slug, isCustom, postType, postId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPostType, getCurrentPostId } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst _postType = getCurrentPostType();\n\t\t\tconst _postId = getCurrentPostId();\n\t\t\tconst { getEditedEntityRecord, hasEditsForEntityRecord } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst templateRecord = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t_postType,\n\t\t\t\t_postId\n\t\t\t);\n\t\t\tconst hasEdits = hasEditsForEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t_postType,\n\t\t\t\t_postId\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tshouldOpenModal:\n\t\t\t\t\t! hasEdits &&\n\t\t\t\t\t'' === templateRecord.content &&\n\t\t\t\t\tTEMPLATE_POST_TYPE === _postType,\n\t\t\t\tslug: templateRecord.slug,\n\t\t\t\tisCustom: templateRecord.is_custom,\n\t\t\t\tpostType: _postType,\n\t\t\t\tpostId: _postId,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tuseEffect( () => {\n\t\t// Should reset the modal state when navigating to a new page/post.\n\t\tsetIsClosed( false );\n\t}, [ postType, postId ] );\n\n\tif ( ! shouldOpenModal || isClosed ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<StartModal\n\t\t\tslug={ slug }\n\t\t\tisCustom={ isCustom }\n\t\t\tpostType={ postType }\n\t\t\tonClose={ () => setIsClosed( true ) }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Handles the keyboard shortcuts for the editor.\n *\n * It provides functionality for various keyboard shortcuts such as toggling editor mode,\n * toggling distraction-free mode, undo/redo, saving the post, toggling list view,\n * and toggling the sidebar.\n */\nexport default function EditorKeyboardShortcuts() {\n\tconst isModeToggleDisabled = useSelect( ( select ) => {\n\t\tconst { richEditingEnabled, codeEditingEnabled } =\n\t\t\tselect( editorStore ).getEditorSettings();\n\t\treturn ! richEditingEnabled || ! codeEditingEnabled;\n\t}, [] );\n\tconst { getBlockSelectionStart } = useSelect( blockEditorStore );\n\tconst { getActiveComplementaryArea } = useSelect( interfaceStore );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tconst {\n\t\tredo,\n\t\tundo,\n\t\tsavePost,\n\t\tsetIsListViewOpened,\n\t\tswitchEditorMode,\n\t\ttoggleDistractionFree,\n\t} = useDispatch( editorStore );\n\tconst {\n\t\tisEditedPostDirty,\n\t\tisPostSavingLocked,\n\t\tisListViewOpened,\n\t\tgetEditorMode,\n\t} = useSelect( editorStore );\n\n\tuseShortcut(\n\t\t'core/editor/toggle-mode',\n\t\t() => {\n\t\t\tswitchEditorMode(\n\t\t\t\tgetEditorMode() === 'visual' ? 'text' : 'visual'\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\tisDisabled: isModeToggleDisabled,\n\t\t}\n\t);\n\n\tuseShortcut( 'core/editor/toggle-distraction-free', () => {\n\t\ttoggleDistractionFree();\n\t} );\n\n\tuseShortcut( 'core/editor/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/editor/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/editor/save', ( event ) => {\n\t\tevent.preventDefault();\n\n\t\t/**\n\t\t * Do not save the post if post saving is locked.\n\t\t */\n\t\tif ( isPostSavingLocked() ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO: This should be handled in the `savePost` effect in\n\t\t// considering `isSaveable`. See note on `isEditedPostSaveable`\n\t\t// selector about dirtiness and meta-boxes.\n\t\t//\n\t\t// See: `isEditedPostSaveable`\n\t\tif ( ! isEditedPostDirty() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsavePost();\n\t} );\n\n\t// Only opens the list view. Other functionality for this shortcut happens in the rendered sidebar.\n\tuseShortcut( 'core/editor/toggle-list-view', ( event ) => {\n\t\tif ( ! isListViewOpened() ) {\n\t\t\tevent.preventDefault();\n\t\t\tsetIsListViewOpened( true );\n\t\t}\n\t} );\n\n\tuseShortcut( 'core/editor/toggle-sidebar', ( event ) => {\n\t\t// This shortcut has no known clashes, but use preventDefault to prevent any\n\t\t// obscure shortcuts from triggering.\n\t\tevent.preventDefault();\n\t\tconst isEditorSidebarOpened = [\n\t\t\t'edit-post/document',\n\t\t\t'edit-post/block',\n\t\t].includes( getActiveComplementaryArea( 'core' ) );\n\n\t\tif ( isEditorSidebarOpened ) {\n\t\t\tdisableComplementaryArea( 'core' );\n\t\t} else {\n\t\t\tconst sidebarToOpen = getBlockSelectionStart()\n\t\t\t\t? 'edit-post/block'\n\t\t\t\t: 'edit-post/document';\n\t\t\tenableComplementaryArea( 'core', sidebarToOpen );\n\t\t}\n\t} );\n\n\treturn null;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tBlockSettingsMenuControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ConvertToRegularBlocks from './convert-to-regular';\nimport ConvertToTemplatePart from './convert-to-template-part';\n\nexport default function TemplatePartMenuItems() {\n\treturn (\n\t\t<BlockSettingsMenuControls>\n\t\t\t{ ( { selectedClientIds, onClose } ) => (\n\t\t\t\t<TemplatePartConverterMenuItem\n\t\t\t\t\tclientIds={ selectedClientIds }\n\t\t\t\t\tonClose={ onClose }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</BlockSettingsMenuControls>\n\t);\n}\n\nfunction TemplatePartConverterMenuItem( { clientIds, onClose } ) {\n\tconst { blocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlocksByClientId } = select( blockEditorStore );\n\t\t\treturn {\n\t\t\t\tblocks: getBlocksByClientId( clientIds ),\n\t\t\t};\n\t\t},\n\t\t[ clientIds ]\n\t);\n\n\t// Allow converting a single template part to standard blocks.\n\tif ( blocks.length === 1 && blocks[ 0 ]?.name === 'core/template-part' ) {\n\t\treturn (\n\t\t\t<ConvertToRegularBlocks\n\t\t\t\tclientId={ clientIds[ 0 ] }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t);\n\t}\n\treturn <ConvertToTemplatePart clientIds={ clientIds } blocks={ blocks } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function ConvertToRegularBlocks( { clientId, onClose } ) {\n\tconst { getBlocks } = useSelect( blockEditorStore );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\n\tconst canRemove = useSelect(\n\t\t( select ) => select( blockEditorStore ).canRemoveBlock( clientId ),\n\t\t[ clientId ]\n\t);\n\n\tif ( ! canRemove ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\treplaceBlocks( clientId, getBlocks( clientId ) );\n\t\t\t\tonClose();\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Detach' ) }\n\t\t</MenuItem>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { createBlock } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { symbolFilled } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { CreateTemplatePartModal } from '@wordpress/fields';\n\nexport default function ConvertToTemplatePart( { clientIds, blocks } ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst { isBlockBasedTheme, canCreate } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tisBlockBasedTheme:\n\t\t\t\tselect( coreStore ).getCurrentTheme()?.is_block_theme,\n\t\t\tcanCreate:\n\t\t\t\tselect( blockEditorStore ).canInsertBlockType(\n\t\t\t\t\t'core/template-part'\n\t\t\t\t),\n\t\t};\n\t}, [] );\n\n\tif ( ! isBlockBasedTheme || ! canCreate ) {\n\t\treturn null;\n\t}\n\n\tconst onConvert = async ( templatePart ) => {\n\t\treplaceBlocks(\n\t\t\tclientIds,\n\t\t\tcreateBlock( 'core/template-part', {\n\t\t\t\tslug: templatePart.slug,\n\t\t\t\ttheme: templatePart.theme,\n\t\t\t} )\n\t\t);\n\t\tcreateSuccessNotice( __( 'Template part created.' ), {\n\t\t\ttype: 'snackbar',\n\t\t} );\n\n\t\t// The modal and this component will be unmounted because of `replaceBlocks` above,\n\t\t// so no need to call `closeModal` or `onClose`.\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<MenuItem\n\t\t\t\ticon={ symbolFilled }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t} }\n\t\t\t\taria-expanded={ isModalOpen }\n\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t>\n\t\t\t\t{ __( 'Create template part' ) }\n\t\t\t</MenuItem>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<CreateTemplatePartModal\n\t\t\t\t\tcloseModal={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\tonCreate={ onConvert }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { GlobalStylesUI } from '@wordpress/global-styles-ui';\nimport { uploadMedia } from '@wordpress/media-utils';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { GlobalStylesBlockLink } from './block-link';\nimport { useGlobalStyles } from './hooks';\n\n/**\n * Hook to fetch server CSS and settings for BlockEditorProvider that are not Global Styles.\n */\nfunction useServerData() {\n\tconst {\n\t\tstyles,\n\t\t__unstableResolvedAssets,\n\t\tcolors,\n\t\tgradients,\n\t\t__experimentalDiscussionSettings,\n\t\tmediaUploadHandler,\n\t\tfontLibraryEnabled,\n\t} = useSelect( ( select ) => {\n\t\tconst { getEditorSettings } = select( editorStore );\n\t\tconst { canUser } = select( coreStore );\n\t\tconst editorSettings = getEditorSettings();\n\n\t\tconst canUserUploadMedia = canUser( 'create', {\n\t\t\tkind: 'postType',\n\t\t\tname: 'attachment',\n\t\t} );\n\n\t\treturn {\n\t\t\tstyles: editorSettings?.styles,\n\t\t\t__unstableResolvedAssets: editorSettings?.__unstableResolvedAssets,\n\t\t\tcolors: editorSettings?.colors,\n\t\t\tgradients: editorSettings?.gradients,\n\t\t\t__experimentalDiscussionSettings:\n\t\t\t\teditorSettings?.__experimentalDiscussionSettings,\n\t\t\tmediaUploadHandler: canUserUploadMedia ? uploadMedia : undefined,\n\t\t\tfontLibraryEnabled: editorSettings?.fontLibraryEnabled ?? true,\n\t\t};\n\t}, [] );\n\n\t// Filter out global styles to get only server-provided styles\n\tconst serverCSS = useMemo( () => {\n\t\tif ( ! styles ) {\n\t\t\treturn [];\n\t\t}\n\t\treturn styles.filter( ( style ) => ! style.isGlobalStyles );\n\t}, [ styles ] );\n\n\t// Create server settings object\n\tconst serverSettings = useMemo( () => {\n\t\treturn {\n\t\t\t__unstableResolvedAssets,\n\t\t\tsettings: {\n\t\t\t\tcolor: {\n\t\t\t\t\tpalette: {\n\t\t\t\t\t\ttheme: colors ?? [],\n\t\t\t\t\t},\n\t\t\t\t\tgradients: {\n\t\t\t\t\t\ttheme: gradients ?? [],\n\t\t\t\t\t},\n\t\t\t\t\tduotone: {\n\t\t\t\t\t\ttheme: [],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t__experimentalDiscussionSettings,\n\t\t\tmediaUpload: mediaUploadHandler,\n\t\t};\n\t}, [\n\t\t__unstableResolvedAssets,\n\t\tcolors,\n\t\tgradients,\n\t\t__experimentalDiscussionSettings,\n\t\tmediaUploadHandler,\n\t] );\n\n\treturn { serverCSS, serverSettings, fontLibraryEnabled };\n}\n\nexport default function GlobalStylesUIWrapper( { path, onPathChange } ) {\n\tconst {\n\t\tuser: userConfig,\n\t\tbase: baseConfig,\n\t\tsetUser: setUserConfig,\n\t\tisReady,\n\t} = useGlobalStyles();\n\tconst { serverCSS, serverSettings, fontLibraryEnabled } = useServerData();\n\n\t// Show loading state while data is being fetched\n\tif ( ! isReady ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<GlobalStylesUI\n\t\t\t\tvalue={ userConfig }\n\t\t\t\tbaseValue={ baseConfig || {} }\n\t\t\t\tonChange={ setUserConfig }\n\t\t\t\tpath={ path }\n\t\t\t\tonPathChange={ onPathChange }\n\t\t\t\tfontLibraryEnabled={ fontLibraryEnabled }\n\t\t\t\tserverCSS={ serverCSS }\n\t\t\t\tserverSettings={ serverSettings }\n\t\t\t/>\n\t\t\t<GlobalStylesBlockLink\n\t\t\t\tpath={ path }\n\t\t\t\tonPathChange={ onPathChange }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport { useGlobalStyles, useStyle, useSetting } from './hooks';\n", "/**\n * WordPress dependencies\n */\nimport { Navigator, useNavigator } from '@wordpress/components';\n// @ts-expect-error: Not typed yet.\nimport { getBlockTypes, store as blocksStore } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n// @ts-expect-error: Not typed yet.\nimport { BlockEditorProvider } from '@wordpress/block-editor';\nimport { useMemo, useEffect, Fragment } from '@wordpress/element';\nimport { usePrevious } from '@wordpress/compose';\nimport {\n\tgenerateGlobalStyles,\n\tmergeGlobalStyles,\n} from '@wordpress/global-styles-engine';\nimport type {\n\tGlobalStylesConfig,\n\tBlockType,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesProvider } from './provider';\nimport ScreenRoot from './screen-root';\nimport ScreenBlockList from './screen-block-list';\nimport ScreenBlock from './screen-block';\nimport ScreenTypography from './screen-typography';\nimport ScreenTypographyElement from './screen-typography-element';\nimport ScreenColors from './screen-colors';\nimport ScreenColorPalette from './screen-color-palette';\nimport ScreenBackground from './screen-background';\nimport { ScreenShadows, ScreenShadowsEdit } from './screen-shadows';\nimport ScreenLayout from './screen-layout';\nimport ScreenStyleVariations from './screen-style-variations';\nimport ScreenCSS from './screen-css';\nimport ScreenRevisions from './screen-revisions';\nimport FontSizes from './font-sizes/font-sizes';\nimport FontSize from './font-sizes/font-size';\ninterface BlockStylesNavigationScreensProps {\n\tparentMenu: string;\n\tblockStyles: any[];\n\tblockName: string;\n}\n\nfunction BlockStylesNavigationScreens( {\n\tparentMenu,\n\tblockStyles,\n\tblockName,\n}: BlockStylesNavigationScreensProps ) {\n\treturn (\n\t\t<>\n\t\t\t{ blockStyles.map( ( style, index ) => (\n\t\t\t\t<Navigator.Screen\n\t\t\t\t\tkey={ index }\n\t\t\t\t\tpath={ parentMenu + '/variations/' + style.name }\n\t\t\t\t>\n\t\t\t\t\t<ScreenBlock name={ blockName } variation={ style.name } />\n\t\t\t\t</Navigator.Screen>\n\t\t\t) ) }\n\t\t</>\n\t);\n}\n\ninterface ContextScreensProps {\n\tname?: string;\n\tparentMenu?: string;\n}\n\ninterface GlobalStylesNavigationScreenProps {\n\tpath: string;\n\tchildren: React.ReactNode;\n}\n\nfunction ContextScreens( { name, parentMenu = '' }: ContextScreensProps ) {\n\tconst blockStyleVariations = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! name ) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tconst { getBlockStyles } = select( blocksStore );\n\t\t\treturn getBlockStyles( name );\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! blockStyleVariations?.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockStylesNavigationScreens\n\t\t\tparentMenu={ parentMenu }\n\t\t\tblockStyles={ blockStyleVariations }\n\t\t\tblockName={ name || '' }\n\t\t/>\n\t);\n}\n\ninterface GlobalStylesUIProps {\n\t/** User global styles object (what gets edited) */\n\tvalue: GlobalStylesConfig;\n\t/** Base global styles object (theme default) */\n\tbaseValue: GlobalStylesConfig;\n\t/** Callback when global styles change */\n\tonChange: ( newValue: GlobalStylesConfig ) => void;\n\t/** Current navigation path (optional) */\n\tpath?: string;\n\t/** Callback when navigation path changes (optional) */\n\tonPathChange?: ( path: string ) => void;\n\t/** Whether font library is enabled (optional) */\n\tfontLibraryEnabled?: boolean;\n\t/** Server CSS styles for BlockEditorProvider (optional) */\n\tserverCSS?: { isGlobalStyles?: boolean }[];\n\t/** Server settings for BlockEditorProvider (optional) */\n\tserverSettings?: { __unstableResolvedAssets: Record< string, unknown > };\n}\n\nexport function GlobalStylesUI( {\n\tvalue,\n\tbaseValue,\n\tonChange,\n\tpath,\n\tonPathChange,\n\tfontLibraryEnabled = false,\n\tserverCSS,\n\tserverSettings,\n}: GlobalStylesUIProps ) {\n\tconst blocks = getBlockTypes();\n\n\t// Compute merged value for CSS generation\n\tconst mergedValue = useMemo( () => {\n\t\treturn mergeGlobalStyles( baseValue, value );\n\t}, [ baseValue, value ] );\n\n\tconst [ globalStylesCSS, globalSettings ] = generateGlobalStyles(\n\t\tmergedValue,\n\t\t[],\n\t\t{\n\t\t\tstyleOptions: { variationStyles: true },\n\t\t}\n\t);\n\tconst styles = useMemo(\n\t\t() => [ ...( serverCSS ?? [] ), ...( globalStylesCSS ?? [] ) ],\n\t\t[ serverCSS, globalStylesCSS ]\n\t);\n\n\tconst settings = useMemo( () => {\n\t\treturn {\n\t\t\t...serverSettings,\n\t\t\t__experimentalFeatures: globalSettings,\n\t\t\tstyles,\n\t\t};\n\t}, [ globalSettings, serverSettings, styles ] );\n\n\treturn (\n\t\t<GlobalStylesProvider\n\t\t\tvalue={ value }\n\t\t\tbaseValue={ baseValue }\n\t\t\tonChange={ onChange }\n\t\t\tfontLibraryEnabled={ fontLibraryEnabled }\n\t\t>\n\t\t\t<BlockEditorProvider settings={ settings }>\n\t\t\t\t<Navigator\n\t\t\t\t\tclassName=\"global-styles-ui-sidebar__navigator-provider\"\n\t\t\t\t\tinitialPath={ path || '/' }\n\t\t\t\t>\n\t\t\t\t\t{ ( path || onPathChange ) && (\n\t\t\t\t\t\t<PathSynchronizer\n\t\t\t\t\t\t\tpath={ path }\n\t\t\t\t\t\t\tonPathChange={ onPathChange }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/\">\n\t\t\t\t\t\t<ScreenRoot />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/colors\">\n\t\t\t\t\t\t<ScreenColors />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography\">\n\t\t\t\t\t\t<ScreenTypography />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/font-sizes\">\n\t\t\t\t\t\t<FontSizes />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/font-sizes/:origin/:slug\">\n\t\t\t\t\t\t<FontSize />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/layout\">\n\t\t\t\t\t\t<ScreenLayout />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/colors/palette\">\n\t\t\t\t\t\t<ScreenColorPalette />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/variations\">\n\t\t\t\t\t\t<ScreenStyleVariations />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/css\">\n\t\t\t\t\t\t<ScreenCSS />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/revisions/:revisionId?\">\n\t\t\t\t\t\t<ScreenRevisions />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/shadows\">\n\t\t\t\t\t\t<ScreenShadows />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/shadows/edit/:category/:slug\">\n\t\t\t\t\t\t<ScreenShadowsEdit />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/background\">\n\t\t\t\t\t\t<ScreenBackground />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/text\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"text\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/link\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"link\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/heading\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"heading\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/caption\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"caption\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/typography/button\">\n\t\t\t\t\t\t<ScreenTypographyElement element=\"button\" />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t<GlobalStylesNavigationScreen path=\"/blocks\">\n\t\t\t\t\t\t<ScreenBlockList />\n\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t{ blocks.map( ( block: BlockType ) => (\n\t\t\t\t\t\t<Fragment key={ block.name }>\n\t\t\t\t\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\t\t\t\t\tpath={\n\t\t\t\t\t\t\t\t\t'/blocks/' +\n\t\t\t\t\t\t\t\t\tencodeURIComponent( block.name )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ScreenBlock name={ block.name } />\n\t\t\t\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t\t\t\t\t<ContextScreens\n\t\t\t\t\t\t\t\tname={ block.name }\n\t\t\t\t\t\t\t\tparentMenu={\n\t\t\t\t\t\t\t\t\t'/blocks/' +\n\t\t\t\t\t\t\t\t\tencodeURIComponent( block.name )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) ) }\n\t\t\t\t</Navigator>\n\t\t\t</BlockEditorProvider>\n\t\t</GlobalStylesProvider>\n\t);\n}\n\nfunction GlobalStylesNavigationScreen( {\n\tpath,\n\tchildren,\n}: GlobalStylesNavigationScreenProps ) {\n\treturn (\n\t\t<Navigator.Screen\n\t\t\tclassName=\"global-styles-ui-sidebar__navigator-screen\"\n\t\t\tpath={ path }\n\t\t>\n\t\t\t{ children }\n\t\t</Navigator.Screen>\n\t);\n}\n\n/*\n * Component that handles path synchronization between external path prop and Navigator's internal path.\n */\nfunction PathSynchronizer( {\n\tpath,\n\tonPathChange,\n}: {\n\tpath?: string;\n\tonPathChange?: ( path: string ) => void;\n} ) {\n\tconst navigator = useNavigator();\n\tconst { path: childPath } = navigator.location;\n\tconst previousParentPath = usePrevious( path );\n\tconst previousChildPath = usePrevious( childPath );\n\n\tuseEffect( () => {\n\t\t// Only sync when parent and child paths are out of sync\n\t\tif ( path && path !== childPath ) {\n\t\t\t// If parent path changed, update the Navigator\n\t\t\tif ( path !== previousParentPath ) {\n\t\t\t\tnavigator.goTo( path );\n\t\t\t}\n\t\t\t// If child path changed, notify parent via onPathChange\n\t\t\telse if ( childPath !== previousChildPath && onPathChange ) {\n\t\t\t\tonPathChange( childPath ?? '/' );\n\t\t\t}\n\t\t}\n\t}, [\n\t\tonPathChange,\n\t\tpath,\n\t\tpreviousChildPath,\n\t\tpreviousParentPath,\n\t\tchildPath,\n\t\tnavigator,\n\t] );\n\n\t// This component only handles synchronization logic. It doesn't render anything.\n\t// We use it to run the effect inside the Navigator context.\n\treturn null;\n}\n", "/**\n * External dependencies\n */\nimport type { ReactNode } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\nimport { mergeGlobalStyles } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from './context';\n\ninterface GlobalStylesProviderProps {\n\tchildren: ReactNode;\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( newValue: GlobalStylesConfig ) => void;\n\tfontLibraryEnabled?: boolean;\n}\n\nexport function GlobalStylesProvider( {\n\tchildren,\n\tvalue,\n\tbaseValue,\n\tonChange,\n\tfontLibraryEnabled,\n}: GlobalStylesProviderProps ) {\n\t// Compute merged with memoization since merging can be expensive\n\tconst merged = useMemo( () => {\n\t\treturn mergeGlobalStyles( baseValue, value );\n\t}, [ baseValue, value ] );\n\n\tconst contextValue = useMemo(\n\t\t() => ( {\n\t\t\tuser: value,\n\t\t\tbase: baseValue,\n\t\t\tmerged,\n\t\t\tonChange,\n\t\t\tfontLibraryEnabled,\n\t\t} ),\n\t\t[ value, baseValue, merged, onChange, fontLibraryEnabled ]\n\t);\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ contextValue }>\n\t\t\t{ children }\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\nexport interface GlobalStylesContextType {\n\tuser: GlobalStylesConfig;\n\tbase: GlobalStylesConfig;\n\tmerged: GlobalStylesConfig;\n\tonChange: ( newValue: GlobalStylesConfig ) => void;\n\tfontLibraryEnabled?: boolean;\n}\n\nexport const GlobalStylesContext = createContext< GlobalStylesContextType >( {\n\tuser: { styles: {}, settings: {} },\n\tbase: { styles: {}, settings: {} },\n\tmerged: { styles: {}, settings: {} },\n\tonChange: () => {},\n\tfontLibraryEnabled: false,\n} );\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalHStack as HStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalVStack as VStack,\n\tFlexItem,\n\tCardBody,\n\tCard,\n\tCardDivider,\n\tCardMedia,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronLeft, chevronRight } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { IconWithCurrentColor } from './icon-with-current-color';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport RootMenu from './root-menu';\nimport PreviewStyles from './preview-styles';\n\nfunction ScreenRoot() {\n\tconst hasVariations = useSelect( ( select ) => {\n\t\tconst { __experimentalGetCurrentThemeGlobalStylesVariations } =\n\t\t\tselect( coreStore );\n\t\treturn !! __experimentalGetCurrentThemeGlobalStylesVariations()?.length;\n\t}, [] );\n\n\treturn (\n\t\t<Card\n\t\t\tsize=\"small\"\n\t\t\tisBorderless\n\t\t\tclassName=\"global-styles-ui-screen-root\"\n\t\t\tisRounded={ false }\n\t\t>\n\t\t\t<CardBody>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t<Card className=\"global-styles-ui-screen-root__active-style-tile\">\n\t\t\t\t\t\t<CardMedia className=\"global-styles-ui-screen-root__active-style-tile-preview\">\n\t\t\t\t\t\t\t<PreviewStyles />\n\t\t\t\t\t\t</CardMedia>\n\t\t\t\t\t</Card>\n\t\t\t\t\t{ hasVariations && (\n\t\t\t\t\t\t<ItemGroup>\n\t\t\t\t\t\t\t<NavigationButtonAsItem path=\"/variations\">\n\t\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Browse styles' ) }\n\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t<IconWithCurrentColor\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronLeft : chevronRight\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t<RootMenu />\n\t\t\t\t</VStack>\n\t\t\t</CardBody>\n\n\t\t\t<CardDivider />\n\n\t\t\t<CardBody>\n\t\t\t\t<Spacer\n\t\t\t\t\tas=\"p\"\n\t\t\t\t\tpaddingTop={ 2 }\n\t\t\t\t\tpaddingX=\"13px\"\n\t\t\t\t\tmarginBottom={ 4 }\n\t\t\t\t>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Customize the appearance of specific blocks for the whole site.'\n\t\t\t\t\t) }\n\t\t\t\t</Spacer>\n\t\t\t\t<ItemGroup>\n\t\t\t\t\t<NavigationButtonAsItem path=\"/blocks\">\n\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t<FlexItem>{ __( 'Blocks' ) }</FlexItem>\n\t\t\t\t\t\t\t<IconWithCurrentColor\n\t\t\t\t\t\t\t\ticon={ isRTL() ? chevronLeft : chevronRight }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t</ItemGroup>\n\t\t\t</CardBody>\n\t\t</Card>\n\t);\n}\n\nexport default ScreenRoot;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Icon } from '@wordpress/icons';\n\ninterface IconWithCurrentColorProps {\n\ticon: any;\n\tclassName?: string;\n\tsize?: number;\n\t[ key: string ]: any;\n}\n\nexport function IconWithCurrentColor( {\n\tclassName,\n\t...props\n}: IconWithCurrentColorProps ) {\n\treturn (\n\t\t<Icon\n\t\t\tclassName={ clsx(\n\t\t\t\tclassName,\n\t\t\t\t'global-styles-ui-icon-with-current-color'\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tNavigator,\n\t__experimentalItem as Item,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { IconWithCurrentColor } from './icon-with-current-color';\n\ninterface GenericNavigationButtonProps {\n\ticon?: any;\n\tchildren: React.ReactNode;\n\t[ key: string ]: any;\n}\n\nfunction GenericNavigationButton( {\n\ticon,\n\tchildren,\n\t...props\n}: GenericNavigationButtonProps ) {\n\treturn (\n\t\t<Item { ...props }>\n\t\t\t{ icon && (\n\t\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t\t<IconWithCurrentColor icon={ icon } size={ 24 } />\n\t\t\t\t\t<FlexItem>{ children }</FlexItem>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t{ ! icon && children }\n\t\t</Item>\n\t);\n}\n\ninterface NavigationButtonProps {\n\tpath: string;\n\ticon?: any;\n\tchildren: React.ReactNode;\n\t[ key: string ]: any;\n}\n\nexport function NavigationButtonAsItem( props: NavigationButtonProps ) {\n\treturn <Navigator.Button as={ GenericNavigationButton } { ...props } />;\n}\n\nexport function NavigationBackButtonAsItem( props: NavigationButtonProps ) {\n\treturn <Navigator.BackButton as={ GenericNavigationButton } { ...props } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport {\n\tbackground,\n\ttypography,\n\tcolor,\n\tlayout,\n\tshadow as shadowIcon,\n} from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport type { GlobalStylesSettings } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst {\n\tuseHasDimensionsPanel,\n\tuseHasTypographyPanel,\n\tuseHasColorPanel,\n\tuseSettingsForBlockElement,\n\tuseHasBackgroundPanel,\n} = unlock( blockEditorPrivateApis );\n\nfunction RootMenu() {\n\t// Get the raw settings from our custom hook\n\tconst [ rawSettings ] = useSetting< GlobalStylesSettings >( '' );\n\n\t// Process settings the same way as Gutenberg\n\tconst settings = useSettingsForBlockElement( rawSettings );\n\n\t// Use the same panel detection logic as Gutenberg\n\tconst hasBackgroundPanel = useHasBackgroundPanel( rawSettings );\n\tconst hasTypographyPanel = useHasTypographyPanel( settings );\n\tconst hasColorPanel = useHasColorPanel( settings );\n\tconst hasShadowPanel = true; // Same as Gutenberg\n\tconst hasDimensionsPanel = useHasDimensionsPanel( settings );\n\tconst hasLayoutPanel = hasDimensionsPanel;\n\n\treturn (\n\t\t<>\n\t\t\t<ItemGroup>\n\t\t\t\t{ hasTypographyPanel && (\n\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\ticon={ typography }\n\t\t\t\t\t\tpath=\"/typography\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Typography' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t\t{ hasColorPanel && (\n\t\t\t\t\t<NavigationButtonAsItem icon={ color } path=\"/colors\">\n\t\t\t\t\t\t{ __( 'Colors' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t\t{ hasBackgroundPanel && (\n\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\ticon={ background }\n\t\t\t\t\t\tpath=\"/background\"\n\t\t\t\t\t\taria-label={ __( 'Background styles' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Background' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t\t{ hasShadowPanel && (\n\t\t\t\t\t<NavigationButtonAsItem icon={ shadowIcon } path=\"/shadows\">\n\t\t\t\t\t\t{ __( 'Shadows' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t\t{ hasLayoutPanel && (\n\t\t\t\t\t<NavigationButtonAsItem icon={ layout } path=\"/layout\">\n\t\t\t\t\t\t{ __( 'Layout' ) }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t) }\n\t\t\t</ItemGroup>\n\t\t</>\n\t);\n}\n\nexport default RootMenu;\n", "var o=function(o){var t=o/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},t=function(t){return.2126*o(t.r)+.7152*o(t.g)+.0722*o(t.b)};export default function(o){o.prototype.luminance=function(){return o=t(this.rgba),void 0===(r=2)&&(r=0),void 0===n&&(n=Math.pow(10,r)),Math.round(n*o)/n+0;var o,r,n},o.prototype.contrast=function(r){void 0===r&&(r=\"#FFF\");var n,a,i,e,v,u,d,c=r instanceof o?r:new o(r);return e=this.rgba,v=c.toRgb(),u=t(e),d=t(v),n=u>d?(u+.05)/(d+.05):(d+.05)/(u+.05),void 0===(a=2)&&(a=0),void 0===i&&(i=Math.pow(10,a)),Math.floor(i*n)/i+0},o.prototype.isReadable=function(o,t){return void 0===o&&(o=\"#FFF\"),void 0===t&&(t={}),this.contrast(o)>=(e=void 0===(i=(r=t).size)?\"normal\":i,\"AAA\"===(a=void 0===(n=r.level)?\"AA\":n)&&\"normal\"===e?7:\"AA\"===a&&\"large\"===e?3:4.5);var r,n,a,i,e}}\n", "/**\n * External dependencies\n */\nimport { colord, extend } from 'colord';\nimport a11yPlugin from 'colord/plugins/a11y';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useContext, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tgetStyle,\n\tsetStyle,\n\tgetSetting,\n\tsetSetting,\n\tmergeGlobalStyles,\n} from '@wordpress/global-styles-engine';\nimport type { StyleVariation, Color } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from './context';\nimport { removePropertiesFromObject, isVariationWithProperties } from './utils';\n\n// Enable colord's a11y plugin.\nextend( [ a11yPlugin ] );\n\n/**\n * Hook to get and set style values with memoization.\n *\n * @param path               The path to the style value.\n * @param blockName          The name of the block, if applicable.\n * @param readFrom           Which source to read from: \"base\" (theme), \"user\" (customizations), or \"merged\" (final result).\n * @param shouldDecodeEncode Whether to decode and encode the style value.\n * @return An array containing the style value and a function to set the style\n * value.\n *\n * @example\n * const [ color, setColor ] = useStyle<string>( 'color.text', 'core/button', 'merged' );\n */\nexport function useStyle< T = any >(\n\tpath: string,\n\tblockName?: string,\n\treadFrom: 'base' | 'user' | 'merged' = 'merged',\n\tshouldDecodeEncode: boolean = true\n) {\n\tconst { user, base, merged, onChange } = useContext( GlobalStylesContext );\n\n\tlet sourceValue = merged;\n\tif ( readFrom === 'base' ) {\n\t\tsourceValue = base;\n\t} else if ( readFrom === 'user' ) {\n\t\tsourceValue = user;\n\t}\n\n\tconst styleValue = useMemo(\n\t\t() => getStyle< T >( sourceValue, path, blockName, shouldDecodeEncode ),\n\t\t[ sourceValue, path, blockName, shouldDecodeEncode ]\n\t);\n\n\tconst setStyleValue = useCallback(\n\t\t( newValue: T | undefined ) => {\n\t\t\tconst newGlobalStyles = setStyle< T >(\n\t\t\t\tuser,\n\t\t\t\tpath,\n\t\t\t\tnewValue,\n\t\t\t\tblockName\n\t\t\t);\n\t\t\tonChange( newGlobalStyles );\n\t\t},\n\t\t[ user, onChange, path, blockName ]\n\t);\n\n\treturn [ styleValue, setStyleValue ] as const;\n}\n\n/**\n * Hook to get and set setting values with memoization.\n *\n * @param path      The path to the setting value.\n * @param blockName The name of the block, if applicable.\n * @param readFrom  Which source to read from: \"base\" (theme), \"user\" (customizations), or \"merged\" (final result).\n * @return An array containing the setting value and a function to set the\n * setting value.\n *\n * @example\n * const [ fontSize, setFontSize ] = useSetting<string>( 'fontSize', 'core/button', 'merged' );\n */\nexport function useSetting< T = any >(\n\tpath: string,\n\tblockName?: string,\n\treadFrom: 'base' | 'user' | 'merged' = 'merged'\n) {\n\tconst { user, base, merged, onChange } = useContext( GlobalStylesContext );\n\n\tlet sourceValue = merged;\n\tif ( readFrom === 'base' ) {\n\t\tsourceValue = base;\n\t} else if ( readFrom === 'user' ) {\n\t\tsourceValue = user;\n\t}\n\tconst settingValue = useMemo(\n\t\t() => getSetting< T >( sourceValue, path, blockName ),\n\t\t[ sourceValue, path, blockName ]\n\t);\n\n\tconst setSettingValue = useCallback(\n\t\t( newValue: T | undefined ) => {\n\t\t\tconst newGlobalStyles = setSetting< T >(\n\t\t\t\tuser,\n\t\t\t\tpath,\n\t\t\t\tnewValue,\n\t\t\t\tblockName\n\t\t\t);\n\t\t\tonChange( newGlobalStyles );\n\t\t},\n\t\t[ user, onChange, path, blockName ]\n\t);\n\n\treturn [ settingValue, setSettingValue ] as const;\n}\n\nconst EMPTY_ARRAY: StyleVariation[] = [];\n\n/**\n * Checks whether a style variation is empty.\n * @param root0\n * @param root0.title\n * @param root0.settings\n * @param root0.styles\n */\nfunction hasThemeVariation( {\n\ttitle,\n\tsettings,\n\tstyles,\n}: StyleVariation ): boolean {\n\treturn (\n\t\ttitle === __( 'Default' ) ||\n\t\tObject.keys( settings || {} ).length > 0 ||\n\t\tObject.keys( styles || {} ).length > 0\n\t);\n}\n\n/**\n * Fetches the current theme style variations that contain only the specified properties\n * and merges them with the user config.\n * @param properties\n */\nexport function useCurrentMergeThemeStyleVariationsWithUserConfig(\n\tproperties: string[] = []\n): StyleVariation[] {\n\tconst { variationsFromTheme } = useSelect( ( select ) => {\n\t\tconst _variationsFromTheme =\n\t\t\tselect(\n\t\t\t\tcoreStore\n\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations?.();\n\n\t\treturn {\n\t\t\tvariationsFromTheme: _variationsFromTheme || EMPTY_ARRAY,\n\t\t};\n\t}, [] );\n\n\tconst { user: userVariation } = useContext( GlobalStylesContext );\n\n\treturn useMemo( () => {\n\t\t// Create default variation from base, not user - this fixes the \"Default adapts\" issue\n\t\tconst clonedUserVariation = structuredClone( userVariation );\n\t\t// Get user variation and remove the settings for the given property.\n\t\tconst userVariationWithoutProperties = removePropertiesFromObject(\n\t\t\tclonedUserVariation,\n\t\t\tproperties\n\t\t);\n\t\tuserVariationWithoutProperties.title = __( 'Default' );\n\n\t\tconst variationsWithPropertiesAndBase = (\n\t\t\tvariationsFromTheme as StyleVariation[]\n\t\t )\n\t\t\t.filter( ( variation: StyleVariation ) => {\n\t\t\t\treturn isVariationWithProperties( variation, properties );\n\t\t\t} )\n\t\t\t.map( ( variation: StyleVariation ) => {\n\t\t\t\treturn mergeGlobalStyles(\n\t\t\t\t\tuserVariationWithoutProperties,\n\t\t\t\t\tvariation\n\t\t\t\t);\n\t\t\t} );\n\n\t\tconst variationsByProperties = [\n\t\t\tuserVariationWithoutProperties,\n\t\t\t...variationsWithPropertiesAndBase,\n\t\t];\n\n\t\treturn variationsByProperties?.length\n\t\t\t? variationsByProperties.filter( hasThemeVariation )\n\t\t\t: [];\n\t}, [ properties, userVariation, variationsFromTheme ] );\n}\n\nconst propertiesToFilter = [ 'color' ];\n\n/**\n * Hook to get color variations using the full Gutenberg implementation.\n */\nexport function useColorVariations(): StyleVariation[] {\n\treturn useCurrentMergeThemeStyleVariationsWithUserConfig(\n\t\tpropertiesToFilter\n\t);\n}\n\n/**\n * Hook to randomize theme colors using color rotation.\n *\n * @param blockName The name of the block, if applicable.\n * @return Array containing the randomize function if feature is enabled, empty array otherwise.\n */\nexport function useColorRandomizer( blockName?: string ): [ () => void ] | [] {\n\tconst [ themeColors, setThemeColors ] = useSetting< Color[] >(\n\t\t'color.palette.theme',\n\t\tblockName\n\t);\n\n\tconst randomizeColors = useCallback( () => {\n\t\tif ( ! themeColors || ! themeColors.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst randomRotationValue = Math.floor( Math.random() * 225 );\n\n\t\tconst newColors = themeColors.map( ( colorObject ) => {\n\t\t\tconst { color } = colorObject;\n\t\t\tconst newColor = colord( color )\n\t\t\t\t.rotate( randomRotationValue )\n\t\t\t\t.toHex();\n\n\t\t\treturn {\n\t\t\t\t...colorObject,\n\t\t\t\tcolor: newColor,\n\t\t\t};\n\t\t} );\n\n\t\tsetThemeColors( newColors );\n\t}, [ themeColors, setThemeColors ] );\n\n\treturn ( window as any ).__experimentalEnableColorRandomizer\n\t\t? [ randomizeColors ]\n\t\t: [];\n}\n", "/**\n * WordPress dependencies\n */\nimport { areGlobalStylesEqual } from '@wordpress/global-styles-engine';\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Removes all instances of properties from an object.\n *\n * @param object     The object to remove the properties from.\n * @param properties The properties to remove.\n * @return The modified object.\n */\nexport function removePropertiesFromObject(\n\tobject: any,\n\tproperties: string[]\n): any {\n\tif ( ! properties?.length ) {\n\t\treturn object;\n\t}\n\n\tif (\n\t\ttypeof object !== 'object' ||\n\t\t! object ||\n\t\t! Object.keys( object ).length\n\t) {\n\t\treturn object;\n\t}\n\n\tfor ( const key in object ) {\n\t\tif ( properties.includes( key ) ) {\n\t\t\tdelete object[ key ];\n\t\t} else if ( typeof object[ key ] === 'object' ) {\n\t\t\tremovePropertiesFromObject( object[ key ], properties );\n\t\t}\n\t}\n\treturn object;\n}\n\n/**\n * Returns a new object, with properties specified in `properties` array.,\n * maintain the original object tree structure.\n * The function is recursive, so it will perform a deep search for the given properties.\n * E.g., the function will return `{ a: { b: { c: { test: 1 } } } }` if the properties are  `[ 'test' ]`.\n *\n * @param object     The object to filter\n * @param properties The properties to filter by\n * @return The merged object.\n */\nexport const filterObjectByProperties = (\n\tobject: any,\n\tproperties: string[]\n): any => {\n\tif ( ! object || ! properties?.length ) {\n\t\treturn {};\n\t}\n\n\tconst newObject: any = {};\n\tObject.keys( object ).forEach( ( key ) => {\n\t\tif ( properties.includes( key ) ) {\n\t\t\tnewObject[ key ] = object[ key ];\n\t\t} else if ( typeof object[ key ] === 'object' ) {\n\t\t\tconst newFilter = filterObjectByProperties(\n\t\t\t\tobject[ key ],\n\t\t\t\tproperties\n\t\t\t);\n\t\t\tif ( Object.keys( newFilter ).length ) {\n\t\t\t\tnewObject[ key ] = newFilter;\n\t\t\t}\n\t\t}\n\t} );\n\treturn newObject;\n};\n\n/**\n * Compares a style variation to the same variation filtered by the specified properties.\n * Returns true if the variation contains only the properties specified.\n *\n * @param variation  The variation to compare.\n * @param properties The properties to compare.\n * @return Whether the variation contains only the specified properties.\n */\nexport function isVariationWithProperties(\n\tvariation: GlobalStylesConfig,\n\tproperties: string[]\n): boolean {\n\tconst variationWithProperties = filterObjectByProperties(\n\t\tstructuredClone( variation ),\n\t\tproperties\n\t);\n\n\treturn areGlobalStylesEqual( variationWithProperties, variation );\n}\n\nfunction getFontFamilyFromSetting( fontFamilies: any[], setting: string ): any {\n\tif ( ! Array.isArray( fontFamilies ) || ! setting ) {\n\t\treturn null;\n\t}\n\n\tconst fontFamilyVariable = setting.replace( 'var(', '' ).replace( ')', '' );\n\tconst fontFamilySlug = fontFamilyVariable?.split( '--' ).slice( -1 )[ 0 ];\n\n\treturn fontFamilies.find(\n\t\t( fontFamily ) => fontFamily.slug === fontFamilySlug\n\t);\n}\n\n/**\n * Extracts font families from a theme JSON configuration.\n *\n * @param themeJson The theme JSON configuration\n * @return Array containing [bodyFontFamily, headingFontFamily]\n */\nexport function getFontFamilies( themeJson: any ): [ any, any ] {\n\tconst themeFontFamilies =\n\t\tthemeJson?.settings?.typography?.fontFamilies?.theme;\n\tconst customFontFamilies =\n\t\tthemeJson?.settings?.typography?.fontFamilies?.custom;\n\n\tlet fontFamilies: any[] = [];\n\tif ( themeFontFamilies && customFontFamilies ) {\n\t\tfontFamilies = [ ...themeFontFamilies, ...customFontFamilies ];\n\t} else if ( themeFontFamilies ) {\n\t\tfontFamilies = themeFontFamilies;\n\t} else if ( customFontFamilies ) {\n\t\tfontFamilies = customFontFamilies;\n\t}\n\tconst bodyFontFamilySetting = themeJson?.styles?.typography?.fontFamily;\n\tconst bodyFontFamily = getFontFamilyFromSetting(\n\t\tfontFamilies,\n\t\tbodyFontFamilySetting\n\t);\n\n\tconst headingFontFamilySetting =\n\t\tthemeJson?.styles?.elements?.heading?.typography?.fontFamily;\n\n\tlet headingFontFamily;\n\tif ( ! headingFontFamilySetting ) {\n\t\theadingFontFamily = bodyFontFamily;\n\t} else {\n\t\theadingFontFamily = getFontFamilyFromSetting(\n\t\t\tfontFamilies,\n\t\t\tthemeJson?.styles?.elements?.heading?.typography?.fontFamily\n\t\t);\n\t}\n\n\treturn [ bodyFontFamily, headingFontFamily ];\n}\n\nfunction findNearest( input: number, numbers: number[] ): number | null {\n\t// If the numbers array is empty, return null\n\tif ( numbers.length === 0 ) {\n\t\treturn null;\n\t}\n\t// Sort the array based on the absolute difference with the input\n\tnumbers.sort( ( a, b ) => Math.abs( input - a ) - Math.abs( input - b ) );\n\t// Return the first element (which will be the nearest) from the sorted array\n\treturn numbers[ 0 ];\n}\n\nfunction extractFontWeights( fontFaces: any[] ): number[] {\n\tconst result: number[] = [];\n\n\tfontFaces.forEach( ( face ) => {\n\t\tconst weights = String( face.fontWeight ).split( ' ' );\n\n\t\tif ( weights.length === 2 ) {\n\t\t\tconst start = parseInt( weights[ 0 ] );\n\t\t\tconst end = parseInt( weights[ 1 ] );\n\n\t\t\tfor ( let i = start; i <= end; i += 100 ) {\n\t\t\t\tresult.push( i );\n\t\t\t}\n\t\t} else if ( weights.length === 1 ) {\n\t\t\tresult.push( parseInt( weights[ 0 ] ) );\n\t\t}\n\t} );\n\n\treturn result;\n}\n\n/*\n * Format the font family to use in the CSS font-family property of a CSS rule.\n *\n * The input can be a string with the font family name or a string with multiple font family names separated by commas.\n * It follows the recommendations from the CSS Fonts Module Level 4.\n * https://www.w3.org/TR/css-fonts-4/#font-family-prop\n *\n * @param input - The font family.\n * @return The formatted font family.\n */\nexport function formatFontFamily( input: string ): string {\n\t// Matches strings that are not exclusively alphabetic characters or hyphens, and do not exactly follow the pattern generic(alphabetic characters or hyphens).\n\tconst regex = /^(?!generic\\([ a-zA-Z\\-]+\\)$)(?!^[a-zA-Z\\-]+$).+/;\n\tconst output = input.trim();\n\n\tconst formatItem = ( item: string ) => {\n\t\titem = item.trim();\n\t\tif ( item.match( regex ) ) {\n\t\t\t// removes leading and trailing quotes.\n\t\t\titem = item.replace( /^[\"']|[\"']$/g, '' );\n\t\t\treturn `\"${ item }\"`;\n\t\t}\n\t\treturn item;\n\t};\n\n\tif ( output.includes( ',' ) ) {\n\t\treturn output\n\t\t\t.split( ',' )\n\t\t\t.map( formatItem )\n\t\t\t.filter( ( item ) => item !== '' )\n\t\t\t.join( ', ' );\n\t}\n\n\treturn formatItem( output );\n}\n\n/**\n * Gets the preview style for a font family.\n *\n * @param family The font family object\n * @return CSS style object for the font family\n */\nexport function getFamilyPreviewStyle( family: any ): React.CSSProperties {\n\tconst style: React.CSSProperties = {\n\t\tfontFamily: formatFontFamily( family.fontFamily ),\n\t};\n\n\tif ( ! Array.isArray( family.fontFace ) ) {\n\t\tstyle.fontWeight = '400';\n\t\tstyle.fontStyle = 'normal';\n\t\treturn style;\n\t}\n\n\tif ( family.fontFace ) {\n\t\t//get all the font faces with normal style\n\t\tconst normalFaces = family.fontFace.filter(\n\t\t\t( face: any ) =>\n\t\t\t\tface?.fontStyle && face.fontStyle.toLowerCase() === 'normal'\n\t\t);\n\t\tif ( normalFaces.length > 0 ) {\n\t\t\tstyle.fontStyle = 'normal';\n\t\t\tconst normalWeights = extractFontWeights( normalFaces );\n\t\t\tconst nearestWeight = findNearest( 400, normalWeights );\n\t\t\tstyle.fontWeight = String( nearestWeight ) || '400';\n\t\t} else {\n\t\t\tstyle.fontStyle =\n\t\t\t\t( family.fontFace.length && family.fontFace[ 0 ].fontStyle ) ||\n\t\t\t\t'normal';\n\t\t\tstyle.fontWeight =\n\t\t\t\t( family.fontFace.length &&\n\t\t\t\t\tString( family.fontFace[ 0 ].fontWeight ) ) ||\n\t\t\t\t'400';\n\t\t}\n\t}\n\n\treturn style;\n}\n\n/**\n * Iterates through the presets array and searches for slugs that start with the specified\n * slugPrefix followed by a numerical suffix. It identifies the highest numerical suffix found\n * and returns one greater than the highest found suffix, ensuring that the new index is unique.\n *\n * @param presets    The array of preset objects, each potentially containing a slug property.\n * @param slugPrefix The prefix to look for in the preset slugs.\n *\n * @return The next available index for a preset with the specified slug prefix, or 1 if no matching slugs are found.\n */\n/**\n * Gets the variation class name for a block style variation.\n *\n * @param variation The variation name.\n * @return The variation class name.\n */\nexport function getVariationClassName( variation: string ): string {\n\tif ( ! variation ) {\n\t\treturn '';\n\t}\n\treturn `is-style-${ variation }`;\n}\n\nexport function getNewIndexFromPresets(\n\tpresets: any[],\n\tslugPrefix: string\n): number {\n\tconst nameRegex = new RegExp( `^${ slugPrefix }([\\\\d]+)$` );\n\tconst highestPresetValue = presets.reduce( ( currentHighest, preset ) => {\n\t\tif ( typeof preset?.slug === 'string' ) {\n\t\t\tconst matches = preset?.slug.match( nameRegex );\n\t\t\tif ( matches ) {\n\t\t\t\tconst id = parseInt( matches[ 1 ], 10 );\n\t\t\t\tif ( id > currentHighest ) {\n\t\t\t\t\treturn id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn currentHighest;\n\t}, 0 );\n\treturn highestPresetValue + 1;\n}\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/global-styles-ui'\n\t);\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\nimport { useStylesPreviewColors } from './preview-hooks';\nimport TypographyExample from './typography-example';\nimport HighlightedColors from './highlighted-colors';\nimport PreviewWrapper from './preview-wrapper';\n\nconst firstFrameVariants = {\n\tstart: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\thover: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\nconst midFrameVariants = {\n\thover: {\n\t\topacity: 1,\n\t},\n\tstart: {\n\t\topacity: 0.5,\n\t},\n};\n\nconst secondFrameVariants = {\n\thover: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\tstart: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\ninterface PreviewStylesProps {\n\tlabel?: string;\n\tisFocused?: boolean;\n\twithHoverView?: boolean;\n\tvariation?: any;\n}\n\nfunction PreviewStyles( {\n\tlabel,\n\tisFocused,\n\twithHoverView,\n\tvariation,\n}: PreviewStylesProps ) {\n\tconst [ fontWeight ] = useStyle< string >( 'typography.fontWeight' );\n\tconst [ fontFamily = 'serif' ] = useStyle< string >(\n\t\t'typography.fontFamily'\n\t);\n\tconst [ headingFontFamily = fontFamily ] = useStyle< string >(\n\t\t'elements.h1.typography.fontFamily'\n\t);\n\tconst [ headingFontWeight = fontWeight ] = useStyle< string >(\n\t\t'elements.h1.typography.fontWeight'\n\t);\n\tconst [ textColor = 'black' ] = useStyle< string >( 'color.text' );\n\tconst [ headingColor = textColor ] = useStyle< string >(\n\t\t'elements.h1.color.text'\n\t);\n\n\tconst { paletteColors } = useStylesPreviewColors();\n\n\treturn (\n\t\t<PreviewWrapper\n\t\t\tlabel={ label }\n\t\t\tisFocused={ isFocused }\n\t\t\twithHoverView={ withHoverView }\n\t\t>\n\t\t\t{ ( { ratio, key } ) => (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tvariants={ firstFrameVariants }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 10 * ratio }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<TypographyExample\n\t\t\t\t\t\t\tfontSize={ 65 * ratio }\n\t\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<VStack spacing={ 4 * ratio }>\n\t\t\t\t\t\t\t<HighlightedColors\n\t\t\t\t\t\t\t\tnormalizedColorSwatchSize={ 32 }\n\t\t\t\t\t\t\t\tratio={ ratio }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t\t{ ( { key } ) => (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tvariants={ withHoverView ? midFrameVariants : undefined }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tfilter: 'blur(60px)',\n\t\t\t\t\t\topacity: 0.1,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ paletteColors\n\t\t\t\t\t\t\t.slice( 0, 4 )\n\t\t\t\t\t\t\t.map( ( { color }, index ) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\tbackground: color,\n\t\t\t\t\t\t\t\t\t\tflexGrow: 1,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t\t{ ( { ratio, key } ) => (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tvariants={ secondFrameVariants }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tspacing={ 3 * ratio }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\tpadding: 10 * ratio,\n\t\t\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ label && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tfontSize: 40 * ratio,\n\t\t\t\t\t\t\t\t\tfontFamily: headingFontFamily,\n\t\t\t\t\t\t\t\t\tcolor: headingColor,\n\t\t\t\t\t\t\t\t\tfontWeight: headingFontWeight,\n\t\t\t\t\t\t\t\t\tlineHeight: '1em',\n\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t</PreviewWrapper>\n\t);\n}\n\nexport default PreviewStyles;\n", "/**\n * WordPress dependencies\n */\nimport type { Color } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { useSetting, useStyle } from './hooks';\n\nexport function useStylesPreviewColors(): {\n\tpaletteColors: Color[];\n\thighlightedColors: Color[];\n} {\n\tconst [ textColor = 'black' ] = useStyle< string >( 'color.text' );\n\tconst [ backgroundColor = 'white' ] =\n\t\tuseStyle< string >( 'color.background' );\n\tconst [ headingColor = textColor ] = useStyle< string >(\n\t\t'elements.h1.color.text'\n\t);\n\tconst [ linkColor = headingColor ] = useStyle< string >(\n\t\t'elements.link.color.text'\n\t);\n\tconst [ buttonBackgroundColor = linkColor ] = useStyle< string >(\n\t\t'elements.button.color.background'\n\t);\n\n\tconst [ coreColors ] = useSetting< Color[] >( 'color.palette.core' ) || [];\n\tconst [ themeColors ] =\n\t\tuseSetting< Color[] >( 'color.palette.theme' ) || [];\n\tconst [ customColors ] =\n\t\tuseSetting< Color[] >( 'color.palette.custom' ) || [];\n\n\tconst paletteColors: Color[] = ( themeColors ?? [] )\n\t\t.concat( customColors ?? [] )\n\t\t.concat( coreColors ?? [] );\n\n\tconst textColorObject = paletteColors.filter(\n\t\t( { color } ) => color === textColor\n\t);\n\tconst buttonBackgroundColorObject = paletteColors.filter(\n\t\t( { color } ) => color === buttonBackgroundColor\n\t);\n\n\tconst highlightedColors = textColorObject\n\t\t.concat( buttonBackgroundColorObject )\n\t\t.concat( paletteColors )\n\t\t.filter(\n\t\t\t// we exclude these background color because it is already visible in the preview.\n\t\t\t( { color } ) => color !== backgroundColor\n\t\t)\n\t\t.slice( 0, 2 );\n\n\treturn {\n\t\tpaletteColors,\n\t\thighlightedColors,\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\nimport { __unstableMotion as motion } from '@wordpress/components';\nimport { _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from './context';\nimport { getFamilyPreviewStyle } from './font-library/utils/preview-styles';\nimport { getFontFamilies } from './utils';\nimport { useStyle } from './hooks';\n\ninterface TypographyExampleProps {\n\tfontSize?: number;\n\tvariation?: any;\n}\n\nexport default function PreviewTypography( {\n\tfontSize,\n\tvariation,\n}: TypographyExampleProps ) {\n\tconst { base } = useContext( GlobalStylesContext );\n\tlet config = base;\n\tif ( variation ) {\n\t\tconfig = { ...base, ...variation };\n\t}\n\n\tconst [ textColor ] = useStyle( 'color.text' );\n\n\tconst [ bodyFontFamilies, headingFontFamilies ] = getFontFamilies( config );\n\tconst bodyPreviewStyle: React.CSSProperties = bodyFontFamilies\n\t\t? getFamilyPreviewStyle( bodyFontFamilies )\n\t\t: {};\n\tconst headingPreviewStyle: React.CSSProperties = headingFontFamilies\n\t\t? getFamilyPreviewStyle( headingFontFamilies )\n\t\t: {};\n\n\tif ( textColor ) {\n\t\tbodyPreviewStyle.color = textColor;\n\t\theadingPreviewStyle.color = textColor;\n\t}\n\n\tif ( fontSize ) {\n\t\tbodyPreviewStyle.fontSize = fontSize;\n\t\theadingPreviewStyle.fontSize = fontSize;\n\t}\n\n\treturn (\n\t\t<motion.div\n\t\t\tanimate={ {\n\t\t\t\tscale: 1,\n\t\t\t\topacity: 1,\n\t\t\t} }\n\t\t\tinitial={ {\n\t\t\t\tscale: 0.1,\n\t\t\t\topacity: 0,\n\t\t\t} }\n\t\t\ttransition={ {\n\t\t\t\tdelay: 0.3,\n\t\t\t\ttype: 'tween',\n\t\t\t} }\n\t\t\tstyle={ {\n\t\t\t\ttextAlign: 'center',\n\t\t\t\tlineHeight: 1,\n\t\t\t} }\n\t\t>\n\t\t\t<span style={ headingPreviewStyle }>\n\t\t\t\t{ _x( 'A', 'Uppercase letter A' ) }\n\t\t\t</span>\n\t\t\t<span style={ bodyPreviewStyle }>\n\t\t\t\t{ _x( 'a', 'Lowercase letter A' ) }\n\t\t\t</span>\n\t\t</motion.div>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { CSSProperties } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport type { FontFace, FontFamily } from '@wordpress/core-data';\n\nfunction findNearest( input: number, numbers: number[] ) {\n\t// If the numbers array is empty, return null\n\tif ( numbers.length === 0 ) {\n\t\treturn null;\n\t}\n\t// Sort the array based on the absolute difference with the input\n\tnumbers.sort( ( a, b ) => Math.abs( input - a ) - Math.abs( input - b ) );\n\t// Return the first element (which will be the nearest) from the sorted array\n\treturn numbers[ 0 ];\n}\n\nfunction extractFontWeights( fontFaces: FontFace[] ): number[] {\n\tconst result: number[] = [];\n\n\tfontFaces.forEach( ( face ) => {\n\t\tconst weights = String( face.fontWeight ).split( ' ' );\n\n\t\tif ( weights.length === 2 ) {\n\t\t\tconst start = parseInt( weights[ 0 ] );\n\t\t\tconst end = parseInt( weights[ 1 ] );\n\n\t\t\tfor ( let i = start; i <= end; i += 100 ) {\n\t\t\t\tresult.push( i );\n\t\t\t}\n\t\t} else if ( weights.length === 1 ) {\n\t\t\tresult.push( parseInt( weights[ 0 ] ) );\n\t\t}\n\t} );\n\n\treturn result;\n}\n\n/*\n * Format the font family to use in the CSS font-family property of a CSS rule.\n *\n * The input can be a string with the font family name or a string with multiple font family names separated by commas.\n * It follows the recommendations from the CSS Fonts Module Level 4.\n * https://www.w3.org/TR/css-fonts-4/#font-family-prop\n *\n * @param {string} input - The font family.\n * @return {string} The formatted font family.\n *\n * Example:\n * formatFontFamily( \"Open Sans, Font+Name, sans-serif\" ) => '\"Open Sans\", \"Font+Name\", sans-serif'\n * formatFontFamily( \"'Open Sans', generic(kai), sans-serif\" ) => '\"Open Sans\", sans-serif'\n * formatFontFamily( \"DotGothic16, Slabo 27px, serif\" ) => '\"DotGothic16\",\"Slabo 27px\",serif'\n * formatFontFamily( \"Mine's, Moe's Typography\" ) => `\"mine's\",\"Moe's Typography\"`\n */\nexport function formatFontFamily( input: string ) {\n\t// Matches strings that are not exclusively alphabetic characters or hyphens, and do not exactly follow the pattern generic(alphabetic characters or hyphens).\n\tconst regex = /^(?!generic\\([ a-zA-Z\\-]+\\)$)(?!^[a-zA-Z\\-]+$).+/;\n\tconst output = input.trim();\n\n\tconst formatItem = ( item: string ) => {\n\t\titem = item.trim();\n\t\tif ( item.match( regex ) ) {\n\t\t\t// removes leading and trailing quotes.\n\t\t\titem = item.replace( /^[\"']|[\"']$/g, '' );\n\t\t\treturn `\"${ item }\"`;\n\t\t}\n\t\treturn item;\n\t};\n\n\tif ( output.includes( ',' ) ) {\n\t\treturn output\n\t\t\t.split( ',' )\n\t\t\t.map( formatItem )\n\t\t\t.filter( ( item ) => item !== '' )\n\t\t\t.join( ', ' );\n\t}\n\n\treturn formatItem( output );\n}\n\n/*\n * Format the font face name to use in the font-family property of a font face.\n *\n * The input can be a string with the font face name or a string with multiple font face names separated by commas.\n * It removes the leading and trailing quotes from the font face name.\n *\n * @param {string} input - The font face name.\n * @return {string} The formatted font face name.\n *\n * Example:\n * formatFontFaceName(\"Open Sans\") => \"Open Sans\"\n * formatFontFaceName(\"'Open Sans', sans-serif\") => \"Open Sans\"\n * formatFontFaceName(\", 'Open Sans', 'Helvetica Neue', sans-serif\") => \"Open Sans\"\n */\nexport function formatFontFaceName( input: string ) {\n\tif ( ! input ) {\n\t\treturn '';\n\t}\n\n\tlet output = input.trim();\n\tif ( output.includes( ',' ) ) {\n\t\toutput = (\n\t\t\toutput\n\t\t\t\t.split( ',' )\n\t\t\t\t// finds the first item that is not an empty string.\n\t\t\t\t.find( ( item ) => item.trim() !== '' ) ?? ''\n\t\t).trim();\n\t}\n\t// removes leading and trailing quotes.\n\toutput = output.replace( /^[\"']|[\"']$/g, '' );\n\n\t// Firefox needs the font name to be wrapped in double quotes meanwhile other browsers don't.\n\tif ( window.navigator.userAgent.toLowerCase().includes( 'firefox' ) ) {\n\t\toutput = `\"${ output }\"`;\n\t}\n\treturn output;\n}\n\nexport function getFamilyPreviewStyle(\n\tfamily: FontFamily | FontFace\n): CSSProperties {\n\tconst style: CSSProperties = {\n\t\tfontFamily: formatFontFamily( family.fontFamily ),\n\t};\n\n\tif ( ! ( 'fontFace' in family ) || ! Array.isArray( family.fontFace ) ) {\n\t\tstyle.fontWeight = '400';\n\t\tstyle.fontStyle = 'normal';\n\t\treturn style;\n\t}\n\n\tif ( family.fontFace ) {\n\t\t//get all the font faces with normal style\n\t\tconst normalFaces = family.fontFace.filter(\n\t\t\t( face ) =>\n\t\t\t\tface?.fontStyle && face.fontStyle.toLowerCase() === 'normal'\n\t\t);\n\t\tif ( normalFaces.length > 0 ) {\n\t\t\tstyle.fontStyle = 'normal';\n\t\t\tconst normalWeights = extractFontWeights( normalFaces );\n\t\t\tconst nearestWeight = findNearest( 400, normalWeights );\n\t\t\tstyle.fontWeight = String( nearestWeight ) || '400';\n\t\t} else {\n\t\t\tstyle.fontStyle =\n\t\t\t\t( family.fontFace.length && family.fontFace[ 0 ].fontStyle ) ||\n\t\t\t\t'normal';\n\t\t\tstyle.fontWeight =\n\t\t\t\t( family.fontFace.length &&\n\t\t\t\t\tString( family.fontFace[ 0 ].fontWeight ) ) ||\n\t\t\t\t'400';\n\t\t}\n\t}\n\n\treturn style;\n}\n\nexport function getFacePreviewStyle( face: FontFace ): CSSProperties {\n\treturn {\n\t\tfontFamily: formatFontFamily( face.fontFamily ),\n\t\tfontStyle: face.fontStyle || 'normal',\n\t\tfontWeight: face.fontWeight || '400',\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { __unstableMotion as motion } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { useStylesPreviewColors } from './preview-hooks';\n\ninterface HighlightedColorsProps {\n\tnormalizedColorSwatchSize: number;\n\tratio: number;\n}\n\nexport default function HighlightedColors( {\n\tnormalizedColorSwatchSize,\n\tratio,\n}: HighlightedColorsProps ) {\n\tconst { highlightedColors } = useStylesPreviewColors();\n\tconst scaledSwatchSize = normalizedColorSwatchSize * ratio;\n\treturn highlightedColors.map( ( { slug, color }, index ) => (\n\t\t<motion.div\n\t\t\tkey={ `${ slug }-${ index }` }\n\t\t\tstyle={ {\n\t\t\t\theight: scaledSwatchSize,\n\t\t\t\twidth: scaledSwatchSize,\n\t\t\t\tbackground: color,\n\t\t\t\tborderRadius: scaledSwatchSize / 2,\n\t\t\t} }\n\t\t\tanimate={ {\n\t\t\t\tscale: 1,\n\t\t\t\topacity: 1,\n\t\t\t} }\n\t\t\tinitial={ {\n\t\t\t\tscale: 0.1,\n\t\t\t\topacity: 0,\n\t\t\t} }\n\t\t\ttransition={ {\n\t\t\t\tdelay: index === 1 ? 0.2 : 0.1,\n\t\t\t} }\n\t\t/>\n\t) );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __unstableMotion as motion } from '@wordpress/components';\nimport {\n\tuseThrottle,\n\tuseReducedMotion,\n\tuseResizeObserver,\n} from '@wordpress/compose';\nimport { useLayoutEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\n\nconst normalizedWidth = 248;\nconst normalizedHeight = 152;\n\n// Throttle options for useThrottle. Must be defined outside of the component,\n// so that the object reference is the same on each render.\nconst THROTTLE_OPTIONS = {\n\tleading: true,\n\ttrailing: true,\n};\n\ninterface PreviewWrapperProps {\n\tchildren:\n\t\t| ( ( args: { ratio: number; key: number } ) => React.ReactNode )\n\t\t| ( ( args: { ratio: number; key: number } ) => React.ReactNode )[];\n\tlabel?: string;\n\tisFocused?: boolean;\n\twithHoverView?: boolean;\n}\n\nfunction PreviewWrapper( {\n\tchildren,\n\tlabel,\n\tisFocused,\n\twithHoverView,\n}: PreviewWrapperProps ) {\n\tconst [ backgroundColor = 'white' ] =\n\t\tuseStyle< string >( 'color.background' );\n\tconst [ gradientValue ] = useStyle< string >( 'color.gradient' );\n\tconst disableMotion = useReducedMotion();\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst [ containerResizeListener, { width } ] = useResizeObserver();\n\tconst [ throttledWidth, setThrottledWidthState ] = useState( width );\n\tconst [ ratioState, setRatioState ] = useState< number | undefined >();\n\n\tconst setThrottledWidth = useThrottle(\n\t\tsetThrottledWidthState,\n\t\t250,\n\t\tTHROTTLE_OPTIONS\n\t);\n\n\t// Must use useLayoutEffect to avoid a flash of the container  at the wrong\n\t// size before the width is set.\n\tuseLayoutEffect( () => {\n\t\tif ( width ) {\n\t\t\tsetThrottledWidth( width );\n\t\t}\n\t}, [ width, setThrottledWidth ] );\n\n\t// Must use useLayoutEffect to avoid a flash of the container at the wrong\n\t// size before the width is set.\n\tuseLayoutEffect( () => {\n\t\tconst newRatio = throttledWidth ? throttledWidth / normalizedWidth : 1;\n\t\tconst ratioDiff = newRatio - ( ratioState || 0 );\n\n\t\t// Only update the ratio state if the difference is big enough\n\t\t// or if the ratio state is not yet set. This is to avoid an\n\t\t// endless loop of updates at particular viewport heights when the\n\t\t// presence of a scrollbar causes the width to change slightly.\n\t\tconst isRatioDiffBigEnough = Math.abs( ratioDiff ) > 0.1;\n\n\t\tif ( isRatioDiffBigEnough || ! ratioState ) {\n\t\t\tsetRatioState( newRatio );\n\t\t}\n\t}, [ throttledWidth, ratioState ] );\n\n\t// Set a fallbackRatio to use before the throttled ratio has been set.\n\tconst fallbackRatio = width ? width / normalizedWidth : 1;\n\t/*\n\t * Use the throttled ratio if it has been calculated, otherwise\n\t * use the fallback ratio. The throttled ratio is used to avoid\n\t * an endless loop of updates at particular viewport heights.\n\t * See: https://github.com/WordPress/gutenberg/issues/55112\n\t */\n\tconst ratio = ratioState ? ratioState : fallbackRatio;\n\n\tconst isReady = !! width;\n\n\treturn (\n\t\t<>\n\t\t\t<div style={ { position: 'relative' } }>\n\t\t\t\t{ containerResizeListener }\n\t\t\t</div>\n\t\t\t{ isReady && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"global-styles-ui-preview__wrapper\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: normalizedHeight * ratio,\n\t\t\t\t\t} }\n\t\t\t\t\tonMouseEnter={ () => setIsHovered( true ) }\n\t\t\t\t\tonMouseLeave={ () => setIsHovered( false ) }\n\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t>\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: normalizedHeight * ratio,\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\t\t\t\tcursor: withHoverView ? 'pointer' : undefined,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tinitial=\"start\"\n\t\t\t\t\t\tanimate={\n\t\t\t\t\t\t\t( isHovered || isFocused ) &&\n\t\t\t\t\t\t\t! disableMotion &&\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t\t? 'hover'\n\t\t\t\t\t\t\t\t: 'start'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ []\n\t\t\t\t\t\t\t.concat( children as any ) // This makes sure children is always an array.\n\t\t\t\t\t\t\t.map( ( child: any, key: number ) =>\n\t\t\t\t\t\t\t\tchild( { ratio, key } )\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</motion.div>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default PreviewWrapper;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport {\n\tFlexItem,\n\tSearchControl,\n\t__experimentalHStack as HStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tuseState,\n\tuseEffect,\n\tuseRef,\n\tuseDeferredValue,\n\tmemo,\n} from '@wordpress/element';\nimport {\n\tBlockIcon,\n\tprivateApis as blockEditorPrivateApis,\n\t// @ts-expect-error: Not typed yet.\n} from '@wordpress/block-editor';\nimport { useDebounce } from '@wordpress/compose';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { useBlockVariations } from './variations/variations-panel';\nimport { ScreenHeader } from './screen-header';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst {\n\tuseHasDimensionsPanel,\n\tuseHasTypographyPanel,\n\tuseHasBorderPanel,\n\tuseSettingsForBlockElement,\n\tuseHasColorPanel,\n} = unlock( blockEditorPrivateApis );\n\nfunction useSortedBlockTypes() {\n\tconst blockItems = useSelect(\n\t\t( select ) => select( blocksStore ).getBlockTypes(),\n\t\t[]\n\t);\n\t// Ensure core blocks are prioritized in the returned results,\n\t// because third party blocks can be registered earlier than\n\t// the core blocks (usually by using the `init` action),\n\t// thus affecting the display order.\n\t// We don't sort reusable blocks as they are handled differently.\n\tconst groupByType = ( blocks: any, block: any ) => {\n\t\tconst { core, noncore } = blocks;\n\t\tconst type = block.name.startsWith( 'core/' ) ? core : noncore;\n\t\ttype.push( block );\n\t\treturn blocks;\n\t};\n\tconst { core: coreItems, noncore: nonCoreItems } = blockItems.reduce(\n\t\tgroupByType,\n\t\t{ core: [], noncore: [] }\n\t);\n\treturn [ ...coreItems, ...nonCoreItems ];\n}\n\nexport function useBlockHasGlobalStyles( blockName: string ) {\n\tconst [ rawSettings ] = useSetting( '', blockName );\n\tconst settings = useSettingsForBlockElement( rawSettings, blockName );\n\tconst hasTypographyPanel = useHasTypographyPanel( settings );\n\tconst hasColorPanel = useHasColorPanel( settings );\n\tconst hasBorderPanel = useHasBorderPanel( settings );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( settings );\n\tconst hasLayoutPanel = hasBorderPanel || hasDimensionsPanel;\n\tconst hasVariationsPanel = !! useBlockVariations( blockName )?.length;\n\tconst hasGlobalStyles =\n\t\thasTypographyPanel ||\n\t\thasColorPanel ||\n\t\thasLayoutPanel ||\n\t\thasVariationsPanel;\n\treturn hasGlobalStyles;\n}\n\ninterface BlockMenuItemProps {\n\tblock: any;\n}\n\nfunction BlockMenuItem( { block }: BlockMenuItemProps ) {\n\tconst hasBlockMenuItem = useBlockHasGlobalStyles( block.name );\n\tif ( ! hasBlockMenuItem ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ '/blocks/' + encodeURIComponent( block.name ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<BlockIcon icon={ block.icon } />\n\t\t\t\t<FlexItem>{ block.title }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\ninterface BlockListProps {\n\tfilterValue: string;\n}\n\nfunction BlockList( { filterValue }: BlockListProps ) {\n\tconst sortedBlockTypes = useSortedBlockTypes();\n\tconst debouncedSpeak = useDebounce( speak, 500 );\n\tconst { isMatchingSearchTerm } = useSelect( blocksStore );\n\n\tconst filteredBlockTypes = ! filterValue\n\t\t? sortedBlockTypes\n\t\t: sortedBlockTypes.filter( ( blockType ) =>\n\t\t\t\tisMatchingSearchTerm( blockType, filterValue )\n\t\t  );\n\n\tconst blockTypesListRef = useRef< HTMLDivElement >( null );\n\n\t// Announce search results on change\n\tuseEffect( () => {\n\t\tif ( ! filterValue ) {\n\t\t\treturn;\n\t\t}\n\t\t// We extract the results from the wrapper div's `ref` because\n\t\t// filtered items can contain items that will eventually not\n\t\t// render and there is no reliable way to detect when a child\n\t\t// will return `null`.\n\t\t// TODO: We should find a better way of handling this as it's\n\t\t// fragile and depends on the number of rendered elements of `BlockMenuItem`,\n\t\t// which is now one.\n\t\t// @see https://github.com/WordPress/gutenberg/pull/39117#discussion_r816022116\n\t\tconst count = blockTypesListRef.current?.childElementCount || 0;\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t/* translators: %d: number of results. */\n\t\t\t_n( '%d result found.', '%d results found.', count ),\n\t\t\tcount\n\t\t);\n\t\tdebouncedSpeak( resultsFoundMessage, 'polite' );\n\t}, [ filterValue, debouncedSpeak ] );\n\n\treturn (\n\t\t<div\n\t\t\tref={ blockTypesListRef }\n\t\t\tclassName=\"global-styles-ui-block-types-item-list\"\n\t\t\t// By default, BlockMenuItem has a role=listitem so this div must have a list role.\n\t\t\trole=\"list\"\n\t\t>\n\t\t\t{ filteredBlockTypes.length === 0 ? (\n\t\t\t\t<Text align=\"center\" as=\"p\">\n\t\t\t\t\t{ __( 'No blocks found.' ) }\n\t\t\t\t</Text>\n\t\t\t) : (\n\t\t\t\tfilteredBlockTypes.map( ( block ) => (\n\t\t\t\t\t<BlockMenuItem\n\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\tkey={ 'menu-itemblock-' + block.name }\n\t\t\t\t\t/>\n\t\t\t\t) )\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nconst MemoizedBlockList = memo( BlockList );\n\nfunction ScreenBlockList() {\n\tconst [ filterValue, setFilterValue ] = useState( '' );\n\tconst deferredFilterValue = useDeferredValue( filterValue );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Blocks' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Customize the appearance of specific blocks and for the whole site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<SearchControl\n\t\t\t\tclassName=\"global-styles-ui-block-types-search\"\n\t\t\t\tonChange={ setFilterValue }\n\t\t\t\tvalue={ filterValue }\n\t\t\t\tlabel={ __( 'Search' ) }\n\t\t\t\tplaceholder={ __( 'Search' ) }\n\t\t\t/>\n\t\t\t<MemoizedBlockList filterValue={ deferredFilterValue } />\n\t\t</>\n\t);\n}\n\nexport default ScreenBlockList;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { NavigationButtonAsItem } from '../navigation-button';\nimport { useStyle } from '../hooks';\n\ninterface BlockStyle {\n\tname: string;\n\tlabel: string;\n\tsource?: string;\n\tisDefault?: boolean;\n}\n\ninterface VariationsPanelProps {\n\tname: string;\n}\n\n// Only core block styles (source === block) or block styles with a matching\n// theme.json style variation will be configurable via Global Styles.\nfunction getFilteredBlockStyles(\n\tblockStyles: BlockStyle[],\n\tvariations: string[]\n): BlockStyle[] {\n\treturn (\n\t\tblockStyles?.filter(\n\t\t\t( style ) =>\n\t\t\t\tstyle.source === 'block' || variations.includes( style.name )\n\t\t) || []\n\t);\n}\n\nexport function useBlockVariations( name: string ): BlockStyle[] {\n\tconst blockStyles = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockStyles } = select( blocksStore );\n\t\t\treturn getBlockStyles( name );\n\t\t},\n\t\t[ name ]\n\t);\n\tconst [ variations ] = useStyle( 'variations', name );\n\tconst variationNames = Object.keys( variations ?? {} );\n\n\treturn getFilteredBlockStyles( blockStyles, variationNames );\n}\n\nexport function VariationsPanel( { name }: VariationsPanelProps ) {\n\tconst coreBlockStyles = useBlockVariations( name );\n\n\treturn (\n\t\t<ItemGroup isBordered isSeparated>\n\t\t\t{ coreBlockStyles.map( ( style, index ) => {\n\t\t\t\tif ( style?.isDefault ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tpath={\n\t\t\t\t\t\t\t'/blocks/' +\n\t\t\t\t\t\t\tencodeURIComponent( name ) +\n\t\t\t\t\t\t\t'/variations/' +\n\t\t\t\t\t\t\tencodeURIComponent( style.name )\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ style.label }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ItemGroup>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalHeading as Heading,\n\t__experimentalView as View,\n\t__experimentalText as Text,\n\tNavigator,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronRight, chevronLeft } from '@wordpress/icons';\n\ninterface ScreenHeaderProps {\n\ttitle: string;\n\tdescription?: string | React.ReactElement;\n\tonBack?: () => void;\n}\n\nexport function ScreenHeader( {\n\ttitle,\n\tdescription,\n\tonBack,\n}: ScreenHeaderProps ) {\n\treturn (\n\t\t<VStack spacing={ 0 }>\n\t\t\t<View>\n\t\t\t\t<Spacer marginBottom={ 0 } paddingX={ 4 } paddingY={ 3 }>\n\t\t\t\t\t<VStack spacing={ 2 }>\n\t\t\t\t\t\t<HStack spacing={ 2 }>\n\t\t\t\t\t\t\t<Navigator.BackButton\n\t\t\t\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\n\t\t\t\t\t\t\t\tonClick={ onBack }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Spacer>\n\t\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-header\"\n\t\t\t\t\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\t\t\t\t\tsize={ 13 }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t{ description && (\n\t\t\t\t\t\t\t<Text className=\"global-styles-ui-header__description\">\n\t\t\t\t\t\t\t\t{ description }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t</Spacer>\n\t\t\t</View>\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { getBlockType } from '@wordpress/blocks';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tPanelBody,\n\t__experimentalVStack as VStack,\n\t__experimentalHasSplitBorders as hasSplitBorders,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport BlockPreviewPanel from './block-preview-panel';\nimport { Subtitle } from './subtitle';\nimport {\n\tuseBlockVariations,\n\tVariationsPanel,\n} from './variations/variations-panel';\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\n// Initial control values.\nconst BACKGROUND_BLOCK_DEFAULT_VALUES = {\n\tbackgroundSize: 'cover',\n\tbackgroundPosition: '50% 50%', // used only when backgroundSize is 'contain'.\n};\n\nfunction applyFallbackStyle( border: any ) {\n\tif ( ! border ) {\n\t\treturn border;\n\t}\n\n\tconst hasColorOrWidth = border.color || border.width;\n\n\tif ( ! border.style && hasColorOrWidth ) {\n\t\treturn { ...border, style: 'solid' };\n\t}\n\n\tif ( border.style && ! hasColorOrWidth ) {\n\t\treturn undefined;\n\t}\n\n\treturn border;\n}\n\nfunction applyAllFallbackStyles( border: any ) {\n\tif ( ! border ) {\n\t\treturn border;\n\t}\n\n\tif ( hasSplitBorders( border ) ) {\n\t\treturn {\n\t\t\ttop: applyFallbackStyle( border.top ),\n\t\t\tright: applyFallbackStyle( border.right ),\n\t\t\tbottom: applyFallbackStyle( border.bottom ),\n\t\t\tleft: applyFallbackStyle( border.left ),\n\t\t};\n\t}\n\n\treturn applyFallbackStyle( border );\n}\n\nconst {\n\tuseHasDimensionsPanel,\n\tuseHasTypographyPanel,\n\tuseHasBorderPanel,\n\tuseSettingsForBlockElement,\n\tuseHasColorPanel,\n\tuseHasFiltersPanel,\n\tuseHasImageSettingsPanel,\n\tuseHasBackgroundPanel,\n\tBackgroundPanel: StylesBackgroundPanel,\n\tBorderPanel: StylesBorderPanel,\n\tColorPanel: StylesColorPanel,\n\tTypographyPanel: StylesTypographyPanel,\n\tDimensionsPanel: StylesDimensionsPanel,\n\tFiltersPanel: StylesFiltersPanel,\n\tImageSettingsPanel,\n\tAdvancedPanel: StylesAdvancedPanel,\n} = unlock( blockEditorPrivateApis );\n\ninterface ScreenBlockProps {\n\tname: string;\n\tvariation?: string;\n}\n\nfunction ScreenBlock( { name, variation }: ScreenBlockProps ) {\n\tlet prefixParts: string[] = [];\n\tif ( variation ) {\n\t\tprefixParts = [ 'variations', variation ].concat( prefixParts );\n\t}\n\tconst prefix = prefixParts.join( '.' );\n\n\tconst [ style ] = useStyle( prefix, name, 'user', false );\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\tprefix,\n\t\tname,\n\t\t'merged',\n\t\tfalse\n\t);\n\tconst [ userSettings ] = useSetting( '', name, 'user' );\n\tconst [ rawSettings, setSettings ] = useSetting( '', name );\n\tconst settingsForBlockElement = useSettingsForBlockElement(\n\t\trawSettings,\n\t\tname\n\t);\n\tconst blockType = getBlockType( name );\n\n\t// Only allow `blockGap` support if serialization has not been skipped, to be sure global spacing can be applied.\n\tlet disableBlockGap = false;\n\tif (\n\t\tsettingsForBlockElement?.spacing?.blockGap &&\n\t\tblockType?.supports?.spacing?.blockGap &&\n\t\t( blockType?.supports?.spacing?.__experimentalSkipSerialization ===\n\t\t\ttrue ||\n\t\t\tblockType?.supports?.spacing?.__experimentalSkipSerialization?.some?.(\n\t\t\t\t( spacingType: string ) => spacingType === 'blockGap'\n\t\t\t) )\n\t) {\n\t\tdisableBlockGap = true;\n\t}\n\n\t// Only allow `aspectRatio` support if the block is not the grouping block.\n\t// The grouping block allows the user to use Group, Row and Stack variations,\n\t// and it is highly likely that the user will not want to set an aspect ratio\n\t// for all three at once. Until there is the ability to set a different aspect\n\t// ratio for each variation, we disable the aspect ratio controls for the\n\t// grouping block in global styles.\n\tlet disableAspectRatio = false;\n\tif (\n\t\tsettingsForBlockElement?.dimensions?.aspectRatio &&\n\t\tname === 'core/group'\n\t) {\n\t\tdisableAspectRatio = true;\n\t}\n\n\tconst settings = useMemo( () => {\n\t\tconst updatedSettings = structuredClone( settingsForBlockElement );\n\t\tif ( disableBlockGap ) {\n\t\t\tupdatedSettings.spacing.blockGap = false;\n\t\t}\n\t\tif ( disableAspectRatio ) {\n\t\t\tupdatedSettings.dimensions.aspectRatio = false;\n\t\t}\n\t\treturn updatedSettings;\n\t}, [ settingsForBlockElement, disableBlockGap, disableAspectRatio ] );\n\n\tconst blockVariations = useBlockVariations( name );\n\tconst hasBackgroundPanel = useHasBackgroundPanel( settings );\n\tconst hasTypographyPanel = useHasTypographyPanel( settings );\n\tconst hasColorPanel = useHasColorPanel( settings );\n\tconst hasBorderPanel = useHasBorderPanel( settings );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( settings );\n\tconst hasFiltersPanel = useHasFiltersPanel( settings );\n\tconst hasImageSettingsPanel = useHasImageSettingsPanel(\n\t\tname,\n\t\tuserSettings,\n\t\tsettings\n\t);\n\tconst hasVariationsPanel = !! blockVariations?.length && ! variation;\n\tconst { canEditCSS } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord, __experimentalGetCurrentGlobalStylesId } =\n\t\t\tselect( coreStore );\n\n\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\n\t\tconst globalStyles = globalStylesId\n\t\t\t? getEntityRecord( 'root', 'globalStyles', globalStylesId )\n\t\t\t: undefined;\n\n\t\treturn {\n\t\t\tcanEditCSS: !! ( globalStyles as GlobalStylesConfig )?._links?.[\n\t\t\t\t'wp:action-edit-css'\n\t\t\t],\n\t\t};\n\t}, [] );\n\tconst currentBlockStyle = variation\n\t\t? blockVariations.find( ( s: any ) => s.name === variation )\n\t\t: null;\n\n\t// These intermediary objects are needed because the \"layout\" property is stored\n\t// in settings rather than styles.\n\tconst inheritedStyleWithLayout = useMemo( () => {\n\t\treturn {\n\t\t\t...inheritedStyle,\n\t\t\tlayout: settings.layout,\n\t\t};\n\t}, [ inheritedStyle, settings.layout ] );\n\tconst styleWithLayout = useMemo( () => {\n\t\treturn {\n\t\t\t...style,\n\t\t\tlayout: userSettings.layout,\n\t\t};\n\t}, [ style, userSettings.layout ] );\n\tconst onChangeDimensions = ( newStyle: any ) => {\n\t\tconst updatedStyle = { ...newStyle };\n\t\tdelete updatedStyle.layout;\n\t\tsetStyle( updatedStyle );\n\n\t\tif ( newStyle.layout !== userSettings.layout ) {\n\t\t\tsetSettings( {\n\t\t\t\t...userSettings,\n\t\t\t\tlayout: newStyle.layout,\n\t\t\t} );\n\t\t}\n\t};\n\tconst onChangeLightbox = ( newSetting: any ) => {\n\t\t// If the newSetting is undefined, this means that the user has deselected\n\t\t// (reset) the lightbox setting.\n\t\tif ( newSetting === undefined ) {\n\t\t\tsetSettings( {\n\t\t\t\t...rawSettings,\n\t\t\t\tlightbox: undefined,\n\t\t\t} );\n\n\t\t\t// Otherwise, we simply set the lightbox setting to the new value but\n\t\t\t// taking care of not overriding the other lightbox settings.\n\t\t} else {\n\t\t\tsetSettings( {\n\t\t\t\t...rawSettings,\n\t\t\t\tlightbox: {\n\t\t\t\t\t...rawSettings.lightbox,\n\t\t\t\t\t...newSetting,\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\t};\n\tconst onChangeBorders = ( newStyle: any ) => {\n\t\tif ( ! newStyle?.border ) {\n\t\t\tsetStyle( newStyle );\n\t\t\treturn;\n\t\t}\n\n\t\t// As Global Styles can't conditionally generate styles based on if\n\t\t// other style properties have been set, we need to force split\n\t\t// border definitions for user set global border styles. Border\n\t\t// radius is derived from the same property i.e. `border.radius` if\n\t\t// it is a string that is used. The longhand border radii styles are\n\t\t// only generated if that property is an object.\n\t\t//\n\t\t// For borders (color, style, and width) those are all properties on\n\t\t// the `border` style property. This means if the theme.json defined\n\t\t// split borders and the user condenses them into a flat border or\n\t\t// vice-versa we'd get both sets of styles which would conflict.\n\t\tconst { radius, ...newBorder } = newStyle.border;\n\t\tconst border = applyAllFallbackStyles( newBorder );\n\t\tconst updatedBorder = ! hasSplitBorders( border )\n\t\t\t? {\n\t\t\t\t\ttop: border,\n\t\t\t\t\tright: border,\n\t\t\t\t\tbottom: border,\n\t\t\t\t\tleft: border,\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tcolor: null,\n\t\t\t\t\tstyle: null,\n\t\t\t\t\twidth: null,\n\t\t\t\t\t...border,\n\t\t\t  };\n\n\t\tsetStyle( { ...newStyle, border: { ...updatedBorder, radius } } );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={\n\t\t\t\t\tvariation ? currentBlockStyle?.label : blockType?.title\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<BlockPreviewPanel name={ name } variation={ variation } />\n\t\t\t{ hasVariationsPanel && (\n\t\t\t\t<div className=\"global-styles-ui-screen-variations\">\n\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t<Subtitle>{ __( 'Style Variations' ) }</Subtitle>\n\t\t\t\t\t\t<VariationsPanel name={ name } />\n\t\t\t\t\t</VStack>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ hasColorPanel && (\n\t\t\t\t<StylesColorPanel\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasBackgroundPanel && (\n\t\t\t\t<StylesBackgroundPanel\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tdefaultValues={ BACKGROUND_BLOCK_DEFAULT_VALUES }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasTypographyPanel && (\n\t\t\t\t<StylesTypographyPanel\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasDimensionsPanel && (\n\t\t\t\t<StylesDimensionsPanel\n\t\t\t\t\tinheritedValue={ inheritedStyleWithLayout }\n\t\t\t\t\tvalue={ styleWithLayout }\n\t\t\t\t\tonChange={ onChangeDimensions }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tincludeLayoutControls\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasBorderPanel && (\n\t\t\t\t<StylesBorderPanel\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ onChangeBorders }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasFiltersPanel && (\n\t\t\t\t<StylesFiltersPanel\n\t\t\t\t\tinheritedValue={ inheritedStyleWithLayout }\n\t\t\t\t\tvalue={ styleWithLayout }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tincludeLayoutControls\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasImageSettingsPanel && (\n\t\t\t\t<ImageSettingsPanel\n\t\t\t\t\tonChange={ onChangeLightbox }\n\t\t\t\t\tvalue={ userSettings }\n\t\t\t\t\tinheritedValue={ settings }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t{ canEditCSS && (\n\t\t\t\t<PanelBody title={ __( 'Advanced' ) } initialOpen={ false }>\n\t\t\t\t\t<StylesAdvancedPanel\n\t\t\t\t\t\tvalue={ style }\n\t\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t\t\thelp={ sprintf(\n\t\t\t\t\t\t\t// translators: %s: is the name of a block e.g., 'Image' or 'Table'.\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Add your own CSS to customize the appearance of the %s block. You do not need to include a CSS selector, just add the property and value.'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tblockType?.title\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenBlock;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { BlockPreview } from '@wordpress/block-editor';\n// @ts-expect-error: Not typed yet.\nimport { getBlockType, getBlockFromExample } from '@wordpress/blocks';\nimport { __experimentalSpacer as Spacer } from '@wordpress/components';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { getVariationClassName } from './utils';\n\ninterface BlockPreviewPanelProps {\n\tname: string;\n\tvariation?: string;\n}\n\nconst BlockPreviewPanel = ( {\n\tname,\n\tvariation = '',\n}: BlockPreviewPanelProps ) => {\n\tconst blockExample = getBlockType( name )?.example;\n\tconst blocks = useMemo( () => {\n\t\tif ( ! blockExample ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst example = {\n\t\t\t...blockExample,\n\t\t\tattributes: {\n\t\t\t\t...blockExample.attributes,\n\t\t\t\tstyle: undefined,\n\t\t\t\tclassName: variation\n\t\t\t\t\t? getVariationClassName( variation )\n\t\t\t\t\t: blockExample.attributes?.className,\n\t\t\t},\n\t\t};\n\n\t\treturn getBlockFromExample( name, example );\n\t}, [ name, blockExample, variation ] );\n\n\tconst viewportWidth = blockExample?.viewportWidth ?? 500;\n\t// Same as height of InserterPreviewPanel.\n\tconst previewHeight = 144;\n\tconst sidebarWidth = 235;\n\tconst scale = sidebarWidth / viewportWidth;\n\tconst minHeight =\n\t\tscale !== 0 && scale < 1 && previewHeight\n\t\t\t? previewHeight / scale\n\t\t\t: previewHeight;\n\n\tif ( ! blockExample ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Spacer marginX={ 4 } marginBottom={ 4 }>\n\t\t\t<div\n\t\t\t\tclassName=\"global-styles-ui__block-preview-panel\"\n\t\t\t\tstyle={ { maxHeight: previewHeight, boxSizing: 'initial' } }\n\t\t\t>\n\t\t\t\t<BlockPreview\n\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\tviewportWidth={ viewportWidth }\n\t\t\t\t\tminHeight={ previewHeight }\n\t\t\t\t\tadditionalStyles={\n\t\t\t\t\t\t//We want this CSS to be in sync with the one in InserterPreviewPanel.\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcss: `\n\t\t\t\t\t\t\t\tbody{\n\t\t\t\t\t\t\t\t\tpadding: 24px;\n\t\t\t\t\t\t\t\t\tmin-height:${ Math.round( minHeight ) }px;\n\t\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t.is-root-container { width: 100%; }\n\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Spacer>\n\t);\n};\n\nexport default BlockPreviewPanel;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalHeading as Heading } from '@wordpress/components';\n\ninterface SubtitleProps {\n\tchildren: React.ReactNode;\n\tlevel?: 1 | 2 | 3 | 4 | 5 | 6;\n}\n\nexport function Subtitle( { children, level = 2 }: SubtitleProps ) {\n\treturn (\n\t\t<Heading className=\"global-styles-ui-subtitle\" level={ level }>\n\t\t\t{ children }\n\t\t</Heading>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport { ScreenBody } from './screen-body';\nimport TypographyElements from './typography-elements';\nimport TypographyVariations from './variations/variations-typography';\nimport FontFamilies from './font-families';\nimport FontSizesCount from './font-sizes/font-sizes-count';\nimport { GlobalStylesContext } from './context';\n\nfunction ScreenTypography() {\n\tconst { fontLibraryEnabled } = useContext( GlobalStylesContext );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Typography' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Available fonts, typographic styles, and the application of those styles.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ScreenBody>\n\t\t\t\t<VStack spacing={ 7 }>\n\t\t\t\t\t<TypographyVariations title={ __( 'Typesets' ) } />\n\t\t\t\t\t{ fontLibraryEnabled && <FontFamilies /> }\n\t\t\t\t\t<TypographyElements />\n\t\t\t\t\t<FontSizesCount />\n\t\t\t\t</VStack>\n\t\t\t</ScreenBody>\n\t\t</>\n\t);\n}\n\nexport default ScreenTypography;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalSpacer as Spacer } from '@wordpress/components';\nimport clsx from 'clsx';\n\ninterface ScreenBodyProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nexport function ScreenBody( { children, className }: ScreenBodyProps ) {\n\treturn (\n\t\t<Spacer\n\t\t\tclassName={ clsx( 'global-styles-ui-screen-body', className ) }\n\t\t\tpadding={ 4 } // 4 units = 16px. Could be made configurable via prop in the future if needed.\n\t\t>\n\t\t\t{ children }\n\t\t</Spacer>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { Subtitle } from './subtitle';\nimport { useStyle } from './hooks';\n\ninterface ElementItemProps {\n\tparentMenu: string;\n\telement: string;\n\tlabel: string;\n}\n\nfunction ElementItem( { parentMenu, element, label }: ElementItemProps ) {\n\tconst prefix =\n\t\telement === 'text' || ! element ? '' : `elements.${ element }.`;\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\n\tconst [ fontFamily ] = useStyle< string >(\n\t\tprefix + 'typography.fontFamily'\n\t);\n\tconst [ fontStyle ] = useStyle< string >( prefix + 'typography.fontStyle' );\n\tconst [ fontWeight ] = useStyle< string >(\n\t\tprefix + 'typography.fontWeight'\n\t);\n\tconst [ backgroundColor ] = useStyle< string >(\n\t\tprefix + 'color.background'\n\t);\n\tconst [ fallbackBackgroundColor ] =\n\t\tuseStyle< string >( 'color.background' );\n\tconst [ gradientValue ] = useStyle< string >( prefix + 'color.gradient' );\n\tconst [ color ] = useStyle< string >( prefix + 'color.text' );\n\n\treturn (\n\t\t<NavigationButtonAsItem path={ parentMenu + '/typography/' + element }>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<FlexItem\n\t\t\t\t\tclassName=\"global-styles-ui-screen-typography__indicator\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\tgradientValue ??\n\t\t\t\t\t\t\tbackgroundColor ??\n\t\t\t\t\t\t\tfallbackBackgroundColor,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\tfontStyle,\n\t\t\t\t\t\tfontWeight,\n\t\t\t\t\t\t...extraStyles,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Aa' ) }\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>{ label }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction TypographyElements() {\n\tconst parentMenu = '';\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t<Subtitle level={ 3 }>{ __( 'Elements' ) }</Subtitle>\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"text\"\n\t\t\t\t\tlabel={ __( 'Text' ) }\n\t\t\t\t/>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"link\"\n\t\t\t\t\tlabel={ __( 'Links' ) }\n\t\t\t\t/>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"heading\"\n\t\t\t\t\tlabel={ __( 'Headings' ) }\n\t\t\t\t/>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"caption\"\n\t\t\t\t\tlabel={ __( 'Captions' ) }\n\t\t\t\t/>\n\t\t\t\t<ElementItem\n\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\telement=\"button\"\n\t\t\t\t\tlabel={ __( 'Buttons' ) }\n\t\t\t\t/>\n\t\t\t</ItemGroup>\n\t\t</VStack>\n\t);\n}\n\nexport default TypographyElements;\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalGrid as Grid,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport StylesPreviewTypography from '../preview-typography';\nimport { useCurrentMergeThemeStyleVariationsWithUserConfig } from '../hooks';\nimport { Subtitle } from '../subtitle';\nimport Variation from './variation';\n\ninterface TypographyVariationsProps {\n\ttitle?: string;\n\tgap?: number;\n}\n\nconst propertiesToFilter = [ 'typography' ];\n\nexport default function TypographyVariations( {\n\ttitle,\n\tgap = 2,\n}: TypographyVariationsProps ) {\n\tconst typographyVariations =\n\t\tuseCurrentMergeThemeStyleVariationsWithUserConfig( propertiesToFilter );\n\n\t// Return null if there is only one variation (the default).\n\tif ( typographyVariations?.length <= 1 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t{ title && <Subtitle level={ 3 }>{ title }</Subtitle> }\n\t\t\t<Grid\n\t\t\t\tcolumns={ 3 }\n\t\t\t\tgap={ gap }\n\t\t\t\tclassName=\"global-styles-ui-style-variations-container\"\n\t\t\t>\n\t\t\t\t{ typographyVariations.map(\n\t\t\t\t\t( variation: any, index: number ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Variation\n\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\t\t\tproperties={ propertiesToFilter }\n\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ () => (\n\t\t\t\t\t\t\t\t\t<StylesPreviewTypography\n\t\t\t\t\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Variation>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t</Grid>\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport TypographyExample from './typography-example';\nimport PreviewWrapper from './preview-wrapper';\n\ninterface StylesPreviewTypographyProps {\n\tvariation: any;\n\tisFocused?: boolean;\n\twithHoverView?: boolean;\n}\n\nconst StylesPreviewTypography = ( {\n\tvariation,\n\tisFocused,\n\twithHoverView,\n}: StylesPreviewTypographyProps ) => {\n\treturn (\n\t\t<PreviewWrapper\n\t\t\tlabel={ variation.title }\n\t\t\tisFocused={ isFocused }\n\t\t\twithHoverView={ withHoverView }\n\t\t>\n\t\t\t{ ( { ratio, key } ) => (\n\t\t\t\t<HStack\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tspacing={ 10 * ratio }\n\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<TypographyExample\n\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\tfontSize={ 85 * ratio }\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t</PreviewWrapper>\n\t);\n};\n\nexport default StylesPreviewTypography;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Tooltip } from '@wordpress/components';\nimport { useMemo, useContext, useState } from '@wordpress/element';\nimport { ENTER } from '@wordpress/keycodes';\nimport { _x, sprintf } from '@wordpress/i18n';\nimport {\n\tareGlobalStylesEqual,\n\tmergeGlobalStyles,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from '../context';\nimport { filterObjectByProperties } from '../utils';\n\ninterface VariationProps {\n\tvariation: any;\n\tchildren: ( isFocused: boolean ) => React.ReactNode;\n\tisPill?: boolean;\n\tproperties?: string[];\n\tshowTooltip?: boolean;\n}\n\nexport default function Variation( {\n\tvariation,\n\tchildren,\n\tisPill = false,\n\tproperties,\n\tshowTooltip = false,\n}: VariationProps ) {\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst {\n\t\tbase,\n\t\tuser,\n\t\tonChange: setUserConfig,\n\t} = useContext( GlobalStylesContext );\n\n\tconst context = useMemo( () => {\n\t\tlet merged = mergeGlobalStyles( base, variation );\n\t\tif ( properties ) {\n\t\t\tmerged = filterObjectByProperties( merged, properties );\n\t\t}\n\t\treturn {\n\t\t\tuser: variation,\n\t\t\tbase,\n\t\t\tmerged,\n\t\t\tonChange: () => {},\n\t\t};\n\t}, [ variation, base, properties ] );\n\n\tconst selectVariation = () => setUserConfig( variation );\n\n\tconst selectOnEnter = ( event: React.KeyboardEvent ) => {\n\t\tif ( event.keyCode === ENTER ) {\n\t\t\tevent.preventDefault();\n\t\t\tselectVariation();\n\t\t}\n\t};\n\n\tconst isActive = useMemo(\n\t\t() => areGlobalStylesEqual( user, variation ),\n\t\t[ user, variation ]\n\t);\n\n\tlet label = variation?.title;\n\tif ( variation?.description ) {\n\t\tlabel = sprintf(\n\t\t\t/* translators: 1: variation title. 2: variation description. */\n\t\t\t_x( '%1$s (%2$s)', 'variation label' ),\n\t\t\tvariation?.title,\n\t\t\tvariation?.description\n\t\t);\n\t}\n\n\tconst content = (\n\t\t<div\n\t\t\tclassName={ clsx( 'global-styles-ui-variations_item', {\n\t\t\t\t'is-active': isActive,\n\t\t\t} ) }\n\t\t\trole=\"button\"\n\t\t\tonClick={ selectVariation }\n\t\t\tonKeyDown={ selectOnEnter }\n\t\t\ttabIndex={ 0 }\n\t\t\taria-label={ label }\n\t\t\taria-current={ isActive }\n\t\t\tonFocus={ () => setIsFocused( true ) }\n\t\t\tonBlur={ () => setIsFocused( false ) }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( 'global-styles-ui-variations_item-preview', {\n\t\t\t\t\t'is-pill': isPill,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ children( isFocused ) }\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ context }>\n\t\t\t{ showTooltip ? (\n\t\t\t\t<Tooltip text={ variation?.title }>{ content }</Tooltip>\n\t\t\t) : (\n\t\t\t\tcontent\n\t\t\t) }\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalText as Text,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tButton,\n} from '@wordpress/components';\nimport { settings } from '@wordpress/icons';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { useSetting } from './hooks';\nimport FontLibraryProvider, {\n\tFontLibraryContext,\n} from './font-library/context';\nimport FontLibraryModal from './font-library/modal';\nimport FontFamilyItem from './font-family-item';\nimport { setUIValuesNeeded } from './font-library/utils';\n\n/**\n * Maps the fonts with the source, if available.\n *\n * @param {Array}  fonts  The fonts to map.\n * @param {string} source The source of the fonts.\n * @return {Array} The mapped fonts.\n */\nfunction mapFontsWithSource( fonts: any[], source: string ) {\n\treturn fonts\n\t\t? fonts.map( ( f ) => setUIValuesNeeded( f, { source } ) )\n\t\t: [];\n}\n\nfunction FontFamiliesInner() {\n\tconst { baseCustomFonts, modalTabOpen, setModalTabOpen } =\n\t\tuseContext( FontLibraryContext );\n\tconst [ fontFamilies ] = useSetting( 'typography.fontFamilies' );\n\tconst [ baseFontFamilies ] = useSetting(\n\t\t'typography.fontFamilies',\n\t\tundefined,\n\t\t'base'\n\t);\n\tconst themeFonts = mapFontsWithSource( fontFamilies?.theme, 'theme' );\n\tconst customFonts = mapFontsWithSource( fontFamilies?.custom, 'custom' );\n\tconst activeFonts = [ ...themeFonts, ...customFonts ].sort( ( a, b ) =>\n\t\ta.name.localeCompare( b.name )\n\t);\n\tconst hasFonts = 0 < activeFonts.length;\n\tconst hasInstalledFonts =\n\t\thasFonts ||\n\t\tbaseFontFamilies?.theme?.length > 0 ||\n\t\t( baseCustomFonts?.length ?? 0 ) > 0;\n\n\treturn (\n\t\t<>\n\t\t\t{ !! modalTabOpen && (\n\t\t\t\t<FontLibraryModal\n\t\t\t\t\tonRequestClose={ () => setModalTabOpen?.( '' ) }\n\t\t\t\t\tdefaultTabId={ modalTabOpen }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t<VStack spacing={ 2 }>\n\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t<Subtitle level={ 3 }>{ __( 'Fonts' ) }</Subtitle>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ () => setModalTabOpen?.( 'installed-fonts' ) }\n\t\t\t\t\t\tlabel={ __( 'Manage fonts' ) }\n\t\t\t\t\t\ticon={ settings }\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t\t{ activeFonts.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ItemGroup size=\"large\" isBordered isSeparated>\n\t\t\t\t\t\t\t{ activeFonts.map( ( font ) => (\n\t\t\t\t\t\t\t\t<FontFamilyItem\n\t\t\t\t\t\t\t\t\tkey={ font.slug }\n\t\t\t\t\t\t\t\t\tfont={ font }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t\t{ ! hasFonts && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t\t{ hasInstalledFonts\n\t\t\t\t\t\t\t\t? __( 'No fonts activated.' )\n\t\t\t\t\t\t\t\t: __( 'No fonts installed.' ) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"global-styles-ui-font-families__manage-fonts\"\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetModalTabOpen?.(\n\t\t\t\t\t\t\t\t\thasInstalledFonts\n\t\t\t\t\t\t\t\t\t\t? 'installed-fonts'\n\t\t\t\t\t\t\t\t\t\t: 'upload-fonts'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ hasInstalledFonts\n\t\t\t\t\t\t\t\t? __( 'Manage fonts' )\n\t\t\t\t\t\t\t\t: __( 'Add fonts' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</>\n\t);\n}\n\nexport default function FontFamilies( { ...props } ) {\n\treturn (\n\t\t<FontLibraryProvider>\n\t\t\t<FontFamiliesInner { ...props } />\n\t\t</FontLibraryProvider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext, useState, useEffect } from '@wordpress/element';\nimport {\n\tuseSelect,\n\tuseDispatch,\n\tresolveSelect,\n\tuseRegistry,\n} from '@wordpress/data';\nimport {\n\tuseEntityRecord,\n\tuseEntityRecords,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport type {\n\tFontFamilyPreset,\n\tGlobalStylesConfig,\n} from '@wordpress/global-styles-engine';\nimport type {\n\tCollectionFontFace,\n\tCollectionFontFamily,\n\tFontFace,\n\tFontFamily,\n\tWpFontFamily,\n} from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { fetchInstallFontFamily } from './api';\nimport {\n\tsetUIValuesNeeded,\n\tmergeFontFamilies,\n\tloadFontFaceInBrowser,\n\tunloadFontFaceInBrowser,\n\tgetDisplaySrcFromFontFace,\n\tmakeFontFacesFormData,\n\tmakeFontFamilyFormData,\n\tbatchInstallFontFaces,\n\tcheckFontFaceInstalled,\n} from './utils';\nimport { setImmutably } from './utils/set-immutably';\nimport { toggleFont } from './utils/toggleFont';\nimport type { FontFamilyToUpload, FontLibraryState } from './types';\nimport { useSetting } from '../hooks';\n\nexport const FontLibraryContext = createContext< FontLibraryState >(\n\t{} as FontLibraryState\n);\nFontLibraryContext.displayName = 'FontLibraryContext';\n\nfunction FontLibraryProvider( { children }: { children: React.ReactNode } ) {\n\tconst registry = useRegistry();\n\tconst { saveEntityRecord, deleteEntityRecord } = useDispatch( coreStore );\n\tconst { globalStylesId } = useSelect( ( select ) => {\n\t\tconst { __experimentalGetCurrentGlobalStylesId } = select( coreStore );\n\t\treturn { globalStylesId: __experimentalGetCurrentGlobalStylesId() };\n\t}, [] );\n\n\tconst globalStyles = useEntityRecord< GlobalStylesConfig >(\n\t\t'root',\n\t\t'globalStyles',\n\t\tglobalStylesId\n\t);\n\n\tconst [ isInstalling, setIsInstalling ] = useState( false );\n\n\tconst { records: libraryPosts = [], isResolving: isResolvingLibrary } =\n\t\tuseEntityRecords< CollectionFontFamily >(\n\t\t\t'postType',\n\t\t\t'wp_font_family',\n\t\t\t{\n\t\t\t\t_embed: true,\n\t\t\t}\n\t\t);\n\n\tconst libraryFonts: FontFamilyPreset[] =\n\t\t( libraryPosts || [] ).map( ( fontFamilyPost ) => {\n\t\t\treturn {\n\t\t\t\tid: fontFamilyPost.id,\n\t\t\t\t...( fontFamilyPost.font_family_settings || {} ),\n\t\t\t\tfontFace:\n\t\t\t\t\tfontFamilyPost?._embedded?.font_faces?.map(\n\t\t\t\t\t\t( face ) => face.font_face_settings\n\t\t\t\t\t) || [],\n\t\t\t};\n\t\t} ) || [];\n\n\t// Global Styles (settings) font families\n\tconst [ fontFamilies, setFontFamilies ] = useSetting<\n\t\tRecord< string, FontFamilyPreset[] > | undefined\n\t>( 'typography.fontFamilies' );\n\n\t/*\n\t * Save the font families to the database.\n\n\t * This function is called when the user activates or deactivates a font family.\n\t * It only updates the global styles post content in the database for new font families.\n\t * This avoids saving other styles/settings changed by the user using other parts of the editor.\n\t *\n\t * It uses the font families from the param to avoid using the font families from an outdated state.\n\t *\n\t * @param {Array} fonts - The font families that will be saved to the database.\n\t */\n\tconst saveFontFamilies = async (\n\t\tfonts:\n\t\t\t| FontFamilyPreset[]\n\t\t\t| Record< string, FontFamilyPreset[] >\n\t\t\t| undefined\n\t) => {\n\t\tif ( ! globalStyles.record ) {\n\t\t\treturn;\n\t\t}\n\t\t// Gets the global styles database post content.\n\t\tconst updatedGlobalStyles = globalStyles.record;\n\n\t\t// Updates the database version of global styles with the edited font families in the client.\n\t\tconst finalGlobalStyles = setImmutably(\n\t\t\tupdatedGlobalStyles ?? {},\n\t\t\t[ 'settings', 'typography', 'fontFamilies' ],\n\t\t\tfonts\n\t\t);\n\n\t\t// Saves a new version of the global styles in the database.\n\t\tawait saveEntityRecord( 'root', 'globalStyles', finalGlobalStyles );\n\t};\n\n\t// Library Fonts\n\tconst [ modalTabOpen, setModalTabOpen ] = useState( '' );\n\tconst [ libraryFontSelected, setLibraryFontSelected ] = useState<\n\t\tFontFamily | undefined\n\t>( undefined );\n\n\t// Themes Fonts are the fonts defined in the global styles (database persisted theme.json data).\n\tconst themeFonts = fontFamilies?.theme\n\t\t? fontFamilies.theme\n\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'theme' } ) )\n\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t: [];\n\n\tconst customFonts = fontFamilies?.custom\n\t\t? fontFamilies.custom\n\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'custom' } ) )\n\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t: [];\n\n\tconst baseCustomFonts = libraryFonts\n\t\t? libraryFonts\n\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'custom' } ) )\n\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t: [];\n\n\tuseEffect( () => {\n\t\tif ( ! modalTabOpen ) {\n\t\t\tsetLibraryFontSelected( undefined );\n\t\t}\n\t}, [ modalTabOpen ] );\n\n\tconst handleSetLibraryFontSelected = ( font?: FontFamily ) => {\n\t\t// If font is null, reset the selected font\n\t\tif ( ! font ) {\n\t\t\tsetLibraryFontSelected( undefined );\n\t\t\treturn;\n\t\t}\n\n\t\tconst fonts = font.source === 'theme' ? themeFonts : baseCustomFonts;\n\n\t\t// Tries to find the font in the installed fonts\n\t\tconst fontSelected = fonts.find( ( f ) => f.slug === font.slug );\n\t\t// If the font is not found (it is only defined in custom styles), use the font from custom styles\n\t\tsetLibraryFontSelected( {\n\t\t\t...( fontSelected || font ),\n\t\t\tsource: font.source,\n\t\t} );\n\t};\n\n\t// Demo\n\tconst [ loadedFontUrls ] = useState( new Set() );\n\n\tconst getAvailableFontsOutline = (\n\t\tavailableFontFamilies: FontFamily[]\n\t) => {\n\t\tconst outline: Record< string, string[] > =\n\t\t\tavailableFontFamilies.reduce(\n\t\t\t\t( acc: Record< string, string[] >, font ) => {\n\t\t\t\t\tconst availableFontFaces =\n\t\t\t\t\t\tfont?.fontFace && font.fontFace?.length > 0\n\t\t\t\t\t\t\t? font?.fontFace.map(\n\t\t\t\t\t\t\t\t\t( face ) =>\n\t\t\t\t\t\t\t\t\t\t`${ face.fontStyle ?? '' }${\n\t\t\t\t\t\t\t\t\t\t\tface.fontWeight ?? ''\n\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: [ 'normal400' ]; // If the font doesn't have fontFace, we assume it is a system font and we add the defaults: normal 400\n\n\t\t\t\t\tacc[ font.slug ] = availableFontFaces;\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\treturn outline;\n\t};\n\n\tconst getActivatedFontsOutline = ( source?: string ) => {\n\t\tswitch ( source ) {\n\t\t\tcase 'theme':\n\t\t\t\treturn getAvailableFontsOutline( themeFonts );\n\t\t\tcase 'custom':\n\t\t\tdefault:\n\t\t\t\treturn getAvailableFontsOutline( customFonts );\n\t\t}\n\t};\n\n\tconst isFontActivated = (\n\t\tslug: string,\n\t\tstyle?: string,\n\t\tweight?: string | number,\n\t\tsource?: string\n\t) => {\n\t\tif ( ! style && ! weight ) {\n\t\t\treturn !! getActivatedFontsOutline( source )[ slug ];\n\t\t}\n\t\treturn !! getActivatedFontsOutline( source )[ slug ]?.includes(\n\t\t\t( style ?? '' ) + ( weight ?? '' )\n\t\t);\n\t};\n\n\tconst getFontFacesActivated = ( slug: string, source?: string ) => {\n\t\treturn getActivatedFontsOutline( source )[ slug ] || [];\n\t};\n\n\tasync function installFonts( fontFamiliesToInstall: FontFamilyToUpload[] ) {\n\t\tsetIsInstalling( true );\n\t\ttry {\n\t\t\tconst fontFamiliesToActivate = [];\n\t\t\tlet installationErrors: Array< {\n\t\t\t\tmessage: string;\n\t\t\t} > = [];\n\n\t\t\tfor ( const fontFamilyToInstall of fontFamiliesToInstall ) {\n\t\t\t\tlet isANewFontFamily = false;\n\n\t\t\t\t// Get the font family if it already exists.\n\t\t\t\tconst fontFamilyRecords = await resolveSelect(\n\t\t\t\t\tcoreStore\n\t\t\t\t).getEntityRecords< WpFontFamily >(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_font_family',\n\t\t\t\t\t{\n\t\t\t\t\t\tslug: fontFamilyToInstall.slug,\n\t\t\t\t\t\tper_page: 1,\n\t\t\t\t\t\t_embed: true,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tconst fontFamilyPost =\n\t\t\t\t\tfontFamilyRecords && fontFamilyRecords.length > 0\n\t\t\t\t\t\t? fontFamilyRecords[ 0 ]\n\t\t\t\t\t\t: null;\n\n\t\t\t\tlet installedFontFamily = fontFamilyPost\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tid: fontFamilyPost.id,\n\t\t\t\t\t\t\t...fontFamilyPost.font_family_settings,\n\t\t\t\t\t\t\tfontFace:\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\tfontFamilyPost?._embedded?.font_faces ?? []\n\t\t\t\t\t\t\t\t).map(\n\t\t\t\t\t\t\t\t\t( face: CollectionFontFace ) =>\n\t\t\t\t\t\t\t\t\t\tface.font_face_settings\n\t\t\t\t\t\t\t\t) || [],\n\t\t\t\t\t  }\n\t\t\t\t\t: null;\n\n\t\t\t\t// Otherwise create it.\n\t\t\t\tif ( ! installedFontFamily ) {\n\t\t\t\t\tisANewFontFamily = true;\n\t\t\t\t\t// Prepare font family form data to install.\n\t\t\t\t\tinstalledFontFamily = await fetchInstallFontFamily(\n\t\t\t\t\t\tmakeFontFamilyFormData( fontFamilyToInstall ),\n\t\t\t\t\t\tregistry\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// Collect font faces that have already been installed (to be activated later)\n\t\t\t\tconst alreadyInstalledFontFaces =\n\t\t\t\t\tinstalledFontFamily.fontFace && fontFamilyToInstall.fontFace\n\t\t\t\t\t\t? installedFontFamily.fontFace.filter(\n\t\t\t\t\t\t\t\t( fontFaceToInstall: FontFace ) =>\n\t\t\t\t\t\t\t\t\tfontFaceToInstall &&\n\t\t\t\t\t\t\t\t\tfontFamilyToInstall.fontFace &&\n\t\t\t\t\t\t\t\t\tcheckFontFaceInstalled(\n\t\t\t\t\t\t\t\t\t\tfontFaceToInstall,\n\t\t\t\t\t\t\t\t\t\tfontFamilyToInstall.fontFace\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: [];\n\n\t\t\t\t// Filter out Font Faces that have already been installed (so that they are not re-installed)\n\t\t\t\tif (\n\t\t\t\t\tinstalledFontFamily.fontFace &&\n\t\t\t\t\tfontFamilyToInstall.fontFace\n\t\t\t\t) {\n\t\t\t\t\tfontFamilyToInstall.fontFace =\n\t\t\t\t\t\tfontFamilyToInstall.fontFace.filter(\n\t\t\t\t\t\t\t( fontFaceToInstall ) =>\n\t\t\t\t\t\t\t\t! checkFontFaceInstalled(\n\t\t\t\t\t\t\t\t\tfontFaceToInstall,\n\t\t\t\t\t\t\t\t\tinstalledFontFamily.fontFace\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// Install the fonts (upload the font files to the server and create the post in the database).\n\t\t\t\tlet successfullyInstalledFontFaces: FontFace[] = [];\n\t\t\t\tlet unsuccessfullyInstalledFontFaces: {\n\t\t\t\t\tmessage: string;\n\t\t\t\t}[] = [];\n\t\t\t\tif ( fontFamilyToInstall?.fontFace?.length ?? 0 > 0 ) {\n\t\t\t\t\tconst response = await batchInstallFontFaces(\n\t\t\t\t\t\t// @ts-expect-error - Type mismatch: WpFontFamily.id can be number | string, but batchInstallFontFaces expects only string.\n\t\t\t\t\t\tinstalledFontFamily.id,\n\t\t\t\t\t\tmakeFontFacesFormData(\n\t\t\t\t\t\t\tfontFamilyToInstall as FontFamily\n\t\t\t\t\t\t),\n\t\t\t\t\t\tregistry\n\t\t\t\t\t);\n\t\t\t\t\tsuccessfullyInstalledFontFaces = response?.successes;\n\t\t\t\t\tunsuccessfullyInstalledFontFaces = response?.errors;\n\t\t\t\t}\n\n\t\t\t\t// Use the successfully installed font faces\n\t\t\t\t// As well as any font faces that were already installed (those will be activated)\n\t\t\t\tif (\n\t\t\t\t\tsuccessfullyInstalledFontFaces?.length > 0 ||\n\t\t\t\t\talreadyInstalledFontFaces?.length > 0\n\t\t\t\t) {\n\t\t\t\t\t// Use font data from REST API not from client to ensure\n\t\t\t\t\t// correct font information is used.\n\t\t\t\t\tinstalledFontFamily.fontFace = [\n\t\t\t\t\t\t...successfullyInstalledFontFaces,\n\t\t\t\t\t];\n\n\t\t\t\t\tfontFamiliesToActivate.push( installedFontFamily );\n\t\t\t\t}\n\n\t\t\t\t// If it's a system font but was installed successfully, activate it.\n\t\t\t\tif (\n\t\t\t\t\tinstalledFontFamily &&\n\t\t\t\t\t! fontFamilyToInstall?.fontFace?.length\n\t\t\t\t) {\n\t\t\t\t\tfontFamiliesToActivate.push( installedFontFamily );\n\t\t\t\t}\n\n\t\t\t\t// If the font family is new and is not a system font, delete it to avoid having font families without font faces.\n\t\t\t\tif (\n\t\t\t\t\tisANewFontFamily &&\n\t\t\t\t\t( fontFamilyToInstall?.fontFace?.length ?? 0 ) > 0 &&\n\t\t\t\t\tsuccessfullyInstalledFontFaces?.length === 0\n\t\t\t\t) {\n\t\t\t\t\tawait deleteEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t'wp_font_family',\n\t\t\t\t\t\tinstalledFontFamily.id,\n\t\t\t\t\t\t{ force: true }\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tinstallationErrors = installationErrors.concat(\n\t\t\t\t\tunsuccessfullyInstalledFontFaces\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst installationErrorMessages: string[] =\n\t\t\t\tinstallationErrors.reduce(\n\t\t\t\t\t( unique: string[], item ) =>\n\t\t\t\t\t\tunique.includes( item.message )\n\t\t\t\t\t\t\t? unique\n\t\t\t\t\t\t\t: [ ...unique, item.message ],\n\t\t\t\t\t[]\n\t\t\t\t);\n\n\t\t\tif ( fontFamiliesToActivate.length > 0 ) {\n\t\t\t\t// Activate the font family (add the font family to the global styles).\n\t\t\t\tconst activeFonts = activateCustomFontFamilies(\n\t\t\t\t\t// @ts-expect-error - Type mismatch: items may have id as number | string, but FontFamily.id should be string | undefined.\n\t\t\t\t\tfontFamiliesToActivate\n\t\t\t\t);\n\t\t\t\t// Save the global styles to the database.\n\t\t\t\tawait saveFontFamilies( activeFonts );\n\t\t\t}\n\n\t\t\tif ( installationErrorMessages.length > 0 ) {\n\t\t\t\tconst installError: Error & {\n\t\t\t\t\tinstallationErrors?: string[];\n\t\t\t\t} = new Error( __( 'There was an error installing fonts.' ) );\n\n\t\t\t\tinstallError.installationErrors = installationErrorMessages;\n\n\t\t\t\tthrow installError;\n\t\t\t}\n\t\t} finally {\n\t\t\tsetIsInstalling( false );\n\t\t}\n\t}\n\n\tasync function uninstallFontFamily( fontFamilyToUninstall: FontFamily ) {\n\t\tif ( ! fontFamilyToUninstall?.id ) {\n\t\t\tthrow new Error( __( 'Font family to uninstall is not defined.' ) );\n\t\t}\n\t\ttry {\n\t\t\t// Uninstall the font family.\n\t\t\t// (Removes the font files from the server and the posts from the database).\n\t\t\tawait deleteEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_font_family',\n\t\t\t\tfontFamilyToUninstall.id,\n\t\t\t\t{ force: true }\n\t\t\t);\n\n\t\t\t// Deactivate the font family (remove from global styles).\n\t\t\tconst activeFonts = deactivateFontFamily( fontFamilyToUninstall );\n\t\t\t// Save the global styles to the database.\n\t\t\tawait saveFontFamilies( activeFonts );\n\t\t\treturn { deleted: true };\n\t\t} catch ( error ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\n\t\t\t\t`There was an error uninstalling the font family:`,\n\t\t\t\terror\n\t\t\t);\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tconst deactivateFontFamily = ( font: FontFamily ) => {\n\t\t// If the user doesn't have custom fonts defined, include as custom fonts all the theme fonts\n\t\t// We want to save as active all the theme fonts at the beginning\n\t\tconst initialCustomFonts = fontFamilies?.[ font.source ?? '' ] ?? [];\n\t\tconst newCustomFonts = initialCustomFonts.filter(\n\t\t\t( f ) => f.slug !== font.slug\n\t\t);\n\t\tconst activeFonts = {\n\t\t\t...fontFamilies,\n\t\t\t[ font.source ?? '' ]: newCustomFonts,\n\t\t};\n\t\tsetFontFamilies( activeFonts );\n\n\t\tif ( font.fontFace ) {\n\t\t\tfont.fontFace.forEach( ( face ) => {\n\t\t\t\tunloadFontFaceInBrowser( face, 'all' );\n\t\t\t} );\n\t\t}\n\t\treturn activeFonts;\n\t};\n\n\tconst activateCustomFontFamilies = ( fontsToAdd: FontFamily[] ) => {\n\t\tconst fontsToActivate = cleanFontsForSave( fontsToAdd );\n\n\t\tconst activeFonts = {\n\t\t\t...fontFamilies,\n\t\t\t// Merge the existing custom fonts with the new fonts.\n\t\t\tcustom: mergeFontFamilies( fontFamilies?.custom, fontsToActivate ),\n\t\t};\n\n\t\t// Activate the fonts by set the new custom fonts array.\n\t\tsetFontFamilies( activeFonts );\n\n\t\tloadFontsInBrowser( fontsToActivate );\n\n\t\treturn activeFonts;\n\t};\n\n\t// Removes the id from the families and faces to avoid saving that to global styles post content.\n\tconst cleanFontsForSave = ( fonts: FontFamily[] ) => {\n\t\treturn fonts.map( ( { id: _familyDbId, fontFace, ...font } ) => ( {\n\t\t\t...font,\n\t\t\t...( fontFace && fontFace.length > 0\n\t\t\t\t? {\n\t\t\t\t\t\tfontFace: fontFace.map(\n\t\t\t\t\t\t\t( { id: _faceDbId, ...face } ) => face\n\t\t\t\t\t\t),\n\t\t\t\t  }\n\t\t\t\t: {} ),\n\t\t} ) );\n\t};\n\n\tconst loadFontsInBrowser = ( fonts: FontFamily[] ) => {\n\t\t// Add custom fonts to the browser.\n\t\tfonts.forEach( ( font ) => {\n\t\t\tif ( font.fontFace ) {\n\t\t\t\tfont.fontFace.forEach( ( face ) => {\n\t\t\t\t\tconst displaySrc = getDisplaySrcFromFontFace(\n\t\t\t\t\t\tface?.src ?? ''\n\t\t\t\t\t);\n\t\t\t\t\tif ( displaySrc ) {\n\t\t\t\t\t\t// Load font faces just in the iframe because they already are in the document.\n\t\t\t\t\t\tloadFontFaceInBrowser( face, displaySrc, 'all' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t};\n\n\tconst toggleActivateFont = ( font: FontFamily, face?: FontFace ) => {\n\t\t// If the user doesn't have custom fonts defined, include as custom fonts all the theme fonts\n\t\t// We want to save as active all the theme fonts at the beginning\n\t\tconst initialFonts = fontFamilies?.[ font.source ?? '' ] ?? [];\n\t\t// Toggles the received font family or font face\n\t\tconst newFonts = toggleFont( font, face, initialFonts );\n\t\t// Updates the font families activated in global settings:\n\t\tsetFontFamilies( {\n\t\t\t...fontFamilies,\n\t\t\t[ font.source ?? '' ]: newFonts,\n\t\t} );\n\n\t\tconst isFaceActivated = isFontActivated(\n\t\t\tfont.slug,\n\t\t\tface?.fontStyle ?? '',\n\t\t\tface?.fontWeight ?? '',\n\t\t\tfont.source ?? 'custom'\n\t\t);\n\n\t\tif ( face && isFaceActivated ) {\n\t\t\tunloadFontFaceInBrowser( face, 'all' );\n\t\t} else {\n\t\t\tconst displaySrc = getDisplaySrcFromFontFace( face?.src ?? '' );\n\t\t\t// If the font doesn't have a src, don't load it.\n\t\t\tif ( face && displaySrc ) {\n\t\t\t\tloadFontFaceInBrowser( face, displaySrc, 'all' );\n\t\t\t}\n\t\t}\n\t};\n\n\tconst loadFontFaceAsset = async ( fontFace: FontFace ) => {\n\t\t// If the font doesn't have a src, don't load it.\n\t\tif ( ! fontFace.src ) {\n\t\t\treturn;\n\t\t}\n\t\t// Get the src of the font.\n\t\tconst src = getDisplaySrcFromFontFace( fontFace.src );\n\t\t// If the font is already loaded, don't load it again.\n\t\tif ( ! src || loadedFontUrls.has( src ) ) {\n\t\t\treturn;\n\t\t}\n\t\t// Load the font in the browser.\n\t\tloadFontFaceInBrowser( fontFace, src, 'document' );\n\t\t// Add the font to the loaded fonts list.\n\t\tloadedFontUrls.add( src );\n\t};\n\n\treturn (\n\t\t<FontLibraryContext.Provider\n\t\t\tvalue={ {\n\t\t\t\tlibraryFontSelected,\n\t\t\t\thandleSetLibraryFontSelected,\n\t\t\t\tfontFamilies: fontFamilies ?? {},\n\t\t\t\tbaseCustomFonts,\n\t\t\t\tisFontActivated,\n\t\t\t\tgetFontFacesActivated,\n\t\t\t\tloadFontFaceAsset,\n\t\t\t\tinstallFonts,\n\t\t\t\tuninstallFontFamily,\n\t\t\t\ttoggleActivateFont,\n\t\t\t\tgetAvailableFontsOutline,\n\t\t\t\tmodalTabOpen,\n\t\t\t\tsetModalTabOpen,\n\t\t\t\tsaveFontFamilies,\n\t\t\t\tisResolvingLibrary,\n\t\t\t\tisInstalling,\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</FontLibraryContext.Provider>\n\t);\n}\n\nexport default FontLibraryProvider;\n", "/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport type {\n\tCollectionFontFace,\n\tCollectionFontFamily,\n\tFontFace,\n} from '@wordpress/core-data';\nimport type { DataRegistry } from '@wordpress/data';\n\nconst FONT_FAMILIES_URL = '/wp/v2/font-families';\n\n/**\n * Invalidates the cache for font family queries.\n * This should be called after installing fonts\n * to ensure the UI reflects the latest state.\n *\n * @param registry The data registry to use for dispatching actions.\n */\nfunction invalidateFontFamilyCache( registry: DataRegistry ) {\n\tconst { receiveEntityRecords } = registry.dispatch( coreDataStore );\n\n\t// Invalidate all font family queries\n\t// Ideally there should be a dedicated action to do this\n\t// \"invalide all cacches for this entity type\"\n\treceiveEntityRecords(\n\t\t'postType',\n\t\t'wp_font_family',\n\t\t[],\n\t\tundefined,\n\t\ttrue // invalidateCache\n\t);\n}\n\nexport async function fetchInstallFontFamily(\n\tdata: FormData,\n\tregistry: DataRegistry\n) {\n\tconst config = {\n\t\tpath: FONT_FAMILIES_URL,\n\t\tmethod: 'POST',\n\t\tbody: data,\n\t};\n\tconst response: CollectionFontFamily = await apiFetch( config );\n\tinvalidateFontFamilyCache( registry );\n\n\treturn {\n\t\tid: response.id as string,\n\t\t...response.font_family_settings,\n\t\tfontFace: [],\n\t};\n}\n\nexport async function fetchInstallFontFace(\n\tfontFamilyId: string,\n\tdata: FormData,\n\tregistry: DataRegistry\n): Promise< FontFace > {\n\tconst config = {\n\t\tpath: `${ FONT_FAMILIES_URL }/${ fontFamilyId }/font-faces`,\n\t\tmethod: 'POST',\n\t\tbody: data,\n\t};\n\tconst response = ( await apiFetch( config ) ) as CollectionFontFace;\n\tinvalidateFontFamilyCache( registry );\n\treturn {\n\t\tid: response.id,\n\t\t...response.font_face_settings,\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\nimport type { FontFamily, FontFace } from '@wordpress/core-data';\nimport type { DataRegistry } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { FONT_WEIGHTS, FONT_STYLES } from './constants';\nimport { fetchInstallFontFace } from '../api';\nimport { formatFontFaceName } from './preview-styles';\nimport type { FontFamilyToUpload, FontUploadResult } from '../types';\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Browser dependencies\n */\nconst { File } = window;\nconst { kebabCase } = unlock( componentsPrivateApis );\n\nexport function setUIValuesNeeded(\n\tfont: FontFamily,\n\textraValues: Partial< FontFamily > = {}\n): FontFamily {\n\tif ( ! font.name && ( font.fontFamily || font.slug ) ) {\n\t\tfont.name = font.fontFamily || font.slug;\n\t}\n\treturn {\n\t\t...font,\n\t\t...extraValues,\n\t};\n}\n\nexport function isUrlEncoded( url: string ): boolean {\n\tif ( typeof url !== 'string' ) {\n\t\treturn false;\n\t}\n\treturn url !== decodeURIComponent( url );\n}\n\nexport function getFontFaceVariantName( face: FontFace ): string {\n\tconst weightName = FONT_WEIGHTS[ face.fontWeight ?? '' ] || face.fontWeight;\n\tconst styleName =\n\t\tface.fontStyle === 'normal'\n\t\t\t? ''\n\t\t\t: FONT_STYLES[ face.fontStyle ?? '' ] || face.fontStyle;\n\treturn `${ weightName } ${ styleName }`;\n}\n\nexport function mergeFontFaces(\n\texisting: FontFace[] = [],\n\tincoming: FontFace[] = []\n): FontFace[] {\n\tconst map = new Map();\n\tfor ( const face of existing ) {\n\t\tmap.set( `${ face.fontWeight }${ face.fontStyle }`, face );\n\t}\n\tfor ( const face of incoming ) {\n\t\t// This will overwrite if the src already exists, keeping it unique.\n\t\tmap.set( `${ face.fontWeight }${ face.fontStyle }`, face );\n\t}\n\treturn Array.from( map.values() );\n}\n\nexport function mergeFontFamilies(\n\texisting: FontFamily[] = [],\n\tincoming: FontFamily[] = []\n): FontFamily[] {\n\tconst map = new Map();\n\t// Add the existing array to the map.\n\tfor ( const font of existing ) {\n\t\tmap.set( font.slug, { ...font } );\n\t}\n\t// Add the incoming array to the map, overwriting existing values excepting fontFace that need to be merged.\n\tfor ( const font of incoming ) {\n\t\tif ( map.has( font.slug ) ) {\n\t\t\tconst { fontFace: incomingFontFaces, ...restIncoming } = font;\n\t\t\tconst existingFont = map.get( font.slug );\n\t\t\t// Merge the fontFaces existing with the incoming fontFaces.\n\t\t\tconst mergedFontFaces = mergeFontFaces(\n\t\t\t\texistingFont.fontFace,\n\t\t\t\tincomingFontFaces\n\t\t\t);\n\t\t\t// Except for the fontFace key all the other keys are overwritten with the incoming values.\n\t\t\tmap.set( font.slug, {\n\t\t\t\t...restIncoming,\n\t\t\t\tfontFace: mergedFontFaces,\n\t\t\t} );\n\t\t} else {\n\t\t\tmap.set( font.slug, { ...font } );\n\t\t}\n\t}\n\treturn Array.from( map.values() );\n}\n\n/*\n * Loads the font face from a URL and adds it to the browser.\n * It also adds it to the iframe document.\n */\nexport async function loadFontFaceInBrowser(\n\tfontFace: FontFace,\n\tsource: string | File,\n\taddTo: 'all' | 'document' | 'iframe' = 'all'\n): Promise< void > {\n\tlet dataSource;\n\n\tif ( typeof source === 'string' ) {\n\t\tdataSource = `url(${ source })`;\n\t} else if ( source instanceof File ) {\n\t\tdataSource = await source.arrayBuffer();\n\t} else {\n\t\treturn;\n\t}\n\n\tconst newFont = new window.FontFace(\n\t\tformatFontFaceName( fontFace.fontFamily ),\n\t\tdataSource,\n\t\t{\n\t\t\tstyle: fontFace.fontStyle,\n\t\t\tweight: String( fontFace.fontWeight ),\n\t\t}\n\t);\n\n\tconst loadedFace = await newFont.load();\n\n\tif ( addTo === 'document' || addTo === 'all' ) {\n\t\tdocument.fonts.add( loadedFace );\n\t}\n\n\tif ( addTo === 'iframe' || addTo === 'all' ) {\n\t\tconst iframe = document.querySelector(\n\t\t\t'iframe[name=\"editor-canvas\"]'\n\t\t) as HTMLIFrameElement;\n\t\tif ( iframe?.contentDocument ) {\n\t\t\tiframe.contentDocument.fonts.add( loadedFace );\n\t\t}\n\t}\n}\n\n/*\n * Unloads the font face and remove it from the browser.\n * It also removes it from the iframe document.\n *\n * Note that Font faces that were added to the set using the CSS @font-face rule\n * remain connected to the corresponding CSS, and cannot be deleted.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/delete.\n */\nexport function unloadFontFaceInBrowser(\n\tfontFace: FontFace,\n\tremoveFrom: 'all' | 'document' | 'iframe' = 'all'\n): void {\n\tconst unloadFontFace = ( fonts: FontFaceSet ) => {\n\t\tfonts.forEach( ( f ) => {\n\t\t\tif (\n\t\t\t\tf.family === formatFontFaceName( fontFace?.fontFamily ) &&\n\t\t\t\tf.weight === fontFace?.fontWeight &&\n\t\t\t\tf.style === fontFace?.fontStyle\n\t\t\t) {\n\t\t\t\tfonts.delete( f );\n\t\t\t}\n\t\t} );\n\t};\n\n\tif ( removeFrom === 'document' || removeFrom === 'all' ) {\n\t\tunloadFontFace( document.fonts );\n\t}\n\n\tif ( removeFrom === 'iframe' || removeFrom === 'all' ) {\n\t\tconst iframe = document.querySelector(\n\t\t\t'iframe[name=\"editor-canvas\"]'\n\t\t) as HTMLIFrameElement;\n\t\tif ( iframe?.contentDocument ) {\n\t\t\tunloadFontFace( iframe.contentDocument.fonts );\n\t\t}\n\t}\n}\n\n/**\n * Retrieves the display source from a font face src.\n *\n * @param {string|string[]} input - The font face src.\n * @return {string|undefined} The display source or undefined if the input is invalid.\n */\nexport function getDisplaySrcFromFontFace(\n\tinput: string | string[]\n): string | undefined {\n\tif ( ! input ) {\n\t\treturn;\n\t}\n\n\tlet src;\n\tif ( Array.isArray( input ) ) {\n\t\tsrc = input[ 0 ];\n\t} else {\n\t\tsrc = input;\n\t}\n\t// It's expected theme fonts will already be loaded in the browser.\n\tif ( src.startsWith( 'file:.' ) ) {\n\t\treturn;\n\t}\n\tif ( ! isUrlEncoded( src ) ) {\n\t\tsrc = encodeURI( src );\n\t}\n\treturn src;\n}\n\nexport function makeFontFamilyFormData( fontFamily: FontFamily ): FormData {\n\tconst formData = new FormData();\n\n\tconst { fontFace, category, ...familyWithValidParameters } = fontFamily;\n\tconst fontFamilySettings = {\n\t\t...familyWithValidParameters,\n\t\tslug: kebabCase( fontFamily.slug ),\n\t};\n\n\tformData.append(\n\t\t'font_family_settings',\n\t\tJSON.stringify( fontFamilySettings )\n\t);\n\treturn formData;\n}\n\nexport function makeFontFacesFormData( font: FontFamilyToUpload ): FormData[] {\n\tconst fontFacesFormData = ( font?.fontFace ?? [] ).map(\n\t\t( item, faceIndex ) => {\n\t\t\tconst face = { ...item };\n\t\t\tconst formData = new FormData();\n\t\t\tif ( face.file ) {\n\t\t\t\t// Normalize to an array, since face.file may be a single file or an array of files.\n\t\t\t\tconst files = Array.isArray( face.file )\n\t\t\t\t\t? face.file\n\t\t\t\t\t: [ face.file ];\n\t\t\t\tconst src: string[] = [];\n\n\t\t\t\tfiles.forEach( ( file, key ) => {\n\t\t\t\t\t// Slugified file name because the it might contain spaces or characters treated differently on the server.\n\t\t\t\t\tconst fileId = `file-${ faceIndex }-${ key }`;\n\t\t\t\t\t// Add the files to the formData\n\t\t\t\t\tformData.append( fileId, file, file.name );\n\t\t\t\t\tsrc.push( fileId );\n\t\t\t\t} );\n\n\t\t\t\tface.src = src.length === 1 ? src[ 0 ] : src;\n\t\t\t\tdelete face.file;\n\n\t\t\t\tformData.append( 'font_face_settings', JSON.stringify( face ) );\n\t\t\t} else {\n\t\t\t\tformData.append( 'font_face_settings', JSON.stringify( face ) );\n\t\t\t}\n\t\t\treturn formData;\n\t\t}\n\t);\n\n\treturn fontFacesFormData;\n}\n\nexport async function batchInstallFontFaces(\n\tfontFamilyId: string,\n\tfontFacesData: FormData[],\n\tregistry: DataRegistry\n): Promise< FontUploadResult > {\n\tconst responses: {\n\t\tstatus: 'fulfilled' | 'rejected';\n\t\tvalue?: FontFace;\n\t\treason?: Error;\n\t}[] = [];\n\n\t/*\n\t * Uses the same response format as Promise.allSettled, but executes requests in sequence to work\n\t * around a race condition that can cause an error when the fonts directory doesn't exist yet.\n\t */\n\tfor ( const faceData of fontFacesData ) {\n\t\ttry {\n\t\t\tconst response = await fetchInstallFontFace(\n\t\t\t\tfontFamilyId,\n\t\t\t\tfaceData,\n\t\t\t\tregistry\n\t\t\t);\n\t\t\tresponses.push( { status: 'fulfilled', value: response } );\n\t\t} catch ( error ) {\n\t\t\tresponses.push( { status: 'rejected', reason: error as Error } );\n\t\t}\n\t}\n\n\tconst results: {\n\t\tsuccesses: FontFace[];\n\t\terrors: Array< {\n\t\t\tdata: FormData;\n\t\t\tmessage: string;\n\t\t} >;\n\t} = {\n\t\terrors: [],\n\t\tsuccesses: [],\n\t};\n\n\tresponses.forEach( ( result, index ) => {\n\t\tif ( result.status === 'fulfilled' && result.value ) {\n\t\t\tconst response = result.value;\n\t\t\tresults.successes.push( response );\n\t\t} else if ( result.reason ) {\n\t\t\t// Handle network errors or other fetch-related errors\n\t\t\tresults.errors.push( {\n\t\t\t\tdata: fontFacesData[ index ],\n\t\t\t\tmessage: result.reason.message,\n\t\t\t} );\n\t\t}\n\t} );\n\n\treturn results;\n}\n\n/*\n * Downloads a font face asset from a URL to the client and returns a File object.\n */\nexport async function downloadFontFaceAssets(\n\tsrc: string | string[]\n): Promise< File | File[] > {\n\t// Normalize to an array, since `src` could be a string or array.\n\tsrc = Array.isArray( src ) ? src : [ src ];\n\n\tconst files = await Promise.all(\n\t\tsrc.map( async ( url ) => {\n\t\t\treturn fetch( new Request( url ) )\n\t\t\t\t.then( ( response ) => {\n\t\t\t\t\tif ( ! response.ok ) {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`Error downloading font face asset from ${ url }. Server responded with status: ${ response.status }`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn response.blob();\n\t\t\t\t} )\n\t\t\t\t.then( ( blob ) => {\n\t\t\t\t\tconst filename = url.split( '/' ).pop() as string;\n\t\t\t\t\tconst file = new File( [ blob ], filename, {\n\t\t\t\t\t\ttype: blob.type,\n\t\t\t\t\t} );\n\t\t\t\t\treturn file;\n\t\t\t\t} );\n\t\t} )\n\t);\n\n\t// If we only have one file return it (not the array).  Otherwise return all of them in the array.\n\treturn files.length === 1 ? files[ 0 ] : files;\n}\n\n/*\n * Determine if a given Font Face is present in a given collection.\n * We determine that a font face has been installed by comparing the fontWeight and fontStyle\n *\n * @param {Object} fontFace The Font Face to seek\n * @param {Array} collection The Collection to seek in\n * @returns True if the font face is found in the collection.  Otherwise False.\n */\nexport function checkFontFaceInstalled(\n\tfontFace: FontFace,\n\tcollection: FontFace[]\n): boolean {\n\treturn (\n\t\t-1 !==\n\t\tcollection.findIndex( ( collectionFontFace ) => {\n\t\t\treturn (\n\t\t\t\tcollectionFontFace.fontWeight === fontFace.fontWeight &&\n\t\t\t\tcollectionFontFace.fontStyle === fontFace.fontStyle\n\t\t\t);\n\t\t} )\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\n\nexport const ALLOWED_FILE_EXTENSIONS = [ 'otf', 'ttf', 'woff', 'woff2' ];\n\nexport const FONT_WEIGHTS: Record< string, string > = {\n\t100: _x( 'Thin', 'font weight' ),\n\t200: _x( 'Extra-light', 'font weight' ),\n\t300: _x( 'Light', 'font weight' ),\n\t400: _x( 'Normal', 'font weight' ),\n\t500: _x( 'Medium', 'font weight' ),\n\t600: _x( 'Semi-bold', 'font weight' ),\n\t700: _x( 'Bold', 'font weight' ),\n\t800: _x( 'Extra-bold', 'font weight' ),\n\t900: _x( 'Black', 'font weight' ),\n};\n\nexport const FONT_STYLES: Record< string, string > = {\n\tnormal: _x( 'Normal', 'font style' ),\n\titalic: _x( 'Italic', 'font style' ),\n};\n", "/**\n * Immutably sets a value inside an object. Like `lodash#set`, but returning a\n * new object. Treats nullish initial values as empty objects. Clones any\n * nested objects. Supports arrays, too.\n * Duplicated from `packages/global-styles-engine/src/utils/object.ts`\n *\n * @param object Object to set a value in.\n * @param path   Path in the object to modify.\n * @param value  New value to set.\n * @return Cloned object with the new value set.\n */\nexport function setImmutably(\n\tobject: Object,\n\tpath: string | number | ( string | number )[],\n\tvalue: any\n) {\n\t// Normalize path\n\tpath = Array.isArray( path ) ? [ ...path ] : [ path ];\n\n\t// Shallowly clone the base of the object\n\tobject = Array.isArray( object ) ? [ ...object ] : { ...object };\n\n\tconst leaf = path.pop();\n\n\t// Traverse object from root to leaf, shallowly cloning at each level\n\tlet prev = object;\n\tfor ( const key of path ) {\n\t\t// @ts-expect-error\n\t\tconst lvl = prev[ key ];\n\t\t// @ts-expect-error\n\t\tprev = prev[ key ] = Array.isArray( lvl ) ? [ ...lvl ] : { ...lvl };\n\t}\n\t// @ts-expect-error\n\tprev[ leaf ] = value;\n\n\treturn object;\n}\n", "/**\n * Toggles the activation of a given font or font variant within a list of custom fonts.\n *\n * - If only the font is provided (without face), the entire font family's activation is toggled.\n * - If both font and face are provided, the activation of the specific font variant is toggled.\n *\n * @param {Object} font            - The font to be toggled.\n * @param {string} font.slug       - The unique identifier for the font.\n * @param {Array}  [font.fontFace] - The list of font variants (faces) associated with the font.\n *\n * @param {Object} [face]          - The specific font variant to be toggled.\n * @param {string} face.fontWeight - The weight of the font variant.\n * @param {string} face.fontStyle  - The style of the font variant.\n *\n * @param {Array}  initialfonts    - The initial list of custom fonts.\n *\n * @return {Array} - The updated list of custom fonts with the font/font variant toggled.\n *\n * @example\n * const customFonts = [\n *     { slug: 'roboto', fontFace: [{ fontWeight: '400', fontStyle: 'normal' }] }\n * ];\n *\n * toggleFont({ slug: 'roboto' }, null, customFonts);\n * // This will remove 'roboto' from customFonts\n *\n * toggleFont({ slug: 'roboto' }, { fontWeight: '400', fontStyle: 'normal' }, customFonts);\n * // This will remove the specified face from 'roboto' in customFonts\n *\n * toggleFont({ slug: 'roboto' }, { fontWeight: '500', fontStyle: 'normal' }, customFonts);\n * // This will add the specified face to 'roboto' in customFonts\n */\n/**\n * WordPress dependencies\n */\nimport type { FontFamily, FontFace } from '@wordpress/core-data';\n\nexport function toggleFont(\n\tfont: FontFamily,\n\tface?: FontFace,\n\tinitialfonts: FontFamily[] = []\n): FontFamily[] {\n\t// Helper to check if a font is activated based on its slug\n\tconst isFontActivated = ( f: FontFamily ): boolean => f.slug === font.slug;\n\n\t// Helper to get the activated font from a list of fonts\n\tconst getActivatedFont = ( fonts: FontFamily[] ): FontFamily | undefined =>\n\t\tfonts.find( isFontActivated );\n\n\t// Toggle the activation status of an entire font family\n\tconst toggleEntireFontFamily = (\n\t\tactivatedFont: FontFamily | undefined\n\t): FontFamily[] => {\n\t\tif ( ! activatedFont ) {\n\t\t\t// If the font is not active, activate the entire font family\n\t\t\treturn [ ...initialfonts, font ];\n\t\t}\n\t\t// If the font is already active, deactivate the entire font family\n\t\treturn initialfonts.filter(\n\t\t\t( f: FontFamily ) => ! isFontActivated( f )\n\t\t);\n\t};\n\n\t// Toggle the activation status of a specific font variant\n\tconst toggleFontVariant = (\n\t\tactivatedFont: FontFamily | undefined\n\t): FontFamily[] => {\n\t\tconst isFaceActivated = ( f: FontFace ): boolean =>\n\t\t\tf.fontWeight === face!.fontWeight &&\n\t\t\tf.fontStyle === face!.fontStyle;\n\n\t\tif ( ! activatedFont ) {\n\t\t\t// If the font family is not active, activate the font family with the font variant\n\t\t\treturn [ ...initialfonts, { ...font, fontFace: [ face! ] } ];\n\t\t}\n\n\t\tlet newFontFaces = activatedFont.fontFace || [];\n\n\t\tif ( newFontFaces.find( isFaceActivated ) ) {\n\t\t\t// If the font variant is active, deactivate it\n\t\t\tnewFontFaces = newFontFaces.filter(\n\t\t\t\t( f: FontFace ) => ! isFaceActivated( f )\n\t\t\t);\n\t\t} else {\n\t\t\t// If the font variant is not active, activate it\n\t\t\tnewFontFaces = [ ...newFontFaces, face! ];\n\t\t}\n\n\t\t// If there are no more font faces, deactivate the font family\n\t\tif ( newFontFaces.length === 0 ) {\n\t\t\treturn initialfonts.filter(\n\t\t\t\t( f: FontFamily ) => ! isFontActivated( f )\n\t\t\t);\n\t\t}\n\n\t\t// Return updated fonts list with toggled font variant\n\t\treturn initialfonts.map( ( f: FontFamily ) =>\n\t\t\tisFontActivated( f ) ? { ...f, fontFace: newFontFaces } : f\n\t\t);\n\t};\n\n\tconst activatedFont = getActivatedFont( initialfonts );\n\n\tif ( ! face ) {\n\t\treturn toggleEntireFontFamily( activatedFont );\n\t}\n\n\treturn toggleFontVariant( activatedFont );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tModal,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { store as coreStore, useEntityRecords } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport type { FontCollection as FontCollectionType } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport InstalledFonts from './installed-fonts';\nimport FontCollection from './font-collection';\nimport UploadFonts from './upload-fonts';\nimport { unlock } from '../lock-unlock';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nconst DEFAULT_TAB = {\n\tid: 'installed-fonts',\n\ttitle: _x( 'Library', 'Font library' ),\n};\n\nconst UPLOAD_TAB = {\n\tid: 'upload-fonts',\n\ttitle: _x( 'Upload', 'noun' ),\n};\n\nconst tabsFromCollections = ( collections: FontCollectionType[] ) =>\n\tcollections.map( ( { slug, name } ) => ( {\n\t\tid: slug,\n\t\ttitle:\n\t\t\tcollections.length === 1 && slug === 'google-fonts'\n\t\t\t\t? __( 'Install Fonts' )\n\t\t\t\t: name,\n\t} ) );\n\nfunction FontLibraryModal( {\n\tonRequestClose,\n\tdefaultTabId = 'installed-fonts',\n}: {\n\tonRequestClose: () => void;\n\tdefaultTabId?: string;\n} ) {\n\tconst { records: collections = [] } =\n\t\tuseEntityRecords< FontCollectionType >( 'root', 'fontCollection', {\n\t\t\t_fields: 'slug,name,description',\n\t\t} );\n\tconst canUserCreate = useSelect( ( select ) => {\n\t\treturn select( coreStore ).canUser( 'create', {\n\t\t\tkind: 'postType',\n\t\t\tname: 'wp_font_family',\n\t\t} );\n\t}, [] );\n\n\tconst tabs: { id: string; title: string }[] = [ DEFAULT_TAB ];\n\n\tif ( canUserCreate ) {\n\t\ttabs.push( UPLOAD_TAB );\n\t\ttabs.push( ...tabsFromCollections( collections || [] ) );\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Fonts' ) }\n\t\t\tonRequestClose={ onRequestClose }\n\t\t\tisFullScreen\n\t\t\tclassName=\"font-library-modal\"\n\t\t>\n\t\t\t<Tabs defaultTabId={ defaultTabId }>\n\t\t\t\t<div className=\"font-library-modal__tablist-container\">\n\t\t\t\t\t<Tabs.TabList>\n\t\t\t\t\t\t{ tabs.map( ( { id, title } ) => (\n\t\t\t\t\t\t\t<Tabs.Tab key={ id } tabId={ id }>\n\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t</Tabs.Tab>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</Tabs.TabList>\n\t\t\t\t</div>\n\t\t\t\t{ tabs.map( ( { id } ) => {\n\t\t\t\t\tlet contents;\n\t\t\t\t\tswitch ( id ) {\n\t\t\t\t\t\tcase 'upload-fonts':\n\t\t\t\t\t\t\tcontents = <UploadFonts />;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'installed-fonts':\n\t\t\t\t\t\t\tcontents = <InstalledFonts />;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcontents = <FontCollection slug={ id } />;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tabs.TabPanel\n\t\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\t\ttabId={ id }\n\t\t\t\t\t\t\tfocusable={ false }\n\t\t\t\t\t\t\tclassName=\"font-library-modal__tab-panel\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ contents }\n\t\t\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</Tabs>\n\t\t</Modal>\n\t);\n}\n\nexport default FontLibraryModal;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalConfirmDialog as ConfirmDialog,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\tNavigator,\n\tuseNavigator,\n\t__experimentalSpacer as Spacer,\n\t__experimentalText as Text,\n\t__experimentalVStack as VStack,\n\tFlex,\n\tNotice,\n\tProgressBar,\n\tCheckboxControl,\n} from '@wordpress/components';\nimport { useEntityRecord, store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useContext, useEffect, useState } from '@wordpress/element';\nimport { __, _x, sprintf, isRTL } from '@wordpress/i18n';\nimport { chevronLeft, chevronRight } from '@wordpress/icons';\nimport type {\n\tFontFamilyPreset,\n\tGlobalStylesConfig,\n} from '@wordpress/global-styles-engine';\nimport type { FontFamily } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { FontLibraryContext } from './context';\nimport FontCard from './font-card';\nimport LibraryFontVariant from './library-font-variant';\nimport { sortFontFaces } from './utils/sort-font-faces';\nimport {\n\tsetUIValuesNeeded,\n\tloadFontFaceInBrowser,\n\tunloadFontFaceInBrowser,\n\tgetDisplaySrcFromFontFace,\n} from './utils';\nimport { useSetting } from '../hooks';\n\nfunction InstalledFonts() {\n\tconst {\n\t\tbaseCustomFonts,\n\t\tlibraryFontSelected,\n\t\thandleSetLibraryFontSelected,\n\t\tuninstallFontFamily,\n\t\tisResolvingLibrary,\n\t\tisInstalling,\n\t\tsaveFontFamilies,\n\t\tgetFontFacesActivated,\n\t} = useContext( FontLibraryContext );\n\n\tconst [ fontFamilies, setFontFamilies ] = useSetting<\n\t\tRecord< string, FontFamilyPreset[] > | undefined\n\t>( 'typography.fontFamilies' );\n\tconst [ isConfirmDeleteOpen, setIsConfirmDeleteOpen ] =\n\t\tuseState< boolean >( false );\n\tconst [ notice, setNotice ] = useState< {\n\t\ttype: 'success' | 'error' | 'info';\n\t\tmessage: string;\n\t} | null >( null );\n\tconst [ baseFontFamilies ] = useSetting<\n\t\tRecord< string, FontFamilyPreset[] > | undefined\n\t>( 'typography.fontFamilies', undefined, 'base' );\n\tconst globalStylesId = useSelect( ( select ) => {\n\t\tconst { __experimentalGetCurrentGlobalStylesId } = select( coreStore );\n\t\treturn __experimentalGetCurrentGlobalStylesId();\n\t}, [] );\n\tconst globalStyles = useEntityRecord< GlobalStylesConfig >(\n\t\t'root',\n\t\t'globalStyles',\n\t\tglobalStylesId\n\t);\n\tconst fontFamiliesHasChanges =\n\t\t!! globalStyles?.edits?.settings?.typography?.fontFamilies;\n\n\tconst themeFonts = fontFamilies?.theme\n\t\t? fontFamilies.theme\n\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'theme' } ) )\n\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t: [];\n\tconst themeFontsSlugs = new Set( themeFonts.map( ( f ) => f.slug ) );\n\tconst baseThemeFonts = baseFontFamilies?.theme\n\t\t? themeFonts.concat(\n\t\t\t\tbaseFontFamilies.theme\n\t\t\t\t\t.filter( ( f ) => ! themeFontsSlugs.has( f.slug ) )\n\t\t\t\t\t.map( ( f ) => setUIValuesNeeded( f, { source: 'theme' } ) )\n\t\t\t\t\t.sort( ( a, b ) => a.name.localeCompare( b.name ) )\n\t\t  )\n\t\t: [];\n\n\tconst customFontFamilyId =\n\t\tlibraryFontSelected?.source === 'custom' && libraryFontSelected?.id;\n\n\tconst canUserDelete = useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser } = select( coreStore );\n\t\t\treturn (\n\t\t\t\tcustomFontFamilyId &&\n\t\t\t\tcanUser( 'delete', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: 'wp_font_family',\n\t\t\t\t\tid: customFontFamilyId,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ customFontFamilyId ]\n\t);\n\n\tconst shouldDisplayDeleteButton =\n\t\t!! libraryFontSelected &&\n\t\tlibraryFontSelected?.source !== 'theme' &&\n\t\tcanUserDelete;\n\n\tconst handleUninstallClick = () => {\n\t\tsetIsConfirmDeleteOpen( true );\n\t};\n\n\tconst handleUpdate = async () => {\n\t\tsetNotice( null );\n\t\ttry {\n\t\t\tawait saveFontFamilies( fontFamilies );\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: __( 'Font family updated successfully.' ),\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage: sprintf(\n\t\t\t\t\t/* translators: %s: error message */\n\t\t\t\t\t__( 'There was an error updating the font family. %s' ),\n\t\t\t\t\t( error as Error ).message\n\t\t\t\t),\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst getFontFacesToDisplay = ( font: FontFamily ) => {\n\t\tif ( ! font ) {\n\t\t\treturn [];\n\t\t}\n\t\tif ( ! font.fontFace || ! font.fontFace.length ) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tfontFamily: font.fontFamily,\n\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\tfontWeight: '400',\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t\treturn sortFontFaces( font.fontFace );\n\t};\n\n\tconst getFontCardVariantsText = ( font: FontFamily ) => {\n\t\tconst variantsInstalled =\n\t\t\tfont?.fontFace && ( font?.fontFace?.length ?? 0 ) > 0\n\t\t\t\t? font.fontFace.length\n\t\t\t\t: 1;\n\t\tconst variantsActive = getFontFacesActivated(\n\t\t\tfont.slug,\n\t\t\tfont.source\n\t\t).length;\n\t\treturn sprintf(\n\t\t\t/* translators: 1: Active font variants, 2: Total font variants. */\n\t\t\t__( '%1$d/%2$d variants active' ),\n\t\t\tvariantsActive,\n\t\t\tvariantsInstalled\n\t\t);\n\t};\n\n\tuseEffect( () => {\n\t\thandleSetLibraryFontSelected( libraryFontSelected );\n\t}, [] );\n\n\t// Get activated fonts count.\n\tconst activeFontsCount = libraryFontSelected\n\t\t? getFontFacesActivated(\n\t\t\t\tlibraryFontSelected.slug,\n\t\t\t\tlibraryFontSelected.source\n\t\t  ).length\n\t\t: 0;\n\n\tconst selectedFontsCount =\n\t\tlibraryFontSelected?.fontFace?.length ??\n\t\t( libraryFontSelected?.fontFamily ? 1 : 0 );\n\n\t// Check if any fonts are selected.\n\tconst isIndeterminate =\n\t\tactiveFontsCount > 0 && activeFontsCount !== selectedFontsCount;\n\n\t// Check if all fonts are selected.\n\tconst isSelectAllChecked = activeFontsCount === selectedFontsCount;\n\n\t// Toggle select all fonts.\n\tconst toggleSelectAll = () => {\n\t\tif ( ! libraryFontSelected || ! libraryFontSelected?.source ) {\n\t\t\treturn;\n\t\t}\n\t\tconst initialFonts =\n\t\t\tfontFamilies?.[ libraryFontSelected.source ]?.filter(\n\t\t\t\t( f ) => f.slug !== libraryFontSelected.slug\n\t\t\t) ?? [];\n\t\tconst newFonts = isSelectAllChecked\n\t\t\t? initialFonts\n\t\t\t: [ ...initialFonts, libraryFontSelected ];\n\n\t\tsetFontFamilies( {\n\t\t\t...fontFamilies,\n\t\t\t[ libraryFontSelected.source ]: newFonts,\n\t\t} );\n\n\t\tif ( libraryFontSelected.fontFace ) {\n\t\t\tlibraryFontSelected.fontFace.forEach( ( face ) => {\n\t\t\t\tif ( isSelectAllChecked ) {\n\t\t\t\t\tunloadFontFaceInBrowser( face, 'all' );\n\t\t\t\t} else {\n\t\t\t\t\tconst displaySrc = getDisplaySrcFromFontFace(\n\t\t\t\t\t\tface?.src ?? ''\n\t\t\t\t\t);\n\t\t\t\t\tif ( displaySrc ) {\n\t\t\t\t\t\tloadFontFaceInBrowser( face, displaySrc, 'all' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst hasFonts = baseThemeFonts.length > 0 || baseCustomFonts.length > 0;\n\treturn (\n\t\t<div className=\"font-library__tabpanel-layout\">\n\t\t\t{ isResolvingLibrary && (\n\t\t\t\t<div className=\"font-library__loading\">\n\t\t\t\t\t<ProgressBar />\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ! isResolvingLibrary && (\n\t\t\t\t<>\n\t\t\t\t\t<Navigator\n\t\t\t\t\t\tinitialPath={\n\t\t\t\t\t\t\tlibraryFontSelected ? '/fontFamily' : '/'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Navigator.Screen path=\"/\">\n\t\t\t\t\t\t\t<VStack spacing=\"8\">\n\t\t\t\t\t\t\t\t{ notice && (\n\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\tstatus={ notice.type }\n\t\t\t\t\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ notice.message }\n\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ ! hasFonts && (\n\t\t\t\t\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t\t\t\t\t{ __( 'No fonts installed.' ) }\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ baseThemeFonts.length > 0 && (\n\t\t\t\t\t\t\t\t\t<VStack>\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-library__fonts-title\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: Heading for a list of fonts provided by the theme. */\n\t\t\t\t\t\t\t\t\t\t\t\t_x( 'Theme', 'font source' )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ baseThemeFonts.map( ( font ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ font.slug }\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontCard\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ font }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnavigatorPath=\"/fontFamily\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariantsText={ getFontCardVariantsText(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNotice( null );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ baseCustomFonts.length > 0 && (\n\t\t\t\t\t\t\t\t\t<VStack>\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-library__fonts-title\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: Heading for a list of fonts installed by the user. */\n\t\t\t\t\t\t\t\t\t\t\t\t_x( 'Custom', 'font source' )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ baseCustomFonts.map( ( font ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ font.slug }\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontCard\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ font }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnavigatorPath=\"/fontFamily\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariantsText={ getFontCardVariantsText(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetNotice( null );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t</Navigator.Screen>\n\n\t\t\t\t\t\t<Navigator.Screen path=\"/fontFamily\">\n\t\t\t\t\t\t\t{ libraryFontSelected && (\n\t\t\t\t\t\t\t\t<ConfirmDeleteDialog\n\t\t\t\t\t\t\t\t\tfont={ libraryFontSelected }\n\t\t\t\t\t\t\t\t\tisOpen={ isConfirmDeleteOpen }\n\t\t\t\t\t\t\t\t\tsetIsOpen={ setIsConfirmDeleteOpen }\n\t\t\t\t\t\t\t\t\tsetNotice={ setNotice }\n\t\t\t\t\t\t\t\t\tuninstallFontFamily={ uninstallFontFamily }\n\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected={\n\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t<Flex justify=\"flex-start\">\n\t\t\t\t\t\t\t\t<Navigator.BackButton\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronRight : chevronLeft\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\thandleSetLibraryFontSelected(\n\t\t\t\t\t\t\t\t\t\t\tundefined\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tsetNotice( null );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\t\t\t\t\tsize={ 13 }\n\t\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-header\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ libraryFontSelected?.name }\n\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t{ notice && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\n\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\tstatus={ notice.type }\n\t\t\t\t\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ notice.message }\n\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Choose font variants. Keep in mind that too many variants could make your site slower.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<VStack spacing={ 0 }>\n\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\tclassName=\"font-library__select-all\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Select all' ) }\n\t\t\t\t\t\t\t\t\tchecked={ isSelectAllChecked }\n\t\t\t\t\t\t\t\t\tonChange={ toggleSelectAll }\n\t\t\t\t\t\t\t\t\tindeterminate={ isIndeterminate }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Spacer margin={ 8 } />\n\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ libraryFontSelected &&\n\t\t\t\t\t\t\t\t\t\tgetFontFacesToDisplay(\n\t\t\t\t\t\t\t\t\t\t\tlibraryFontSelected\n\t\t\t\t\t\t\t\t\t\t).map( ( face, i ) => (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ `face${ i }` }\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<LibraryFontVariant\n\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ libraryFontSelected }\n\t\t\t\t\t\t\t\t\t\t\t\t\tface={ face }\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ `face${ i }` }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t</Navigator.Screen>\n\t\t\t\t\t</Navigator>\n\n\t\t\t\t\t<HStack justify=\"flex-end\" className=\"font-library__footer\">\n\t\t\t\t\t\t{ isInstalling && <ProgressBar /> }\n\t\t\t\t\t\t{ shouldDisplayDeleteButton && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\tonClick={ handleUninstallClick }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tonClick={ handleUpdate }\n\t\t\t\t\t\t\tdisabled={ ! fontFamiliesHasChanges }\n\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Update' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction ConfirmDeleteDialog( {\n\tfont,\n\tisOpen,\n\tsetIsOpen,\n\tsetNotice,\n\tuninstallFontFamily,\n\thandleSetLibraryFontSelected,\n}: {\n\tfont: FontFamily;\n\tisOpen: boolean;\n\tsetIsOpen: ( isOpen: boolean ) => void;\n\tsetNotice: (\n\t\tnotice: {\n\t\t\ttype: 'success' | 'error' | 'info';\n\t\t\tmessage: string;\n\t\t} | null\n\t) => void;\n\tuninstallFontFamily: (\n\t\tfontFamily: FontFamily\n\t) => Promise< { deleted: boolean } >;\n\thandleSetLibraryFontSelected: ( font?: FontFamily ) => void;\n} ) {\n\tconst navigator = useNavigator();\n\n\tconst handleConfirmUninstall = async () => {\n\t\tsetNotice( null );\n\t\tsetIsOpen( false );\n\t\ttry {\n\t\t\tawait uninstallFontFamily( font );\n\t\t\tnavigator.goBack();\n\t\t\thandleSetLibraryFontSelected( undefined );\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: __( 'Font family uninstalled successfully.' ),\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage:\n\t\t\t\t\t__( 'There was an error uninstalling the font family.' ) +\n\t\t\t\t\t( error as Error ).message,\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst handleCancelUninstall = () => {\n\t\tsetIsOpen( false );\n\t};\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isOpen }\n\t\t\tcancelButtonText={ __( 'Cancel' ) }\n\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\tonCancel={ handleCancelUninstall }\n\t\t\tonConfirm={ handleConfirmUninstall }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ font &&\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: Name of the font. */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Are you sure you want to delete \"%s\" font and all its variants and assets?'\n\t\t\t\t\t),\n\t\t\t\t\tfont.name\n\t\t\t\t) }\n\t\t</ConfirmDialog>\n\t);\n}\n\nexport default InstalledFonts;\n", "/**\n * WordPress dependencies\n */\nimport { _n, sprintf, isRTL } from '@wordpress/i18n';\nimport {\n\tuseNavigator,\n\t__experimentalText as Text,\n\tButton,\n\tFlex,\n\tFlexItem,\n} from '@wordpress/components';\nimport { Icon, chevronLeft, chevronRight } from '@wordpress/icons';\nimport type { FontFamily } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport FontDemo from './font-demo';\n\nfunction FontCard( {\n\tfont,\n\tonClick,\n\tvariantsText,\n\tnavigatorPath,\n}: {\n\tfont: FontFamily;\n\tonClick: () => void;\n\tvariantsText?: string;\n\tnavigatorPath?: string;\n} ) {\n\tconst variantsCount = font.fontFace?.length || 1;\n\n\tconst style = {\n\t\tcursor: !! onClick ? 'pointer' : 'default',\n\t};\n\n\tconst navigator = useNavigator();\n\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\tonClick={ () => {\n\t\t\t\tonClick();\n\t\t\t\tif ( navigatorPath ) {\n\t\t\t\t\tnavigator.goTo( navigatorPath );\n\t\t\t\t}\n\t\t\t} }\n\t\t\tstyle={ style }\n\t\t\tclassName=\"font-library__font-card\"\n\t\t>\n\t\t\t<Flex justify=\"space-between\" wrap={ false }>\n\t\t\t\t<FontDemo font={ font } />\n\t\t\t\t<Flex justify=\"flex-end\">\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Text className=\"font-library__font-card__count\">\n\t\t\t\t\t\t\t{ variantsText ||\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %d: Number of font variants. */\n\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t'%d variant',\n\t\t\t\t\t\t\t\t\t\t'%d variants',\n\t\t\t\t\t\t\t\t\t\tvariantsCount\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvariantsCount\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Icon icon={ isRTL() ? chevronLeft : chevronRight } />\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t</Flex>\n\t\t</Button>\n\t);\n}\n\nexport default FontCard;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { useContext, useEffect, useState, useRef } from '@wordpress/element';\nimport type { FontFamily, FontFace } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { FontLibraryContext } from './context';\nimport {\n\tgetFacePreviewStyle,\n\tgetFamilyPreviewStyle,\n} from './utils/preview-styles';\nimport type { FontDemoProps } from './types';\n\nfunction getPreviewUrl( fontFace: FontFace ): string | undefined {\n\tif ( fontFace.preview ) {\n\t\treturn fontFace.preview;\n\t}\n\tif ( fontFace.src ) {\n\t\treturn Array.isArray( fontFace.src ) ? fontFace.src[ 0 ] : fontFace.src;\n\t}\n\treturn undefined;\n}\n\nfunction getDisplayFontFace( font: FontFamily | FontFace ): FontFace {\n\t// if this IS a font face return it\n\tif (\n\t\t( 'fontStyle' in font && font.fontStyle ) ||\n\t\t( 'fontWeight' in font && font.fontWeight )\n\t) {\n\t\treturn font;\n\t}\n\t// if this is a font family with a collection of font faces\n\t// return the first one that is normal and 400 OR just the first one\n\tif ( 'fontFace' in font && font.fontFace && font.fontFace.length ) {\n\t\treturn (\n\t\t\tfont.fontFace.find(\n\t\t\t\t( face ) =>\n\t\t\t\t\tface.fontStyle === 'normal' && face.fontWeight === '400'\n\t\t\t) || font.fontFace[ 0 ]\n\t\t);\n\t}\n\t// This must be a font family with no font faces\n\t// return a fake font face\n\treturn {\n\t\tfontStyle: 'normal',\n\t\tfontWeight: '400',\n\t\tfontFamily: font.fontFamily,\n\t};\n}\n\nfunction FontDemo( { font, text }: FontDemoProps ) {\n\tconst ref = useRef< HTMLDivElement >( null );\n\n\tconst fontFace = getDisplayFontFace( font );\n\tconst style = getFamilyPreviewStyle( font );\n\ttext = text || ( 'name' in font ? font.name : '' );\n\tconst customPreviewUrl = font.preview;\n\n\tconst [ isIntersecting, setIsIntersecting ] = useState< boolean >( false );\n\tconst [ isAssetLoaded, setIsAssetLoaded ] = useState< boolean >( false );\n\tconst { loadFontFaceAsset } = useContext( FontLibraryContext );\n\n\tconst previewUrl = customPreviewUrl ?? getPreviewUrl( fontFace );\n\tconst isPreviewImage =\n\t\tpreviewUrl && previewUrl.match( /\\.(png|jpg|jpeg|gif|svg)$/i );\n\n\tconst faceStyles = getFacePreviewStyle( fontFace );\n\tconst textDemoStyle = {\n\t\tfontSize: '18px',\n\t\tlineHeight: 1,\n\t\topacity: isAssetLoaded ? '1' : '0',\n\t\t...style,\n\t\t...faceStyles,\n\t};\n\n\tuseEffect( () => {\n\t\tconst observer = new window.IntersectionObserver( ( [ entry ] ) => {\n\t\t\tsetIsIntersecting( entry.isIntersecting );\n\t\t}, {} );\n\t\tif ( ref.current ) {\n\t\t\tobserver.observe( ref.current );\n\t\t}\n\t\treturn () => observer.disconnect();\n\t}, [ ref ] );\n\n\tuseEffect( () => {\n\t\tconst loadAsset = async () => {\n\t\t\tif ( isIntersecting ) {\n\t\t\t\tif ( ! isPreviewImage && fontFace.src ) {\n\t\t\t\t\tawait loadFontFaceAsset( fontFace );\n\t\t\t\t}\n\t\t\t\tsetIsAssetLoaded( true );\n\t\t\t}\n\t\t};\n\t\tloadAsset();\n\t}, [ fontFace, isIntersecting, loadFontFaceAsset, isPreviewImage ] );\n\n\treturn (\n\t\t<div ref={ ref }>\n\t\t\t{ isPreviewImage ? (\n\t\t\t\t<img\n\t\t\t\t\tsrc={ previewUrl }\n\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\talt={ text }\n\t\t\t\t\tclassName=\"font-library__font-variant_demo-image\"\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Text\n\t\t\t\t\tstyle={ textDemoStyle }\n\t\t\t\t\tclassName=\"font-library__font-variant_demo-text\"\n\t\t\t\t>\n\t\t\t\t\t{ text }\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default FontDemo;\n", "/**\n * WordPress dependencies\n */\nimport { useContext, useId } from '@wordpress/element';\nimport { CheckboxControl, Flex } from '@wordpress/components';\nimport type { FontFace, FontFamily } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { getFontFaceVariantName } from './utils';\nimport { FontLibraryContext } from './context';\nimport FontDemo from './font-demo';\n\nfunction LibraryFontVariant( {\n\tface,\n\tfont,\n}: {\n\tface: FontFace;\n\tfont: FontFamily;\n} ) {\n\tconst { isFontActivated, toggleActivateFont } =\n\t\tuseContext( FontLibraryContext );\n\n\tconst isInstalled =\n\t\t( font?.fontFace?.length ?? 0 ) > 0\n\t\t\t? isFontActivated(\n\t\t\t\t\tfont.slug,\n\t\t\t\t\tface.fontStyle,\n\t\t\t\t\tface.fontWeight,\n\t\t\t\t\tfont.source\n\t\t\t  )\n\t\t\t: isFontActivated( font.slug, undefined, undefined, font.source );\n\n\tconst handleToggleActivation = () => {\n\t\tif ( ( font?.fontFace?.length ?? 0 ) > 0 ) {\n\t\t\ttoggleActivateFont( font, face );\n\t\t\treturn;\n\t\t}\n\t\ttoggleActivateFont( font );\n\t};\n\n\tconst displayName = font.name + ' ' + getFontFaceVariantName( face );\n\tconst checkboxId = useId();\n\n\treturn (\n\t\t<div className=\"font-library__font-card\">\n\t\t\t<Flex justify=\"flex-start\" align=\"center\" gap=\"1rem\">\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tchecked={ isInstalled }\n\t\t\t\t\tonChange={ handleToggleActivation }\n\t\t\t\t\tid={ checkboxId }\n\t\t\t\t/>\n\t\t\t\t<label htmlFor={ checkboxId }>\n\t\t\t\t\t<FontDemo\n\t\t\t\t\t\tfont={ face }\n\t\t\t\t\t\ttext={ displayName }\n\t\t\t\t\t\tonClick={ handleToggleActivation }\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t</Flex>\n\t\t</div>\n\t);\n}\n\nexport default LibraryFontVariant;\n", "/**\n * WordPress dependencies\n */\nimport type { FontFace } from '@wordpress/core-data';\n\nfunction getNumericFontWeight( value: string ): number {\n\tswitch ( value ) {\n\t\tcase 'normal':\n\t\t\treturn 400;\n\t\tcase 'bold':\n\t\t\treturn 700;\n\t\tcase 'bolder':\n\t\t\treturn 500;\n\t\tcase 'lighter':\n\t\t\treturn 300;\n\t\tdefault:\n\t\t\treturn parseInt( value, 10 );\n\t}\n}\n\nexport function sortFontFaces( faces: FontFace[] ): FontFace[] {\n\treturn faces.sort( ( a, b ) => {\n\t\t// Ensure 'normal' fontStyle is always first\n\t\tif ( a.fontStyle === 'normal' && b.fontStyle !== 'normal' ) {\n\t\t\treturn -1;\n\t\t}\n\t\tif ( b.fontStyle === 'normal' && a.fontStyle !== 'normal' ) {\n\t\t\treturn 1;\n\t\t}\n\n\t\t// If both fontStyles are the same, sort by fontWeight\n\t\tif ( a.fontStyle === b.fontStyle ) {\n\t\t\treturn (\n\t\t\t\tgetNumericFontWeight( a.fontWeight?.toString() ?? 'normal' ) -\n\t\t\t\tgetNumericFontWeight( b.fontWeight?.toString() ?? 'normal' )\n\t\t\t);\n\t\t}\n\n\t\t// Sort other fontStyles alphabetically\n\t\tif ( ! a.fontStyle || ! b.fontStyle ) {\n\t\t\treturn ! a.fontStyle ? 1 : -1;\n\t\t}\n\n\t\treturn a.fontStyle.localeCompare( b.fontStyle );\n\t} );\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tuseContext,\n\tuseEffect,\n\tuseState,\n\tuseMemo,\n\tcreateInterpolateElement,\n} from '@wordpress/element';\nimport {\n\t__experimentalSpacer as Spacer,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tNavigator,\n\t__experimentalHeading as Heading,\n\tNotice,\n\tSelectControl,\n\tFlex,\n\tButton,\n\tDropdownMenu,\n\tSearchControl,\n\tProgressBar,\n\tCheckboxControl,\n} from '@wordpress/components';\nimport { debounce } from '@wordpress/compose';\nimport { sprintf, __, _x, isRTL } from '@wordpress/i18n';\nimport {\n\tmoreVertical,\n\tnext,\n\tprevious,\n\tchevronLeft,\n\tchevronRight,\n} from '@wordpress/icons';\nimport { useEntityRecord } from '@wordpress/core-data';\nimport type {\n\tFontCollection as FontCollectionType,\n\tFontFace,\n\tFontFamily,\n\tCollectionFontFamily,\n} from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { FontLibraryContext } from './context';\nimport FontCard from './font-card';\nimport filterFonts from './utils/filter-fonts';\nimport { toggleFont } from './utils/toggleFont';\nimport {\n\tgetFontsOutline,\n\tisFontFontFaceInOutline,\n} from './utils/fonts-outline';\nimport GoogleFontsConfirmDialog from './google-fonts-confirm-dialog';\nimport { downloadFontFaceAssets } from './utils';\nimport { sortFontFaces } from './utils/sort-font-faces';\nimport CollectionFontVariant from './collection-font-variant';\nimport type { FontFamilyToUpload } from './types';\n\nconst DEFAULT_CATEGORY = {\n\tslug: 'all',\n\tname: _x( 'All', 'font categories' ),\n};\n\nconst LOCAL_STORAGE_ITEM = 'wp-font-library-google-fonts-permission';\nconst MIN_WINDOW_HEIGHT = 500;\n\nfunction FontCollection( { slug }: { slug: string } ) {\n\tconst requiresPermission = slug === 'google-fonts';\n\n\tconst getGoogleFontsPermissionFromStorage = () => {\n\t\treturn window.localStorage.getItem( LOCAL_STORAGE_ITEM ) === 'true';\n\t};\n\n\tconst [ selectedFont, setSelectedFont ] = useState< FontFamily | null >(\n\t\tnull\n\t);\n\tconst [ notice, setNotice ] = useState< {\n\t\ttype: 'success' | 'error' | 'info';\n\t\tmessage: string;\n\t} | null >( null );\n\tconst [ fontsToInstall, setFontsToInstall ] = useState< FontFamily[] >(\n\t\t[]\n\t);\n\tconst [ page, setPage ] = useState( 1 );\n\tconst [ filters, setFilters ] = useState< {\n\t\tcategory?: string;\n\t\tsearch?: string;\n\t} >( {} );\n\tconst [ renderConfirmDialog, setRenderConfirmDialog ] = useState(\n\t\trequiresPermission && ! getGoogleFontsPermissionFromStorage()\n\t);\n\tconst { installFonts, isInstalling } = useContext( FontLibraryContext );\n\tconst { record: selectedCollection, isResolving: isLoading } =\n\t\tuseEntityRecord< FontCollectionType >( 'root', 'fontCollection', slug );\n\n\tuseEffect( () => {\n\t\tconst handleStorage = () => {\n\t\t\tsetRenderConfirmDialog(\n\t\t\t\trequiresPermission && ! getGoogleFontsPermissionFromStorage()\n\t\t\t);\n\t\t};\n\t\thandleStorage();\n\t\twindow.addEventListener( 'storage', handleStorage );\n\t\treturn () => window.removeEventListener( 'storage', handleStorage );\n\t}, [ slug, requiresPermission ] );\n\n\tconst revokeAccess = () => {\n\t\twindow.localStorage.setItem( LOCAL_STORAGE_ITEM, 'false' );\n\t\twindow.dispatchEvent( new Event( 'storage' ) );\n\t};\n\n\tuseEffect( () => {\n\t\tsetSelectedFont( null );\n\t}, [ slug ] );\n\n\tuseEffect( () => {\n\t\t// If the selected fonts change, reset the selected fonts to install\n\t\tsetFontsToInstall( [] );\n\t}, [ selectedFont ] );\n\n\tconst collectionFonts = useMemo(\n\t\t() =>\n\t\t\t( selectedCollection?.font_families as\n\t\t\t\t| CollectionFontFamily[]\n\t\t\t\t| undefined ) ?? [],\n\t\t[ selectedCollection ]\n\t);\n\tconst collectionCategories = selectedCollection?.categories ?? [];\n\n\tconst categories = [ DEFAULT_CATEGORY, ...collectionCategories ];\n\n\tconst fonts = useMemo(\n\t\t() => filterFonts( collectionFonts, filters ),\n\t\t[ collectionFonts, filters ]\n\t);\n\n\t// NOTE: The height of the font library modal unavailable to use for rendering font family items is roughly 417px\n\t// The height of each font family item is 61px.\n\tconst windowHeight = Math.max( window.innerHeight, MIN_WINDOW_HEIGHT );\n\tconst pageSize = Math.floor( ( windowHeight - 417 ) / 61 );\n\tconst totalPages = Math.ceil( fonts.length / pageSize );\n\tconst itemsStart = ( page - 1 ) * pageSize;\n\tconst itemsLimit = page * pageSize;\n\tconst items = fonts.slice( itemsStart, itemsLimit );\n\n\tconst handleCategoryFilter = ( category: string ) => {\n\t\tsetFilters( { ...filters, category } );\n\t\tsetPage( 1 );\n\t};\n\n\tconst handleUpdateSearchInput = ( value: string ) => {\n\t\tsetFilters( { ...filters, search: value } );\n\t\tsetPage( 1 );\n\t};\n\n\t// @ts-expect-error\n\tconst debouncedUpdateSearchInput = debounce( handleUpdateSearchInput, 300 );\n\n\tconst handleToggleVariant = ( font: FontFamily, face?: FontFace ) => {\n\t\tconst newFontsToInstall = toggleFont( font, face, fontsToInstall );\n\t\tsetFontsToInstall( newFontsToInstall );\n\t};\n\n\tconst fontToInstallOutline = getFontsOutline( fontsToInstall );\n\n\tconst resetFontsToInstall = () => {\n\t\tsetFontsToInstall( [] );\n\t};\n\n\tconst selectFontCount =\n\t\tfontsToInstall.length > 0\n\t\t\t? fontsToInstall[ 0 ]?.fontFace?.length ?? 0\n\t\t\t: 0;\n\n\t// Check if any fonts are selected.\n\tconst isIndeterminate =\n\t\tselectFontCount > 0 &&\n\t\tselectFontCount !== selectedFont?.fontFace?.length;\n\n\t// Check if all fonts are selected.\n\tconst isSelectAllChecked =\n\t\tselectFontCount === selectedFont?.fontFace?.length;\n\n\t// Toggle select all fonts.\n\tconst toggleSelectAll = () => {\n\t\tconst newFonts: FontFamily[] = [];\n\t\tif ( ! isSelectAllChecked && selectedFont ) {\n\t\t\tnewFonts.push( selectedFont );\n\t\t}\n\n\t\tsetFontsToInstall( newFonts );\n\t};\n\n\tconst handleInstall = async () => {\n\t\tsetNotice( null );\n\n\t\tconst fontFamily: FontFamilyToUpload = fontsToInstall[ 0 ];\n\n\t\ttry {\n\t\t\tif ( fontFamily?.fontFace ) {\n\t\t\t\tawait Promise.all(\n\t\t\t\t\tfontFamily.fontFace.map( async ( fontFace ) => {\n\t\t\t\t\t\tif ( fontFace.src ) {\n\t\t\t\t\t\t\tfontFace.file = await downloadFontFaceAssets(\n\t\t\t\t\t\t\t\tfontFace.src\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\t// If any of the fonts fail to download,\n\t\t\t// show an error notice and stop the request from being sent.\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage: __(\n\t\t\t\t\t'Error installing the fonts, could not be downloaded.'\n\t\t\t\t),\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait installFonts( [ fontFamily ] );\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: __( 'Fonts were installed successfully.' ),\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage: ( error as Error ).message,\n\t\t\t} );\n\t\t}\n\t\tresetFontsToInstall();\n\t};\n\n\tconst getSortedFontFaces = ( fontFamily: FontFamily ) => {\n\t\tif ( ! fontFamily ) {\n\t\t\treturn [];\n\t\t}\n\t\tif ( ! fontFamily.fontFace || ! fontFamily.fontFace.length ) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tfontFamily: fontFamily.fontFamily,\n\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\tfontWeight: '400',\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t\treturn sortFontFaces( fontFamily.fontFace );\n\t};\n\n\tif ( renderConfirmDialog ) {\n\t\treturn <GoogleFontsConfirmDialog />;\n\t}\n\n\tconst ActionsComponent = () => {\n\t\tif ( slug !== 'google-fonts' || renderConfirmDialog || selectedFont ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<DropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tposition: 'bottom left',\n\t\t\t\t} }\n\t\t\t\tcontrols={ [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: __( 'Revoke access to Google Fonts' ),\n\t\t\t\t\t\tonClick: revokeAccess,\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"font-library__tabpanel-layout\">\n\t\t\t{ isLoading && (\n\t\t\t\t<div className=\"font-library__loading\">\n\t\t\t\t\t<ProgressBar />\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ! isLoading && selectedCollection && (\n\t\t\t\t<>\n\t\t\t\t\t<Navigator\n\t\t\t\t\t\tinitialPath=\"/\"\n\t\t\t\t\t\tclassName=\"font-library__tabpanel-layout\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Navigator.Screen path=\"/\">\n\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t<VStack>\n\t\t\t\t\t\t\t\t\t<Heading level={ 2 } size={ 13 }>\n\t\t\t\t\t\t\t\t\t\t{ selectedCollection.name }\n\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t\t\t{ selectedCollection.description }\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t<ActionsComponent />\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<HStack spacing={ 4 } justify=\"space-between\">\n\t\t\t\t\t\t\t\t<SearchControl\n\t\t\t\t\t\t\t\t\tvalue={ filters.search }\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Font name\u2026' ) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Search' ) }\n\t\t\t\t\t\t\t\t\tonChange={ debouncedUpdateSearchInput }\n\t\t\t\t\t\t\t\t\thideLabelFromVision={ false }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Category' ) }\n\t\t\t\t\t\t\t\t\tvalue={ filters.category }\n\t\t\t\t\t\t\t\t\tonChange={ handleCategoryFilter }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ categories &&\n\t\t\t\t\t\t\t\t\t\tcategories.map( ( category ) => (\n\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ category.slug }\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ category.slug }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ category.name }\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</SelectControl>\n\t\t\t\t\t\t\t</HStack>\n\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\n\t\t\t\t\t\t\t{ !! selectedCollection?.font_families?.length &&\n\t\t\t\t\t\t\t\t! fonts.length && (\n\t\t\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'No fonts found. Try with a different search term.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t<div className=\"font-library__fonts-grid__main\">\n\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ items.map( ( font ) => (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\tfont.font_family_settings.slug\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<FontCard\n\t\t\t\t\t\t\t\t\t\t\t\tfont={\n\t\t\t\t\t\t\t\t\t\t\t\t\tfont.font_family_settings\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tnavigatorPath=\"/fontFamily\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedFont(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont.font_family_settings\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Navigator.Screen>\n\n\t\t\t\t\t\t<Navigator.Screen path=\"/fontFamily\">\n\t\t\t\t\t\t\t<Flex justify=\"flex-start\">\n\t\t\t\t\t\t\t\t<Navigator.BackButton\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronRight : chevronLeft\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetSelectedFont( null );\n\t\t\t\t\t\t\t\t\t\tsetNotice( null );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Back' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\t\t\t\t\tsize={ 13 }\n\t\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-header\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ selectedFont?.name }\n\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t{ notice && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\n\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\tstatus={ notice.type }\n\t\t\t\t\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ notice.message }\n\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t\t<Spacer margin={ 1 } />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t{ __( 'Select font variants to install.' ) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Spacer margin={ 4 } />\n\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\tclassName=\"font-library__select-all\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Select all' ) }\n\t\t\t\t\t\t\t\tchecked={ isSelectAllChecked }\n\t\t\t\t\t\t\t\tonChange={ toggleSelectAll }\n\t\t\t\t\t\t\t\tindeterminate={ isIndeterminate }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<VStack spacing={ 0 }>\n\t\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t\t\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ selectedFont &&\n\t\t\t\t\t\t\t\t\t\tgetSortedFontFaces( selectedFont ).map(\n\t\t\t\t\t\t\t\t\t\t\t( face, i ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ `face${ i }` }\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-library__fonts-list-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CollectionFontVariant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfont={ selectedFont }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tface={ face }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleToggleVariant={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleToggleVariant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={ isFontFontFaceInOutline(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFont.slug,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFont.fontFace\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? face\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: null, // If the font has no fontFace, we want to check if the font is in the outline\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontToInstallOutline\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t<Spacer margin={ 16 } />\n\t\t\t\t\t\t</Navigator.Screen>\n\t\t\t\t\t</Navigator>\n\n\t\t\t\t\t{ selectedFont && (\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\tclassName=\"font-library__footer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\tonClick={ handleInstall }\n\t\t\t\t\t\t\t\tisBusy={ isInstalling }\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tfontsToInstall.length === 0 || isInstalling\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Install' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ ! selectedFont && (\n\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t\tclassName=\"font-library__footer\"\n\t\t\t\t\t\t\tjustify=\"end\"\n\t\t\t\t\t\t\tspacing={ 6 }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t\t\t\tclassName=\"font-library__page-selection\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t\t// translators: 1: Current page number, 2: Total number of pages.\n\t\t\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t\t\t'<div>Page</div>%1$s<div>of %2$d</div>',\n\t\t\t\t\t\t\t\t\t\t\t'paging'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t'<CurrentPage />',\n\t\t\t\t\t\t\t\t\t\ttotalPages\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdiv: <div aria-hidden />,\n\t\t\t\t\t\t\t\t\t\tCurrentPage: (\n\t\t\t\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Current page'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ page.toString() }\n\t\t\t\t\t\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t\t\t\t\t\t...Array( totalPages ),\n\t\t\t\t\t\t\t\t\t\t\t\t].map( ( e, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti + 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toString(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti + 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toString(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( newPage ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetPage(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt( newPage )\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"minimal\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={ () => setPage( page - 1 ) }\n\t\t\t\t\t\t\t\t\tdisabled={ page === 1 }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Previous page' ) }\n\t\t\t\t\t\t\t\t\ticon={ isRTL() ? next : previous }\n\t\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={ () => setPage( page + 1 ) }\n\t\t\t\t\t\t\t\t\tdisabled={ page === totalPages }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Next page' ) }\n\t\t\t\t\t\t\t\t\ticon={ isRTL() ? previous : next }\n\t\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t\ttooltipPosition=\"top\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default FontCollection;\n", "/**\n * WordPress dependencies\n */\nimport type { CollectionFontFamily } from '@wordpress/core-data';\n\n/**\n * Filters a list of fonts based on the specified filters.\n *\n * This function filters a given array of fonts based on the criteria provided in the filters object.\n * It supports filtering by category and a search term. If the category is provided and not equal to 'all',\n * the function filters the fonts array to include only those fonts that belong to the specified category.\n * Additionally, if a search term is provided, it filters the fonts array to include only those fonts\n * whose name includes the search term, case-insensitively.\n *\n * @param fonts            Array of font objects in font-collection schema fashion to be filtered. Each font object should have a 'categories' property and a 'font_family_settings' property with a 'name' key.\n * @param filters          Object containing the filter criteria. It should have a 'category' key and/or a 'search' key.\n * @param filters.category The category to filter fonts by. If 'all', no category filtering is applied.\n * @param filters.search   The search term to filter fonts by. If provided, only fonts whose\n *\n * @return Array of filtered font objects based on the provided criteria.\n */\nexport default function filterFonts(\n\tfonts: CollectionFontFamily[],\n\tfilters: { category?: string; search?: string }\n): CollectionFontFamily[] {\n\tconst { category, search } = filters;\n\tlet filteredFonts = fonts || [];\n\n\tif ( category && category !== 'all' ) {\n\t\tfilteredFonts = filteredFonts.filter(\n\t\t\t( font ) =>\n\t\t\t\tfont.categories && font.categories.indexOf( category ) !== -1\n\t\t);\n\t}\n\n\tif ( search ) {\n\t\tfilteredFonts = filteredFonts.filter(\n\t\t\t( font ) =>\n\t\t\t\tfont.font_family_settings &&\n\t\t\t\tfont.font_family_settings.name\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.includes( search.toLowerCase() )\n\t\t);\n\t}\n\n\treturn filteredFonts;\n}\n", "/**\n * WordPress dependencies\n */\nimport type { FontFace, FontFamily } from '@wordpress/core-data';\n\nexport function getFontsOutline(\n\tfonts: FontFamily[]\n): Record< string, Record< string, boolean > > {\n\treturn fonts.reduce(\n\t\t( acc, font ) => ( {\n\t\t\t...acc,\n\t\t\t[ font.slug ]: ( font?.fontFace || [] ).reduce(\n\t\t\t\t( faces, face ) => ( {\n\t\t\t\t\t...faces,\n\t\t\t\t\t[ `${ face.fontStyle }-${ face.fontWeight }` ]: true,\n\t\t\t\t} ),\n\t\t\t\t{}\n\t\t\t),\n\t\t} ),\n\t\t{}\n\t);\n}\n\nexport function isFontFontFaceInOutline(\n\tslug: string,\n\tface: FontFace | null,\n\toutline: Record< string, Record< string, boolean > >\n): boolean {\n\tif ( ! face ) {\n\t\treturn !! outline[ slug ];\n\t}\n\treturn !! outline[ slug ]?.[ `${ face.fontStyle }-${ face.fontWeight }` ];\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tCard,\n\tCardBody,\n\t__experimentalHeading as Heading,\n\t__experimentalText as Text,\n\t__experimentalSpacer as Spacer,\n} from '@wordpress/components';\n\nfunction GoogleFontsConfirmDialog(): JSX.Element {\n\tconst handleConfirm = (): void => {\n\t\twindow.localStorage.setItem(\n\t\t\t'wp-font-library-google-fonts-permission',\n\t\t\t'true'\n\t\t);\n\t\twindow.dispatchEvent( new Event( 'storage' ) );\n\t};\n\n\treturn (\n\t\t<div className=\"font-library__google-fonts-confirm\">\n\t\t\t<Card>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<Heading level={ 2 }>\n\t\t\t\t\t\t{ __( 'Connect to Google Fonts' ) }\n\t\t\t\t\t</Heading>\n\t\t\t\t\t<Spacer margin={ 6 } />\n\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'To install fonts from Google you must give permission to connect directly to Google servers. The fonts you install will be downloaded from Google and stored on your site. Your site will then use these locally-hosted fonts.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Spacer margin={ 3 } />\n\t\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'You can alternatively upload files directly on the Upload tab.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Spacer margin={ 6 } />\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ handleConfirm }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Allow access to Google Fonts' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</CardBody>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}\n\nexport default GoogleFontsConfirmDialog;\n", "/**\n * WordPress dependencies\n */\nimport { useId } from '@wordpress/element';\nimport { CheckboxControl, Flex } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { getFontFaceVariantName } from './utils';\nimport FontDemo from './font-demo';\nimport type { CollectionFontVariantProps } from './types';\n\nfunction CollectionFontVariant( {\n\tface,\n\tfont,\n\thandleToggleVariant,\n\tselected,\n}: CollectionFontVariantProps ) {\n\tconst handleToggleActivation = () => {\n\t\tif ( font?.fontFace ) {\n\t\t\thandleToggleVariant( font, face );\n\t\t\treturn;\n\t\t}\n\t\thandleToggleVariant( font );\n\t};\n\n\tconst displayName = font.name + ' ' + getFontFaceVariantName( face );\n\tconst checkboxId = useId();\n\n\treturn (\n\t\t<div className=\"font-library__font-card\">\n\t\t\t<Flex justify=\"flex-start\" align=\"center\" gap=\"1rem\">\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tchecked={ selected }\n\t\t\t\t\tonChange={ handleToggleActivation }\n\t\t\t\t\tid={ checkboxId }\n\t\t\t\t/>\n\t\t\t\t<label htmlFor={ checkboxId }>\n\t\t\t\t\t<FontDemo\n\t\t\t\t\t\tfont={ face }\n\t\t\t\t\t\ttext={ displayName }\n\t\t\t\t\t\tonClick={ handleToggleActivation }\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t</Flex>\n\t\t</div>\n\t);\n}\n\nexport default CollectionFontVariant;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalText as Text,\n\t__experimentalVStack as VStack,\n\tButton,\n\tDropZone,\n\tNotice,\n\tFormFileUpload,\n\tFlexItem,\n\tProgressBar,\n} from '@wordpress/components';\nimport { useContext, useState } from '@wordpress/element';\nimport type { FontFace } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { ALLOWED_FILE_EXTENSIONS } from './utils/constants';\nimport { FontLibraryContext } from './context';\nimport { Font } from './lib/lib-font.browser';\nimport makeFamiliesFromFaces from './utils/make-families-from-faces';\nimport { loadFontFaceInBrowser } from './utils';\n\nfunction UploadFonts() {\n\tconst { installFonts } = useContext( FontLibraryContext );\n\tconst [ isUploading, setIsUploading ] = useState( false );\n\tconst [ notice, setNotice ] = useState< {\n\t\ttype: 'success' | 'error';\n\t\tmessage: string;\n\t\terrors?: string[];\n\t} | null >( null );\n\n\tconst handleDropZone = ( files: File[] ) => {\n\t\thandleFilesUpload( files );\n\t};\n\tconst onFilesUpload = ( event: React.ChangeEvent< HTMLInputElement > ) => {\n\t\thandleFilesUpload( event.target.files );\n\t};\n\n\t/**\n\t * Filters the selected files to only allow the ones with the allowed extensions\n\t *\n\t * @param {Array} files The files to be filtered\n\t * @return {void}\n\t */\n\tconst handleFilesUpload = async ( files: FileList | File[] | null ) => {\n\t\tif ( ! files ) {\n\t\t\treturn;\n\t\t}\n\t\tsetNotice( null );\n\t\tsetIsUploading( true );\n\t\tconst uniqueFilenames = new Set();\n\t\tconst selectedFiles = [ ...files ];\n\t\tlet hasInvalidFiles = false;\n\n\t\t// Use map to create a promise for each file check, then filter with Promise.all.\n\t\tconst checkFilesPromises = selectedFiles.map( async ( file ) => {\n\t\t\tconst isFont = await isFontFile( file );\n\t\t\tif ( ! isFont ) {\n\t\t\t\thasInvalidFiles = true;\n\t\t\t\treturn null; // Return null for invalid files.\n\t\t\t}\n\t\t\t// Check for duplicates\n\t\t\tif ( uniqueFilenames.has( file.name ) ) {\n\t\t\t\treturn null; // Return null for duplicates.\n\t\t\t}\n\t\t\t// Check if the file extension is allowed.\n\t\t\tconst fileExtension = (\n\t\t\t\t( ( file.name ?? '' ).split( '.' ) ?? [] ).pop() ?? ''\n\t\t\t).toLowerCase();\n\t\t\tif ( ALLOWED_FILE_EXTENSIONS.includes( fileExtension ) ) {\n\t\t\t\tuniqueFilenames.add( file.name );\n\t\t\t\treturn file; // Return the file if it passes all checks.\n\t\t\t}\n\t\t\treturn null; // Return null for disallowed file extensions.\n\t\t} );\n\n\t\t// Filter out the nulls after all promises have resolved.\n\t\tconst allowedFiles: File[] = (\n\t\t\tawait Promise.all( checkFilesPromises )\n\t\t).filter( ( file ) => null !== file );\n\n\t\tif ( allowedFiles.length > 0 ) {\n\t\t\tloadFiles( allowedFiles );\n\t\t} else {\n\t\t\tconst message = hasInvalidFiles\n\t\t\t\t? __( 'Sorry, you are not allowed to upload this file type.' )\n\t\t\t\t: __( 'No fonts found to install.' );\n\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage,\n\t\t\t} );\n\t\t\tsetIsUploading( false );\n\t\t}\n\t};\n\n\t/**\n\t * Loads the selected files and reads the font metadata\n\t *\n\t * @param {Array} files The files to be loaded\n\t * @return {void}\n\t */\n\tconst loadFiles = async ( files: File[] ) => {\n\t\tconst fontFacesLoaded = await Promise.all(\n\t\t\tfiles.map( async ( fontFile: File ) => {\n\t\t\t\tconst fontFaceData = await getFontFaceMetadata( fontFile );\n\t\t\t\tawait loadFontFaceInBrowser(\n\t\t\t\t\tfontFaceData,\n\t\t\t\t\tfontFaceData.file,\n\t\t\t\t\t'all'\n\t\t\t\t);\n\t\t\t\treturn fontFaceData;\n\t\t\t} )\n\t\t);\n\t\thandleInstall( fontFacesLoaded );\n\t};\n\n\t/**\n\t * Checks if a file is a valid Font file.\n\t *\n\t * @param {File} file The file to be checked.\n\t * @return {boolean} Whether the file is a valid font file.\n\t */\n\tasync function isFontFile( file: File ) {\n\t\tconst font = new Font( 'Uploaded Font' );\n\t\ttry {\n\t\t\tconst buffer = await readFileAsArrayBuffer( file );\n\t\t\tawait font.fromDataBuffer( buffer, 'font' );\n\t\t\treturn true;\n\t\t} catch ( error ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Create a function to read the file as array buffer\n\tasync function readFileAsArrayBuffer( file: File ) {\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tconst reader = new window.FileReader();\n\t\t\treader.readAsArrayBuffer( file );\n\t\t\treader.onload = () => resolve( reader.result );\n\t\t\treader.onerror = reject;\n\t\t} );\n\t}\n\n\tconst getFontFaceMetadata = async ( fontFile: File ) => {\n\t\tconst buffer = await readFileAsArrayBuffer( fontFile );\n\t\tconst fontObj: Font & {\n\t\t\tonload?: ( val: { detail: { font: any } } ) => void;\n\t\t} = new Font( 'Uploaded Font' );\n\t\tfontObj.fromDataBuffer( buffer, fontFile.name );\n\t\t// Assuming that fromDataBuffer triggers onload event and returning a Promise\n\t\tconst onloadEvent: { detail: { font: any } } = await new Promise(\n\t\t\t( resolve ) => ( fontObj.onload = resolve )\n\t\t);\n\t\tconst font = onloadEvent.detail.font;\n\t\tconst { name } = font.opentype.tables;\n\t\tconst fontName = name.get( 16 ) || name.get( 1 );\n\t\tconst isItalic = name.get( 2 ).toLowerCase().includes( 'italic' );\n\t\tconst fontWeight =\n\t\t\tfont.opentype.tables[ 'OS/2' ].usWeightClass || 'normal';\n\t\tconst isVariable = !! font.opentype.tables.fvar;\n\t\tconst weightAxis =\n\t\t\tisVariable &&\n\t\t\tfont.opentype.tables.fvar.axes.find(\n\t\t\t\t( { tag }: { tag: string } ) => tag === 'wght'\n\t\t\t);\n\t\tconst weightRange = weightAxis\n\t\t\t? `${ weightAxis.minValue } ${ weightAxis.maxValue }`\n\t\t\t: null;\n\t\treturn {\n\t\t\tfile: fontFile,\n\t\t\tfontFamily: fontName,\n\t\t\tfontStyle: isItalic ? 'italic' : 'normal',\n\t\t\tfontWeight: weightRange || fontWeight,\n\t\t};\n\t};\n\n\t/**\n\t * Creates the font family definition and sends it to the server\n\t *\n\t * @param {Array} fontFaces The font faces to be installed\n\t * @return {void}\n\t */\n\tconst handleInstall = async ( fontFaces: FontFace[] ) => {\n\t\tconst fontFamilies = makeFamiliesFromFaces( fontFaces );\n\n\t\ttry {\n\t\t\tawait installFonts( fontFamilies );\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: __( 'Fonts were installed successfully.' ),\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst typedError = error as Error & {\n\t\t\t\tinstallationErrors?: string[];\n\t\t\t};\n\t\t\tsetNotice( {\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage: typedError.message,\n\t\t\t\terrors: typedError?.installationErrors,\n\t\t\t} );\n\t\t}\n\n\t\tsetIsUploading( false );\n\t};\n\n\treturn (\n\t\t<div className=\"font-library__tabpanel-layout\">\n\t\t\t<DropZone onFilesDrop={ handleDropZone } />\n\t\t\t<VStack className=\"font-library__local-fonts\" justify=\"start\">\n\t\t\t\t{ notice && (\n\t\t\t\t\t<Notice\n\t\t\t\t\t\tstatus={ notice.type }\n\t\t\t\t\t\t__unstableHTML\n\t\t\t\t\t\tonRemove={ () => setNotice( null ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ notice.message }\n\t\t\t\t\t\t{ notice.errors && (\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{ notice.errors.map( ( error, index ) => (\n\t\t\t\t\t\t\t\t\t<li key={ index }>{ error }</li>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Notice>\n\t\t\t\t) }\n\t\t\t\t{ isUploading && (\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<div className=\"font-library__upload-area\">\n\t\t\t\t\t\t\t<ProgressBar />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t) }\n\t\t\t\t{ ! isUploading && (\n\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\taccept={ ALLOWED_FILE_EXTENSIONS.map(\n\t\t\t\t\t\t\t( ext ) => `.${ ext }`\n\t\t\t\t\t\t).join( ',' ) }\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\tonChange={ onFilesUpload }\n\t\t\t\t\t\trender={ ( { openFileDialog } ) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tclassName=\"font-library__upload-area\"\n\t\t\t\t\t\t\t\tonClick={ openFileDialog }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Upload font' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<Text className=\"font-library__upload-area__text\">\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Uploaded fonts appear in your library and can be used in your theme. Supported formats: .ttf, .otf, .woff, and .woff2.'\n\t\t\t\t\t) }\n\t\t\t\t</Text>\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n\nexport default UploadFonts;\n", "/**\n * Credits:\n *\n * lib-font\n * https://github.com/Pomax/lib-font\n * https://github.com/Pomax/lib-font/blob/master/lib/unbrotli.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2020 pomax@nihongoresources.com\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint eslint-comments/no-unlimited-disable: 0 */\n/* eslint-disable */\nexport default ( function () {\n\tvar define, module, exports;\n\treturn ( function () {\n\t\tfunction r( e, n, t ) {\n\t\t\tfunction o( i, f ) {\n\t\t\t\tif ( ! n[ i ] ) {\n\t\t\t\t\tif ( ! e[ i ] ) {\n\t\t\t\t\t\tvar c = 'function' == typeof require && require;\n\t\t\t\t\t\tif ( ! f && c ) return c( i, ! 0 );\n\t\t\t\t\t\tif ( u ) return u( i, ! 0 );\n\t\t\t\t\t\tvar a = new Error( \"Cannot find module '\" + i + \"'\" );\n\t\t\t\t\t\tthrow ( ( a.code = 'MODULE_NOT_FOUND' ), a );\n\t\t\t\t\t}\n\t\t\t\t\tvar p = ( n[ i ] = { exports: {} } );\n\t\t\t\t\te[ i ][ 0 ].call(\n\t\t\t\t\t\tp.exports,\n\t\t\t\t\t\tfunction ( r ) {\n\t\t\t\t\t\t\tvar n = e[ i ][ 1 ][ r ];\n\t\t\t\t\t\t\treturn o( n || r );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tp,\n\t\t\t\t\t\tp.exports,\n\t\t\t\t\t\tr,\n\t\t\t\t\t\te,\n\t\t\t\t\t\tn,\n\t\t\t\t\t\tt\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn n[ i ].exports;\n\t\t\t}\n\t\t\tfor (\n\t\t\t\tvar u = 'function' == typeof require && require, i = 0;\n\t\t\t\ti < t.length;\n\t\t\t\ti++\n\t\t\t)\n\t\t\t\to( t[ i ] );\n\t\t\treturn o;\n\t\t}\n\t\treturn r;\n\t} )()(\n\t\t{\n\t\t\t1: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Bit reading helpers\n*/\n\n\t\t\t\t\tvar BROTLI_READ_SIZE = 4096;\n\t\t\t\t\tvar BROTLI_IBUF_SIZE = 2 * BROTLI_READ_SIZE + 32;\n\t\t\t\t\tvar BROTLI_IBUF_MASK = 2 * BROTLI_READ_SIZE - 1;\n\n\t\t\t\t\tvar kBitMask = new Uint32Array( [\n\t\t\t\t\t\t0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095,\n\t\t\t\t\t\t8191, 16383, 32767, 65535, 131071, 262143, 524287,\n\t\t\t\t\t\t1048575, 2097151, 4194303, 8388607, 16777215,\n\t\t\t\t\t] );\n\n\t\t\t\t\t/* Input byte buffer, consist of a ringbuffer and a \"slack\" region where */\n\t\t\t\t\t/* bytes from the start of the ringbuffer are copied. */\n\t\t\t\t\tfunction BrotliBitReader( input ) {\n\t\t\t\t\t\tthis.buf_ = new Uint8Array( BROTLI_IBUF_SIZE );\n\t\t\t\t\t\tthis.input_ = input; /* input callback */\n\n\t\t\t\t\t\tthis.reset();\n\t\t\t\t\t}\n\n\t\t\t\t\tBrotliBitReader.READ_SIZE = BROTLI_READ_SIZE;\n\t\t\t\t\tBrotliBitReader.IBUF_MASK = BROTLI_IBUF_MASK;\n\n\t\t\t\t\tBrotliBitReader.prototype.reset = function () {\n\t\t\t\t\t\tthis.buf_ptr_ = 0; /* next input will write here */\n\t\t\t\t\t\tthis.val_ = 0; /* pre-fetched bits */\n\t\t\t\t\t\tthis.pos_ = 0; /* byte position in stream */\n\t\t\t\t\t\tthis.bit_pos_ = 0; /* current bit-reading position in val_ */\n\t\t\t\t\t\tthis.bit_end_pos_ = 0; /* bit-reading end position from LSB of val_ */\n\t\t\t\t\t\tthis.eos_ = 0; /* input stream is finished */\n\n\t\t\t\t\t\tthis.readMoreInput();\n\t\t\t\t\t\tfor ( var i = 0; i < 4; i++ ) {\n\t\t\t\t\t\t\tthis.val_ |= this.buf_[ this.pos_ ] << ( 8 * i );\n\t\t\t\t\t\t\t++this.pos_;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.bit_end_pos_ > 0;\n\t\t\t\t\t};\n\n\t\t\t\t\t/* Fills up the input ringbuffer by calling the input callback.\n\n   Does nothing if there are at least 32 bytes present after current position.\n\n   Returns 0 if either:\n    - the input callback returned an error, or\n    - there is no more input and the position is past the end of the stream.\n\n   After encountering the end of the input stream, 32 additional zero bytes are\n   copied to the ringbuffer, therefore it is safe to call this function after\n   every 32 bytes of input is read.\n*/\n\t\t\t\t\tBrotliBitReader.prototype.readMoreInput = function () {\n\t\t\t\t\t\tif ( this.bit_end_pos_ > 256 ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else if ( this.eos_ ) {\n\t\t\t\t\t\t\tif ( this.bit_pos_ > this.bit_end_pos_ )\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t'Unexpected end of input ' +\n\t\t\t\t\t\t\t\t\t\tthis.bit_pos_ +\n\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\tthis.bit_end_pos_\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar dst = this.buf_ptr_;\n\t\t\t\t\t\t\tvar bytes_read = this.input_.read(\n\t\t\t\t\t\t\t\tthis.buf_,\n\t\t\t\t\t\t\t\tdst,\n\t\t\t\t\t\t\t\tBROTLI_READ_SIZE\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( bytes_read < 0 ) {\n\t\t\t\t\t\t\t\tthrow new Error( 'Unexpected end of input' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( bytes_read < BROTLI_READ_SIZE ) {\n\t\t\t\t\t\t\t\tthis.eos_ = 1;\n\t\t\t\t\t\t\t\t/* Store 32 bytes of zero after the stream end. */\n\t\t\t\t\t\t\t\tfor ( var p = 0; p < 32; p++ )\n\t\t\t\t\t\t\t\t\tthis.buf_[ dst + bytes_read + p ] = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( dst === 0 ) {\n\t\t\t\t\t\t\t\t/* Copy the head of the ringbuffer to the slack region. */\n\t\t\t\t\t\t\t\tfor ( var p = 0; p < 32; p++ )\n\t\t\t\t\t\t\t\t\tthis.buf_[ ( BROTLI_READ_SIZE << 1 ) + p ] =\n\t\t\t\t\t\t\t\t\t\tthis.buf_[ p ];\n\n\t\t\t\t\t\t\t\tthis.buf_ptr_ = BROTLI_READ_SIZE;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.buf_ptr_ = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.bit_end_pos_ += bytes_read << 3;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/* Guarantees that there are at least 24 bits in the buffer. */\n\t\t\t\t\tBrotliBitReader.prototype.fillBitWindow = function () {\n\t\t\t\t\t\twhile ( this.bit_pos_ >= 8 ) {\n\t\t\t\t\t\t\tthis.val_ >>>= 8;\n\t\t\t\t\t\t\tthis.val_ |=\n\t\t\t\t\t\t\t\tthis.buf_[ this.pos_ & BROTLI_IBUF_MASK ] << 24;\n\t\t\t\t\t\t\t++this.pos_;\n\t\t\t\t\t\t\tthis.bit_pos_ = ( this.bit_pos_ - 8 ) >>> 0;\n\t\t\t\t\t\t\tthis.bit_end_pos_ = ( this.bit_end_pos_ - 8 ) >>> 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t/* Reads the specified number of bits from Read Buffer. */\n\t\t\t\t\tBrotliBitReader.prototype.readBits = function ( n_bits ) {\n\t\t\t\t\t\tif ( 32 - this.bit_pos_ < n_bits ) {\n\t\t\t\t\t\t\tthis.fillBitWindow();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar val =\n\t\t\t\t\t\t\t( this.val_ >>> this.bit_pos_ ) &\n\t\t\t\t\t\t\tkBitMask[ n_bits ];\n\t\t\t\t\t\tthis.bit_pos_ += n_bits;\n\t\t\t\t\t\treturn val;\n\t\t\t\t\t};\n\n\t\t\t\t\tmodule.exports = BrotliBitReader;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t2: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Lookup table to map the previous two bytes to a context id.\n\n   There are four different context modeling modes defined here:\n     CONTEXT_LSB6: context id is the least significant 6 bits of the last byte,\n     CONTEXT_MSB6: context id is the most significant 6 bits of the last byte,\n     CONTEXT_UTF8: second-order context model tuned for UTF8-encoded text,\n     CONTEXT_SIGNED: second-order context model tuned for signed integers.\n\n   The context id for the UTF8 context model is calculated as follows. If p1\n   and p2 are the previous two bytes, we calcualte the context as\n\n     context = kContextLookup[p1] | kContextLookup[p2 + 256].\n\n   If the previous two bytes are ASCII characters (i.e. < 128), this will be\n   equivalent to\n\n     context = 4 * context1(p1) + context2(p2),\n\n   where context1 is based on the previous byte in the following way:\n\n     0  : non-ASCII control\n     1  : \\t, \\n, \\r\n     2  : space\n     3  : other punctuation\n     4  : \" '\n     5  : %\n     6  : ( < [ {\n     7  : ) > ] }\n     8  : , ; :\n     9  : .\n     10 : =\n     11 : number\n     12 : upper-case vowel\n     13 : upper-case consonant\n     14 : lower-case vowel\n     15 : lower-case consonant\n\n   and context2 is based on the second last byte:\n\n     0 : control, space\n     1 : punctuation\n     2 : upper-case letter, number\n     3 : lower-case letter\n\n   If the last byte is ASCII, and the second last byte is not (in a valid UTF8\n   stream it will be a continuation byte, value between 128 and 191), the\n   context is the same as if the second last byte was an ASCII control or space.\n\n   If the last byte is a UTF8 lead byte (value >= 192), then the next byte will\n   be a continuation byte and the context id is 2 or 3 depending on the LSB of\n   the last byte and to a lesser extent on the second last byte if it is ASCII.\n\n   If the last byte is a UTF8 continuation byte, the second last byte can be:\n     - continuation byte: the next byte is probably ASCII or lead byte (assuming\n       4-byte UTF8 characters are rare) and the context id is 0 or 1.\n     - lead byte (192 - 207): next byte is ASCII or lead byte, context is 0 or 1\n     - lead byte (208 - 255): next byte is continuation byte, context is 2 or 3\n\n   The possible value combinations of the previous two bytes, the range of\n   context ids and the type of the next byte is summarized in the table below:\n\n   |--------\\-----------------------------------------------------------------|\n   |         \\                         Last byte                              |\n   | Second   \\---------------------------------------------------------------|\n   | last byte \\    ASCII            |   cont. byte        |   lead byte      |\n   |            \\   (0-127)          |   (128-191)         |   (192-)         |\n   |=============|===================|=====================|==================|\n   |  ASCII      | next: ASCII/lead  |  not valid          |  next: cont.     |\n   |  (0-127)    | context: 4 - 63   |                     |  context: 2 - 3  |\n   |-------------|-------------------|---------------------|------------------|\n   |  cont. byte | next: ASCII/lead  |  next: ASCII/lead   |  next: cont.     |\n   |  (128-191)  | context: 4 - 63   |  context: 0 - 1     |  context: 2 - 3  |\n   |-------------|-------------------|---------------------|------------------|\n   |  lead byte  | not valid         |  next: ASCII/lead   |  not valid       |\n   |  (192-207)  |                   |  context: 0 - 1     |                  |\n   |-------------|-------------------|---------------------|------------------|\n   |  lead byte  | not valid         |  next: cont.        |  not valid       |\n   |  (208-)     |                   |  context: 2 - 3     |                  |\n   |-------------|-------------------|---------------------|------------------|\n\n   The context id for the signed context mode is calculated as:\n\n     context = (kContextLookup[512 + p1] << 3) | kContextLookup[512 + p2].\n\n   For any context modeling modes, the context ids can be calculated by |-ing\n   together two lookups from one table using context model dependent offsets:\n\n     context = kContextLookup[offset1 + p1] | kContextLookup[offset2 + p2].\n\n   where offset1 and offset2 are dependent on the context mode.\n*/\n\n\t\t\t\t\tvar CONTEXT_LSB6 = 0;\n\t\t\t\t\tvar CONTEXT_MSB6 = 1;\n\t\t\t\t\tvar CONTEXT_UTF8 = 2;\n\t\t\t\t\tvar CONTEXT_SIGNED = 3;\n\n\t\t\t\t\t/* Common context lookup table for all context modes. */\n\t\t\t\t\texports.lookup = new Uint8Array( [\n\t\t\t\t\t\t/* CONTEXT_UTF8, last byte. */\n\t\t\t\t\t\t/* ASCII range. */\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 4, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 12, 16, 12,\n\t\t\t\t\t\t12, 20, 12, 16, 24, 28, 12, 12, 32, 12, 36, 12, 44, 44,\n\t\t\t\t\t\t44, 44, 44, 44, 44, 44, 44, 44, 32, 32, 24, 40, 28, 12,\n\t\t\t\t\t\t12, 48, 52, 52, 52, 48, 52, 52, 52, 48, 52, 52, 52, 52,\n\t\t\t\t\t\t52, 48, 52, 52, 52, 52, 52, 48, 52, 52, 52, 52, 52, 24,\n\t\t\t\t\t\t12, 28, 12, 12, 12, 56, 60, 60, 60, 56, 60, 60, 60, 56,\n\t\t\t\t\t\t60, 60, 60, 60, 60, 56, 60, 60, 60, 60, 60, 56, 60, 60,\n\t\t\t\t\t\t60, 60, 60, 24, 12, 28, 12, 0,\n\t\t\t\t\t\t/* UTF8 continuation byte range. */\n\t\t\t\t\t\t0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0,\n\t\t\t\t\t\t1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1,\n\t\t\t\t\t\t0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0,\n\t\t\t\t\t\t1, 0, 1, 0, 1, 0, 1 /* UTF8 lead byte range. */, 2, 3,\n\t\t\t\t\t\t2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2,\n\t\t\t\t\t\t3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3,\n\t\t\t\t\t\t2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2,\n\t\t\t\t\t\t3, 2, 3, 2, 3 /* CONTEXT_UTF8 second last byte. */,\n\t\t\t\t\t\t/* ASCII range. */\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,\n\t\t\t\t\t\t1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1,\n\t\t\t\t\t\t1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n\t\t\t\t\t\t3, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 0,\n\t\t\t\t\t\t/* UTF8 continuation byte range. */\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0 /* UTF8 lead byte range. */, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2 /* CONTEXT_SIGNED, second last byte. */,\n\t\t\t\t\t\t0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t\t2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n\t\t\t\t\t\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n\t\t\t\t\t\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n\t\t\t\t\t\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4,\n\t\t\t\t\t\t4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,\n\t\t\t\t\t\t4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,\n\t\t\t\t\t\t4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,\n\t\t\t\t\t\t4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,\n\t\t\t\t\t\t5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,\n\t\t\t\t\t\t5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6,\n\t\t\t\t\t\t6, 6, 6, 6, 6, 6, 6, 6, 7,\n\t\t\t\t\t\t/* CONTEXT_SIGNED, last byte, same as the above values shifted by 3 bits. */\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t\t\t\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t\t\t\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t\t\t\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n\t\t\t\t\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,\n\t\t\t\t\t\t32, 32, 32, 32, 32, 40, 40, 40, 40, 40, 40, 40, 40, 40,\n\t\t\t\t\t\t40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40,\n\t\t\t\t\t\t40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40,\n\t\t\t\t\t\t40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 48, 48, 48,\n\t\t\t\t\t\t48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 56,\n\t\t\t\t\t\t/* CONTEXT_LSB6, last byte. */\n\t\t\t\t\t\t0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n\t\t\t\t\t\t16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29,\n\t\t\t\t\t\t30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43,\n\t\t\t\t\t\t44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57,\n\t\t\t\t\t\t58, 59, 60, 61, 62, 63, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9,\n\t\t\t\t\t\t10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n\t\t\t\t\t\t24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37,\n\t\t\t\t\t\t38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51,\n\t\t\t\t\t\t52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 0, 1, 2,\n\t\t\t\t\t\t3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,\n\t\t\t\t\t\t19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32,\n\t\t\t\t\t\t33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46,\n\t\t\t\t\t\t47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n\t\t\t\t\t\t61, 62, 63, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\n\t\t\t\t\t\t13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,\n\t\t\t\t\t\t27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\n\t\t\t\t\t\t41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54,\n\t\t\t\t\t\t55, 56, 57, 58, 59, 60, 61, 62, 63,\n\t\t\t\t\t\t/* CONTEXT_MSB6, last byte. */\n\t\t\t\t\t\t0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,\n\t\t\t\t\t\t4, 5, 5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 7, 8, 8, 8, 8, 9, 9,\n\t\t\t\t\t\t9, 9, 10, 10, 10, 10, 11, 11, 11, 11, 12, 12, 12, 12,\n\t\t\t\t\t\t13, 13, 13, 13, 14, 14, 14, 14, 15, 15, 15, 15, 16, 16,\n\t\t\t\t\t\t16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19,\n\t\t\t\t\t\t20, 20, 20, 20, 21, 21, 21, 21, 22, 22, 22, 22, 23, 23,\n\t\t\t\t\t\t23, 23, 24, 24, 24, 24, 25, 25, 25, 25, 26, 26, 26, 26,\n\t\t\t\t\t\t27, 27, 27, 27, 28, 28, 28, 28, 29, 29, 29, 29, 30, 30,\n\t\t\t\t\t\t30, 30, 31, 31, 31, 31, 32, 32, 32, 32, 33, 33, 33, 33,\n\t\t\t\t\t\t34, 34, 34, 34, 35, 35, 35, 35, 36, 36, 36, 36, 37, 37,\n\t\t\t\t\t\t37, 37, 38, 38, 38, 38, 39, 39, 39, 39, 40, 40, 40, 40,\n\t\t\t\t\t\t41, 41, 41, 41, 42, 42, 42, 42, 43, 43, 43, 43, 44, 44,\n\t\t\t\t\t\t44, 44, 45, 45, 45, 45, 46, 46, 46, 46, 47, 47, 47, 47,\n\t\t\t\t\t\t48, 48, 48, 48, 49, 49, 49, 49, 50, 50, 50, 50, 51, 51,\n\t\t\t\t\t\t51, 51, 52, 52, 52, 52, 53, 53, 53, 53, 54, 54, 54, 54,\n\t\t\t\t\t\t55, 55, 55, 55, 56, 56, 56, 56, 57, 57, 57, 57, 58, 58,\n\t\t\t\t\t\t58, 58, 59, 59, 59, 59, 60, 60, 60, 60, 61, 61, 61, 61,\n\t\t\t\t\t\t62, 62, 62, 62, 63, 63, 63, 63,\n\t\t\t\t\t\t/* CONTEXT_{M,L}SB6, second last byte, */\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t\t0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t\t\t\t\t] );\n\n\t\t\t\t\texports.lookupOffsets = new Uint16Array( [\n\t\t\t\t\t\t/* CONTEXT_LSB6 */\n\t\t\t\t\t\t1024, 1536 /* CONTEXT_MSB6 */, 1280,\n\t\t\t\t\t\t1536 /* CONTEXT_UTF8 */, 0, 256 /* CONTEXT_SIGNED */,\n\t\t\t\t\t\t768, 512,\n\t\t\t\t\t] );\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t3: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\n\t\t\t\t\tvar BrotliInput = require( './streams' ).BrotliInput;\n\t\t\t\t\tvar BrotliOutput = require( './streams' ).BrotliOutput;\n\t\t\t\t\tvar BrotliBitReader = require( './bit_reader' );\n\t\t\t\t\tvar BrotliDictionary = require( './dictionary' );\n\t\t\t\t\tvar HuffmanCode = require( './huffman' ).HuffmanCode;\n\t\t\t\t\tvar BrotliBuildHuffmanTable =\n\t\t\t\t\t\trequire( './huffman' ).BrotliBuildHuffmanTable;\n\t\t\t\t\tvar Context = require( './context' );\n\t\t\t\t\tvar Prefix = require( './prefix' );\n\t\t\t\t\tvar Transform = require( './transform' );\n\n\t\t\t\t\tvar kDefaultCodeLength = 8;\n\t\t\t\t\tvar kCodeLengthRepeatCode = 16;\n\t\t\t\t\tvar kNumLiteralCodes = 256;\n\t\t\t\t\tvar kNumInsertAndCopyCodes = 704;\n\t\t\t\t\tvar kNumBlockLengthCodes = 26;\n\t\t\t\t\tvar kLiteralContextBits = 6;\n\t\t\t\t\tvar kDistanceContextBits = 2;\n\n\t\t\t\t\tvar HUFFMAN_TABLE_BITS = 8;\n\t\t\t\t\tvar HUFFMAN_TABLE_MASK = 0xff;\n\t\t\t\t\t/* Maximum possible Huffman table size for an alphabet size of 704, max code\n\t\t\t\t\t * length 15 and root table bits 8. */\n\t\t\t\t\tvar HUFFMAN_MAX_TABLE_SIZE = 1080;\n\n\t\t\t\t\tvar CODE_LENGTH_CODES = 18;\n\t\t\t\t\tvar kCodeLengthCodeOrder = new Uint8Array( [\n\t\t\t\t\t\t1, 2, 3, 4, 0, 5, 17, 6, 16, 7, 8, 9, 10, 11, 12, 13,\n\t\t\t\t\t\t14, 15,\n\t\t\t\t\t] );\n\n\t\t\t\t\tvar NUM_DISTANCE_SHORT_CODES = 16;\n\t\t\t\t\tvar kDistanceShortCodeIndexOffset = new Uint8Array( [\n\t\t\t\t\t\t3, 2, 1, 0, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2,\n\t\t\t\t\t] );\n\n\t\t\t\t\tvar kDistanceShortCodeValueOffset = new Int8Array( [\n\t\t\t\t\t\t0, 0, 0, 0, -1, 1, -2, 2, -3, 3, -1, 1, -2, 2, -3, 3,\n\t\t\t\t\t] );\n\n\t\t\t\t\tvar kMaxHuffmanTableSize = new Uint16Array( [\n\t\t\t\t\t\t256, 402, 436, 468, 500, 534, 566, 598, 630, 662, 694,\n\t\t\t\t\t\t726, 758, 790, 822, 854, 886, 920, 952, 984, 1016, 1048,\n\t\t\t\t\t\t1080,\n\t\t\t\t\t] );\n\n\t\t\t\t\tfunction DecodeWindowBits( br ) {\n\t\t\t\t\t\tvar n;\n\t\t\t\t\t\tif ( br.readBits( 1 ) === 0 ) {\n\t\t\t\t\t\t\treturn 16;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tn = br.readBits( 3 );\n\t\t\t\t\t\tif ( n > 0 ) {\n\t\t\t\t\t\t\treturn 17 + n;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tn = br.readBits( 3 );\n\t\t\t\t\t\tif ( n > 0 ) {\n\t\t\t\t\t\t\treturn 8 + n;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn 17;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Decodes a number in the range [0..255], by reading 1 - 11 bits. */\n\t\t\t\t\tfunction DecodeVarLenUint8( br ) {\n\t\t\t\t\t\tif ( br.readBits( 1 ) ) {\n\t\t\t\t\t\t\tvar nbits = br.readBits( 3 );\n\t\t\t\t\t\t\tif ( nbits === 0 ) {\n\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn br.readBits( nbits ) + ( 1 << nbits );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction MetaBlockLength() {\n\t\t\t\t\t\tthis.meta_block_length = 0;\n\t\t\t\t\t\tthis.input_end = 0;\n\t\t\t\t\t\tthis.is_uncompressed = 0;\n\t\t\t\t\t\tthis.is_metadata = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction DecodeMetaBlockLength( br ) {\n\t\t\t\t\t\tvar out = new MetaBlockLength();\n\t\t\t\t\t\tvar size_nibbles;\n\t\t\t\t\t\tvar size_bytes;\n\t\t\t\t\t\tvar i;\n\n\t\t\t\t\t\tout.input_end = br.readBits( 1 );\n\t\t\t\t\t\tif ( out.input_end && br.readBits( 1 ) ) {\n\t\t\t\t\t\t\treturn out;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsize_nibbles = br.readBits( 2 ) + 4;\n\t\t\t\t\t\tif ( size_nibbles === 7 ) {\n\t\t\t\t\t\t\tout.is_metadata = true;\n\n\t\t\t\t\t\t\tif ( br.readBits( 1 ) !== 0 )\n\t\t\t\t\t\t\t\tthrow new Error( 'Invalid reserved bit' );\n\n\t\t\t\t\t\t\tsize_bytes = br.readBits( 2 );\n\t\t\t\t\t\t\tif ( size_bytes === 0 ) return out;\n\n\t\t\t\t\t\t\tfor ( i = 0; i < size_bytes; i++ ) {\n\t\t\t\t\t\t\t\tvar next_byte = br.readBits( 8 );\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\ti + 1 === size_bytes &&\n\t\t\t\t\t\t\t\t\tsize_bytes > 1 &&\n\t\t\t\t\t\t\t\t\tnext_byte === 0\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\tthrow new Error( 'Invalid size byte' );\n\n\t\t\t\t\t\t\t\tout.meta_block_length |= next_byte << ( i * 8 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor ( i = 0; i < size_nibbles; ++i ) {\n\t\t\t\t\t\t\t\tvar next_nibble = br.readBits( 4 );\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\ti + 1 === size_nibbles &&\n\t\t\t\t\t\t\t\t\tsize_nibbles > 4 &&\n\t\t\t\t\t\t\t\t\tnext_nibble === 0\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\tthrow new Error( 'Invalid size nibble' );\n\n\t\t\t\t\t\t\t\tout.meta_block_length |=\n\t\t\t\t\t\t\t\t\tnext_nibble << ( i * 4 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t++out.meta_block_length;\n\n\t\t\t\t\t\tif ( ! out.input_end && ! out.is_metadata ) {\n\t\t\t\t\t\t\tout.is_uncompressed = br.readBits( 1 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn out;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Decodes the next Huffman code from bit-stream. */\n\t\t\t\t\tfunction ReadSymbol( table, index, br ) {\n\t\t\t\t\t\tvar start_index = index;\n\n\t\t\t\t\t\tvar nbits;\n\t\t\t\t\t\tbr.fillBitWindow();\n\t\t\t\t\t\tindex +=\n\t\t\t\t\t\t\t( br.val_ >>> br.bit_pos_ ) & HUFFMAN_TABLE_MASK;\n\t\t\t\t\t\tnbits = table[ index ].bits - HUFFMAN_TABLE_BITS;\n\t\t\t\t\t\tif ( nbits > 0 ) {\n\t\t\t\t\t\t\tbr.bit_pos_ += HUFFMAN_TABLE_BITS;\n\t\t\t\t\t\t\tindex += table[ index ].value;\n\t\t\t\t\t\t\tindex +=\n\t\t\t\t\t\t\t\t( br.val_ >>> br.bit_pos_ ) &\n\t\t\t\t\t\t\t\t( ( 1 << nbits ) - 1 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbr.bit_pos_ += table[ index ].bits;\n\t\t\t\t\t\treturn table[ index ].value;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction ReadHuffmanCodeLengths(\n\t\t\t\t\t\tcode_length_code_lengths,\n\t\t\t\t\t\tnum_symbols,\n\t\t\t\t\t\tcode_lengths,\n\t\t\t\t\t\tbr\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar symbol = 0;\n\t\t\t\t\t\tvar prev_code_len = kDefaultCodeLength;\n\t\t\t\t\t\tvar repeat = 0;\n\t\t\t\t\t\tvar repeat_code_len = 0;\n\t\t\t\t\t\tvar space = 32768;\n\n\t\t\t\t\t\tvar table = [];\n\t\t\t\t\t\tfor ( var i = 0; i < 32; i++ )\n\t\t\t\t\t\t\ttable.push( new HuffmanCode( 0, 0 ) );\n\n\t\t\t\t\t\tBrotliBuildHuffmanTable(\n\t\t\t\t\t\t\ttable,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t5,\n\t\t\t\t\t\t\tcode_length_code_lengths,\n\t\t\t\t\t\t\tCODE_LENGTH_CODES\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\twhile ( symbol < num_symbols && space > 0 ) {\n\t\t\t\t\t\t\tvar p = 0;\n\t\t\t\t\t\t\tvar code_len;\n\n\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\tbr.fillBitWindow();\n\t\t\t\t\t\t\tp += ( br.val_ >>> br.bit_pos_ ) & 31;\n\t\t\t\t\t\t\tbr.bit_pos_ += table[ p ].bits;\n\t\t\t\t\t\t\tcode_len = table[ p ].value & 0xff;\n\t\t\t\t\t\t\tif ( code_len < kCodeLengthRepeatCode ) {\n\t\t\t\t\t\t\t\trepeat = 0;\n\t\t\t\t\t\t\t\tcode_lengths[ symbol++ ] = code_len;\n\t\t\t\t\t\t\t\tif ( code_len !== 0 ) {\n\t\t\t\t\t\t\t\t\tprev_code_len = code_len;\n\t\t\t\t\t\t\t\t\tspace -= 32768 >> code_len;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar extra_bits = code_len - 14;\n\t\t\t\t\t\t\t\tvar old_repeat;\n\t\t\t\t\t\t\t\tvar repeat_delta;\n\t\t\t\t\t\t\t\tvar new_len = 0;\n\t\t\t\t\t\t\t\tif ( code_len === kCodeLengthRepeatCode ) {\n\t\t\t\t\t\t\t\t\tnew_len = prev_code_len;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( repeat_code_len !== new_len ) {\n\t\t\t\t\t\t\t\t\trepeat = 0;\n\t\t\t\t\t\t\t\t\trepeat_code_len = new_len;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\told_repeat = repeat;\n\t\t\t\t\t\t\t\tif ( repeat > 0 ) {\n\t\t\t\t\t\t\t\t\trepeat -= 2;\n\t\t\t\t\t\t\t\t\trepeat <<= extra_bits;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trepeat += br.readBits( extra_bits ) + 3;\n\t\t\t\t\t\t\t\trepeat_delta = repeat - old_repeat;\n\t\t\t\t\t\t\t\tif ( symbol + repeat_delta > num_symbols ) {\n\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t'[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfor ( var x = 0; x < repeat_delta; x++ )\n\t\t\t\t\t\t\t\t\tcode_lengths[ symbol + x ] =\n\t\t\t\t\t\t\t\t\t\trepeat_code_len;\n\n\t\t\t\t\t\t\t\tsymbol += repeat_delta;\n\n\t\t\t\t\t\t\t\tif ( repeat_code_len !== 0 ) {\n\t\t\t\t\t\t\t\t\tspace -=\n\t\t\t\t\t\t\t\t\t\trepeat_delta <<\n\t\t\t\t\t\t\t\t\t\t( 15 - repeat_code_len );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( space !== 0 ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'[ReadHuffmanCodeLengths] space = ' + space\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( ; symbol < num_symbols; symbol++ )\n\t\t\t\t\t\t\tcode_lengths[ symbol ] = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction ReadHuffmanCode(\n\t\t\t\t\t\talphabet_size,\n\t\t\t\t\t\ttables,\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\tbr\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar table_size = 0;\n\t\t\t\t\t\tvar simple_code_or_skip;\n\t\t\t\t\t\tvar code_lengths = new Uint8Array( alphabet_size );\n\n\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t/* simple_code_or_skip is used as follows:\n     1 for simple code;\n     0 for no skipping, 2 skips 2 code lengths, 3 skips 3 code lengths */\n\t\t\t\t\t\tsimple_code_or_skip = br.readBits( 2 );\n\t\t\t\t\t\tif ( simple_code_or_skip === 1 ) {\n\t\t\t\t\t\t\t/* Read symbols, codes & code lengths directly. */\n\t\t\t\t\t\t\tvar i;\n\t\t\t\t\t\t\tvar max_bits_counter = alphabet_size - 1;\n\t\t\t\t\t\t\tvar max_bits = 0;\n\t\t\t\t\t\t\tvar symbols = new Int32Array( 4 );\n\t\t\t\t\t\t\tvar num_symbols = br.readBits( 2 ) + 1;\n\t\t\t\t\t\t\twhile ( max_bits_counter ) {\n\t\t\t\t\t\t\t\tmax_bits_counter >>= 1;\n\t\t\t\t\t\t\t\t++max_bits;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor ( i = 0; i < num_symbols; ++i ) {\n\t\t\t\t\t\t\t\tsymbols[ i ] =\n\t\t\t\t\t\t\t\t\tbr.readBits( max_bits ) % alphabet_size;\n\t\t\t\t\t\t\t\tcode_lengths[ symbols[ i ] ] = 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcode_lengths[ symbols[ 0 ] ] = 1;\n\t\t\t\t\t\t\tswitch ( num_symbols ) {\n\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 1 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 2 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 1 ] === symbols[ 2 ]\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'[ReadHuffmanCode] invalid symbols'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\tif ( symbols[ 0 ] === symbols[ 1 ] ) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'[ReadHuffmanCode] invalid symbols'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcode_lengths[ symbols[ 1 ] ] = 1;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 1 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 2 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 0 ] === symbols[ 3 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 1 ] === symbols[ 2 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 1 ] === symbols[ 3 ] ||\n\t\t\t\t\t\t\t\t\t\tsymbols[ 2 ] === symbols[ 3 ]\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'[ReadHuffmanCode] invalid symbols'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( br.readBits( 1 ) ) {\n\t\t\t\t\t\t\t\t\t\tcode_lengths[ symbols[ 2 ] ] = 3;\n\t\t\t\t\t\t\t\t\t\tcode_lengths[ symbols[ 3 ] ] = 3;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcode_lengths[ symbols[ 0 ] ] = 2;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t/* Decode Huffman-coded code lengths. */\n\t\t\t\t\t\t\tvar i;\n\t\t\t\t\t\t\tvar code_length_code_lengths = new Uint8Array(\n\t\t\t\t\t\t\t\tCODE_LENGTH_CODES\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tvar space = 32;\n\t\t\t\t\t\t\tvar num_codes = 0;\n\t\t\t\t\t\t\t/* Static Huffman code for the code length code lengths */\n\t\t\t\t\t\t\tvar huff = [\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 0 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 4 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 3 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 3, 2 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 0 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 4 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 3 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 4, 1 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 0 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 4 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 3 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 3, 2 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 0 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 4 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 2, 3 ),\n\t\t\t\t\t\t\t\tnew HuffmanCode( 4, 5 ),\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\ti = simple_code_or_skip;\n\t\t\t\t\t\t\t\ti < CODE_LENGTH_CODES && space > 0;\n\t\t\t\t\t\t\t\t++i\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tvar code_len_idx = kCodeLengthCodeOrder[ i ];\n\t\t\t\t\t\t\t\tvar p = 0;\n\t\t\t\t\t\t\t\tvar v;\n\t\t\t\t\t\t\t\tbr.fillBitWindow();\n\t\t\t\t\t\t\t\tp += ( br.val_ >>> br.bit_pos_ ) & 15;\n\t\t\t\t\t\t\t\tbr.bit_pos_ += huff[ p ].bits;\n\t\t\t\t\t\t\t\tv = huff[ p ].value;\n\t\t\t\t\t\t\t\tcode_length_code_lengths[ code_len_idx ] = v;\n\t\t\t\t\t\t\t\tif ( v !== 0 ) {\n\t\t\t\t\t\t\t\t\tspace -= 32 >> v;\n\t\t\t\t\t\t\t\t\t++num_codes;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( ! ( num_codes === 1 || space === 0 ) )\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t'[ReadHuffmanCode] invalid num_codes or space'\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tReadHuffmanCodeLengths(\n\t\t\t\t\t\t\t\tcode_length_code_lengths,\n\t\t\t\t\t\t\t\talphabet_size,\n\t\t\t\t\t\t\t\tcode_lengths,\n\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable_size = BrotliBuildHuffmanTable(\n\t\t\t\t\t\t\ttables,\n\t\t\t\t\t\t\ttable,\n\t\t\t\t\t\t\tHUFFMAN_TABLE_BITS,\n\t\t\t\t\t\t\tcode_lengths,\n\t\t\t\t\t\t\talphabet_size\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif ( table_size === 0 ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'[ReadHuffmanCode] BuildHuffmanTable failed: '\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn table_size;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction ReadBlockLength( table, index, br ) {\n\t\t\t\t\t\tvar code;\n\t\t\t\t\t\tvar nbits;\n\t\t\t\t\t\tcode = ReadSymbol( table, index, br );\n\t\t\t\t\t\tnbits = Prefix.kBlockLengthPrefixCode[ code ].nbits;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tPrefix.kBlockLengthPrefixCode[ code ].offset +\n\t\t\t\t\t\t\tbr.readBits( nbits )\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction TranslateShortCodes( code, ringbuffer, index ) {\n\t\t\t\t\t\tvar val;\n\t\t\t\t\t\tif ( code < NUM_DISTANCE_SHORT_CODES ) {\n\t\t\t\t\t\t\tindex += kDistanceShortCodeIndexOffset[ code ];\n\t\t\t\t\t\t\tindex &= 3;\n\t\t\t\t\t\t\tval =\n\t\t\t\t\t\t\t\tringbuffer[ index ] +\n\t\t\t\t\t\t\t\tkDistanceShortCodeValueOffset[ code ];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tval = code - NUM_DISTANCE_SHORT_CODES + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn val;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction MoveToFront( v, index ) {\n\t\t\t\t\t\tvar value = v[ index ];\n\t\t\t\t\t\tvar i = index;\n\t\t\t\t\t\tfor ( ; i; --i ) v[ i ] = v[ i - 1 ];\n\t\t\t\t\t\tv[ 0 ] = value;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction InverseMoveToFrontTransform( v, v_len ) {\n\t\t\t\t\t\tvar mtf = new Uint8Array( 256 );\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tfor ( i = 0; i < 256; ++i ) {\n\t\t\t\t\t\t\tmtf[ i ] = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor ( i = 0; i < v_len; ++i ) {\n\t\t\t\t\t\t\tvar index = v[ i ];\n\t\t\t\t\t\t\tv[ i ] = mtf[ index ];\n\t\t\t\t\t\t\tif ( index ) MoveToFront( mtf, index );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Contains a collection of huffman trees with the same alphabet size. */\n\t\t\t\t\tfunction HuffmanTreeGroup( alphabet_size, num_htrees ) {\n\t\t\t\t\t\tthis.alphabet_size = alphabet_size;\n\t\t\t\t\t\tthis.num_htrees = num_htrees;\n\t\t\t\t\t\tthis.codes = new Array(\n\t\t\t\t\t\t\tnum_htrees +\n\t\t\t\t\t\t\t\tnum_htrees *\n\t\t\t\t\t\t\t\t\tkMaxHuffmanTableSize[\n\t\t\t\t\t\t\t\t\t\t( alphabet_size + 31 ) >>> 5\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.htrees = new Uint32Array( num_htrees );\n\t\t\t\t\t}\n\n\t\t\t\t\tHuffmanTreeGroup.prototype.decode = function ( br ) {\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tvar table_size;\n\t\t\t\t\t\tvar next = 0;\n\t\t\t\t\t\tfor ( i = 0; i < this.num_htrees; ++i ) {\n\t\t\t\t\t\t\tthis.htrees[ i ] = next;\n\t\t\t\t\t\t\ttable_size = ReadHuffmanCode(\n\t\t\t\t\t\t\t\tthis.alphabet_size,\n\t\t\t\t\t\t\t\tthis.codes,\n\t\t\t\t\t\t\t\tnext,\n\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tnext += table_size;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction DecodeContextMap( context_map_size, br ) {\n\t\t\t\t\t\tvar out = { num_htrees: null, context_map: null };\n\t\t\t\t\t\tvar use_rle_for_zeros;\n\t\t\t\t\t\tvar max_run_length_prefix = 0;\n\t\t\t\t\t\tvar table;\n\t\t\t\t\t\tvar i;\n\n\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\tvar num_htrees = ( out.num_htrees =\n\t\t\t\t\t\t\tDecodeVarLenUint8( br ) + 1 );\n\n\t\t\t\t\t\tvar context_map = ( out.context_map = new Uint8Array(\n\t\t\t\t\t\t\tcontext_map_size\n\t\t\t\t\t\t) );\n\t\t\t\t\t\tif ( num_htrees <= 1 ) {\n\t\t\t\t\t\t\treturn out;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tuse_rle_for_zeros = br.readBits( 1 );\n\t\t\t\t\t\tif ( use_rle_for_zeros ) {\n\t\t\t\t\t\t\tmax_run_length_prefix = br.readBits( 4 ) + 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable = [];\n\t\t\t\t\t\tfor ( i = 0; i < HUFFMAN_MAX_TABLE_SIZE; i++ ) {\n\t\t\t\t\t\t\ttable[ i ] = new HuffmanCode( 0, 0 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tReadHuffmanCode(\n\t\t\t\t\t\t\tnum_htrees + max_run_length_prefix,\n\t\t\t\t\t\t\ttable,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tfor ( i = 0; i < context_map_size;  ) {\n\t\t\t\t\t\t\tvar code;\n\n\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\tcode = ReadSymbol( table, 0, br );\n\t\t\t\t\t\t\tif ( code === 0 ) {\n\t\t\t\t\t\t\t\tcontext_map[ i ] = 0;\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t} else if ( code <= max_run_length_prefix ) {\n\t\t\t\t\t\t\t\tvar reps =\n\t\t\t\t\t\t\t\t\t1 + ( 1 << code ) + br.readBits( code );\n\t\t\t\t\t\t\t\twhile ( --reps ) {\n\t\t\t\t\t\t\t\t\tif ( i >= context_map_size ) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'[DecodeContextMap] i >= context_map_size'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcontext_map[ i ] = 0;\n\t\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontext_map[ i ] = code - max_run_length_prefix;\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( br.readBits( 1 ) ) {\n\t\t\t\t\t\t\tInverseMoveToFrontTransform(\n\t\t\t\t\t\t\t\tcontext_map,\n\t\t\t\t\t\t\t\tcontext_map_size\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn out;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction DecodeBlockType(\n\t\t\t\t\t\tmax_block_type,\n\t\t\t\t\t\ttrees,\n\t\t\t\t\t\ttree_type,\n\t\t\t\t\t\tblock_types,\n\t\t\t\t\t\tringbuffers,\n\t\t\t\t\t\tindexes,\n\t\t\t\t\t\tbr\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar ringbuffer = tree_type * 2;\n\t\t\t\t\t\tvar index = tree_type;\n\t\t\t\t\t\tvar type_code = ReadSymbol(\n\t\t\t\t\t\t\ttrees,\n\t\t\t\t\t\t\ttree_type * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t);\n\t\t\t\t\t\tvar block_type;\n\t\t\t\t\t\tif ( type_code === 0 ) {\n\t\t\t\t\t\t\tblock_type =\n\t\t\t\t\t\t\t\tringbuffers[\n\t\t\t\t\t\t\t\t\tringbuffer + ( indexes[ index ] & 1 )\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t} else if ( type_code === 1 ) {\n\t\t\t\t\t\t\tblock_type =\n\t\t\t\t\t\t\t\tringbuffers[\n\t\t\t\t\t\t\t\t\tringbuffer +\n\t\t\t\t\t\t\t\t\t\t( ( indexes[ index ] - 1 ) & 1 )\n\t\t\t\t\t\t\t\t] + 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tblock_type = type_code - 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( block_type >= max_block_type ) {\n\t\t\t\t\t\t\tblock_type -= max_block_type;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tblock_types[ tree_type ] = block_type;\n\t\t\t\t\t\tringbuffers[ ringbuffer + ( indexes[ index ] & 1 ) ] =\n\t\t\t\t\t\t\tblock_type;\n\t\t\t\t\t\t++indexes[ index ];\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction CopyUncompressedBlockToOutput(\n\t\t\t\t\t\toutput,\n\t\t\t\t\t\tlen,\n\t\t\t\t\t\tpos,\n\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\tringbuffer_mask,\n\t\t\t\t\t\tbr\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar rb_size = ringbuffer_mask + 1;\n\t\t\t\t\t\tvar rb_pos = pos & ringbuffer_mask;\n\t\t\t\t\t\tvar br_pos = br.pos_ & BrotliBitReader.IBUF_MASK;\n\t\t\t\t\t\tvar nbytes;\n\n\t\t\t\t\t\t/* For short lengths copy byte-by-byte */\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlen < 8 ||\n\t\t\t\t\t\t\tbr.bit_pos_ + ( len << 3 ) < br.bit_end_pos_\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\twhile ( len-- > 0 ) {\n\t\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\t\tringbuffer[ rb_pos++ ] = br.readBits( 8 );\n\t\t\t\t\t\t\t\tif ( rb_pos === rb_size ) {\n\t\t\t\t\t\t\t\t\toutput.write( ringbuffer, rb_size );\n\t\t\t\t\t\t\t\t\trb_pos = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( br.bit_end_pos_ < 32 ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'[CopyUncompressedBlockToOutput] br.bit_end_pos_ < 32'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Copy remaining 0-4 bytes from br.val_ to ringbuffer. */\n\t\t\t\t\t\twhile ( br.bit_pos_ < 32 ) {\n\t\t\t\t\t\t\tringbuffer[ rb_pos ] = br.val_ >>> br.bit_pos_;\n\t\t\t\t\t\t\tbr.bit_pos_ += 8;\n\t\t\t\t\t\t\t++rb_pos;\n\t\t\t\t\t\t\t--len;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Copy remaining bytes from br.buf_ to ringbuffer. */\n\t\t\t\t\t\tnbytes = ( br.bit_end_pos_ - br.bit_pos_ ) >> 3;\n\t\t\t\t\t\tif ( br_pos + nbytes > BrotliBitReader.IBUF_MASK ) {\n\t\t\t\t\t\t\tvar tail = BrotliBitReader.IBUF_MASK + 1 - br_pos;\n\t\t\t\t\t\t\tfor ( var x = 0; x < tail; x++ )\n\t\t\t\t\t\t\t\tringbuffer[ rb_pos + x ] =\n\t\t\t\t\t\t\t\t\tbr.buf_[ br_pos + x ];\n\n\t\t\t\t\t\t\tnbytes -= tail;\n\t\t\t\t\t\t\trb_pos += tail;\n\t\t\t\t\t\t\tlen -= tail;\n\t\t\t\t\t\t\tbr_pos = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( var x = 0; x < nbytes; x++ )\n\t\t\t\t\t\t\tringbuffer[ rb_pos + x ] = br.buf_[ br_pos + x ];\n\n\t\t\t\t\t\trb_pos += nbytes;\n\t\t\t\t\t\tlen -= nbytes;\n\n\t\t\t\t\t\t/* If we wrote past the logical end of the ringbuffer, copy the tail of the\n     ringbuffer to its beginning and flush the ringbuffer to the output. */\n\t\t\t\t\t\tif ( rb_pos >= rb_size ) {\n\t\t\t\t\t\t\toutput.write( ringbuffer, rb_size );\n\t\t\t\t\t\t\trb_pos -= rb_size;\n\t\t\t\t\t\t\tfor ( var x = 0; x < rb_pos; x++ )\n\t\t\t\t\t\t\t\tringbuffer[ x ] = ringbuffer[ rb_size + x ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* If we have more to copy than the remaining size of the ringbuffer, then we\n     first fill the ringbuffer from the input and then flush the ringbuffer to\n     the output */\n\t\t\t\t\t\twhile ( rb_pos + len >= rb_size ) {\n\t\t\t\t\t\t\tnbytes = rb_size - rb_pos;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tbr.input_.read( ringbuffer, rb_pos, nbytes ) <\n\t\t\t\t\t\t\t\tnbytes\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t'[CopyUncompressedBlockToOutput] not enough bytes'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toutput.write( ringbuffer, rb_size );\n\t\t\t\t\t\t\tlen -= nbytes;\n\t\t\t\t\t\t\trb_pos = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Copy straight from the input onto the ringbuffer. The ringbuffer will be\n     flushed to the output at a later time. */\n\t\t\t\t\t\tif ( br.input_.read( ringbuffer, rb_pos, len ) < len ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'[CopyUncompressedBlockToOutput] not enough bytes'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Restore the state of the bit reader. */\n\t\t\t\t\t\tbr.reset();\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Advances the bit reader position to the next byte boundary and verifies\n   that any skipped bits are set to zero. */\n\t\t\t\t\tfunction JumpToByteBoundary( br ) {\n\t\t\t\t\t\tvar new_bit_pos = ( br.bit_pos_ + 7 ) & ~7;\n\t\t\t\t\t\tvar pad_bits = br.readBits( new_bit_pos - br.bit_pos_ );\n\t\t\t\t\t\treturn pad_bits == 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction BrotliDecompressedSize( buffer ) {\n\t\t\t\t\t\tvar input = new BrotliInput( buffer );\n\t\t\t\t\t\tvar br = new BrotliBitReader( input );\n\t\t\t\t\t\tDecodeWindowBits( br );\n\t\t\t\t\t\tvar out = DecodeMetaBlockLength( br );\n\t\t\t\t\t\treturn out.meta_block_length;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.BrotliDecompressedSize = BrotliDecompressedSize;\n\n\t\t\t\t\tfunction BrotliDecompressBuffer( buffer, output_size ) {\n\t\t\t\t\t\tvar input = new BrotliInput( buffer );\n\n\t\t\t\t\t\tif ( output_size == null ) {\n\t\t\t\t\t\t\toutput_size = BrotliDecompressedSize( buffer );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar output_buffer = new Uint8Array( output_size );\n\t\t\t\t\t\tvar output = new BrotliOutput( output_buffer );\n\n\t\t\t\t\t\tBrotliDecompress( input, output );\n\n\t\t\t\t\t\tif ( output.pos < output.buffer.length ) {\n\t\t\t\t\t\t\toutput.buffer = output.buffer.subarray(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\toutput.pos\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn output.buffer;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.BrotliDecompressBuffer = BrotliDecompressBuffer;\n\n\t\t\t\t\tfunction BrotliDecompress( input, output ) {\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tvar pos = 0;\n\t\t\t\t\t\tvar input_end = 0;\n\t\t\t\t\t\tvar window_bits = 0;\n\t\t\t\t\t\tvar max_backward_distance;\n\t\t\t\t\t\tvar max_distance = 0;\n\t\t\t\t\t\tvar ringbuffer_size;\n\t\t\t\t\t\tvar ringbuffer_mask;\n\t\t\t\t\t\tvar ringbuffer;\n\t\t\t\t\t\tvar ringbuffer_end;\n\t\t\t\t\t\t/* This ring buffer holds a few past copy distances that will be used by */\n\t\t\t\t\t\t/* some special distance codes. */\n\t\t\t\t\t\tvar dist_rb = [ 16, 15, 11, 4 ];\n\t\t\t\t\t\tvar dist_rb_idx = 0;\n\t\t\t\t\t\t/* The previous 2 bytes used for context. */\n\t\t\t\t\t\tvar prev_byte1 = 0;\n\t\t\t\t\t\tvar prev_byte2 = 0;\n\t\t\t\t\t\tvar hgroup = [\n\t\t\t\t\t\t\tnew HuffmanTreeGroup( 0, 0 ),\n\t\t\t\t\t\t\tnew HuffmanTreeGroup( 0, 0 ),\n\t\t\t\t\t\t\tnew HuffmanTreeGroup( 0, 0 ),\n\t\t\t\t\t\t];\n\t\t\t\t\t\tvar block_type_trees;\n\t\t\t\t\t\tvar block_len_trees;\n\t\t\t\t\t\tvar br;\n\n\t\t\t\t\t\t/* We need the slack region for the following reasons:\n       - always doing two 8-byte copies for fast backward copying\n       - transforms\n       - flushing the input ringbuffer when decoding uncompressed blocks */\n\t\t\t\t\t\tvar kRingBufferWriteAheadSlack =\n\t\t\t\t\t\t\t128 + BrotliBitReader.READ_SIZE;\n\n\t\t\t\t\t\tbr = new BrotliBitReader( input );\n\n\t\t\t\t\t\t/* Decode window size. */\n\t\t\t\t\t\twindow_bits = DecodeWindowBits( br );\n\t\t\t\t\t\tmax_backward_distance = ( 1 << window_bits ) - 16;\n\n\t\t\t\t\t\tringbuffer_size = 1 << window_bits;\n\t\t\t\t\t\tringbuffer_mask = ringbuffer_size - 1;\n\t\t\t\t\t\tringbuffer = new Uint8Array(\n\t\t\t\t\t\t\tringbuffer_size +\n\t\t\t\t\t\t\t\tkRingBufferWriteAheadSlack +\n\t\t\t\t\t\t\t\tBrotliDictionary.maxDictionaryWordLength\n\t\t\t\t\t\t);\n\t\t\t\t\t\tringbuffer_end = ringbuffer_size;\n\n\t\t\t\t\t\tblock_type_trees = [];\n\t\t\t\t\t\tblock_len_trees = [];\n\t\t\t\t\t\tfor ( var x = 0; x < 3 * HUFFMAN_MAX_TABLE_SIZE; x++ ) {\n\t\t\t\t\t\t\tblock_type_trees[ x ] = new HuffmanCode( 0, 0 );\n\t\t\t\t\t\t\tblock_len_trees[ x ] = new HuffmanCode( 0, 0 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twhile ( ! input_end ) {\n\t\t\t\t\t\t\tvar meta_block_remaining_len = 0;\n\t\t\t\t\t\t\tvar is_uncompressed;\n\t\t\t\t\t\t\tvar block_length = [ 1 << 28, 1 << 28, 1 << 28 ];\n\t\t\t\t\t\t\tvar block_type = [ 0 ];\n\t\t\t\t\t\t\tvar num_block_types = [ 1, 1, 1 ];\n\t\t\t\t\t\t\tvar block_type_rb = [ 0, 1, 0, 1, 0, 1 ];\n\t\t\t\t\t\t\tvar block_type_rb_index = [ 0 ];\n\t\t\t\t\t\t\tvar distance_postfix_bits;\n\t\t\t\t\t\t\tvar num_direct_distance_codes;\n\t\t\t\t\t\t\tvar distance_postfix_mask;\n\t\t\t\t\t\t\tvar num_distance_codes;\n\t\t\t\t\t\t\tvar context_map = null;\n\t\t\t\t\t\t\tvar context_modes = null;\n\t\t\t\t\t\t\tvar num_literal_htrees;\n\t\t\t\t\t\t\tvar dist_context_map = null;\n\t\t\t\t\t\t\tvar num_dist_htrees;\n\t\t\t\t\t\t\tvar context_offset = 0;\n\t\t\t\t\t\t\tvar context_map_slice = null;\n\t\t\t\t\t\t\tvar literal_htree_index = 0;\n\t\t\t\t\t\t\tvar dist_context_offset = 0;\n\t\t\t\t\t\t\tvar dist_context_map_slice = null;\n\t\t\t\t\t\t\tvar dist_htree_index = 0;\n\t\t\t\t\t\t\tvar context_lookup_offset1 = 0;\n\t\t\t\t\t\t\tvar context_lookup_offset2 = 0;\n\t\t\t\t\t\t\tvar context_mode;\n\t\t\t\t\t\t\tvar htree_command;\n\n\t\t\t\t\t\t\tfor ( i = 0; i < 3; ++i ) {\n\t\t\t\t\t\t\t\thgroup[ i ].codes = null;\n\t\t\t\t\t\t\t\thgroup[ i ].htrees = null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t\tvar _out = DecodeMetaBlockLength( br );\n\t\t\t\t\t\t\tmeta_block_remaining_len = _out.meta_block_length;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tpos + meta_block_remaining_len >\n\t\t\t\t\t\t\t\toutput.buffer.length\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t/* We need to grow the output buffer to fit the additional data. */\n\t\t\t\t\t\t\t\tvar tmp = new Uint8Array(\n\t\t\t\t\t\t\t\t\tpos + meta_block_remaining_len\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\ttmp.set( output.buffer );\n\t\t\t\t\t\t\t\toutput.buffer = tmp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinput_end = _out.input_end;\n\t\t\t\t\t\t\tis_uncompressed = _out.is_uncompressed;\n\n\t\t\t\t\t\t\tif ( _out.is_metadata ) {\n\t\t\t\t\t\t\t\tJumpToByteBoundary( br );\n\n\t\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t\t\tmeta_block_remaining_len > 0;\n\t\t\t\t\t\t\t\t\t--meta_block_remaining_len\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\t\t\t/* Read one byte and ignore it. */\n\t\t\t\t\t\t\t\t\tbr.readBits( 8 );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( meta_block_remaining_len === 0 ) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( is_uncompressed ) {\n\t\t\t\t\t\t\t\tbr.bit_pos_ = ( br.bit_pos_ + 7 ) & ~7;\n\t\t\t\t\t\t\t\tCopyUncompressedBlockToOutput(\n\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\tmeta_block_remaining_len,\n\t\t\t\t\t\t\t\t\tpos,\n\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\tringbuffer_mask,\n\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tpos += meta_block_remaining_len;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor ( i = 0; i < 3; ++i ) {\n\t\t\t\t\t\t\t\tnum_block_types[ i ] =\n\t\t\t\t\t\t\t\t\tDecodeVarLenUint8( br ) + 1;\n\t\t\t\t\t\t\t\tif ( num_block_types[ i ] >= 2 ) {\n\t\t\t\t\t\t\t\t\tReadHuffmanCode(\n\t\t\t\t\t\t\t\t\t\tnum_block_types[ i ] + 2,\n\t\t\t\t\t\t\t\t\t\tblock_type_trees,\n\t\t\t\t\t\t\t\t\t\ti * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tReadHuffmanCode(\n\t\t\t\t\t\t\t\t\t\tkNumBlockLengthCodes,\n\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\ti * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tblock_length[ i ] = ReadBlockLength(\n\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\ti * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tblock_type_rb_index[ i ] = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t\tdistance_postfix_bits = br.readBits( 2 );\n\t\t\t\t\t\t\tnum_direct_distance_codes =\n\t\t\t\t\t\t\t\tNUM_DISTANCE_SHORT_CODES +\n\t\t\t\t\t\t\t\t( br.readBits( 4 ) << distance_postfix_bits );\n\t\t\t\t\t\t\tdistance_postfix_mask =\n\t\t\t\t\t\t\t\t( 1 << distance_postfix_bits ) - 1;\n\t\t\t\t\t\t\tnum_distance_codes =\n\t\t\t\t\t\t\t\tnum_direct_distance_codes +\n\t\t\t\t\t\t\t\t( 48 << distance_postfix_bits );\n\t\t\t\t\t\t\tcontext_modes = new Uint8Array(\n\t\t\t\t\t\t\t\tnum_block_types[ 0 ]\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tfor ( i = 0; i < num_block_types[ 0 ]; ++i ) {\n\t\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\t\tcontext_modes[ i ] = br.readBits( 2 ) << 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar _o1 = DecodeContextMap(\n\t\t\t\t\t\t\t\tnum_block_types[ 0 ] << kLiteralContextBits,\n\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tnum_literal_htrees = _o1.num_htrees;\n\t\t\t\t\t\t\tcontext_map = _o1.context_map;\n\n\t\t\t\t\t\t\tvar _o2 = DecodeContextMap(\n\t\t\t\t\t\t\t\tnum_block_types[ 2 ] << kDistanceContextBits,\n\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tnum_dist_htrees = _o2.num_htrees;\n\t\t\t\t\t\t\tdist_context_map = _o2.context_map;\n\n\t\t\t\t\t\t\thgroup[ 0 ] = new HuffmanTreeGroup(\n\t\t\t\t\t\t\t\tkNumLiteralCodes,\n\t\t\t\t\t\t\t\tnum_literal_htrees\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\thgroup[ 1 ] = new HuffmanTreeGroup(\n\t\t\t\t\t\t\t\tkNumInsertAndCopyCodes,\n\t\t\t\t\t\t\t\tnum_block_types[ 1 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\thgroup[ 2 ] = new HuffmanTreeGroup(\n\t\t\t\t\t\t\t\tnum_distance_codes,\n\t\t\t\t\t\t\t\tnum_dist_htrees\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tfor ( i = 0; i < 3; ++i ) {\n\t\t\t\t\t\t\t\thgroup[ i ].decode( br );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcontext_map_slice = 0;\n\t\t\t\t\t\t\tdist_context_map_slice = 0;\n\t\t\t\t\t\t\tcontext_mode = context_modes[ block_type[ 0 ] ];\n\t\t\t\t\t\t\tcontext_lookup_offset1 =\n\t\t\t\t\t\t\t\tContext.lookupOffsets[ context_mode ];\n\t\t\t\t\t\t\tcontext_lookup_offset2 =\n\t\t\t\t\t\t\t\tContext.lookupOffsets[ context_mode + 1 ];\n\t\t\t\t\t\t\thtree_command = hgroup[ 1 ].htrees[ 0 ];\n\n\t\t\t\t\t\t\twhile ( meta_block_remaining_len > 0 ) {\n\t\t\t\t\t\t\t\tvar cmd_code;\n\t\t\t\t\t\t\t\tvar range_idx;\n\t\t\t\t\t\t\t\tvar insert_code;\n\t\t\t\t\t\t\t\tvar copy_code;\n\t\t\t\t\t\t\t\tvar insert_length;\n\t\t\t\t\t\t\t\tvar copy_length;\n\t\t\t\t\t\t\t\tvar distance_code;\n\t\t\t\t\t\t\t\tvar distance;\n\t\t\t\t\t\t\t\tvar context;\n\t\t\t\t\t\t\t\tvar j;\n\t\t\t\t\t\t\t\tvar copy_dst;\n\n\t\t\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t\t\tif ( block_length[ 1 ] === 0 ) {\n\t\t\t\t\t\t\t\t\tDecodeBlockType(\n\t\t\t\t\t\t\t\t\t\tnum_block_types[ 1 ],\n\t\t\t\t\t\t\t\t\t\tblock_type_trees,\n\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\tblock_type,\n\t\t\t\t\t\t\t\t\t\tblock_type_rb,\n\t\t\t\t\t\t\t\t\t\tblock_type_rb_index,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tblock_length[ 1 ] = ReadBlockLength(\n\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\tHUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\thtree_command =\n\t\t\t\t\t\t\t\t\t\thgroup[ 1 ].htrees[ block_type[ 1 ] ];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t--block_length[ 1 ];\n\t\t\t\t\t\t\t\tcmd_code = ReadSymbol(\n\t\t\t\t\t\t\t\t\thgroup[ 1 ].codes,\n\t\t\t\t\t\t\t\t\thtree_command,\n\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\trange_idx = cmd_code >> 6;\n\t\t\t\t\t\t\t\tif ( range_idx >= 2 ) {\n\t\t\t\t\t\t\t\t\trange_idx -= 2;\n\t\t\t\t\t\t\t\t\tdistance_code = -1;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdistance_code = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinsert_code =\n\t\t\t\t\t\t\t\t\tPrefix.kInsertRangeLut[ range_idx ] +\n\t\t\t\t\t\t\t\t\t( ( cmd_code >> 3 ) & 7 );\n\t\t\t\t\t\t\t\tcopy_code =\n\t\t\t\t\t\t\t\t\tPrefix.kCopyRangeLut[ range_idx ] +\n\t\t\t\t\t\t\t\t\t( cmd_code & 7 );\n\t\t\t\t\t\t\t\tinsert_length =\n\t\t\t\t\t\t\t\t\tPrefix.kInsertLengthPrefixCode[\n\t\t\t\t\t\t\t\t\t\tinsert_code\n\t\t\t\t\t\t\t\t\t].offset +\n\t\t\t\t\t\t\t\t\tbr.readBits(\n\t\t\t\t\t\t\t\t\t\tPrefix.kInsertLengthPrefixCode[\n\t\t\t\t\t\t\t\t\t\t\tinsert_code\n\t\t\t\t\t\t\t\t\t\t].nbits\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tcopy_length =\n\t\t\t\t\t\t\t\t\tPrefix.kCopyLengthPrefixCode[ copy_code ]\n\t\t\t\t\t\t\t\t\t\t.offset +\n\t\t\t\t\t\t\t\t\tbr.readBits(\n\t\t\t\t\t\t\t\t\t\tPrefix.kCopyLengthPrefixCode[\n\t\t\t\t\t\t\t\t\t\t\tcopy_code\n\t\t\t\t\t\t\t\t\t\t].nbits\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tprev_byte1 =\n\t\t\t\t\t\t\t\t\tringbuffer[ ( pos - 1 ) & ringbuffer_mask ];\n\t\t\t\t\t\t\t\tprev_byte2 =\n\t\t\t\t\t\t\t\t\tringbuffer[ ( pos - 2 ) & ringbuffer_mask ];\n\t\t\t\t\t\t\t\tfor ( j = 0; j < insert_length; ++j ) {\n\t\t\t\t\t\t\t\t\tbr.readMoreInput();\n\n\t\t\t\t\t\t\t\t\tif ( block_length[ 0 ] === 0 ) {\n\t\t\t\t\t\t\t\t\t\tDecodeBlockType(\n\t\t\t\t\t\t\t\t\t\t\tnum_block_types[ 0 ],\n\t\t\t\t\t\t\t\t\t\t\tblock_type_trees,\n\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\tblock_type,\n\t\t\t\t\t\t\t\t\t\t\tblock_type_rb,\n\t\t\t\t\t\t\t\t\t\t\tblock_type_rb_index,\n\t\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tblock_length[ 0 ] = ReadBlockLength(\n\t\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tcontext_offset =\n\t\t\t\t\t\t\t\t\t\t\tblock_type[ 0 ] <<\n\t\t\t\t\t\t\t\t\t\t\tkLiteralContextBits;\n\t\t\t\t\t\t\t\t\t\tcontext_map_slice = context_offset;\n\t\t\t\t\t\t\t\t\t\tcontext_mode =\n\t\t\t\t\t\t\t\t\t\t\tcontext_modes[ block_type[ 0 ] ];\n\t\t\t\t\t\t\t\t\t\tcontext_lookup_offset1 =\n\t\t\t\t\t\t\t\t\t\t\tContext.lookupOffsets[\n\t\t\t\t\t\t\t\t\t\t\t\tcontext_mode\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\tcontext_lookup_offset2 =\n\t\t\t\t\t\t\t\t\t\t\tContext.lookupOffsets[\n\t\t\t\t\t\t\t\t\t\t\t\tcontext_mode + 1\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcontext =\n\t\t\t\t\t\t\t\t\t\tContext.lookup[\n\t\t\t\t\t\t\t\t\t\t\tcontext_lookup_offset1 + prev_byte1\n\t\t\t\t\t\t\t\t\t\t] |\n\t\t\t\t\t\t\t\t\t\tContext.lookup[\n\t\t\t\t\t\t\t\t\t\t\tcontext_lookup_offset2 + prev_byte2\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\tliteral_htree_index =\n\t\t\t\t\t\t\t\t\t\tcontext_map[\n\t\t\t\t\t\t\t\t\t\t\tcontext_map_slice + context\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t--block_length[ 0 ];\n\t\t\t\t\t\t\t\t\tprev_byte2 = prev_byte1;\n\t\t\t\t\t\t\t\t\tprev_byte1 = ReadSymbol(\n\t\t\t\t\t\t\t\t\t\thgroup[ 0 ].codes,\n\t\t\t\t\t\t\t\t\t\thgroup[ 0 ].htrees[\n\t\t\t\t\t\t\t\t\t\t\tliteral_htree_index\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tringbuffer[ pos & ringbuffer_mask ] =\n\t\t\t\t\t\t\t\t\t\tprev_byte1;\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t( pos & ringbuffer_mask ) ===\n\t\t\t\t\t\t\t\t\t\tringbuffer_mask\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\toutput.write(\n\t\t\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\t\t\tringbuffer_size\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t++pos;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmeta_block_remaining_len -= insert_length;\n\t\t\t\t\t\t\t\tif ( meta_block_remaining_len <= 0 ) break;\n\n\t\t\t\t\t\t\t\tif ( distance_code < 0 ) {\n\t\t\t\t\t\t\t\t\tvar context;\n\n\t\t\t\t\t\t\t\t\tbr.readMoreInput();\n\t\t\t\t\t\t\t\t\tif ( block_length[ 2 ] === 0 ) {\n\t\t\t\t\t\t\t\t\t\tDecodeBlockType(\n\t\t\t\t\t\t\t\t\t\t\tnum_block_types[ 2 ],\n\t\t\t\t\t\t\t\t\t\t\tblock_type_trees,\n\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\tblock_type,\n\t\t\t\t\t\t\t\t\t\t\tblock_type_rb,\n\t\t\t\t\t\t\t\t\t\t\tblock_type_rb_index,\n\t\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tblock_length[ 2 ] = ReadBlockLength(\n\t\t\t\t\t\t\t\t\t\t\tblock_len_trees,\n\t\t\t\t\t\t\t\t\t\t\t2 * HUFFMAN_MAX_TABLE_SIZE,\n\t\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tdist_context_offset =\n\t\t\t\t\t\t\t\t\t\t\tblock_type[ 2 ] <<\n\t\t\t\t\t\t\t\t\t\t\tkDistanceContextBits;\n\t\t\t\t\t\t\t\t\t\tdist_context_map_slice =\n\t\t\t\t\t\t\t\t\t\t\tdist_context_offset;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t--block_length[ 2 ];\n\t\t\t\t\t\t\t\t\tcontext =\n\t\t\t\t\t\t\t\t\t\t( copy_length > 4\n\t\t\t\t\t\t\t\t\t\t\t? 3\n\t\t\t\t\t\t\t\t\t\t\t: copy_length - 2 ) & 0xff;\n\t\t\t\t\t\t\t\t\tdist_htree_index =\n\t\t\t\t\t\t\t\t\t\tdist_context_map[\n\t\t\t\t\t\t\t\t\t\t\tdist_context_map_slice + context\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\tdistance_code = ReadSymbol(\n\t\t\t\t\t\t\t\t\t\thgroup[ 2 ].codes,\n\t\t\t\t\t\t\t\t\t\thgroup[ 2 ].htrees[ dist_htree_index ],\n\t\t\t\t\t\t\t\t\t\tbr\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tdistance_code >=\n\t\t\t\t\t\t\t\t\t\tnum_direct_distance_codes\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tvar nbits;\n\t\t\t\t\t\t\t\t\t\tvar postfix;\n\t\t\t\t\t\t\t\t\t\tvar offset;\n\t\t\t\t\t\t\t\t\t\tdistance_code -=\n\t\t\t\t\t\t\t\t\t\t\tnum_direct_distance_codes;\n\t\t\t\t\t\t\t\t\t\tpostfix =\n\t\t\t\t\t\t\t\t\t\t\tdistance_code &\n\t\t\t\t\t\t\t\t\t\t\tdistance_postfix_mask;\n\t\t\t\t\t\t\t\t\t\tdistance_code >>= distance_postfix_bits;\n\t\t\t\t\t\t\t\t\t\tnbits = ( distance_code >> 1 ) + 1;\n\t\t\t\t\t\t\t\t\t\toffset =\n\t\t\t\t\t\t\t\t\t\t\t( ( 2 + ( distance_code & 1 ) ) <<\n\t\t\t\t\t\t\t\t\t\t\t\tnbits ) -\n\t\t\t\t\t\t\t\t\t\t\t4;\n\t\t\t\t\t\t\t\t\t\tdistance_code =\n\t\t\t\t\t\t\t\t\t\t\tnum_direct_distance_codes +\n\t\t\t\t\t\t\t\t\t\t\t( ( offset +\n\t\t\t\t\t\t\t\t\t\t\t\tbr.readBits( nbits ) ) <<\n\t\t\t\t\t\t\t\t\t\t\t\tdistance_postfix_bits ) +\n\t\t\t\t\t\t\t\t\t\t\tpostfix;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* Convert the distance code to the actual distance by possibly looking */\n\t\t\t\t\t\t\t\t/* up past distnaces from the ringbuffer. */\n\t\t\t\t\t\t\t\tdistance = TranslateShortCodes(\n\t\t\t\t\t\t\t\t\tdistance_code,\n\t\t\t\t\t\t\t\t\tdist_rb,\n\t\t\t\t\t\t\t\t\tdist_rb_idx\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif ( distance < 0 ) {\n\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t'[BrotliDecompress] invalid distance'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tpos < max_backward_distance &&\n\t\t\t\t\t\t\t\t\tmax_distance !== max_backward_distance\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tmax_distance = pos;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmax_distance = max_backward_distance;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcopy_dst = pos & ringbuffer_mask;\n\n\t\t\t\t\t\t\t\tif ( distance > max_distance ) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tcopy_length >=\n\t\t\t\t\t\t\t\t\t\t\tBrotliDictionary.minDictionaryWordLength &&\n\t\t\t\t\t\t\t\t\t\tcopy_length <=\n\t\t\t\t\t\t\t\t\t\t\tBrotliDictionary.maxDictionaryWordLength\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tvar offset =\n\t\t\t\t\t\t\t\t\t\t\tBrotliDictionary.offsetsByLength[\n\t\t\t\t\t\t\t\t\t\t\t\tcopy_length\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\tvar word_id =\n\t\t\t\t\t\t\t\t\t\t\tdistance - max_distance - 1;\n\t\t\t\t\t\t\t\t\t\tvar shift =\n\t\t\t\t\t\t\t\t\t\t\tBrotliDictionary.sizeBitsByLength[\n\t\t\t\t\t\t\t\t\t\t\t\tcopy_length\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\tvar mask = ( 1 << shift ) - 1;\n\t\t\t\t\t\t\t\t\t\tvar word_idx = word_id & mask;\n\t\t\t\t\t\t\t\t\t\tvar transform_idx = word_id >> shift;\n\t\t\t\t\t\t\t\t\t\toffset += word_idx * copy_length;\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\ttransform_idx <\n\t\t\t\t\t\t\t\t\t\t\tTransform.kNumTransforms\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tvar len =\n\t\t\t\t\t\t\t\t\t\t\t\tTransform.transformDictionaryWord(\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy_dst,\n\t\t\t\t\t\t\t\t\t\t\t\t\toffset,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy_length,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform_idx\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tcopy_dst += len;\n\t\t\t\t\t\t\t\t\t\t\tpos += len;\n\t\t\t\t\t\t\t\t\t\t\tmeta_block_remaining_len -= len;\n\t\t\t\t\t\t\t\t\t\t\tif ( copy_dst >= ringbuffer_end ) {\n\t\t\t\t\t\t\t\t\t\t\t\toutput.write(\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer_size\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar _x = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t_x <\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy_dst - ringbuffer_end;\n\t\t\t\t\t\t\t\t\t\t\t\t\t_x++\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer[ _x ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer_end + _x\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t\t'Invalid backward reference. pos: ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tpos +\n\t\t\t\t\t\t\t\t\t\t\t\t\t' distance: ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tdistance +\n\t\t\t\t\t\t\t\t\t\t\t\t\t' len: ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy_length +\n\t\t\t\t\t\t\t\t\t\t\t\t\t' bytes left: ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tmeta_block_remaining_len\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'Invalid backward reference. pos: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tpos +\n\t\t\t\t\t\t\t\t\t\t\t\t' distance: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tdistance +\n\t\t\t\t\t\t\t\t\t\t\t\t' len: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tcopy_length +\n\t\t\t\t\t\t\t\t\t\t\t\t' bytes left: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tmeta_block_remaining_len\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif ( distance_code > 0 ) {\n\t\t\t\t\t\t\t\t\t\tdist_rb[ dist_rb_idx & 3 ] = distance;\n\t\t\t\t\t\t\t\t\t\t++dist_rb_idx;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tcopy_length > meta_block_remaining_len\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t'Invalid backward reference. pos: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tpos +\n\t\t\t\t\t\t\t\t\t\t\t\t' distance: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tdistance +\n\t\t\t\t\t\t\t\t\t\t\t\t' len: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tcopy_length +\n\t\t\t\t\t\t\t\t\t\t\t\t' bytes left: ' +\n\t\t\t\t\t\t\t\t\t\t\t\tmeta_block_remaining_len\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor ( j = 0; j < copy_length; ++j ) {\n\t\t\t\t\t\t\t\t\t\tringbuffer[ pos & ringbuffer_mask ] =\n\t\t\t\t\t\t\t\t\t\t\tringbuffer[\n\t\t\t\t\t\t\t\t\t\t\t\t( pos - distance ) &\n\t\t\t\t\t\t\t\t\t\t\t\t\tringbuffer_mask\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t( pos & ringbuffer_mask ) ===\n\t\t\t\t\t\t\t\t\t\t\tringbuffer_mask\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\toutput.write(\n\t\t\t\t\t\t\t\t\t\t\t\tringbuffer,\n\t\t\t\t\t\t\t\t\t\t\t\tringbuffer_size\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t++pos;\n\t\t\t\t\t\t\t\t\t\t--meta_block_remaining_len;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* When we get here, we must have inserted at least one literal and */\n\t\t\t\t\t\t\t\t/* made a copy of at least length two, therefore accessing the last 2 */\n\t\t\t\t\t\t\t\t/* bytes is valid. */\n\t\t\t\t\t\t\t\tprev_byte1 =\n\t\t\t\t\t\t\t\t\tringbuffer[ ( pos - 1 ) & ringbuffer_mask ];\n\t\t\t\t\t\t\t\tprev_byte2 =\n\t\t\t\t\t\t\t\t\tringbuffer[ ( pos - 2 ) & ringbuffer_mask ];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* Protect pos from overflow, wrap it around at every GB of input data */\n\t\t\t\t\t\t\tpos &= 0x3fffffff;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toutput.write( ringbuffer, pos & ringbuffer_mask );\n\t\t\t\t\t}\n\n\t\t\t\t\texports.BrotliDecompress = BrotliDecompress;\n\n\t\t\t\t\tBrotliDictionary.init();\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'./bit_reader': 1,\n\t\t\t\t\t'./context': 2,\n\t\t\t\t\t'./dictionary': 6,\n\t\t\t\t\t'./huffman': 7,\n\t\t\t\t\t'./prefix': 9,\n\t\t\t\t\t'./streams': 10,\n\t\t\t\t\t'./transform': 11,\n\t\t\t\t},\n\t\t\t],\n\t\t\t4: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tvar base64 = require( 'base64-js' );\n\t\t\t\t\t//var fs = require('fs');\n\n\t\t\t\t\t/**\n\t\t\t\t\t * The normal dictionary-data.js is quite large, which makes it\n\t\t\t\t\t * unsuitable for browser usage. In order to make it smaller,\n\t\t\t\t\t * we read dictionary.bin, which is a compressed version of\n\t\t\t\t\t * the dictionary, and on initial load, Brotli decompresses\n\t\t\t\t\t * it's own dictionary. \uD83D\uDE1C\n\t\t\t\t\t */\n\t\t\t\t\texports.init = function () {\n\t\t\t\t\t\tvar BrotliDecompressBuffer =\n\t\t\t\t\t\t\trequire( './decode' ).BrotliDecompressBuffer;\n\t\t\t\t\t\tvar compressed = base64.toByteArray(\n\t\t\t\t\t\t\trequire( './dictionary.bin.js' )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn BrotliDecompressBuffer( compressed );\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{ './decode': 3, './dictionary.bin.js': 5, 'base64-js': 8 },\n\t\t\t],\n\t\t\t5: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tmodule.exports =\n\t\t\t\t\t\t'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';\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t6: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Collection of static dictionary words.\n*/\n\n\t\t\t\t\tvar data = require( './dictionary-browser' );\n\t\t\t\t\texports.init = function () {\n\t\t\t\t\t\texports.dictionary = data.init();\n\t\t\t\t\t};\n\n\t\t\t\t\texports.offsetsByLength = new Uint32Array( [\n\t\t\t\t\t\t0, 0, 0, 0, 0, 4096, 9216, 21504, 35840, 44032, 53248,\n\t\t\t\t\t\t63488, 74752, 87040, 93696, 100864, 104704, 106752,\n\t\t\t\t\t\t108928, 113536, 115968, 118528, 119872, 121280, 122016,\n\t\t\t\t\t] );\n\n\t\t\t\t\texports.sizeBitsByLength = new Uint8Array( [\n\t\t\t\t\t\t0, 0, 0, 0, 10, 10, 11, 11, 10, 10, 10, 10, 10, 9, 9, 8,\n\t\t\t\t\t\t7, 7, 8, 7, 7, 6, 6, 5, 5,\n\t\t\t\t\t] );\n\n\t\t\t\t\texports.minDictionaryWordLength = 4;\n\t\t\t\t\texports.maxDictionaryWordLength = 24;\n\t\t\t\t},\n\t\t\t\t{ './dictionary-browser': 4 },\n\t\t\t],\n\t\t\t7: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tfunction HuffmanCode( bits, value ) {\n\t\t\t\t\t\tthis.bits =\n\t\t\t\t\t\t\tbits; /* number of bits used for this symbol */\n\t\t\t\t\t\tthis.value = value; /* symbol value or table offset */\n\t\t\t\t\t}\n\n\t\t\t\t\texports.HuffmanCode = HuffmanCode;\n\n\t\t\t\t\tvar MAX_LENGTH = 15;\n\n\t\t\t\t\t/* Returns reverse(reverse(key, len) + 1, len), where reverse(key, len) is the\n   bit-wise reversal of the len least significant bits of key. */\n\t\t\t\t\tfunction GetNextKey( key, len ) {\n\t\t\t\t\t\tvar step = 1 << ( len - 1 );\n\t\t\t\t\t\twhile ( key & step ) {\n\t\t\t\t\t\t\tstep >>= 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn ( key & ( step - 1 ) ) + step;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Stores code in table[0], table[step], table[2*step], ..., table[end] */\n\t\t\t\t\t/* Assumes that end is an integer multiple of step */\n\t\t\t\t\tfunction ReplicateValue( table, i, step, end, code ) {\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tend -= step;\n\t\t\t\t\t\t\ttable[ i + end ] = new HuffmanCode(\n\t\t\t\t\t\t\t\tcode.bits,\n\t\t\t\t\t\t\t\tcode.value\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} while ( end > 0 );\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Returns the table width of the next 2nd level table. count is the histogram\n   of bit lengths for the remaining symbols, len is the code length of the next\n   processed symbol */\n\t\t\t\t\tfunction NextTableBitSize( count, len, root_bits ) {\n\t\t\t\t\t\tvar left = 1 << ( len - root_bits );\n\t\t\t\t\t\twhile ( len < MAX_LENGTH ) {\n\t\t\t\t\t\t\tleft -= count[ len ];\n\t\t\t\t\t\t\tif ( left <= 0 ) break;\n\t\t\t\t\t\t\t++len;\n\t\t\t\t\t\t\tleft <<= 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn len - root_bits;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.BrotliBuildHuffmanTable = function (\n\t\t\t\t\t\troot_table,\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\troot_bits,\n\t\t\t\t\t\tcode_lengths,\n\t\t\t\t\t\tcode_lengths_size\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar start_table = table;\n\t\t\t\t\t\tvar code; /* current table entry */\n\t\t\t\t\t\tvar len; /* current code length */\n\t\t\t\t\t\tvar symbol; /* symbol index in original or sorted table */\n\t\t\t\t\t\tvar key; /* reversed prefix code */\n\t\t\t\t\t\tvar step; /* step size to replicate values in current table */\n\t\t\t\t\t\tvar low; /* low bits for current root entry */\n\t\t\t\t\t\tvar mask; /* mask for low bits */\n\t\t\t\t\t\tvar table_bits; /* key length of current table */\n\t\t\t\t\t\tvar table_size; /* size of current table */\n\t\t\t\t\t\tvar total_size; /* sum of root table size and 2nd level table sizes */\n\t\t\t\t\t\tvar sorted; /* symbols sorted by code length */\n\t\t\t\t\t\tvar count = new Int32Array(\n\t\t\t\t\t\t\tMAX_LENGTH + 1\n\t\t\t\t\t\t); /* number of codes of each length */\n\t\t\t\t\t\tvar offset = new Int32Array(\n\t\t\t\t\t\t\tMAX_LENGTH + 1\n\t\t\t\t\t\t); /* offsets in sorted table for each length */\n\n\t\t\t\t\t\tsorted = new Int32Array( code_lengths_size );\n\n\t\t\t\t\t\t/* build histogram of code lengths */\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tsymbol = 0;\n\t\t\t\t\t\t\tsymbol < code_lengths_size;\n\t\t\t\t\t\t\tsymbol++\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcount[ code_lengths[ symbol ] ]++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* generate offsets into sorted symbol table by code length */\n\t\t\t\t\t\toffset[ 1 ] = 0;\n\t\t\t\t\t\tfor ( len = 1; len < MAX_LENGTH; len++ ) {\n\t\t\t\t\t\t\toffset[ len + 1 ] = offset[ len ] + count[ len ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* sort symbols by length, by symbol order within each length */\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tsymbol = 0;\n\t\t\t\t\t\t\tsymbol < code_lengths_size;\n\t\t\t\t\t\t\tsymbol++\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif ( code_lengths[ symbol ] !== 0 ) {\n\t\t\t\t\t\t\t\tsorted[ offset[ code_lengths[ symbol ] ]++ ] =\n\t\t\t\t\t\t\t\t\tsymbol;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable_bits = root_bits;\n\t\t\t\t\t\ttable_size = 1 << table_bits;\n\t\t\t\t\t\ttotal_size = table_size;\n\n\t\t\t\t\t\t/* special case code with only one value */\n\t\t\t\t\t\tif ( offset[ MAX_LENGTH ] === 1 ) {\n\t\t\t\t\t\t\tfor ( key = 0; key < total_size; ++key ) {\n\t\t\t\t\t\t\t\troot_table[ table + key ] = new HuffmanCode(\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\tsorted[ 0 ] & 0xffff\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn total_size;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* fill in root table */\n\t\t\t\t\t\tkey = 0;\n\t\t\t\t\t\tsymbol = 0;\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tlen = 1, step = 2;\n\t\t\t\t\t\t\tlen <= root_bits;\n\t\t\t\t\t\t\t++len, step <<= 1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfor ( ; count[ len ] > 0; --count[ len ] ) {\n\t\t\t\t\t\t\t\tcode = new HuffmanCode(\n\t\t\t\t\t\t\t\t\tlen & 0xff,\n\t\t\t\t\t\t\t\t\tsorted[ symbol++ ] & 0xffff\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tReplicateValue(\n\t\t\t\t\t\t\t\t\troot_table,\n\t\t\t\t\t\t\t\t\ttable + key,\n\t\t\t\t\t\t\t\t\tstep,\n\t\t\t\t\t\t\t\t\ttable_size,\n\t\t\t\t\t\t\t\t\tcode\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tkey = GetNextKey( key, len );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* fill in 2nd level tables and add pointers to root table */\n\t\t\t\t\t\tmask = total_size - 1;\n\t\t\t\t\t\tlow = -1;\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tlen = root_bits + 1, step = 2;\n\t\t\t\t\t\t\tlen <= MAX_LENGTH;\n\t\t\t\t\t\t\t++len, step <<= 1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfor ( ; count[ len ] > 0; --count[ len ] ) {\n\t\t\t\t\t\t\t\tif ( ( key & mask ) !== low ) {\n\t\t\t\t\t\t\t\t\ttable += table_size;\n\t\t\t\t\t\t\t\t\ttable_bits = NextTableBitSize(\n\t\t\t\t\t\t\t\t\t\tcount,\n\t\t\t\t\t\t\t\t\t\tlen,\n\t\t\t\t\t\t\t\t\t\troot_bits\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\ttable_size = 1 << table_bits;\n\t\t\t\t\t\t\t\t\ttotal_size += table_size;\n\t\t\t\t\t\t\t\t\tlow = key & mask;\n\t\t\t\t\t\t\t\t\troot_table[ start_table + low ] =\n\t\t\t\t\t\t\t\t\t\tnew HuffmanCode(\n\t\t\t\t\t\t\t\t\t\t\t( table_bits + root_bits ) & 0xff,\n\t\t\t\t\t\t\t\t\t\t\t( table - start_table - low ) &\n\t\t\t\t\t\t\t\t\t\t\t\t0xffff\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcode = new HuffmanCode(\n\t\t\t\t\t\t\t\t\t( len - root_bits ) & 0xff,\n\t\t\t\t\t\t\t\t\tsorted[ symbol++ ] & 0xffff\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tReplicateValue(\n\t\t\t\t\t\t\t\t\troot_table,\n\t\t\t\t\t\t\t\t\ttable + ( key >> root_bits ),\n\t\t\t\t\t\t\t\t\tstep,\n\t\t\t\t\t\t\t\t\ttable_size,\n\t\t\t\t\t\t\t\t\tcode\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tkey = GetNextKey( key, len );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn total_size;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t8: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\texports.byteLength = byteLength;\n\t\t\t\t\texports.toByteArray = toByteArray;\n\t\t\t\t\texports.fromByteArray = fromByteArray;\n\n\t\t\t\t\tvar lookup = [];\n\t\t\t\t\tvar revLookup = [];\n\t\t\t\t\tvar Arr =\n\t\t\t\t\t\ttypeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n\n\t\t\t\t\tvar code =\n\t\t\t\t\t\t'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t\t\t\tfor ( var i = 0, len = code.length; i < len; ++i ) {\n\t\t\t\t\t\tlookup[ i ] = code[ i ];\n\t\t\t\t\t\trevLookup[ code.charCodeAt( i ) ] = i;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support decoding URL-safe base64 strings, as Node.js does.\n\t\t\t\t\t// See: https://en.wikipedia.org/wiki/Base64#URL_applications\n\t\t\t\t\trevLookup[ '-'.charCodeAt( 0 ) ] = 62;\n\t\t\t\t\trevLookup[ '_'.charCodeAt( 0 ) ] = 63;\n\n\t\t\t\t\tfunction getLens( b64 ) {\n\t\t\t\t\t\tvar len = b64.length;\n\n\t\t\t\t\t\tif ( len % 4 > 0 ) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'Invalid string. Length must be a multiple of 4'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Trim off extra bytes after placeholder bytes are found\n\t\t\t\t\t\t// See: https://github.com/beatgammit/base64-js/issues/42\n\t\t\t\t\t\tvar validLen = b64.indexOf( '=' );\n\t\t\t\t\t\tif ( validLen === -1 ) validLen = len;\n\n\t\t\t\t\t\tvar placeHoldersLen =\n\t\t\t\t\t\t\tvalidLen === len ? 0 : 4 - ( validLen % 4 );\n\n\t\t\t\t\t\treturn [ validLen, placeHoldersLen ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// base64 is 4/3 + up to two characters of the original data\n\t\t\t\t\tfunction byteLength( b64 ) {\n\t\t\t\t\t\tvar lens = getLens( b64 );\n\t\t\t\t\t\tvar validLen = lens[ 0 ];\n\t\t\t\t\t\tvar placeHoldersLen = lens[ 1 ];\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t( ( validLen + placeHoldersLen ) * 3 ) / 4 -\n\t\t\t\t\t\t\tplaceHoldersLen\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction _byteLength( b64, validLen, placeHoldersLen ) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t( ( validLen + placeHoldersLen ) * 3 ) / 4 -\n\t\t\t\t\t\t\tplaceHoldersLen\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction toByteArray( b64 ) {\n\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\tvar lens = getLens( b64 );\n\t\t\t\t\t\tvar validLen = lens[ 0 ];\n\t\t\t\t\t\tvar placeHoldersLen = lens[ 1 ];\n\n\t\t\t\t\t\tvar arr = new Arr(\n\t\t\t\t\t\t\t_byteLength( b64, validLen, placeHoldersLen )\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tvar curByte = 0;\n\n\t\t\t\t\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\t\t\t\t\tvar len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n\n\t\t\t\t\t\tfor ( var i = 0; i < len; i += 4 ) {\n\t\t\t\t\t\t\ttmp =\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i ) ] << 18 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 1 ) ] << 12 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 2 ) ] << 6 ) |\n\t\t\t\t\t\t\t\trevLookup[ b64.charCodeAt( i + 3 ) ];\n\t\t\t\t\t\t\tarr[ curByte++ ] = ( tmp >> 16 ) & 0xff;\n\t\t\t\t\t\t\tarr[ curByte++ ] = ( tmp >> 8 ) & 0xff;\n\t\t\t\t\t\t\tarr[ curByte++ ] = tmp & 0xff;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( placeHoldersLen === 2 ) {\n\t\t\t\t\t\t\ttmp =\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i ) ] << 2 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 1 ) ] >> 4 );\n\t\t\t\t\t\t\tarr[ curByte++ ] = tmp & 0xff;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( placeHoldersLen === 1 ) {\n\t\t\t\t\t\t\ttmp =\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i ) ] << 10 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 1 ) ] << 4 ) |\n\t\t\t\t\t\t\t\t( revLookup[ b64.charCodeAt( i + 2 ) ] >> 2 );\n\t\t\t\t\t\t\tarr[ curByte++ ] = ( tmp >> 8 ) & 0xff;\n\t\t\t\t\t\t\tarr[ curByte++ ] = tmp & 0xff;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn arr;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction tripletToBase64( num ) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tlookup[ ( num >> 18 ) & 0x3f ] +\n\t\t\t\t\t\t\tlookup[ ( num >> 12 ) & 0x3f ] +\n\t\t\t\t\t\t\tlookup[ ( num >> 6 ) & 0x3f ] +\n\t\t\t\t\t\t\tlookup[ num & 0x3f ]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction encodeChunk( uint8, start, end ) {\n\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\tvar output = [];\n\t\t\t\t\t\tfor ( var i = start; i < end; i += 3 ) {\n\t\t\t\t\t\t\ttmp =\n\t\t\t\t\t\t\t\t( ( uint8[ i ] << 16 ) & 0xff0000 ) +\n\t\t\t\t\t\t\t\t( ( uint8[ i + 1 ] << 8 ) & 0xff00 ) +\n\t\t\t\t\t\t\t\t( uint8[ i + 2 ] & 0xff );\n\t\t\t\t\t\t\toutput.push( tripletToBase64( tmp ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn output.join( '' );\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction fromByteArray( uint8 ) {\n\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\tvar len = uint8.length;\n\t\t\t\t\t\tvar extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n\t\t\t\t\t\tvar parts = [];\n\t\t\t\t\t\tvar maxChunkLength = 16383; // must be multiple of 3\n\n\t\t\t\t\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar i = 0, len2 = len - extraBytes;\n\t\t\t\t\t\t\ti < len2;\n\t\t\t\t\t\t\ti += maxChunkLength\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t\tencodeChunk(\n\t\t\t\t\t\t\t\t\tuint8,\n\t\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\t\ti + maxChunkLength > len2\n\t\t\t\t\t\t\t\t\t\t? len2\n\t\t\t\t\t\t\t\t\t\t: i + maxChunkLength\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\t\t\t\t\tif ( extraBytes === 1 ) {\n\t\t\t\t\t\t\ttmp = uint8[ len - 1 ];\n\t\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t\tlookup[ tmp >> 2 ] +\n\t\t\t\t\t\t\t\t\tlookup[ ( tmp << 4 ) & 0x3f ] +\n\t\t\t\t\t\t\t\t\t'=='\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if ( extraBytes === 2 ) {\n\t\t\t\t\t\t\ttmp = ( uint8[ len - 2 ] << 8 ) + uint8[ len - 1 ];\n\t\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t\tlookup[ tmp >> 10 ] +\n\t\t\t\t\t\t\t\t\tlookup[ ( tmp >> 4 ) & 0x3f ] +\n\t\t\t\t\t\t\t\t\tlookup[ ( tmp << 2 ) & 0x3f ] +\n\t\t\t\t\t\t\t\t\t'='\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn parts.join( '' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t9: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Lookup tables to map prefix codes to value ranges. This is used during\n   decoding of the block lengths, literal insertion lengths and copy lengths.\n*/\n\n\t\t\t\t\t/* Represents the range of values belonging to a prefix code: */\n\t\t\t\t\t/* [offset, offset + 2^nbits) */\n\t\t\t\t\tfunction PrefixCodeRange( offset, nbits ) {\n\t\t\t\t\t\tthis.offset = offset;\n\t\t\t\t\t\tthis.nbits = nbits;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.kBlockLengthPrefixCode = [\n\t\t\t\t\t\tnew PrefixCodeRange( 1, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 5, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 9, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 13, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 17, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 25, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 33, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 41, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 49, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 65, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 81, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 97, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 113, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 145, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 177, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 209, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 241, 6 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 305, 6 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 369, 7 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 497, 8 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 753, 9 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 1265, 10 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 2289, 11 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 4337, 12 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 8433, 13 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 16625, 24 ),\n\t\t\t\t\t];\n\n\t\t\t\t\texports.kInsertLengthPrefixCode = [\n\t\t\t\t\t\tnew PrefixCodeRange( 0, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 1, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 2, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 3, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 4, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 5, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 6, 1 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 8, 1 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 10, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 14, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 18, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 26, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 34, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 50, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 66, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 98, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 130, 6 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 194, 7 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 322, 8 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 578, 9 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 1090, 10 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 2114, 12 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 6210, 14 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 22594, 24 ),\n\t\t\t\t\t];\n\n\t\t\t\t\texports.kCopyLengthPrefixCode = [\n\t\t\t\t\t\tnew PrefixCodeRange( 2, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 3, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 4, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 5, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 6, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 7, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 8, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 9, 0 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 10, 1 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 12, 1 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 14, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 18, 2 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 22, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 30, 3 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 38, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 54, 4 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 70, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 102, 5 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 134, 6 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 198, 7 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 326, 8 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 582, 9 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 1094, 10 ),\n\t\t\t\t\t\tnew PrefixCodeRange( 2118, 24 ),\n\t\t\t\t\t];\n\n\t\t\t\t\texports.kInsertRangeLut = [ 0, 0, 8, 8, 0, 16, 8, 16, 16 ];\n\n\t\t\t\t\texports.kCopyRangeLut = [ 0, 8, 0, 8, 16, 0, 16, 8, 16 ];\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t10: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tfunction BrotliInput( buffer ) {\n\t\t\t\t\t\tthis.buffer = buffer;\n\t\t\t\t\t\tthis.pos = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tBrotliInput.prototype.read = function ( buf, i, count ) {\n\t\t\t\t\t\tif ( this.pos + count > this.buffer.length ) {\n\t\t\t\t\t\t\tcount = this.buffer.length - this.pos;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( var p = 0; p < count; p++ )\n\t\t\t\t\t\t\tbuf[ i + p ] = this.buffer[ this.pos + p ];\n\n\t\t\t\t\t\tthis.pos += count;\n\t\t\t\t\t\treturn count;\n\t\t\t\t\t};\n\n\t\t\t\t\texports.BrotliInput = BrotliInput;\n\n\t\t\t\t\tfunction BrotliOutput( buf ) {\n\t\t\t\t\t\tthis.buffer = buf;\n\t\t\t\t\t\tthis.pos = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tBrotliOutput.prototype.write = function ( buf, count ) {\n\t\t\t\t\t\tif ( this.pos + count > this.buffer.length )\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t'Output buffer is not large enough'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\tthis.buffer.set( buf.subarray( 0, count ), this.pos );\n\t\t\t\t\t\tthis.pos += count;\n\t\t\t\t\t\treturn count;\n\t\t\t\t\t};\n\n\t\t\t\t\texports.BrotliOutput = BrotliOutput;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t11: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t/* Copyright 2013 Google Inc. All Rights Reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n   Transformations on dictionary words.\n*/\n\n\t\t\t\t\tvar BrotliDictionary = require( './dictionary' );\n\n\t\t\t\t\tvar kIdentity = 0;\n\t\t\t\t\tvar kOmitLast1 = 1;\n\t\t\t\t\tvar kOmitLast2 = 2;\n\t\t\t\t\tvar kOmitLast3 = 3;\n\t\t\t\t\tvar kOmitLast4 = 4;\n\t\t\t\t\tvar kOmitLast5 = 5;\n\t\t\t\t\tvar kOmitLast6 = 6;\n\t\t\t\t\tvar kOmitLast7 = 7;\n\t\t\t\t\tvar kOmitLast8 = 8;\n\t\t\t\t\tvar kOmitLast9 = 9;\n\t\t\t\t\tvar kUppercaseFirst = 10;\n\t\t\t\t\tvar kUppercaseAll = 11;\n\t\t\t\t\tvar kOmitFirst1 = 12;\n\t\t\t\t\tvar kOmitFirst2 = 13;\n\t\t\t\t\tvar kOmitFirst3 = 14;\n\t\t\t\t\tvar kOmitFirst4 = 15;\n\t\t\t\t\tvar kOmitFirst5 = 16;\n\t\t\t\t\tvar kOmitFirst6 = 17;\n\t\t\t\t\tvar kOmitFirst7 = 18;\n\t\t\t\t\tvar kOmitFirst8 = 19;\n\t\t\t\t\tvar kOmitFirst9 = 20;\n\n\t\t\t\t\tfunction Transform( prefix, transform, suffix ) {\n\t\t\t\t\t\tthis.prefix = new Uint8Array( prefix.length );\n\t\t\t\t\t\tthis.transform = transform;\n\t\t\t\t\t\tthis.suffix = new Uint8Array( suffix.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < prefix.length; i++ )\n\t\t\t\t\t\t\tthis.prefix[ i ] = prefix.charCodeAt( i );\n\n\t\t\t\t\t\tfor ( var i = 0; i < suffix.length; i++ )\n\t\t\t\t\t\t\tthis.suffix[ i ] = suffix.charCodeAt( i );\n\t\t\t\t\t}\n\n\t\t\t\t\tvar kTransforms = [\n\t\t\t\t\t\tnew Transform( '', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst1, '' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' the ' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( 's ', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' of ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' and ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst2, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast1, '' ),\n\t\t\t\t\t\tnew Transform( ', ', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ', ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' in ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' to ' ),\n\t\t\t\t\t\tnew Transform( 'e ', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '\"' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '.' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '\">' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '\\n' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast3, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ']' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' for ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst3, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast2, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' a ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' that ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '. ' ),\n\t\t\t\t\t\tnew Transform( '.', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst4, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' with ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, \"'\" ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' from ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' by ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst5, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst6, '' ),\n\t\t\t\t\t\tnew Transform( ' the ', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast4, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '. The ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' on ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' as ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' is ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast7, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast1, 'ing ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '\\n\\t' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ':' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '. ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ed ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst9, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitFirst7, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast6, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '(' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast8, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' at ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ly ' ),\n\t\t\t\t\t\tnew Transform( ' the ', kIdentity, ' of ' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast5, '' ),\n\t\t\t\t\t\tnew Transform( '', kOmitLast9, '' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '\"' ),\n\t\t\t\t\t\tnew Transform( '.', kIdentity, '(' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '\">' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '=\"' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '.' ),\n\t\t\t\t\t\tnew Transform( '.com/', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( ' the ', kIdentity, ' of the ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, \"'\" ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, '. This ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ',' ),\n\t\t\t\t\t\tnew Transform( '.', kIdentity, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '(' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '.' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, ' not ' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '=\"' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'er ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, ' ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'al ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, '' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, \"='\" ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '\"' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '. ' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, '(' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ful ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, '. ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ive ' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'less ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, \"'\" ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'est ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, '.' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '\">' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, \"='\" ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, ',' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ize ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '.' ),\n\t\t\t\t\t\tnew Transform( '\\xc2\\xa0', kIdentity, '' ),\n\t\t\t\t\t\tnew Transform( ' ', kIdentity, ',' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, '=\"' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '=\"' ),\n\t\t\t\t\t\tnew Transform( '', kIdentity, 'ous ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseFirst, \"='\" ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, ',' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, '=\"' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, ', ' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, ',' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '(' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, '. ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, '.' ),\n\t\t\t\t\t\tnew Transform( '', kUppercaseAll, \"='\" ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, '. ' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, '=\"' ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseAll, \"='\" ),\n\t\t\t\t\t\tnew Transform( ' ', kUppercaseFirst, \"='\" ),\n\t\t\t\t\t];\n\n\t\t\t\t\texports.kTransforms = kTransforms;\n\t\t\t\t\texports.kNumTransforms = kTransforms.length;\n\n\t\t\t\t\tfunction ToUpperCase( p, i ) {\n\t\t\t\t\t\tif ( p[ i ] < 0xc0 ) {\n\t\t\t\t\t\t\tif ( p[ i ] >= 97 && p[ i ] <= 122 ) {\n\t\t\t\t\t\t\t\tp[ i ] ^= 32;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* An overly simplified uppercasing model for utf-8. */\n\t\t\t\t\t\tif ( p[ i ] < 0xe0 ) {\n\t\t\t\t\t\t\tp[ i + 1 ] ^= 32;\n\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* An arbitrary transform for three byte characters. */\n\t\t\t\t\t\tp[ i + 2 ] ^= 5;\n\t\t\t\t\t\treturn 3;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.transformDictionaryWord = function (\n\t\t\t\t\t\tdst,\n\t\t\t\t\t\tidx,\n\t\t\t\t\t\tword,\n\t\t\t\t\t\tlen,\n\t\t\t\t\t\ttransform\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar prefix = kTransforms[ transform ].prefix;\n\t\t\t\t\t\tvar suffix = kTransforms[ transform ].suffix;\n\t\t\t\t\t\tvar t = kTransforms[ transform ].transform;\n\t\t\t\t\t\tvar skip =\n\t\t\t\t\t\t\tt < kOmitFirst1 ? 0 : t - ( kOmitFirst1 - 1 );\n\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\tvar start_idx = idx;\n\t\t\t\t\t\tvar uppercase;\n\n\t\t\t\t\t\tif ( skip > len ) {\n\t\t\t\t\t\t\tskip = len;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar prefix_pos = 0;\n\t\t\t\t\t\twhile ( prefix_pos < prefix.length ) {\n\t\t\t\t\t\t\tdst[ idx++ ] = prefix[ prefix_pos++ ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tword += skip;\n\t\t\t\t\t\tlen -= skip;\n\n\t\t\t\t\t\tif ( t <= kOmitLast9 ) {\n\t\t\t\t\t\t\tlen -= t;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\tdst[ idx++ ] =\n\t\t\t\t\t\t\t\tBrotliDictionary.dictionary[ word + i ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tuppercase = idx - len;\n\n\t\t\t\t\t\tif ( t === kUppercaseFirst ) {\n\t\t\t\t\t\t\tToUpperCase( dst, uppercase );\n\t\t\t\t\t\t} else if ( t === kUppercaseAll ) {\n\t\t\t\t\t\t\twhile ( len > 0 ) {\n\t\t\t\t\t\t\t\tvar step = ToUpperCase( dst, uppercase );\n\t\t\t\t\t\t\t\tuppercase += step;\n\t\t\t\t\t\t\t\tlen -= step;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar suffix_pos = 0;\n\t\t\t\t\t\twhile ( suffix_pos < suffix.length ) {\n\t\t\t\t\t\t\tdst[ idx++ ] = suffix[ suffix_pos++ ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn idx - start_idx;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{ './dictionary': 6 },\n\t\t\t],\n\t\t\t12: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\tmodule.exports =\n\t\t\t\t\t\trequire( './dec/decode' ).BrotliDecompressBuffer;\n\t\t\t\t},\n\t\t\t\t{ './dec/decode': 3 },\n\t\t\t],\n\t\t},\n\t\t{},\n\t\t[ 12 ]\n\t)( 12 );\n} )();\n/* eslint-enable */\n", "/**\n * Credits:\n *\n * lib-font\n * https://github.com/Pomax/lib-font\n * https://github.com/Pomax/lib-font/blob/master/lib/inflate.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2020 pomax@nihongoresources.com\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint eslint-comments/no-unlimited-disable: 0 */\n/* eslint-disable */\n/* pako 1.0.10 nodeca/pako */\nexport default ( function () {\n\tvar define, module, exports;\n\treturn ( function () {\n\t\tfunction r( e, n, t ) {\n\t\t\tfunction o( i, f ) {\n\t\t\t\tif ( ! n[ i ] ) {\n\t\t\t\t\tif ( ! e[ i ] ) {\n\t\t\t\t\t\tvar c = 'function' == typeof require && require;\n\t\t\t\t\t\tif ( ! f && c ) return c( i, ! 0 );\n\t\t\t\t\t\tif ( u ) return u( i, ! 0 );\n\t\t\t\t\t\tvar a = new Error( \"Cannot find module '\" + i + \"'\" );\n\t\t\t\t\t\tthrow ( ( a.code = 'MODULE_NOT_FOUND' ), a );\n\t\t\t\t\t}\n\t\t\t\t\tvar p = ( n[ i ] = { exports: {} } );\n\t\t\t\t\te[ i ][ 0 ].call(\n\t\t\t\t\t\tp.exports,\n\t\t\t\t\t\tfunction ( r ) {\n\t\t\t\t\t\t\tvar n = e[ i ][ 1 ][ r ];\n\t\t\t\t\t\t\treturn o( n || r );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tp,\n\t\t\t\t\t\tp.exports,\n\t\t\t\t\t\tr,\n\t\t\t\t\t\te,\n\t\t\t\t\t\tn,\n\t\t\t\t\t\tt\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn n[ i ].exports;\n\t\t\t}\n\t\t\tfor (\n\t\t\t\tvar u = 'function' == typeof require && require, i = 0;\n\t\t\t\ti < t.length;\n\t\t\t\ti++\n\t\t\t)\n\t\t\t\to( t[ i ] );\n\t\t\treturn o;\n\t\t}\n\t\treturn r;\n\t} )()(\n\t\t{\n\t\t\t1: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\tvar TYPED_OK =\n\t\t\t\t\t\ttypeof Uint8Array !== 'undefined' &&\n\t\t\t\t\t\ttypeof Uint16Array !== 'undefined' &&\n\t\t\t\t\t\ttypeof Int32Array !== 'undefined';\n\n\t\t\t\t\tfunction _has( obj, key ) {\n\t\t\t\t\t\treturn Object.prototype.hasOwnProperty.call( obj, key );\n\t\t\t\t\t}\n\n\t\t\t\t\texports.assign = function (\n\t\t\t\t\t\tobj /*from1, from2, from3, ...*/\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar sources = Array.prototype.slice.call(\n\t\t\t\t\t\t\targuments,\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t);\n\t\t\t\t\t\twhile ( sources.length ) {\n\t\t\t\t\t\t\tvar source = sources.shift();\n\t\t\t\t\t\t\tif ( ! source ) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( typeof source !== 'object' ) {\n\t\t\t\t\t\t\t\tthrow new TypeError(\n\t\t\t\t\t\t\t\t\tsource + 'must be non-object'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor ( var p in source ) {\n\t\t\t\t\t\t\t\tif ( _has( source, p ) ) {\n\t\t\t\t\t\t\t\t\tobj[ p ] = source[ p ];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\n\t\t\t\t\t// reduce buffer size, avoiding mem copy\n\t\t\t\t\texports.shrinkBuf = function ( buf, size ) {\n\t\t\t\t\t\tif ( buf.length === size ) {\n\t\t\t\t\t\t\treturn buf;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( buf.subarray ) {\n\t\t\t\t\t\t\treturn buf.subarray( 0, size );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbuf.length = size;\n\t\t\t\t\t\treturn buf;\n\t\t\t\t\t};\n\n\t\t\t\t\tvar fnTyped = {\n\t\t\t\t\t\tarraySet: function (\n\t\t\t\t\t\t\tdest,\n\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\tsrc_offs,\n\t\t\t\t\t\t\tlen,\n\t\t\t\t\t\t\tdest_offs\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif ( src.subarray && dest.subarray ) {\n\t\t\t\t\t\t\t\tdest.set(\n\t\t\t\t\t\t\t\t\tsrc.subarray( src_offs, src_offs + len ),\n\t\t\t\t\t\t\t\t\tdest_offs\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Fallback to ordinary array\n\t\t\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\t\tdest[ dest_offs + i ] = src[ src_offs + i ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// Join array of chunks to single array.\n\t\t\t\t\t\tflattenChunks: function ( chunks ) {\n\t\t\t\t\t\t\tvar i, l, len, pos, chunk, result;\n\n\t\t\t\t\t\t\t// calculate data length\n\t\t\t\t\t\t\tlen = 0;\n\t\t\t\t\t\t\tfor ( i = 0, l = chunks.length; i < l; i++ ) {\n\t\t\t\t\t\t\t\tlen += chunks[ i ].length;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// join chunks\n\t\t\t\t\t\t\tresult = new Uint8Array( len );\n\t\t\t\t\t\t\tpos = 0;\n\t\t\t\t\t\t\tfor ( i = 0, l = chunks.length; i < l; i++ ) {\n\t\t\t\t\t\t\t\tchunk = chunks[ i ];\n\t\t\t\t\t\t\t\tresult.set( chunk, pos );\n\t\t\t\t\t\t\t\tpos += chunk.length;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tvar fnUntyped = {\n\t\t\t\t\t\tarraySet: function (\n\t\t\t\t\t\t\tdest,\n\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\tsrc_offs,\n\t\t\t\t\t\t\tlen,\n\t\t\t\t\t\t\tdest_offs\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\t\tdest[ dest_offs + i ] = src[ src_offs + i ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// Join array of chunks to single array.\n\t\t\t\t\t\tflattenChunks: function ( chunks ) {\n\t\t\t\t\t\t\treturn [].concat.apply( [], chunks );\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\t// Enable/Disable typed arrays use, for testing\n\t\t\t\t\t//\n\t\t\t\t\texports.setTyped = function ( on ) {\n\t\t\t\t\t\tif ( on ) {\n\t\t\t\t\t\t\texports.Buf8 = Uint8Array;\n\t\t\t\t\t\t\texports.Buf16 = Uint16Array;\n\t\t\t\t\t\t\texports.Buf32 = Int32Array;\n\t\t\t\t\t\t\texports.assign( exports, fnTyped );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\texports.Buf8 = Array;\n\t\t\t\t\t\t\texports.Buf16 = Array;\n\t\t\t\t\t\t\texports.Buf32 = Array;\n\t\t\t\t\t\t\texports.assign( exports, fnUntyped );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\texports.setTyped( TYPED_OK );\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t2: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t// String encode/decode helpers\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\tvar utils = require( './common' );\n\n\t\t\t\t\t// Quick check if we can use fast array to bin string conversion\n\t\t\t\t\t//\n\t\t\t\t\t// - apply(Array) can fail on Android 2.2\n\t\t\t\t\t// - apply(Uint8Array) can fail on iOS 5.1 Safari\n\t\t\t\t\t//\n\t\t\t\t\tvar STR_APPLY_OK = true;\n\t\t\t\t\tvar STR_APPLY_UIA_OK = true;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tString.fromCharCode.apply( null, [ 0 ] );\n\t\t\t\t\t} catch ( __ ) {\n\t\t\t\t\t\tSTR_APPLY_OK = false;\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tString.fromCharCode.apply( null, new Uint8Array( 1 ) );\n\t\t\t\t\t} catch ( __ ) {\n\t\t\t\t\t\tSTR_APPLY_UIA_OK = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Table with utf8 lengths (calculated by first byte of sequence)\n\t\t\t\t\t// Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,\n\t\t\t\t\t// because max possible codepoint is 0x10ffff\n\t\t\t\t\tvar _utf8len = new utils.Buf8( 256 );\n\t\t\t\t\tfor ( var q = 0; q < 256; q++ ) {\n\t\t\t\t\t\t_utf8len[ q ] =\n\t\t\t\t\t\t\tq >= 252\n\t\t\t\t\t\t\t\t? 6\n\t\t\t\t\t\t\t\t: q >= 248\n\t\t\t\t\t\t\t\t? 5\n\t\t\t\t\t\t\t\t: q >= 240\n\t\t\t\t\t\t\t\t? 4\n\t\t\t\t\t\t\t\t: q >= 224\n\t\t\t\t\t\t\t\t? 3\n\t\t\t\t\t\t\t\t: q >= 192\n\t\t\t\t\t\t\t\t? 2\n\t\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\t_utf8len[ 254 ] = _utf8len[ 254 ] = 1; // Invalid sequence start\n\n\t\t\t\t\t// convert string to array (typed, when possible)\n\t\t\t\t\texports.string2buf = function ( str ) {\n\t\t\t\t\t\tvar buf,\n\t\t\t\t\t\t\tc,\n\t\t\t\t\t\t\tc2,\n\t\t\t\t\t\t\tm_pos,\n\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\tstr_len = str.length,\n\t\t\t\t\t\t\tbuf_len = 0;\n\n\t\t\t\t\t\t// count binary size\n\t\t\t\t\t\tfor ( m_pos = 0; m_pos < str_len; m_pos++ ) {\n\t\t\t\t\t\t\tc = str.charCodeAt( m_pos );\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t( c & 0xfc00 ) === 0xd800 &&\n\t\t\t\t\t\t\t\tm_pos + 1 < str_len\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tc2 = str.charCodeAt( m_pos + 1 );\n\t\t\t\t\t\t\t\tif ( ( c2 & 0xfc00 ) === 0xdc00 ) {\n\t\t\t\t\t\t\t\t\tc =\n\t\t\t\t\t\t\t\t\t\t0x10000 +\n\t\t\t\t\t\t\t\t\t\t( ( c - 0xd800 ) << 10 ) +\n\t\t\t\t\t\t\t\t\t\t( c2 - 0xdc00 );\n\t\t\t\t\t\t\t\t\tm_pos++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbuf_len +=\n\t\t\t\t\t\t\t\tc < 0x80\n\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t: c < 0x800\n\t\t\t\t\t\t\t\t\t? 2\n\t\t\t\t\t\t\t\t\t: c < 0x10000\n\t\t\t\t\t\t\t\t\t? 3\n\t\t\t\t\t\t\t\t\t: 4;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// allocate buffer\n\t\t\t\t\t\tbuf = new utils.Buf8( buf_len );\n\n\t\t\t\t\t\t// convert\n\t\t\t\t\t\tfor ( i = 0, m_pos = 0; i < buf_len; m_pos++ ) {\n\t\t\t\t\t\t\tc = str.charCodeAt( m_pos );\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t( c & 0xfc00 ) === 0xd800 &&\n\t\t\t\t\t\t\t\tm_pos + 1 < str_len\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tc2 = str.charCodeAt( m_pos + 1 );\n\t\t\t\t\t\t\t\tif ( ( c2 & 0xfc00 ) === 0xdc00 ) {\n\t\t\t\t\t\t\t\t\tc =\n\t\t\t\t\t\t\t\t\t\t0x10000 +\n\t\t\t\t\t\t\t\t\t\t( ( c - 0xd800 ) << 10 ) +\n\t\t\t\t\t\t\t\t\t\t( c2 - 0xdc00 );\n\t\t\t\t\t\t\t\t\tm_pos++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( c < 0x80 ) {\n\t\t\t\t\t\t\t\t/* one byte */\n\t\t\t\t\t\t\t\tbuf[ i++ ] = c;\n\t\t\t\t\t\t\t} else if ( c < 0x800 ) {\n\t\t\t\t\t\t\t\t/* two bytes */\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0xc0 | ( c >>> 6 );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( c & 0x3f );\n\t\t\t\t\t\t\t} else if ( c < 0x10000 ) {\n\t\t\t\t\t\t\t\t/* three bytes */\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0xe0 | ( c >>> 12 );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( ( c >>> 6 ) & 0x3f );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( c & 0x3f );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t/* four bytes */\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0xf0 | ( c >>> 18 );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( ( c >>> 12 ) & 0x3f );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( ( c >>> 6 ) & 0x3f );\n\t\t\t\t\t\t\t\tbuf[ i++ ] = 0x80 | ( c & 0x3f );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn buf;\n\t\t\t\t\t};\n\n\t\t\t\t\t// Helper (used in 2 places)\n\t\t\t\t\tfunction buf2binstring( buf, len ) {\n\t\t\t\t\t\t// On Chrome, the arguments in a function call that are allowed is `65534`.\n\t\t\t\t\t\t// If the length of the buffer is smaller than that, we can use this optimization,\n\t\t\t\t\t\t// otherwise we will take a slower path.\n\t\t\t\t\t\tif ( len < 65534 ) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t( buf.subarray && STR_APPLY_UIA_OK ) ||\n\t\t\t\t\t\t\t\t( ! buf.subarray && STR_APPLY_OK )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn String.fromCharCode.apply(\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\tutils.shrinkBuf( buf, len )\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar result = '';\n\t\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\tresult += String.fromCharCode( buf[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Convert byte array to binary string\n\t\t\t\t\texports.buf2binstring = function ( buf ) {\n\t\t\t\t\t\treturn buf2binstring( buf, buf.length );\n\t\t\t\t\t};\n\n\t\t\t\t\t// Convert binary string (typed, when possible)\n\t\t\t\t\texports.binstring2buf = function ( str ) {\n\t\t\t\t\t\tvar buf = new utils.Buf8( str.length );\n\t\t\t\t\t\tfor ( var i = 0, len = buf.length; i < len; i++ ) {\n\t\t\t\t\t\t\tbuf[ i ] = str.charCodeAt( i );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn buf;\n\t\t\t\t\t};\n\n\t\t\t\t\t// convert array to string\n\t\t\t\t\texports.buf2string = function ( buf, max ) {\n\t\t\t\t\t\tvar i, out, c, c_len;\n\t\t\t\t\t\tvar len = max || buf.length;\n\n\t\t\t\t\t\t// Reserve max possible length (2 words per char)\n\t\t\t\t\t\t// NB: by unknown reasons, Array is significantly faster for\n\t\t\t\t\t\t//     String.fromCharCode.apply than Uint16Array.\n\t\t\t\t\t\tvar utf16buf = new Array( len * 2 );\n\n\t\t\t\t\t\tfor ( out = 0, i = 0; i < len;  ) {\n\t\t\t\t\t\t\tc = buf[ i++ ];\n\t\t\t\t\t\t\t// quick process ascii\n\t\t\t\t\t\t\tif ( c < 0x80 ) {\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = c;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tc_len = _utf8len[ c ];\n\t\t\t\t\t\t\t// skip 5 & 6 byte codes\n\t\t\t\t\t\t\tif ( c_len > 4 ) {\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = 0xfffd;\n\t\t\t\t\t\t\t\ti += c_len - 1;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// apply mask on first byte\n\t\t\t\t\t\t\tc &= c_len === 2 ? 0x1f : c_len === 3 ? 0x0f : 0x07;\n\t\t\t\t\t\t\t// join the rest\n\t\t\t\t\t\t\twhile ( c_len > 1 && i < len ) {\n\t\t\t\t\t\t\t\tc = ( c << 6 ) | ( buf[ i++ ] & 0x3f );\n\t\t\t\t\t\t\t\tc_len--;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// terminated by end of string?\n\t\t\t\t\t\t\tif ( c_len > 1 ) {\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = 0xfffd;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( c < 0x10000 ) {\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = c;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tc -= 0x10000;\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] =\n\t\t\t\t\t\t\t\t\t0xd800 | ( ( c >> 10 ) & 0x3ff );\n\t\t\t\t\t\t\t\tutf16buf[ out++ ] = 0xdc00 | ( c & 0x3ff );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn buf2binstring( utf16buf, out );\n\t\t\t\t\t};\n\n\t\t\t\t\t// Calculate max possible position in utf8 buffer,\n\t\t\t\t\t// that will not break sequence. If that's not possible\n\t\t\t\t\t// - (very small limits) return max size as is.\n\t\t\t\t\t//\n\t\t\t\t\t// buf[] - utf8 bytes array\n\t\t\t\t\t// max   - length limit (mandatory);\n\t\t\t\t\texports.utf8border = function ( buf, max ) {\n\t\t\t\t\t\tvar pos;\n\n\t\t\t\t\t\tmax = max || buf.length;\n\t\t\t\t\t\tif ( max > buf.length ) {\n\t\t\t\t\t\t\tmax = buf.length;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// go back from last position, until start of sequence found\n\t\t\t\t\t\tpos = max - 1;\n\t\t\t\t\t\twhile ( pos >= 0 && ( buf[ pos ] & 0xc0 ) === 0x80 ) {\n\t\t\t\t\t\t\tpos--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Very small and broken sequence,\n\t\t\t\t\t\t// return max, because we should return something anyway.\n\t\t\t\t\t\tif ( pos < 0 ) {\n\t\t\t\t\t\t\treturn max;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we came to start of buffer - that means buffer is too small,\n\t\t\t\t\t\t// return max too.\n\t\t\t\t\t\tif ( pos === 0 ) {\n\t\t\t\t\t\t\treturn max;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn pos + _utf8len[ buf[ pos ] ] > max ? pos : max;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{ './common': 1 },\n\t\t\t],\n\t\t\t3: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// Note: adler32 takes 12% for level 0 and 2% for level 6.\n\t\t\t\t\t// It isn't worth it to make additional optimizations as in original.\n\t\t\t\t\t// Small size is preferable.\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tfunction adler32( adler, buf, len, pos ) {\n\t\t\t\t\t\tvar s1 = ( adler & 0xffff ) | 0,\n\t\t\t\t\t\t\ts2 = ( ( adler >>> 16 ) & 0xffff ) | 0,\n\t\t\t\t\t\t\tn = 0;\n\n\t\t\t\t\t\twhile ( len !== 0 ) {\n\t\t\t\t\t\t\t// Set limit ~ twice less than 5552, to keep\n\t\t\t\t\t\t\t// s2 in 31-bits, because we force signed ints.\n\t\t\t\t\t\t\t// in other case %= will fail.\n\t\t\t\t\t\t\tn = len > 2000 ? 2000 : len;\n\t\t\t\t\t\t\tlen -= n;\n\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\ts1 = ( s1 + buf[ pos++ ] ) | 0;\n\t\t\t\t\t\t\t\ts2 = ( s2 + s1 ) | 0;\n\t\t\t\t\t\t\t} while ( --n );\n\n\t\t\t\t\t\t\ts1 %= 65521;\n\t\t\t\t\t\t\ts2 %= 65521;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn s1 | ( s2 << 16 ) | 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tmodule.exports = adler32;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t4: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tmodule.exports = {\n\t\t\t\t\t\t/* Allowed flush values; see deflate() and inflate() below for details */\n\t\t\t\t\t\tZ_NO_FLUSH: 0,\n\t\t\t\t\t\tZ_PARTIAL_FLUSH: 1,\n\t\t\t\t\t\tZ_SYNC_FLUSH: 2,\n\t\t\t\t\t\tZ_FULL_FLUSH: 3,\n\t\t\t\t\t\tZ_FINISH: 4,\n\t\t\t\t\t\tZ_BLOCK: 5,\n\t\t\t\t\t\tZ_TREES: 6,\n\n\t\t\t\t\t\t/* Return codes for the compression/decompression functions. Negative values\n\t\t\t\t\t\t * are errors, positive values are used for special but normal events.\n\t\t\t\t\t\t */\n\t\t\t\t\t\tZ_OK: 0,\n\t\t\t\t\t\tZ_STREAM_END: 1,\n\t\t\t\t\t\tZ_NEED_DICT: 2,\n\t\t\t\t\t\tZ_ERRNO: -1,\n\t\t\t\t\t\tZ_STREAM_ERROR: -2,\n\t\t\t\t\t\tZ_DATA_ERROR: -3,\n\t\t\t\t\t\t//Z_MEM_ERROR:     -4,\n\t\t\t\t\t\tZ_BUF_ERROR: -5,\n\t\t\t\t\t\t//Z_VERSION_ERROR: -6,\n\n\t\t\t\t\t\t/* compression levels */\n\t\t\t\t\t\tZ_NO_COMPRESSION: 0,\n\t\t\t\t\t\tZ_BEST_SPEED: 1,\n\t\t\t\t\t\tZ_BEST_COMPRESSION: 9,\n\t\t\t\t\t\tZ_DEFAULT_COMPRESSION: -1,\n\n\t\t\t\t\t\tZ_FILTERED: 1,\n\t\t\t\t\t\tZ_HUFFMAN_ONLY: 2,\n\t\t\t\t\t\tZ_RLE: 3,\n\t\t\t\t\t\tZ_FIXED: 4,\n\t\t\t\t\t\tZ_DEFAULT_STRATEGY: 0,\n\n\t\t\t\t\t\t/* Possible values of the data_type field (though see inflate()) */\n\t\t\t\t\t\tZ_BINARY: 0,\n\t\t\t\t\t\tZ_TEXT: 1,\n\t\t\t\t\t\t//Z_ASCII:                1, // = Z_TEXT (deprecated)\n\t\t\t\t\t\tZ_UNKNOWN: 2,\n\n\t\t\t\t\t\t/* The deflate compression method */\n\t\t\t\t\t\tZ_DEFLATED: 8,\n\t\t\t\t\t\t//Z_NULL:                 null // Use -1 or null inline, depending on var type\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t5: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// Note: we can't get significant speed boost here.\n\t\t\t\t\t// So write code to minimize size - no pregenerated tables\n\t\t\t\t\t// and array tools dependencies.\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\t// Use ordinary array, since untyped makes no boost here\n\t\t\t\t\tfunction makeTable() {\n\t\t\t\t\t\tvar c,\n\t\t\t\t\t\t\ttable = [];\n\n\t\t\t\t\t\tfor ( var n = 0; n < 256; n++ ) {\n\t\t\t\t\t\t\tc = n;\n\t\t\t\t\t\t\tfor ( var k = 0; k < 8; k++ ) {\n\t\t\t\t\t\t\t\tc = c & 1 ? 0xedb88320 ^ ( c >>> 1 ) : c >>> 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttable[ n ] = c;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn table;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create table on load. Just 255 signed longs. Not a problem.\n\t\t\t\t\tvar crcTable = makeTable();\n\n\t\t\t\t\tfunction crc32( crc, buf, len, pos ) {\n\t\t\t\t\t\tvar t = crcTable,\n\t\t\t\t\t\t\tend = pos + len;\n\n\t\t\t\t\t\tcrc ^= -1;\n\n\t\t\t\t\t\tfor ( var i = pos; i < end; i++ ) {\n\t\t\t\t\t\t\tcrc =\n\t\t\t\t\t\t\t\t( crc >>> 8 ) ^ t[ ( crc ^ buf[ i ] ) & 0xff ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn crc ^ -1; // >>> 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tmodule.exports = crc32;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t6: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tfunction GZheader() {\n\t\t\t\t\t\t/* true if compressed data believed to be text */\n\t\t\t\t\t\tthis.text = 0;\n\t\t\t\t\t\t/* modification time */\n\t\t\t\t\t\tthis.time = 0;\n\t\t\t\t\t\t/* extra flags (not used when writing a gzip file) */\n\t\t\t\t\t\tthis.xflags = 0;\n\t\t\t\t\t\t/* operating system */\n\t\t\t\t\t\tthis.os = 0;\n\t\t\t\t\t\t/* pointer to extra field or Z_NULL if none */\n\t\t\t\t\t\tthis.extra = null;\n\t\t\t\t\t\t/* extra field length (valid if extra != Z_NULL) */\n\t\t\t\t\t\tthis.extra_len = 0; // Actually, we don't need it in JS,\n\t\t\t\t\t\t// but leave for few code modifications\n\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// Setup limits is not necessary because in js we should not preallocate memory\n\t\t\t\t\t\t// for inflate use constant limit in 65536 bytes\n\t\t\t\t\t\t//\n\n\t\t\t\t\t\t/* space at extra (only when reading header) */\n\t\t\t\t\t\t// this.extra_max  = 0;\n\t\t\t\t\t\t/* pointer to zero-terminated file name or Z_NULL */\n\t\t\t\t\t\tthis.name = '';\n\t\t\t\t\t\t/* space at name (only when reading header) */\n\t\t\t\t\t\t// this.name_max   = 0;\n\t\t\t\t\t\t/* pointer to zero-terminated comment or Z_NULL */\n\t\t\t\t\t\tthis.comment = '';\n\t\t\t\t\t\t/* space at comment (only when reading header) */\n\t\t\t\t\t\t// this.comm_max   = 0;\n\t\t\t\t\t\t/* true if there was or will be a header crc */\n\t\t\t\t\t\tthis.hcrc = 0;\n\t\t\t\t\t\t/* true when done reading gzip header (not used when writing a gzip file) */\n\t\t\t\t\t\tthis.done = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tmodule.exports = GZheader;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t7: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\t// See state defs from inflate.js\n\t\t\t\t\tvar BAD = 30; /* got a data error -- remain here until reset */\n\t\t\t\t\tvar TYPE = 12; /* i: waiting for type bits, including last-flag bit */\n\n\t\t\t\t\t/*\n     Decode literal, length, and distance codes and write out the resulting\n     literal and match bytes until either not enough input or output is\n     available, an end-of-block is encountered, or a data error is encountered.\n     When large enough input and output buffers are supplied to inflate(), for\n     example, a 16K input buffer and a 64K output buffer, more than 95% of the\n     inflate execution time is spent in this routine.\n\n     Entry assumptions:\n\n          state.mode === LEN\n          strm.avail_in >= 6\n          strm.avail_out >= 258\n          start >= strm.avail_out\n          state.bits < 8\n\n     On return, state.mode is one of:\n\n          LEN -- ran out of enough output space or enough available input\n          TYPE -- reached end of block code, inflate() to interpret next block\n          BAD -- error in block data\n\n     Notes:\n\n      - The maximum input bits used by a length/distance pair is 15 bits for the\n        length code, 5 bits for the length extra, 15 bits for the distance code,\n        and 13 bits for the distance extra.  This totals 48 bits, or six bytes.\n        Therefore if strm.avail_in >= 6, then there is enough input to avoid\n        checking for available input while decoding.\n\n      - The maximum bytes that a single length/distance pair can output is 258\n        bytes, which is the maximum length that can be coded.  inflate_fast()\n        requires strm.avail_out >= 258 for each loop to avoid checking for\n        output space.\n   */\n\t\t\t\t\tmodule.exports = function inflate_fast( strm, start ) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tvar _in; /* local strm.input */\n\t\t\t\t\t\tvar last; /* have enough input while in < last */\n\t\t\t\t\t\tvar _out; /* local strm.output */\n\t\t\t\t\t\tvar beg; /* inflate()'s initial strm.output */\n\t\t\t\t\t\tvar end; /* while out < end, enough space available */\n\t\t\t\t\t\t//#ifdef INFLATE_STRICT\n\t\t\t\t\t\tvar dmax; /* maximum distance from zlib header */\n\t\t\t\t\t\t//#endif\n\t\t\t\t\t\tvar wsize; /* window size or zero if not using window */\n\t\t\t\t\t\tvar whave; /* valid bytes in the window */\n\t\t\t\t\t\tvar wnext; /* window write index */\n\t\t\t\t\t\t// Use `s_window` instead `window`, avoid conflict with instrumentation tools\n\t\t\t\t\t\tvar s_window; /* allocated sliding window, if wsize != 0 */\n\t\t\t\t\t\tvar hold; /* local strm.hold */\n\t\t\t\t\t\tvar bits; /* local strm.bits */\n\t\t\t\t\t\tvar lcode; /* local strm.lencode */\n\t\t\t\t\t\tvar dcode; /* local strm.distcode */\n\t\t\t\t\t\tvar lmask; /* mask for first level of length codes */\n\t\t\t\t\t\tvar dmask; /* mask for first level of distance codes */\n\t\t\t\t\t\tvar here; /* retrieved table entry */\n\t\t\t\t\t\tvar op; /* code bits, operation, extra bits, or */\n\t\t\t\t\t\t/*  window position, window bytes to copy */\n\t\t\t\t\t\tvar len; /* match length, unused bytes */\n\t\t\t\t\t\tvar dist; /* match distance */\n\t\t\t\t\t\tvar from; /* where to copy match from */\n\t\t\t\t\t\tvar from_source;\n\n\t\t\t\t\t\tvar input, output; // JS specific, because we have no pointers\n\n\t\t\t\t\t\t/* copy state to local variables */\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\t//here = state.here;\n\t\t\t\t\t\t_in = strm.next_in;\n\t\t\t\t\t\tinput = strm.input;\n\t\t\t\t\t\tlast = _in + ( strm.avail_in - 5 );\n\t\t\t\t\t\t_out = strm.next_out;\n\t\t\t\t\t\toutput = strm.output;\n\t\t\t\t\t\tbeg = _out - ( start - strm.avail_out );\n\t\t\t\t\t\tend = _out + ( strm.avail_out - 257 );\n\t\t\t\t\t\t//#ifdef INFLATE_STRICT\n\t\t\t\t\t\tdmax = state.dmax;\n\t\t\t\t\t\t//#endif\n\t\t\t\t\t\twsize = state.wsize;\n\t\t\t\t\t\twhave = state.whave;\n\t\t\t\t\t\twnext = state.wnext;\n\t\t\t\t\t\ts_window = state.window;\n\t\t\t\t\t\thold = state.hold;\n\t\t\t\t\t\tbits = state.bits;\n\t\t\t\t\t\tlcode = state.lencode;\n\t\t\t\t\t\tdcode = state.distcode;\n\t\t\t\t\t\tlmask = ( 1 << state.lenbits ) - 1;\n\t\t\t\t\t\tdmask = ( 1 << state.distbits ) - 1;\n\n\t\t\t\t\t\t/* decode literals and length/distances until end-of-block or not enough\n       input data or output space */\n\n\t\t\t\t\t\ttop: do {\n\t\t\t\t\t\t\tif ( bits < 15 ) {\n\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\there = lcode[ hold & lmask ];\n\n\t\t\t\t\t\t\tdolen: for (;;) {\n\t\t\t\t\t\t\t\t// Goto emulation\n\t\t\t\t\t\t\t\top = here >>> 24 /*here.bits*/;\n\t\t\t\t\t\t\t\thold >>>= op;\n\t\t\t\t\t\t\t\tbits -= op;\n\t\t\t\t\t\t\t\top = ( here >>> 16 ) & 0xff /*here.op*/;\n\t\t\t\t\t\t\t\tif ( op === 0 ) {\n\t\t\t\t\t\t\t\t\t/* literal */\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n\t\t\t\t\t\t\t\t\t//        \"inflate:         literal '%c'\\n\" :\n\t\t\t\t\t\t\t\t\t//        \"inflate:         literal 0x%02x\\n\", here.val));\n\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\there & 0xffff /*here.val*/;\n\t\t\t\t\t\t\t\t} else if ( op & 16 ) {\n\t\t\t\t\t\t\t\t\t/* length base */\n\t\t\t\t\t\t\t\t\tlen = here & 0xffff /*here.val*/;\n\t\t\t\t\t\t\t\t\top &= 15; /* number of extra bits */\n\t\t\t\t\t\t\t\t\tif ( op ) {\n\t\t\t\t\t\t\t\t\t\tif ( bits < op ) {\n\t\t\t\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlen += hold & ( ( 1 << op ) - 1 );\n\t\t\t\t\t\t\t\t\t\thold >>>= op;\n\t\t\t\t\t\t\t\t\t\tbits -= op;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         length %u\\n\", len));\n\t\t\t\t\t\t\t\t\tif ( bits < 15 ) {\n\t\t\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\there = dcode[ hold & dmask ];\n\n\t\t\t\t\t\t\t\t\tdodist: for (;;) {\n\t\t\t\t\t\t\t\t\t\t// goto emulation\n\t\t\t\t\t\t\t\t\t\top = here >>> 24 /*here.bits*/;\n\t\t\t\t\t\t\t\t\t\thold >>>= op;\n\t\t\t\t\t\t\t\t\t\tbits -= op;\n\t\t\t\t\t\t\t\t\t\top = ( here >>> 16 ) & 0xff /*here.op*/;\n\n\t\t\t\t\t\t\t\t\t\tif ( op & 16 ) {\n\t\t\t\t\t\t\t\t\t\t\t/* distance base */\n\t\t\t\t\t\t\t\t\t\t\tdist = here & 0xffff /*here.val*/;\n\t\t\t\t\t\t\t\t\t\t\top &= 15; /* number of extra bits */\n\t\t\t\t\t\t\t\t\t\t\tif ( bits < op ) {\n\t\t\t\t\t\t\t\t\t\t\t\thold += input[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\tif ( bits < op ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\thold +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinput[ _in++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdist += hold & ( ( 1 << op ) - 1 );\n\t\t\t\t\t\t\t\t\t\t\t//#ifdef INFLATE_STRICT\n\t\t\t\t\t\t\t\t\t\t\tif ( dist > dmax ) {\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid distance too far back';\n\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t\t\thold >>>= op;\n\t\t\t\t\t\t\t\t\t\t\tbits -= op;\n\t\t\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         distance %u\\n\", dist));\n\t\t\t\t\t\t\t\t\t\t\top =\n\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\tbeg; /* max distance in output */\n\t\t\t\t\t\t\t\t\t\t\tif ( dist > op ) {\n\t\t\t\t\t\t\t\t\t\t\t\t/* see if copy from window */\n\t\t\t\t\t\t\t\t\t\t\t\top =\n\t\t\t\t\t\t\t\t\t\t\t\t\tdist -\n\t\t\t\t\t\t\t\t\t\t\t\t\top; /* distance back in window */\n\t\t\t\t\t\t\t\t\t\t\t\tif ( op > whave ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( state.sane ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid distance too far back';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t// (!) This block is disabled in zlib defaults,\n\t\t\t\t\t\t\t\t\t\t\t\t\t// don't enable it for binary compatibility\n\t\t\t\t\t\t\t\t\t\t\t\t\t//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                if (len <= op - whave) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  do {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                    output[_out++] = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  } while (--len);\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  continue top;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                }\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                len -= op - whave;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                do {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  output[_out++] = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                } while (--op > whave);\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                if (op === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  from = _out - dist;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  do {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                    output[_out++] = output[from++];\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  } while (--len);\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                  continue top;\n\t\t\t\t\t\t\t\t\t\t\t\t\t//                }\n\t\t\t\t\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tfrom = 0; // window index\n\t\t\t\t\t\t\t\t\t\t\t\tfrom_source = s_window;\n\t\t\t\t\t\t\t\t\t\t\t\tif ( wnext === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* very common case */\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom += wsize - op;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( op < len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* some from window */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= op;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_window[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} while ( --op );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdist; /* rest from output */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source = output;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ( wnext < op ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* wrap around window */\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom += wsize + wnext - op;\n\t\t\t\t\t\t\t\t\t\t\t\t\top -= wnext;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( op < len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* some from end of window */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= op;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_window[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} while ( --op );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( wnext < len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* some from start of window */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\top = wnext;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= op;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_window[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} while ( --op );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdist; /* rest from output */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* contiguous in window */\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom += wnext - op;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( op < len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* some from window */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= op;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_window[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} while ( --op );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdist; /* rest from output */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source = output;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\twhile ( len > 2 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= 3;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif ( len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( len > 1 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom_source[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom++\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tfrom =\n\t\t\t\t\t\t\t\t\t\t\t\t\t_out -\n\t\t\t\t\t\t\t\t\t\t\t\t\tdist; /* copy direct from output */\n\t\t\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* minimum length is three */\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\tlen -= 3;\n\t\t\t\t\t\t\t\t\t\t\t\t} while ( len > 2 );\n\t\t\t\t\t\t\t\t\t\t\t\tif ( len ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( len > 1 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ _out++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput[ from++ ];\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else if ( ( op & 64 ) === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t/* 2nd level distance code */\n\t\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\t\tdcode[\n\t\t\t\t\t\t\t\t\t\t\t\t\t( here &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0xffff ) /*here.val*/ +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( hold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 << op ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 ) )\n\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\tcontinue dodist;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid distance code';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak; // need to emulate goto via \"continue\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if ( ( op & 64 ) === 0 ) {\n\t\t\t\t\t\t\t\t\t/* 2nd level length code */\n\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\tlcode[\n\t\t\t\t\t\t\t\t\t\t\t( here & 0xffff ) /*here.val*/ +\n\t\t\t\t\t\t\t\t\t\t\t\t( hold & ( ( 1 << op ) - 1 ) )\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\tcontinue dolen;\n\t\t\t\t\t\t\t\t} else if ( op & 32 ) {\n\t\t\t\t\t\t\t\t\t/* end-of-block */\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         end of block\\n\"));\n\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid literal/length code';\n\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\tbreak top;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak; // need to emulate goto via \"continue\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while ( _in < last && _out < end );\n\n\t\t\t\t\t\t/* return unused bytes (on entry, bits < 8, so in won't go too far back) */\n\t\t\t\t\t\tlen = bits >> 3;\n\t\t\t\t\t\t_in -= len;\n\t\t\t\t\t\tbits -= len << 3;\n\t\t\t\t\t\thold &= ( 1 << bits ) - 1;\n\n\t\t\t\t\t\t/* update state and return */\n\t\t\t\t\t\tstrm.next_in = _in;\n\t\t\t\t\t\tstrm.next_out = _out;\n\t\t\t\t\t\tstrm.avail_in =\n\t\t\t\t\t\t\t_in < last\n\t\t\t\t\t\t\t\t? 5 + ( last - _in )\n\t\t\t\t\t\t\t\t: 5 - ( _in - last );\n\t\t\t\t\t\tstrm.avail_out =\n\t\t\t\t\t\t\t_out < end\n\t\t\t\t\t\t\t\t? 257 + ( end - _out )\n\t\t\t\t\t\t\t\t: 257 - ( _out - end );\n\t\t\t\t\t\tstate.hold = hold;\n\t\t\t\t\t\tstate.bits = bits;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t8: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tvar utils = require( '../utils/common' );\n\t\t\t\t\tvar adler32 = require( './adler32' );\n\t\t\t\t\tvar crc32 = require( './crc32' );\n\t\t\t\t\tvar inflate_fast = require( './inffast' );\n\t\t\t\t\tvar inflate_table = require( './inftrees' );\n\n\t\t\t\t\tvar CODES = 0;\n\t\t\t\t\tvar LENS = 1;\n\t\t\t\t\tvar DISTS = 2;\n\n\t\t\t\t\t/* Public constants ==========================================================*/\n\t\t\t\t\t/* ===========================================================================*/\n\n\t\t\t\t\t/* Allowed flush values; see deflate() and inflate() below for details */\n\t\t\t\t\t//var Z_NO_FLUSH      = 0;\n\t\t\t\t\t//var Z_PARTIAL_FLUSH = 1;\n\t\t\t\t\t//var Z_SYNC_FLUSH    = 2;\n\t\t\t\t\t//var Z_FULL_FLUSH    = 3;\n\t\t\t\t\tvar Z_FINISH = 4;\n\t\t\t\t\tvar Z_BLOCK = 5;\n\t\t\t\t\tvar Z_TREES = 6;\n\n\t\t\t\t\t/* Return codes for the compression/decompression functions. Negative values\n\t\t\t\t\t * are errors, positive values are used for special but normal events.\n\t\t\t\t\t */\n\t\t\t\t\tvar Z_OK = 0;\n\t\t\t\t\tvar Z_STREAM_END = 1;\n\t\t\t\t\tvar Z_NEED_DICT = 2;\n\t\t\t\t\t//var Z_ERRNO         = -1;\n\t\t\t\t\tvar Z_STREAM_ERROR = -2;\n\t\t\t\t\tvar Z_DATA_ERROR = -3;\n\t\t\t\t\tvar Z_MEM_ERROR = -4;\n\t\t\t\t\tvar Z_BUF_ERROR = -5;\n\t\t\t\t\t//var Z_VERSION_ERROR = -6;\n\n\t\t\t\t\t/* The deflate compression method */\n\t\t\t\t\tvar Z_DEFLATED = 8;\n\n\t\t\t\t\t/* STATES ====================================================================*/\n\t\t\t\t\t/* ===========================================================================*/\n\n\t\t\t\t\tvar HEAD = 1; /* i: waiting for magic header */\n\t\t\t\t\tvar FLAGS = 2; /* i: waiting for method and flags (gzip) */\n\t\t\t\t\tvar TIME = 3; /* i: waiting for modification time (gzip) */\n\t\t\t\t\tvar OS = 4; /* i: waiting for extra flags and operating system (gzip) */\n\t\t\t\t\tvar EXLEN = 5; /* i: waiting for extra length (gzip) */\n\t\t\t\t\tvar EXTRA = 6; /* i: waiting for extra bytes (gzip) */\n\t\t\t\t\tvar NAME = 7; /* i: waiting for end of file name (gzip) */\n\t\t\t\t\tvar COMMENT = 8; /* i: waiting for end of comment (gzip) */\n\t\t\t\t\tvar HCRC = 9; /* i: waiting for header crc (gzip) */\n\t\t\t\t\tvar DICTID = 10; /* i: waiting for dictionary check value */\n\t\t\t\t\tvar DICT = 11; /* waiting for inflateSetDictionary() call */\n\t\t\t\t\tvar TYPE = 12; /* i: waiting for type bits, including last-flag bit */\n\t\t\t\t\tvar TYPEDO = 13; /* i: same, but skip check to exit inflate on new block */\n\t\t\t\t\tvar STORED = 14; /* i: waiting for stored size (length and complement) */\n\t\t\t\t\tvar COPY_ = 15; /* i/o: same as COPY below, but only first time in */\n\t\t\t\t\tvar COPY = 16; /* i/o: waiting for input or output to copy stored block */\n\t\t\t\t\tvar TABLE = 17; /* i: waiting for dynamic block table lengths */\n\t\t\t\t\tvar LENLENS = 18; /* i: waiting for code length code lengths */\n\t\t\t\t\tvar CODELENS = 19; /* i: waiting for length/lit and distance code lengths */\n\t\t\t\t\tvar LEN_ = 20; /* i: same as LEN below, but only first time in */\n\t\t\t\t\tvar LEN = 21; /* i: waiting for length/lit/eob code */\n\t\t\t\t\tvar LENEXT = 22; /* i: waiting for length extra bits */\n\t\t\t\t\tvar DIST = 23; /* i: waiting for distance code */\n\t\t\t\t\tvar DISTEXT = 24; /* i: waiting for distance extra bits */\n\t\t\t\t\tvar MATCH = 25; /* o: waiting for output space to copy string */\n\t\t\t\t\tvar LIT = 26; /* o: waiting for output space to write literal */\n\t\t\t\t\tvar CHECK = 27; /* i: waiting for 32-bit check value */\n\t\t\t\t\tvar LENGTH = 28; /* i: waiting for 32-bit length (gzip) */\n\t\t\t\t\tvar DONE = 29; /* finished check, done -- remain here until reset */\n\t\t\t\t\tvar BAD = 30; /* got a data error -- remain here until reset */\n\t\t\t\t\tvar MEM = 31; /* got an inflate() memory error -- remain here until reset */\n\t\t\t\t\tvar SYNC = 32; /* looking for synchronization bytes to restart inflate() */\n\n\t\t\t\t\t/* ===========================================================================*/\n\n\t\t\t\t\tvar ENOUGH_LENS = 852;\n\t\t\t\t\tvar ENOUGH_DISTS = 592;\n\t\t\t\t\t//var ENOUGH =  (ENOUGH_LENS+ENOUGH_DISTS);\n\n\t\t\t\t\tvar MAX_WBITS = 15;\n\t\t\t\t\t/* 32K LZ77 window */\n\t\t\t\t\tvar DEF_WBITS = MAX_WBITS;\n\n\t\t\t\t\tfunction zswap32( q ) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t( ( q >>> 24 ) & 0xff ) +\n\t\t\t\t\t\t\t( ( q >>> 8 ) & 0xff00 ) +\n\t\t\t\t\t\t\t( ( q & 0xff00 ) << 8 ) +\n\t\t\t\t\t\t\t( ( q & 0xff ) << 24 )\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction InflateState() {\n\t\t\t\t\t\tthis.mode = 0; /* current inflate mode */\n\t\t\t\t\t\tthis.last = false; /* true if processing last block */\n\t\t\t\t\t\tthis.wrap = 0; /* bit 0 true for zlib, bit 1 true for gzip */\n\t\t\t\t\t\tthis.havedict = false; /* true if dictionary provided */\n\t\t\t\t\t\tthis.flags = 0; /* gzip header method and flags (0 if zlib) */\n\t\t\t\t\t\tthis.dmax = 0; /* zlib header max distance (INFLATE_STRICT) */\n\t\t\t\t\t\tthis.check = 0; /* protected copy of check value */\n\t\t\t\t\t\tthis.total = 0; /* protected copy of output count */\n\t\t\t\t\t\t// TODO: may be {}\n\t\t\t\t\t\tthis.head =\n\t\t\t\t\t\t\tnull; /* where to save gzip header information */\n\n\t\t\t\t\t\t/* sliding window */\n\t\t\t\t\t\tthis.wbits = 0; /* log base 2 of requested window size */\n\t\t\t\t\t\tthis.wsize = 0; /* window size or zero if not using window */\n\t\t\t\t\t\tthis.whave = 0; /* valid bytes in the window */\n\t\t\t\t\t\tthis.wnext = 0; /* window write index */\n\t\t\t\t\t\tthis.window =\n\t\t\t\t\t\t\tnull; /* allocated sliding window, if needed */\n\n\t\t\t\t\t\t/* bit accumulator */\n\t\t\t\t\t\tthis.hold = 0; /* input bit accumulator */\n\t\t\t\t\t\tthis.bits = 0; /* number of bits in \"in\" */\n\n\t\t\t\t\t\t/* for string and stored block copying */\n\t\t\t\t\t\tthis.length = 0; /* literal or length of data to copy */\n\t\t\t\t\t\tthis.offset = 0; /* distance back to copy string from */\n\n\t\t\t\t\t\t/* for table and code decoding */\n\t\t\t\t\t\tthis.extra = 0; /* extra bits needed */\n\n\t\t\t\t\t\t/* fixed and dynamic code tables */\n\t\t\t\t\t\tthis.lencode =\n\t\t\t\t\t\t\tnull; /* starting table for length/literal codes */\n\t\t\t\t\t\tthis.distcode =\n\t\t\t\t\t\t\tnull; /* starting table for distance codes */\n\t\t\t\t\t\tthis.lenbits = 0; /* index bits for lencode */\n\t\t\t\t\t\tthis.distbits = 0; /* index bits for distcode */\n\n\t\t\t\t\t\t/* dynamic table building */\n\t\t\t\t\t\tthis.ncode = 0; /* number of code length code lengths */\n\t\t\t\t\t\tthis.nlen = 0; /* number of length code lengths */\n\t\t\t\t\t\tthis.ndist = 0; /* number of distance code lengths */\n\t\t\t\t\t\tthis.have = 0; /* number of code lengths in lens[] */\n\t\t\t\t\t\tthis.next = null; /* next available space in codes[] */\n\n\t\t\t\t\t\tthis.lens = new utils.Buf16(\n\t\t\t\t\t\t\t320\n\t\t\t\t\t\t); /* temporary storage for code lengths */\n\t\t\t\t\t\tthis.work = new utils.Buf16(\n\t\t\t\t\t\t\t288\n\t\t\t\t\t\t); /* work area for code table building */\n\n\t\t\t\t\t\t/*\n     because we don't have pointers in js, we use lencode and distcode directly\n     as buffers so we don't need codes\n    */\n\t\t\t\t\t\t//this.codes = new utils.Buf32(ENOUGH);       /* space for code tables */\n\t\t\t\t\t\tthis.lendyn =\n\t\t\t\t\t\t\tnull; /* dynamic table for length/literal codes (JS specific) */\n\t\t\t\t\t\tthis.distdyn =\n\t\t\t\t\t\t\tnull; /* dynamic table for distance codes (JS specific) */\n\t\t\t\t\t\tthis.sane = 0; /* if false, allow invalid distance too far */\n\t\t\t\t\t\tthis.back = 0; /* bits back of last unprocessed length/lit */\n\t\t\t\t\t\tthis.was = 0; /* initial length of match */\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateResetKeep( strm ) {\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\tif ( ! strm || ! strm.state ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\tstrm.total_in = strm.total_out = state.total = 0;\n\t\t\t\t\t\tstrm.msg = ''; /*Z_NULL*/\n\t\t\t\t\t\tif ( state.wrap ) {\n\t\t\t\t\t\t\t/* to support ill-conceived Java test suite */\n\t\t\t\t\t\t\tstrm.adler = state.wrap & 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate.mode = HEAD;\n\t\t\t\t\t\tstate.last = 0;\n\t\t\t\t\t\tstate.havedict = 0;\n\t\t\t\t\t\tstate.dmax = 32768;\n\t\t\t\t\t\tstate.head = null /*Z_NULL*/;\n\t\t\t\t\t\tstate.hold = 0;\n\t\t\t\t\t\tstate.bits = 0;\n\t\t\t\t\t\t//state.lencode = state.distcode = state.next = state.codes;\n\t\t\t\t\t\tstate.lencode = state.lendyn = new utils.Buf32(\n\t\t\t\t\t\t\tENOUGH_LENS\n\t\t\t\t\t\t);\n\t\t\t\t\t\tstate.distcode = state.distdyn = new utils.Buf32(\n\t\t\t\t\t\t\tENOUGH_DISTS\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tstate.sane = 1;\n\t\t\t\t\t\tstate.back = -1;\n\t\t\t\t\t\t//Tracev((stderr, \"inflate: reset\\n\"));\n\t\t\t\t\t\treturn Z_OK;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateReset( strm ) {\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\tif ( ! strm || ! strm.state ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\tstate.wsize = 0;\n\t\t\t\t\t\tstate.whave = 0;\n\t\t\t\t\t\tstate.wnext = 0;\n\t\t\t\t\t\treturn inflateResetKeep( strm );\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateReset2( strm, windowBits ) {\n\t\t\t\t\t\tvar wrap;\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\t/* get the state */\n\t\t\t\t\t\tif ( ! strm || ! strm.state ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\n\t\t\t\t\t\t/* extract wrap request from windowBits parameter */\n\t\t\t\t\t\tif ( windowBits < 0 ) {\n\t\t\t\t\t\t\twrap = 0;\n\t\t\t\t\t\t\twindowBits = -windowBits;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twrap = ( windowBits >> 4 ) + 1;\n\t\t\t\t\t\t\tif ( windowBits < 48 ) {\n\t\t\t\t\t\t\t\twindowBits &= 15;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* set number of window bits, free window if different */\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\twindowBits &&\n\t\t\t\t\t\t\t( windowBits < 8 || windowBits > 15 )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tstate.window !== null &&\n\t\t\t\t\t\t\tstate.wbits !== windowBits\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tstate.window = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* update state and reset the rest of it */\n\t\t\t\t\t\tstate.wrap = wrap;\n\t\t\t\t\t\tstate.wbits = windowBits;\n\t\t\t\t\t\treturn inflateReset( strm );\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateInit2( strm, windowBits ) {\n\t\t\t\t\t\tvar ret;\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\tif ( ! strm ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//strm.msg = Z_NULL;                 /* in case we return an error */\n\n\t\t\t\t\t\tstate = new InflateState();\n\n\t\t\t\t\t\t//if (state === Z_NULL) return Z_MEM_ERROR;\n\t\t\t\t\t\t//Tracev((stderr, \"inflate: allocated\\n\"));\n\t\t\t\t\t\tstrm.state = state;\n\t\t\t\t\t\tstate.window = null /*Z_NULL*/;\n\t\t\t\t\t\tret = inflateReset2( strm, windowBits );\n\t\t\t\t\t\tif ( ret !== Z_OK ) {\n\t\t\t\t\t\t\tstrm.state = null /*Z_NULL*/;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateInit( strm ) {\n\t\t\t\t\t\treturn inflateInit2( strm, DEF_WBITS );\n\t\t\t\t\t}\n\n\t\t\t\t\t/*\n   Return state with length and distance decoding tables and index sizes set to\n   fixed code decoding.  Normally this returns fixed tables from inffixed.h.\n   If BUILDFIXED is defined, then instead this routine builds the tables the\n   first time it's called, and returns those tables the first time and\n   thereafter.  This reduces the size of the code by about 2K bytes, in\n   exchange for a little execution time.  However, BUILDFIXED should not be\n   used for threaded applications, since the rewriting of the tables and virgin\n   may not be thread-safe.\n   */\n\t\t\t\t\tvar virgin = true;\n\n\t\t\t\t\tvar lenfix, distfix; // We have no pointers in JS, so keep tables separate\n\n\t\t\t\t\tfunction fixedtables( state ) {\n\t\t\t\t\t\t/* build fixed huffman tables if first call (may not be thread safe) */\n\t\t\t\t\t\tif ( virgin ) {\n\t\t\t\t\t\t\tvar sym;\n\n\t\t\t\t\t\t\tlenfix = new utils.Buf32( 512 );\n\t\t\t\t\t\t\tdistfix = new utils.Buf32( 32 );\n\n\t\t\t\t\t\t\t/* literal/length table */\n\t\t\t\t\t\t\tsym = 0;\n\t\t\t\t\t\t\twhile ( sym < 144 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 8;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile ( sym < 256 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 9;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile ( sym < 280 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 7;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile ( sym < 288 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 8;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tinflate_table(\n\t\t\t\t\t\t\t\tLENS,\n\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t288,\n\t\t\t\t\t\t\t\tlenfix,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t{ bits: 9 }\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t/* distance table */\n\t\t\t\t\t\t\tsym = 0;\n\t\t\t\t\t\t\twhile ( sym < 32 ) {\n\t\t\t\t\t\t\t\tstate.lens[ sym++ ] = 5;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tinflate_table(\n\t\t\t\t\t\t\t\tDISTS,\n\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t32,\n\t\t\t\t\t\t\t\tdistfix,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t{ bits: 5 }\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t/* do this just once */\n\t\t\t\t\t\t\tvirgin = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.lencode = lenfix;\n\t\t\t\t\t\tstate.lenbits = 9;\n\t\t\t\t\t\tstate.distcode = distfix;\n\t\t\t\t\t\tstate.distbits = 5;\n\t\t\t\t\t}\n\n\t\t\t\t\t/*\n   Update the window with the last wsize (normally 32K) bytes written before\n   returning.  If window does not exist yet, create it.  This is only called\n   when a window is already in use, or when output has been written during this\n   inflate call, but the end of the deflate stream has not been reached yet.\n   It is also called to create a window for dictionary data when a dictionary\n   is loaded.\n\n   Providing output buffers larger than 32K to inflate() should provide a speed\n   advantage, since only the last 32K of output is copied to the sliding window\n   upon return from inflate(), and since all distances after the first 32K of\n   output will fall in the output data, making match copies simpler and faster.\n   The advantage may be dependent on the size of the processor's data caches.\n   */\n\t\t\t\t\tfunction updatewindow( strm, src, end, copy ) {\n\t\t\t\t\t\tvar dist;\n\t\t\t\t\t\tvar state = strm.state;\n\n\t\t\t\t\t\t/* if it hasn't been done already, allocate space for the window */\n\t\t\t\t\t\tif ( state.window === null ) {\n\t\t\t\t\t\t\tstate.wsize = 1 << state.wbits;\n\t\t\t\t\t\t\tstate.wnext = 0;\n\t\t\t\t\t\t\tstate.whave = 0;\n\n\t\t\t\t\t\t\tstate.window = new utils.Buf8( state.wsize );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* copy state->wsize or less output bytes into the circular window */\n\t\t\t\t\t\tif ( copy >= state.wsize ) {\n\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\tstate.window,\n\t\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\t\tend - state.wsize,\n\t\t\t\t\t\t\t\tstate.wsize,\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tstate.wnext = 0;\n\t\t\t\t\t\t\tstate.whave = state.wsize;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdist = state.wsize - state.wnext;\n\t\t\t\t\t\t\tif ( dist > copy ) {\n\t\t\t\t\t\t\t\tdist = copy;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//zmemcpy(state->window + state->wnext, end - copy, dist);\n\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\tstate.window,\n\t\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\t\tend - copy,\n\t\t\t\t\t\t\t\tdist,\n\t\t\t\t\t\t\t\tstate.wnext\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcopy -= dist;\n\t\t\t\t\t\t\tif ( copy ) {\n\t\t\t\t\t\t\t\t//zmemcpy(state->window, end - copy, copy);\n\t\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\t\tstate.window,\n\t\t\t\t\t\t\t\t\tsrc,\n\t\t\t\t\t\t\t\t\tend - copy,\n\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tstate.wnext = copy;\n\t\t\t\t\t\t\t\tstate.whave = state.wsize;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.wnext += dist;\n\t\t\t\t\t\t\t\tif ( state.wnext === state.wsize ) {\n\t\t\t\t\t\t\t\t\tstate.wnext = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( state.whave < state.wsize ) {\n\t\t\t\t\t\t\t\t\tstate.whave += dist;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflate( strm, flush ) {\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tvar input, output; // input/output buffers\n\t\t\t\t\t\tvar next; /* next input INDEX */\n\t\t\t\t\t\tvar put; /* next output INDEX */\n\t\t\t\t\t\tvar have, left; /* available input and output */\n\t\t\t\t\t\tvar hold; /* bit buffer */\n\t\t\t\t\t\tvar bits; /* bits in bit buffer */\n\t\t\t\t\t\tvar _in,\n\t\t\t\t\t\t\t_out; /* save starting available input and output */\n\t\t\t\t\t\tvar copy; /* number of stored or match bytes to copy */\n\t\t\t\t\t\tvar from; /* where to copy match bytes from */\n\t\t\t\t\t\tvar from_source;\n\t\t\t\t\t\tvar here = 0; /* current decoding table entry */\n\t\t\t\t\t\tvar here_bits, here_op, here_val; // paked \"here\" denormalized (JS specific)\n\t\t\t\t\t\t//var last;                   /* parent table entry */\n\t\t\t\t\t\tvar last_bits, last_op, last_val; // paked \"last\" denormalized (JS specific)\n\t\t\t\t\t\tvar len; /* length to copy for repeats, bits to drop */\n\t\t\t\t\t\tvar ret; /* return code */\n\t\t\t\t\t\tvar hbuf = new utils.Buf8(\n\t\t\t\t\t\t\t4\n\t\t\t\t\t\t); /* buffer for gzip header crc calculation */\n\t\t\t\t\t\tvar opts;\n\n\t\t\t\t\t\tvar n; // temporary var for NEED_BITS\n\n\t\t\t\t\t\tvar order =\n\t\t\t\t\t\t\t/* permutation of code lengths */\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3,\n\t\t\t\t\t\t\t\t13, 2, 14, 1, 15,\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! strm ||\n\t\t\t\t\t\t\t! strm.state ||\n\t\t\t\t\t\t\t! strm.output ||\n\t\t\t\t\t\t\t( ! strm.input && strm.avail_in !== 0 )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\tif ( state.mode === TYPE ) {\n\t\t\t\t\t\t\tstate.mode = TYPEDO;\n\t\t\t\t\t\t} /* skip check */\n\n\t\t\t\t\t\t//--- LOAD() ---\n\t\t\t\t\t\tput = strm.next_out;\n\t\t\t\t\t\toutput = strm.output;\n\t\t\t\t\t\tleft = strm.avail_out;\n\t\t\t\t\t\tnext = strm.next_in;\n\t\t\t\t\t\tinput = strm.input;\n\t\t\t\t\t\thave = strm.avail_in;\n\t\t\t\t\t\thold = state.hold;\n\t\t\t\t\t\tbits = state.bits;\n\t\t\t\t\t\t//---\n\n\t\t\t\t\t\t_in = have;\n\t\t\t\t\t\t_out = left;\n\t\t\t\t\t\tret = Z_OK;\n\n\t\t\t\t\t\t// goto emulation\n\t\t\t\t\t\tinf_leave: for (;;) {\n\t\t\t\t\t\t\tswitch ( state.mode ) {\n\t\t\t\t\t\t\t\tcase HEAD:\n\t\t\t\t\t\t\t\t\tif ( state.wrap === 0 ) {\n\t\t\t\t\t\t\t\t\t\tstate.mode = TYPEDO;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16);\n\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tif ( state.wrap & 2 && hold === 0x8b1f ) {\n\t\t\t\t\t\t\t\t\t\t/* gzip header */\n\t\t\t\t\t\t\t\t\t\tstate.check = 0 /*crc32(0L, Z_NULL, 0)*/;\n\t\t\t\t\t\t\t\t\t\t//=== CRC2(state.check, hold);\n\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//===//\n\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.mode = FLAGS;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.flags = 0; /* expect zlib header */\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.done = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t! (\n\t\t\t\t\t\t\t\t\t\t\tstate.wrap & 1\n\t\t\t\t\t\t\t\t\t\t) /* check if zlib header allowed */ ||\n\t\t\t\t\t\t\t\t\t\t( ( ( hold & 0xff ) /*BITS(8)*/ << 8 ) +\n\t\t\t\t\t\t\t\t\t\t\t( hold >> 8 ) ) %\n\t\t\t\t\t\t\t\t\t\t\t31\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'incorrect header check';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t( hold & 0x0f ) /*BITS(4)*/ !==\n\t\t\t\t\t\t\t\t\t\tZ_DEFLATED\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'unknown compression method';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(4) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 4;\n\t\t\t\t\t\t\t\t\tbits -= 4;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tlen = ( hold & 0x0f ) /*BITS(4)*/ + 8;\n\t\t\t\t\t\t\t\t\tif ( state.wbits === 0 ) {\n\t\t\t\t\t\t\t\t\t\tstate.wbits = len;\n\t\t\t\t\t\t\t\t\t} else if ( len > state.wbits ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid window size';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.dmax = 1 << len;\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:   zlib header ok\\n\"));\n\t\t\t\t\t\t\t\t\tstrm.adler =\n\t\t\t\t\t\t\t\t\t\tstate.check = 1 /*adler32(0L, Z_NULL, 0)*/;\n\t\t\t\t\t\t\t\t\tstate.mode = hold & 0x200 ? DICTID : TYPE;\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase FLAGS:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.flags = hold;\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t( state.flags & 0xff ) !==\n\t\t\t\t\t\t\t\t\t\tZ_DEFLATED\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'unknown compression method';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0xe000 ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'unknown header flags set';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.text = ( hold >> 8 ) & 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t//=== CRC2(state.check, hold);\n\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = TIME;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase TIME:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.time = hold;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t//=== CRC4(state.check, hold)\n\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 2 ] = ( hold >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 3 ] = ( hold >>> 24 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t4,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//===\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = OS;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase OS:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.xflags = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.head.os = hold >> 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t//=== CRC2(state.check, hold);\n\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = EXLEN;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase EXLEN:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0400 ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16); */\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.length = hold;\n\t\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\t\tstate.head.extra_len = hold;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t\t//=== CRC2(state.check, hold);\n\t\t\t\t\t\t\t\t\t\t\thbuf[ 0 ] = hold & 0xff;\n\t\t\t\t\t\t\t\t\t\t\thbuf[ 1 ] = ( hold >>> 8 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\thbuf,\n\t\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t} else if ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.extra = null /*Z_NULL*/;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.mode = EXTRA;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase EXTRA:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0400 ) {\n\t\t\t\t\t\t\t\t\t\tcopy = state.length;\n\t\t\t\t\t\t\t\t\t\tif ( copy > have ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy = have;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\t\t\tlen =\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.head.extra_len -\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.length;\n\t\t\t\t\t\t\t\t\t\t\t\tif ( ! state.head.extra ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Use untyped array for more convenient processing later\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.head.extra =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew Array(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.head.extra_len\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.head.extra,\n\t\t\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\t\t\tnext,\n\t\t\t\t\t\t\t\t\t\t\t\t\t// extra field is limited to 65536 bytes\n\t\t\t\t\t\t\t\t\t\t\t\t\t// - no need for additional size check\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\t\t\t/*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/\n\t\t\t\t\t\t\t\t\t\t\t\t\tlen\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t//zmemcpy(state.head.extra + len, next,\n\t\t\t\t\t\t\t\t\t\t\t\t//        len + copy > state.head.extra_max ?\n\t\t\t\t\t\t\t\t\t\t\t\t//        state.head.extra_max - len : copy);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\t\t\tnext\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave -= copy;\n\t\t\t\t\t\t\t\t\t\t\tnext += copy;\n\t\t\t\t\t\t\t\t\t\t\tstate.length -= copy;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( state.length ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.length = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = NAME;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase NAME:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0800 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcopy = 0;\n\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\t// TODO: 2 or 1 bytes?\n\t\t\t\t\t\t\t\t\t\t\tlen = input[ next + copy++ ];\n\t\t\t\t\t\t\t\t\t\t\t/* use constant limit because in js we should not preallocate memory */\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tstate.head &&\n\t\t\t\t\t\t\t\t\t\t\t\tlen &&\n\t\t\t\t\t\t\t\t\t\t\t\tstate.length <\n\t\t\t\t\t\t\t\t\t\t\t\t\t65536 /*state.head.name_max*/\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.head.name +=\n\t\t\t\t\t\t\t\t\t\t\t\t\tString.fromCharCode( len );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} while ( len && copy < have );\n\n\t\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\t\tnext\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave -= copy;\n\t\t\t\t\t\t\t\t\t\tnext += copy;\n\t\t\t\t\t\t\t\t\t\tif ( len ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.name = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.length = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = COMMENT;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase COMMENT:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x1000 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcopy = 0;\n\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\tlen = input[ next + copy++ ];\n\t\t\t\t\t\t\t\t\t\t\t/* use constant limit because in js we should not preallocate memory */\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tstate.head &&\n\t\t\t\t\t\t\t\t\t\t\t\tlen &&\n\t\t\t\t\t\t\t\t\t\t\t\tstate.length <\n\t\t\t\t\t\t\t\t\t\t\t\t\t65536 /*state.head.comm_max*/\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.head.comment +=\n\t\t\t\t\t\t\t\t\t\t\t\t\tString.fromCharCode( len );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} while ( len && copy < have );\n\t\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t\tstate.check = crc32(\n\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\t\tnext\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave -= copy;\n\t\t\t\t\t\t\t\t\t\tnext += copy;\n\t\t\t\t\t\t\t\t\t\tif ( len ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.comment = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.mode = HCRC;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase HCRC:\n\t\t\t\t\t\t\t\t\tif ( state.flags & 0x0200 ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(16); */\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 16 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\thold !==\n\t\t\t\t\t\t\t\t\t\t\t( state.check & 0xffff )\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'header crc mismatch';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( state.head ) {\n\t\t\t\t\t\t\t\t\t\tstate.head.hcrc =\n\t\t\t\t\t\t\t\t\t\t\t( state.flags >> 9 ) & 1;\n\t\t\t\t\t\t\t\t\t\tstate.head.done = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstrm.adler = state.check = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase DICTID:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstrm.adler = state.check = zswap32( hold );\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = DICT;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase DICT:\n\t\t\t\t\t\t\t\t\tif ( state.havedict === 0 ) {\n\t\t\t\t\t\t\t\t\t\t//--- RESTORE() ---\n\t\t\t\t\t\t\t\t\t\tstrm.next_out = put;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_out = left;\n\t\t\t\t\t\t\t\t\t\tstrm.next_in = next;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_in = have;\n\t\t\t\t\t\t\t\t\t\tstate.hold = hold;\n\t\t\t\t\t\t\t\t\t\tstate.bits = bits;\n\t\t\t\t\t\t\t\t\t\t//---\n\t\t\t\t\t\t\t\t\t\treturn Z_NEED_DICT;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstrm.adler =\n\t\t\t\t\t\t\t\t\t\tstate.check = 1 /*adler32(0L, Z_NULL, 0)*/;\n\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase TYPE:\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tflush === Z_BLOCK ||\n\t\t\t\t\t\t\t\t\t\tflush === Z_TREES\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase TYPEDO:\n\t\t\t\t\t\t\t\t\tif ( state.last ) {\n\t\t\t\t\t\t\t\t\t\t//--- BYTEBITS() ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= bits & 7;\n\t\t\t\t\t\t\t\t\t\tbits -= bits & 7;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.mode = CHECK;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(3); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 3 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.last = hold & 0x01 /*BITS(1)*/;\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(1) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 1;\n\t\t\t\t\t\t\t\t\tbits -= 1;\n\t\t\t\t\t\t\t\t\t//---//\n\n\t\t\t\t\t\t\t\t\tswitch ( hold & 0x03 /*BITS(2)*/ ) {\n\t\t\t\t\t\t\t\t\t\tcase 0 /* stored block */:\n\t\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:     stored block%s\\n\",\n\t\t\t\t\t\t\t\t\t\t\t//        state.last ? \" (last)\" : \"\"));\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = STORED;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 1 /* fixed block */:\n\t\t\t\t\t\t\t\t\t\t\tfixedtables( state );\n\t\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:     fixed codes block%s\\n\",\n\t\t\t\t\t\t\t\t\t\t\t//        state.last ? \" (last)\" : \"\"));\n\t\t\t\t\t\t\t\t\t\t\tstate.mode =\n\t\t\t\t\t\t\t\t\t\t\t\tLEN_; /* decode codes */\n\t\t\t\t\t\t\t\t\t\t\tif ( flush === Z_TREES ) {\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(2) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= 2;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= 2;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 2 /* dynamic block */:\n\t\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:     dynamic codes block%s\\n\",\n\t\t\t\t\t\t\t\t\t\t\t//        state.last ? \" (last)\" : \"\"));\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = TABLE;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid block type';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(2) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 2;\n\t\t\t\t\t\t\t\t\tbits -= 2;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase STORED:\n\t\t\t\t\t\t\t\t\t//--- BYTEBITS() ---// /* go to byte boundary */\n\t\t\t\t\t\t\t\t\thold >>>= bits & 7;\n\t\t\t\t\t\t\t\t\tbits -= bits & 7;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t( hold & 0xffff ) !==\n\t\t\t\t\t\t\t\t\t\t( ( hold >>> 16 ) ^ 0xffff )\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid stored block lengths';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.length = hold & 0xffff;\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:       stored length %u\\n\",\n\t\t\t\t\t\t\t\t\t//        state.length));\n\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.mode = COPY_;\n\t\t\t\t\t\t\t\t\tif ( flush === Z_TREES ) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase COPY_:\n\t\t\t\t\t\t\t\t\tstate.mode = COPY;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase COPY:\n\t\t\t\t\t\t\t\t\tcopy = state.length;\n\t\t\t\t\t\t\t\t\tif ( copy ) {\n\t\t\t\t\t\t\t\t\t\tif ( copy > have ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy = have;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy > left ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy = left;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- zmemcpy(put, next, copy); ---\n\t\t\t\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\t\t\t\tnext,\n\t\t\t\t\t\t\t\t\t\t\tcopy,\n\t\t\t\t\t\t\t\t\t\t\tput\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\thave -= copy;\n\t\t\t\t\t\t\t\t\t\tnext += copy;\n\t\t\t\t\t\t\t\t\t\tleft -= copy;\n\t\t\t\t\t\t\t\t\t\tput += copy;\n\t\t\t\t\t\t\t\t\t\tstate.length -= copy;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:       stored end\\n\"));\n\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase TABLE:\n\t\t\t\t\t\t\t\t\t//=== NEEDBITS(14); */\n\t\t\t\t\t\t\t\t\twhile ( bits < 14 ) {\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\tstate.nlen =\n\t\t\t\t\t\t\t\t\t\t( hold & 0x1f ) /*BITS(5)*/ + 257;\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(5) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 5;\n\t\t\t\t\t\t\t\t\tbits -= 5;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tstate.ndist =\n\t\t\t\t\t\t\t\t\t\t( hold & 0x1f ) /*BITS(5)*/ + 1;\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(5) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 5;\n\t\t\t\t\t\t\t\t\tbits -= 5;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tstate.ncode =\n\t\t\t\t\t\t\t\t\t\t( hold & 0x0f ) /*BITS(4)*/ + 4;\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(4) ---//\n\t\t\t\t\t\t\t\t\thold >>>= 4;\n\t\t\t\t\t\t\t\t\tbits -= 4;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t//#ifndef PKZIP_BUG_WORKAROUND\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tstate.nlen > 286 ||\n\t\t\t\t\t\t\t\t\t\tstate.ndist > 30\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'too many length or distance symbols';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:       table sizes ok\\n\"));\n\t\t\t\t\t\t\t\t\tstate.have = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = LENLENS;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LENLENS:\n\t\t\t\t\t\t\t\t\twhile ( state.have < state.ncode ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(3);\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 3 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.lens[ order[ state.have++ ] ] =\n\t\t\t\t\t\t\t\t\t\t\thold & 0x07; //BITS(3);\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(3) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= 3;\n\t\t\t\t\t\t\t\t\t\tbits -= 3;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\twhile ( state.have < 19 ) {\n\t\t\t\t\t\t\t\t\t\tstate.lens[ order[ state.have++ ] ] = 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// We have separate tables & no pointers. 2 commented lines below not needed.\n\t\t\t\t\t\t\t\t\t//state.next = state.codes;\n\t\t\t\t\t\t\t\t\t//state.lencode = state.next;\n\t\t\t\t\t\t\t\t\t// Switch to use dynamic table\n\t\t\t\t\t\t\t\t\tstate.lencode = state.lendyn;\n\t\t\t\t\t\t\t\t\tstate.lenbits = 7;\n\n\t\t\t\t\t\t\t\t\topts = { bits: state.lenbits };\n\t\t\t\t\t\t\t\t\tret = inflate_table(\n\t\t\t\t\t\t\t\t\t\tCODES,\n\t\t\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t19,\n\t\t\t\t\t\t\t\t\t\tstate.lencode,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t\t\topts\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tstate.lenbits = opts.bits;\n\n\t\t\t\t\t\t\t\t\tif ( ret ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid code lengths set';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:       code lengths ok\\n\"));\n\t\t\t\t\t\t\t\t\tstate.have = 0;\n\t\t\t\t\t\t\t\t\tstate.mode = CODELENS;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase CODELENS:\n\t\t\t\t\t\t\t\t\twhile (\n\t\t\t\t\t\t\t\t\t\tstate.have <\n\t\t\t\t\t\t\t\t\t\tstate.nlen + state.ndist\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\t\tstate.lencode[\n\t\t\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 <<\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.lenbits ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 )\n\t\t\t\t\t\t\t\t\t\t\t\t]; /*BITS(state.lenbits)*/\n\t\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\t\tif ( here_bits <= bits ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( here_val < 16 ) {\n\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\tstate.lens[ state.have++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\there_val;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tif ( here_val === 16 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(here.bits + 2);\n\t\t\t\t\t\t\t\t\t\t\t\tn = here_bits + 2;\n\t\t\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\t\t\thold +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinput[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t\tif ( state.have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid bit length repeat';\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tlen =\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.lens[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.have - 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t\tcopy = 3 + ( hold & 0x03 ); //BITS(2);\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(2) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= 2;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= 2;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t} else if ( here_val === 17 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(here.bits + 3);\n\t\t\t\t\t\t\t\t\t\t\t\tn = here_bits + 3;\n\t\t\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\t\t\thold +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinput[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t\tlen = 0;\n\t\t\t\t\t\t\t\t\t\t\t\tcopy = 3 + ( hold & 0x07 ); //BITS(3);\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(3) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= 3;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= 3;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(here.bits + 7);\n\t\t\t\t\t\t\t\t\t\t\t\tn = here_bits + 7;\n\t\t\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\t\t\thold +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinput[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t\tlen = 0;\n\t\t\t\t\t\t\t\t\t\t\t\tcopy = 11 + ( hold & 0x7f ); //BITS(7);\n\t\t\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(7) ---//\n\t\t\t\t\t\t\t\t\t\t\t\thold >>>= 7;\n\t\t\t\t\t\t\t\t\t\t\t\tbits -= 7;\n\t\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tstate.have + copy >\n\t\t\t\t\t\t\t\t\t\t\t\tstate.nlen + state.ndist\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid bit length repeat';\n\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\twhile ( copy-- ) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.lens[ state.have++ ] =\n\t\t\t\t\t\t\t\t\t\t\t\t\tlen;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t/* handle error breaks in while */\n\t\t\t\t\t\t\t\t\tif ( state.mode === BAD ) {\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t/* check for end-of-block code (better have one) */\n\t\t\t\t\t\t\t\t\tif ( state.lens[ 256 ] === 0 ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid code -- missing end-of-block';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t/* build code tables -- note: do not change the lenbits or distbits\n             values here (9 and 6) without reading the comments in inftrees.h\n             concerning the ENOUGH constants, which depend on those values */\n\t\t\t\t\t\t\t\t\tstate.lenbits = 9;\n\n\t\t\t\t\t\t\t\t\topts = { bits: state.lenbits };\n\t\t\t\t\t\t\t\t\tret = inflate_table(\n\t\t\t\t\t\t\t\t\t\tLENS,\n\t\t\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tstate.nlen,\n\t\t\t\t\t\t\t\t\t\tstate.lencode,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t\t\topts\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t// We have separate tables & no pointers. 2 commented lines below not needed.\n\t\t\t\t\t\t\t\t\t// state.next_index = opts.table_index;\n\t\t\t\t\t\t\t\t\tstate.lenbits = opts.bits;\n\t\t\t\t\t\t\t\t\t// state.lencode = state.next;\n\n\t\t\t\t\t\t\t\t\tif ( ret ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid literal/lengths set';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tstate.distbits = 6;\n\t\t\t\t\t\t\t\t\t//state.distcode.copy(state.codes);\n\t\t\t\t\t\t\t\t\t// Switch to use dynamic table\n\t\t\t\t\t\t\t\t\tstate.distcode = state.distdyn;\n\t\t\t\t\t\t\t\t\topts = { bits: state.distbits };\n\t\t\t\t\t\t\t\t\tret = inflate_table(\n\t\t\t\t\t\t\t\t\t\tDISTS,\n\t\t\t\t\t\t\t\t\t\tstate.lens,\n\t\t\t\t\t\t\t\t\t\tstate.nlen,\n\t\t\t\t\t\t\t\t\t\tstate.ndist,\n\t\t\t\t\t\t\t\t\t\tstate.distcode,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\tstate.work,\n\t\t\t\t\t\t\t\t\t\topts\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t// We have separate tables & no pointers. 2 commented lines below not needed.\n\t\t\t\t\t\t\t\t\t// state.next_index = opts.table_index;\n\t\t\t\t\t\t\t\t\tstate.distbits = opts.bits;\n\t\t\t\t\t\t\t\t\t// state.distcode = state.next;\n\n\t\t\t\t\t\t\t\t\tif ( ret ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid distances set';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracev((stderr, 'inflate:       codes ok\\n'));\n\t\t\t\t\t\t\t\t\tstate.mode = LEN_;\n\t\t\t\t\t\t\t\t\tif ( flush === Z_TREES ) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LEN_:\n\t\t\t\t\t\t\t\t\tstate.mode = LEN;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LEN:\n\t\t\t\t\t\t\t\t\tif ( have >= 6 && left >= 258 ) {\n\t\t\t\t\t\t\t\t\t\t//--- RESTORE() ---\n\t\t\t\t\t\t\t\t\t\tstrm.next_out = put;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_out = left;\n\t\t\t\t\t\t\t\t\t\tstrm.next_in = next;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_in = have;\n\t\t\t\t\t\t\t\t\t\tstate.hold = hold;\n\t\t\t\t\t\t\t\t\t\tstate.bits = bits;\n\t\t\t\t\t\t\t\t\t\t//---\n\t\t\t\t\t\t\t\t\t\tinflate_fast( strm, _out );\n\t\t\t\t\t\t\t\t\t\t//--- LOAD() ---\n\t\t\t\t\t\t\t\t\t\tput = strm.next_out;\n\t\t\t\t\t\t\t\t\t\toutput = strm.output;\n\t\t\t\t\t\t\t\t\t\tleft = strm.avail_out;\n\t\t\t\t\t\t\t\t\t\tnext = strm.next_in;\n\t\t\t\t\t\t\t\t\t\tinput = strm.input;\n\t\t\t\t\t\t\t\t\t\thave = strm.avail_in;\n\t\t\t\t\t\t\t\t\t\thold = state.hold;\n\t\t\t\t\t\t\t\t\t\tbits = state.bits;\n\t\t\t\t\t\t\t\t\t\t//---\n\n\t\t\t\t\t\t\t\t\t\tif ( state.mode === TYPE ) {\n\t\t\t\t\t\t\t\t\t\t\tstate.back = -1;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.back = 0;\n\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\tstate.lencode[\n\t\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 << state.lenbits ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 )\n\t\t\t\t\t\t\t\t\t\t\t]; /*BITS(state.lenbits)*/\n\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\tif ( here_bits <= bits ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( here_op && ( here_op & 0xf0 ) === 0 ) {\n\t\t\t\t\t\t\t\t\t\tlast_bits = here_bits;\n\t\t\t\t\t\t\t\t\t\tlast_op = here_op;\n\t\t\t\t\t\t\t\t\t\tlast_val = here_val;\n\t\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\t\tstate.lencode[\n\t\t\t\t\t\t\t\t\t\t\t\t\tlast_val +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( hold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 <<\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( last_bits +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlast_op ) ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 ) ) /*BITS(last.bits + last.op)*/ >>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlast_bits )\n\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tlast_bits + here_bits <=\n\t\t\t\t\t\t\t\t\t\t\t\tbits\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(last.bits) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= last_bits;\n\t\t\t\t\t\t\t\t\t\tbits -= last_bits;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.back += last_bits;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tstate.back += here_bits;\n\t\t\t\t\t\t\t\t\tstate.length = here_val;\n\t\t\t\t\t\t\t\t\tif ( here_op === 0 ) {\n\t\t\t\t\t\t\t\t\t\t//Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n\t\t\t\t\t\t\t\t\t\t//        \"inflate:         literal '%c'\\n\" :\n\t\t\t\t\t\t\t\t\t\t//        \"inflate:         literal 0x%02x\\n\", here.val));\n\t\t\t\t\t\t\t\t\t\tstate.mode = LIT;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( here_op & 32 ) {\n\t\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         end of block\\n\"));\n\t\t\t\t\t\t\t\t\t\tstate.back = -1;\n\t\t\t\t\t\t\t\t\t\tstate.mode = TYPE;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( here_op & 64 ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid literal/length code';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.extra = here_op & 15;\n\t\t\t\t\t\t\t\t\tstate.mode = LENEXT;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LENEXT:\n\t\t\t\t\t\t\t\t\tif ( state.extra ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(state.extra);\n\t\t\t\t\t\t\t\t\t\tn = state.extra;\n\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.length +=\n\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t( ( 1 << state.extra ) -\n\t\t\t\t\t\t\t\t\t\t\t\t1 ) /*BITS(state.extra)*/;\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(state.extra) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= state.extra;\n\t\t\t\t\t\t\t\t\t\tbits -= state.extra;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.back += state.extra;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         length %u\\n\", state.length));\n\t\t\t\t\t\t\t\t\tstate.was = state.length;\n\t\t\t\t\t\t\t\t\tstate.mode = DIST;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase DIST:\n\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\tstate.distcode[\n\t\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 << state.distbits ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 )\n\t\t\t\t\t\t\t\t\t\t\t]; /*BITS(state.distbits)*/\n\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\tif ( here_bits <= bits ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( ( here_op & 0xf0 ) === 0 ) {\n\t\t\t\t\t\t\t\t\t\tlast_bits = here_bits;\n\t\t\t\t\t\t\t\t\t\tlast_op = here_op;\n\t\t\t\t\t\t\t\t\t\tlast_val = here_val;\n\t\t\t\t\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t\t\t\t\there =\n\t\t\t\t\t\t\t\t\t\t\t\tstate.distcode[\n\t\t\t\t\t\t\t\t\t\t\t\t\tlast_val +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( hold &\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ( 1 <<\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( last_bits +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlast_op ) ) -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 ) ) /*BITS(last.bits + last.op)*/ >>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlast_bits )\n\t\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\there_bits = here >>> 24;\n\t\t\t\t\t\t\t\t\t\t\there_op = ( here >>> 16 ) & 0xff;\n\t\t\t\t\t\t\t\t\t\t\there_val = here & 0xffff;\n\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tlast_bits + here_bits <=\n\t\t\t\t\t\t\t\t\t\t\t\tbits\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//--- PULLBYTE() ---//\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(last.bits) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= last_bits;\n\t\t\t\t\t\t\t\t\t\tbits -= last_bits;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.back += last_bits;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//--- DROPBITS(here.bits) ---//\n\t\t\t\t\t\t\t\t\thold >>>= here_bits;\n\t\t\t\t\t\t\t\t\tbits -= here_bits;\n\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\tstate.back += here_bits;\n\t\t\t\t\t\t\t\t\tif ( here_op & 64 ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg = 'invalid distance code';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.offset = here_val;\n\t\t\t\t\t\t\t\t\tstate.extra = here_op & 15;\n\t\t\t\t\t\t\t\t\tstate.mode = DISTEXT;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase DISTEXT:\n\t\t\t\t\t\t\t\t\tif ( state.extra ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(state.extra);\n\t\t\t\t\t\t\t\t\t\tn = state.extra;\n\t\t\t\t\t\t\t\t\t\twhile ( bits < n ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tstate.offset +=\n\t\t\t\t\t\t\t\t\t\t\thold &\n\t\t\t\t\t\t\t\t\t\t\t( ( 1 << state.extra ) -\n\t\t\t\t\t\t\t\t\t\t\t\t1 ) /*BITS(state.extra)*/;\n\t\t\t\t\t\t\t\t\t\t//--- DROPBITS(state.extra) ---//\n\t\t\t\t\t\t\t\t\t\thold >>>= state.extra;\n\t\t\t\t\t\t\t\t\t\tbits -= state.extra;\n\t\t\t\t\t\t\t\t\t\t//---//\n\t\t\t\t\t\t\t\t\t\tstate.back += state.extra;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//#ifdef INFLATE_STRICT\n\t\t\t\t\t\t\t\t\tif ( state.offset > state.dmax ) {\n\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t'invalid distance too far back';\n\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t//Tracevv((stderr, \"inflate:         distance %u\\n\", state.offset));\n\t\t\t\t\t\t\t\t\tstate.mode = MATCH;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase MATCH:\n\t\t\t\t\t\t\t\t\tif ( left === 0 ) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcopy = _out - left;\n\t\t\t\t\t\t\t\t\tif ( state.offset > copy ) {\n\t\t\t\t\t\t\t\t\t\t/* copy from window */\n\t\t\t\t\t\t\t\t\t\tcopy = state.offset - copy;\n\t\t\t\t\t\t\t\t\t\tif ( copy > state.whave ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( state.sane ) {\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.msg =\n\t\t\t\t\t\t\t\t\t\t\t\t\t'invalid distance too far back';\n\t\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// (!) This block is disabled in zlib defaults,\n\t\t\t\t\t\t\t\t\t\t\t// don't enable it for binary compatibility\n\t\t\t\t\t\t\t\t\t\t\t//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n\t\t\t\t\t\t\t\t\t\t\t//          Trace((stderr, \"inflate.c too far\\n\"));\n\t\t\t\t\t\t\t\t\t\t\t//          copy -= state.whave;\n\t\t\t\t\t\t\t\t\t\t\t//          if (copy > state.length) { copy = state.length; }\n\t\t\t\t\t\t\t\t\t\t\t//          if (copy > left) { copy = left; }\n\t\t\t\t\t\t\t\t\t\t\t//          left -= copy;\n\t\t\t\t\t\t\t\t\t\t\t//          state.length -= copy;\n\t\t\t\t\t\t\t\t\t\t\t//          do {\n\t\t\t\t\t\t\t\t\t\t\t//            output[put++] = 0;\n\t\t\t\t\t\t\t\t\t\t\t//          } while (--copy);\n\t\t\t\t\t\t\t\t\t\t\t//          if (state.length === 0) { state.mode = LEN; }\n\t\t\t\t\t\t\t\t\t\t\t//          break;\n\t\t\t\t\t\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy > state.wnext ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy -= state.wnext;\n\t\t\t\t\t\t\t\t\t\t\tfrom = state.wsize - copy;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tfrom = state.wnext - copy;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( copy > state.length ) {\n\t\t\t\t\t\t\t\t\t\t\tcopy = state.length;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tfrom_source = state.window;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t/* copy from output */\n\t\t\t\t\t\t\t\t\t\tfrom_source = output;\n\t\t\t\t\t\t\t\t\t\tfrom = put - state.offset;\n\t\t\t\t\t\t\t\t\t\tcopy = state.length;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( copy > left ) {\n\t\t\t\t\t\t\t\t\t\tcopy = left;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tleft -= copy;\n\t\t\t\t\t\t\t\t\tstate.length -= copy;\n\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\toutput[ put++ ] = from_source[ from++ ];\n\t\t\t\t\t\t\t\t\t} while ( --copy );\n\t\t\t\t\t\t\t\t\tif ( state.length === 0 ) {\n\t\t\t\t\t\t\t\t\t\tstate.mode = LEN;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase LIT:\n\t\t\t\t\t\t\t\t\tif ( left === 0 ) {\n\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\toutput[ put++ ] = state.length;\n\t\t\t\t\t\t\t\t\tleft--;\n\t\t\t\t\t\t\t\t\tstate.mode = LEN;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase CHECK:\n\t\t\t\t\t\t\t\t\tif ( state.wrap ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32);\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\t// Use '|' instead of '+' to make sure that result is signed\n\t\t\t\t\t\t\t\t\t\t\thold |= input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t_out -= left;\n\t\t\t\t\t\t\t\t\t\tstrm.total_out += _out;\n\t\t\t\t\t\t\t\t\t\tstate.total += _out;\n\t\t\t\t\t\t\t\t\t\tif ( _out ) {\n\t\t\t\t\t\t\t\t\t\t\tstrm.adler = state.check =\n\t\t\t\t\t\t\t\t\t\t\t\t/*UPDATE(state.check, put - _out, _out);*/\n\t\t\t\t\t\t\t\t\t\t\t\tstate.flags\n\t\t\t\t\t\t\t\t\t\t\t\t\t? crc32(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tput - _out\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t: adler32(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_out,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tput - _out\n\t\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t_out = left;\n\t\t\t\t\t\t\t\t\t\t// NB: crc32 stored as signed 32-bit int, zswap32 returns signed too\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t( state.flags\n\t\t\t\t\t\t\t\t\t\t\t\t? hold\n\t\t\t\t\t\t\t\t\t\t\t\t: zswap32( hold ) ) !==\n\t\t\t\t\t\t\t\t\t\t\tstate.check\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'incorrect data check';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:   check matches trailer\\n\"));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.mode = LENGTH;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase LENGTH:\n\t\t\t\t\t\t\t\t\tif ( state.wrap && state.flags ) {\n\t\t\t\t\t\t\t\t\t\t//=== NEEDBITS(32);\n\t\t\t\t\t\t\t\t\t\twhile ( bits < 32 ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( have === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thave--;\n\t\t\t\t\t\t\t\t\t\t\thold += input[ next++ ] << bits;\n\t\t\t\t\t\t\t\t\t\t\tbits += 8;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\thold !==\n\t\t\t\t\t\t\t\t\t\t\t( state.total & 0xffffffff )\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tstrm.msg = 'incorrect length check';\n\t\t\t\t\t\t\t\t\t\t\tstate.mode = BAD;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//=== INITBITS();\n\t\t\t\t\t\t\t\t\t\thold = 0;\n\t\t\t\t\t\t\t\t\t\tbits = 0;\n\t\t\t\t\t\t\t\t\t\t//===//\n\t\t\t\t\t\t\t\t\t\t//Tracev((stderr, \"inflate:   length matches trailer\\n\"));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstate.mode = DONE;\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tcase DONE:\n\t\t\t\t\t\t\t\t\tret = Z_STREAM_END;\n\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\tcase BAD:\n\t\t\t\t\t\t\t\t\tret = Z_DATA_ERROR;\n\t\t\t\t\t\t\t\t\tbreak inf_leave;\n\t\t\t\t\t\t\t\tcase MEM:\n\t\t\t\t\t\t\t\t\treturn Z_MEM_ERROR;\n\t\t\t\t\t\t\t\tcase SYNC:\n\t\t\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// inf_leave <- here is real place for \"goto inf_leave\", emulated via \"break inf_leave\"\n\n\t\t\t\t\t\t/*\n       Return from inflate(), updating the total counts and the check value.\n       If there was no progress during the inflate() call, return a buffer\n       error.  Call updatewindow() to create and/or update the window state.\n       Note: a memory error from inflate() is non-recoverable.\n     */\n\n\t\t\t\t\t\t//--- RESTORE() ---\n\t\t\t\t\t\tstrm.next_out = put;\n\t\t\t\t\t\tstrm.avail_out = left;\n\t\t\t\t\t\tstrm.next_in = next;\n\t\t\t\t\t\tstrm.avail_in = have;\n\t\t\t\t\t\tstate.hold = hold;\n\t\t\t\t\t\tstate.bits = bits;\n\t\t\t\t\t\t//---\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tstate.wsize ||\n\t\t\t\t\t\t\t( _out !== strm.avail_out &&\n\t\t\t\t\t\t\t\tstate.mode < BAD &&\n\t\t\t\t\t\t\t\t( state.mode < CHECK || flush !== Z_FINISH ) )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tupdatewindow(\n\t\t\t\t\t\t\t\t\tstrm,\n\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\tstrm.next_out,\n\t\t\t\t\t\t\t\t\t_out - strm.avail_out\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tstate.mode = MEM;\n\t\t\t\t\t\t\t\treturn Z_MEM_ERROR;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_in -= strm.avail_in;\n\t\t\t\t\t\t_out -= strm.avail_out;\n\t\t\t\t\t\tstrm.total_in += _in;\n\t\t\t\t\t\tstrm.total_out += _out;\n\t\t\t\t\t\tstate.total += _out;\n\t\t\t\t\t\tif ( state.wrap && _out ) {\n\t\t\t\t\t\t\tstrm.adler = state.check =\n\t\t\t\t\t\t\t\t/*UPDATE(state.check, strm.next_out - _out, _out);*/\n\t\t\t\t\t\t\t\tstate.flags\n\t\t\t\t\t\t\t\t\t? crc32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\t_out,\n\t\t\t\t\t\t\t\t\t\t\tstrm.next_out - _out\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: adler32(\n\t\t\t\t\t\t\t\t\t\t\tstate.check,\n\t\t\t\t\t\t\t\t\t\t\toutput,\n\t\t\t\t\t\t\t\t\t\t\t_out,\n\t\t\t\t\t\t\t\t\t\t\tstrm.next_out - _out\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstrm.data_type =\n\t\t\t\t\t\t\tstate.bits +\n\t\t\t\t\t\t\t( state.last ? 64 : 0 ) +\n\t\t\t\t\t\t\t( state.mode === TYPE ? 128 : 0 ) +\n\t\t\t\t\t\t\t( state.mode === LEN_ || state.mode === COPY_\n\t\t\t\t\t\t\t\t? 256\n\t\t\t\t\t\t\t\t: 0 );\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t( ( _in === 0 && _out === 0 ) ||\n\t\t\t\t\t\t\t\tflush === Z_FINISH ) &&\n\t\t\t\t\t\t\tret === Z_OK\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tret = Z_BUF_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateEnd( strm ) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! strm ||\n\t\t\t\t\t\t\t! strm.state /*|| strm->zfree == (free_func)0*/\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar state = strm.state;\n\t\t\t\t\t\tif ( state.window ) {\n\t\t\t\t\t\t\tstate.window = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstrm.state = null;\n\t\t\t\t\t\treturn Z_OK;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateGetHeader( strm, head ) {\n\t\t\t\t\t\tvar state;\n\n\t\t\t\t\t\t/* check state */\n\t\t\t\t\t\tif ( ! strm || ! strm.state ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\t\t\t\t\t\tif ( ( state.wrap & 2 ) === 0 ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* save header structure */\n\t\t\t\t\t\tstate.head = head;\n\t\t\t\t\t\thead.done = false;\n\t\t\t\t\t\treturn Z_OK;\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction inflateSetDictionary( strm, dictionary ) {\n\t\t\t\t\t\tvar dictLength = dictionary.length;\n\n\t\t\t\t\t\tvar state;\n\t\t\t\t\t\tvar dictid;\n\t\t\t\t\t\tvar ret;\n\n\t\t\t\t\t\t/* check state */\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! strm /* == Z_NULL */ ||\n\t\t\t\t\t\t\t! strm.state /* == Z_NULL */\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = strm.state;\n\n\t\t\t\t\t\tif ( state.wrap !== 0 && state.mode !== DICT ) {\n\t\t\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* check for correct dictionary identifier */\n\t\t\t\t\t\tif ( state.mode === DICT ) {\n\t\t\t\t\t\t\tdictid = 1; /* adler32(0, null, 0)*/\n\t\t\t\t\t\t\t/* dictid = adler32(dictid, dictionary, dictLength); */\n\t\t\t\t\t\t\tdictid = adler32(\n\t\t\t\t\t\t\t\tdictid,\n\t\t\t\t\t\t\t\tdictionary,\n\t\t\t\t\t\t\t\tdictLength,\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( dictid !== state.check ) {\n\t\t\t\t\t\t\t\treturn Z_DATA_ERROR;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* copy dictionary to window using updatewindow(), which will amend the\n     existing dictionary if appropriate */\n\t\t\t\t\t\tret = updatewindow(\n\t\t\t\t\t\t\tstrm,\n\t\t\t\t\t\t\tdictionary,\n\t\t\t\t\t\t\tdictLength,\n\t\t\t\t\t\t\tdictLength\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( ret ) {\n\t\t\t\t\t\t\tstate.mode = MEM;\n\t\t\t\t\t\t\treturn Z_MEM_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate.havedict = 1;\n\t\t\t\t\t\t// Tracev((stderr, \"inflate:   dictionary set\\n\"));\n\t\t\t\t\t\treturn Z_OK;\n\t\t\t\t\t}\n\n\t\t\t\t\texports.inflateReset = inflateReset;\n\t\t\t\t\texports.inflateReset2 = inflateReset2;\n\t\t\t\t\texports.inflateResetKeep = inflateResetKeep;\n\t\t\t\t\texports.inflateInit = inflateInit;\n\t\t\t\t\texports.inflateInit2 = inflateInit2;\n\t\t\t\t\texports.inflate = inflate;\n\t\t\t\t\texports.inflateEnd = inflateEnd;\n\t\t\t\t\texports.inflateGetHeader = inflateGetHeader;\n\t\t\t\t\texports.inflateSetDictionary = inflateSetDictionary;\n\t\t\t\t\texports.inflateInfo = 'pako inflate (from Nodeca project)';\n\n\t\t\t\t\t/* Not implemented\n  exports.inflateCopy = inflateCopy;\n  exports.inflateGetDictionary = inflateGetDictionary;\n  exports.inflateMark = inflateMark;\n  exports.inflatePrime = inflatePrime;\n  exports.inflateSync = inflateSync;\n  exports.inflateSyncPoint = inflateSyncPoint;\n  exports.inflateUndermine = inflateUndermine;\n  */\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'../utils/common': 1,\n\t\t\t\t\t'./adler32': 3,\n\t\t\t\t\t'./crc32': 5,\n\t\t\t\t\t'./inffast': 7,\n\t\t\t\t\t'./inftrees': 9,\n\t\t\t\t},\n\t\t\t],\n\t\t\t9: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tvar utils = require( '../utils/common' );\n\n\t\t\t\t\tvar MAXBITS = 15;\n\t\t\t\t\tvar ENOUGH_LENS = 852;\n\t\t\t\t\tvar ENOUGH_DISTS = 592;\n\t\t\t\t\t//var ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);\n\n\t\t\t\t\tvar CODES = 0;\n\t\t\t\t\tvar LENS = 1;\n\t\t\t\t\tvar DISTS = 2;\n\n\t\t\t\t\tvar lbase = [\n\t\t\t\t\t\t/* Length codes 257..285 base */ 3, 4, 5, 6, 7, 8, 9,\n\t\t\t\t\t\t10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67,\n\t\t\t\t\t\t83, 99, 115, 131, 163, 195, 227, 258, 0, 0,\n\t\t\t\t\t];\n\n\t\t\t\t\tvar lext = [\n\t\t\t\t\t\t/* Length codes 257..285 extra */ 16, 16, 16, 16, 16,\n\t\t\t\t\t\t16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19,\n\t\t\t\t\t\t19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78,\n\t\t\t\t\t];\n\n\t\t\t\t\tvar dbase = [\n\t\t\t\t\t\t/* Distance codes 0..29 base */ 1, 2, 3, 4, 5, 7, 9, 13,\n\t\t\t\t\t\t17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769,\n\t\t\t\t\t\t1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385,\n\t\t\t\t\t\t24577, 0, 0,\n\t\t\t\t\t];\n\n\t\t\t\t\tvar dext = [\n\t\t\t\t\t\t/* Distance codes 0..29 extra */ 16, 16, 16, 16, 17, 17,\n\t\t\t\t\t\t18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24,\n\t\t\t\t\t\t25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64,\n\t\t\t\t\t];\n\n\t\t\t\t\tmodule.exports = function inflate_table(\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tlens,\n\t\t\t\t\t\tlens_index,\n\t\t\t\t\t\tcodes,\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\ttable_index,\n\t\t\t\t\t\twork,\n\t\t\t\t\t\topts\n\t\t\t\t\t) {\n\t\t\t\t\t\tvar bits = opts.bits;\n\t\t\t\t\t\t//here = opts.here; /* table entry for duplication */\n\n\t\t\t\t\t\tvar len = 0; /* a code's length in bits */\n\t\t\t\t\t\tvar sym = 0; /* index of code symbols */\n\t\t\t\t\t\tvar min = 0,\n\t\t\t\t\t\t\tmax = 0; /* minimum and maximum code lengths */\n\t\t\t\t\t\tvar root = 0; /* number of index bits for root table */\n\t\t\t\t\t\tvar curr = 0; /* number of index bits for current table */\n\t\t\t\t\t\tvar drop = 0; /* code bits to drop for sub-table */\n\t\t\t\t\t\tvar left = 0; /* number of prefix codes available */\n\t\t\t\t\t\tvar used = 0; /* code entries in table used */\n\t\t\t\t\t\tvar huff = 0; /* Huffman code */\n\t\t\t\t\t\tvar incr; /* for incrementing code, index */\n\t\t\t\t\t\tvar fill; /* index for replicating entries */\n\t\t\t\t\t\tvar low; /* low bits for current root entry */\n\t\t\t\t\t\tvar mask; /* mask for low root bits */\n\t\t\t\t\t\tvar next; /* next available space in table */\n\t\t\t\t\t\tvar base = null; /* base value table to use */\n\t\t\t\t\t\tvar base_index = 0;\n\t\t\t\t\t\t//  var shoextra;    /* extra bits table to use */\n\t\t\t\t\t\tvar end; /* use base and extra for symbol > end */\n\t\t\t\t\t\tvar count = new utils.Buf16( MAXBITS + 1 ); //[MAXBITS+1];    /* number of codes of each length */\n\t\t\t\t\t\tvar offs = new utils.Buf16( MAXBITS + 1 ); //[MAXBITS+1];     /* offsets in table for each length */\n\t\t\t\t\t\tvar extra = null;\n\t\t\t\t\t\tvar extra_index = 0;\n\n\t\t\t\t\t\tvar here_bits, here_op, here_val;\n\n\t\t\t\t\t\t/*\n     Process a set of code lengths to create a canonical Huffman code.  The\n     code lengths are lens[0..codes-1].  Each length corresponds to the\n     symbols 0..codes-1.  The Huffman code is generated by first sorting the\n     symbols by length from short to long, and retaining the symbol order\n     for codes with equal lengths.  Then the code starts with all zero bits\n     for the first code of the shortest length, and the codes are integer\n     increments for the same length, and zeros are appended as the length\n     increases.  For the deflate format, these bits are stored backwards\n     from their more natural integer increment ordering, and so when the\n     decoding tables are built in the large loop below, the integer codes\n     are incremented backwards.\n\n     This routine assumes, but does not check, that all of the entries in\n     lens[] are in the range 0..MAXBITS.  The caller must assure this.\n     1..MAXBITS is interpreted as that code length.  zero means that that\n     symbol does not occur in this code.\n\n     The codes are sorted by computing a count of codes for each length,\n     creating from that a table of starting indices for each length in the\n     sorted table, and then entering the symbols in order in the sorted\n     table.  The sorted table is work[], with that space being provided by\n     the caller.\n\n     The length counts are used for other purposes as well, i.e. finding\n     the minimum and maximum length codes, determining if there are any\n     codes at all, checking for a valid set of lengths, and looking ahead\n     at length counts to determine sub-table sizes when building the\n     decoding tables.\n     */\n\n\t\t\t\t\t\t/* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */\n\t\t\t\t\t\tfor ( len = 0; len <= MAXBITS; len++ ) {\n\t\t\t\t\t\t\tcount[ len ] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor ( sym = 0; sym < codes; sym++ ) {\n\t\t\t\t\t\t\tcount[ lens[ lens_index + sym ] ]++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* bound code lengths, force root to be within code lengths */\n\t\t\t\t\t\troot = bits;\n\t\t\t\t\t\tfor ( max = MAXBITS; max >= 1; max-- ) {\n\t\t\t\t\t\t\tif ( count[ max ] !== 0 ) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( root > max ) {\n\t\t\t\t\t\t\troot = max;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( max === 0 ) {\n\t\t\t\t\t\t\t/* no symbols to code at all */\n\t\t\t\t\t\t\t//table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */\n\t\t\t\t\t\t\t//table.bits[opts.table_index] = 1;   //here.bits = (var char)1;\n\t\t\t\t\t\t\t//table.val[opts.table_index++] = 0;   //here.val = (var short)0;\n\t\t\t\t\t\t\ttable[ table_index++ ] =\n\t\t\t\t\t\t\t\t( 1 << 24 ) | ( 64 << 16 ) | 0;\n\n\t\t\t\t\t\t\t//table.op[opts.table_index] = 64;\n\t\t\t\t\t\t\t//table.bits[opts.table_index] = 1;\n\t\t\t\t\t\t\t//table.val[opts.table_index++] = 0;\n\t\t\t\t\t\t\ttable[ table_index++ ] =\n\t\t\t\t\t\t\t\t( 1 << 24 ) | ( 64 << 16 ) | 0;\n\n\t\t\t\t\t\t\topts.bits = 1;\n\t\t\t\t\t\t\treturn 0; /* no symbols, but wait for decoding to report error */\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor ( min = 1; min < max; min++ ) {\n\t\t\t\t\t\t\tif ( count[ min ] !== 0 ) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( root < min ) {\n\t\t\t\t\t\t\troot = min;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* check for an over-subscribed or incomplete set of lengths */\n\t\t\t\t\t\tleft = 1;\n\t\t\t\t\t\tfor ( len = 1; len <= MAXBITS; len++ ) {\n\t\t\t\t\t\t\tleft <<= 1;\n\t\t\t\t\t\t\tleft -= count[ len ];\n\t\t\t\t\t\t\tif ( left < 0 ) {\n\t\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t\t} /* over-subscribed */\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( left > 0 && ( type === CODES || max !== 1 ) ) {\n\t\t\t\t\t\t\treturn -1; /* incomplete set */\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* generate offsets into symbol table for each length for sorting */\n\t\t\t\t\t\toffs[ 1 ] = 0;\n\t\t\t\t\t\tfor ( len = 1; len < MAXBITS; len++ ) {\n\t\t\t\t\t\t\toffs[ len + 1 ] = offs[ len ] + count[ len ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* sort symbols by length, by symbol order within each length */\n\t\t\t\t\t\tfor ( sym = 0; sym < codes; sym++ ) {\n\t\t\t\t\t\t\tif ( lens[ lens_index + sym ] !== 0 ) {\n\t\t\t\t\t\t\t\twork[ offs[ lens[ lens_index + sym ] ]++ ] =\n\t\t\t\t\t\t\t\t\tsym;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/*\n     Create and fill in decoding tables.  In this loop, the table being\n     filled is at next and has curr index bits.  The code being used is huff\n     with length len.  That code is converted to an index by dropping drop\n     bits off of the bottom.  For codes where len is less than drop + curr,\n     those top drop + curr - len bits are incremented through all values to\n     fill the table with replicated entries.\n\n     root is the number of index bits for the root table.  When len exceeds\n     root, sub-tables are created pointed to by the root entry with an index\n     of the low root bits of huff.  This is saved in low to check for when a\n     new sub-table should be started.  drop is zero when the root table is\n     being filled, and drop is root when sub-tables are being filled.\n\n     When a new sub-table is needed, it is necessary to look ahead in the\n     code lengths to determine what size sub-table is needed.  The length\n     counts are used for this, and so count[] is decremented as codes are\n     entered in the tables.\n\n     used keeps track of how many table entries have been allocated from the\n     provided *table space.  It is checked for LENS and DIST tables against\n     the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in\n     the initial root table size constants.  See the comments in inftrees.h\n     for more information.\n\n     sym increments through all symbols, and the loop terminates when\n     all codes of length max, i.e. all codes, have been processed.  This\n     routine permits incomplete codes, so another loop after this one fills\n     in the rest of the decoding tables with invalid code markers.\n     */\n\n\t\t\t\t\t\t/* set up for code type */\n\t\t\t\t\t\t// poor man optimization - use if-else instead of switch,\n\t\t\t\t\t\t// to avoid deopts in old v8\n\t\t\t\t\t\tif ( type === CODES ) {\n\t\t\t\t\t\t\tbase = extra = work; /* dummy value--not used */\n\t\t\t\t\t\t\tend = 19;\n\t\t\t\t\t\t} else if ( type === LENS ) {\n\t\t\t\t\t\t\tbase = lbase;\n\t\t\t\t\t\t\tbase_index -= 257;\n\t\t\t\t\t\t\textra = lext;\n\t\t\t\t\t\t\textra_index -= 257;\n\t\t\t\t\t\t\tend = 256;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t/* DISTS */\n\t\t\t\t\t\t\tbase = dbase;\n\t\t\t\t\t\t\textra = dext;\n\t\t\t\t\t\t\tend = -1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* initialize opts for loop */\n\t\t\t\t\t\thuff = 0; /* starting code */\n\t\t\t\t\t\tsym = 0; /* starting code symbol */\n\t\t\t\t\t\tlen = min; /* starting code length */\n\t\t\t\t\t\tnext = table_index; /* current table to fill in */\n\t\t\t\t\t\tcurr = root; /* current table index bits */\n\t\t\t\t\t\tdrop = 0; /* current bits to drop from code for index */\n\t\t\t\t\t\tlow = -1; /* trigger new sub-table when len > root */\n\t\t\t\t\t\tused = 1 << root; /* use root table entries */\n\t\t\t\t\t\tmask = used - 1; /* mask for comparing low */\n\n\t\t\t\t\t\t/* check available table space */\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t( type === LENS && used > ENOUGH_LENS ) ||\n\t\t\t\t\t\t\t( type === DISTS && used > ENOUGH_DISTS )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* process all codes and make table entries */\n\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t/* create table entry */\n\t\t\t\t\t\t\there_bits = len - drop;\n\t\t\t\t\t\t\tif ( work[ sym ] < end ) {\n\t\t\t\t\t\t\t\there_op = 0;\n\t\t\t\t\t\t\t\there_val = work[ sym ];\n\t\t\t\t\t\t\t} else if ( work[ sym ] > end ) {\n\t\t\t\t\t\t\t\there_op = extra[ extra_index + work[ sym ] ];\n\t\t\t\t\t\t\t\there_val = base[ base_index + work[ sym ] ];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\there_op = 32 + 64; /* end of block */\n\t\t\t\t\t\t\t\there_val = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* replicate for those indices with low len bits equal to huff */\n\t\t\t\t\t\t\tincr = 1 << ( len - drop );\n\t\t\t\t\t\t\tfill = 1 << curr;\n\t\t\t\t\t\t\tmin = fill; /* save offset to next table */\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\tfill -= incr;\n\t\t\t\t\t\t\t\ttable[ next + ( huff >> drop ) + fill ] =\n\t\t\t\t\t\t\t\t\t( here_bits << 24 ) |\n\t\t\t\t\t\t\t\t\t( here_op << 16 ) |\n\t\t\t\t\t\t\t\t\there_val |\n\t\t\t\t\t\t\t\t\t0;\n\t\t\t\t\t\t\t} while ( fill !== 0 );\n\n\t\t\t\t\t\t\t/* backwards increment the len-bit code huff */\n\t\t\t\t\t\t\tincr = 1 << ( len - 1 );\n\t\t\t\t\t\t\twhile ( huff & incr ) {\n\t\t\t\t\t\t\t\tincr >>= 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( incr !== 0 ) {\n\t\t\t\t\t\t\t\thuff &= incr - 1;\n\t\t\t\t\t\t\t\thuff += incr;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\thuff = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* go to next symbol, update count, len */\n\t\t\t\t\t\t\tsym++;\n\t\t\t\t\t\t\tif ( --count[ len ] === 0 ) {\n\t\t\t\t\t\t\t\tif ( len === max ) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlen = lens[ lens_index + work[ sym ] ];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* create new sub-table if needed */\n\t\t\t\t\t\t\tif ( len > root && ( huff & mask ) !== low ) {\n\t\t\t\t\t\t\t\t/* if first time, transition to sub-tables */\n\t\t\t\t\t\t\t\tif ( drop === 0 ) {\n\t\t\t\t\t\t\t\t\tdrop = root;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* increment past last table */\n\t\t\t\t\t\t\t\tnext += min; /* here min is 1 << curr */\n\n\t\t\t\t\t\t\t\t/* determine length of next table */\n\t\t\t\t\t\t\t\tcurr = len - drop;\n\t\t\t\t\t\t\t\tleft = 1 << curr;\n\t\t\t\t\t\t\t\twhile ( curr + drop < max ) {\n\t\t\t\t\t\t\t\t\tleft -= count[ curr + drop ];\n\t\t\t\t\t\t\t\t\tif ( left <= 0 ) {\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcurr++;\n\t\t\t\t\t\t\t\t\tleft <<= 1;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* check for enough space */\n\t\t\t\t\t\t\t\tused += 1 << curr;\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t( type === LENS && used > ENOUGH_LENS ) ||\n\t\t\t\t\t\t\t\t\t( type === DISTS && used > ENOUGH_DISTS )\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* point entry in root table to sub-table */\n\t\t\t\t\t\t\t\tlow = huff & mask;\n\t\t\t\t\t\t\t\t/*table.op[low] = curr;\n        table.bits[low] = root;\n        table.val[low] = next - opts.table_index;*/\n\t\t\t\t\t\t\t\ttable[ low ] =\n\t\t\t\t\t\t\t\t\t( root << 24 ) |\n\t\t\t\t\t\t\t\t\t( curr << 16 ) |\n\t\t\t\t\t\t\t\t\t( next - table_index ) |\n\t\t\t\t\t\t\t\t\t0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* fill in remaining table entry if code is incomplete (guaranteed to have\n     at most one remaining entry, since if the code is incomplete, the\n     maximum code length that was allowed to get this far is one bit) */\n\t\t\t\t\t\tif ( huff !== 0 ) {\n\t\t\t\t\t\t\t//table.op[next + huff] = 64;            /* invalid code marker */\n\t\t\t\t\t\t\t//table.bits[next + huff] = len - drop;\n\t\t\t\t\t\t\t//table.val[next + huff] = 0;\n\t\t\t\t\t\t\ttable[ next + huff ] =\n\t\t\t\t\t\t\t\t( ( len - drop ) << 24 ) | ( 64 << 16 ) | 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* set return parameters */\n\t\t\t\t\t\t//opts.table_index += used;\n\t\t\t\t\t\topts.bits = root;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{ '../utils/common': 1 },\n\t\t\t],\n\t\t\t10: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tmodule.exports = {\n\t\t\t\t\t\t2: 'need dictionary' /* Z_NEED_DICT       2  */,\n\t\t\t\t\t\t1: 'stream end' /* Z_STREAM_END      1  */,\n\t\t\t\t\t\t0: '' /* Z_OK              0  */,\n\t\t\t\t\t\t'-1': 'file error' /* Z_ERRNO         (-1) */,\n\t\t\t\t\t\t'-2': 'stream error' /* Z_STREAM_ERROR  (-2) */,\n\t\t\t\t\t\t'-3': 'data error' /* Z_DATA_ERROR    (-3) */,\n\t\t\t\t\t\t'-4': 'insufficient memory' /* Z_MEM_ERROR     (-4) */,\n\t\t\t\t\t\t'-5': 'buffer error' /* Z_BUF_ERROR     (-5) */,\n\t\t\t\t\t\t'-6': 'incompatible version' /* Z_VERSION_ERROR (-6) */,\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t11: [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\t// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n\t\t\t\t\t// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n\t\t\t\t\t//\n\t\t\t\t\t// This software is provided 'as-is', without any express or implied\n\t\t\t\t\t// warranty. In no event will the authors be held liable for any damages\n\t\t\t\t\t// arising from the use of this software.\n\t\t\t\t\t//\n\t\t\t\t\t// Permission is granted to anyone to use this software for any purpose,\n\t\t\t\t\t// including commercial applications, and to alter it and redistribute it\n\t\t\t\t\t// freely, subject to the following restrictions:\n\t\t\t\t\t//\n\t\t\t\t\t// 1. The origin of this software must not be misrepresented; you must not\n\t\t\t\t\t//   claim that you wrote the original software. If you use this software\n\t\t\t\t\t//   in a product, an acknowledgment in the product documentation would be\n\t\t\t\t\t//   appreciated but is not required.\n\t\t\t\t\t// 2. Altered source versions must be plainly marked as such, and must not be\n\t\t\t\t\t//   misrepresented as being the original software.\n\t\t\t\t\t// 3. This notice may not be removed or altered from any source distribution.\n\n\t\t\t\t\tfunction ZStream() {\n\t\t\t\t\t\t/* next input byte */\n\t\t\t\t\t\tthis.input = null; // JS specific, because we have no pointers\n\t\t\t\t\t\tthis.next_in = 0;\n\t\t\t\t\t\t/* number of bytes available at input */\n\t\t\t\t\t\tthis.avail_in = 0;\n\t\t\t\t\t\t/* total number of input bytes read so far */\n\t\t\t\t\t\tthis.total_in = 0;\n\t\t\t\t\t\t/* next output byte should be put there */\n\t\t\t\t\t\tthis.output = null; // JS specific, because we have no pointers\n\t\t\t\t\t\tthis.next_out = 0;\n\t\t\t\t\t\t/* remaining free space at output */\n\t\t\t\t\t\tthis.avail_out = 0;\n\t\t\t\t\t\t/* total number of bytes output so far */\n\t\t\t\t\t\tthis.total_out = 0;\n\t\t\t\t\t\t/* last error message, NULL if no error */\n\t\t\t\t\t\tthis.msg = '' /*Z_NULL*/;\n\t\t\t\t\t\t/* not visible by applications */\n\t\t\t\t\t\tthis.state = null;\n\t\t\t\t\t\t/* best guess about the data type: binary or text */\n\t\t\t\t\t\tthis.data_type = 2 /*Z_UNKNOWN*/;\n\t\t\t\t\t\t/* adler32 value of the uncompressed data */\n\t\t\t\t\t\tthis.adler = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tmodule.exports = ZStream;\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t],\n\t\t\t'/lib/inflate.js': [\n\t\t\t\tfunction ( require, module, exports ) {\n\t\t\t\t\t'use strict';\n\n\t\t\t\t\tvar zlib_inflate = require( './zlib/inflate' );\n\t\t\t\t\tvar utils = require( './utils/common' );\n\t\t\t\t\tvar strings = require( './utils/strings' );\n\t\t\t\t\tvar c = require( './zlib/constants' );\n\t\t\t\t\tvar msg = require( './zlib/messages' );\n\t\t\t\t\tvar ZStream = require( './zlib/zstream' );\n\t\t\t\t\tvar GZheader = require( './zlib/gzheader' );\n\n\t\t\t\t\tvar toString = Object.prototype.toString;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * class Inflate\n\t\t\t\t\t *\n\t\t\t\t\t * Generic JS-style wrapper for zlib calls. If you don't need\n\t\t\t\t\t * streaming behaviour - use more simple functions: [[inflate]]\n\t\t\t\t\t * and [[inflateRaw]].\n\t\t\t\t\t **/\n\n\t\t\t\t\t/* internal\n\t\t\t\t\t * inflate.chunks -> Array\n\t\t\t\t\t *\n\t\t\t\t\t * Chunks of output data, if [[Inflate#onData]] not overridden.\n\t\t\t\t\t **/\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate.result -> Uint8Array|Array|String\n\t\t\t\t\t *\n\t\t\t\t\t * Uncompressed result, generated by default [[Inflate#onData]]\n\t\t\t\t\t * and [[Inflate#onEnd]] handlers. Filled after you push last chunk\n\t\t\t\t\t * (call [[Inflate#push]] with `Z_FINISH` / `true` param) or if you\n\t\t\t\t\t * push a chunk with explicit flush (call [[Inflate#push]] with\n\t\t\t\t\t * `Z_SYNC_FLUSH` param).\n\t\t\t\t\t **/\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate.err -> Number\n\t\t\t\t\t *\n\t\t\t\t\t * Error code after inflate finished. 0 (Z_OK) on success.\n\t\t\t\t\t * Should be checked if broken data possible.\n\t\t\t\t\t **/\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate.msg -> String\n\t\t\t\t\t *\n\t\t\t\t\t * Error message, if [[Inflate.err]] != 0\n\t\t\t\t\t **/\n\n\t\t\t\t\t/**\n\t\t\t\t\t * new Inflate(options)\n\t\t\t\t\t * - options (Object): zlib inflate options.\n\t\t\t\t\t *\n\t\t\t\t\t * Creates new inflator instance with specified params. Throws exception\n\t\t\t\t\t * on bad params. Supported options:\n\t\t\t\t\t *\n\t\t\t\t\t * - `windowBits`\n\t\t\t\t\t * - `dictionary`\n\t\t\t\t\t *\n\t\t\t\t\t * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n\t\t\t\t\t * for more information on these.\n\t\t\t\t\t *\n\t\t\t\t\t * Additional options, for internal needs:\n\t\t\t\t\t *\n\t\t\t\t\t * - `chunkSize` - size of generated data chunks (16K by default)\n\t\t\t\t\t * - `raw` (Boolean) - do raw inflate\n\t\t\t\t\t * - `to` (String) - if equal to 'string', then result will be converted\n\t\t\t\t\t *   from utf8 to utf16 (javascript) string. When string output requested,\n\t\t\t\t\t *   chunk length can differ from `chunkSize`, depending on content.\n\t\t\t\t\t *\n\t\t\t\t\t * By default, when no options set, autodetect deflate/gzip data format via\n\t\t\t\t\t * wrapper header.\n\t\t\t\t\t *\n\t\t\t\t\t * ##### Example:\n\t\t\t\t\t *\n\t\t\t\t\t * ```javascript\n\t\t\t\t\t * var pako = require('pako')\n\t\t\t\t\t *   , chunk1 = Uint8Array([1,2,3,4,5,6,7,8,9])\n\t\t\t\t\t *   , chunk2 = Uint8Array([10,11,12,13,14,15,16,17,18,19]);\n\t\t\t\t\t *\n\t\t\t\t\t * var inflate = new pako.Inflate({ level: 3});\n\t\t\t\t\t *\n\t\t\t\t\t * inflate.push(chunk1, false);\n\t\t\t\t\t * inflate.push(chunk2, true);  // true -> last chunk\n\t\t\t\t\t *\n\t\t\t\t\t * if (inflate.err) { throw new Error(inflate.err); }\n\t\t\t\t\t *\n\t\t\t\t\t * console.log(inflate.result);\n\t\t\t\t\t * ```\n\t\t\t\t\t **/\n\t\t\t\t\tfunction Inflate( options ) {\n\t\t\t\t\t\tif ( ! ( this instanceof Inflate ) )\n\t\t\t\t\t\t\treturn new Inflate( options );\n\n\t\t\t\t\t\tthis.options = utils.assign(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tchunkSize: 16384,\n\t\t\t\t\t\t\t\twindowBits: 0,\n\t\t\t\t\t\t\t\tto: '',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\toptions || {}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tvar opt = this.options;\n\n\t\t\t\t\t\t// Force window size for `raw` data, if not set directly,\n\t\t\t\t\t\t// because we have no header for autodetect.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\topt.raw &&\n\t\t\t\t\t\t\topt.windowBits >= 0 &&\n\t\t\t\t\t\t\topt.windowBits < 16\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\topt.windowBits = -opt.windowBits;\n\t\t\t\t\t\t\tif ( opt.windowBits === 0 ) {\n\t\t\t\t\t\t\t\topt.windowBits = -15;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If `windowBits` not defined (and mode not raw) - set autodetect flag for gzip/deflate\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\topt.windowBits >= 0 &&\n\t\t\t\t\t\t\topt.windowBits < 16 &&\n\t\t\t\t\t\t\t! ( options && options.windowBits )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\topt.windowBits += 32;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Gzip header has no info about windows size, we can do autodetect only\n\t\t\t\t\t\t// for deflate. So, if window size not set, force it to max when gzip possible\n\t\t\t\t\t\tif ( opt.windowBits > 15 && opt.windowBits < 48 ) {\n\t\t\t\t\t\t\t// bit 3 (16) -> gzipped data\n\t\t\t\t\t\t\t// bit 4 (32) -> autodetect gzip/deflate\n\t\t\t\t\t\t\tif ( ( opt.windowBits & 15 ) === 0 ) {\n\t\t\t\t\t\t\t\topt.windowBits |= 15;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.err = 0; // error code, if happens (0 = Z_OK)\n\t\t\t\t\t\tthis.msg = ''; // error message\n\t\t\t\t\t\tthis.ended = false; // used to avoid multiple onEnd() calls\n\t\t\t\t\t\tthis.chunks = []; // chunks of compressed data\n\n\t\t\t\t\t\tthis.strm = new ZStream();\n\t\t\t\t\t\tthis.strm.avail_out = 0;\n\n\t\t\t\t\t\tvar status = zlib_inflate.inflateInit2(\n\t\t\t\t\t\t\tthis.strm,\n\t\t\t\t\t\t\topt.windowBits\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif ( status !== c.Z_OK ) {\n\t\t\t\t\t\t\tthrow new Error( msg[ status ] );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.header = new GZheader();\n\n\t\t\t\t\t\tzlib_inflate.inflateGetHeader( this.strm, this.header );\n\n\t\t\t\t\t\t// Setup dictionary\n\t\t\t\t\t\tif ( opt.dictionary ) {\n\t\t\t\t\t\t\t// Convert data if needed\n\t\t\t\t\t\t\tif ( typeof opt.dictionary === 'string' ) {\n\t\t\t\t\t\t\t\topt.dictionary = strings.string2buf(\n\t\t\t\t\t\t\t\t\topt.dictionary\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\ttoString.call( opt.dictionary ) ===\n\t\t\t\t\t\t\t\t'[object ArrayBuffer]'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\topt.dictionary = new Uint8Array(\n\t\t\t\t\t\t\t\t\topt.dictionary\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( opt.raw ) {\n\t\t\t\t\t\t\t\t//In raw mode we need to set the dictionary early\n\t\t\t\t\t\t\t\tstatus = zlib_inflate.inflateSetDictionary(\n\t\t\t\t\t\t\t\t\tthis.strm,\n\t\t\t\t\t\t\t\t\topt.dictionary\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif ( status !== c.Z_OK ) {\n\t\t\t\t\t\t\t\t\tthrow new Error( msg[ status ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate#push(data[, mode]) -> Boolean\n\t\t\t\t\t * - data (Uint8Array|Array|ArrayBuffer|String): input data\n\t\t\t\t\t * - mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.\n\t\t\t\t\t *   See constants. Skipped or `false` means Z_NO_FLUSH, `true` means Z_FINISH.\n\t\t\t\t\t *\n\t\t\t\t\t * Sends input data to inflate pipe, generating [[Inflate#onData]] calls with\n\t\t\t\t\t * new output chunks. Returns `true` on success. The last data block must have\n\t\t\t\t\t * mode Z_FINISH (or `true`). That will flush internal pending buffers and call\n\t\t\t\t\t * [[Inflate#onEnd]]. For interim explicit flushes (without ending the stream) you\n\t\t\t\t\t * can use mode Z_SYNC_FLUSH, keeping the decompression context.\n\t\t\t\t\t *\n\t\t\t\t\t * On fail call [[Inflate#onEnd]] with error code and return false.\n\t\t\t\t\t *\n\t\t\t\t\t * We strongly recommend to use `Uint8Array` on input for best speed (output\n\t\t\t\t\t * format is detected automatically). Also, don't skip last param and always\n\t\t\t\t\t * use the same type in your code (boolean or number). That will improve JS speed.\n\t\t\t\t\t *\n\t\t\t\t\t * For regular `Array`-s make sure all elements are [0..255].\n\t\t\t\t\t *\n\t\t\t\t\t * ##### Example\n\t\t\t\t\t *\n\t\t\t\t\t * ```javascript\n\t\t\t\t\t * push(chunk, false); // push one of data chunks\n\t\t\t\t\t * ...\n\t\t\t\t\t * push(chunk, true);  // push last chunk\n\t\t\t\t\t * ```\n\t\t\t\t\t **/\n\t\t\t\t\tInflate.prototype.push = function ( data, mode ) {\n\t\t\t\t\t\tvar strm = this.strm;\n\t\t\t\t\t\tvar chunkSize = this.options.chunkSize;\n\t\t\t\t\t\tvar dictionary = this.options.dictionary;\n\t\t\t\t\t\tvar status, _mode;\n\t\t\t\t\t\tvar next_out_utf8, tail, utf8str;\n\n\t\t\t\t\t\t// Flag to properly process Z_BUF_ERROR on testing inflate call\n\t\t\t\t\t\t// when we check that all output data was flushed.\n\t\t\t\t\t\tvar allowBufError = false;\n\n\t\t\t\t\t\tif ( this.ended ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_mode =\n\t\t\t\t\t\t\tmode === ~~mode\n\t\t\t\t\t\t\t\t? mode\n\t\t\t\t\t\t\t\t: mode === true\n\t\t\t\t\t\t\t\t? c.Z_FINISH\n\t\t\t\t\t\t\t\t: c.Z_NO_FLUSH;\n\n\t\t\t\t\t\t// Convert data if needed\n\t\t\t\t\t\tif ( typeof data === 'string' ) {\n\t\t\t\t\t\t\t// Only binary strings can be decompressed on practice\n\t\t\t\t\t\t\tstrm.input = strings.binstring2buf( data );\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\ttoString.call( data ) === '[object ArrayBuffer]'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tstrm.input = new Uint8Array( data );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstrm.input = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstrm.next_in = 0;\n\t\t\t\t\t\tstrm.avail_in = strm.input.length;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ( strm.avail_out === 0 ) {\n\t\t\t\t\t\t\t\tstrm.output = new utils.Buf8( chunkSize );\n\t\t\t\t\t\t\t\tstrm.next_out = 0;\n\t\t\t\t\t\t\t\tstrm.avail_out = chunkSize;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstatus = zlib_inflate.inflate(\n\t\t\t\t\t\t\t\tstrm,\n\t\t\t\t\t\t\t\tc.Z_NO_FLUSH\n\t\t\t\t\t\t\t); /* no bad return value */\n\n\t\t\t\t\t\t\tif ( status === c.Z_NEED_DICT && dictionary ) {\n\t\t\t\t\t\t\t\tstatus = zlib_inflate.inflateSetDictionary(\n\t\t\t\t\t\t\t\t\tthis.strm,\n\t\t\t\t\t\t\t\t\tdictionary\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tstatus === c.Z_BUF_ERROR &&\n\t\t\t\t\t\t\t\tallowBufError === true\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tstatus = c.Z_OK;\n\t\t\t\t\t\t\t\tallowBufError = false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tstatus !== c.Z_STREAM_END &&\n\t\t\t\t\t\t\t\tstatus !== c.Z_OK\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthis.onEnd( status );\n\t\t\t\t\t\t\t\tthis.ended = true;\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( strm.next_out ) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tstrm.avail_out === 0 ||\n\t\t\t\t\t\t\t\t\tstatus === c.Z_STREAM_END ||\n\t\t\t\t\t\t\t\t\t( strm.avail_in === 0 &&\n\t\t\t\t\t\t\t\t\t\t( _mode === c.Z_FINISH ||\n\t\t\t\t\t\t\t\t\t\t\t_mode === c.Z_SYNC_FLUSH ) )\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tif ( this.options.to === 'string' ) {\n\t\t\t\t\t\t\t\t\t\tnext_out_utf8 = strings.utf8border(\n\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\tstrm.next_out\n\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\ttail = strm.next_out - next_out_utf8;\n\t\t\t\t\t\t\t\t\t\tutf8str = strings.buf2string(\n\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\tnext_out_utf8\n\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// move tail\n\t\t\t\t\t\t\t\t\t\tstrm.next_out = tail;\n\t\t\t\t\t\t\t\t\t\tstrm.avail_out = chunkSize - tail;\n\t\t\t\t\t\t\t\t\t\tif ( tail ) {\n\t\t\t\t\t\t\t\t\t\t\tutils.arraySet(\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\t\tnext_out_utf8,\n\t\t\t\t\t\t\t\t\t\t\t\ttail,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tthis.onData( utf8str );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.onData(\n\t\t\t\t\t\t\t\t\t\t\tutils.shrinkBuf(\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.output,\n\t\t\t\t\t\t\t\t\t\t\t\tstrm.next_out\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// When no more input data, we should check that internal inflate buffers\n\t\t\t\t\t\t\t// are flushed. The only way to do it when avail_out = 0 - run one more\n\t\t\t\t\t\t\t// inflate pass. But if output data not exists, inflate return Z_BUF_ERROR.\n\t\t\t\t\t\t\t// Here we set flag to process this error properly.\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// NOTE. Deflate does not return error in this case and does not needs such\n\t\t\t\t\t\t\t// logic.\n\t\t\t\t\t\t\tif ( strm.avail_in === 0 && strm.avail_out === 0 ) {\n\t\t\t\t\t\t\t\tallowBufError = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while (\n\t\t\t\t\t\t\t( strm.avail_in > 0 || strm.avail_out === 0 ) &&\n\t\t\t\t\t\t\tstatus !== c.Z_STREAM_END\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif ( status === c.Z_STREAM_END ) {\n\t\t\t\t\t\t\t_mode = c.Z_FINISH;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Finalize on the last chunk.\n\t\t\t\t\t\tif ( _mode === c.Z_FINISH ) {\n\t\t\t\t\t\t\tstatus = zlib_inflate.inflateEnd( this.strm );\n\t\t\t\t\t\t\tthis.onEnd( status );\n\t\t\t\t\t\t\tthis.ended = true;\n\t\t\t\t\t\t\treturn status === c.Z_OK;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// callback interim results if Z_SYNC_FLUSH.\n\t\t\t\t\t\tif ( _mode === c.Z_SYNC_FLUSH ) {\n\t\t\t\t\t\t\tthis.onEnd( c.Z_OK );\n\t\t\t\t\t\t\tstrm.avail_out = 0;\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate#onData(chunk) -> Void\n\t\t\t\t\t * - chunk (Uint8Array|Array|String): output data. Type of array depends\n\t\t\t\t\t *   on js engine support. When string output requested, each chunk\n\t\t\t\t\t *   will be string.\n\t\t\t\t\t *\n\t\t\t\t\t * By default, stores data blocks in `chunks[]` property and glue\n\t\t\t\t\t * those in `onEnd`. Override this handler, if you need another behaviour.\n\t\t\t\t\t **/\n\t\t\t\t\tInflate.prototype.onData = function ( chunk ) {\n\t\t\t\t\t\tthis.chunks.push( chunk );\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Inflate#onEnd(status) -> Void\n\t\t\t\t\t * - status (Number): inflate status. 0 (Z_OK) on success,\n\t\t\t\t\t *   other if not.\n\t\t\t\t\t *\n\t\t\t\t\t * Called either after you tell inflate that the input stream is\n\t\t\t\t\t * complete (Z_FINISH) or should be flushed (Z_SYNC_FLUSH)\n\t\t\t\t\t * or if an error happened. By default - join collected chunks,\n\t\t\t\t\t * free memory and fill `results` / `err` properties.\n\t\t\t\t\t **/\n\t\t\t\t\tInflate.prototype.onEnd = function ( status ) {\n\t\t\t\t\t\t// On success - join\n\t\t\t\t\t\tif ( status === c.Z_OK ) {\n\t\t\t\t\t\t\tif ( this.options.to === 'string' ) {\n\t\t\t\t\t\t\t\t// Glue & convert here, until we teach pako to send\n\t\t\t\t\t\t\t\t// utf8 aligned strings to onData\n\t\t\t\t\t\t\t\tthis.result = this.chunks.join( '' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.result = utils.flattenChunks(\n\t\t\t\t\t\t\t\t\tthis.chunks\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.chunks = [];\n\t\t\t\t\t\tthis.err = status;\n\t\t\t\t\t\tthis.msg = this.strm.msg;\n\t\t\t\t\t};\n\n\t\t\t\t\t/**\n\t\t\t\t\t * inflate(data[, options]) -> Uint8Array|Array|String\n\t\t\t\t\t * - data (Uint8Array|Array|String): input data to decompress.\n\t\t\t\t\t * - options (Object): zlib inflate options.\n\t\t\t\t\t *\n\t\t\t\t\t * Decompress `data` with inflate/ungzip and `options`. Autodetect\n\t\t\t\t\t * format via wrapper header by default. That's why we don't provide\n\t\t\t\t\t * separate `ungzip` method.\n\t\t\t\t\t *\n\t\t\t\t\t * Supported options are:\n\t\t\t\t\t *\n\t\t\t\t\t * - windowBits\n\t\t\t\t\t *\n\t\t\t\t\t * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n\t\t\t\t\t * for more information.\n\t\t\t\t\t *\n\t\t\t\t\t * Sugar (options):\n\t\t\t\t\t *\n\t\t\t\t\t * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify\n\t\t\t\t\t *   negative windowBits implicitly.\n\t\t\t\t\t * - `to` (String) - if equal to 'string', then result will be converted\n\t\t\t\t\t *   from utf8 to utf16 (javascript) string. When string output requested,\n\t\t\t\t\t *   chunk length can differ from `chunkSize`, depending on content.\n\t\t\t\t\t *\n\t\t\t\t\t *\n\t\t\t\t\t * ##### Example:\n\t\t\t\t\t *\n\t\t\t\t\t * ```javascript\n\t\t\t\t\t * var pako = require('pako')\n\t\t\t\t\t *   , input = pako.deflate([1,2,3,4,5,6,7,8,9])\n\t\t\t\t\t *   , output;\n\t\t\t\t\t *\n\t\t\t\t\t * try {\n\t\t\t\t\t *   output = pako.inflate(input);\n\t\t\t\t\t * } catch (err)\n\t\t\t\t\t *   console.log(err);\n\t\t\t\t\t * }\n\t\t\t\t\t * ```\n\t\t\t\t\t **/\n\t\t\t\t\tfunction inflate( input, options ) {\n\t\t\t\t\t\tvar inflator = new Inflate( options );\n\n\t\t\t\t\t\tinflator.push( input, true );\n\n\t\t\t\t\t\t// That will never happens, if you don't cheat with options :)\n\t\t\t\t\t\tif ( inflator.err ) {\n\t\t\t\t\t\t\tthrow inflator.msg || msg[ inflator.err ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn inflator.result;\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * inflateRaw(data[, options]) -> Uint8Array|Array|String\n\t\t\t\t\t * - data (Uint8Array|Array|String): input data to decompress.\n\t\t\t\t\t * - options (Object): zlib inflate options.\n\t\t\t\t\t *\n\t\t\t\t\t * The same as [[inflate]], but creates raw data, without wrapper\n\t\t\t\t\t * (header and adler32 crc).\n\t\t\t\t\t **/\n\t\t\t\t\tfunction inflateRaw( input, options ) {\n\t\t\t\t\t\toptions = options || {};\n\t\t\t\t\t\toptions.raw = true;\n\t\t\t\t\t\treturn inflate( input, options );\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * ungzip(data[, options]) -> Uint8Array|Array|String\n\t\t\t\t\t * - data (Uint8Array|Array|String): input data to decompress.\n\t\t\t\t\t * - options (Object): zlib inflate options.\n\t\t\t\t\t *\n\t\t\t\t\t * Just shortcut to [[inflate]], because it autodetects format\n\t\t\t\t\t * by header.content. Done for convenience.\n\t\t\t\t\t **/\n\n\t\t\t\t\texports.Inflate = Inflate;\n\t\t\t\t\texports.inflate = inflate;\n\t\t\t\t\texports.inflateRaw = inflateRaw;\n\t\t\t\t\texports.ungzip = inflate;\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'./utils/common': 1,\n\t\t\t\t\t'./utils/strings': 2,\n\t\t\t\t\t'./zlib/constants': 4,\n\t\t\t\t\t'./zlib/gzheader': 6,\n\t\t\t\t\t'./zlib/inflate': 8,\n\t\t\t\t\t'./zlib/messages': 10,\n\t\t\t\t\t'./zlib/zstream': 11,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{},\n\t\t[]\n\t)( '/lib/inflate.js' );\n} )();\n/* eslint-enable */\n", "/**\n * Credits:\n *\n * lib-font\n * https://github.com/Pomax/lib-font\n * https://github.com/Pomax/lib-font/blob/master/lib-font.browser.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2020 pomax@nihongoresources.com\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint eslint-comments/no-unlimited-disable: 0 */\n/* eslint-disable */\n// import pako from 'pako';\nimport unbrotli from './unbrotli';\nimport GzipDecode from './inflate';\n\nlet fetchFunction = globalThis.fetch;\n// if ( ! fetchFunction ) {\n// \tlet backlog = [];\n// \tfetchFunction = globalThis.fetch = ( ...args ) =>\n// \t\tnew Promise( ( resolve, reject ) => {\n// \t\t\tbacklog.push( { args: args, resolve: resolve, reject: reject } );\n// \t\t} );\n// \timport( 'fs' )\n// \t\t.then( ( fs ) => {\n// \t\t\tfetchFunction = globalThis.fetch = async function ( path ) {\n// \t\t\t\treturn new Promise( ( resolve, reject ) => {\n// \t\t\t\t\tfs.readFile( path, ( err, data ) => {\n// \t\t\t\t\t\tif ( err ) return reject( err );\n// \t\t\t\t\t\tresolve( { ok: true, arrayBuffer: () => data.buffer } );\n// \t\t\t\t\t} );\n// \t\t\t\t} );\n// \t\t\t};\n// \t\t\twhile ( backlog.length ) {\n// \t\t\t\tlet instruction = backlog.shift();\n// \t\t\t\tfetchFunction( ...instruction.args )\n// \t\t\t\t\t.then( ( data ) => instruction.resolve( data ) )\n// \t\t\t\t\t.catch( ( err ) => instruction.reject( err ) );\n// \t\t\t}\n// \t\t} )\n// \t\t.catch( ( err ) => {\n// \t\t\tconsole.error( err );\n// \t\t\tthrow new Error(\n// \t\t\t\t`lib-font cannot run unless either the Fetch API or Node's filesystem module is available.`\n// \t\t\t);\n// \t\t} );\n// }\nclass Event {\n\tconstructor( type, detail = {}, msg ) {\n\t\tthis.type = type;\n\t\tthis.detail = detail;\n\t\tthis.msg = msg;\n\t\tObject.defineProperty( this, `__mayPropagate`, {\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t} );\n\t\tthis.__mayPropagate = true;\n\t}\n\tpreventDefault() {}\n\tstopPropagation() {\n\t\tthis.__mayPropagate = false;\n\t}\n\tvalueOf() {\n\t\treturn this;\n\t}\n\ttoString() {\n\t\treturn this.msg\n\t\t\t? `[${ this.type } event]: ${ this.msg }`\n\t\t\t: `[${ this.type } event]`;\n\t}\n}\nclass EventManager {\n\tconstructor() {\n\t\tthis.listeners = {};\n\t}\n\taddEventListener( type, listener, useCapture ) {\n\t\tlet bin = this.listeners[ type ] || [];\n\t\tif ( useCapture ) bin.unshift( listener );\n\t\telse bin.push( listener );\n\t\tthis.listeners[ type ] = bin;\n\t}\n\tremoveEventListener( type, listener ) {\n\t\tlet bin = this.listeners[ type ] || [];\n\t\tlet pos = bin.findIndex( ( e ) => e === listener );\n\t\tif ( pos > -1 ) {\n\t\t\tbin.splice( pos, 1 );\n\t\t\tthis.listeners[ type ] = bin;\n\t\t}\n\t}\n\tdispatch( event ) {\n\t\tlet bin = this.listeners[ event.type ];\n\t\tif ( bin ) {\n\t\t\tfor ( let l = 0, e = bin.length; l < e; l++ ) {\n\t\t\t\tif ( ! event.__mayPropagate ) break;\n\t\t\t\tbin[ l ]( event );\n\t\t\t}\n\t\t}\n\t}\n}\nconst startDate = new Date( `1904-01-01T00:00:00+0000` ).getTime();\nfunction asText( data ) {\n\treturn Array.from( data )\n\t\t.map( ( v ) => String.fromCharCode( v ) )\n\t\t.join( `` );\n}\nclass Parser {\n\tconstructor( dict, dataview, name ) {\n\t\tthis.name = ( name || dict.tag || `` ).trim();\n\t\tthis.length = dict.length;\n\t\tthis.start = dict.offset;\n\t\tthis.offset = 0;\n\t\tthis.data = dataview;\n\t\t[\n\t\t\t`getInt8`,\n\t\t\t`getUint8`,\n\t\t\t`getInt16`,\n\t\t\t`getUint16`,\n\t\t\t`getInt32`,\n\t\t\t`getUint32`,\n\t\t\t`getBigInt64`,\n\t\t\t`getBigUint64`,\n\t\t].forEach( ( name ) => {\n\t\t\tlet fn = name.replace( /get(Big)?/, '' ).toLowerCase();\n\t\t\tlet increment = parseInt( name.replace( /[^\\d]/g, '' ) ) / 8;\n\t\t\tObject.defineProperty( this, fn, {\n\t\t\t\tget: () => this.getValue( name, increment ),\n\t\t\t} );\n\t\t} );\n\t}\n\tget currentPosition() {\n\t\treturn this.start + this.offset;\n\t}\n\tset currentPosition( position ) {\n\t\tthis.start = position;\n\t\tthis.offset = 0;\n\t}\n\tskip( n = 0, bits = 8 ) {\n\t\tthis.offset += ( n * bits ) / 8;\n\t}\n\tgetValue( type, increment ) {\n\t\tlet pos = this.start + this.offset;\n\t\tthis.offset += increment;\n\t\ttry {\n\t\t\treturn this.data[ type ]( pos );\n\t\t} catch ( e ) {\n\t\t\tconsole.error( `parser`, type, increment, this );\n\t\t\tconsole.error( `parser`, this.start, this.offset );\n\t\t\tthrow e;\n\t\t}\n\t}\n\tflags( n ) {\n\t\tif ( n === 8 || n === 16 || n === 32 || n === 64 ) {\n\t\t\treturn this[ `uint${ n }` ]\n\t\t\t\t.toString( 2 )\n\t\t\t\t.padStart( n, 0 )\n\t\t\t\t.split( `` )\n\t\t\t\t.map( ( v ) => v === '1' );\n\t\t}\n\t\tconsole.error(\n\t\t\t`Error parsing flags: flag types can only be 1, 2, 4, or 8 bytes long`\n\t\t);\n\t\tconsole.trace();\n\t}\n\tget tag() {\n\t\tconst t = this.uint32;\n\t\treturn asText( [\n\t\t\t( t >> 24 ) & 255,\n\t\t\t( t >> 16 ) & 255,\n\t\t\t( t >> 8 ) & 255,\n\t\t\tt & 255,\n\t\t] );\n\t}\n\tget fixed() {\n\t\tlet major = this.int16;\n\t\tlet minor = Math.round( ( 1e3 * this.uint16 ) / 65356 );\n\t\treturn major + minor / 1e3;\n\t}\n\tget legacyFixed() {\n\t\tlet major = this.uint16;\n\t\tlet minor = this.uint16.toString( 16 ).padStart( 4, 0 );\n\t\treturn parseFloat( `${ major }.${ minor }` );\n\t}\n\tget uint24() {\n\t\treturn ( this.uint8 << 16 ) + ( this.uint8 << 8 ) + this.uint8;\n\t}\n\tget uint128() {\n\t\tlet value = 0;\n\t\tfor ( let i = 0; i < 5; i++ ) {\n\t\t\tlet byte = this.uint8;\n\t\t\tvalue = value * 128 + ( byte & 127 );\n\t\t\tif ( byte < 128 ) break;\n\t\t}\n\t\treturn value;\n\t}\n\tget longdatetime() {\n\t\treturn new Date( startDate + 1e3 * parseInt( this.int64.toString() ) );\n\t}\n\tget fword() {\n\t\treturn this.int16;\n\t}\n\tget ufword() {\n\t\treturn this.uint16;\n\t}\n\tget Offset16() {\n\t\treturn this.uint16;\n\t}\n\tget Offset32() {\n\t\treturn this.uint32;\n\t}\n\tget F2DOT14() {\n\t\tconst bits = p.uint16;\n\t\tconst integer = [ 0, 1, -2, -1 ][ bits >> 14 ];\n\t\tconst fraction = bits & 16383;\n\t\treturn integer + fraction / 16384;\n\t}\n\tverifyLength() {\n\t\tif ( this.offset != this.length ) {\n\t\t\tconsole.error(\n\t\t\t\t`unexpected parsed table size (${ this.offset }) for \"${ this.name }\" (expected ${ this.length })`\n\t\t\t);\n\t\t}\n\t}\n\treadBytes( n = 0, position = 0, bits = 8, signed = false ) {\n\t\tn = n || this.length;\n\t\tif ( n === 0 ) return [];\n\t\tif ( position ) this.currentPosition = position;\n\t\tconst fn = `${ signed ? `` : `u` }int${ bits }`,\n\t\t\tslice = [];\n\t\twhile ( n-- ) slice.push( this[ fn ] );\n\t\treturn slice;\n\t}\n}\nclass ParsedData {\n\tconstructor( parser ) {\n\t\tconst pGetter = { enumerable: false, get: () => parser };\n\t\tObject.defineProperty( this, `parser`, pGetter );\n\t\tconst start = parser.currentPosition;\n\t\tconst startGetter = { enumerable: false, get: () => start };\n\t\tObject.defineProperty( this, `start`, startGetter );\n\t}\n\tload( struct ) {\n\t\tObject.keys( struct ).forEach( ( p ) => {\n\t\t\tlet props = Object.getOwnPropertyDescriptor( struct, p );\n\t\t\tif ( props.get ) {\n\t\t\t\tthis[ p ] = props.get.bind( this );\n\t\t\t} else if ( props.value !== undefined ) {\n\t\t\t\tthis[ p ] = props.value;\n\t\t\t}\n\t\t} );\n\t\tif ( this.parser.length ) {\n\t\t\tthis.parser.verifyLength();\n\t\t}\n\t}\n}\nclass SimpleTable extends ParsedData {\n\tconstructor( dict, dataview, name ) {\n\t\tconst { parser: parser, start: start } = super(\n\t\t\tnew Parser( dict, dataview, name )\n\t\t);\n\t\tconst pGetter = { enumerable: false, get: () => parser };\n\t\tObject.defineProperty( this, `p`, pGetter );\n\t\tconst startGetter = { enumerable: false, get: () => start };\n\t\tObject.defineProperty( this, `tableStart`, startGetter );\n\t}\n}\nfunction lazy$1( object, property, getter ) {\n\tlet val;\n\tObject.defineProperty( object, property, {\n\t\tget: () => {\n\t\t\tif ( val ) return val;\n\t\t\tval = getter();\n\t\t\treturn val;\n\t\t},\n\t\tenumerable: true,\n\t} );\n}\nclass SFNT extends SimpleTable {\n\tconstructor( font, dataview, createTable ) {\n\t\tconst { p: p } = super( { offset: 0, length: 12 }, dataview, `sfnt` );\n\t\tthis.version = p.uint32;\n\t\tthis.numTables = p.uint16;\n\t\tthis.searchRange = p.uint16;\n\t\tthis.entrySelector = p.uint16;\n\t\tthis.rangeShift = p.uint16;\n\t\tp.verifyLength();\n\t\tthis.directory = [ ...new Array( this.numTables ) ].map(\n\t\t\t( _ ) => new TableRecord( p )\n\t\t);\n\t\tthis.tables = {};\n\t\tthis.directory.forEach( ( entry ) => {\n\t\t\tconst getter = () =>\n\t\t\t\tcreateTable(\n\t\t\t\t\tthis.tables,\n\t\t\t\t\t{\n\t\t\t\t\t\ttag: entry.tag,\n\t\t\t\t\t\toffset: entry.offset,\n\t\t\t\t\t\tlength: entry.length,\n\t\t\t\t\t},\n\t\t\t\t\tdataview\n\t\t\t\t);\n\t\t\tlazy$1( this.tables, entry.tag.trim(), getter );\n\t\t} );\n\t}\n}\nclass TableRecord {\n\tconstructor( p ) {\n\t\tthis.tag = p.tag;\n\t\tthis.checksum = p.uint32;\n\t\tthis.offset = p.uint32;\n\t\tthis.length = p.uint32;\n\t}\n}\nconst gzipDecode = GzipDecode.inflate || undefined;\nlet nativeGzipDecode = undefined;\n// if ( ! gzipDecode ) {\n// \timport( 'zlib' ).then( ( zlib ) => {\n// \t\tnativeGzipDecode = ( buffer ) => zlib.unzipSync( buffer );\n// \t} );\n// }\nclass WOFF$1 extends SimpleTable {\n\tconstructor( font, dataview, createTable ) {\n\t\tconst { p: p } = super( { offset: 0, length: 44 }, dataview, `woff` );\n\t\tthis.signature = p.tag;\n\t\tthis.flavor = p.uint32;\n\t\tthis.length = p.uint32;\n\t\tthis.numTables = p.uint16;\n\t\tp.uint16;\n\t\tthis.totalSfntSize = p.uint32;\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.metaOffset = p.uint32;\n\t\tthis.metaLength = p.uint32;\n\t\tthis.metaOrigLength = p.uint32;\n\t\tthis.privOffset = p.uint32;\n\t\tthis.privLength = p.uint32;\n\t\tp.verifyLength();\n\t\tthis.directory = [ ...new Array( this.numTables ) ].map(\n\t\t\t( _ ) => new WoffTableDirectoryEntry( p )\n\t\t);\n\t\tbuildWoffLazyLookups( this, dataview, createTable );\n\t}\n}\nclass WoffTableDirectoryEntry {\n\tconstructor( p ) {\n\t\tthis.tag = p.tag;\n\t\tthis.offset = p.uint32;\n\t\tthis.compLength = p.uint32;\n\t\tthis.origLength = p.uint32;\n\t\tthis.origChecksum = p.uint32;\n\t}\n}\nfunction buildWoffLazyLookups( woff, dataview, createTable ) {\n\twoff.tables = {};\n\twoff.directory.forEach( ( entry ) => {\n\t\tlazy$1( woff.tables, entry.tag.trim(), () => {\n\t\t\tlet offset = 0;\n\t\t\tlet view = dataview;\n\t\t\tif ( entry.compLength !== entry.origLength ) {\n\t\t\t\tconst data = dataview.buffer.slice(\n\t\t\t\t\tentry.offset,\n\t\t\t\t\tentry.offset + entry.compLength\n\t\t\t\t);\n\t\t\t\tlet unpacked;\n\t\t\t\tif ( gzipDecode ) {\n\t\t\t\t\tunpacked = gzipDecode( new Uint8Array( data ) );\n\t\t\t\t} else if ( nativeGzipDecode ) {\n\t\t\t\t\tunpacked = nativeGzipDecode( new Uint8Array( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tconst msg = `no brotli decoder available to decode WOFF2 font`;\n\t\t\t\t\tif ( font.onerror ) font.onerror( msg );\n\t\t\t\t\tthrow new Error( msg );\n\t\t\t\t}\n\t\t\t\tview = new DataView( unpacked.buffer );\n\t\t\t} else {\n\t\t\t\toffset = entry.offset;\n\t\t\t}\n\t\t\treturn createTable(\n\t\t\t\twoff.tables,\n\t\t\t\t{ tag: entry.tag, offset: offset, length: entry.origLength },\n\t\t\t\tview\n\t\t\t);\n\t\t} );\n\t} );\n}\nconst brotliDecode = unbrotli;\nlet nativeBrotliDecode = undefined;\n// if ( ! brotliDecode ) {\n// \timport( 'zlib' ).then( ( zlib ) => {\n// \t\tnativeBrotliDecode = ( buffer ) => zlib.brotliDecompressSync( buffer );\n// \t} );\n// }\nclass WOFF2$1 extends SimpleTable {\n\tconstructor( font, dataview, createTable ) {\n\t\tconst { p: p } = super( { offset: 0, length: 48 }, dataview, `woff2` );\n\t\tthis.signature = p.tag;\n\t\tthis.flavor = p.uint32;\n\t\tthis.length = p.uint32;\n\t\tthis.numTables = p.uint16;\n\t\tp.uint16;\n\t\tthis.totalSfntSize = p.uint32;\n\t\tthis.totalCompressedSize = p.uint32;\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.metaOffset = p.uint32;\n\t\tthis.metaLength = p.uint32;\n\t\tthis.metaOrigLength = p.uint32;\n\t\tthis.privOffset = p.uint32;\n\t\tthis.privLength = p.uint32;\n\t\tp.verifyLength();\n\t\tthis.directory = [ ...new Array( this.numTables ) ].map(\n\t\t\t( _ ) => new Woff2TableDirectoryEntry( p )\n\t\t);\n\t\tlet dictOffset = p.currentPosition;\n\t\tthis.directory[ 0 ].offset = 0;\n\t\tthis.directory.forEach( ( e, i ) => {\n\t\t\tlet next = this.directory[ i + 1 ];\n\t\t\tif ( next ) {\n\t\t\t\tnext.offset =\n\t\t\t\t\te.offset +\n\t\t\t\t\t( e.transformLength !== undefined\n\t\t\t\t\t\t? e.transformLength\n\t\t\t\t\t\t: e.origLength );\n\t\t\t}\n\t\t} );\n\t\tlet decoded;\n\t\tlet buffer = dataview.buffer.slice( dictOffset );\n\t\tif ( brotliDecode ) {\n\t\t\tdecoded = brotliDecode( new Uint8Array( buffer ) );\n\t\t} else if ( nativeBrotliDecode ) {\n\t\t\tdecoded = new Uint8Array( nativeBrotliDecode( buffer ) );\n\t\t} else {\n\t\t\tconst msg = `no brotli decoder available to decode WOFF2 font`;\n\t\t\tif ( font.onerror ) font.onerror( msg );\n\t\t\tthrow new Error( msg );\n\t\t}\n\t\tbuildWoff2LazyLookups( this, decoded, createTable );\n\t}\n}\nclass Woff2TableDirectoryEntry {\n\tconstructor( p ) {\n\t\tthis.flags = p.uint8;\n\t\tconst tagNumber = ( this.tagNumber = this.flags & 63 );\n\t\tif ( tagNumber === 63 ) {\n\t\t\tthis.tag = p.tag;\n\t\t} else {\n\t\t\tthis.tag = getWOFF2Tag( tagNumber );\n\t\t}\n\t\tconst transformVersion = ( this.transformVersion =\n\t\t\t( this.flags & 192 ) >> 6 );\n\t\tlet hasTransforms = transformVersion !== 0;\n\t\tif ( this.tag === `glyf` || this.tag === `loca` ) {\n\t\t\thasTransforms = this.transformVersion !== 3;\n\t\t}\n\t\tthis.origLength = p.uint128;\n\t\tif ( hasTransforms ) {\n\t\t\tthis.transformLength = p.uint128;\n\t\t}\n\t}\n}\nfunction buildWoff2LazyLookups( woff2, decoded, createTable ) {\n\twoff2.tables = {};\n\twoff2.directory.forEach( ( entry ) => {\n\t\tlazy$1( woff2.tables, entry.tag.trim(), () => {\n\t\t\tconst start = entry.offset;\n\t\t\tconst end =\n\t\t\t\tstart +\n\t\t\t\t( entry.transformLength\n\t\t\t\t\t? entry.transformLength\n\t\t\t\t\t: entry.origLength );\n\t\t\tconst data = new DataView( decoded.slice( start, end ).buffer );\n\t\t\ttry {\n\t\t\t\treturn createTable(\n\t\t\t\t\twoff2.tables,\n\t\t\t\t\t{ tag: entry.tag, offset: 0, length: entry.origLength },\n\t\t\t\t\tdata\n\t\t\t\t);\n\t\t\t} catch ( e ) {\n\t\t\t\tconsole.error( e );\n\t\t\t}\n\t\t} );\n\t} );\n}\nfunction getWOFF2Tag( flag ) {\n\treturn [\n\t\t`cmap`,\n\t\t`head`,\n\t\t`hhea`,\n\t\t`hmtx`,\n\t\t`maxp`,\n\t\t`name`,\n\t\t`OS/2`,\n\t\t`post`,\n\t\t`cvt `,\n\t\t`fpgm`,\n\t\t`glyf`,\n\t\t`loca`,\n\t\t`prep`,\n\t\t`CFF `,\n\t\t`VORG`,\n\t\t`EBDT`,\n\t\t`EBLC`,\n\t\t`gasp`,\n\t\t`hdmx`,\n\t\t`kern`,\n\t\t`LTSH`,\n\t\t`PCLT`,\n\t\t`VDMX`,\n\t\t`vhea`,\n\t\t`vmtx`,\n\t\t`BASE`,\n\t\t`GDEF`,\n\t\t`GPOS`,\n\t\t`GSUB`,\n\t\t`EBSC`,\n\t\t`JSTF`,\n\t\t`MATH`,\n\t\t`CBDT`,\n\t\t`CBLC`,\n\t\t`COLR`,\n\t\t`CPAL`,\n\t\t`SVG `,\n\t\t`sbix`,\n\t\t`acnt`,\n\t\t`avar`,\n\t\t`bdat`,\n\t\t`bloc`,\n\t\t`bsln`,\n\t\t`cvar`,\n\t\t`fdsc`,\n\t\t`feat`,\n\t\t`fmtx`,\n\t\t`fvar`,\n\t\t`gvar`,\n\t\t`hsty`,\n\t\t`just`,\n\t\t`lcar`,\n\t\t`mort`,\n\t\t`morx`,\n\t\t`opbd`,\n\t\t`prop`,\n\t\t`trak`,\n\t\t`Zapf`,\n\t\t`Silf`,\n\t\t`Glat`,\n\t\t`Gloc`,\n\t\t`Feat`,\n\t\t`Sill`,\n\t][ flag & 63 ];\n}\nconst tableClasses = {};\nlet tableClassesLoaded = false;\nPromise.all( [\n\tPromise.resolve().then( function () {\n\t\treturn cmap$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn head$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn hhea$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn hmtx$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn maxp$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn name$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn OS2$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn post$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn BASE$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn GDEF$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn GSUB$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn GPOS$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn SVG$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn fvar$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn cvt$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn fpgm$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn gasp$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn glyf$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn loca$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn prep$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CFF$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CFF2$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn VORG$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn EBLC$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn EBDT$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn EBSC$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CBLC$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CBDT$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn sbix$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn COLR$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn CPAL$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn DSIG$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn hdmx$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn kern$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn LTSH$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn MERG$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn meta$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn PCLT$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn VDMX$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn vhea$1;\n\t} ),\n\tPromise.resolve().then( function () {\n\t\treturn vmtx$1;\n\t} ),\n] ).then( ( data ) => {\n\tdata.forEach( ( e ) => {\n\t\tlet name = Object.keys( e )[ 0 ];\n\t\ttableClasses[ name ] = e[ name ];\n\t} );\n\ttableClassesLoaded = true;\n} );\nfunction createTable( tables, dict, dataview ) {\n\tlet name = dict.tag.replace( /[^\\w\\d]/g, `` );\n\tlet Type = tableClasses[ name ];\n\tif ( Type ) return new Type( dict, dataview, tables );\n\tconsole.warn(\n\t\t`lib-font has no definition for ${ name }. The table was skipped.`\n\t);\n\treturn {};\n}\nfunction loadTableClasses() {\n\tlet count = 0;\n\tfunction checkLoaded( resolve, reject ) {\n\t\tif ( ! tableClassesLoaded ) {\n\t\t\tif ( count > 10 ) {\n\t\t\t\treturn reject( new Error( `loading took too long` ) );\n\t\t\t}\n\t\t\tcount++;\n\t\t\treturn setTimeout( () => checkLoaded( resolve ), 250 );\n\t\t}\n\t\tresolve( createTable );\n\t}\n\treturn new Promise( ( resolve, reject ) => checkLoaded( resolve ) );\n}\nfunction getFontCSSFormat( path, errorOnStyle ) {\n\tlet pos = path.lastIndexOf( `.` );\n\tlet ext = ( path.substring( pos + 1 ) || `` ).toLowerCase();\n\tlet format = {\n\t\tttf: `truetype`,\n\t\totf: `opentype`,\n\t\twoff: `woff`,\n\t\twoff2: `woff2`,\n\t}[ ext ];\n\tif ( format ) return format;\n\tlet msg = {\n\t\teot: `The .eot format is not supported: it died in January 12, 2016, when Microsoft retired all versions of IE that didn't already support WOFF.`,\n\t\tsvg: `The .svg format is not supported: SVG fonts (not to be confused with OpenType with embedded SVG) were so bad we took the entire fonts chapter out of the SVG specification again.`,\n\t\tfon: `The .fon format is not supported: this is an ancient Windows bitmap font format.`,\n\t\tttc: `Based on the current CSS specification, font collections are not (yet?) supported.`,\n\t}[ ext ];\n\tif ( ! msg ) msg = `${ path } is not a known webfont format.`;\n\tif ( errorOnStyle ) {\n\t\tthrow new Error( msg );\n\t} else {\n\t\tconsole.warn( `Could not load font: ${ msg }` );\n\t}\n}\nasync function setupFontFace( name, url, options = {} ) {\n\tif ( ! globalThis.document ) return;\n\tlet format = getFontCSSFormat( url, options.errorOnStyle );\n\tif ( ! format ) return;\n\tlet style = document.createElement( `style` );\n\tstyle.className = `injected-by-Font-js`;\n\tlet rules = [];\n\tif ( options.styleRules ) {\n\t\trules = Object.entries( options.styleRules ).map(\n\t\t\t( [ key, value ] ) => `${ key }: ${ value };`\n\t\t);\n\t}\n\tstyle.textContent = `\\n@font-face {\\n    font-family: \"${ name }\";\\n    ${ rules.join(\n\t\t`\\n\\t`\n\t) }\\n    src: url(\"${ url }\") format(\"${ format }\");\\n}`;\n\tglobalThis.document.head.appendChild( style );\n\treturn style;\n}\nconst TTF = [ 0, 1, 0, 0 ];\nconst OTF = [ 79, 84, 84, 79 ];\nconst WOFF = [ 119, 79, 70, 70 ];\nconst WOFF2 = [ 119, 79, 70, 50 ];\nfunction match( ar1, ar2 ) {\n\tif ( ar1.length !== ar2.length ) return;\n\tfor ( let i = 0; i < ar1.length; i++ ) {\n\t\tif ( ar1[ i ] !== ar2[ i ] ) return;\n\t}\n\treturn true;\n}\nfunction validFontFormat( dataview ) {\n\tconst LEAD_BYTES = [\n\t\tdataview.getUint8( 0 ),\n\t\tdataview.getUint8( 1 ),\n\t\tdataview.getUint8( 2 ),\n\t\tdataview.getUint8( 3 ),\n\t];\n\tif ( match( LEAD_BYTES, TTF ) || match( LEAD_BYTES, OTF ) ) return `SFNT`;\n\tif ( match( LEAD_BYTES, WOFF ) ) return `WOFF`;\n\tif ( match( LEAD_BYTES, WOFF2 ) ) return `WOFF2`;\n}\nfunction checkFetchResponseStatus( response ) {\n\tif ( ! response.ok ) {\n\t\tthrow new Error(\n\t\t\t`HTTP ${ response.status } - ${ response.statusText }`\n\t\t);\n\t}\n\treturn response;\n}\nclass Font extends EventManager {\n\tconstructor( name, options = {} ) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.options = options;\n\t\tthis.metrics = false;\n\t}\n\tget src() {\n\t\treturn this.__src;\n\t}\n\tset src( src ) {\n\t\tthis.__src = src;\n\t\t( async () => {\n\t\t\tif ( globalThis.document && ! this.options.skipStyleSheet ) {\n\t\t\t\tawait setupFontFace( this.name, src, this.options );\n\t\t\t}\n\t\t\tthis.loadFont( src );\n\t\t} )();\n\t}\n\tasync loadFont( url, filename ) {\n\t\tfetch( url )\n\t\t\t.then(\n\t\t\t\t( response ) =>\n\t\t\t\t\tcheckFetchResponseStatus( response ) &&\n\t\t\t\t\tresponse.arrayBuffer()\n\t\t\t)\n\t\t\t.then( ( buffer ) =>\n\t\t\t\tthis.fromDataBuffer( buffer, filename || url )\n\t\t\t)\n\t\t\t.catch( ( err ) => {\n\t\t\t\tconst evt = new Event(\n\t\t\t\t\t`error`,\n\t\t\t\t\terr,\n\t\t\t\t\t`Failed to load font at ${ filename || url }`\n\t\t\t\t);\n\t\t\t\tthis.dispatch( evt );\n\t\t\t\tif ( this.onerror ) this.onerror( evt );\n\t\t\t} );\n\t}\n\tasync fromDataBuffer( buffer, filenameOrUrL ) {\n\t\tthis.fontData = new DataView( buffer );\n\t\tlet type = validFontFormat( this.fontData );\n\t\tif ( ! type ) {\n\t\t\tthrow new Error(\n\t\t\t\t`${ filenameOrUrL } is either an unsupported font format, or not a font at all.`\n\t\t\t);\n\t\t}\n\t\tawait this.parseBasicData( type );\n\t\tconst evt = new Event( 'load', { font: this } );\n\t\tthis.dispatch( evt );\n\t\tif ( this.onload ) this.onload( evt );\n\t}\n\tasync parseBasicData( type ) {\n\t\treturn loadTableClasses().then( ( createTable ) => {\n\t\t\tif ( type === `SFNT` ) {\n\t\t\t\tthis.opentype = new SFNT( this, this.fontData, createTable );\n\t\t\t}\n\t\t\tif ( type === `WOFF` ) {\n\t\t\t\tthis.opentype = new WOFF$1( this, this.fontData, createTable );\n\t\t\t}\n\t\t\tif ( type === `WOFF2` ) {\n\t\t\t\tthis.opentype = new WOFF2$1( this, this.fontData, createTable );\n\t\t\t}\n\t\t\treturn this.opentype;\n\t\t} );\n\t}\n\tgetGlyphId( char ) {\n\t\treturn this.opentype.tables.cmap.getGlyphId( char );\n\t}\n\treverse( glyphid ) {\n\t\treturn this.opentype.tables.cmap.reverse( glyphid );\n\t}\n\tsupports( char ) {\n\t\treturn this.getGlyphId( char ) !== 0;\n\t}\n\tsupportsVariation( variation ) {\n\t\treturn (\n\t\t\tthis.opentype.tables.cmap.supportsVariation( variation ) !== false\n\t\t);\n\t}\n\tmeasureText( text, size = 16 ) {\n\t\tif ( this.__unloaded )\n\t\t\tthrow new Error(\n\t\t\t\t'Cannot measure text: font was unloaded. Please reload before calling measureText()'\n\t\t\t);\n\t\tlet d = document.createElement( 'div' );\n\t\td.textContent = text;\n\t\td.style.fontFamily = this.name;\n\t\td.style.fontSize = `${ size }px`;\n\t\td.style.color = `transparent`;\n\t\td.style.background = `transparent`;\n\t\td.style.top = `0`;\n\t\td.style.left = `0`;\n\t\td.style.position = `absolute`;\n\t\tdocument.body.appendChild( d );\n\t\tlet bbox = d.getBoundingClientRect();\n\t\tdocument.body.removeChild( d );\n\t\tconst OS2 = this.opentype.tables[ 'OS/2' ];\n\t\tbbox.fontSize = size;\n\t\tbbox.ascender = OS2.sTypoAscender;\n\t\tbbox.descender = OS2.sTypoDescender;\n\t\treturn bbox;\n\t}\n\tunload() {\n\t\tif ( this.styleElement.parentNode ) {\n\t\t\tthis.styleElement.parentNode.removeElement( this.styleElement );\n\t\t\tconst evt = new Event( 'unload', { font: this } );\n\t\t\tthis.dispatch( evt );\n\t\t\tif ( this.onunload ) this.onunload( evt );\n\t\t}\n\t\tthis._unloaded = true;\n\t}\n\tload() {\n\t\tif ( this.__unloaded ) {\n\t\t\tdelete this.__unloaded;\n\t\t\tdocument.head.appendChild( this.styleElement );\n\t\t\tconst evt = new Event( 'load', { font: this } );\n\t\t\tthis.dispatch( evt );\n\t\t\tif ( this.onload ) this.onload( evt );\n\t\t}\n\t}\n}\nglobalThis.Font = Font;\nclass Subtable extends ParsedData {\n\tconstructor( p, plaformID, encodingID ) {\n\t\tsuper( p );\n\t\tthis.plaformID = plaformID;\n\t\tthis.encodingID = encodingID;\n\t}\n}\nclass Format0 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 0;\n\t\tthis.length = p.uint16;\n\t\tthis.language = p.uint16;\n\t\tthis.glyphIdArray = [ ...new Array( 256 ) ].map( ( _ ) => p.uint8 );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 0. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\treturn 0 <= charCode && charCode <= 255;\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 0` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes() {\n\t\treturn [ { start: 1, end: 256 } ];\n\t}\n}\nclass Format2 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 2;\n\t\tthis.length = p.uint16;\n\t\tthis.language = p.uint16;\n\t\tthis.subHeaderKeys = [ ...new Array( 256 ) ].map( ( _ ) => p.uint16 );\n\t\tconst subHeaderCount = Math.max( ...this.subHeaderKeys );\n\t\tconst subHeaderOffset = p.currentPosition;\n\t\tlazy$1( this, `subHeaders`, () => {\n\t\t\tp.currentPosition = subHeaderOffset;\n\t\t\treturn [ ...new Array( subHeaderCount ) ].map(\n\t\t\t\t( _ ) => new SubHeader( p )\n\t\t\t);\n\t\t} );\n\t\tconst glyphIndexOffset = subHeaderOffset + subHeaderCount * 8;\n\t\tlazy$1( this, `glyphIndexArray`, () => {\n\t\t\tp.currentPosition = glyphIndexOffset;\n\t\t\treturn [ ...new Array( subHeaderCount ) ].map( ( _ ) => p.uint16 );\n\t\t} );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 2. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\tconst low = charCode && 255;\n\t\tconst high = charCode && 65280;\n\t\tconst subHeaderKey = this.subHeaders[ high ];\n\t\tconst subheader = this.subHeaders[ subHeaderKey ];\n\t\tconst first = subheader.firstCode;\n\t\tconst last = first + subheader.entryCount;\n\t\treturn first <= low && low <= last;\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 2` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) {\n\t\t\treturn this.subHeaders.map( ( h ) => ( {\n\t\t\t\tfirstCode: h.firstCode,\n\t\t\t\tlastCode: h.lastCode,\n\t\t\t} ) );\n\t\t}\n\t\treturn this.subHeaders.map( ( h ) => ( {\n\t\t\tstart: h.firstCode,\n\t\t\tend: h.lastCode,\n\t\t} ) );\n\t}\n}\nclass SubHeader {\n\tconstructor( p ) {\n\t\tthis.firstCode = p.uint16;\n\t\tthis.entryCount = p.uint16;\n\t\tthis.lastCode = this.first + this.entryCount;\n\t\tthis.idDelta = p.int16;\n\t\tthis.idRangeOffset = p.uint16;\n\t}\n}\nclass Format4 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 4;\n\t\tthis.length = p.uint16;\n\t\tthis.language = p.uint16;\n\t\tthis.segCountX2 = p.uint16;\n\t\tthis.segCount = this.segCountX2 / 2;\n\t\tthis.searchRange = p.uint16;\n\t\tthis.entrySelector = p.uint16;\n\t\tthis.rangeShift = p.uint16;\n\t\tconst endCodePosition = p.currentPosition;\n\t\tlazy$1( this, `endCode`, () =>\n\t\t\tp.readBytes( this.segCount, endCodePosition, 16 )\n\t\t);\n\t\tconst startCodePosition = endCodePosition + 2 + this.segCountX2;\n\t\tlazy$1( this, `startCode`, () =>\n\t\t\tp.readBytes( this.segCount, startCodePosition, 16 )\n\t\t);\n\t\tconst idDeltaPosition = startCodePosition + this.segCountX2;\n\t\tlazy$1( this, `idDelta`, () =>\n\t\t\tp.readBytes( this.segCount, idDeltaPosition, 16, true )\n\t\t);\n\t\tconst idRangePosition = idDeltaPosition + this.segCountX2;\n\t\tlazy$1( this, `idRangeOffset`, () =>\n\t\t\tp.readBytes( this.segCount, idRangePosition, 16 )\n\t\t);\n\t\tconst glyphIdArrayPosition = idRangePosition + this.segCountX2;\n\t\tconst glyphIdArrayLength =\n\t\t\tthis.length - ( glyphIdArrayPosition - this.tableStart );\n\t\tlazy$1( this, `glyphIdArray`, () =>\n\t\t\tp.readBytes( glyphIdArrayLength, glyphIdArrayPosition, 16 )\n\t\t);\n\t\tlazy$1( this, `segments`, () =>\n\t\t\tthis.buildSegments( idRangePosition, glyphIdArrayPosition, p )\n\t\t);\n\t}\n\tbuildSegments( idRangePosition, glyphIdArrayPosition, p ) {\n\t\tconst build = ( _, i ) => {\n\t\t\tlet startCode = this.startCode[ i ],\n\t\t\t\tendCode = this.endCode[ i ],\n\t\t\t\tidDelta = this.idDelta[ i ],\n\t\t\t\tidRangeOffset = this.idRangeOffset[ i ],\n\t\t\t\tidRangeOffsetPointer = idRangePosition + 2 * i,\n\t\t\t\tglyphIDs = [];\n\t\t\tif ( idRangeOffset === 0 ) {\n\t\t\t\tfor (\n\t\t\t\t\tlet i = startCode + idDelta, e = endCode + idDelta;\n\t\t\t\t\ti <= e;\n\t\t\t\t\ti++\n\t\t\t\t) {\n\t\t\t\t\tglyphIDs.push( i );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( let i = 0, e = endCode - startCode; i <= e; i++ ) {\n\t\t\t\t\tp.currentPosition =\n\t\t\t\t\t\tidRangeOffsetPointer + idRangeOffset + i * 2;\n\t\t\t\t\tglyphIDs.push( p.uint16 );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tstartCode: startCode,\n\t\t\t\tendCode: endCode,\n\t\t\t\tidDelta: idDelta,\n\t\t\t\tidRangeOffset: idRangeOffset,\n\t\t\t\tglyphIDs: glyphIDs,\n\t\t\t};\n\t\t};\n\t\treturn [ ...new Array( this.segCount ) ].map( build );\n\t}\n\treverse( glyphID ) {\n\t\tlet s = this.segments.find( ( v ) => v.glyphIDs.includes( glyphID ) );\n\t\tif ( ! s ) return {};\n\t\tconst code = s.startCode + s.glyphIDs.indexOf( glyphID );\n\t\treturn { code: code, unicode: String.fromCodePoint( code ) };\n\t}\n\tgetGlyphId( charCode ) {\n\t\tif ( charCode.charCodeAt ) charCode = charCode.charCodeAt( 0 );\n\t\tif ( 55296 <= charCode && charCode <= 57343 ) return 0;\n\t\tif ( ( charCode & 65534 ) === 65534 || ( charCode & 65535 ) === 65535 )\n\t\t\treturn 0;\n\t\tlet segment = this.segments.find(\n\t\t\t( s ) => s.startCode <= charCode && charCode <= s.endCode\n\t\t);\n\t\tif ( ! segment ) return 0;\n\t\treturn segment.glyphIDs[ charCode - segment.startCode ];\n\t}\n\tsupports( charCode ) {\n\t\treturn this.getGlyphId( charCode ) !== 0;\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) return this.segments;\n\t\treturn this.segments.map( ( v ) => ( {\n\t\t\tstart: v.startCode,\n\t\t\tend: v.endCode,\n\t\t} ) );\n\t}\n}\nclass Format6 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 6;\n\t\tthis.length = p.uint16;\n\t\tthis.language = p.uint16;\n\t\tthis.firstCode = p.uint16;\n\t\tthis.entryCount = p.uint16;\n\t\tthis.lastCode = this.firstCode + this.entryCount - 1;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.entryCount ) ].map( ( _ ) => p.uint16 );\n\t\tlazy$1( this, `glyphIdArray`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 6. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\tif ( charCode < this.firstCode ) return {};\n\t\tif ( charCode > this.firstCode + this.entryCount ) return {};\n\t\tconst code = charCode - this.firstCode;\n\t\treturn { code: code, unicode: String.fromCodePoint( code ) };\n\t}\n\treverse( glyphID ) {\n\t\tlet pos = this.glyphIdArray.indexOf( glyphID );\n\t\tif ( pos > -1 ) return this.firstCode + pos;\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) {\n\t\t\treturn [ { firstCode: this.firstCode, lastCode: this.lastCode } ];\n\t\t}\n\t\treturn [ { start: this.firstCode, end: this.lastCode } ];\n\t}\n}\nclass Format8 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 8;\n\t\tp.uint16;\n\t\tthis.length = p.uint32;\n\t\tthis.language = p.uint32;\n\t\tthis.is32 = [ ...new Array( 8192 ) ].map( ( _ ) => p.uint8 );\n\t\tthis.numGroups = p.uint32;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.numGroups ) ].map(\n\t\t\t\t( _ ) => new SequentialMapGroup$1( p )\n\t\t\t);\n\t\tlazy$1( this, `groups`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 8. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\tthis.groups.findIndex(\n\t\t\t\t( s ) =>\n\t\t\t\t\ts.startcharCode <= charCode && charCode <= s.endcharCode\n\t\t\t) !== -1\n\t\t);\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 8` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) return this.groups;\n\t\treturn this.groups.map( ( v ) => ( {\n\t\t\tstart: v.startcharCode,\n\t\t\tend: v.endcharCode,\n\t\t} ) );\n\t}\n}\nclass SequentialMapGroup$1 {\n\tconstructor( p ) {\n\t\tthis.startcharCode = p.uint32;\n\t\tthis.endcharCode = p.uint32;\n\t\tthis.startGlyphID = p.uint32;\n\t}\n}\nclass Format10 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 10;\n\t\tp.uint16;\n\t\tthis.length = p.uint32;\n\t\tthis.language = p.uint32;\n\t\tthis.startCharCode = p.uint32;\n\t\tthis.numChars = p.uint32;\n\t\tthis.endCharCode = this.startCharCode + this.numChars;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.numChars ) ].map( ( _ ) => p.uint16 );\n\t\tlazy$1( this, `glyphs`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) {\n\t\t\tcharCode = -1;\n\t\t\tconsole.warn(\n\t\t\t\t`supports(character) not implemented for cmap subtable format 10. only supports(id) is implemented.`\n\t\t\t);\n\t\t}\n\t\tif ( charCode < this.startCharCode ) return false;\n\t\tif ( charCode > this.startCharCode + this.numChars ) return false;\n\t\treturn charCode - this.startCharCode;\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 10` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tstartCharCode: this.startCharCode,\n\t\t\t\t\tendCharCode: this.endCharCode,\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t\treturn [ { start: this.startCharCode, end: this.endCharCode } ];\n\t}\n}\nclass Format12 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 12;\n\t\tp.uint16;\n\t\tthis.length = p.uint32;\n\t\tthis.language = p.uint32;\n\t\tthis.numGroups = p.uint32;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.numGroups ) ].map(\n\t\t\t\t( _ ) => new SequentialMapGroup( p )\n\t\t\t);\n\t\tlazy$1( this, `groups`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) charCode = charCode.charCodeAt( 0 );\n\t\tif ( 55296 <= charCode && charCode <= 57343 ) return 0;\n\t\tif ( ( charCode & 65534 ) === 65534 || ( charCode & 65535 ) === 65535 )\n\t\t\treturn 0;\n\t\treturn (\n\t\t\tthis.groups.findIndex(\n\t\t\t\t( s ) =>\n\t\t\t\t\ts.startCharCode <= charCode && charCode <= s.endCharCode\n\t\t\t) !== -1\n\t\t);\n\t}\n\treverse( glyphID ) {\n\t\tfor ( let group of this.groups ) {\n\t\t\tlet start = group.startGlyphID;\n\t\t\tif ( start > glyphID ) continue;\n\t\t\tif ( start === glyphID ) return group.startCharCode;\n\t\t\tlet end = start + ( group.endCharCode - group.startCharCode );\n\t\t\tif ( end < glyphID ) continue;\n\t\t\tconst code = group.startCharCode + ( glyphID - start );\n\t\t\treturn { code: code, unicode: String.fromCodePoint( code ) };\n\t\t}\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) return this.groups;\n\t\treturn this.groups.map( ( v ) => ( {\n\t\t\tstart: v.startCharCode,\n\t\t\tend: v.endCharCode,\n\t\t} ) );\n\t}\n}\nclass SequentialMapGroup {\n\tconstructor( p ) {\n\t\tthis.startCharCode = p.uint32;\n\t\tthis.endCharCode = p.uint32;\n\t\tthis.startGlyphID = p.uint32;\n\t}\n}\nclass Format13 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.format = 13;\n\t\tp.uint16;\n\t\tthis.length = p.uint32;\n\t\tthis.language = p.uint32;\n\t\tthis.numGroups = p.uint32;\n\t\tconst getter = [ ...new Array( this.numGroups ) ].map(\n\t\t\t( _ ) => new ConstantMapGroup( p )\n\t\t);\n\t\tlazy$1( this, `groups`, getter );\n\t}\n\tsupports( charCode ) {\n\t\tif ( charCode.charCodeAt ) charCode = charCode.charCodeAt( 0 );\n\t\treturn (\n\t\t\tthis.groups.findIndex(\n\t\t\t\t( s ) =>\n\t\t\t\t\ts.startCharCode <= charCode && charCode <= s.endCharCode\n\t\t\t) !== -1\n\t\t);\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 13` );\n\t\treturn {};\n\t}\n\tgetSupportedCharCodes( preservePropNames = false ) {\n\t\tif ( preservePropNames ) return this.groups;\n\t\treturn this.groups.map( ( v ) => ( {\n\t\t\tstart: v.startCharCode,\n\t\t\tend: v.endCharCode,\n\t\t} ) );\n\t}\n}\nclass ConstantMapGroup {\n\tconstructor( p ) {\n\t\tthis.startCharCode = p.uint32;\n\t\tthis.endCharCode = p.uint32;\n\t\tthis.glyphID = p.uint32;\n\t}\n}\nclass Format14 extends Subtable {\n\tconstructor( p, platformID, encodingID ) {\n\t\tsuper( p, platformID, encodingID );\n\t\tthis.subTableStart = p.currentPosition;\n\t\tthis.format = 14;\n\t\tthis.length = p.uint32;\n\t\tthis.numVarSelectorRecords = p.uint32;\n\t\tlazy$1( this, `varSelectors`, () =>\n\t\t\t[ ...new Array( this.numVarSelectorRecords ) ].map(\n\t\t\t\t( _ ) => new VariationSelector( p )\n\t\t\t)\n\t\t);\n\t}\n\tsupports() {\n\t\tconsole.warn( `supports not implemented for cmap subtable format 14` );\n\t\treturn 0;\n\t}\n\tgetSupportedCharCodes() {\n\t\tconsole.warn(\n\t\t\t`getSupportedCharCodes not implemented for cmap subtable format 14`\n\t\t);\n\t\treturn [];\n\t}\n\treverse( glyphID ) {\n\t\tconsole.warn( `reverse not implemented for cmap subtable format 14` );\n\t\treturn {};\n\t}\n\tsupportsVariation( variation ) {\n\t\tlet v = this.varSelector.find(\n\t\t\t( uvs ) => uvs.varSelector === variation\n\t\t);\n\t\treturn v ? v : false;\n\t}\n\tgetSupportedVariations() {\n\t\treturn this.varSelectors.map( ( v ) => v.varSelector );\n\t}\n}\nclass VariationSelector {\n\tconstructor( p ) {\n\t\tthis.varSelector = p.uint24;\n\t\tthis.defaultUVSOffset = p.Offset32;\n\t\tthis.nonDefaultUVSOffset = p.Offset32;\n\t}\n}\nfunction createSubTable( parser, platformID, encodingID ) {\n\tconst format = parser.uint16;\n\tif ( format === 0 ) return new Format0( parser, platformID, encodingID );\n\tif ( format === 2 ) return new Format2( parser, platformID, encodingID );\n\tif ( format === 4 ) return new Format4( parser, platformID, encodingID );\n\tif ( format === 6 ) return new Format6( parser, platformID, encodingID );\n\tif ( format === 8 ) return new Format8( parser, platformID, encodingID );\n\tif ( format === 10 ) return new Format10( parser, platformID, encodingID );\n\tif ( format === 12 ) return new Format12( parser, platformID, encodingID );\n\tif ( format === 13 ) return new Format13( parser, platformID, encodingID );\n\tif ( format === 14 ) return new Format14( parser, platformID, encodingID );\n\treturn {};\n}\nclass cmap extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numTables = p.uint16;\n\t\tthis.encodingRecords = [ ...new Array( this.numTables ) ].map(\n\t\t\t( _ ) => new EncodingRecord( p, this.tableStart )\n\t\t);\n\t}\n\tgetSubTable( tableID ) {\n\t\treturn this.encodingRecords[ tableID ].table;\n\t}\n\tgetSupportedEncodings() {\n\t\treturn this.encodingRecords.map( ( r ) => ( {\n\t\t\tplatformID: r.platformID,\n\t\t\tencodingId: r.encodingID,\n\t\t} ) );\n\t}\n\tgetSupportedCharCodes( platformID, encodingID ) {\n\t\tconst recordID = this.encodingRecords.findIndex(\n\t\t\t( r ) => r.platformID === platformID && r.encodingID === encodingID\n\t\t);\n\t\tif ( recordID === -1 ) return false;\n\t\tconst subtable = this.getSubTable( recordID );\n\t\treturn subtable.getSupportedCharCodes();\n\t}\n\treverse( glyphid ) {\n\t\tfor ( let i = 0; i < this.numTables; i++ ) {\n\t\t\tlet code = this.getSubTable( i ).reverse( glyphid );\n\t\t\tif ( code ) return code;\n\t\t}\n\t}\n\tgetGlyphId( char ) {\n\t\tlet last = 0;\n\t\tthis.encodingRecords.some( ( _, tableID ) => {\n\t\t\tlet t = this.getSubTable( tableID );\n\t\t\tif ( ! t.getGlyphId ) return false;\n\t\t\tlast = t.getGlyphId( char );\n\t\t\treturn last !== 0;\n\t\t} );\n\t\treturn last;\n\t}\n\tsupports( char ) {\n\t\treturn this.encodingRecords.some( ( _, tableID ) => {\n\t\t\tconst t = this.getSubTable( tableID );\n\t\t\treturn t.supports && t.supports( char ) !== false;\n\t\t} );\n\t}\n\tsupportsVariation( variation ) {\n\t\treturn this.encodingRecords.some( ( _, tableID ) => {\n\t\t\tconst t = this.getSubTable( tableID );\n\t\t\treturn (\n\t\t\t\tt.supportsVariation &&\n\t\t\t\tt.supportsVariation( variation ) !== false\n\t\t\t);\n\t\t} );\n\t}\n}\nclass EncodingRecord {\n\tconstructor( p, tableStart ) {\n\t\tconst platformID = ( this.platformID = p.uint16 );\n\t\tconst encodingID = ( this.encodingID = p.uint16 );\n\t\tconst offset = ( this.offset = p.Offset32 );\n\t\tlazy$1( this, `table`, () => {\n\t\t\tp.currentPosition = tableStart + offset;\n\t\t\treturn createSubTable( p, platformID, encodingID );\n\t\t} );\n\t}\n}\nvar cmap$1 = Object.freeze( { __proto__: null, cmap: cmap } );\nclass head extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.load( {\n\t\t\tmajorVersion: p.uint16,\n\t\t\tminorVersion: p.uint16,\n\t\t\tfontRevision: p.fixed,\n\t\t\tcheckSumAdjustment: p.uint32,\n\t\t\tmagicNumber: p.uint32,\n\t\t\tflags: p.flags( 16 ),\n\t\t\tunitsPerEm: p.uint16,\n\t\t\tcreated: p.longdatetime,\n\t\t\tmodified: p.longdatetime,\n\t\t\txMin: p.int16,\n\t\t\tyMin: p.int16,\n\t\t\txMax: p.int16,\n\t\t\tyMax: p.int16,\n\t\t\tmacStyle: p.flags( 16 ),\n\t\t\tlowestRecPPEM: p.uint16,\n\t\t\tfontDirectionHint: p.uint16,\n\t\t\tindexToLocFormat: p.uint16,\n\t\t\tglyphDataFormat: p.uint16,\n\t\t} );\n\t}\n}\nvar head$1 = Object.freeze( { __proto__: null, head: head } );\nclass hhea extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.ascender = p.fword;\n\t\tthis.descender = p.fword;\n\t\tthis.lineGap = p.fword;\n\t\tthis.advanceWidthMax = p.ufword;\n\t\tthis.minLeftSideBearing = p.fword;\n\t\tthis.minRightSideBearing = p.fword;\n\t\tthis.xMaxExtent = p.fword;\n\t\tthis.caretSlopeRise = p.int16;\n\t\tthis.caretSlopeRun = p.int16;\n\t\tthis.caretOffset = p.int16;\n\t\tp.int16;\n\t\tp.int16;\n\t\tp.int16;\n\t\tp.int16;\n\t\tthis.metricDataFormat = p.int16;\n\t\tthis.numberOfHMetrics = p.uint16;\n\t\tp.verifyLength();\n\t}\n}\nvar hhea$1 = Object.freeze( { __proto__: null, hhea: hhea } );\nclass hmtx extends SimpleTable {\n\tconstructor( dict, dataview, tables ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tconst numberOfHMetrics = tables.hhea.numberOfHMetrics;\n\t\tconst numGlyphs = tables.maxp.numGlyphs;\n\t\tconst metricsStart = p.currentPosition;\n\t\tlazy$1( this, `hMetrics`, () => {\n\t\t\tp.currentPosition = metricsStart;\n\t\t\treturn [ ...new Array( numberOfHMetrics ) ].map(\n\t\t\t\t( _ ) => new LongHorMetric( p.uint16, p.int16 )\n\t\t\t);\n\t\t} );\n\t\tif ( numberOfHMetrics < numGlyphs ) {\n\t\t\tconst lsbStart = metricsStart + numberOfHMetrics * 4;\n\t\t\tlazy$1( this, `leftSideBearings`, () => {\n\t\t\t\tp.currentPosition = lsbStart;\n\t\t\t\treturn [ ...new Array( numGlyphs - numberOfHMetrics ) ].map(\n\t\t\t\t\t( _ ) => p.int16\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\t}\n}\nclass LongHorMetric {\n\tconstructor( w, b ) {\n\t\tthis.advanceWidth = w;\n\t\tthis.lsb = b;\n\t}\n}\nvar hmtx$1 = Object.freeze( { __proto__: null, hmtx: hmtx } );\nclass maxp extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.legacyFixed;\n\t\tthis.numGlyphs = p.uint16;\n\t\tif ( this.version === 1 ) {\n\t\t\tthis.maxPoints = p.uint16;\n\t\t\tthis.maxContours = p.uint16;\n\t\t\tthis.maxCompositePoints = p.uint16;\n\t\t\tthis.maxCompositeContours = p.uint16;\n\t\t\tthis.maxZones = p.uint16;\n\t\t\tthis.maxTwilightPoints = p.uint16;\n\t\t\tthis.maxStorage = p.uint16;\n\t\t\tthis.maxFunctionDefs = p.uint16;\n\t\t\tthis.maxInstructionDefs = p.uint16;\n\t\t\tthis.maxStackElements = p.uint16;\n\t\t\tthis.maxSizeOfInstructions = p.uint16;\n\t\t\tthis.maxComponentElements = p.uint16;\n\t\t\tthis.maxComponentDepth = p.uint16;\n\t\t}\n\t\tp.verifyLength();\n\t}\n}\nvar maxp$1 = Object.freeze( { __proto__: null, maxp: maxp } );\nclass name extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.format = p.uint16;\n\t\tthis.count = p.uint16;\n\t\tthis.stringOffset = p.Offset16;\n\t\tthis.nameRecords = [ ...new Array( this.count ) ].map(\n\t\t\t( _ ) => new NameRecord( p, this )\n\t\t);\n\t\tif ( this.format === 1 ) {\n\t\t\tthis.langTagCount = p.uint16;\n\t\t\tthis.langTagRecords = [ ...new Array( this.langTagCount ) ].map(\n\t\t\t\t( _ ) => new LangTagRecord( p.uint16, p.Offset16 )\n\t\t\t);\n\t\t}\n\t\tthis.stringStart = this.tableStart + this.stringOffset;\n\t}\n\tget( nameID ) {\n\t\tlet record = this.nameRecords.find(\n\t\t\t( record ) => record.nameID === nameID\n\t\t);\n\t\tif ( record ) return record.string;\n\t}\n}\nclass LangTagRecord {\n\tconstructor( length, offset ) {\n\t\tthis.length = length;\n\t\tthis.offset = offset;\n\t}\n}\nclass NameRecord {\n\tconstructor( p, nameTable ) {\n\t\tthis.platformID = p.uint16;\n\t\tthis.encodingID = p.uint16;\n\t\tthis.languageID = p.uint16;\n\t\tthis.nameID = p.uint16;\n\t\tthis.length = p.uint16;\n\t\tthis.offset = p.Offset16;\n\t\tlazy$1( this, `string`, () => {\n\t\t\tp.currentPosition = nameTable.stringStart + this.offset;\n\t\t\treturn decodeString( p, this );\n\t\t} );\n\t}\n}\nfunction decodeString( p, record ) {\n\tconst { platformID: platformID, length: length } = record;\n\tif ( length === 0 ) return ``;\n\tif ( platformID === 0 || platformID === 3 ) {\n\t\tconst str = [];\n\t\tfor ( let i = 0, e = length / 2; i < e; i++ )\n\t\t\tstr[ i ] = String.fromCharCode( p.uint16 );\n\t\treturn str.join( `` );\n\t}\n\tconst bytes = p.readBytes( length );\n\tconst str = [];\n\tbytes.forEach( function ( b, i ) {\n\t\tstr[ i ] = String.fromCharCode( b );\n\t} );\n\treturn str.join( `` );\n}\nvar name$1 = Object.freeze( { __proto__: null, name: name } );\nclass OS2 extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.xAvgCharWidth = p.int16;\n\t\tthis.usWeightClass = p.uint16;\n\t\tthis.usWidthClass = p.uint16;\n\t\tthis.fsType = p.uint16;\n\t\tthis.ySubscriptXSize = p.int16;\n\t\tthis.ySubscriptYSize = p.int16;\n\t\tthis.ySubscriptXOffset = p.int16;\n\t\tthis.ySubscriptYOffset = p.int16;\n\t\tthis.ySuperscriptXSize = p.int16;\n\t\tthis.ySuperscriptYSize = p.int16;\n\t\tthis.ySuperscriptXOffset = p.int16;\n\t\tthis.ySuperscriptYOffset = p.int16;\n\t\tthis.yStrikeoutSize = p.int16;\n\t\tthis.yStrikeoutPosition = p.int16;\n\t\tthis.sFamilyClass = p.int16;\n\t\tthis.panose = [ ...new Array( 10 ) ].map( ( _ ) => p.uint8 );\n\t\tthis.ulUnicodeRange1 = p.flags( 32 );\n\t\tthis.ulUnicodeRange2 = p.flags( 32 );\n\t\tthis.ulUnicodeRange3 = p.flags( 32 );\n\t\tthis.ulUnicodeRange4 = p.flags( 32 );\n\t\tthis.achVendID = p.tag;\n\t\tthis.fsSelection = p.uint16;\n\t\tthis.usFirstCharIndex = p.uint16;\n\t\tthis.usLastCharIndex = p.uint16;\n\t\tthis.sTypoAscender = p.int16;\n\t\tthis.sTypoDescender = p.int16;\n\t\tthis.sTypoLineGap = p.int16;\n\t\tthis.usWinAscent = p.uint16;\n\t\tthis.usWinDescent = p.uint16;\n\t\tif ( this.version === 0 ) return p.verifyLength();\n\t\tthis.ulCodePageRange1 = p.flags( 32 );\n\t\tthis.ulCodePageRange2 = p.flags( 32 );\n\t\tif ( this.version === 1 ) return p.verifyLength();\n\t\tthis.sxHeight = p.int16;\n\t\tthis.sCapHeight = p.int16;\n\t\tthis.usDefaultChar = p.uint16;\n\t\tthis.usBreakChar = p.uint16;\n\t\tthis.usMaxContext = p.uint16;\n\t\tif ( this.version <= 4 ) return p.verifyLength();\n\t\tthis.usLowerOpticalPointSize = p.uint16;\n\t\tthis.usUpperOpticalPointSize = p.uint16;\n\t\tif ( this.version === 5 ) return p.verifyLength();\n\t}\n}\nvar OS2$1 = Object.freeze( { __proto__: null, OS2: OS2 } );\nclass post extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.legacyFixed;\n\t\tthis.italicAngle = p.fixed;\n\t\tthis.underlinePosition = p.fword;\n\t\tthis.underlineThickness = p.fword;\n\t\tthis.isFixedPitch = p.uint32;\n\t\tthis.minMemType42 = p.uint32;\n\t\tthis.maxMemType42 = p.uint32;\n\t\tthis.minMemType1 = p.uint32;\n\t\tthis.maxMemType1 = p.uint32;\n\t\tif ( this.version === 1 || this.version === 3 ) return p.verifyLength();\n\t\tthis.numGlyphs = p.uint16;\n\t\tif ( this.version === 2 ) {\n\t\t\tthis.glyphNameIndex = [ ...new Array( this.numGlyphs ) ].map(\n\t\t\t\t( _ ) => p.uint16\n\t\t\t);\n\t\t\tthis.namesOffset = p.currentPosition;\n\t\t\tthis.glyphNameOffsets = [ 1 ];\n\t\t\tfor ( let i = 0; i < this.numGlyphs; i++ ) {\n\t\t\t\tlet index = this.glyphNameIndex[ i ];\n\t\t\t\tif ( index < macStrings.length ) {\n\t\t\t\t\tthis.glyphNameOffsets.push( this.glyphNameOffsets[ i ] );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet bytelength = p.int8;\n\t\t\t\tp.skip( bytelength );\n\t\t\t\tthis.glyphNameOffsets.push(\n\t\t\t\t\tthis.glyphNameOffsets[ i ] + bytelength + 1\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif ( this.version === 2.5 ) {\n\t\t\tthis.offset = [ ...new Array( this.numGlyphs ) ].map(\n\t\t\t\t( _ ) => p.int8\n\t\t\t);\n\t\t}\n\t}\n\tgetGlyphName( glyphid ) {\n\t\tif ( this.version !== 2 ) {\n\t\t\tconsole.warn(\n\t\t\t\t`post table version ${ this.version } does not support glyph name lookups`\n\t\t\t);\n\t\t\treturn ``;\n\t\t}\n\t\tlet index = this.glyphNameIndex[ glyphid ];\n\t\tif ( index < 258 ) return macStrings[ index ];\n\t\tlet offset = this.glyphNameOffsets[ glyphid ];\n\t\tlet next = this.glyphNameOffsets[ glyphid + 1 ];\n\t\tlet len = next - offset - 1;\n\t\tif ( len === 0 ) return `.notdef.`;\n\t\tthis.parser.currentPosition = this.namesOffset + offset;\n\t\tconst data = this.parser.readBytes(\n\t\t\tlen,\n\t\t\tthis.namesOffset + offset,\n\t\t\t8,\n\t\t\ttrue\n\t\t);\n\t\treturn data.map( ( b ) => String.fromCharCode( b ) ).join( `` );\n\t}\n}\nconst macStrings = [\n\t`.notdef`,\n\t`.null`,\n\t`nonmarkingreturn`,\n\t`space`,\n\t`exclam`,\n\t`quotedbl`,\n\t`numbersign`,\n\t`dollar`,\n\t`percent`,\n\t`ampersand`,\n\t`quotesingle`,\n\t`parenleft`,\n\t`parenright`,\n\t`asterisk`,\n\t`plus`,\n\t`comma`,\n\t`hyphen`,\n\t`period`,\n\t`slash`,\n\t`zero`,\n\t`one`,\n\t`two`,\n\t`three`,\n\t`four`,\n\t`five`,\n\t`six`,\n\t`seven`,\n\t`eight`,\n\t`nine`,\n\t`colon`,\n\t`semicolon`,\n\t`less`,\n\t`equal`,\n\t`greater`,\n\t`question`,\n\t`at`,\n\t`A`,\n\t`B`,\n\t`C`,\n\t`D`,\n\t`E`,\n\t`F`,\n\t`G`,\n\t`H`,\n\t`I`,\n\t`J`,\n\t`K`,\n\t`L`,\n\t`M`,\n\t`N`,\n\t`O`,\n\t`P`,\n\t`Q`,\n\t`R`,\n\t`S`,\n\t`T`,\n\t`U`,\n\t`V`,\n\t`W`,\n\t`X`,\n\t`Y`,\n\t`Z`,\n\t`bracketleft`,\n\t`backslash`,\n\t`bracketright`,\n\t`asciicircum`,\n\t`underscore`,\n\t`grave`,\n\t`a`,\n\t`b`,\n\t`c`,\n\t`d`,\n\t`e`,\n\t`f`,\n\t`g`,\n\t`h`,\n\t`i`,\n\t`j`,\n\t`k`,\n\t`l`,\n\t`m`,\n\t`n`,\n\t`o`,\n\t`p`,\n\t`q`,\n\t`r`,\n\t`s`,\n\t`t`,\n\t`u`,\n\t`v`,\n\t`w`,\n\t`x`,\n\t`y`,\n\t`z`,\n\t`braceleft`,\n\t`bar`,\n\t`braceright`,\n\t`asciitilde`,\n\t`Adieresis`,\n\t`Aring`,\n\t`Ccedilla`,\n\t`Eacute`,\n\t`Ntilde`,\n\t`Odieresis`,\n\t`Udieresis`,\n\t`aacute`,\n\t`agrave`,\n\t`acircumflex`,\n\t`adieresis`,\n\t`atilde`,\n\t`aring`,\n\t`ccedilla`,\n\t`eacute`,\n\t`egrave`,\n\t`ecircumflex`,\n\t`edieresis`,\n\t`iacute`,\n\t`igrave`,\n\t`icircumflex`,\n\t`idieresis`,\n\t`ntilde`,\n\t`oacute`,\n\t`ograve`,\n\t`ocircumflex`,\n\t`odieresis`,\n\t`otilde`,\n\t`uacute`,\n\t`ugrave`,\n\t`ucircumflex`,\n\t`udieresis`,\n\t`dagger`,\n\t`degree`,\n\t`cent`,\n\t`sterling`,\n\t`section`,\n\t`bullet`,\n\t`paragraph`,\n\t`germandbls`,\n\t`registered`,\n\t`copyright`,\n\t`trademark`,\n\t`acute`,\n\t`dieresis`,\n\t`notequal`,\n\t`AE`,\n\t`Oslash`,\n\t`infinity`,\n\t`plusminus`,\n\t`lessequal`,\n\t`greaterequal`,\n\t`yen`,\n\t`mu`,\n\t`partialdiff`,\n\t`summation`,\n\t`product`,\n\t`pi`,\n\t`integral`,\n\t`ordfeminine`,\n\t`ordmasculine`,\n\t`Omega`,\n\t`ae`,\n\t`oslash`,\n\t`questiondown`,\n\t`exclamdown`,\n\t`logicalnot`,\n\t`radical`,\n\t`florin`,\n\t`approxequal`,\n\t`Delta`,\n\t`guillemotleft`,\n\t`guillemotright`,\n\t`ellipsis`,\n\t`nonbreakingspace`,\n\t`Agrave`,\n\t`Atilde`,\n\t`Otilde`,\n\t`OE`,\n\t`oe`,\n\t`endash`,\n\t`emdash`,\n\t`quotedblleft`,\n\t`quotedblright`,\n\t`quoteleft`,\n\t`quoteright`,\n\t`divide`,\n\t`lozenge`,\n\t`ydieresis`,\n\t`Ydieresis`,\n\t`fraction`,\n\t`currency`,\n\t`guilsinglleft`,\n\t`guilsinglright`,\n\t`fi`,\n\t`fl`,\n\t`daggerdbl`,\n\t`periodcentered`,\n\t`quotesinglbase`,\n\t`quotedblbase`,\n\t`perthousand`,\n\t`Acircumflex`,\n\t`Ecircumflex`,\n\t`Aacute`,\n\t`Edieresis`,\n\t`Egrave`,\n\t`Iacute`,\n\t`Icircumflex`,\n\t`Idieresis`,\n\t`Igrave`,\n\t`Oacute`,\n\t`Ocircumflex`,\n\t`apple`,\n\t`Ograve`,\n\t`Uacute`,\n\t`Ucircumflex`,\n\t`Ugrave`,\n\t`dotlessi`,\n\t`circumflex`,\n\t`tilde`,\n\t`macron`,\n\t`breve`,\n\t`dotaccent`,\n\t`ring`,\n\t`cedilla`,\n\t`hungarumlaut`,\n\t`ogonek`,\n\t`caron`,\n\t`Lslash`,\n\t`lslash`,\n\t`Scaron`,\n\t`scaron`,\n\t`Zcaron`,\n\t`zcaron`,\n\t`brokenbar`,\n\t`Eth`,\n\t`eth`,\n\t`Yacute`,\n\t`yacute`,\n\t`Thorn`,\n\t`thorn`,\n\t`minus`,\n\t`multiply`,\n\t`onesuperior`,\n\t`twosuperior`,\n\t`threesuperior`,\n\t`onehalf`,\n\t`onequarter`,\n\t`threequarters`,\n\t`franc`,\n\t`Gbreve`,\n\t`gbreve`,\n\t`Idotaccent`,\n\t`Scedilla`,\n\t`scedilla`,\n\t`Cacute`,\n\t`cacute`,\n\t`Ccaron`,\n\t`ccaron`,\n\t`dcroat`,\n];\nvar post$1 = Object.freeze( { __proto__: null, post: post } );\nclass BASE extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.horizAxisOffset = p.Offset16;\n\t\tthis.vertAxisOffset = p.Offset16;\n\t\tlazy$1(\n\t\t\tthis,\n\t\t\t`horizAxis`,\n\t\t\t() =>\n\t\t\t\tnew AxisTable(\n\t\t\t\t\t{ offset: dict.offset + this.horizAxisOffset },\n\t\t\t\t\tdataview\n\t\t\t\t)\n\t\t);\n\t\tlazy$1(\n\t\t\tthis,\n\t\t\t`vertAxis`,\n\t\t\t() =>\n\t\t\t\tnew AxisTable(\n\t\t\t\t\t{ offset: dict.offset + this.vertAxisOffset },\n\t\t\t\t\tdataview\n\t\t\t\t)\n\t\t);\n\t\tif ( this.majorVersion === 1 && this.minorVersion === 1 ) {\n\t\t\tthis.itemVarStoreOffset = p.Offset32;\n\t\t\tlazy$1(\n\t\t\t\tthis,\n\t\t\t\t`itemVarStore`,\n\t\t\t\t() =>\n\t\t\t\t\tnew AxisTable(\n\t\t\t\t\t\t{ offset: dict.offset + this.itemVarStoreOffset },\n\t\t\t\t\t\tdataview\n\t\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n}\nclass AxisTable extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview, `AxisTable` );\n\t\tthis.baseTagListOffset = p.Offset16;\n\t\tthis.baseScriptListOffset = p.Offset16;\n\t\tlazy$1(\n\t\t\tthis,\n\t\t\t`baseTagList`,\n\t\t\t() =>\n\t\t\t\tnew BaseTagListTable(\n\t\t\t\t\t{ offset: dict.offset + this.baseTagListOffset },\n\t\t\t\t\tdataview\n\t\t\t\t)\n\t\t);\n\t\tlazy$1(\n\t\t\tthis,\n\t\t\t`baseScriptList`,\n\t\t\t() =>\n\t\t\t\tnew BaseScriptListTable(\n\t\t\t\t\t{ offset: dict.offset + this.baseScriptListOffset },\n\t\t\t\t\tdataview\n\t\t\t\t)\n\t\t);\n\t}\n}\nclass BaseTagListTable extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview, `BaseTagListTable` );\n\t\tthis.baseTagCount = p.uint16;\n\t\tthis.baselineTags = [ ...new Array( this.baseTagCount ) ].map(\n\t\t\t( _ ) => p.tag\n\t\t);\n\t}\n}\nclass BaseScriptListTable extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview, `BaseScriptListTable` );\n\t\tthis.baseScriptCount = p.uint16;\n\t\tconst recordStart = p.currentPosition;\n\t\tlazy$1( this, `baseScriptRecords`, () => {\n\t\t\tp.currentPosition = recordStart;\n\t\t\treturn [ ...new Array( this.baseScriptCount ) ].map(\n\t\t\t\t( _ ) => new BaseScriptRecord( this.start, p )\n\t\t\t);\n\t\t} );\n\t}\n}\nclass BaseScriptRecord {\n\tconstructor( baseScriptListTableStart, p ) {\n\t\tthis.baseScriptTag = p.tag;\n\t\tthis.baseScriptOffset = p.Offset16;\n\t\tlazy$1( this, `baseScriptTable`, () => {\n\t\t\tp.currentPosition =\n\t\t\t\tbaseScriptListTableStart + this.baseScriptOffset;\n\t\t\treturn new BaseScriptTable( p );\n\t\t} );\n\t}\n}\nclass BaseScriptTable {\n\tconstructor( p ) {\n\t\tthis.start = p.currentPosition;\n\t\tthis.baseValuesOffset = p.Offset16;\n\t\tthis.defaultMinMaxOffset = p.Offset16;\n\t\tthis.baseLangSysCount = p.uint16;\n\t\tthis.baseLangSysRecords = [ ...new Array( this.baseLangSysCount ) ].map(\n\t\t\t( _ ) => new BaseLangSysRecord( this.start, p )\n\t\t);\n\t\tlazy$1( this, `baseValues`, () => {\n\t\t\tp.currentPosition = this.start + this.baseValuesOffset;\n\t\t\treturn new BaseValuesTable( p );\n\t\t} );\n\t\tlazy$1( this, `defaultMinMax`, () => {\n\t\t\tp.currentPosition = this.start + this.defaultMinMaxOffset;\n\t\t\treturn new MinMaxTable( p );\n\t\t} );\n\t}\n}\nclass BaseLangSysRecord {\n\tconstructor( baseScriptTableStart, p ) {\n\t\tthis.baseLangSysTag = p.tag;\n\t\tthis.minMaxOffset = p.Offset16;\n\t\tlazy$1( this, `minMax`, () => {\n\t\t\tp.currentPosition = baseScriptTableStart + this.minMaxOffset;\n\t\t\treturn new MinMaxTable( p );\n\t\t} );\n\t}\n}\nclass BaseValuesTable {\n\tconstructor( p ) {\n\t\tthis.parser = p;\n\t\tthis.start = p.currentPosition;\n\t\tthis.defaultBaselineIndex = p.uint16;\n\t\tthis.baseCoordCount = p.uint16;\n\t\tthis.baseCoords = [ ...new Array( this.baseCoordCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetTable( id ) {\n\t\tthis.parser.currentPosition = this.start + this.baseCoords[ id ];\n\t\treturn new BaseCoordTable( this.parser );\n\t}\n}\nclass MinMaxTable {\n\tconstructor( p ) {\n\t\tthis.minCoord = p.Offset16;\n\t\tthis.maxCoord = p.Offset16;\n\t\tthis.featMinMaxCount = p.uint16;\n\t\tconst recordStart = p.currentPosition;\n\t\tlazy$1( this, `featMinMaxRecords`, () => {\n\t\t\tp.currentPosition = recordStart;\n\t\t\treturn [ ...new Array( this.featMinMaxCount ) ].map(\n\t\t\t\t( _ ) => new FeatMinMaxRecord( p )\n\t\t\t);\n\t\t} );\n\t}\n}\nclass FeatMinMaxRecord {\n\tconstructor( p ) {\n\t\tthis.featureTableTag = p.tag;\n\t\tthis.minCoord = p.Offset16;\n\t\tthis.maxCoord = p.Offset16;\n\t}\n}\nclass BaseCoordTable {\n\tconstructor( p ) {\n\t\tthis.baseCoordFormat = p.uint16;\n\t\tthis.coordinate = p.int16;\n\t\tif ( this.baseCoordFormat === 2 ) {\n\t\t\tthis.referenceGlyph = p.uint16;\n\t\t\tthis.baseCoordPoint = p.uint16;\n\t\t}\n\t\tif ( this.baseCoordFormat === 3 ) {\n\t\t\tthis.deviceTable = p.Offset16;\n\t\t}\n\t}\n}\nvar BASE$1 = Object.freeze( { __proto__: null, BASE: BASE } );\nclass ClassDefinition {\n\tconstructor( p ) {\n\t\tthis.classFormat = p.uint16;\n\t\tif ( this.classFormat === 1 ) {\n\t\t\tthis.startGlyphID = p.uint16;\n\t\t\tthis.glyphCount = p.uint16;\n\t\t\tthis.classValueArray = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t\t( _ ) => p.uint16\n\t\t\t);\n\t\t}\n\t\tif ( this.classFormat === 2 ) {\n\t\t\tthis.classRangeCount = p.uint16;\n\t\t\tthis.classRangeRecords = [\n\t\t\t\t...new Array( this.classRangeCount ),\n\t\t\t].map( ( _ ) => new ClassRangeRecord( p ) );\n\t\t}\n\t}\n}\nclass ClassRangeRecord {\n\tconstructor( p ) {\n\t\tthis.startGlyphID = p.uint16;\n\t\tthis.endGlyphID = p.uint16;\n\t\tthis.class = p.uint16;\n\t}\n}\nclass CoverageTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.coverageFormat = p.uint16;\n\t\tif ( this.coverageFormat === 1 ) {\n\t\t\tthis.glyphCount = p.uint16;\n\t\t\tthis.glyphArray = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t\t( _ ) => p.uint16\n\t\t\t);\n\t\t}\n\t\tif ( this.coverageFormat === 2 ) {\n\t\t\tthis.rangeCount = p.uint16;\n\t\t\tthis.rangeRecords = [ ...new Array( this.rangeCount ) ].map(\n\t\t\t\t( _ ) => new CoverageRangeRecord( p )\n\t\t\t);\n\t\t}\n\t}\n}\nclass CoverageRangeRecord {\n\tconstructor( p ) {\n\t\tthis.startGlyphID = p.uint16;\n\t\tthis.endGlyphID = p.uint16;\n\t\tthis.startCoverageIndex = p.uint16;\n\t}\n}\nclass ItemVariationStoreTable {\n\tconstructor( table, p ) {\n\t\tthis.table = table;\n\t\tthis.parser = p;\n\t\tthis.start = p.currentPosition;\n\t\tthis.format = p.uint16;\n\t\tthis.variationRegionListOffset = p.Offset32;\n\t\tthis.itemVariationDataCount = p.uint16;\n\t\tthis.itemVariationDataOffsets = [\n\t\t\t...new Array( this.itemVariationDataCount ),\n\t\t].map( ( _ ) => p.Offset32 );\n\t}\n}\nclass GDEF extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.glyphClassDefOffset = p.Offset16;\n\t\tlazy$1( this, `glyphClassDefs`, () => {\n\t\t\tif ( this.glyphClassDefOffset === 0 ) return undefined;\n\t\t\tp.currentPosition = this.tableStart + this.glyphClassDefOffset;\n\t\t\treturn new ClassDefinition( p );\n\t\t} );\n\t\tthis.attachListOffset = p.Offset16;\n\t\tlazy$1( this, `attachList`, () => {\n\t\t\tif ( this.attachListOffset === 0 ) return undefined;\n\t\t\tp.currentPosition = this.tableStart + this.attachListOffset;\n\t\t\treturn new AttachList( p );\n\t\t} );\n\t\tthis.ligCaretListOffset = p.Offset16;\n\t\tlazy$1( this, `ligCaretList`, () => {\n\t\t\tif ( this.ligCaretListOffset === 0 ) return undefined;\n\t\t\tp.currentPosition = this.tableStart + this.ligCaretListOffset;\n\t\t\treturn new LigCaretList( p );\n\t\t} );\n\t\tthis.markAttachClassDefOffset = p.Offset16;\n\t\tlazy$1( this, `markAttachClassDef`, () => {\n\t\t\tif ( this.markAttachClassDefOffset === 0 ) return undefined;\n\t\t\tp.currentPosition = this.tableStart + this.markAttachClassDefOffset;\n\t\t\treturn new ClassDefinition( p );\n\t\t} );\n\t\tif ( this.minorVersion >= 2 ) {\n\t\t\tthis.markGlyphSetsDefOffset = p.Offset16;\n\t\t\tlazy$1( this, `markGlyphSetsDef`, () => {\n\t\t\t\tif ( this.markGlyphSetsDefOffset === 0 ) return undefined;\n\t\t\t\tp.currentPosition =\n\t\t\t\t\tthis.tableStart + this.markGlyphSetsDefOffset;\n\t\t\t\treturn new MarkGlyphSetsTable( p );\n\t\t\t} );\n\t\t}\n\t\tif ( this.minorVersion === 3 ) {\n\t\t\tthis.itemVarStoreOffset = p.Offset32;\n\t\t\tlazy$1( this, `itemVarStore`, () => {\n\t\t\t\tif ( this.itemVarStoreOffset === 0 ) return undefined;\n\t\t\t\tp.currentPosition = this.tableStart + this.itemVarStoreOffset;\n\t\t\t\treturn new ItemVariationStoreTable( p );\n\t\t\t} );\n\t\t}\n\t}\n}\nclass AttachList extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.coverageOffset = p.Offset16;\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.attachPointOffsets = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetPoint( pointID ) {\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.attachPointOffsets[ pointID ];\n\t\treturn new AttachPoint( this.parser );\n\t}\n}\nclass AttachPoint {\n\tconstructor( p ) {\n\t\tthis.pointCount = p.uint16;\n\t\tthis.pointIndices = [ ...new Array( this.pointCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass LigCaretList extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.coverageOffset = p.Offset16;\n\t\tlazy$1( this, `coverage`, () => {\n\t\t\tp.currentPosition = this.start + this.coverageOffset;\n\t\t\treturn new CoverageTable( p );\n\t\t} );\n\t\tthis.ligGlyphCount = p.uint16;\n\t\tthis.ligGlyphOffsets = [ ...new Array( this.ligGlyphCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetLigGlyph( ligGlyphID ) {\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.ligGlyphOffsets[ ligGlyphID ];\n\t\treturn new LigGlyph( this.parser );\n\t}\n}\nclass LigGlyph extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.caretCount = p.uint16;\n\t\tthis.caretValueOffsets = [ ...new Array( this.caretCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetCaretValue( caretID ) {\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.caretValueOffsets[ caretID ];\n\t\treturn new CaretValue( this.parser );\n\t}\n}\nclass CaretValue {\n\tconstructor( p ) {\n\t\tthis.caretValueFormat = p.uint16;\n\t\tif ( this.caretValueFormat === 1 ) {\n\t\t\tthis.coordinate = p.int16;\n\t\t}\n\t\tif ( this.caretValueFormat === 2 ) {\n\t\t\tthis.caretValuePointIndex = p.uint16;\n\t\t}\n\t\tif ( this.caretValueFormat === 3 ) {\n\t\t\tthis.coordinate = p.int16;\n\t\t\tthis.deviceOffset = p.Offset16;\n\t\t}\n\t}\n}\nclass MarkGlyphSetsTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.markGlyphSetTableFormat = p.uint16;\n\t\tthis.markGlyphSetCount = p.uint16;\n\t\tthis.coverageOffsets = [ ...new Array( this.markGlyphSetCount ) ].map(\n\t\t\t( _ ) => p.Offset32\n\t\t);\n\t}\n\tgetMarkGlyphSet( markGlyphSetID ) {\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.coverageOffsets[ markGlyphSetID ];\n\t\treturn new CoverageTable( this.parser );\n\t}\n}\nvar GDEF$1 = Object.freeze( { __proto__: null, GDEF: GDEF } );\nclass ScriptList extends ParsedData {\n\tstatic EMPTY = { scriptCount: 0, scriptRecords: [] };\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.scriptCount = p.uint16;\n\t\tthis.scriptRecords = [ ...new Array( this.scriptCount ) ].map(\n\t\t\t( _ ) => new ScriptRecord( p )\n\t\t);\n\t}\n}\nclass ScriptRecord {\n\tconstructor( p ) {\n\t\tthis.scriptTag = p.tag;\n\t\tthis.scriptOffset = p.Offset16;\n\t}\n}\nclass ScriptTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.defaultLangSys = p.Offset16;\n\t\tthis.langSysCount = p.uint16;\n\t\tthis.langSysRecords = [ ...new Array( this.langSysCount ) ].map(\n\t\t\t( _ ) => new LangSysRecord( p )\n\t\t);\n\t}\n}\nclass LangSysRecord {\n\tconstructor( p ) {\n\t\tthis.langSysTag = p.tag;\n\t\tthis.langSysOffset = p.Offset16;\n\t}\n}\nclass LangSysTable {\n\tconstructor( p ) {\n\t\tthis.lookupOrder = p.Offset16;\n\t\tthis.requiredFeatureIndex = p.uint16;\n\t\tthis.featureIndexCount = p.uint16;\n\t\tthis.featureIndices = [ ...new Array( this.featureIndexCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass FeatureList extends ParsedData {\n\tstatic EMPTY = { featureCount: 0, featureRecords: [] };\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.featureCount = p.uint16;\n\t\tthis.featureRecords = [ ...new Array( this.featureCount ) ].map(\n\t\t\t( _ ) => new FeatureRecord( p )\n\t\t);\n\t}\n}\nclass FeatureRecord {\n\tconstructor( p ) {\n\t\tthis.featureTag = p.tag;\n\t\tthis.featureOffset = p.Offset16;\n\t}\n}\nclass FeatureTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.featureParams = p.Offset16;\n\t\tthis.lookupIndexCount = p.uint16;\n\t\tthis.lookupListIndices = [ ...new Array( this.lookupIndexCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n\tgetFeatureParams() {\n\t\tif ( this.featureParams > 0 ) {\n\t\t\tconst p = this.parser;\n\t\t\tp.currentPosition = this.start + this.featureParams;\n\t\t\tconst tag = this.featureTag;\n\t\t\tif ( tag === `size` ) return new Size( p );\n\t\t\tif ( tag.startsWith( `cc` ) ) return new CharacterVariant( p );\n\t\t\tif ( tag.startsWith( `ss` ) ) return new StylisticSet( p );\n\t\t}\n\t}\n}\nclass CharacterVariant {\n\tconstructor( p ) {\n\t\tthis.format = p.uint16;\n\t\tthis.featUiLabelNameId = p.uint16;\n\t\tthis.featUiTooltipTextNameId = p.uint16;\n\t\tthis.sampleTextNameId = p.uint16;\n\t\tthis.numNamedParameters = p.uint16;\n\t\tthis.firstParamUiLabelNameId = p.uint16;\n\t\tthis.charCount = p.uint16;\n\t\tthis.character = [ ...new Array( this.charCount ) ].map(\n\t\t\t( _ ) => p.uint24\n\t\t);\n\t}\n}\nclass Size {\n\tconstructor( p ) {\n\t\tthis.designSize = p.uint16;\n\t\tthis.subfamilyIdentifier = p.uint16;\n\t\tthis.subfamilyNameID = p.uint16;\n\t\tthis.smallEnd = p.uint16;\n\t\tthis.largeEnd = p.uint16;\n\t}\n}\nclass StylisticSet {\n\tconstructor( p ) {\n\t\tthis.version = p.uint16;\n\t\tthis.UINameID = p.uint16;\n\t}\n}\nfunction undoCoverageOffsetParsing( instance ) {\n\tinstance.parser.currentPosition -= 2;\n\tdelete instance.coverageOffset;\n\tdelete instance.getCoverageTable;\n}\nclass LookupType$1 extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.substFormat = p.uint16;\n\t\tthis.coverageOffset = p.Offset16;\n\t}\n\tgetCoverageTable() {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.coverageOffset;\n\t\treturn new CoverageTable( p );\n\t}\n}\nclass SubstLookupRecord {\n\tconstructor( p ) {\n\t\tthis.glyphSequenceIndex = p.uint16;\n\t\tthis.lookupListIndex = p.uint16;\n\t}\n}\nclass LookupType1$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.deltaGlyphID = p.int16;\n\t}\n}\nclass LookupType2$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.sequenceCount = p.uint16;\n\t\tthis.sequenceOffsets = [ ...new Array( this.sequenceCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetSequence( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.sequenceOffsets[ index ];\n\t\treturn new SequenceTable( p );\n\t}\n}\nclass SequenceTable {\n\tconstructor( p ) {\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.substituteGlyphIDs = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass LookupType3$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.alternateSetCount = p.uint16;\n\t\tthis.alternateSetOffsets = [\n\t\t\t...new Array( this.alternateSetCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t}\n\tgetAlternateSet( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.alternateSetOffsets[ index ];\n\t\treturn new AlternateSetTable( p );\n\t}\n}\nclass AlternateSetTable {\n\tconstructor( p ) {\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.alternateGlyphIDs = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass LookupType4$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.ligatureSetCount = p.uint16;\n\t\tthis.ligatureSetOffsets = [ ...new Array( this.ligatureSetCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetLigatureSet( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.ligatureSetOffsets[ index ];\n\t\treturn new LigatureSetTable( p );\n\t}\n}\nclass LigatureSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.ligatureCount = p.uint16;\n\t\tthis.ligatureOffsets = [ ...new Array( this.ligatureCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetLigature( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.ligatureOffsets[ index ];\n\t\treturn new LigatureTable( p );\n\t}\n}\nclass LigatureTable {\n\tconstructor( p ) {\n\t\tthis.ligatureGlyph = p.uint16;\n\t\tthis.componentCount = p.uint16;\n\t\tthis.componentGlyphIDs = [\n\t\t\t...new Array( this.componentCount - 1 ),\n\t\t].map( ( _ ) => p.uint16 );\n\t}\n}\nclass LookupType5$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tif ( this.substFormat === 1 ) {\n\t\t\tthis.subRuleSetCount = p.uint16;\n\t\t\tthis.subRuleSetOffsets = [\n\t\t\t\t...new Array( this.subRuleSetCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t}\n\t\tif ( this.substFormat === 2 ) {\n\t\t\tthis.classDefOffset = p.Offset16;\n\t\t\tthis.subClassSetCount = p.uint16;\n\t\t\tthis.subClassSetOffsets = [\n\t\t\t\t...new Array( this.subClassSetCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t}\n\t\tif ( this.substFormat === 3 ) {\n\t\t\tundoCoverageOffsetParsing( this );\n\t\t\tthis.glyphCount = p.uint16;\n\t\t\tthis.substitutionCount = p.uint16;\n\t\t\tthis.coverageOffsets = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t\t( _ ) => p.Offset16\n\t\t\t);\n\t\t\tthis.substLookupRecords = [\n\t\t\t\t...new Array( this.substitutionCount ),\n\t\t\t].map( ( _ ) => new SubstLookupRecord( p ) );\n\t\t}\n\t}\n\tgetSubRuleSet( index ) {\n\t\tif ( this.substFormat !== 1 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 5.${ this.substFormat } has no subrule sets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.subRuleSetOffsets[ index ];\n\t\treturn new SubRuleSetTable( p );\n\t}\n\tgetSubClassSet( index ) {\n\t\tif ( this.substFormat !== 2 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 5.${ this.substFormat } has no subclass sets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.subClassSetOffsets[ index ];\n\t\treturn new SubClassSetTable( p );\n\t}\n\tgetCoverageTable( index ) {\n\t\tif ( this.substFormat !== 3 && ! index )\n\t\t\treturn super.getCoverageTable();\n\t\tif ( ! index )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 5.${ this.substFormat } requires an coverage table index.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.coverageOffsets[ index ];\n\t\treturn new CoverageTable( p );\n\t}\n}\nclass SubRuleSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.subRuleCount = p.uint16;\n\t\tthis.subRuleOffsets = [ ...new Array( this.subRuleCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n\tgetSubRule( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.subRuleOffsets[ index ];\n\t\treturn new SubRuleTable( p );\n\t}\n}\nclass SubRuleTable {\n\tconstructor( p ) {\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.substitutionCount = p.uint16;\n\t\tthis.inputSequence = [ ...new Array( this.glyphCount - 1 ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t\tthis.substLookupRecords = [\n\t\t\t...new Array( this.substitutionCount ),\n\t\t].map( ( _ ) => new SubstLookupRecord( p ) );\n\t}\n}\nclass SubClassSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.subClassRuleCount = p.uint16;\n\t\tthis.subClassRuleOffsets = [\n\t\t\t...new Array( this.subClassRuleCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t}\n\tgetSubClass( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.subClassRuleOffsets[ index ];\n\t\treturn new SubClassRuleTable( p );\n\t}\n}\nclass SubClassRuleTable extends SubRuleTable {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t}\n}\nclass LookupType6$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tif ( this.substFormat === 1 ) {\n\t\t\tthis.chainSubRuleSetCount = p.uint16;\n\t\t\tthis.chainSubRuleSetOffsets = [\n\t\t\t\t...new Array( this.chainSubRuleSetCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t}\n\t\tif ( this.substFormat === 2 ) {\n\t\t\tthis.backtrackClassDefOffset = p.Offset16;\n\t\t\tthis.inputClassDefOffset = p.Offset16;\n\t\t\tthis.lookaheadClassDefOffset = p.Offset16;\n\t\t\tthis.chainSubClassSetCount = p.uint16;\n\t\t\tthis.chainSubClassSetOffsets = [\n\t\t\t\t...new Array( this.chainSubClassSetCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t}\n\t\tif ( this.substFormat === 3 ) {\n\t\t\tundoCoverageOffsetParsing( this );\n\t\t\tthis.backtrackGlyphCount = p.uint16;\n\t\t\tthis.backtrackCoverageOffsets = [\n\t\t\t\t...new Array( this.backtrackGlyphCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t\tthis.inputGlyphCount = p.uint16;\n\t\t\tthis.inputCoverageOffsets = [\n\t\t\t\t...new Array( this.inputGlyphCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t\tthis.lookaheadGlyphCount = p.uint16;\n\t\t\tthis.lookaheadCoverageOffsets = [\n\t\t\t\t...new Array( this.lookaheadGlyphCount ),\n\t\t\t].map( ( _ ) => p.Offset16 );\n\t\t\tthis.seqLookupCount = p.uint16;\n\t\t\tthis.seqLookupRecords = [\n\t\t\t\t...new Array( this.substitutionCount ),\n\t\t\t].map( ( _ ) => new SequenceLookupRecord( p ) );\n\t\t}\n\t}\n\tgetChainSubRuleSet( index ) {\n\t\tif ( this.substFormat !== 1 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 6.${ this.substFormat } has no chainsubrule sets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.chainSubRuleSetOffsets[ index ];\n\t\treturn new ChainSubRuleSetTable( p );\n\t}\n\tgetChainSubClassSet( index ) {\n\t\tif ( this.substFormat !== 2 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 6.${ this.substFormat } has no chainsubclass sets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.chainSubClassSetOffsets[ index ];\n\t\treturn new ChainSubClassSetTable( p );\n\t}\n\tgetCoverageFromOffset( offset ) {\n\t\tif ( this.substFormat !== 3 )\n\t\t\tthrow new Error(\n\t\t\t\t`lookup type 6.${ this.substFormat } does not use contextual coverage offsets.`\n\t\t\t);\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + offset;\n\t\treturn new CoverageTable( p );\n\t}\n}\nclass ChainSubRuleSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.chainSubRuleCount = p.uint16;\n\t\tthis.chainSubRuleOffsets = [\n\t\t\t...new Array( this.chainSubRuleCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t}\n\tgetSubRule( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.chainSubRuleOffsets[ index ];\n\t\treturn new ChainSubRuleTable( p );\n\t}\n}\nclass ChainSubRuleTable {\n\tconstructor( p ) {\n\t\tthis.backtrackGlyphCount = p.uint16;\n\t\tthis.backtrackSequence = [\n\t\t\t...new Array( this.backtrackGlyphCount ),\n\t\t].map( ( _ ) => p.uint16 );\n\t\tthis.inputGlyphCount = p.uint16;\n\t\tthis.inputSequence = [ ...new Array( this.inputGlyphCount - 1 ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t\tthis.lookaheadGlyphCount = p.uint16;\n\t\tthis.lookAheadSequence = [\n\t\t\t...new Array( this.lookAheadGlyphCount ),\n\t\t].map( ( _ ) => p.uint16 );\n\t\tthis.substitutionCount = p.uint16;\n\t\tthis.substLookupRecords = [ ...new Array( this.SubstCount ) ].map(\n\t\t\t( _ ) => new SubstLookupRecord( p )\n\t\t);\n\t}\n}\nclass ChainSubClassSetTable extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.chainSubClassRuleCount = p.uint16;\n\t\tthis.chainSubClassRuleOffsets = [\n\t\t\t...new Array( this.chainSubClassRuleCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t}\n\tgetSubClass( index ) {\n\t\tlet p = this.parser;\n\t\tp.currentPosition = this.start + this.chainSubRuleOffsets[ index ];\n\t\treturn new ChainSubClassRuleTable( p );\n\t}\n}\nclass ChainSubClassRuleTable {\n\tconstructor( p ) {\n\t\tthis.backtrackGlyphCount = p.uint16;\n\t\tthis.backtrackSequence = [\n\t\t\t...new Array( this.backtrackGlyphCount ),\n\t\t].map( ( _ ) => p.uint16 );\n\t\tthis.inputGlyphCount = p.uint16;\n\t\tthis.inputSequence = [ ...new Array( this.inputGlyphCount - 1 ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t\tthis.lookaheadGlyphCount = p.uint16;\n\t\tthis.lookAheadSequence = [\n\t\t\t...new Array( this.lookAheadGlyphCount ),\n\t\t].map( ( _ ) => p.uint16 );\n\t\tthis.substitutionCount = p.uint16;\n\t\tthis.substLookupRecords = [\n\t\t\t...new Array( this.substitutionCount ),\n\t\t].map( ( _ ) => new SequenceLookupRecord( p ) );\n\t}\n}\nclass SequenceLookupRecord extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.sequenceIndex = p.uint16;\n\t\tthis.lookupListIndex = p.uint16;\n\t}\n}\nclass LookupType7$1 extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.substFormat = p.uint16;\n\t\tthis.extensionLookupType = p.uint16;\n\t\tthis.extensionOffset = p.Offset32;\n\t}\n}\nclass LookupType8$1 extends LookupType$1 {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.backtrackGlyphCount = p.uint16;\n\t\tthis.backtrackCoverageOffsets = [\n\t\t\t...new Array( this.backtrackGlyphCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t\tthis.lookaheadGlyphCount = p.uint16;\n\t\tthis.lookaheadCoverageOffsets = [\n\t\t\tnew Array( this.lookaheadGlyphCount ),\n\t\t].map( ( _ ) => p.Offset16 );\n\t\tthis.glyphCount = p.uint16;\n\t\tthis.substituteGlyphIDs = [ ...new Array( this.glyphCount ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nvar GSUBtables = {\n\tbuildSubtable: function ( type, p ) {\n\t\tconst subtable = new [\n\t\t\tundefined,\n\t\t\tLookupType1$1,\n\t\t\tLookupType2$1,\n\t\t\tLookupType3$1,\n\t\t\tLookupType4$1,\n\t\t\tLookupType5$1,\n\t\t\tLookupType6$1,\n\t\t\tLookupType7$1,\n\t\t\tLookupType8$1,\n\t\t][ type ]( p );\n\t\tsubtable.type = type;\n\t\treturn subtable;\n\t},\n};\nclass LookupType extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t}\n}\nclass LookupType1 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 1` );\n\t}\n}\nclass LookupType2 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 2` );\n\t}\n}\nclass LookupType3 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 3` );\n\t}\n}\nclass LookupType4 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 4` );\n\t}\n}\nclass LookupType5 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 5` );\n\t}\n}\nclass LookupType6 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 6` );\n\t}\n}\nclass LookupType7 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 7` );\n\t}\n}\nclass LookupType8 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 8` );\n\t}\n}\nclass LookupType9 extends LookupType {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tconsole.log( `lookup type 9` );\n\t}\n}\nvar GPOStables = {\n\tbuildSubtable: function ( type, p ) {\n\t\tconst subtable = new [\n\t\t\tundefined,\n\t\t\tLookupType1,\n\t\t\tLookupType2,\n\t\t\tLookupType3,\n\t\t\tLookupType4,\n\t\t\tLookupType5,\n\t\t\tLookupType6,\n\t\t\tLookupType7,\n\t\t\tLookupType8,\n\t\t\tLookupType9,\n\t\t][ type ]( p );\n\t\tsubtable.type = type;\n\t\treturn subtable;\n\t},\n};\nclass LookupList extends ParsedData {\n\tstatic EMPTY = { lookupCount: 0, lookups: [] };\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.lookupCount = p.uint16;\n\t\tthis.lookups = [ ...new Array( this.lookupCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t}\n}\nclass LookupTable extends ParsedData {\n\tconstructor( p, type ) {\n\t\tsuper( p );\n\t\tthis.ctType = type;\n\t\tthis.lookupType = p.uint16;\n\t\tthis.lookupFlag = p.uint16;\n\t\tthis.subTableCount = p.uint16;\n\t\tthis.subtableOffsets = [ ...new Array( this.subTableCount ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t\tthis.markFilteringSet = p.uint16;\n\t}\n\tget rightToLeft() {\n\t\treturn this.lookupFlag & ( 1 === 1 );\n\t}\n\tget ignoreBaseGlyphs() {\n\t\treturn this.lookupFlag & ( 2 === 2 );\n\t}\n\tget ignoreLigatures() {\n\t\treturn this.lookupFlag & ( 4 === 4 );\n\t}\n\tget ignoreMarks() {\n\t\treturn this.lookupFlag & ( 8 === 8 );\n\t}\n\tget useMarkFilteringSet() {\n\t\treturn this.lookupFlag & ( 16 === 16 );\n\t}\n\tget markAttachmentType() {\n\t\treturn this.lookupFlag & ( 65280 === 65280 );\n\t}\n\tgetSubTable( index ) {\n\t\tconst builder = this.ctType === `GSUB` ? GSUBtables : GPOStables;\n\t\tthis.parser.currentPosition =\n\t\t\tthis.start + this.subtableOffsets[ index ];\n\t\treturn builder.buildSubtable( this.lookupType, this.parser );\n\t}\n}\nclass CommonLayoutTable extends SimpleTable {\n\tconstructor( dict, dataview, name ) {\n\t\tconst { p: p, tableStart: tableStart } = super( dict, dataview, name );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.scriptListOffset = p.Offset16;\n\t\tthis.featureListOffset = p.Offset16;\n\t\tthis.lookupListOffset = p.Offset16;\n\t\tif ( this.majorVersion === 1 && this.minorVersion === 1 ) {\n\t\t\tthis.featureVariationsOffset = p.Offset32;\n\t\t}\n\t\tconst no_content = ! (\n\t\t\tthis.scriptListOffset ||\n\t\t\tthis.featureListOffset ||\n\t\t\tthis.lookupListOffset\n\t\t);\n\t\tlazy$1( this, `scriptList`, () => {\n\t\t\tif ( no_content ) return ScriptList.EMPTY;\n\t\t\tp.currentPosition = tableStart + this.scriptListOffset;\n\t\t\treturn new ScriptList( p );\n\t\t} );\n\t\tlazy$1( this, `featureList`, () => {\n\t\t\tif ( no_content ) return FeatureList.EMPTY;\n\t\t\tp.currentPosition = tableStart + this.featureListOffset;\n\t\t\treturn new FeatureList( p );\n\t\t} );\n\t\tlazy$1( this, `lookupList`, () => {\n\t\t\tif ( no_content ) return LookupList.EMPTY;\n\t\t\tp.currentPosition = tableStart + this.lookupListOffset;\n\t\t\treturn new LookupList( p );\n\t\t} );\n\t\tif ( this.featureVariationsOffset ) {\n\t\t\tlazy$1( this, `featureVariations`, () => {\n\t\t\t\tif ( no_content ) return FeatureVariations.EMPTY;\n\t\t\t\tp.currentPosition = tableStart + this.featureVariationsOffset;\n\t\t\t\treturn new FeatureVariations( p );\n\t\t\t} );\n\t\t}\n\t}\n\tgetSupportedScripts() {\n\t\treturn this.scriptList.scriptRecords.map( ( r ) => r.scriptTag );\n\t}\n\tgetScriptTable( scriptTag ) {\n\t\tlet record = this.scriptList.scriptRecords.find(\n\t\t\t( r ) => r.scriptTag === scriptTag\n\t\t);\n\t\tthis.parser.currentPosition =\n\t\t\tthis.scriptList.start + record.scriptOffset;\n\t\tlet table = new ScriptTable( this.parser );\n\t\ttable.scriptTag = scriptTag;\n\t\treturn table;\n\t}\n\tensureScriptTable( arg ) {\n\t\tif ( typeof arg === 'string' ) {\n\t\t\treturn this.getScriptTable( arg );\n\t\t}\n\t\treturn arg;\n\t}\n\tgetSupportedLangSys( scriptTable ) {\n\t\tscriptTable = this.ensureScriptTable( scriptTable );\n\t\tconst hasDefault = scriptTable.defaultLangSys !== 0;\n\t\tconst supported = scriptTable.langSysRecords.map(\n\t\t\t( l ) => l.langSysTag\n\t\t);\n\t\tif ( hasDefault ) supported.unshift( `dflt` );\n\t\treturn supported;\n\t}\n\tgetDefaultLangSysTable( scriptTable ) {\n\t\tscriptTable = this.ensureScriptTable( scriptTable );\n\t\tlet offset = scriptTable.defaultLangSys;\n\t\tif ( offset !== 0 ) {\n\t\t\tthis.parser.currentPosition = scriptTable.start + offset;\n\t\t\tlet table = new LangSysTable( this.parser );\n\t\t\ttable.langSysTag = ``;\n\t\t\ttable.defaultForScript = scriptTable.scriptTag;\n\t\t\treturn table;\n\t\t}\n\t}\n\tgetLangSysTable( scriptTable, langSysTag = `dflt` ) {\n\t\tif ( langSysTag === `dflt` )\n\t\t\treturn this.getDefaultLangSysTable( scriptTable );\n\t\tscriptTable = this.ensureScriptTable( scriptTable );\n\t\tlet record = scriptTable.langSysRecords.find(\n\t\t\t( l ) => l.langSysTag === langSysTag\n\t\t);\n\t\tthis.parser.currentPosition = scriptTable.start + record.langSysOffset;\n\t\tlet table = new LangSysTable( this.parser );\n\t\ttable.langSysTag = langSysTag;\n\t\treturn table;\n\t}\n\tgetFeatures( langSysTable ) {\n\t\treturn langSysTable.featureIndices.map( ( index ) =>\n\t\t\tthis.getFeature( index )\n\t\t);\n\t}\n\tgetFeature( indexOrTag ) {\n\t\tlet record;\n\t\tif ( parseInt( indexOrTag ) == indexOrTag ) {\n\t\t\trecord = this.featureList.featureRecords[ indexOrTag ];\n\t\t} else {\n\t\t\trecord = this.featureList.featureRecords.find(\n\t\t\t\t( f ) => f.featureTag === indexOrTag\n\t\t\t);\n\t\t}\n\t\tif ( ! record ) return;\n\t\tthis.parser.currentPosition =\n\t\t\tthis.featureList.start + record.featureOffset;\n\t\tlet table = new FeatureTable( this.parser );\n\t\ttable.featureTag = record.featureTag;\n\t\treturn table;\n\t}\n\tgetLookups( featureTable ) {\n\t\treturn featureTable.lookupListIndices.map( ( index ) =>\n\t\t\tthis.getLookup( index )\n\t\t);\n\t}\n\tgetLookup( lookupIndex, type ) {\n\t\tlet lookupOffset = this.lookupList.lookups[ lookupIndex ];\n\t\tthis.parser.currentPosition = this.lookupList.start + lookupOffset;\n\t\treturn new LookupTable( this.parser, type );\n\t}\n}\nclass GSUB extends CommonLayoutTable {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview, `GSUB` );\n\t}\n\tgetLookup( lookupIndex ) {\n\t\treturn super.getLookup( lookupIndex, `GSUB` );\n\t}\n}\nvar GSUB$1 = Object.freeze( { __proto__: null, GSUB: GSUB } );\nclass GPOS extends CommonLayoutTable {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview, `GPOS` );\n\t}\n\tgetLookup( lookupIndex ) {\n\t\treturn super.getLookup( lookupIndex, `GPOS` );\n\t}\n}\nvar GPOS$1 = Object.freeze( { __proto__: null, GPOS: GPOS } );\nclass SVG extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.offsetToSVGDocumentList = p.Offset32;\n\t\tp.currentPosition = this.tableStart + this.offsetToSVGDocumentList;\n\t\tthis.documentList = new SVGDocumentList( p );\n\t}\n}\nclass SVGDocumentList extends ParsedData {\n\tconstructor( p ) {\n\t\tsuper( p );\n\t\tthis.numEntries = p.uint16;\n\t\tthis.documentRecords = [ ...new Array( this.numEntries ) ].map(\n\t\t\t( _ ) => new SVGDocumentRecord( p )\n\t\t);\n\t}\n\tgetDocument( documentID ) {\n\t\tlet record = this.documentRecords[ documentID ];\n\t\tif ( ! record ) return '';\n\t\tlet offset = this.start + record.svgDocOffset;\n\t\tthis.parser.currentPosition = offset;\n\t\treturn this.parser.readBytes( record.svgDocLength );\n\t}\n\tgetDocumentForGlyph( glyphID ) {\n\t\tlet id = this.documentRecords.findIndex(\n\t\t\t( d ) => d.startGlyphID <= glyphID && glyphID <= d.endGlyphID\n\t\t);\n\t\tif ( id === -1 ) return '';\n\t\treturn this.getDocument( id );\n\t}\n}\nclass SVGDocumentRecord {\n\tconstructor( p ) {\n\t\tthis.startGlyphID = p.uint16;\n\t\tthis.endGlyphID = p.uint16;\n\t\tthis.svgDocOffset = p.Offset32;\n\t\tthis.svgDocLength = p.uint32;\n\t}\n}\nvar SVG$1 = Object.freeze( { __proto__: null, SVG: SVG } );\nclass fvar extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.axesArrayOffset = p.Offset16;\n\t\tp.uint16;\n\t\tthis.axisCount = p.uint16;\n\t\tthis.axisSize = p.uint16;\n\t\tthis.instanceCount = p.uint16;\n\t\tthis.instanceSize = p.uint16;\n\t\tconst axisStart = this.tableStart + this.axesArrayOffset;\n\t\tlazy$1( this, `axes`, () => {\n\t\t\tp.currentPosition = axisStart;\n\t\t\treturn [ ...new Array( this.axisCount ) ].map(\n\t\t\t\t( _ ) => new VariationAxisRecord( p )\n\t\t\t);\n\t\t} );\n\t\tconst instanceStart = axisStart + this.axisCount * this.axisSize;\n\t\tlazy$1( this, `instances`, () => {\n\t\t\tlet instances = [];\n\t\t\tfor ( let i = 0; i < this.instanceCount; i++ ) {\n\t\t\t\tp.currentPosition = instanceStart + i * this.instanceSize;\n\t\t\t\tinstances.push(\n\t\t\t\t\tnew InstanceRecord( p, this.axisCount, this.instanceSize )\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn instances;\n\t\t} );\n\t}\n\tgetSupportedAxes() {\n\t\treturn this.axes.map( ( a ) => a.tag );\n\t}\n\tgetAxis( name ) {\n\t\treturn this.axes.find( ( a ) => a.tag === name );\n\t}\n}\nclass VariationAxisRecord {\n\tconstructor( p ) {\n\t\tthis.tag = p.tag;\n\t\tthis.minValue = p.fixed;\n\t\tthis.defaultValue = p.fixed;\n\t\tthis.maxValue = p.fixed;\n\t\tthis.flags = p.flags( 16 );\n\t\tthis.axisNameID = p.uint16;\n\t}\n}\nclass InstanceRecord {\n\tconstructor( p, axisCount, size ) {\n\t\tlet start = p.currentPosition;\n\t\tthis.subfamilyNameID = p.uint16;\n\t\tp.uint16;\n\t\tthis.coordinates = [ ...new Array( axisCount ) ].map(\n\t\t\t( _ ) => p.fixed\n\t\t);\n\t\tif ( p.currentPosition - start < size ) {\n\t\t\tthis.postScriptNameID = p.uint16;\n\t\t}\n\t}\n}\nvar fvar$1 = Object.freeze( { __proto__: null, fvar: fvar } );\nclass cvt extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tconst n = dict.length / 2;\n\t\tlazy$1( this, `items`, () =>\n\t\t\t[ ...new Array( n ) ].map( ( _ ) => p.fword )\n\t\t);\n\t}\n}\nvar cvt$1 = Object.freeze( { __proto__: null, cvt: cvt } );\nclass fpgm extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tlazy$1( this, `instructions`, () =>\n\t\t\t[ ...new Array( dict.length ) ].map( ( _ ) => p.uint8 )\n\t\t);\n\t}\n}\nvar fpgm$1 = Object.freeze( { __proto__: null, fpgm: fpgm } );\nclass gasp extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numRanges = p.uint16;\n\t\tconst getter = () =>\n\t\t\t[ ...new Array( this.numRanges ) ].map(\n\t\t\t\t( _ ) => new GASPRange( p )\n\t\t\t);\n\t\tlazy$1( this, `gaspRanges`, getter );\n\t}\n}\nclass GASPRange {\n\tconstructor( p ) {\n\t\tthis.rangeMaxPPEM = p.uint16;\n\t\tthis.rangeGaspBehavior = p.uint16;\n\t}\n}\nvar gasp$1 = Object.freeze( { __proto__: null, gasp: gasp } );\nclass glyf extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview );\n\t}\n\tgetGlyphData( offset, length ) {\n\t\tthis.parser.currentPosition = this.tableStart + offset;\n\t\treturn this.parser.readBytes( length );\n\t}\n}\nvar glyf$1 = Object.freeze( { __proto__: null, glyf: glyf } );\nclass loca extends SimpleTable {\n\tconstructor( dict, dataview, tables ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tconst n = tables.maxp.numGlyphs + 1;\n\t\tif ( tables.head.indexToLocFormat === 0 ) {\n\t\t\tthis.x2 = true;\n\t\t\tlazy$1( this, `offsets`, () =>\n\t\t\t\t[ ...new Array( n ) ].map( ( _ ) => p.Offset16 )\n\t\t\t);\n\t\t} else {\n\t\t\tlazy$1( this, `offsets`, () =>\n\t\t\t\t[ ...new Array( n ) ].map( ( _ ) => p.Offset32 )\n\t\t\t);\n\t\t}\n\t}\n\tgetGlyphDataOffsetAndLength( glyphID ) {\n\t\tlet offset = this.offsets[ glyphID ] * this.x2 ? 2 : 1;\n\t\tlet nextOffset = this.offsets[ glyphID + 1 ] * this.x2 ? 2 : 1;\n\t\treturn { offset: offset, length: nextOffset - offset };\n\t}\n}\nvar loca$1 = Object.freeze( { __proto__: null, loca: loca } );\nclass prep extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tlazy$1( this, `instructions`, () =>\n\t\t\t[ ...new Array( dict.length ) ].map( ( _ ) => p.uint8 )\n\t\t);\n\t}\n}\nvar prep$1 = Object.freeze( { __proto__: null, prep: prep } );\nclass CFF extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tlazy$1( this, `data`, () => p.readBytes() );\n\t}\n}\nvar CFF$1 = Object.freeze( { __proto__: null, CFF: CFF } );\nclass CFF2 extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tlazy$1( this, `data`, () => p.readBytes() );\n\t}\n}\nvar CFF2$1 = Object.freeze( { __proto__: null, CFF2: CFF2 } );\nclass VORG extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.defaultVertOriginY = p.int16;\n\t\tthis.numVertOriginYMetrics = p.uint16;\n\t\tlazy$1( this, `vertORiginYMetrics`, () =>\n\t\t\t[ ...new Array( this.numVertOriginYMetrics ) ].map(\n\t\t\t\t( _ ) => new VertOriginYMetric( p )\n\t\t\t)\n\t\t);\n\t}\n}\nclass VertOriginYMetric {\n\tconstructor( p ) {\n\t\tthis.glyphIndex = p.uint16;\n\t\tthis.vertOriginY = p.int16;\n\t}\n}\nvar VORG$1 = Object.freeze( { __proto__: null, VORG: VORG } );\nclass BitmapSize {\n\tconstructor( p ) {\n\t\tthis.indexSubTableArrayOffset = p.Offset32;\n\t\tthis.indexTablesSize = p.uint32;\n\t\tthis.numberofIndexSubTables = p.uint32;\n\t\tthis.colorRef = p.uint32;\n\t\tthis.hori = new SbitLineMetrics( p );\n\t\tthis.vert = new SbitLineMetrics( p );\n\t\tthis.startGlyphIndex = p.uint16;\n\t\tthis.endGlyphIndex = p.uint16;\n\t\tthis.ppemX = p.uint8;\n\t\tthis.ppemY = p.uint8;\n\t\tthis.bitDepth = p.uint8;\n\t\tthis.flags = p.int8;\n\t}\n}\nclass BitmapScale {\n\tconstructor( p ) {\n\t\tthis.hori = new SbitLineMetrics( p );\n\t\tthis.vert = new SbitLineMetrics( p );\n\t\tthis.ppemX = p.uint8;\n\t\tthis.ppemY = p.uint8;\n\t\tthis.substitutePpemX = p.uint8;\n\t\tthis.substitutePpemY = p.uint8;\n\t}\n}\nclass SbitLineMetrics {\n\tconstructor( p ) {\n\t\tthis.ascender = p.int8;\n\t\tthis.descender = p.int8;\n\t\tthis.widthMax = p.uint8;\n\t\tthis.caretSlopeNumerator = p.int8;\n\t\tthis.caretSlopeDenominator = p.int8;\n\t\tthis.caretOffset = p.int8;\n\t\tthis.minOriginSB = p.int8;\n\t\tthis.minAdvanceSB = p.int8;\n\t\tthis.maxBeforeBL = p.int8;\n\t\tthis.minAfterBL = p.int8;\n\t\tthis.pad1 = p.int8;\n\t\tthis.pad2 = p.int8;\n\t}\n}\nclass EBLC extends SimpleTable {\n\tconstructor( dict, dataview, name ) {\n\t\tconst { p: p } = super( dict, dataview, name );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.numSizes = p.uint32;\n\t\tlazy$1( this, `bitMapSizes`, () =>\n\t\t\t[ ...new Array( this.numSizes ) ].map(\n\t\t\t\t( _ ) => new BitmapSize( p )\n\t\t\t)\n\t\t);\n\t}\n}\nvar EBLC$1 = Object.freeze( { __proto__: null, EBLC: EBLC } );\nclass EBDT extends SimpleTable {\n\tconstructor( dict, dataview, name ) {\n\t\tconst { p: p } = super( dict, dataview, name );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t}\n}\nvar EBDT$1 = Object.freeze( { __proto__: null, EBDT: EBDT } );\nclass EBSC extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.majorVersion = p.uint16;\n\t\tthis.minorVersion = p.uint16;\n\t\tthis.numSizes = p.uint32;\n\t\tlazy$1( this, `bitmapScales`, () =>\n\t\t\t[ ...new Array( this.numSizes ) ].map(\n\t\t\t\t( _ ) => new BitmapScale( p )\n\t\t\t)\n\t\t);\n\t}\n}\nvar EBSC$1 = Object.freeze( { __proto__: null, EBSC: EBSC } );\nclass CBLC extends EBLC {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview, `CBLC` );\n\t}\n}\nvar CBLC$1 = Object.freeze( { __proto__: null, CBLC: CBLC } );\nclass CBDT extends EBDT {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview, `CBDT` );\n\t}\n}\nvar CBDT$1 = Object.freeze( { __proto__: null, CBDT: CBDT } );\nclass sbix extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.flags = p.flags( 16 );\n\t\tthis.numStrikes = p.uint32;\n\t\tlazy$1( this, `strikeOffsets`, () =>\n\t\t\t[ ...new Array( this.numStrikes ) ].map( ( _ ) => p.Offset32 )\n\t\t);\n\t}\n}\nvar sbix$1 = Object.freeze( { __proto__: null, sbix: sbix } );\nclass COLR extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numBaseGlyphRecords = p.uint16;\n\t\tthis.baseGlyphRecordsOffset = p.Offset32;\n\t\tthis.layerRecordsOffset = p.Offset32;\n\t\tthis.numLayerRecords = p.uint16;\n\t}\n\tgetBaseGlyphRecord( glyphID ) {\n\t\tlet start = this.tableStart + this.baseGlyphRecordsOffset;\n\t\tthis.parser.currentPosition = start;\n\t\tlet first = new BaseGlyphRecord( this.parser );\n\t\tlet firstID = first.gID;\n\t\tlet end = this.tableStart + this.layerRecordsOffset - 6;\n\t\tthis.parser.currentPosition = end;\n\t\tlet last = new BaseGlyphRecord( this.parser );\n\t\tlet lastID = last.gID;\n\t\tif ( firstID === glyphID ) return first;\n\t\tif ( lastID === glyphID ) return last;\n\t\twhile ( true ) {\n\t\t\tif ( start === end ) break;\n\t\t\tlet mid = start + ( end - start ) / 12;\n\t\t\tthis.parser.currentPosition = mid;\n\t\t\tlet middle = new BaseGlyphRecord( this.parser );\n\t\t\tlet midID = middle.gID;\n\t\t\tif ( midID === glyphID ) return middle;\n\t\t\telse if ( midID > glyphID ) {\n\t\t\t\tend = mid;\n\t\t\t} else if ( midID < glyphID ) {\n\t\t\t\tstart = mid;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tgetLayers( glyphID ) {\n\t\tlet record = this.getBaseGlyphRecord( glyphID );\n\t\tthis.parser.currentPosition =\n\t\t\tthis.tableStart +\n\t\t\tthis.layerRecordsOffset +\n\t\t\t4 * record.firstLayerIndex;\n\t\treturn [ ...new Array( record.numLayers ) ].map(\n\t\t\t( _ ) => new LayerRecord( p )\n\t\t);\n\t}\n}\nclass BaseGlyphRecord {\n\tconstructor( p ) {\n\t\tthis.gID = p.uint16;\n\t\tthis.firstLayerIndex = p.uint16;\n\t\tthis.numLayers = p.uint16;\n\t}\n}\nclass LayerRecord {\n\tconstructor( p ) {\n\t\tthis.gID = p.uint16;\n\t\tthis.paletteIndex = p.uint16;\n\t}\n}\nvar COLR$1 = Object.freeze( { __proto__: null, COLR: COLR } );\nclass CPAL extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numPaletteEntries = p.uint16;\n\t\tconst numPalettes = ( this.numPalettes = p.uint16 );\n\t\tthis.numColorRecords = p.uint16;\n\t\tthis.offsetFirstColorRecord = p.Offset32;\n\t\tthis.colorRecordIndices = [ ...new Array( this.numPalettes ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t\tlazy$1( this, `colorRecords`, () => {\n\t\t\tp.currentPosition = this.tableStart + this.offsetFirstColorRecord;\n\t\t\treturn [ ...new Array( this.numColorRecords ) ].map(\n\t\t\t\t( _ ) => new ColorRecord( p )\n\t\t\t);\n\t\t} );\n\t\tif ( this.version === 1 ) {\n\t\t\tthis.offsetPaletteTypeArray = p.Offset32;\n\t\t\tthis.offsetPaletteLabelArray = p.Offset32;\n\t\t\tthis.offsetPaletteEntryLabelArray = p.Offset32;\n\t\t\tlazy$1( this, `paletteTypeArray`, () => {\n\t\t\t\tp.currentPosition =\n\t\t\t\t\tthis.tableStart + this.offsetPaletteTypeArray;\n\t\t\t\treturn new PaletteTypeArray( p, numPalettes );\n\t\t\t} );\n\t\t\tlazy$1( this, `paletteLabelArray`, () => {\n\t\t\t\tp.currentPosition =\n\t\t\t\t\tthis.tableStart + this.offsetPaletteLabelArray;\n\t\t\t\treturn new PaletteLabelsArray( p, numPalettes );\n\t\t\t} );\n\t\t\tlazy$1( this, `paletteEntryLabelArray`, () => {\n\t\t\t\tp.currentPosition =\n\t\t\t\t\tthis.tableStart + this.offsetPaletteEntryLabelArray;\n\t\t\t\treturn new PaletteEntryLabelArray( p, numPalettes );\n\t\t\t} );\n\t\t}\n\t}\n}\nclass ColorRecord {\n\tconstructor( p ) {\n\t\tthis.blue = p.uint8;\n\t\tthis.green = p.uint8;\n\t\tthis.red = p.uint8;\n\t\tthis.alpha = p.uint8;\n\t}\n}\nclass PaletteTypeArray {\n\tconstructor( p, numPalettes ) {\n\t\tthis.paletteTypes = [ ...new Array( numPalettes ) ].map(\n\t\t\t( _ ) => p.uint32\n\t\t);\n\t}\n}\nclass PaletteLabelsArray {\n\tconstructor( p, numPalettes ) {\n\t\tthis.paletteLabels = [ ...new Array( numPalettes ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nclass PaletteEntryLabelArray {\n\tconstructor( p, numPalettes ) {\n\t\tthis.paletteEntryLabels = [ ...new Array( numPalettes ) ].map(\n\t\t\t( _ ) => p.uint16\n\t\t);\n\t}\n}\nvar CPAL$1 = Object.freeze( { __proto__: null, CPAL: CPAL } );\nclass DSIG extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint32;\n\t\tthis.numSignatures = p.uint16;\n\t\tthis.flags = p.uint16;\n\t\tthis.signatureRecords = [ ...new Array( this.numSignatures ) ].map(\n\t\t\t( _ ) => new SignatureRecord( p )\n\t\t);\n\t}\n\tgetData( signatureID ) {\n\t\tconst record = this.signatureRecords[ signatureID ];\n\t\tthis.parser.currentPosition = this.tableStart + record.offset;\n\t\treturn new SignatureBlockFormat1( this.parser );\n\t}\n}\nclass SignatureRecord {\n\tconstructor( p ) {\n\t\tthis.format = p.uint32;\n\t\tthis.length = p.uint32;\n\t\tthis.offset = p.Offset32;\n\t}\n}\nclass SignatureBlockFormat1 {\n\tconstructor( p ) {\n\t\tp.uint16;\n\t\tp.uint16;\n\t\tthis.signatureLength = p.uint32;\n\t\tthis.signature = p.readBytes( this.signatureLength );\n\t}\n}\nvar DSIG$1 = Object.freeze( { __proto__: null, DSIG: DSIG } );\nclass hdmx extends SimpleTable {\n\tconstructor( dict, dataview, tables ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tconst numGlyphs = tables.hmtx.numGlyphs;\n\t\tthis.version = p.uint16;\n\t\tthis.numRecords = p.int16;\n\t\tthis.sizeDeviceRecord = p.int32;\n\t\tthis.records = [ ...new Array( numRecords ) ].map(\n\t\t\t( _ ) => new DeviceRecord( p, numGlyphs )\n\t\t);\n\t}\n}\nclass DeviceRecord {\n\tconstructor( p, numGlyphs ) {\n\t\tthis.pixelSize = p.uint8;\n\t\tthis.maxWidth = p.uint8;\n\t\tthis.widths = p.readBytes( numGlyphs );\n\t}\n}\nvar hdmx$1 = Object.freeze( { __proto__: null, hdmx: hdmx } );\nclass kern extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.nTables = p.uint16;\n\t\tlazy$1( this, `tables`, () => {\n\t\t\tlet offset = this.tableStart + 4;\n\t\t\tconst tables = [];\n\t\t\tfor ( let i = 0; i < this.nTables; i++ ) {\n\t\t\t\tp.currentPosition = offset;\n\t\t\t\tlet subtable = new KernSubTable( p );\n\t\t\t\ttables.push( subtable );\n\t\t\t\toffset += subtable;\n\t\t\t}\n\t\t\treturn tables;\n\t\t} );\n\t}\n}\nclass KernSubTable {\n\tconstructor( p ) {\n\t\tthis.version = p.uint16;\n\t\tthis.length = p.uint16;\n\t\tthis.coverage = p.flags( 8 );\n\t\tthis.format = p.uint8;\n\t\tif ( this.format === 0 ) {\n\t\t\tthis.nPairs = p.uint16;\n\t\t\tthis.searchRange = p.uint16;\n\t\t\tthis.entrySelector = p.uint16;\n\t\t\tthis.rangeShift = p.uint16;\n\t\t\tlazy$1( this, `pairs`, () =>\n\t\t\t\t[ ...new Array( this.nPairs ) ].map( ( _ ) => new Pair( p ) )\n\t\t\t);\n\t\t}\n\t\tif ( this.format === 2 ) {\n\t\t\tconsole.warn(\n\t\t\t\t`Kern subtable format 2 is not supported: this parser currently only parses universal table data.`\n\t\t\t);\n\t\t}\n\t}\n\tget horizontal() {\n\t\treturn this.coverage[ 0 ];\n\t}\n\tget minimum() {\n\t\treturn this.coverage[ 1 ];\n\t}\n\tget crossstream() {\n\t\treturn this.coverage[ 2 ];\n\t}\n\tget override() {\n\t\treturn this.coverage[ 3 ];\n\t}\n}\nclass Pair {\n\tconstructor( p ) {\n\t\tthis.left = p.uint16;\n\t\tthis.right = p.uint16;\n\t\tthis.value = p.fword;\n\t}\n}\nvar kern$1 = Object.freeze( { __proto__: null, kern: kern } );\nclass LTSH extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numGlyphs = p.uint16;\n\t\tthis.yPels = p.readBytes( this.numGlyphs );\n\t}\n}\nvar LTSH$1 = Object.freeze( { __proto__: null, LTSH: LTSH } );\nclass MERG extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.mergeClassCount = p.uint16;\n\t\tthis.mergeDataOffset = p.Offset16;\n\t\tthis.classDefCount = p.uint16;\n\t\tthis.offsetToClassDefOffsets = p.Offset16;\n\t\tlazy$1( this, `mergeEntryMatrix`, () =>\n\t\t\t[ ...new Array( this.mergeClassCount ) ].map( ( _ ) =>\n\t\t\t\tp.readBytes( this.mergeClassCount )\n\t\t\t)\n\t\t);\n\t\tconsole.warn( `Full MERG parsing is currently not supported.` );\n\t\tconsole.warn(\n\t\t\t`If you need this table parsed, please file an issue, or better yet, a PR.`\n\t\t);\n\t}\n}\nvar MERG$1 = Object.freeze( { __proto__: null, MERG: MERG } );\nclass meta extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint32;\n\t\tthis.flags = p.uint32;\n\t\tp.uint32;\n\t\tthis.dataMapsCount = p.uint32;\n\t\tthis.dataMaps = [ ...new Array( this.dataMapsCount ) ].map(\n\t\t\t( _ ) => new DataMap( this.tableStart, p )\n\t\t);\n\t}\n}\nclass DataMap {\n\tconstructor( tableStart, p ) {\n\t\tthis.tableStart = tableStart;\n\t\tthis.parser = p;\n\t\tthis.tag = p.tag;\n\t\tthis.dataOffset = p.Offset32;\n\t\tthis.dataLength = p.uint32;\n\t}\n\tgetData() {\n\t\tthis.parser.currentField = this.tableStart + this.dataOffset;\n\t\treturn this.parser.readBytes( this.dataLength );\n\t}\n}\nvar meta$1 = Object.freeze( { __proto__: null, meta: meta } );\nclass PCLT extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tsuper( dict, dataview );\n\t\tconsole.warn(\n\t\t\t`This font uses a PCLT table, which is currently not supported by this parser.`\n\t\t);\n\t\tconsole.warn(\n\t\t\t`If you need this table parsed, please file an issue, or better yet, a PR.`\n\t\t);\n\t}\n}\nvar PCLT$1 = Object.freeze( { __proto__: null, PCLT: PCLT } );\nclass VDMX extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.uint16;\n\t\tthis.numRecs = p.uint16;\n\t\tthis.numRatios = p.uint16;\n\t\tthis.ratRanges = [ ...new Array( this.numRatios ) ].map(\n\t\t\t( _ ) => new RatioRange( p )\n\t\t);\n\t\tthis.offsets = [ ...new Array( this.numRatios ) ].map(\n\t\t\t( _ ) => p.Offset16\n\t\t);\n\t\tthis.VDMXGroups = [ ...new Array( this.numRecs ) ].map(\n\t\t\t( _ ) => new VDMXGroup( p )\n\t\t);\n\t}\n}\nclass RatioRange {\n\tconstructor( p ) {\n\t\tthis.bCharSet = p.uint8;\n\t\tthis.xRatio = p.uint8;\n\t\tthis.yStartRatio = p.uint8;\n\t\tthis.yEndRatio = p.uint8;\n\t}\n}\nclass VDMXGroup {\n\tconstructor( p ) {\n\t\tthis.recs = p.uint16;\n\t\tthis.startsz = p.uint8;\n\t\tthis.endsz = p.uint8;\n\t\tthis.records = [ ...new Array( this.recs ) ].map(\n\t\t\t( _ ) => new vTable( p )\n\t\t);\n\t}\n}\nclass vTable {\n\tconstructor( p ) {\n\t\tthis.yPelHeight = p.uint16;\n\t\tthis.yMax = p.int16;\n\t\tthis.yMin = p.int16;\n\t}\n}\nvar VDMX$1 = Object.freeze( { __proto__: null, VDMX: VDMX } );\nclass vhea extends SimpleTable {\n\tconstructor( dict, dataview ) {\n\t\tconst { p: p } = super( dict, dataview );\n\t\tthis.version = p.fixed;\n\t\tthis.ascent = this.vertTypoAscender = p.int16;\n\t\tthis.descent = this.vertTypoDescender = p.int16;\n\t\tthis.lineGap = this.vertTypoLineGap = p.int16;\n\t\tthis.advanceHeightMax = p.int16;\n\t\tthis.minTopSideBearing = p.int16;\n\t\tthis.minBottomSideBearing = p.int16;\n\t\tthis.yMaxExtent = p.int16;\n\t\tthis.caretSlopeRise = p.int16;\n\t\tthis.caretSlopeRun = p.int16;\n\t\tthis.caretOffset = p.int16;\n\t\tthis.reserved = p.int16;\n\t\tthis.reserved = p.int16;\n\t\tthis.reserved = p.int16;\n\t\tthis.reserved = p.int16;\n\t\tthis.metricDataFormat = p.int16;\n\t\tthis.numOfLongVerMetrics = p.uint16;\n\t\tp.verifyLength();\n\t}\n}\nvar vhea$1 = Object.freeze( { __proto__: null, vhea: vhea } );\nclass vmtx extends SimpleTable {\n\tconstructor( dict, dataview, tables ) {\n\t\tsuper( dict, dataview );\n\t\tconst numOfLongVerMetrics = tables.vhea.numOfLongVerMetrics;\n\t\tconst numGlyphs = tables.maxp.numGlyphs;\n\t\tconst metricsStart = p.currentPosition;\n\t\tlazy( this, `vMetrics`, () => {\n\t\t\tp.currentPosition = metricsStart;\n\t\t\treturn [ ...new Array( numOfLongVerMetrics ) ].map(\n\t\t\t\t( _ ) => new LongVertMetric( p.uint16, p.int16 )\n\t\t\t);\n\t\t} );\n\t\tif ( numOfLongVerMetrics < numGlyphs ) {\n\t\t\tconst tsbStart = metricsStart + numOfLongVerMetrics * 4;\n\t\t\tlazy( this, `topSideBearings`, () => {\n\t\t\t\tp.currentPosition = tsbStart;\n\t\t\t\treturn [ ...new Array( numGlyphs - numOfLongVerMetrics ) ].map(\n\t\t\t\t\t( _ ) => p.int16\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\t}\n}\nclass LongVertMetric {\n\tconstructor( h, b ) {\n\t\tthis.advanceHeight = h;\n\t\tthis.topSideBearing = b;\n\t}\n}\nvar vmtx$1 = Object.freeze( { __proto__: null, vmtx: vmtx } );\nexport { Font };\n/* eslint-enable */\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\nimport type { FontFamily, FontFace } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { kebabCase } = unlock( componentsPrivateApis );\n\nexport default function makeFamiliesFromFaces(\n\tfontFaces: FontFace[]\n): FontFamily[] {\n\tconst fontFamiliesObject = fontFaces.reduce(\n\t\t( acc: Record< string, FontFamily >, item: FontFace ) => {\n\t\t\tif ( ! acc[ item.fontFamily ] ) {\n\t\t\t\tacc[ item.fontFamily ] = {\n\t\t\t\t\tname: item.fontFamily,\n\t\t\t\t\tfontFamily: item.fontFamily,\n\t\t\t\t\tslug: kebabCase( item.fontFamily.toLowerCase() ),\n\t\t\t\t\tfontFace: [],\n\t\t\t\t};\n\t\t\t}\n\t\t\t// @ts-expect-error\n\t\t\tacc[ item.fontFamily ].fontFace.push( item );\n\t\t\treturn acc;\n\t\t},\n\t\t{}\n\t);\n\treturn Object.values( fontFamiliesObject ) as FontFamily[];\n}\n", "/**\n * WordPress dependencies\n */\nimport { _n, sprintf } from '@wordpress/i18n';\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalItem as Item,\n\tFlexItem,\n} from '@wordpress/components';\nimport { useContext } from '@wordpress/element';\nimport type { FontFamily } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { FontLibraryContext } from './font-library/context';\nimport { getFamilyPreviewStyle } from './font-library/utils/preview-styles';\n\ninterface FontFamilyItemProps {\n\tfont: FontFamily;\n}\n\nfunction FontFamilyItem( { font }: FontFamilyItemProps ) {\n\tconst { handleSetLibraryFontSelected, setModalTabOpen } =\n\t\tuseContext( FontLibraryContext );\n\n\tconst variantsCount = font?.fontFace?.length || 1;\n\n\tconst handleClick = () => {\n\t\thandleSetLibraryFontSelected?.( font );\n\t\tsetModalTabOpen?.( 'installed-fonts' );\n\t};\n\n\tconst previewStyle = getFamilyPreviewStyle( font );\n\n\treturn (\n\t\t<Item onClick={ handleClick }>\n\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t<FlexItem style={ previewStyle }>{ font.name }</FlexItem>\n\t\t\t\t<FlexItem className=\"global-styles-ui-screen-typography__font-variants-count\">\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %d: Number of font variants. */\n\t\t\t\t\t\t_n( '%d variant', '%d variants', variantsCount ),\n\t\t\t\t\t\tvariantsCount\n\t\t\t\t\t) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</Item>\n\t);\n}\n\nexport default FontFamilyItem;\n", "/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n} from '@wordpress/components';\nimport { Icon, chevronLeft, chevronRight } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from '../subtitle';\nimport { NavigationButtonAsItem } from '../navigation-button';\n\nfunction FontSizes() {\n\treturn (\n\t\t<VStack spacing={ 2 }>\n\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t<Subtitle level={ 3 }>{ __( 'Font Sizes' ) }</Subtitle>\n\t\t\t</HStack>\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t<NavigationButtonAsItem path=\"/typography/font-sizes\">\n\t\t\t\t\t<HStack direction=\"row\">\n\t\t\t\t\t\t<FlexItem>{ __( 'Font size presets' ) }</FlexItem>\n\t\t\t\t\t\t<Icon icon={ isRTL() ? chevronLeft : chevronRight } />\n\t\t\t\t\t</HStack>\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t</ItemGroup>\n\t\t</VStack>\n\t);\n}\n\nexport default FontSizes;\n", "/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalSpacer as Spacer,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport TypographyPanel from './typography-panel';\nimport { ScreenHeader } from './screen-header';\nimport TypographyPreview from './typography-preview';\n\nconst elements = {\n\ttext: {\n\t\tdescription: __( 'Manage the fonts used on the site.' ),\n\t\ttitle: __( 'Text' ),\n\t},\n\tlink: {\n\t\tdescription: __( 'Manage the fonts and typography used on the links.' ),\n\t\ttitle: __( 'Links' ),\n\t},\n\theading: {\n\t\tdescription: __( 'Manage the fonts and typography used on headings.' ),\n\t\ttitle: __( 'Headings' ),\n\t},\n\tcaption: {\n\t\tdescription: __( 'Manage the fonts and typography used on captions.' ),\n\t\ttitle: __( 'Captions' ),\n\t},\n\tbutton: {\n\t\tdescription: __( 'Manage the fonts and typography used on buttons.' ),\n\t\ttitle: __( 'Buttons' ),\n\t},\n};\n\ninterface ScreenTypographyElementProps {\n\telement: keyof typeof elements;\n}\n\nfunction ScreenTypographyElement( { element }: ScreenTypographyElementProps ) {\n\tconst [ headingLevel, setHeadingLevel ] = useState( 'heading' );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ elements[ element ].title }\n\t\t\t\tdescription={ elements[ element ].description }\n\t\t\t/>\n\t\t\t<Spacer marginX={ 4 }>\n\t\t\t\t<TypographyPreview\n\t\t\t\t\telement={ element }\n\t\t\t\t\theadingLevel={ headingLevel }\n\t\t\t\t/>\n\t\t\t</Spacer>\n\t\t\t{ element === 'heading' && (\n\t\t\t\t<Spacer marginX={ 4 } marginBottom=\"1em\">\n\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\tlabel={ __( 'Select heading level' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ headingLevel }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetHeadingLevel( value as string )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"heading\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'All headings' ) }\n\t\t\t\t\t\t\tlabel={ _x( 'All', 'heading levels' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h1\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 1' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H1' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h2\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 2' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H2' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h3\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 3' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H3' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h4\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 4' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H4' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h5\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 5' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H5' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h6\"\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\taria-label={ __( 'Heading 6' ) }\n\t\t\t\t\t\t\tlabel={ __( 'H6' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t</Spacer>\n\t\t\t) }\n\t\t\t<TypographyPanel\n\t\t\t\telement={ element }\n\t\t\t\theadingLevel={ headingLevel }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenTypographyElement;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useSettingsForBlockElement, TypographyPanel: StylesTypographyPanel } =\n\tunlock( blockEditorPrivateApis );\n\ninterface TypographyPanelProps {\n\telement: string;\n\theadingLevel: string;\n}\n\nexport default function TypographyPanel( {\n\telement,\n\theadingLevel,\n}: TypographyPanelProps ) {\n\tlet prefixParts: string[] = [];\n\tif ( element === 'heading' ) {\n\t\tprefixParts = prefixParts.concat( [ 'elements', headingLevel ] );\n\t} else if ( element && element !== 'text' ) {\n\t\tprefixParts = prefixParts.concat( [ 'elements', element ] );\n\t}\n\tconst prefix = prefixParts.join( '.' );\n\n\tconst [ style ] = useStyle( prefix, '', 'user', false );\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\tprefix,\n\t\t'',\n\t\t'merged',\n\t\tfalse\n\t);\n\tconst [ rawSettings ] = useSetting( '' );\n\tconst usedElement = element === 'heading' ? headingLevel : element;\n\tconst settings = useSettingsForBlockElement(\n\t\trawSettings,\n\t\tundefined,\n\t\tusedElement\n\t);\n\n\treturn (\n\t\t<StylesTypographyPanel\n\t\t\tinheritedValue={ inheritedStyle }\n\t\t\tvalue={ style }\n\t\t\tonChange={ setStyle }\n\t\t\tsettings={ settings }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\n\ninterface TypographyPreviewProps {\n\tname?: string;\n\telement: string;\n\theadingLevel: string;\n}\n\nexport default function TypographyPreview( {\n\tname,\n\telement,\n\theadingLevel,\n}: TypographyPreviewProps ) {\n\tlet prefix = '';\n\tif ( element === 'heading' ) {\n\t\tprefix = `elements.${ headingLevel }.`;\n\t} else if ( element && element !== 'text' ) {\n\t\tprefix = `elements.${ element }.`;\n\t}\n\n\tconst [ fontFamily ] = useStyle( prefix + 'typography.fontFamily', name );\n\tconst [ gradientValue ] = useStyle( prefix + 'color.gradient', name );\n\tconst [ backgroundColor ] = useStyle( prefix + 'color.background', name );\n\tconst [ fallbackBackgroundColor ] = useStyle( 'color.background' );\n\tconst [ color ] = useStyle( prefix + 'color.text', name );\n\tconst [ fontSize ] = useStyle( prefix + 'typography.fontSize', name );\n\tconst [ fontStyle ] = useStyle( prefix + 'typography.fontStyle', name );\n\tconst [ fontWeight ] = useStyle( prefix + 'typography.fontWeight', name );\n\tconst [ letterSpacing ] = useStyle(\n\t\tprefix + 'typography.letterSpacing',\n\t\tname\n\t);\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"global-styles-ui-typography-preview\"\n\t\t\tstyle={ {\n\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\tbackground:\n\t\t\t\t\tgradientValue ?? backgroundColor ?? fallbackBackgroundColor,\n\t\t\t\tcolor,\n\t\t\t\tfontSize,\n\t\t\t\tfontStyle,\n\t\t\t\tfontWeight,\n\t\t\t\tletterSpacing,\n\t\t\t\t...extraStyles,\n\t\t\t} }\n\t\t>\n\t\t\tAa\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport type {\n\tGlobalStylesStyles,\n\tGlobalStylesSettings,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport { ScreenBody } from './screen-body';\nimport Palette from './palette';\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useSettingsForBlockElement, ColorPanel: StylesColorPanel } = unlock(\n\tblockEditorPrivateApis\n);\n\nfunction ScreenColors() {\n\t// Get user styles for editing\n\tconst [ style, setStyle ] = useStyle< GlobalStylesStyles >(\n\t\t'',\n\t\tundefined,\n\t\t'user',\n\t\tfalse\n\t);\n\t// Get inherited styles for display\n\tconst [ inheritedStyle ] = useStyle< GlobalStylesStyles >(\n\t\t'',\n\t\tundefined,\n\t\t'merged',\n\t\tfalse\n\t);\n\t// Get settings for the color panel\n\tconst [ rawSettings ] = useSetting< GlobalStylesSettings >( '' );\n\tconst settings = useSettingsForBlockElement( rawSettings );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Colors' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Palette colors and the application of those colors on site elements.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ScreenBody>\n\t\t\t\t<VStack spacing={ 7 }>\n\t\t\t\t\t<Palette />\n\t\t\t\t</VStack>\n\t\t\t</ScreenBody>\n\t\t\t<StylesColorPanel\n\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\tvalue={ style }\n\t\t\t\tonChange={ setStyle }\n\t\t\t\tsettings={ settings }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenColors;\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n\t__experimentalZStack as ZStack,\n\t__experimentalVStack as VStack,\n\tColorIndicator,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { Icon, chevronLeft, chevronRight } from '@wordpress/icons';\nimport { useMemo } from '@wordpress/element';\nimport type { Color } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport ColorIndicatorWrapper from './color-indicator-wrapper';\nimport { useSetting } from './hooks';\n\nconst EMPTY_COLORS: Color[] = [];\n\ninterface PaletteProps {\n\tname?: string;\n}\n\nfunction Palette( { name }: PaletteProps ) {\n\tconst [ customColors ] = useSetting< Color[] >( 'color.palette.custom' );\n\tconst [ themeColors ] = useSetting< Color[] >( 'color.palette.theme' );\n\tconst [ defaultColors ] = useSetting< Color[] >( 'color.palette.default' );\n\tconst [ defaultPaletteEnabled ] = useSetting< boolean >(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\n\tconst safeCustomColors = customColors || EMPTY_COLORS;\n\tconst safeThemeColors = themeColors || EMPTY_COLORS;\n\tconst safeDefaultColors = defaultColors || EMPTY_COLORS;\n\tconst safeDefaultPaletteEnabled = defaultPaletteEnabled ?? true;\n\n\tconst colors = useMemo(\n\t\t() => [\n\t\t\t...safeCustomColors,\n\t\t\t...safeThemeColors,\n\t\t\t...( safeDefaultColors && safeDefaultPaletteEnabled\n\t\t\t\t? safeDefaultColors\n\t\t\t\t: EMPTY_COLORS ),\n\t\t],\n\t\t[\n\t\t\tsafeCustomColors,\n\t\t\tsafeThemeColors,\n\t\t\tsafeDefaultColors,\n\t\t\tsafeDefaultPaletteEnabled,\n\t\t]\n\t);\n\n\tconst screenPath = ! name\n\t\t? '/colors/palette'\n\t\t: '/blocks/' + encodeURIComponent( name ) + '/colors/palette';\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t<Subtitle level={ 3 }>{ __( 'Palette' ) }</Subtitle>\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t<NavigationButtonAsItem path={ screenPath }>\n\t\t\t\t\t<HStack direction=\"row\">\n\t\t\t\t\t\t{ colors.length > 0 ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t\t\t\t\t{ colors\n\t\t\t\t\t\t\t\t\t\t.slice( 0, 5 )\n\t\t\t\t\t\t\t\t\t\t.map( ( { color }, index ) => (\n\t\t\t\t\t\t\t\t\t\t\t<ColorIndicatorWrapper\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ `${ color }-${ index }` }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolorValue={ color }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</ZStack>\n\t\t\t\t\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t\t\t\t\t{ __( 'Edit palette' ) }\n\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<FlexItem>{ __( 'Add colors' ) }</FlexItem>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Icon icon={ isRTL() ? chevronLeft : chevronRight } />\n\t\t\t\t\t</HStack>\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t</ItemGroup>\n\t\t</VStack>\n\t);\n}\n\nexport default Palette;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Flex } from '@wordpress/components';\n\ninterface ColorIndicatorWrapperProps {\n\tclassName?: string;\n\t[ key: string ]: any;\n}\n\nfunction ColorIndicatorWrapper( {\n\tclassName,\n\tchildren,\n\t...props\n}: ColorIndicatorWrapperProps ) {\n\treturn (\n\t\t<Flex\n\t\t\tclassName={ clsx(\n\t\t\t\t'global-styles-ui__color-indicator-wrapper',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ children }\n\t\t</Flex>\n\t);\n}\n\nexport default ColorIndicatorWrapper;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n// @ts-ignore - WordPress private APIs\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport ColorPalettePanel from './color-palette-panel';\nimport GradientPalettePanel from './gradients-palette-panel';\n\n/**\n * External dependencies\n */\nimport { unlock } from './lock-unlock';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nfunction ScreenColorPalette( { name }: { name?: string } ) {\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Edit palette' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'The combination of colors used across the site and in color pickers.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<Tabs>\n\t\t\t\t<Tabs.TabList>\n\t\t\t\t\t<Tabs.Tab tabId=\"color\">{ __( 'Color' ) }</Tabs.Tab>\n\t\t\t\t\t<Tabs.Tab tabId=\"gradient\">{ __( 'Gradient' ) }</Tabs.Tab>\n\t\t\t\t</Tabs.TabList>\n\t\t\t\t<Tabs.TabPanel tabId=\"color\" focusable={ false }>\n\t\t\t\t\t<ColorPalettePanel name={ name } />\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t<Tabs.TabPanel tabId=\"gradient\" focusable={ false }>\n\t\t\t\t\t<GradientPalettePanel name={ name } />\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t</Tabs>\n\t\t</>\n\t);\n}\n\nexport default ScreenColorPalette;\n", "/**\n * WordPress dependencies\n */\nimport type { Color } from '@wordpress/global-styles-engine';\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalVStack as VStack,\n\tButton,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { shuffle } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { useSetting, useColorRandomizer } from './hooks';\nimport ColorVariations from './variations/variations-color';\n\nconst mobilePopoverProps = { placement: 'bottom-start' as const, offset: 8 };\n\ninterface ColorPalettePanelProps {\n\tname?: string;\n}\n\nexport default function ColorPalettePanel( { name }: ColorPalettePanelProps ) {\n\tconst [ themeColors, setThemeColors ] = useSetting< Color[] >(\n\t\t'color.palette.theme',\n\t\tname\n\t);\n\tconst [ baseThemeColors ] = useSetting< Color[] >(\n\t\t'color.palette.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultColors, setDefaultColors ] = useSetting< Color[] >(\n\t\t'color.palette.default',\n\t\tname\n\t);\n\tconst [ baseDefaultColors ] = useSetting< Color[] >(\n\t\t'color.palette.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customColors, setCustomColors ] = useSetting< Color[] >(\n\t\t'color.palette.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting< boolean >(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\n\tconst popoverProps = isMobileViewport ? mobilePopoverProps : undefined;\n\n\tconst [ randomizeThemeColors ] = useColorRandomizer( name );\n\n\treturn (\n\t\t<VStack className=\"global-styles-ui-color-palette-panel\" spacing={ 8 }>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t{ !! themeColors && !! themeColors.length && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ themeColors !== baseThemeColors }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tcolors={ themeColors }\n\t\t\t\t\t\tonChange={ setThemeColors }\n\t\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ( window as any ).__experimentalEnableColorRandomizer &&\n\t\t\t\t\tthemeColors?.length > 0 &&\n\t\t\t\t\trandomizeThemeColors && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\ticon={ shuffle }\n\t\t\t\t\t\t\tonClick={ randomizeThemeColors }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Randomize colors' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t</VStack>\n\t\t\t{ !! defaultColors &&\n\t\t\t\t!! defaultColors.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultColors !== baseDefaultColors }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tcolors={ defaultColors }\n\t\t\t\t\t\tonChange={ setDefaultColors }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tcolors={ customColors }\n\t\t\t\tonChange={ setCustomColors }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t/>\n\t\t\t<ColorVariations title={ __( 'Palettes' ) } />\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalGrid as Grid,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport StylesPreviewColors from '../preview-colors';\nimport { useCurrentMergeThemeStyleVariationsWithUserConfig } from '../hooks';\nimport { Subtitle } from '../subtitle';\nimport Variation from './variation';\n\ninterface ColorVariationsProps {\n\ttitle?: string;\n\tgap?: number;\n}\n\nconst propertiesToFilter = [ 'color' ];\n\nexport default function ColorVariations( {\n\ttitle,\n\tgap = 2,\n}: ColorVariationsProps ) {\n\tconst colorVariations =\n\t\tuseCurrentMergeThemeStyleVariationsWithUserConfig( propertiesToFilter );\n\n\t// Return null if there is only one variation (the default).\n\tif ( colorVariations?.length <= 1 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t{ title && <Subtitle level={ 3 }>{ title }</Subtitle> }\n\t\t\t<Grid gap={ gap }>\n\t\t\t\t{ colorVariations.map( ( variation: any, index: number ) => (\n\t\t\t\t\t<Variation\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\tisPill\n\t\t\t\t\t\tproperties={ propertiesToFilter }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t>\n\t\t\t\t\t\t{ () => <StylesPreviewColors /> }\n\t\t\t\t\t</Variation>\n\t\t\t\t) ) }\n\t\t\t</Grid>\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport PresetColors from './preset-colors';\nimport PreviewWrapper from './preview-wrapper';\n\nconst firstFrameVariants = {\n\tstart: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\thover: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\ninterface StylesPreviewColorsProps {\n\tlabel?: string;\n\tisFocused?: boolean;\n\twithHoverView?: boolean;\n}\n\nconst StylesPreviewColors = ( {\n\tlabel,\n\tisFocused,\n\twithHoverView,\n}: StylesPreviewColorsProps ) => {\n\treturn (\n\t\t<PreviewWrapper\n\t\t\tlabel={ label }\n\t\t\tisFocused={ isFocused }\n\t\t\twithHoverView={ withHoverView }\n\t\t>\n\t\t\t{ ( { key } ) => (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={ key }\n\t\t\t\t\tvariants={ firstFrameVariants }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PresetColors />\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t</PreviewWrapper>\n\t);\n};\n\nexport default StylesPreviewColors;\n", "/**\n * Internal dependencies\n */\nimport { useStylesPreviewColors } from './preview-hooks';\n\nexport default function PresetColors() {\n\tconst { paletteColors } = useStylesPreviewColors();\n\treturn paletteColors.slice( 0, 4 ).map( ( { slug, color }, index ) => (\n\t\t<div\n\t\t\tkey={ `${ slug }-${ index }` }\n\t\t\tstyle={ {\n\t\t\t\tflexGrow: 1,\n\t\t\t\theight: '100%',\n\t\t\t\tbackground: color,\n\t\t\t} }\n\t\t/>\n\t) );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalSpacer as Spacer,\n\tDuotonePicker,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport type { Gradient } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { useSetting } from './hooks';\n\nconst mobilePopoverProps = { placement: 'bottom-start' as const, offset: 8 };\n\nconst noop = () => {};\n\ninterface GradientPalettePanelProps {\n\tname?: string;\n}\n\nexport default function GradientPalettePanel( {\n\tname,\n}: GradientPalettePanelProps ) {\n\tconst [ themeGradients, setThemeGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.theme',\n\t\tname\n\t);\n\tconst [ baseThemeGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultGradients, setDefaultGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.default',\n\t\tname\n\t);\n\tconst [ baseDefaultGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customGradients, setCustomGradients ] = useSetting< Gradient[] >(\n\t\t'color.gradients.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting< boolean >(\n\t\t'color.defaultGradients',\n\t\tname\n\t);\n\n\tconst [ customDuotone ] = useSetting( 'color.duotone.custom' ) || [];\n\tconst [ defaultDuotone ] = useSetting( 'color.duotone.default' ) || [];\n\tconst [ themeDuotone ] = useSetting( 'color.duotone.theme' ) || [];\n\tconst [ defaultDuotoneEnabled ] = useSetting( 'color.defaultDuotone' );\n\n\tconst duotonePalette = [\n\t\t...( customDuotone || [] ),\n\t\t...( themeDuotone || [] ),\n\t\t...( defaultDuotone && defaultDuotoneEnabled ? defaultDuotone : [] ),\n\t];\n\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\n\tconst popoverProps = isMobileViewport ? mobilePopoverProps : undefined;\n\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"global-styles-ui-gradient-palette-panel\"\n\t\t\tspacing={ 8 }\n\t\t>\n\t\t\t{ !! themeGradients && !! themeGradients.length && (\n\t\t\t\t<PaletteEdit\n\t\t\t\t\tcanReset={ themeGradients !== baseThemeGradients }\n\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\tgradients={ themeGradients }\n\t\t\t\t\tonChange={ setThemeGradients }\n\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! defaultGradients &&\n\t\t\t\t!! defaultGradients.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultGradients !== baseDefaultGradients }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tgradients={ defaultGradients }\n\t\t\t\t\t\tonChange={ setDefaultGradients }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tgradients={ customGradients }\n\t\t\t\tonChange={ setCustomGradients }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\tpaletteLabelHeadingLevel={ 3 }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t/>\n\t\t\t{ !! duotonePalette && !! duotonePalette.length && (\n\t\t\t\t<div>\n\t\t\t\t\t<Subtitle level={ 3 }>{ __( 'Duotone' ) }</Subtitle>\n\t\t\t\t\t<Spacer margin={ 3 } />\n\t\t\t\t\t<DuotonePicker\n\t\t\t\t\t\tduotonePalette={ duotonePalette }\n\t\t\t\t\t\tdisableCustomDuotone\n\t\t\t\t\t\tdisableCustomColors\n\t\t\t\t\t\tclearable={ false }\n\t\t\t\t\t\tonChange={ noop }\n\t\t\t\t\t\tcolorPalette={ [] }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { __experimentalText as Text } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BackgroundPanel from './background-panel';\nimport { ScreenHeader } from './screen-header';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useHasBackgroundPanel } = unlock( blockEditorPrivateApis );\n\nfunction ScreenBackground() {\n\tconst [ settings ] = useSetting( '' );\n\tconst hasBackgroundPanel = useHasBackgroundPanel( settings );\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Background' ) }\n\t\t\t\tdescription={\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t{ __( \"Set styles for the site's background.\" ) }\n\t\t\t\t\t</Text>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{ hasBackgroundPanel && <BackgroundPanel /> }\n\t\t</>\n\t);\n}\n\nexport default ScreenBackground;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\n// Initial control values where no block style is set.\nconst BACKGROUND_DEFAULT_VALUES = {\n\tbackgroundSize: 'auto',\n};\n\nconst { BackgroundPanel: StylesBackgroundPanel } = unlock(\n\tblockEditorPrivateApis\n);\n\n/**\n * Checks if there is a current value in the background image block support\n * attributes.\n *\n * @param style Style attribute.\n * @return Whether the block has a background image value set.\n */\nexport function hasBackgroundImageValue( style: any ): boolean {\n\treturn (\n\t\t!! style?.background?.backgroundImage?.id ||\n\t\t!! style?.background?.backgroundImage?.url ||\n\t\ttypeof style?.background?.backgroundImage === 'string'\n\t);\n}\n\nexport default function BackgroundPanel() {\n\tconst [ style ] = useStyle( '', undefined, 'user', false );\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\t'',\n\t\tundefined,\n\t\t'merged',\n\t\tfalse\n\t);\n\tconst [ settings ] = useSetting( '' );\n\n\treturn (\n\t\t<StylesBackgroundPanel\n\t\t\tinheritedValue={ inheritedStyle }\n\t\t\tvalue={ style }\n\t\t\tonChange={ setStyle }\n\t\t\tsettings={ settings }\n\t\t\tdefaultValues={ BACKGROUND_DEFAULT_VALUES }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalItemGroup as ItemGroup,\n\tButton,\n\tFlexItem,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, sprintf, isRTL } from '@wordpress/i18n';\nimport {\n\tplus,\n\tIcon,\n\tchevronLeft,\n\tchevronRight,\n\tmoreVertical,\n} from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { ScreenHeader } from './screen-header';\nimport { ScreenBody } from './screen-body';\nimport { getNewIndexFromPresets } from './utils';\nimport ConfirmResetShadowDialog from './confirm-reset-shadow-dialog';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nexport const defaultShadow = '6px 6px 9px rgba(0, 0, 0, 0.2)';\n\nexport default function ShadowsPanel() {\n\tconst [ defaultShadows ] = useSetting( 'shadow.presets.default' );\n\tconst [ defaultShadowsEnabled ] = useSetting( 'shadow.defaultPresets' );\n\tconst [ themeShadows ] = useSetting( 'shadow.presets.theme' );\n\tconst [ customShadows, setCustomShadows ] = useSetting(\n\t\t'shadow.presets.custom'\n\t);\n\n\tconst onCreateShadow = ( shadow: any ) => {\n\t\tsetCustomShadows( [ ...( customShadows || [] ), shadow ] );\n\t};\n\n\tconst handleResetShadows = () => {\n\t\tsetCustomShadows( [] );\n\t};\n\n\tconst [ isResetDialogOpen, setIsResetDialogOpen ] = useState( false );\n\n\tconst toggleResetDialog = () => setIsResetDialogOpen( ! isResetDialogOpen );\n\n\treturn (\n\t\t<>\n\t\t\t{ isResetDialogOpen && (\n\t\t\t\t<ConfirmResetShadowDialog\n\t\t\t\t\ttext={ __(\n\t\t\t\t\t\t'Are you sure you want to remove all custom shadows?'\n\t\t\t\t\t) }\n\t\t\t\t\tconfirmButtonText={ __( 'Remove' ) }\n\t\t\t\t\tisOpen={ isResetDialogOpen }\n\t\t\t\t\ttoggleOpen={ toggleResetDialog }\n\t\t\t\t\tonConfirm={ handleResetShadows }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Shadows' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Manage and create shadow styles for use across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ScreenBody>\n\t\t\t\t<VStack\n\t\t\t\t\tclassName=\"global-styles-ui__shadows-panel\"\n\t\t\t\t\tspacing={ 7 }\n\t\t\t\t>\n\t\t\t\t\t{ defaultShadowsEnabled && (\n\t\t\t\t\t\t<ShadowList\n\t\t\t\t\t\t\tlabel={ __( 'Default' ) }\n\t\t\t\t\t\t\tshadows={ defaultShadows || [] }\n\t\t\t\t\t\t\tcategory=\"default\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ themeShadows && themeShadows.length > 0 && (\n\t\t\t\t\t\t<ShadowList\n\t\t\t\t\t\t\tlabel={ __( 'Theme' ) }\n\t\t\t\t\t\t\tshadows={ themeShadows || [] }\n\t\t\t\t\t\t\tcategory=\"theme\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<ShadowList\n\t\t\t\t\t\tlabel={ __( 'Custom' ) }\n\t\t\t\t\t\tshadows={ customShadows || [] }\n\t\t\t\t\t\tcategory=\"custom\"\n\t\t\t\t\t\tcanCreate\n\t\t\t\t\t\tonCreate={ onCreateShadow }\n\t\t\t\t\t\tonReset={ toggleResetDialog }\n\t\t\t\t\t/>\n\t\t\t\t</VStack>\n\t\t\t</ScreenBody>\n\t\t</>\n\t);\n}\n\ninterface ShadowListProps {\n\tlabel: string;\n\tshadows: any[];\n\tcategory: string;\n\tcanCreate?: boolean;\n\tonCreate?: ( shadow: any ) => void;\n\tonReset?: () => void;\n}\n\nfunction ShadowList( {\n\tlabel,\n\tshadows,\n\tcategory,\n\tcanCreate,\n\tonCreate,\n\tonReset,\n}: ShadowListProps ) {\n\tconst handleAddShadow = () => {\n\t\tconst newIndex = getNewIndexFromPresets( shadows, 'shadow-' );\n\t\tonCreate?.( {\n\t\t\tname: sprintf(\n\t\t\t\t/* translators: %d: is an index for a preset */\n\t\t\t\t__( 'Shadow %d' ),\n\t\t\t\tnewIndex\n\t\t\t),\n\t\t\tshadow: defaultShadow,\n\t\t\tslug: `shadow-${ newIndex }`,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<VStack spacing={ 2 }>\n\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t<Subtitle level={ 3 }>{ label }</Subtitle>\n\t\t\t\t<FlexItem className=\"global-styles-ui__shadows-panel__options-container\">\n\t\t\t\t\t{ canCreate && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\t\tlabel={ __( 'Add shadow' ) }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\thandleAddShadow();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! shadows?.length && category === 'custom' && (\n\t\t\t\t\t\t<Menu>\n\t\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Shadow options' ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t\t<Menu.Item onClick={ onReset }>\n\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Remove all custom shadows' ) }\n\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t\t</Menu>\n\t\t\t\t\t) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t\t{ shadows.length > 0 && (\n\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t{ shadows.map( ( shadow ) => (\n\t\t\t\t\t\t<ShadowItem\n\t\t\t\t\t\t\tkey={ shadow.slug }\n\t\t\t\t\t\t\tshadow={ shadow }\n\t\t\t\t\t\t\tcategory={ category }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t</ItemGroup>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\ninterface ShadowItemProps {\n\tshadow: any;\n\tcategory: string;\n}\n\nfunction ShadowItem( { shadow, category }: ShadowItemProps ) {\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ `/shadows/edit/${ category }/${ shadow.slug }` }\n\t\t>\n\t\t\t<HStack>\n\t\t\t\t<FlexItem>{ shadow.name }</FlexItem>\n\t\t\t\t<Icon icon={ isRTL() ? chevronLeft : chevronRight } />\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\ninterface ConfirmResetShadowDialogProps {\n\ttext: string;\n\tconfirmButtonText: string;\n\tisOpen: boolean;\n\ttoggleOpen: () => void;\n\tonConfirm: () => void;\n}\n\nfunction ConfirmResetShadowDialog( {\n\ttext,\n\tconfirmButtonText,\n\tisOpen,\n\ttoggleOpen,\n\tonConfirm,\n}: ConfirmResetShadowDialogProps ) {\n\tconst handleConfirm = async () => {\n\t\ttoggleOpen();\n\t\tonConfirm();\n\t};\n\n\tconst handleCancel = () => {\n\t\ttoggleOpen();\n\t};\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isOpen }\n\t\t\tcancelButtonText={ __( 'Cancel' ) }\n\t\t\tconfirmButtonText={ confirmButtonText }\n\t\t\tonCancel={ handleCancel }\n\t\t\tonConfirm={ handleConfirm }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ text }\n\t\t</ConfirmDialog>\n\t);\n}\n\nexport default ConfirmResetShadowDialog;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalInputControl as InputControl,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalGrid as Grid,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\tuseNavigator,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalConfirmDialog as ConfirmDialog,\n\tDropdown,\n\tButton,\n\tFlex,\n\tFlexItem,\n\tColorPalette,\n\tModal,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tplus,\n\tshadow as shadowIcon,\n\treset,\n\tmoreVertical,\n} from '@wordpress/icons';\nimport { useState, useMemo, useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from './subtitle';\nimport { ScreenHeader } from './screen-header';\nimport { ScreenBody } from './screen-body';\nimport { defaultShadow } from './shadows-panel';\nimport {\n\tgetShadowParts,\n\tshadowStringToObject,\n\tshadowObjectToString,\n} from './shadow-utils';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nconst customShadowMenuItems = [\n\t{\n\t\tlabel: __( 'Rename' ),\n\t\taction: 'rename',\n\t},\n\t{\n\t\tlabel: __( 'Delete' ),\n\t\taction: 'delete',\n\t},\n];\n\nconst presetShadowMenuItems = [\n\t{\n\t\tlabel: __( 'Reset' ),\n\t\taction: 'reset',\n\t},\n];\n\nexport default function ShadowsEditPanel() {\n\tconst { goBack, params } = useNavigator();\n\tconst { category, slug } = params;\n\n\tconst [ shadows, setShadows ] = useSetting(\n\t\t`shadow.presets.${ category }`\n\t);\n\n\tuseEffect( () => {\n\t\tconst hasCurrentShadow = shadows?.some(\n\t\t\t( shadow: any ) => shadow.slug === slug\n\t\t);\n\t\t// If the shadow being edited doesn't exist anymore in the global styles setting, navigate back\n\t\t// to prevent the user from editing a non-existent shadow entry.\n\t\t// This can happen, for example:\n\t\t// - when the user deletes the shadow\n\t\t// - when the user resets the styles while editing a custom shadow\n\t\t//\n\t\t// The check on the slug is necessary to prevent a double back navigation when the user triggers\n\t\t// a backward navigation by interacting with the screen's UI.\n\t\tif ( !! slug && ! hasCurrentShadow ) {\n\t\t\tgoBack();\n\t\t}\n\t}, [ shadows, slug, goBack ] );\n\n\tconst [ baseShadows ] = useSetting(\n\t\t`shadow.presets.${ category }`,\n\t\tundefined,\n\t\t'base'\n\t);\n\tconst [ selectedShadow, setSelectedShadow ] = useState( () =>\n\t\t( shadows || [] ).find( ( shadow: any ) => shadow.slug === slug )\n\t);\n\tconst baseSelectedShadow = useMemo(\n\t\t() => ( baseShadows || [] ).find( ( b: any ) => b.slug === slug ),\n\t\t[ baseShadows, slug ]\n\t);\n\tconst [ isConfirmDialogVisible, setIsConfirmDialogVisible ] =\n\t\tuseState( false );\n\tconst [ isRenameModalVisible, setIsRenameModalVisible ] = useState( false );\n\tconst [ shadowName, setShadowName ] = useState< string | undefined >(\n\t\tselectedShadow?.name\n\t);\n\n\tif ( ! category || ! slug ) {\n\t\treturn null;\n\t}\n\n\tconst onShadowChange = ( shadow: string ) => {\n\t\tsetSelectedShadow( { ...selectedShadow, shadow } );\n\t\tconst updatedShadows = shadows.map( ( s: any ) =>\n\t\t\ts.slug === slug ? { ...selectedShadow, shadow } : s\n\t\t);\n\t\tsetShadows( updatedShadows );\n\t};\n\n\tconst onMenuClick = ( action: string ) => {\n\t\tif ( action === 'reset' ) {\n\t\t\tconst updatedShadows = shadows.map( ( s: any ) =>\n\t\t\t\ts.slug === slug ? baseSelectedShadow : s\n\t\t\t);\n\t\t\tsetSelectedShadow( baseSelectedShadow );\n\t\t\tsetShadows( updatedShadows );\n\t\t} else if ( action === 'delete' ) {\n\t\t\tsetIsConfirmDialogVisible( true );\n\t\t} else if ( action === 'rename' ) {\n\t\t\tsetIsRenameModalVisible( true );\n\t\t}\n\t};\n\n\tconst handleShadowDelete = () => {\n\t\tsetShadows( shadows.filter( ( s: any ) => s.slug !== slug ) );\n\t};\n\n\tconst handleShadowRename = ( newName: string | undefined ) => {\n\t\tif ( ! newName ) {\n\t\t\treturn;\n\t\t}\n\t\tconst updatedShadows = shadows.map( ( s: any ) =>\n\t\t\ts.slug === slug ? { ...selectedShadow, name: newName } : s\n\t\t);\n\t\tsetSelectedShadow( { ...selectedShadow, name: newName } );\n\t\tsetShadows( updatedShadows );\n\t};\n\n\treturn ! selectedShadow ? (\n\t\t<ScreenHeader title=\"\" />\n\t) : (\n\t\t<>\n\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t<ScreenHeader title={ selectedShadow.name } />\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<Spacer marginTop={ 2 } marginBottom={ 0 } paddingX={ 4 }>\n\t\t\t\t\t\t<Menu>\n\t\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Menu' ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t\t{ ( category === 'custom'\n\t\t\t\t\t\t\t\t\t? customShadowMenuItems\n\t\t\t\t\t\t\t\t\t: presetShadowMenuItems\n\t\t\t\t\t\t\t\t).map( ( item ) => (\n\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\tkey={ item.action }\n\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\tonMenuClick( item.action )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\titem.action === 'reset' &&\n\t\t\t\t\t\t\t\t\t\t\tselectedShadow.shadow ===\n\t\t\t\t\t\t\t\t\t\t\t\tbaseSelectedShadow?.shadow\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t{ item.label }\n\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t\t</Menu>\n\t\t\t\t\t</Spacer>\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t\t<ScreenBody>\n\t\t\t\t<ShadowsPreview shadow={ selectedShadow.shadow } />\n\t\t\t\t<ShadowEditor\n\t\t\t\t\tshadow={ selectedShadow.shadow }\n\t\t\t\t\tonChange={ onShadowChange }\n\t\t\t\t/>\n\t\t\t</ScreenBody>\n\t\t\t{ isConfirmDialogVisible && (\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen\n\t\t\t\t\tonConfirm={ () => {\n\t\t\t\t\t\thandleShadowDelete();\n\t\t\t\t\t\tsetIsConfirmDialogVisible( false );\n\t\t\t\t\t} }\n\t\t\t\t\tonCancel={ () => {\n\t\t\t\t\t\tsetIsConfirmDialogVisible( false );\n\t\t\t\t\t} }\n\t\t\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\t\t\tsize=\"medium\"\n\t\t\t\t>\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %s: Name of the shadow preset. */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Are you sure you want to delete \"%s\" shadow preset?'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tselectedShadow.name\n\t\t\t\t\t) }\n\t\t\t\t</ConfirmDialog>\n\t\t\t) }\n\t\t\t{ isRenameModalVisible && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Rename' ) }\n\t\t\t\t\tonRequestClose={ () => setIsRenameModalVisible( false ) }\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t>\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\thandleShadowRename( shadowName );\n\t\t\t\t\t\t\tsetIsRenameModalVisible( false );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\t\tplaceholder={ __( 'Shadow name' ) }\n\t\t\t\t\t\t\tvalue={ shadowName ?? '' }\n\t\t\t\t\t\t\tonChange={ setShadowName }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Spacer marginBottom={ 6 } />\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tclassName=\"block-editor-shadow-edit-modal__actions\"\n\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\tsetIsRenameModalVisible( false )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\ninterface ShadowsPreviewProps {\n\tshadow: string;\n}\n\nfunction ShadowsPreview( { shadow }: ShadowsPreviewProps ) {\n\tconst shadowStyle = {\n\t\tboxShadow: shadow,\n\t};\n\n\treturn (\n\t\t<Spacer marginBottom={ 4 } marginTop={ -2 }>\n\t\t\t<HStack\n\t\t\t\talignment=\"center\"\n\t\t\t\tjustify=\"center\"\n\t\t\t\tclassName=\"global-styles-ui__shadow-preview-panel\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"global-styles-ui__shadow-preview-block\"\n\t\t\t\t\tstyle={ shadowStyle }\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t</Spacer>\n\t);\n}\n\ninterface ShadowEditorProps {\n\tshadow: string;\n\tonChange: ( shadow: string ) => void;\n}\n\nfunction ShadowEditor( { shadow, onChange }: ShadowEditorProps ) {\n\tconst addShadowButtonRef = useRef< HTMLButtonElement >( null );\n\tconst shadowParts = useMemo( () => getShadowParts( shadow ), [ shadow ] );\n\n\tconst onChangeShadowPart = ( index: number, part: string ) => {\n\t\tconst newShadowParts = [ ...shadowParts ];\n\t\tnewShadowParts[ index ] = part;\n\t\tonChange( newShadowParts.join( ', ' ) );\n\t};\n\n\tconst onAddShadowPart = () => {\n\t\tonChange( [ ...shadowParts, defaultShadow ].join( ', ' ) );\n\t};\n\n\tconst onRemoveShadowPart = ( index: number ) => {\n\t\tonChange( shadowParts.filter( ( p, i ) => i !== index ).join( ', ' ) );\n\t\taddShadowButtonRef.current?.focus();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<VStack spacing={ 2 }>\n\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t<Subtitle level={ 3 }>{ __( 'Shadows' ) }</Subtitle>\n\t\t\t\t\t<FlexItem className=\"global-styles-ui__shadows-panel__options-container\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\t\tlabel={ __( 'Add shadow' ) }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tonAddShadowPart();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tref={ addShadowButtonRef }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t\t<Spacer />\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t{ shadowParts.map( ( part, index ) => (\n\t\t\t\t\t<ShadowItem\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tshadow={ part }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tonChangeShadowPart( index, value )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcanRemove={ shadowParts.length > 1 }\n\t\t\t\t\t\tonRemove={ () => onRemoveShadowPart( index ) }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</ItemGroup>\n\t\t</>\n\t);\n}\n\ninterface ShadowItemProps {\n\tshadow: string;\n\tonChange: ( shadow: string ) => void;\n\tcanRemove: boolean;\n\tonRemove: () => void;\n}\n\nfunction ShadowItem( {\n\tshadow,\n\tonChange,\n\tcanRemove,\n\tonRemove,\n}: ShadowItemProps ) {\n\tconst popoverProps = {\n\t\tplacement: 'left-start' as const,\n\t\toffset: 36,\n\t\tshift: true,\n\t};\n\tconst shadowObj = useMemo(\n\t\t() => shadowStringToObject( shadow ),\n\t\t[ shadow ]\n\t);\n\tconst onShadowChange = ( newShadow: any ) => {\n\t\tonChange( shadowObjectToString( newShadow ) );\n\t};\n\n\treturn (\n\t\t<Dropdown\n\t\t\tpopoverProps={ popoverProps }\n\t\t\tclassName=\"global-styles-ui__shadow-editor__dropdown\"\n\t\t\trenderToggle={ ( { onToggle, isOpen } ) => {\n\t\t\t\tconst toggleProps = {\n\t\t\t\t\tonClick: onToggle,\n\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t'global-styles-ui__shadow-editor__dropdown-toggle',\n\t\t\t\t\t\t{ 'is-open': isOpen }\n\t\t\t\t\t),\n\t\t\t\t\t'aria-expanded': isOpen,\n\t\t\t\t};\n\t\t\t\tconst removeButtonProps = {\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tif ( isOpen ) {\n\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonRemove();\n\t\t\t\t\t},\n\t\t\t\t\tclassName: clsx(\n\t\t\t\t\t\t'global-styles-ui__shadow-editor__remove-button',\n\t\t\t\t\t\t{ 'is-open': isOpen }\n\t\t\t\t\t),\n\t\t\t\t\tlabel: __( 'Remove shadow' ),\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\ticon={ shadowIcon }\n\t\t\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ shadowObj.inset\n\t\t\t\t\t\t\t\t? __( 'Inner shadow' )\n\t\t\t\t\t\t\t\t: __( 'Drop shadow' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{ canRemove && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\ticon={ reset }\n\t\t\t\t\t\t\t\t{ ...removeButtonProps }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trenderContent={ () => (\n\t\t\t\t<DropdownContentWrapper\n\t\t\t\t\tpaddingSize=\"medium\"\n\t\t\t\t\tclassName=\"global-styles-ui__shadow-editor__dropdown-content\"\n\t\t\t\t>\n\t\t\t\t\t<ShadowPopover\n\t\t\t\t\t\tshadowObj={ shadowObj }\n\t\t\t\t\t\tonChange={ onShadowChange }\n\t\t\t\t\t/>\n\t\t\t\t</DropdownContentWrapper>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\ninterface ShadowPopoverProps {\n\tshadowObj: any;\n\tonChange: ( shadow: any ) => void;\n}\n\nfunction ShadowPopover( { shadowObj, onChange }: ShadowPopoverProps ) {\n\tconst __experimentalIsRenderedInSidebar = true;\n\tconst enableAlpha = true;\n\n\tconst onShadowChange = ( key: string, value: any ) => {\n\t\tconst newShadow = {\n\t\t\t...shadowObj,\n\t\t\t[ key ]: value,\n\t\t};\n\t\tonChange( newShadow );\n\t};\n\n\treturn (\n\t\t<VStack spacing={ 4 } className=\"global-styles-ui__shadow-editor-panel\">\n\t\t\t<ColorPalette\n\t\t\t\tclearable={ false }\n\t\t\t\tenableAlpha={ enableAlpha }\n\t\t\t\t__experimentalIsRenderedInSidebar={\n\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t}\n\t\t\t\tvalue={ shadowObj.color }\n\t\t\t\tonChange={ ( value ) => onShadowChange( 'color', value ) }\n\t\t\t/>\n\t\t\t<ToggleGroupControl\n\t\t\t\tlabel={ __( 'Shadow Type' ) }\n\t\t\t\tvalue={ shadowObj.inset ? 'inset' : 'outset' }\n\t\t\t\tisBlock\n\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\tonShadowChange( 'inset', value === 'inset' )\n\t\t\t\t}\n\t\t\t\thideLabelFromVision\n\t\t\t\t__next40pxDefaultSize\n\t\t\t>\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tvalue=\"outset\"\n\t\t\t\t\tlabel={ __( 'Outset' ) }\n\t\t\t\t/>\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tvalue=\"inset\"\n\t\t\t\t\tlabel={ __( 'Inset' ) }\n\t\t\t\t/>\n\t\t\t</ToggleGroupControl>\n\t\t\t<Grid columns={ 2 } gap={ 4 }>\n\t\t\t\t<ShadowInputControl\n\t\t\t\t\tlabel={ __( 'X Position' ) }\n\t\t\t\t\tvalue={ shadowObj.x }\n\t\t\t\t\tonChange={ ( value ) => onShadowChange( 'x', value ) }\n\t\t\t\t/>\n\t\t\t\t<ShadowInputControl\n\t\t\t\t\tlabel={ __( 'Y Position' ) }\n\t\t\t\t\tvalue={ shadowObj.y }\n\t\t\t\t\tonChange={ ( value ) => onShadowChange( 'y', value ) }\n\t\t\t\t/>\n\t\t\t\t<ShadowInputControl\n\t\t\t\t\tlabel={ __( 'Blur' ) }\n\t\t\t\t\tvalue={ shadowObj.blur }\n\t\t\t\t\tonChange={ ( value ) => onShadowChange( 'blur', value ) }\n\t\t\t\t/>\n\t\t\t\t<ShadowInputControl\n\t\t\t\t\tlabel={ __( 'Spread' ) }\n\t\t\t\t\tvalue={ shadowObj.spread }\n\t\t\t\t\tonChange={ ( value ) => onShadowChange( 'spread', value ) }\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</VStack>\n\t);\n}\n\ninterface ShadowInputControlProps {\n\tlabel: string;\n\tvalue: string;\n\tonChange: ( value: string ) => void;\n}\n\nfunction ShadowInputControl( {\n\tlabel,\n\tvalue,\n\tonChange,\n}: ShadowInputControlProps ) {\n\tconst onValueChange = ( next: string | undefined ) => {\n\t\tconst isNumeric = next !== undefined && ! isNaN( parseFloat( next ) );\n\t\tconst nextValue = isNumeric ? next : '0px';\n\t\tonChange( nextValue );\n\t};\n\n\treturn (\n\t\t<UnitControl\n\t\t\tlabel={ label }\n\t\t\t__next40pxDefaultSize\n\t\t\tvalue={ value }\n\t\t\tonChange={ onValueChange }\n\t\t/>\n\t);\n}\n", "export const CUSTOM_VALUE_SETTINGS = {\n\tpx: { max: 20, step: 1 },\n\t'%': { max: 100, step: 1 },\n\tvw: { max: 100, step: 1 },\n\tvh: { max: 100, step: 1 },\n\tem: { max: 10, step: 0.1 },\n\trm: { max: 10, step: 0.1 },\n\tsvw: { max: 100, step: 1 },\n\tlvw: { max: 100, step: 1 },\n\tdvw: { max: 100, step: 1 },\n\tsvh: { max: 100, step: 1 },\n\tlvh: { max: 100, step: 1 },\n\tdvh: { max: 100, step: 1 },\n\tvi: { max: 100, step: 1 },\n\tsvi: { max: 100, step: 1 },\n\tlvi: { max: 100, step: 1 },\n\tdvi: { max: 100, step: 1 },\n\tvb: { max: 100, step: 1 },\n\tsvb: { max: 100, step: 1 },\n\tlvb: { max: 100, step: 1 },\n\tdvb: { max: 100, step: 1 },\n\tvmin: { max: 100, step: 1 },\n\tsvmin: { max: 100, step: 1 },\n\tlvmin: { max: 100, step: 1 },\n\tdvmin: { max: 100, step: 1 },\n\tvmax: { max: 100, step: 1 },\n\tsvmax: { max: 100, step: 1 },\n\tlvmax: { max: 100, step: 1 },\n\tdvmax: { max: 100, step: 1 },\n};\n\nexport interface ShadowObject {\n\tx: string;\n\ty: string;\n\tblur: string;\n\tspread: string;\n\tcolor: string;\n\tinset: boolean;\n}\n\nexport function getShadowParts( shadow: string ): string[] {\n\tconst shadowValues = shadow.match( /(?:[^,(]|\\([^)]*\\))+/g ) || [];\n\treturn shadowValues.map( ( value ) => value.trim() );\n}\n\nexport function shadowStringToObject( shadowValue: string ): ShadowObject {\n\t/*\n\t * Shadow spec: https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow\n\t * Shadow string format: <offset-x> <offset-y> <blur-radius> <spread-radius> <color> [inset]\n\t *\n\t * A shadow to be valid it must satisfy the following.\n\t *\n\t * 1. Should not contain \"none\" keyword.\n\t * 2. Values x, y, blur, spread should be in the order. Color and inset can be anywhere in the string except in between x, y, blur, spread values.\n\t * 3. Should not contain more than one set of x, y, blur, spread values.\n\t * 4. Should contain at least x and y values. Others are optional.\n\t * 5. Should not contain more than one \"inset\" (case insensitive) keyword.\n\t * 6. Should not contain more than one color value.\n\t */\n\n\tconst defaultShadow: ShadowObject = {\n\t\tx: '0',\n\t\ty: '0',\n\t\tblur: '0',\n\t\tspread: '0',\n\t\tcolor: '#000',\n\t\tinset: false,\n\t};\n\n\tif ( ! shadowValue ) {\n\t\treturn defaultShadow;\n\t}\n\n\t// Rule 1: Should not contain \"none\" keyword.\n\t// if the shadow has \"none\" keyword, it is not a valid shadow string\n\tif ( shadowValue.includes( 'none' ) ) {\n\t\treturn defaultShadow;\n\t}\n\n\t// Rule 2: Values x, y, blur, spread should be in the order.\n\t//\t\t   Color and inset can be anywhere in the string except in between x, y, blur, spread values.\n\t// Extract length values (x, y, blur, spread) from shadow string\n\t// Regex match groups of 1 to 4 length values.\n\tconst lengthsRegex =\n\t\t/((?:^|\\s+)(-?\\d*\\.?\\d+(?:px|%|in|cm|mm|em|rem|ex|pt|pc|vh|vw|vmin|vmax|ch|lh)?)(?=\\s|$)(?![^(]*\\))){1,4}/g;\n\tconst matches = shadowValue.match( lengthsRegex ) || [];\n\n\t// Rule 3: Should not contain more than one set of x, y, blur, spread values.\n\t// if the string doesn't contain exactly 1 set of x, y, blur, spread values,\n\t// it is not a valid shadow string\n\tif ( matches.length !== 1 ) {\n\t\treturn defaultShadow;\n\t}\n\n\t// Extract length values (x, y, blur, spread) from shadow string\n\tconst lengths = matches[ 0 ]\n\t\t.split( ' ' )\n\t\t.map( ( value ) => value.trim() )\n\t\t.filter( ( value ) => value );\n\n\t// Rule 4: Should contain at least x and y values. Others are optional.\n\tif ( lengths.length < 2 ) {\n\t\treturn defaultShadow;\n\t}\n\n\t// Rule 5: Should not contain more than one \"inset\" (case insensitive) keyword.\n\t// check if the shadow string contains \"inset\" keyword\n\tconst insets = shadowValue.match( /inset/gi ) || [];\n\tif ( insets.length > 1 ) {\n\t\treturn defaultShadow;\n\t}\n\n\t// Strip lengths and inset from shadow string, leaving just color.\n\tconst hasInset = insets.length === 1;\n\tlet colorString = shadowValue.replace( lengthsRegex, '' ).trim();\n\tif ( hasInset ) {\n\t\tcolorString = colorString\n\t\t\t.replace( 'inset', '' )\n\t\t\t.replace( 'INSET', '' )\n\t\t\t.trim();\n\t}\n\n\t// Rule 6: Should not contain more than one color value.\n\t// validate color string with regular expression\n\t// check if color has matching hex, rgb or hsl values\n\tconst colorRegex =\n\t\t/^#([0-9a-f]{3}){1,2}$|^#([0-9a-f]{4}){1,2}$|^(?:rgb|hsl)a?\\(?[\\d*\\.?\\d+%?,?\\/?\\s]*\\)$/gi;\n\tlet colorMatches = ( colorString.match( colorRegex ) || [] )\n\t\t.map( ( value ) => value?.trim() )\n\t\t.filter( ( value ) => value );\n\n\t// If color string has more than one color values, it is not a valid\n\tif ( colorMatches.length > 1 ) {\n\t\treturn defaultShadow;\n\t} else if ( colorMatches.length === 0 ) {\n\t\t// check if color string has multiple named color values separated by space\n\t\tcolorMatches = colorString\n\t\t\t.trim()\n\t\t\t.split( ' ' )\n\t\t\t.filter( ( value ) => value );\n\t\t// If color string has more than one color values, it is not a valid\n\t\tif ( colorMatches.length > 1 ) {\n\t\t\treturn defaultShadow;\n\t\t}\n\t}\n\n\t// Return parsed shadow object.\n\tconst [ x, y, blur, spread ] = lengths;\n\treturn {\n\t\tx,\n\t\ty,\n\t\tblur: blur || defaultShadow.blur,\n\t\tspread: spread || defaultShadow.spread,\n\t\tinset: hasInset,\n\t\tcolor: colorString || defaultShadow.color,\n\t};\n}\n\nexport function shadowObjectToString( shadowObj: ShadowObject ): string {\n\tconst shadowString = `${ shadowObj.x || '0px' } ${ shadowObj.y || '0px' } ${\n\t\tshadowObj.blur || '0px'\n\t} ${ shadowObj.spread || '0px' }`;\n\n\treturn `${ shadowObj.inset ? 'inset' : '' } ${ shadowString } ${\n\t\tshadowObj.color || ''\n\t}`.trim();\n}\n", "/**\n * Internal dependencies\n */\nimport ShadowsPanel from './shadows-panel';\nimport ShadowsEditPanel from './shadows-edit-panel';\n\nexport function ScreenShadows() {\n\treturn <ShadowsPanel />;\n}\n\nexport function ScreenShadowsEdit() {\n\treturn <ShadowsEditPanel />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport type { GlobalStylesSettings } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport DimensionsPanel from './dimensions-panel';\nimport { useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useHasDimensionsPanel, useSettingsForBlockElement } = unlock(\n\tblockEditorPrivateApis\n);\n\nfunction ScreenLayout() {\n\tconst [ rawSettings ] = useSetting< GlobalStylesSettings >( '' );\n\tconst settings = useSettingsForBlockElement( rawSettings );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( settings );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ __( 'Layout' ) } />\n\t\t\t{ hasDimensionsPanel && <DimensionsPanel /> }\n\t\t</>\n\t);\n}\n\nexport default ScreenLayout;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useStyle, useSetting } from './hooks';\nimport { unlock } from './lock-unlock';\n\nconst { useSettingsForBlockElement, DimensionsPanel: StylesDimensionsPanel } =\n\tunlock( blockEditorPrivateApis );\n\nconst DEFAULT_CONTROLS = {\n\tcontentSize: true,\n\twideSize: true,\n\tpadding: true,\n\tmargin: true,\n\tblockGap: true,\n\theight: true,\n\tminHeight: true,\n\twidth: true,\n\tchildLayout: false,\n};\n\nexport default function DimensionsPanel() {\n\tconst [ style ] = useStyle( '', undefined, 'user', false );\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\t'',\n\t\tundefined,\n\t\t'merged',\n\t\tfalse\n\t);\n\tconst [ userSettings ] = useSetting( '', undefined, 'user' );\n\tconst [ rawSettings, setSettings ] = useSetting( '' );\n\tconst settings = useSettingsForBlockElement( rawSettings );\n\n\t// These intermediary objects are needed because the \"layout\" property is stored\n\t// in settings rather than styles.\n\tconst inheritedStyleWithLayout = useMemo( () => {\n\t\treturn {\n\t\t\t...inheritedStyle,\n\t\t\tlayout: settings.layout,\n\t\t};\n\t}, [ inheritedStyle, settings.layout ] );\n\n\tconst styleWithLayout = useMemo( () => {\n\t\treturn {\n\t\t\t...style,\n\t\t\tlayout: userSettings.layout,\n\t\t};\n\t}, [ style, userSettings.layout ] );\n\n\tconst onChange = ( newStyle: any ) => {\n\t\tconst updatedStyle = { ...newStyle };\n\t\tdelete updatedStyle.layout;\n\t\tsetStyle( updatedStyle );\n\n\t\tif ( newStyle.layout !== userSettings.layout ) {\n\t\t\tconst updatedSettings = {\n\t\t\t\t...userSettings,\n\t\t\t\tlayout: newStyle.layout,\n\t\t\t};\n\n\t\t\t// Ensure any changes to layout definitions are not persisted.\n\t\t\tif ( updatedSettings.layout?.definitions ) {\n\t\t\t\tdelete updatedSettings.layout.definitions;\n\t\t\t}\n\n\t\t\tsetSettings( updatedSettings );\n\t\t}\n\t};\n\n\treturn (\n\t\t<StylesDimensionsPanel\n\t\t\tinheritedValue={ inheritedStyleWithLayout }\n\t\t\tvalue={ styleWithLayout }\n\t\t\tonChange={ onChange }\n\t\t\tsettings={ settings }\n\t\t\tincludeLayoutControls\n\t\t\tdefaultControls={ DEFAULT_CONTROLS }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Card, CardBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport { StyleVariationsContent } from './style-variations-content';\n\nfunction ScreenStyleVariations() {\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Browse styles' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Choose a variation to change the look of the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<Card\n\t\t\t\tsize=\"small\"\n\t\t\t\tisBorderless\n\t\t\t\tclassName=\"global-styles-ui-screen-style-variations\"\n\t\t\t>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<StyleVariationsContent />\n\t\t\t\t</CardBody>\n\t\t\t</Card>\n\t\t</>\n\t);\n}\n\nexport default ScreenStyleVariations;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport StyleVariationsContainer from './style-variations-container';\nimport TypographyVariations from './variations/variations-typography';\nimport ColorVariations from './variations/variations-color';\n\nexport function StyleVariationsContent() {\n\tconst gap = 3;\n\n\treturn (\n\t\t<VStack spacing={ 10 } className=\"global-styles-ui-variation-container\">\n\t\t\t<StyleVariationsContainer gap={ gap } />\n\t\t\t<ColorVariations title={ __( 'Color Variations' ) } gap={ gap } />\n\t\t\t<TypographyVariations title={ __( 'Typography' ) } gap={ gap } />\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useContext, useMemo } from '@wordpress/element';\nimport { __experimentalGrid as Grid } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport type {\n\tGlobalStylesConfig,\n\tStyleVariation,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport PreviewStyles from './preview-styles';\nimport Variation from './variations/variation';\nimport { GlobalStylesContext } from './context';\nimport { isVariationWithProperties } from './utils';\n\ninterface StyleVariationsContainerProps {\n\tgap?: number;\n}\n\nfunction StyleVariationsContainer( {\n\tgap = 2,\n}: StyleVariationsContainerProps ) {\n\tconst { user } = useContext( GlobalStylesContext );\n\tconst userStyles = user?.styles;\n\n\tconst variations = useSelect( ( select ) => {\n\t\tconst result =\n\t\t\tselect(\n\t\t\t\tcoreStore\n\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations();\n\t\t// The API might return null or an array\n\t\treturn Array.isArray( result )\n\t\t\t? ( result as GlobalStylesConfig[] )\n\t\t\t: undefined;\n\t}, [] );\n\n\t// Filter out variations that are color or typography variations.\n\tconst fullStyleVariations = variations?.filter(\n\t\t( variation: GlobalStylesConfig ) => {\n\t\t\treturn (\n\t\t\t\t! isVariationWithProperties( variation, [ 'color' ] ) &&\n\t\t\t\t! isVariationWithProperties( variation, [\n\t\t\t\t\t'typography',\n\t\t\t\t\t'spacing',\n\t\t\t\t] )\n\t\t\t);\n\t\t}\n\t);\n\n\tconst themeVariations = useMemo( () => {\n\t\tconst withEmptyVariation: StyleVariation[] = [\n\t\t\t{\n\t\t\t\ttitle: __( 'Default' ),\n\t\t\t\tsettings: {},\n\t\t\t\tstyles: {},\n\t\t\t},\n\t\t\t...( fullStyleVariations ?? [] ),\n\t\t];\n\t\treturn [\n\t\t\t...withEmptyVariation.map( ( variation: StyleVariation ) => {\n\t\t\t\tconst blockStyles = variation?.styles?.blocks\n\t\t\t\t\t? { ...variation.styles.blocks }\n\t\t\t\t\t: {};\n\n\t\t\t\t// We need to copy any user custom CSS to the variation to prevent it being lost\n\t\t\t\t// when switching variations.\n\t\t\t\tif ( userStyles?.blocks ) {\n\t\t\t\t\tObject.keys( userStyles.blocks ).forEach( ( blockName ) => {\n\t\t\t\t\t\t// First get any block specific custom CSS from the current user styles and merge with any custom CSS for\n\t\t\t\t\t\t// that block in the variation.\n\t\t\t\t\t\tif ( userStyles.blocks?.[ blockName ]?.css ) {\n\t\t\t\t\t\t\tconst variationBlockStyles =\n\t\t\t\t\t\t\t\tblockStyles[ blockName ] || {};\n\t\t\t\t\t\t\tconst customCSS = {\n\t\t\t\t\t\t\t\tcss: `${\n\t\t\t\t\t\t\t\t\tblockStyles[ blockName ]?.css || ''\n\t\t\t\t\t\t\t\t} ${\n\t\t\t\t\t\t\t\t\tuserStyles.blocks?.[\n\t\t\t\t\t\t\t\t\t\tblockName\n\t\t\t\t\t\t\t\t\t]?.css?.trim() || ''\n\t\t\t\t\t\t\t\t}`,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tblockStyles[ blockName ] = {\n\t\t\t\t\t\t\t\t...variationBlockStyles,\n\t\t\t\t\t\t\t\t...customCSS,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\t// Now merge any global custom CSS from current user styles with global custom CSS in the variation.\n\t\t\t\tconst css =\n\t\t\t\t\tuserStyles?.css || variation.styles?.css\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tcss: `${ variation.styles?.css || '' } ${\n\t\t\t\t\t\t\t\t\tuserStyles?.css || ''\n\t\t\t\t\t\t\t\t}`,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {};\n\n\t\t\t\tconst blocks =\n\t\t\t\t\tObject.keys( blockStyles ).length > 0\n\t\t\t\t\t\t? { blocks: blockStyles }\n\t\t\t\t\t\t: {};\n\n\t\t\t\tconst styles = {\n\t\t\t\t\t...variation.styles,\n\t\t\t\t\t...css,\n\t\t\t\t\t...blocks,\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\t...variation,\n\t\t\t\t\tsettings: variation.settings ?? {},\n\t\t\t\t\tstyles,\n\t\t\t\t};\n\t\t\t} ),\n\t\t];\n\t}, [ fullStyleVariations, userStyles?.blocks, userStyles?.css ] );\n\n\tif ( ! fullStyleVariations || fullStyleVariations.length < 1 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Grid\n\t\t\tcolumns={ 2 }\n\t\t\tclassName=\"global-styles-ui-style-variations-container\"\n\t\t\tgap={ gap }\n\t\t>\n\t\t\t{ themeVariations.map(\n\t\t\t\t( variation: StyleVariation, index: number ) => (\n\t\t\t\t\t<Variation key={ index } variation={ variation }>\n\t\t\t\t\t\t{ ( isFocused: boolean ) => (\n\t\t\t\t\t\t\t<PreviewStyles\n\t\t\t\t\t\t\t\tlabel={ variation?.title }\n\t\t\t\t\t\t\t\twithHoverView\n\t\t\t\t\t\t\t\tisFocused={ isFocused }\n\t\t\t\t\t\t\t\tvariation={ variation }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Variation>\n\t\t\t\t)\n\t\t\t) }\n\t\t</Grid>\n\t);\n}\n\nexport default StyleVariationsContainer;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ExternalLink } from '@wordpress/components';\n// @ts-expect-error: Not typed yet.\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from './screen-header';\nimport { useStyle } from './hooks';\nimport { unlock } from './lock-unlock';\n\n// Access AdvancedPanel from block-editor private APIs\nconst { AdvancedPanel: StylesAdvancedPanel } = unlock( blockEditorPrivateApis );\n\nfunction ScreenCSS() {\n\t// Get user-only styles (should not decode/encode to preserve raw CSS)\n\tconst [ style ] = useStyle( '', undefined, 'user', false );\n\t// Get all styles (inherited + user) for context\n\tconst [ inheritedStyle, setStyle ] = useStyle(\n\t\t'',\n\t\tundefined,\n\t\t'merged',\n\t\tfalse\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Additional CSS' ) }\n\t\t\t\tdescription={\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'You can add custom CSS to further customize the appearance and layout of your site.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t'https://developer.wordpress.org/advanced-administration/wordpress/css/'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tclassName=\"global-styles-ui-screen-css-help-link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Learn more about CSS' ) }\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<div className=\"global-styles-ui-screen-css\">\n\t\t\t\t<StylesAdvancedPanel\n\t\t\t\t\tvalue={ style }\n\t\t\t\t\tonChange={ setStyle }\n\t\t\t\t\tinheritedValue={ inheritedStyle }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenCSS;\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\t__experimentalConfirmDialog as ConfirmDialog,\n\tSpinner,\n\tuseNavigator,\n} from '@wordpress/components';\nimport { useContext, useState, useMemo } from '@wordpress/element';\nimport { areGlobalStylesEqual } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from '../screen-header';\nimport { GlobalStylesContext } from '../context';\nimport useGlobalStylesRevisions from './use-global-styles-revisions';\nimport RevisionsButtons from './revisions-buttons';\nimport Pagination from '../pagination';\n\nconst PAGE_SIZE = 10;\n\ninterface ScreenRevisionsProps {\n\tonClose?: () => void;\n}\n\nfunction ScreenRevisions( { onClose }: ScreenRevisionsProps = {} ) {\n\tconst { user: currentEditorGlobalStyles, onChange: setUserConfig } =\n\t\tuseContext( GlobalStylesContext );\n\tconst { params, goTo } = useNavigator();\n\tconst { revisionId } = params;\n\tconst [ currentPage, setCurrentPage ] = useState( 1 );\n\tconst { revisions, isLoading, hasUnsavedChanges, revisionsCount } =\n\t\tuseGlobalStylesRevisions( {\n\t\t\tquery: {\n\t\t\t\tper_page: PAGE_SIZE,\n\t\t\t\tpage: currentPage,\n\t\t\t},\n\t\t} );\n\n\tconst numPages = Math.ceil( revisionsCount / PAGE_SIZE );\n\n\tconst [\n\t\tisLoadingRevisionWithUnsavedChanges,\n\t\tsetIsLoadingRevisionWithUnsavedChanges,\n\t] = useState( false );\n\n\t// Derive the currently selected revision from the path parameter\n\tconst currentlySelectedRevision = useMemo( () => {\n\t\tif ( ! revisionId ) {\n\t\t\treturn currentEditorGlobalStyles;\n\t\t}\n\t\tconst revision = revisions.find(\n\t\t\t( rev ) => String( rev.id ) === String( revisionId )\n\t\t);\n\t\treturn revision || currentEditorGlobalStyles;\n\t}, [ revisionId, revisions, currentEditorGlobalStyles ] );\n\n\tconst selectedRevisionMatchesEditorStyles = areGlobalStylesEqual(\n\t\tcurrentlySelectedRevision,\n\t\tcurrentEditorGlobalStyles\n\t);\n\n\tconst onCloseRevisions = () => {\n\t\tif ( onClose ) {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\tconst restoreRevision = ( revision: any ) => {\n\t\tsetUserConfig( revision );\n\t\tsetIsLoadingRevisionWithUnsavedChanges( false );\n\t\tonCloseRevisions();\n\t};\n\n\tconst handleRevisionSelect = ( revision: any ) => {\n\t\tgoTo( `/revisions/${ revision.id }` );\n\t};\n\n\tconst currentlySelectedRevisionId =\n\t\t// @ts-expect-error: revision id is not present in the fallback (default object).\n\t\tcurrentlySelectedRevision?.id ?? revisions[ 0 ]?.id;\n\n\t// Only display load button if there is a revision to load,\n\t// and it is different from the current editor styles.\n\tconst isLoadButtonEnabled =\n\t\t!! currentlySelectedRevisionId &&\n\t\tcurrentlySelectedRevisionId !== 'unsaved' &&\n\t\t! selectedRevisionMatchesEditorStyles;\n\tconst hasRevisions = !! revisions.length;\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={\n\t\t\t\t\trevisionsCount\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: number of revisions.\n\t\t\t\t\t\t\t\t__( 'Revisions (%d)' ),\n\t\t\t\t\t\t\t\trevisionsCount\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Revisions' )\n\t\t\t\t}\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Click on previously saved styles to preview them. To restore a selected version to the editor, hit \"Apply.\" When you\\'re ready, use the Save button to save your changes.'\n\t\t\t\t) }\n\t\t\t\tonBack={ onCloseRevisions }\n\t\t\t/>\n\t\t\t{ ! hasRevisions && (\n\t\t\t\t<Spinner className=\"global-styles-ui-screen-revisions__loading\" />\n\t\t\t) }\n\t\t\t<RevisionsButtons\n\t\t\t\tonChange={ handleRevisionSelect }\n\t\t\t\tselectedRevisionId={ currentlySelectedRevisionId }\n\t\t\t\tuserRevisions={ revisions }\n\t\t\t\tcanApplyRevision={ isLoadButtonEnabled }\n\t\t\t\tonApplyRevision={ () =>\n\t\t\t\t\thasUnsavedChanges\n\t\t\t\t\t\t? setIsLoadingRevisionWithUnsavedChanges( true )\n\t\t\t\t\t\t: restoreRevision( currentlySelectedRevision )\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{ numPages > 1 && (\n\t\t\t\t<div className=\"global-styles-ui-screen-revisions__footer\">\n\t\t\t\t\t<Pagination\n\t\t\t\t\t\tclassName=\"global-styles-ui-screen-revisions__pagination\"\n\t\t\t\t\t\tcurrentPage={ currentPage }\n\t\t\t\t\t\tnumPages={ numPages }\n\t\t\t\t\t\tchangePage={ setCurrentPage }\n\t\t\t\t\t\ttotalItems={ revisionsCount }\n\t\t\t\t\t\tdisabled={ isLoading }\n\t\t\t\t\t\tlabel={ __( 'Global Styles pagination' ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ isLoadingRevisionWithUnsavedChanges && (\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen={ isLoadingRevisionWithUnsavedChanges }\n\t\t\t\t\tconfirmButtonText={ __( 'Apply' ) }\n\t\t\t\t\tonConfirm={ () =>\n\t\t\t\t\t\trestoreRevision( currentlySelectedRevision )\n\t\t\t\t\t}\n\t\t\t\t\tonCancel={ () =>\n\t\t\t\t\t\tsetIsLoadingRevisionWithUnsavedChanges( false )\n\t\t\t\t\t}\n\t\t\t\t\tsize=\"medium\"\n\t\t\t\t>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Are you sure you want to apply this revision? Any unsaved changes will be lost.'\n\t\t\t\t\t) }\n\t\t\t\t</ConfirmDialog>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenRevisions;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tstore as coreStore,\n\ttype GlobalStylesRevision,\n} from '@wordpress/core-data';\nimport { useContext, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from '../context';\nimport type { Revision, User } from './types';\n\ninterface RawRevision extends Omit< Revision, 'author' > {\n\tauthor?: number;\n}\n\ninterface Query {\n\tper_page?: number;\n\tpage?: number;\n}\n\ninterface UseGlobalStylesRevisionsParams {\n\tquery?: Query;\n}\n\ninterface UseGlobalStylesRevisionsReturn {\n\trevisions: Revision[];\n\thasUnsavedChanges: boolean;\n\tisLoading: boolean;\n\trevisionsCount: number;\n}\n\nconst SITE_EDITOR_AUTHORS_QUERY = {\n\tper_page: -1,\n\t_fields: 'id,name,avatar_urls',\n\tcontext: 'view',\n\tcapabilities: [ 'edit_theme_options' ],\n};\nconst DEFAULT_QUERY = { per_page: 100, page: 1 };\nconst EMPTY_ARRAY: [] = [];\n\nexport default function useGlobalStylesRevisions( {\n\tquery,\n}: UseGlobalStylesRevisionsParams = {} ): UseGlobalStylesRevisionsReturn {\n\tconst { user: userConfig } = useContext( GlobalStylesContext );\n\tconst _query: Query = useMemo(\n\t\t() => ( { ...DEFAULT_QUERY, ...query } ),\n\t\t[ query ]\n\t);\n\tconst {\n\t\tauthors,\n\t\tcurrentUser,\n\t\tisDirty,\n\t\trevisions,\n\t\tisLoadingGlobalStylesRevisions,\n\t\trevisionsCount,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\t__experimentalGetDirtyEntityRecords,\n\t\t\t\tgetCurrentUser,\n\t\t\t\tgetUsers,\n\t\t\t\tgetRevisions,\n\t\t\t\t__experimentalGetCurrentGlobalStylesId,\n\t\t\t\tgetEntityRecord,\n\t\t\t\t// @ts-expect-error\n\t\t\t\tisResolving,\n\t\t\t} = select( coreStore );\n\t\t\tconst dirtyEntityRecords =\n\t\t\t\t__experimentalGetDirtyEntityRecords() || [];\n\t\t\tconst _currentUser = getCurrentUser();\n\t\t\tconst _isDirty = dirtyEntityRecords.length > 0;\n\t\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\n\t\t\tconst globalStyles = globalStylesId\n\t\t\t\t? getEntityRecord< GlobalStylesRevision >(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\tglobalStylesId\n\t\t\t\t  )\n\t\t\t\t: undefined;\n\t\t\tconst _revisionsCount: number =\n\t\t\t\t// @ts-expect-error - _links is not typed in GlobalStylesRevision\n\t\t\t\tglobalStyles?._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\t\t// @ts-expect-error - getRevisions is not fully typed\n\t\t\tconst globalStylesRevisions: RawRevision[] = globalStylesId\n\t\t\t\t? getRevisions(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\tglobalStylesId,\n\t\t\t\t\t\t_query\n\t\t\t\t  ) || EMPTY_ARRAY\n\t\t\t\t: EMPTY_ARRAY;\n\t\t\t// @ts-expect-error - getUsers is not fully typed\n\t\t\tconst _authors: User[] =\n\t\t\t\tgetUsers( SITE_EDITOR_AUTHORS_QUERY ) || EMPTY_ARRAY;\n\t\t\tconst _isResolving = globalStylesId\n\t\t\t\t? isResolving( 'getRevisions', [\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\tglobalStylesId,\n\t\t\t\t\t\t_query,\n\t\t\t\t  ] )\n\t\t\t\t: false;\n\t\t\treturn {\n\t\t\t\tauthors: _authors,\n\t\t\t\tcurrentUser: _currentUser,\n\t\t\t\tisDirty: _isDirty,\n\t\t\t\trevisions: globalStylesRevisions,\n\t\t\t\tisLoadingGlobalStylesRevisions: _isResolving,\n\t\t\t\trevisionsCount: _revisionsCount,\n\t\t\t};\n\t\t},\n\t\t[ _query ]\n\t);\n\treturn useMemo( (): UseGlobalStylesRevisionsReturn => {\n\t\tif ( ! authors.length || isLoadingGlobalStylesRevisions ) {\n\t\t\treturn {\n\t\t\t\trevisions: EMPTY_ARRAY as Revision[],\n\t\t\t\thasUnsavedChanges: isDirty,\n\t\t\t\tisLoading: true,\n\t\t\t\trevisionsCount,\n\t\t\t};\n\t\t}\n\n\t\t// Adds author details to each revision.\n\t\tconst _modifiedRevisions: Revision[] = revisions.map( ( revision ) => {\n\t\t\treturn {\n\t\t\t\t...revision,\n\t\t\t\tauthor: authors.find(\n\t\t\t\t\t( author ) => author.id === revision.author\n\t\t\t\t),\n\t\t\t};\n\t\t} );\n\n\t\tconst fetchedRevisionsCount = revisions.length;\n\n\t\tif ( fetchedRevisionsCount ) {\n\t\t\t// Flags the most current saved revision.\n\t\t\tif (\n\t\t\t\t_modifiedRevisions[ 0 ].id !== 'unsaved' &&\n\t\t\t\t_query.page === 1\n\t\t\t) {\n\t\t\t\t_modifiedRevisions[ 0 ].isLatest = true;\n\t\t\t}\n\n\t\t\t// Adds an item for unsaved changes.\n\t\t\tif (\n\t\t\t\tisDirty &&\n\t\t\t\tuserConfig &&\n\t\t\t\tObject.keys( userConfig ).length > 0 &&\n\t\t\t\tcurrentUser &&\n\t\t\t\t_query.page === 1\n\t\t\t) {\n\t\t\t\tconst unsavedRevision: Revision = {\n\t\t\t\t\tid: 'unsaved',\n\t\t\t\t\tstyles: userConfig?.styles,\n\t\t\t\t\tsettings: userConfig?.settings,\n\t\t\t\t\t_links: userConfig?._links,\n\t\t\t\t\tauthor: {\n\t\t\t\t\t\tname: currentUser?.name || '',\n\t\t\t\t\t\t// @ts-expect-error - avatar_urls is not typed in User\n\t\t\t\t\t\tavatar_urls: currentUser?.avatar_urls || {},\n\t\t\t\t\t},\n\t\t\t\t\tmodified: new Date(),\n\t\t\t\t};\n\n\t\t\t\t_modifiedRevisions.unshift( unsavedRevision );\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t_query.per_page &&\n\t\t\t\t_query.page === Math.ceil( revisionsCount / _query.per_page )\n\t\t\t) {\n\t\t\t\t// Adds an item for the default theme styles.\n\t\t\t\t_modifiedRevisions.push( {\n\t\t\t\t\tid: 'parent',\n\t\t\t\t\tstyles: {},\n\t\t\t\t\tsettings: {},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\trevisions: _modifiedRevisions,\n\t\t\thasUnsavedChanges: isDirty,\n\t\t\tisLoading: false,\n\t\t\trevisionsCount,\n\t\t};\n\t}, [\n\t\tisDirty,\n\t\trevisions,\n\t\tcurrentUser,\n\t\tauthors,\n\t\tuserConfig,\n\t\tisLoadingGlobalStylesRevisions,\n\t\trevisionsCount,\n\t\t_query.page,\n\t\t_query.per_page,\n\t] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button, Composite } from '@wordpress/components';\nimport { dateI18n, getDate, humanTimeDiff, getSettings } from '@wordpress/date';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { getGlobalStylesChanges } from '@wordpress/global-styles-engine';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport type { Revision } from './types';\n\nconst DAY_IN_MILLISECONDS = 60 * 60 * 1000 * 24;\n\ninterface ChangesSummaryProps {\n\trevision: Revision;\n\tpreviousRevision?: Revision;\n}\n\nfunction ChangesSummary( { revision, previousRevision }: ChangesSummaryProps ) {\n\tconst changes: string[] = getGlobalStylesChanges(\n\t\trevision,\n\t\tpreviousRevision,\n\t\t{\n\t\t\tmaxResults: 7,\n\t\t}\n\t);\n\n\tif ( ! changes.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ul\n\t\t\tdata-testid=\"global-styles-revision-changes\"\n\t\t\tclassName=\"global-styles-ui-screen-revisions__changes\"\n\t\t>\n\t\t\t{ changes.map( ( change ) => (\n\t\t\t\t<li key={ change }>{ change }</li>\n\t\t\t) ) }\n\t\t</ul>\n\t);\n}\n\n/**\n * Returns a button label for the revision.\n * @param id\n * @param authorDisplayName\n * @param formattedModifiedDate\n * @param areStylesEqual\n */\nfunction getRevisionLabel(\n\tid: string | number,\n\tauthorDisplayName: string,\n\tformattedModifiedDate: string,\n\tareStylesEqual: boolean\n): string {\n\tif ( 'parent' === id ) {\n\t\treturn __( 'Reset the styles to the theme defaults' );\n\t}\n\n\tif ( 'unsaved' === id ) {\n\t\treturn sprintf(\n\t\t\t/* translators: %s: author display name */\n\t\t\t__( 'Unsaved changes by %s' ),\n\t\t\tauthorDisplayName\n\t\t);\n\t}\n\n\treturn areStylesEqual\n\t\t? sprintf(\n\t\t\t\t// translators: 1: author display name. 2: revision creation date.\n\t\t\t\t__(\n\t\t\t\t\t'Changes saved by %1$s on %2$s. This revision matches current editor styles.'\n\t\t\t\t),\n\t\t\t\tauthorDisplayName,\n\t\t\t\tformattedModifiedDate\n\t\t  )\n\t\t: sprintf(\n\t\t\t\t// translators: 1: author display name. 2: revision creation date.\n\t\t\t\t__( 'Changes saved by %1$s on %2$s' ),\n\t\t\t\tauthorDisplayName,\n\t\t\t\tformattedModifiedDate\n\t\t  );\n}\n\ninterface RevisionButtonsProps {\n\tuserRevisions: Revision[];\n\tselectedRevisionId?: string | number;\n\tonChange: ( revision: Revision ) => void;\n\tcanApplyRevision?: boolean;\n\tonApplyRevision?: () => void;\n}\n\n/**\n * Returns a rendered list of revisions buttons.\n * @param root0\n * @param root0.userRevisions\n * @param root0.selectedRevisionId\n * @param root0.onChange\n * @param root0.canApplyRevision\n * @param root0.onApplyRevision\n */\nfunction RevisionsButtons( {\n\tuserRevisions,\n\tselectedRevisionId,\n\tonChange,\n\tcanApplyRevision,\n\tonApplyRevision,\n}: RevisionButtonsProps ) {\n\tconst { currentThemeName, currentUser } = useSelect( ( select ) => {\n\t\tconst { getCurrentTheme, getCurrentUser } = select( coreStore );\n\t\tconst currentTheme = getCurrentTheme();\n\t\treturn {\n\t\t\tcurrentThemeName:\n\t\t\t\tcurrentTheme?.name?.rendered || currentTheme?.stylesheet,\n\t\t\tcurrentUser: getCurrentUser(),\n\t\t};\n\t}, [] );\n\tconst dateNowInMs = getDate( null ).getTime();\n\tconst { datetimeAbbreviated } = getSettings().formats;\n\n\treturn (\n\t\t<Composite\n\t\t\torientation=\"vertical\"\n\t\t\tclassName=\"global-styles-ui-screen-revisions__revisions-list\"\n\t\t\taria-label={ __( 'Global styles revisions list' ) }\n\t\t\trole=\"listbox\"\n\t\t>\n\t\t\t{ userRevisions.map( ( revision, index ) => {\n\t\t\t\tconst { id, author, modified } = revision;\n\t\t\t\tconst isUnsaved = 'unsaved' === id;\n\t\t\t\t// Unsaved changes are created by the current user.\n\t\t\t\tconst revisionAuthor = isUnsaved ? currentUser : author;\n\t\t\t\tconst authorDisplayName = revisionAuthor?.name || __( 'User' );\n\t\t\t\tconst authorAvatar = revisionAuthor?.avatar_urls?.[ '48' ];\n\t\t\t\tconst isFirstItem = index === 0;\n\t\t\t\tconst isSelected = selectedRevisionId\n\t\t\t\t\t? selectedRevisionId === id\n\t\t\t\t\t: isFirstItem;\n\t\t\t\tconst areStylesEqual = ! canApplyRevision && isSelected;\n\t\t\t\tconst isReset = 'parent' === id;\n\t\t\t\t// Convert modified to string if it's a Date, for type compatibility\n\t\t\t\tconst modifiedString =\n\t\t\t\t\tmodified instanceof Date\n\t\t\t\t\t\t? modified.toISOString()\n\t\t\t\t\t\t: modified;\n\t\t\t\tconst modifiedDate = getDate( modifiedString ?? null );\n\t\t\t\tconst displayDate =\n\t\t\t\t\tmodifiedString &&\n\t\t\t\t\tdateNowInMs - modifiedDate.getTime() > DAY_IN_MILLISECONDS\n\t\t\t\t\t\t? dateI18n( datetimeAbbreviated, modifiedDate )\n\t\t\t\t\t\t: humanTimeDiff(\n\t\t\t\t\t\t\t\tmodifiedString ?? modifiedDate,\n\t\t\t\t\t\t\t\tundefined\n\t\t\t\t\t\t  );\n\t\t\t\tconst revisionLabel = getRevisionLabel(\n\t\t\t\t\tid,\n\t\t\t\t\tauthorDisplayName,\n\t\t\t\t\tdateI18n( datetimeAbbreviated, modifiedDate ),\n\t\t\t\t\tareStylesEqual\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<Composite.Item\n\t\t\t\t\t\tkey={ id }\n\t\t\t\t\t\tclassName=\"global-styles-ui-screen-revisions__revision-item\"\n\t\t\t\t\t\taria-current={ isSelected }\n\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tconst { keyCode } = event;\n\t\t\t\t\t\t\tif ( keyCode === ENTER || keyCode === SPACE ) {\n\t\t\t\t\t\t\t\tonChange( revision );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tonChange( revision );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taria-selected={ isSelected }\n\t\t\t\t\t\taria-label={ revisionLabel }\n\t\t\t\t\t\trender={ <div /> }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__revision-item-wrapper\">\n\t\t\t\t\t\t\t{ isReset ? (\n\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__description\">\n\t\t\t\t\t\t\t\t\t{ __( 'Default styles' ) }\n\t\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__meta\">\n\t\t\t\t\t\t\t\t\t\t{ currentThemeName }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__description\">\n\t\t\t\t\t\t\t\t\t{ isUnsaved ? (\n\t\t\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__date\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( '(Unsaved)' ) }\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<time\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-screen-revisions__date\"\n\t\t\t\t\t\t\t\t\t\t\tdateTime={ modifiedString }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ displayDate }\n\t\t\t\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t<span className=\"global-styles-ui-screen-revisions__meta\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt={ authorDisplayName }\n\t\t\t\t\t\t\t\t\t\t\tsrc={ authorAvatar }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{ authorDisplayName }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t\t\t\t\t<ChangesSummary\n\t\t\t\t\t\t\t\t\t\t\trevision={ revision }\n\t\t\t\t\t\t\t\t\t\t\tpreviousRevision={\n\t\t\t\t\t\t\t\t\t\t\t\tindex < userRevisions.length\n\t\t\t\t\t\t\t\t\t\t\t\t\t? userRevisions[ index + 1 ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{ isSelected &&\n\t\t\t\t\t\t\t( areStylesEqual ? (\n\t\t\t\t\t\t\t\t<p className=\"global-styles-ui-screen-revisions__applied-text\">\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'These styles are already applied to your site.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\tclassName=\"global-styles-ui-screen-revisions__apply-button\"\n\t\t\t\t\t\t\t\t\tonClick={ onApplyRevision }\n\t\t\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t\t\t'Apply the selected revision to your site.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ isReset\n\t\t\t\t\t\t\t\t\t\t? __( 'Reset to defaults' )\n\t\t\t\t\t\t\t\t\t\t: __( 'Apply' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</Composite.Item>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Composite>\n\t);\n}\n\nexport default RevisionsButtons;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalText as Text,\n\tButton,\n} from '@wordpress/components';\nimport { __, _x, _n, sprintf, isRTL } from '@wordpress/i18n';\nimport { previous, chevronLeft, chevronRight, next } from '@wordpress/icons';\n\ninterface PaginationProps {\n\tcurrentPage: number;\n\tnumPages: number;\n\tchangePage: ( page: number ) => void;\n\ttotalItems: number;\n\tclassName?: string;\n\tdisabled?: boolean;\n\tbuttonVariant?: 'primary' | 'secondary' | 'tertiary';\n\tlabel?: string;\n}\n\nexport default function Pagination( {\n\tcurrentPage,\n\tnumPages,\n\tchangePage,\n\ttotalItems,\n\tclassName,\n\tdisabled = false,\n\tbuttonVariant = 'tertiary',\n\tlabel = __( 'Pagination' ),\n}: PaginationProps ) {\n\treturn (\n\t\t<HStack\n\t\t\texpanded={ false }\n\t\t\tas=\"nav\"\n\t\t\taria-label={ label }\n\t\t\tspacing={ 3 }\n\t\t\tjustify=\"flex-start\"\n\t\t\tclassName={ clsx( 'global-styles-ui-pagination', className ) }\n\t\t>\n\t\t\t<Text\n\t\t\t\tvariant=\"muted\"\n\t\t\t\tclassName=\"global-styles-ui-pagination__total\"\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: %d: Total number of patterns.\n\t\t\t\t\t_n( '%d item', '%d items', totalItems ),\n\t\t\t\t\ttotalItems\n\t\t\t\t) }\n\t\t\t</Text>\n\t\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t\t<Button\n\t\t\t\t\tvariant={ buttonVariant }\n\t\t\t\t\tonClick={ () => changePage( 1 ) }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tdisabled={ disabled || currentPage === 1 }\n\t\t\t\t\tlabel={ __( 'First page' ) }\n\t\t\t\t\ticon={ isRTL() ? next : previous }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tvariant={ buttonVariant }\n\t\t\t\t\tonClick={ () => changePage( currentPage - 1 ) }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tdisabled={ disabled || currentPage === 1 }\n\t\t\t\t\tlabel={ __( 'Previous page' ) }\n\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t\t<Text variant=\"muted\">\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: 1: Current page number. 2: Total number of pages.\n\t\t\t\t\t_x( '%1$d of %2$d', 'paging' ),\n\t\t\t\t\tcurrentPage,\n\t\t\t\t\tnumPages\n\t\t\t\t) }\n\t\t\t</Text>\n\t\t\t<HStack expanded={ false } spacing={ 1 }>\n\t\t\t\t<Button\n\t\t\t\t\tvariant={ buttonVariant }\n\t\t\t\t\tonClick={ () => changePage( currentPage + 1 ) }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tdisabled={ disabled || currentPage === numPages }\n\t\t\t\t\tlabel={ __( 'Next page' ) }\n\t\t\t\t\ticon={ isRTL() ? chevronLeft : chevronRight }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tvariant={ buttonVariant }\n\t\t\t\t\tonClick={ () => changePage( numPages ) }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tdisabled={ disabled || currentPage === numPages }\n\t\t\t\t\tlabel={ __( 'Last page' ) }\n\t\t\t\t\ticon={ isRTL() ? previous : next }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t</HStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf, isRTL } from '@wordpress/i18n';\nimport {\n\tprivateApis as componentsPrivateApis,\n\t__experimentalSpacer as Spacer,\n\t__experimentalView as View,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n\tButton,\n} from '@wordpress/components';\nimport {\n\tIcon,\n\tplus,\n\tmoreVertical,\n\tchevronLeft,\n\tchevronRight,\n} from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\nimport type { FontSize } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { Subtitle } from '../subtitle';\nimport { NavigationButtonAsItem } from '../navigation-button';\nimport { getNewIndexFromPresets } from '../utils';\nimport { ScreenHeader } from '../screen-header';\nimport ConfirmResetFontSizesDialog from './confirm-reset-font-sizes-dialog';\nimport { useSetting } from '../hooks';\nimport { unlock } from '../lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\ninterface FontSizeGroupProps {\n\tlabel: string;\n\torigin: string;\n\tsizes: FontSize[];\n\thandleAddFontSize: () => void;\n\thandleResetFontSizes?: () => void;\n}\n\nfunction FontSizeGroup( {\n\tlabel,\n\torigin,\n\tsizes,\n\thandleAddFontSize,\n\thandleResetFontSizes,\n}: FontSizeGroupProps ) {\n\tconst [ isResetDialogOpen, setIsResetDialogOpen ] = useState( false );\n\n\tconst toggleResetDialog = () => setIsResetDialogOpen( ! isResetDialogOpen );\n\n\tconst resetDialogText =\n\t\torigin === 'custom'\n\t\t\t? __(\n\t\t\t\t\t'Are you sure you want to remove all custom font size presets?'\n\t\t\t  )\n\t\t\t: __(\n\t\t\t\t\t'Are you sure you want to reset all font size presets to their default values?'\n\t\t\t  );\n\n\treturn (\n\t\t<>\n\t\t\t{ handleResetFontSizes && isResetDialogOpen && (\n\t\t\t\t<ConfirmResetFontSizesDialog\n\t\t\t\t\ttext={ resetDialogText }\n\t\t\t\t\tconfirmButtonText={\n\t\t\t\t\t\torigin === 'custom' ? __( 'Remove' ) : __( 'Reset' )\n\t\t\t\t\t}\n\t\t\t\t\tisOpen={ isResetDialogOpen }\n\t\t\t\t\ttoggleOpen={ toggleResetDialog }\n\t\t\t\t\tonConfirm={ handleResetFontSizes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<HStack>\n\t\t\t\t\t<Subtitle level={ 3 }>{ label }</Subtitle>\n\t\t\t\t\t<FlexItem className=\"global-styles-ui__typography-panel__options-container\">\n\t\t\t\t\t\t{ origin === 'custom' && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tlabel={ __( 'Add font size' ) }\n\t\t\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tonClick={ handleAddFontSize }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ !! handleResetFontSizes && (\n\t\t\t\t\t\t\t<Menu>\n\t\t\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Font size presets options'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t\t\t<Menu.Item onClick={ toggleResetDialog }>\n\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t{ origin === 'custom'\n\t\t\t\t\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Remove font size presets'\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Reset font size presets'\n\t\t\t\t\t\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</HStack>\n\n\t\t\t\t{ !! sizes.length && (\n\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t{ sizes.map( ( size ) => (\n\t\t\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\t\t\tkey={ size.slug }\n\t\t\t\t\t\t\t\tpath={ `/typography/font-sizes/${ origin }/${ size.slug }` }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<HStack>\n\t\t\t\t\t\t\t\t\t<FlexItem className=\"global-styles-ui-font-size__item\">\n\t\t\t\t\t\t\t\t\t\t{ size.name }\n\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t<FlexItem display=\"flex\">\n\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\tisRTL()\n\t\t\t\t\t\t\t\t\t\t\t\t\t? chevronLeft\n\t\t\t\t\t\t\t\t\t\t\t\t\t: chevronRight\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</ItemGroup>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</>\n\t);\n}\n\nfunction FontSizes() {\n\tconst [ themeFontSizes, setThemeFontSizes ] = useSetting(\n\t\t'typography.fontSizes.theme'\n\t);\n\n\tconst [ baseThemeFontSizes ] = useSetting(\n\t\t'typography.fontSizes.theme',\n\t\t'base'\n\t);\n\tconst [ defaultFontSizes, setDefaultFontSizes ] = useSetting(\n\t\t'typography.fontSizes.default'\n\t);\n\n\tconst [ baseDefaultFontSizes ] = useSetting(\n\t\t'typography.fontSizes.default',\n\t\t'base'\n\t);\n\n\tconst [ customFontSizes = [], setCustomFontSizes ] = useSetting(\n\t\t'typography.fontSizes.custom'\n\t);\n\n\tconst [ defaultFontSizesEnabled ] = useSetting(\n\t\t'typography.defaultFontSizes'\n\t);\n\n\tconst handleAddFontSize = () => {\n\t\tconst index = getNewIndexFromPresets( customFontSizes, 'custom-' );\n\t\tconst newFontSize = {\n\t\t\t/* translators: %d: font size index */\n\t\t\tname: sprintf( __( 'New Font Size %d' ), index ),\n\t\t\tsize: '16px',\n\t\t\tslug: `custom-${ index }`,\n\t\t};\n\n\t\tsetCustomFontSizes( [ ...customFontSizes, newFontSize ] );\n\t};\n\n\tconst hasSameSizeValues = ( arr1: FontSize[], arr2: FontSize[] ): boolean =>\n\t\tarr1.map( ( item ) => item.size ).join( '' ) ===\n\t\tarr2.map( ( item ) => item.size ).join( '' );\n\n\treturn (\n\t\t<VStack spacing={ 2 }>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Font size presets' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Create and edit the presets used for font sizes across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<View>\n\t\t\t\t<Spacer paddingX={ 4 }>\n\t\t\t\t\t<VStack spacing={ 8 }>\n\t\t\t\t\t\t{ !! themeFontSizes?.length && (\n\t\t\t\t\t\t\t<FontSizeGroup\n\t\t\t\t\t\t\t\tlabel={ __( 'Theme' ) }\n\t\t\t\t\t\t\t\torigin=\"theme\"\n\t\t\t\t\t\t\t\tsizes={ themeFontSizes }\n\t\t\t\t\t\t\t\thandleAddFontSize={ handleAddFontSize }\n\t\t\t\t\t\t\t\thandleResetFontSizes={\n\t\t\t\t\t\t\t\t\thasSameSizeValues(\n\t\t\t\t\t\t\t\t\t\tthemeFontSizes,\n\t\t\t\t\t\t\t\t\t\tbaseThemeFontSizes\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t: () =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetThemeFontSizes(\n\t\t\t\t\t\t\t\t\t\t\t\t\tbaseThemeFontSizes\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ defaultFontSizesEnabled &&\n\t\t\t\t\t\t\t!! defaultFontSizes?.length && (\n\t\t\t\t\t\t\t\t<FontSizeGroup\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Default' ) }\n\t\t\t\t\t\t\t\t\torigin=\"default\"\n\t\t\t\t\t\t\t\t\tsizes={ defaultFontSizes }\n\t\t\t\t\t\t\t\t\thandleAddFontSize={ handleAddFontSize }\n\t\t\t\t\t\t\t\t\thandleResetFontSizes={\n\t\t\t\t\t\t\t\t\t\thasSameSizeValues(\n\t\t\t\t\t\t\t\t\t\t\tdefaultFontSizes,\n\t\t\t\t\t\t\t\t\t\t\tbaseDefaultFontSizes\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t\t: () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetDefaultFontSizes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbaseDefaultFontSizes\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t<FontSizeGroup\n\t\t\t\t\t\t\tlabel={ __( 'Custom' ) }\n\t\t\t\t\t\t\torigin=\"custom\"\n\t\t\t\t\t\t\tsizes={ customFontSizes }\n\t\t\t\t\t\t\thandleAddFontSize={ handleAddFontSize }\n\t\t\t\t\t\t\thandleResetFontSizes={\n\t\t\t\t\t\t\t\tcustomFontSizes.length > 0\n\t\t\t\t\t\t\t\t\t? () => setCustomFontSizes( [] )\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</VStack>\n\t\t\t\t</Spacer>\n\t\t\t</View>\n\t\t</VStack>\n\t);\n}\n\nexport default FontSizes;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\ninterface ConfirmResetFontSizesDialogProps {\n\ttext: string;\n\tconfirmButtonText: string;\n\tisOpen: boolean;\n\ttoggleOpen: () => void;\n\tonConfirm: () => void;\n}\n\nfunction ConfirmResetFontSizesDialog( {\n\ttext,\n\tconfirmButtonText,\n\tisOpen,\n\ttoggleOpen,\n\tonConfirm,\n}: ConfirmResetFontSizesDialogProps ) {\n\tconst handleConfirm = async () => {\n\t\ttoggleOpen();\n\t\tonConfirm();\n\t};\n\n\tconst handleCancel = () => {\n\t\ttoggleOpen();\n\t};\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isOpen }\n\t\t\tcancelButtonText={ __( 'Cancel' ) }\n\t\t\tconfirmButtonText={ confirmButtonText }\n\t\t\tonCancel={ handleCancel }\n\t\t\tonConfirm={ handleConfirm }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ text }\n\t\t</ConfirmDialog>\n\t);\n}\n\nexport default ConfirmResetFontSizesDialog;\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\t__experimentalSpacer as Spacer,\n\tuseNavigator,\n\t__experimentalView as View,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tprivateApis as componentsPrivateApis,\n\tButton,\n\tFlexItem,\n\tToggleControl,\n} from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { useState, useEffect } from '@wordpress/element';\nimport type {\n\tTypographyPreset,\n\tFluidTypographySettings,\n\tFontSize,\n\tFluidTypographyConfig,\n} from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { ScreenHeader } from '../screen-header';\nimport FontSizePreview from './font-size-preview';\nimport ConfirmDeleteFontSizeDialog from './confirm-delete-font-size-dialog';\nimport RenameFontSizeDialog from './rename-font-size-dialog';\nimport { SizeControl } from '../size-control';\nimport { useSetting } from '../hooks';\nimport { unlock } from '../lock-unlock';\n\nconst { Menu } = unlock( componentsPrivateApis );\n\nfunction FontSize() {\n\tconst [ isDeleteConfirmOpen, setIsDeleteConfirmOpen ] = useState( false );\n\tconst [ isRenameDialogOpen, setIsRenameDialogOpen ] = useState( false );\n\n\tconst {\n\t\tparams: { origin, slug },\n\t\tgoBack,\n\t} = useNavigator();\n\n\tconst [ fontSizes, setFontSizes ] = useSetting<\n\t\tRecord< string, TypographyPreset[] > | undefined\n\t>( 'typography.fontSizes' );\n\tconst [ globalFluid ] = useSetting<\n\t\tboolean | FluidTypographySettings | undefined\n\t>( 'typography.fluid' );\n\n\t// Get the font sizes from the origin, default to empty array.\n\tconst sizes = fontSizes?.[ origin as string ] ?? [];\n\n\t// Get the font size by slug.\n\tconst fontSize: FontSize | undefined = sizes.find(\n\t\t( size ) => size.slug === slug\n\t);\n\n\t// Navigate to the font sizes list if the font size is not available.\n\tuseEffect( () => {\n\t\tif ( !! slug && ! fontSize ) {\n\t\t\tgoBack();\n\t\t}\n\t}, [ slug, fontSize, goBack ] );\n\n\tif ( ! origin || ! slug || ! fontSize ) {\n\t\treturn null;\n\t}\n\n\t// Whether the font size is fluid. If not defined, use the global fluid value of the theme.\n\tconst isFluid =\n\t\tfontSize?.fluid !== undefined ? !! fontSize.fluid : !! globalFluid;\n\n\t// Whether custom fluid values are used.\n\tconst isCustomFluid = typeof fontSize?.fluid === 'object';\n\n\tconst handleNameChange = ( value: string ) => {\n\t\tupdateFontSize( 'name', value );\n\t};\n\n\tconst handleFontSizeChange = ( value: string | undefined ) => {\n\t\tupdateFontSize( 'size', value );\n\t};\n\n\tconst handleFluidChange = ( value: boolean ) => {\n\t\tupdateFontSize( 'fluid', value );\n\t};\n\n\tconst handleCustomFluidValues = ( value: boolean ) => {\n\t\tif ( value ) {\n\t\t\t// If custom values are used, init the values with the current ones.\n\t\t\tupdateFontSize( 'fluid', {\n\t\t\t\tmin: fontSize.size,\n\t\t\t\tmax: fontSize.size,\n\t\t\t} );\n\t\t} else {\n\t\t\t// If custom fluid values are disabled, set fluid to true.\n\t\t\tupdateFontSize( 'fluid', true );\n\t\t}\n\t};\n\n\tconst handleMinChange = ( value: string | undefined ) => {\n\t\tconst fluid: FluidTypographyConfig =\n\t\t\ttypeof fontSize.fluid === 'object' ? fontSize.fluid : {};\n\t\tupdateFontSize( 'fluid', { ...fluid, min: value } );\n\t};\n\n\tconst handleMaxChange = ( value: string | undefined ) => {\n\t\tconst fluid: FluidTypographyConfig =\n\t\t\ttypeof fontSize.fluid === 'object' ? fontSize.fluid : {};\n\t\tupdateFontSize( 'fluid', { ...fluid, max: value } );\n\t};\n\n\tconst updateFontSize = ( key: string, value: any ) => {\n\t\tconst newFontSizes = sizes.map( ( size ) => {\n\t\t\tif ( size.slug === slug ) {\n\t\t\t\treturn { ...size, [ key ]: value }; // Create a new object with updated key\n\t\t\t}\n\t\t\treturn size;\n\t\t} );\n\n\t\tsetFontSizes( {\n\t\t\t...fontSizes,\n\t\t\t[ origin as string ]: newFontSizes,\n\t\t} );\n\t};\n\n\tconst handleRemoveFontSize = () => {\n\t\tconst newFontSizes = sizes.filter( ( size ) => size.slug !== slug );\n\t\tsetFontSizes( {\n\t\t\t...fontSizes,\n\t\t\t[ origin as string ]: newFontSizes,\n\t\t} );\n\t};\n\n\tconst toggleDeleteConfirm = () => {\n\t\tsetIsDeleteConfirmOpen( ! isDeleteConfirmOpen );\n\t};\n\n\tconst toggleRenameDialog = () => {\n\t\tsetIsRenameDialogOpen( ! isRenameDialogOpen );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmDeleteFontSizeDialog\n\t\t\t\tfontSize={ fontSize }\n\t\t\t\tisOpen={ isDeleteConfirmOpen }\n\t\t\t\ttoggleOpen={ toggleDeleteConfirm }\n\t\t\t\thandleRemoveFontSize={ handleRemoveFontSize }\n\t\t\t/>\n\n\t\t\t{ isRenameDialogOpen && (\n\t\t\t\t<RenameFontSizeDialog\n\t\t\t\t\tfontSize={ fontSize }\n\t\t\t\t\ttoggleOpen={ toggleRenameDialog }\n\t\t\t\t\thandleRename={ handleNameChange }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<HStack justify=\"space-between\" alignment=\"flex-start\">\n\t\t\t\t\t<ScreenHeader\n\t\t\t\t\t\ttitle={ fontSize.name }\n\t\t\t\t\t\tdescription={ sprintf(\n\t\t\t\t\t\t\t/* translators: %s: font size preset name. */\n\t\t\t\t\t\t\t__( 'Manage the font size %s.' ),\n\t\t\t\t\t\t\tfontSize.name\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ origin === 'custom' && (\n\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t<Spacer\n\t\t\t\t\t\t\t\tmarginTop={ 3 }\n\t\t\t\t\t\t\t\tmarginBottom={ 0 }\n\t\t\t\t\t\t\t\tpaddingX={ 4 }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Menu>\n\t\t\t\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Font size options'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Menu.Popover>\n\t\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\t\tonClick={ toggleRenameDialog }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Rename' ) }\n\t\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\t\tonClick={ toggleDeleteConfirm }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\n\t\t\t\t<View>\n\t\t\t\t\t<Spacer\n\t\t\t\t\t\tpaddingX={ 4 }\n\t\t\t\t\t\tmarginBottom={ 0 }\n\t\t\t\t\t\tpaddingBottom={ 6 }\n\t\t\t\t\t>\n\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<FontSizePreview fontSize={ fontSize } />\n\t\t\t\t\t\t\t</FlexItem>\n\n\t\t\t\t\t\t\t<SizeControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Size' ) }\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t! isCustomFluid && fontSize.size\n\t\t\t\t\t\t\t\t\t\t? String( fontSize.size )\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={ handleFontSizeChange }\n\t\t\t\t\t\t\t\tdisabled={ isCustomFluid }\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Fluid typography' ) }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Scale the font size dynamically to fit the screen or viewport.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tchecked={ isFluid }\n\t\t\t\t\t\t\t\tonChange={ handleFluidChange }\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{ isFluid && (\n\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Custom fluid values' ) }\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Set custom min and max values for the fluid font size.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tchecked={ isCustomFluid }\n\t\t\t\t\t\t\t\t\tonChange={ handleCustomFluidValues }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t{ isCustomFluid && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<SizeControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Minimum' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\ttypeof fontSize?.fluid === 'object'\n\t\t\t\t\t\t\t\t\t\t\t\t? fontSize.fluid?.min\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={ handleMinChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<SizeControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Maximum' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\ttypeof fontSize?.fluid === 'object'\n\t\t\t\t\t\t\t\t\t\t\t\t? fontSize.fluid?.max\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={ handleMaxChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</Spacer>\n\t\t\t\t</View>\n\t\t\t</VStack>\n\t\t</>\n\t);\n}\n\nexport default FontSize;\n", "/**\n * WordPress dependencies\n */\n// @ts-expect-error: Not typed yet.\nimport { getComputedFluidTypographyValue } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport type { FontSize } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { useStyle } from '../hooks';\n\ninterface FontSizePreviewProps {\n\tfontSize: FontSize;\n}\n\nfunction FontSizePreview( { fontSize }: FontSizePreviewProps ) {\n\tconst [ font ] = useStyle< { fontFamily?: string } >( 'typography' );\n\n\tconst input =\n\t\ttypeof fontSize?.fluid === 'object' &&\n\t\tfontSize?.fluid?.min &&\n\t\tfontSize?.fluid?.max\n\t\t\t? {\n\t\t\t\t\tminimumFontSize: fontSize.fluid.min,\n\t\t\t\t\tmaximumFontSize: fontSize.fluid.max,\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tfontSize: fontSize.size,\n\t\t\t  };\n\n\tconst computedFontSize = getComputedFluidTypographyValue( input );\n\treturn (\n\t\t<div\n\t\t\tclassName=\"global-styles-ui-typography-preview\"\n\t\t\tstyle={ {\n\t\t\t\tfontSize: computedFontSize,\n\t\t\t\tfontFamily: font?.fontFamily ?? 'serif',\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Aa' ) }\n\t\t</div>\n\t);\n}\n\nexport default FontSizePreview;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport type { FontSize } from '@wordpress/global-styles-engine';\n\ninterface ConfirmDeleteFontSizeDialogProps {\n\tfontSize: FontSize;\n\tisOpen: boolean;\n\ttoggleOpen: () => void;\n\thandleRemoveFontSize: ( fontSize: FontSize ) => void;\n}\n\nfunction ConfirmDeleteFontSizeDialog( {\n\tfontSize,\n\tisOpen,\n\ttoggleOpen,\n\thandleRemoveFontSize,\n}: ConfirmDeleteFontSizeDialogProps ) {\n\tconst handleConfirm = async () => {\n\t\ttoggleOpen();\n\t\thandleRemoveFontSize( fontSize );\n\t};\n\n\tconst handleCancel = () => {\n\t\ttoggleOpen();\n\t};\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isOpen }\n\t\t\tcancelButtonText={ __( 'Cancel' ) }\n\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\tonCancel={ handleCancel }\n\t\t\tonConfirm={ handleConfirm }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ fontSize &&\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: Name of the font size preset. */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Are you sure you want to delete \"%s\" font size preset?'\n\t\t\t\t\t),\n\t\t\t\t\tfontSize.name\n\t\t\t\t) }\n\t\t</ConfirmDialog>\n\t);\n}\n\nexport default ConfirmDeleteFontSizeDialog;\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalInputControl as InputControl,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tButton,\n\tModal,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport type { FontSize } from '@wordpress/global-styles-engine';\n\ninterface RenameFontSizeDialogProps {\n\tfontSize: FontSize;\n\ttoggleOpen: () => void;\n\thandleRename: ( newName: string ) => void;\n}\n\nfunction RenameFontSizeDialog( {\n\tfontSize,\n\ttoggleOpen,\n\thandleRename,\n}: RenameFontSizeDialogProps ) {\n\tconst [ newName, setNewName ] = useState< string | undefined >(\n\t\tfontSize.name\n\t);\n\n\tconst handleConfirm = () => {\n\t\t// If the new name is not empty, call the handleRename function\n\t\tif ( newName && newName.trim() ) {\n\t\t\thandleRename( newName );\n\t\t}\n\t\ttoggleOpen();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tonRequestClose={ toggleOpen }\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\ttitle={ __( 'Rename' ) }\n\t\t\tsize=\"small\"\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\thandleConfirm();\n\t\t\t\t\ttoggleOpen();\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t<InputControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={ newName }\n\t\t\t\t\t\tonChange={ setNewName }\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Font size preset name' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ toggleOpen }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n\nexport default RenameFontSizeDialog;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tRangeControl,\n\tFlex,\n\tFlexItem,\n\tuseBaseControlProps,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalSpacer as Spacer,\n} from '@wordpress/components';\n\nconst DEFAULT_UNITS = [ 'px', 'em', 'rem', 'vw', 'vh' ];\n\ninterface SizeControlProps {\n\tvalue?: string;\n\tonChange?: ( value: string | undefined ) => void;\n\tfallbackValue?: number;\n\tdisabled?: boolean;\n\tlabel?: string;\n}\n\nfunction SizeControl( props: SizeControlProps ) {\n\tconst { baseControlProps } = useBaseControlProps( props );\n\tconst { value, onChange, fallbackValue, disabled, label } = props;\n\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: DEFAULT_UNITS,\n\t} );\n\n\tconst [ valueQuantity, valueUnit = 'px' ] =\n\t\tparseQuantityAndUnitFromRawValue( value, units );\n\n\tconst isValueUnitRelative =\n\t\t!! valueUnit && [ 'em', 'rem', 'vw', 'vh' ].includes( valueUnit );\n\n\t// Receives the new value from the UnitControl component as a string containing the value and unit.\n\tconst handleUnitControlChange = ( newValue: string | undefined ) => {\n\t\tonChange?.( newValue );\n\t};\n\n\t// Receives the new value from the RangeControl component as a number.\n\tconst handleRangeControlChange = ( newValue: number | undefined ) => {\n\t\tif ( newValue !== undefined ) {\n\t\t\tonChange?.( newValue + valueUnit );\n\t\t} else {\n\t\t\tonChange?.( undefined );\n\t\t}\n\t};\n\n\treturn (\n\t\t<BaseControl { ...baseControlProps }>\n\t\t\t<Flex>\n\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ handleUnitControlChange }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t/>\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem isBlock>\n\t\t\t\t\t<Spacer marginX={ 2 } marginBottom={ 0 }>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalue={ valueQuantity }\n\t\t\t\t\t\t\tinitialPosition={ fallbackValue }\n\t\t\t\t\t\t\twithInputField={ false }\n\t\t\t\t\t\t\tonChange={ handleRangeControlChange }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ isValueUnitRelative ? 10 : 100 }\n\t\t\t\t\t\t\tstep={ isValueUnitRelative ? 0.1 : 1 }\n\t\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Spacer>\n\t\t\t\t</FlexItem>\n\t\t\t</Flex>\n\t\t</BaseControl>\n\t);\n}\n\nexport { SizeControl };\n", "/**\n * WordPress dependencies\n */\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesProvider } from './provider';\n\ninterface GlobalStylesProviderProps {\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( config: GlobalStylesConfig ) => void;\n}\n\n/**\n * Higher-order component that wraps a component with GlobalStylesProvider.\n * This allows components to access GlobalStylesContext without exposing\n * the provider directly in the public API.\n *\n * @param Component - The component to wrap\n * @return A wrapped component that accepts value, baseValue, and onChange props\n */\nexport function withGlobalStylesProvider< P extends object >(\n\tComponent: React.ComponentType< P >\n) {\n\treturn function WrappedComponent( {\n\t\tvalue,\n\t\tbaseValue,\n\t\tonChange,\n\t\t...props\n\t}: P & GlobalStylesProviderProps ) {\n\t\treturn (\n\t\t\t<GlobalStylesProvider\n\t\t\t\tvalue={ value }\n\t\t\t\tbaseValue={ baseValue }\n\t\t\t\tonChange={ onChange }\n\t\t\t>\n\t\t\t\t<Component { ...( props as P ) } />\n\t\t\t</GlobalStylesProvider>\n\t\t);\n\t};\n}\n", "/**\n * WordPress dependencies\n */\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport StyleVariationsContainer from './style-variations-container';\nimport { withGlobalStylesProvider } from './with-global-styles-provider';\n\nexport interface StyleVariationsProps {\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( config: GlobalStylesConfig ) => void;\n\tgap?: number;\n}\n\n/**\n * Render Style Variations.\n *\n * @example\n * ```tsx\n * <StyleVariations\n *   value={userConfig}\n *   baseValue={baseConfig}\n *   onChange={setUserConfig}\n *   gap={3}\n * />\n * ```\n */\nexport const StyleVariations: React.ComponentType< StyleVariationsProps > =\n\twithGlobalStylesProvider( StyleVariationsContainer );\n", "/**\n * WordPress dependencies\n */\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport ColorVariationsInternal from './variations/variations-color';\nimport { withGlobalStylesProvider } from './with-global-styles-provider';\n\nexport interface ColorVariationsProps {\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( config: GlobalStylesConfig ) => void;\n\ttitle?: string;\n\tgap?: number;\n}\n\n/**\n * Render Global Styles Color Variations.\n *\n * @example\n * ```tsx\n * <ColorVariations\n *   value={userConfig}\n *   baseValue={baseConfig}\n *   onChange={setUserConfig}\n *   title=\"Palettes\"\n *   gap={3}\n * />\n * ```\n */\nexport const ColorVariations: React.ComponentType< ColorVariationsProps > =\n\twithGlobalStylesProvider( ColorVariationsInternal );\n", "/**\n * WordPress dependencies\n */\nimport type { GlobalStylesConfig } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport TypographyVariationsInternal from './variations/variations-typography';\nimport { withGlobalStylesProvider } from './with-global-styles-provider';\n\nexport interface TypographyVariationsProps {\n\tvalue: GlobalStylesConfig;\n\tbaseValue: GlobalStylesConfig;\n\tonChange: ( config: GlobalStylesConfig ) => void;\n\ttitle?: string;\n\tgap?: number;\n}\n\n/**\n * Render Typography Variations.\n *\n * @example\n * ```tsx\n * <TypographyVariations\n *   value={userConfig}\n *   baseValue={baseConfig}\n *   onChange={setUserConfig}\n *   title=\"Typography\"\n *   gap={3}\n * />\n * ```\n */\nexport const TypographyVariations: React.ComponentType< TypographyVariationsProps > =\n\twithGlobalStylesProvider( TypographyVariationsInternal );\n", "/**\n * WordPress dependencies\n */\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesProvider } from '../provider';\nimport FontLibraryProvider from './context';\nimport InstalledFonts from './installed-fonts';\nimport UploadFonts from './upload-fonts';\nimport FontCollection from './font-collection';\n\ninterface FontLibraryProps {\n\tvalue: any;\n\tbaseValue: any;\n\tonChange: ( value: any ) => void;\n\tactiveTab?: string;\n\tonTabChange?: ( tab: string ) => void;\n}\n\nexport function FontLibrary( {\n\tvalue,\n\tbaseValue,\n\tonChange,\n\tactiveTab = 'installed-fonts',\n}: FontLibraryProps ) {\n\tlet content;\n\tswitch ( activeTab ) {\n\t\tcase 'upload-fonts':\n\t\t\tcontent = <UploadFonts />;\n\t\t\tbreak;\n\t\tcase 'installed-fonts':\n\t\t\tcontent = <InstalledFonts />;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tcontent = <FontCollection slug={ activeTab } />;\n\t}\n\n\treturn (\n\t\t<GlobalStylesProvider\n\t\t\tvalue={ value }\n\t\t\tbaseValue={ baseValue }\n\t\t\tonChange={ onChange }\n\t\t>\n\t\t\t<FontLibraryProvider>{ content }</FontLibraryProvider>\n\t\t</GlobalStylesProvider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { usePrevious } from '@wordpress/compose';\n\n/**\n * Auto-navigate to block styles when a block is selected in the canvas.\n *\n * @param {Object}   props\n * @param {string}   props.path         Current navigation path.\n * @param {Function} props.onPathChange Callback to change the navigation path.\n */\nexport function GlobalStylesBlockLink( { path, onPathChange } ) {\n\tconst { selectedBlockName, selectedBlockClientId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getSelectedBlockClientId, getBlockName } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst clientId = getSelectedBlockClientId();\n\t\t\treturn {\n\t\t\t\tselectedBlockName: getBlockName( clientId ),\n\t\t\t\tselectedBlockClientId: clientId,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\t// const blockHasGlobalStyles = useBlockHasGlobalStyles( selectedBlockName );\n\tconst blockHasGlobalStyles = true;\n\tconst previousBlockClientId = usePrevious( selectedBlockClientId );\n\n\t// When we're in the `Blocks` screen enable deep linking to the selected block.\n\tuseEffect( () => {\n\t\t// Only navigate when block selection changes, not when path changes\n\t\tif ( selectedBlockClientId === previousBlockClientId ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( ! selectedBlockClientId || ! blockHasGlobalStyles ) {\n\t\t\treturn;\n\t\t}\n\t\tif (\n\t\t\t! path ||\n\t\t\t( path !== '/blocks' && ! path.startsWith( '/blocks/' ) )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tconst newPath = '/blocks/' + encodeURIComponent( selectedBlockName );\n\t\t// Avoid navigating to the same path. This can happen when selecting\n\t\t// a new block of the same type.\n\t\tif ( newPath !== path ) {\n\t\t\tonPathChange?.( newPath );\n\t\t}\n\t}, [\n\t\tselectedBlockClientId,\n\t\tpreviousBlockClientId,\n\t\tselectedBlockName,\n\t\tblockHasGlobalStyles,\n\t\tpath,\n\t\tonPathChange,\n\t] );\n\n\treturn null;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback } from '@wordpress/element';\nimport {\n\tmergeGlobalStyles,\n\tgetStyle,\n\tgetSetting,\n} from '@wordpress/global-styles-engine';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\n\n/**\n * Hook to fetch and manage user global styles config\n */\nfunction useGlobalStylesUserConfig() {\n\tconst { globalStylesId, isReady, settings, styles, _links } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEntityRecord,\n\t\t\t\tgetEditedEntityRecord,\n\t\t\t\thasFinishedResolution,\n\t\t\t\tcanUser,\n\t\t\t} = select( coreStore );\n\t\t\tconst _globalStylesId =\n\t\t\t\tselect( coreStore ).__experimentalGetCurrentGlobalStylesId();\n\n\t\t\tlet record;\n\n\t\t\tconst userCanEditGlobalStyles = _globalStylesId\n\t\t\t\t? canUser( 'update', {\n\t\t\t\t\t\tkind: 'root',\n\t\t\t\t\t\tname: 'globalStyles',\n\t\t\t\t\t\tid: _globalStylesId,\n\t\t\t\t  } )\n\t\t\t\t: null;\n\n\t\t\tif (\n\t\t\t\t_globalStylesId &&\n\t\t\t\ttypeof userCanEditGlobalStyles === 'boolean'\n\t\t\t) {\n\t\t\t\tif ( userCanEditGlobalStyles ) {\n\t\t\t\t\trecord = getEditedEntityRecord(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t_globalStylesId\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\trecord = getEntityRecord(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t\t{ context: 'view' }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet hasResolved = false;\n\t\t\tif (\n\t\t\t\thasFinishedResolution(\n\t\t\t\t\t'__experimentalGetCurrentGlobalStylesId'\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tif ( _globalStylesId ) {\n\t\t\t\t\thasResolved = userCanEditGlobalStyles\n\t\t\t\t\t\t? hasFinishedResolution( 'getEditedEntityRecord', [\n\t\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t\t  ] )\n\t\t\t\t\t\t: hasFinishedResolution( 'getEntityRecord', [\n\t\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t\t\t\t{ context: 'view' },\n\t\t\t\t\t\t  ] );\n\t\t\t\t} else {\n\t\t\t\t\thasResolved = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tglobalStylesId: _globalStylesId,\n\t\t\t\tisReady: hasResolved,\n\t\t\t\tsettings: record?.settings,\n\t\t\t\tstyles: record?.styles,\n\t\t\t\t_links: record?._links,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\n\tconst config = useMemo( () => {\n\t\treturn {\n\t\t\tsettings: settings ?? {},\n\t\t\tstyles: styles ?? {},\n\t\t\t_links: _links ?? {},\n\t\t};\n\t}, [ settings, styles, _links ] );\n\n\tconst setConfig = useCallback(\n\t\t( callbackOrObject, options = {} ) => {\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId\n\t\t\t);\n\n\t\t\tconst currentConfig = {\n\t\t\t\tstyles: record?.styles ?? {},\n\t\t\t\tsettings: record?.settings ?? {},\n\t\t\t\t_links: record?._links ?? {},\n\t\t\t};\n\n\t\t\tconst updatedConfig =\n\t\t\t\ttypeof callbackOrObject === 'function'\n\t\t\t\t\t? callbackOrObject( currentConfig )\n\t\t\t\t\t: callbackOrObject;\n\n\t\t\teditEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId,\n\t\t\t\t{\n\t\t\t\t\tstyles: cleanEmptyObject( updatedConfig.styles ) || {},\n\t\t\t\t\tsettings: cleanEmptyObject( updatedConfig.settings ) || {},\n\t\t\t\t\t_links: cleanEmptyObject( updatedConfig._links ) || {},\n\t\t\t\t},\n\t\t\t\toptions\n\t\t\t);\n\t\t},\n\t\t[ globalStylesId, editEntityRecord, getEditedEntityRecord ]\n\t);\n\n\treturn [ isReady, config, setConfig ];\n}\n\n/**\n * Hook to fetch base/theme global styles config\n */\nfunction useGlobalStylesBaseConfig() {\n\tconst baseConfig = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).__experimentalGetCurrentThemeBaseGlobalStyles(),\n\t\t[]\n\t);\n\treturn [ !! baseConfig, baseConfig ];\n}\n\n/**\n * Hook to get merged global styles configuration\n *\n * @return {Object} Object containing merged, base, user configs and setUser function\n *                  { merged, base, user, setUser }\n */\nexport function useGlobalStyles() {\n\tconst [ isUserConfigReady, userConfig, setUserConfig ] =\n\t\tuseGlobalStylesUserConfig();\n\tconst [ isBaseConfigReady, baseConfig ] = useGlobalStylesBaseConfig();\n\n\tconst merged = useMemo( () => {\n\t\tif ( ! isUserConfigReady || ! isBaseConfigReady ) {\n\t\t\treturn {};\n\t\t}\n\t\treturn mergeGlobalStyles( baseConfig || {}, userConfig );\n\t}, [ isUserConfigReady, isBaseConfigReady, baseConfig, userConfig ] );\n\n\treturn {\n\t\tmerged,\n\t\tbase: baseConfig || {},\n\t\tuser: userConfig,\n\t\tsetUser: setUserConfig,\n\t\tisReady: isUserConfigReady && isBaseConfigReady,\n\t};\n}\n\n/**\n * Hook to get a style value from global styles\n *\n * @param {string}  path      Style path (e.g., 'color.background')\n * @param {string=} blockName Optional block name\n * @return {*} Style value\n */\nexport function useStyle( path, blockName ) {\n\tconst { merged } = useGlobalStyles();\n\treturn useMemo(\n\t\t() => getStyle( merged, path, blockName ),\n\t\t[ merged, path, blockName ]\n\t);\n}\n\n/**\n * Hook to get a setting value from global styles\n *\n * @param {string}  path      Setting path (e.g., 'spacing.blockGap')\n * @param {string=} blockName Optional block name\n * @return {*} Setting value\n */\nexport function useSetting( path, blockName ) {\n\tconst { merged } = useGlobalStyles();\n\treturn useMemo(\n\t\t() => getSetting( merged, path, blockName ),\n\t\t[ merged, path, blockName ]\n\t);\n}\n", "/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal';\n\n/**\n * WordPress dependencies\n */\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { createSelector, createRegistrySelector } from '@wordpress/data';\nimport {\n\tlayout,\n\tsymbol,\n\tnavigation,\n\tpage as pageIcon,\n\tverse,\n} from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { getRenderingMode, getCurrentPost } from './selectors';\nimport {\n\tgetEntityActions as _getEntityActions,\n\tgetEntityFields as _getEntityFields,\n\tisEntityReady as _isEntityReady,\n} from '../dataviews/store/private-selectors';\nimport { getTemplatePartIcon } from '../utils';\n\nconst EMPTY_INSERTION_POINT = {\n\trootClientId: undefined,\n\tinsertionIndex: undefined,\n\tfilterValue: undefined,\n};\n\n/**\n * These are rendering modes that the editor supports.\n */\nconst RENDERING_MODES = [ 'post-only', 'template-locked' ];\n\n/**\n * Get the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID, index to insert at and starting filter value.\n */\nexport const getInserter = createRegistrySelector( ( select ) =>\n\tcreateSelector(\n\t\t( state ) => {\n\t\t\tif ( typeof state.blockInserterPanel === 'object' ) {\n\t\t\t\treturn state.blockInserterPanel;\n\t\t\t}\n\n\t\t\tif ( getRenderingMode( state ) === 'template-locked' ) {\n\t\t\t\tconst [ postContentClientId ] =\n\t\t\t\t\tselect( blockEditorStore ).getBlocksByName(\n\t\t\t\t\t\t'core/post-content'\n\t\t\t\t\t);\n\t\t\t\tif ( postContentClientId ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\trootClientId: postContentClientId,\n\t\t\t\t\t\tinsertionIndex: undefined,\n\t\t\t\t\t\tfilterValue: undefined,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn EMPTY_INSERTION_POINT;\n\t\t},\n\t\t( state ) => {\n\t\t\tconst [ postContentClientId ] =\n\t\t\t\tselect( blockEditorStore ).getBlocksByName(\n\t\t\t\t\t'core/post-content'\n\t\t\t\t);\n\t\t\treturn [\n\t\t\t\tstate.blockInserterPanel,\n\t\t\t\tgetRenderingMode( state ),\n\t\t\t\tpostContentClientId,\n\t\t\t];\n\t\t}\n\t)\n);\n\nexport function getListViewToggleRef( state ) {\n\treturn state.listViewToggleRef;\n}\nexport function getInserterSidebarToggleRef( state ) {\n\treturn state.inserterSidebarToggleRef;\n}\nconst CARD_ICONS = {\n\twp_block: symbol,\n\twp_navigation: navigation,\n\tpage: pageIcon,\n\tpost: verse,\n};\n\nexport const getPostIcon = createRegistrySelector(\n\t( select ) => ( state, postType, options ) => {\n\t\t{\n\t\t\tif (\n\t\t\t\tpostType === 'wp_template_part' ||\n\t\t\t\tpostType === 'wp_template'\n\t\t\t) {\n\t\t\t\tconst templateAreas =\n\t\t\t\t\tselect( coreStore ).getCurrentTheme()\n\t\t\t\t\t\t?.default_template_part_areas || [];\n\n\t\t\t\tconst areaData = templateAreas.find(\n\t\t\t\t\t( item ) => options.area === item.area\n\t\t\t\t);\n\n\t\t\t\tif ( areaData?.icon ) {\n\t\t\t\t\treturn getTemplatePartIcon( areaData.icon );\n\t\t\t\t}\n\n\t\t\t\treturn layout;\n\t\t\t}\n\t\t\tif ( CARD_ICONS[ postType ] ) {\n\t\t\t\treturn CARD_ICONS[ postType ];\n\t\t\t}\n\t\t\tconst postTypeEntity = select( coreStore ).getPostType( postType );\n\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t// also supports urls and svg as values.\n\t\t\tif (\n\t\t\t\ttypeof postTypeEntity?.icon === 'string' &&\n\t\t\t\tpostTypeEntity.icon.startsWith( 'dashicons-' )\n\t\t\t) {\n\t\t\t\treturn postTypeEntity.icon.slice( 10 );\n\t\t\t}\n\t\t\treturn pageIcon;\n\t\t}\n\t}\n);\n\n/**\n * Returns true if there are unsaved changes to the\n * post's meta fields, and false otherwise.\n *\n * @param {Object} state    Global application state.\n * @param {string} postType The post type of the post.\n * @param {number} postId   The ID of the post.\n *\n * @return {boolean} Whether there are edits or not in the meta fields of the relevant post.\n */\nexport const hasPostMetaChanges = createRegistrySelector(\n\t( select ) => ( state, postType, postId ) => {\n\t\tconst { type: currentPostType, id: currentPostId } =\n\t\t\tgetCurrentPost( state );\n\t\t// If no postType or postId is passed, use the current post.\n\t\tconst edits = select( coreStore ).getEntityRecordNonTransientEdits(\n\t\t\t'postType',\n\t\t\tpostType || currentPostType,\n\t\t\tpostId || currentPostId\n\t\t);\n\n\t\tif ( ! edits?.meta ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Compare if anything apart from `footnotes` has changed.\n\t\tconst originalPostMeta = select( coreStore ).getEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType || currentPostType,\n\t\t\tpostId || currentPostId\n\t\t)?.meta;\n\n\t\treturn ! fastDeepEqual(\n\t\t\t{ ...originalPostMeta, footnotes: undefined },\n\t\t\t{ ...edits.meta, footnotes: undefined }\n\t\t);\n\t}\n);\n\nexport function getEntityActions( state, ...args ) {\n\treturn _getEntityActions( state.dataviews, ...args );\n}\n\nexport function isEntityReady( state, ...args ) {\n\treturn _isEntityReady( state.dataviews, ...args );\n}\n\nexport function getEntityFields( state, ...args ) {\n\treturn _getEntityFields( state.dataviews, ...args );\n}\n\n/**\n * Similar to getBlocksByName in @wordpress/block-editor, but only returns the top-most\n * blocks that aren't descendants of the query block.\n *\n * @param {Object}       state      Global application state.\n * @param {Array|string} blockNames Block names of the blocks to retrieve.\n *\n * @return {Array} Block client IDs.\n */\nexport const getPostBlocksByName = createRegistrySelector( ( select ) =>\n\tcreateSelector(\n\t\t( state, blockNames ) => {\n\t\t\tblockNames = Array.isArray( blockNames )\n\t\t\t\t? blockNames\n\t\t\t\t: [ blockNames ];\n\t\t\tconst { getBlocksByName, getBlockParents, getBlockName } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\treturn getBlocksByName( blockNames ).filter( ( clientId ) =>\n\t\t\t\tgetBlockParents( clientId ).every( ( parentClientId ) => {\n\t\t\t\t\tconst parentBlockName = getBlockName( parentClientId );\n\t\t\t\t\treturn (\n\t\t\t\t\t\t// Ignore descendents of the query block.\n\t\t\t\t\t\tparentBlockName !== 'core/query' &&\n\t\t\t\t\t\t// Enable only the top-most block.\n\t\t\t\t\t\t! blockNames.includes( parentBlockName )\n\t\t\t\t\t);\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t() => [ select( blockEditorStore ).getBlocks() ]\n\t)\n);\n\n/**\n * Returns the default rendering mode for a post type by user preference or post type configuration.\n *\n * @param {Object} state    Global application state.\n * @param {string} postType The post type.\n *\n * @return {string} The default rendering mode. Returns `undefined` while resolving value.\n */\nexport const getDefaultRenderingMode = createRegistrySelector(\n\t( select ) => ( state, postType ) => {\n\t\tconst { getPostType, getCurrentTheme, hasFinishedResolution } =\n\t\t\tselect( coreStore );\n\n\t\t// This needs to be called before `hasFinishedResolution`.\n\t\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\t\tconst currentTheme = getCurrentTheme();\n\t\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\t\tconst postTypeEntity = getPostType( postType );\n\n\t\t// Wait for the post type and theme resolution.\n\t\tif (\n\t\t\t! hasFinishedResolution( 'getPostType', [ postType ] ) ||\n\t\t\t! hasFinishedResolution( 'getCurrentTheme' )\n\t\t) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst theme = currentTheme?.stylesheet;\n\t\tconst defaultModePreference = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'renderingModes'\n\t\t)?.[ theme ]?.[ postType ];\n\t\tconst postTypeDefaultMode = Array.isArray(\n\t\t\tpostTypeEntity?.supports?.editor\n\t\t)\n\t\t\t? postTypeEntity.supports.editor.find(\n\t\t\t\t\t( features ) => 'default-mode' in features\n\t\t\t  )?.[ 'default-mode' ]\n\t\t\t: undefined;\n\n\t\tconst defaultMode = defaultModePreference || postTypeDefaultMode;\n\n\t\t// Fallback gracefully to 'post-only' when rendering mode is not supported.\n\t\tif ( ! RENDERING_MODES.includes( defaultMode ) ) {\n\t\t\treturn 'post-only';\n\t\t}\n\n\t\treturn defaultMode;\n\t}\n);\n\n/**\n * Get the current global styles navigation path.\n *\n * @param {Object} state Global application state.\n * @return {string} The current styles path.\n */\nexport function getStylesPath( state ) {\n\treturn state.stylesPath ?? '/';\n}\n\n/**\n * Get whether the stylebook is currently visible.\n *\n * @param {Object} state Global application state.\n * @return {boolean} Whether the stylebook is visible.\n */\nexport function getShowStylebook( state ) {\n\treturn state.showStylebook ?? false;\n}\n\n/**\n * Get the canvas minimum height.\n *\n * @param {Object} state Global application state.\n * @return {number} The canvas minimum height.\n */\nexport function getCanvasMinHeight( state ) {\n\treturn state.canvasMinHeight;\n}\n\n/**\n * Returns whether the editor is in revisions preview mode.\n *\n * @param {Object} state Global application state.\n * @return {boolean} Whether revisions mode is active.\n */\nexport function isRevisionsMode( state ) {\n\treturn state.revisionId !== null;\n}\n\n/**\n * Returns the current revision ID in revisions mode.\n *\n * @param {Object} state Global application state.\n * @return {number|null} The revision ID, or null if not in revisions mode.\n */\nexport function getCurrentRevisionId( state ) {\n\treturn state.revisionId;\n}\n\n/**\n * Returns the current revision object in revisions mode.\n *\n * @param {Object} state Global application state.\n * @return {Object|null|undefined} The revision object, null if loading, or undefined if not in revisions mode.\n */\nexport const getCurrentRevision = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst revisionId = getCurrentRevisionId( state );\n\t\tif ( ! revisionId ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst { type: postType, id: postId } = getCurrentPost( state );\n\t\t// - Use getRevisions (plural) instead of getRevision (singular) to\n\t\t//   avoid a race condition where both API calls complete around the\n\t\t//   same time and the single revision fetch overwrites the list in the\n\t\t//   store.\n\t\t// - getRevision also needs to be updated to check if there's any\n\t\t//   received revisions from the collection API call to avoid unnecessary\n\t\t//   API calls.\n\t\tconst revisions = select( coreStore ).getRevisions(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\t{ per_page: -1, context: 'edit' }\n\t\t);\n\t\tif ( ! revisions ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn revisions.find( ( r ) => r.id === revisionId ) ?? null;\n\t}\n);\n", "/**\n * Internal dependencies\n */\nimport type { State } from './reducer';\n\nconst EMPTY_ARRAY = [] as [];\n\nexport function getEntityActions( state: State, kind: string, name: string ) {\n\treturn state.actions[ kind ]?.[ name ] ?? EMPTY_ARRAY;\n}\n\nexport function getEntityFields( state: State, kind: string, name: string ) {\n\treturn state.fields[ kind ]?.[ name ] ?? EMPTY_ARRAY;\n}\n\nexport function isEntityReady( state: State, kind: string, name: string ) {\n\treturn state.isReady[ kind ]?.[ name ];\n}\n", "/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { userAutocompleter } from '../components';\n\nfunction setDefaultCompleters( completers = [] ) {\n\t// Provide copies so filters may directly modify them.\n\tcompleters.push( { ...userAutocompleter } );\n\n\treturn completers;\n}\n\naddFilter(\n\t'editor.Autocomplete.completers',\n\t'editor/autocompleters/set-default-completers',\n\tsetDefaultCompleters\n);\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Renders a user label for the autocompleter.\n *\n * @param {Object} user User object.\n * @return {JSX.Element} User label component.\n */\nexport function getUserLabel( user ) {\n\tconst avatar =\n\t\tuser.avatar_urls && user.avatar_urls[ 24 ] ? (\n\t\t\t<img\n\t\t\t\tclassName=\"editor-autocompleters__user-avatar\"\n\t\t\t\talt=\"\"\n\t\t\t\tsrc={ user.avatar_urls[ 24 ] }\n\t\t\t/>\n\t\t) : (\n\t\t\t<span className=\"editor-autocompleters__no-avatar\"></span>\n\t\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ avatar }\n\t\t\t<span className=\"editor-autocompleters__user-name\">\n\t\t\t\t{ user.name }\n\t\t\t</span>\n\t\t\t<span className=\"editor-autocompleters__user-slug\">\n\t\t\t\t{ user.slug }\n\t\t\t</span>\n\t\t</>\n\t);\n}\n\n/**\n * A user mentions completer.\n *\n * @type {Object}\n */\nexport default {\n\tname: 'users',\n\tclassName: 'editor-autocompleters__user',\n\ttriggerPrefix: '@',\n\n\tuseItems( filterValue ) {\n\t\tconst users = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst { getUsers } = select( coreStore );\n\t\t\t\treturn getUsers( {\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t\tsearch: encodeURIComponent( filterValue ),\n\t\t\t\t} );\n\t\t\t},\n\t\t\t[ filterValue ]\n\t\t);\n\n\t\tconst options = useMemo(\n\t\t\t() =>\n\t\t\t\tusers\n\t\t\t\t\t? users.map( ( user ) => ( {\n\t\t\t\t\t\t\tkey: `user-${ user.slug }`,\n\t\t\t\t\t\t\tvalue: user,\n\t\t\t\t\t\t\tlabel: getUserLabel( user ),\n\t\t\t\t\t  } ) )\n\t\t\t\t\t: [],\n\t\t\t[ users ]\n\t\t);\n\n\t\treturn [ options ];\n\t},\n\n\tgetOptionCompletion( user ) {\n\t\treturn `@${ user.slug }`;\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport class AutosaveMonitor extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.needsAutosave = !! ( props.isDirty && props.isAutosaveable );\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( ! this.props.disableIntervalChecks ) {\n\t\t\tthis.setAutosaveTimer();\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.disableIntervalChecks ) {\n\t\t\tif ( this.props.editsReference !== prevProps.editsReference ) {\n\t\t\t\tthis.props.autosave();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.interval !== prevProps.interval ) {\n\t\t\tclearTimeout( this.timerId );\n\t\t\tthis.setAutosaveTimer();\n\t\t}\n\n\t\tif ( ! this.props.isDirty ) {\n\t\t\tthis.needsAutosave = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.isAutosaving && ! prevProps.isAutosaving ) {\n\t\t\tthis.needsAutosave = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.editsReference !== prevProps.editsReference ) {\n\t\t\tthis.needsAutosave = true;\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout( this.timerId );\n\t}\n\n\tsetAutosaveTimer( timeout = this.props.interval * 1000 ) {\n\t\tthis.timerId = setTimeout( () => {\n\t\t\tthis.autosaveTimerHandler();\n\t\t}, timeout );\n\t}\n\n\tautosaveTimerHandler() {\n\t\tif ( ! this.props.isAutosaveable ) {\n\t\t\tthis.setAutosaveTimer( 1000 );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.needsAutosave ) {\n\t\t\tthis.needsAutosave = false;\n\t\t\tthis.props.autosave();\n\t\t}\n\n\t\tthis.setAutosaveTimer();\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\n/**\n * Monitors the changes made to the edited post and triggers autosave if necessary.\n *\n * The logic is straightforward: a check is performed every `props.interval` seconds. If any changes are detected, `props.autosave()` is called.\n * The time between the change and the autosave varies but is no larger than `props.interval` seconds. Refer to the code below for more details, such as\n * the specific way of detecting changes.\n *\n * There are two caveats:\n * * If `props.isAutosaveable` happens to be false at a time of checking for changes, the check is retried every second.\n * * The timer may be disabled by setting `props.disableIntervalChecks` to `true`. In that mode, any change will immediately trigger `props.autosave()`.\n *\n * @param {Object}   props                       - The properties passed to the component.\n * @param {Function} props.autosave              - The function to call when changes need to be saved.\n * @param {number}   props.interval              - The maximum time in seconds between an unsaved change and an autosave.\n * @param {boolean}  props.isAutosaveable        - If false, the check for changes is retried every second.\n * @param {boolean}  props.disableIntervalChecks - If true, disables the timer and any change will immediately trigger `props.autosave()`.\n * @param {boolean}  props.isDirty               - Indicates if there are unsaved changes.\n *\n * @example\n * ```jsx\n * <AutosaveMonitor interval={30000} />\n * ```\n */\nexport default compose( [\n\twithSelect( ( select, ownProps ) => {\n\t\tconst { getReferenceByDistinctEdits } = select( coreStore );\n\n\t\tconst {\n\t\t\tisEditedPostDirty,\n\t\t\tisEditedPostAutosaveable,\n\t\t\tisAutosavingPost,\n\t\t\tgetEditorSettings,\n\t\t} = select( editorStore );\n\n\t\tconst { interval = getEditorSettings().autosaveInterval } = ownProps;\n\n\t\treturn {\n\t\t\teditsReference: getReferenceByDistinctEdits(),\n\t\t\tisDirty: isEditedPostDirty(),\n\t\t\tisAutosaveable: isEditedPostAutosaveable(),\n\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\tinterval,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => ( {\n\t\tautosave() {\n\t\t\tconst { autosave = dispatch( editorStore ).autosave } = ownProps;\n\t\t\tautosave();\n\t\t},\n\t} ) ),\n] )( AutosaveMonitor );\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { BlockIcon, store as blockEditorStore } from '@wordpress/block-editor';\nimport { chevronLeftSmall, chevronRightSmall, layout } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as commandsStore } from '@wordpress/commands';\nimport { useRef, useEffect } from '@wordpress/element';\nimport { useReducedMotion } from '@wordpress/compose';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPES } from '../../store/constants';\nimport { store as editorStore } from '../../store';\nimport usePageTypeBadge from '../../utils/pageTypeBadge';\nimport { getTemplateInfo } from '../../utils/get-template-info';\nimport { getStylesCanvasTitle } from '../styles-canvas';\nimport { unlock } from '../../lock-unlock';\nimport useEditedSectionDetails from './useEditedSectionDetails';\n\n/** @typedef {import(\"@wordpress/components\").IconType} IconType */\n\nconst MotionButton = motion.create( Button );\n\n/**\n * This component renders a navigation bar at the top of the editor. It displays the title of the current document,\n * a back button (if applicable), and a command center button. It also handles different states of the document,\n * such as \"not found\" or \"unsynced\".\n *\n * @example\n * ```jsx\n * <DocumentBar />\n * ```\n *\n * @param {Object}   props       The component props.\n * @param {string}   props.title A title for the document, defaulting to the document or template title currently being edited.\n * @param {IconType} props.icon  An icon for the document, no default.\n *                               (A default icon indicating the document post type is no longer used.)\n *\n * @return {React.ReactNode} The rendered DocumentBar component.\n */\nexport default function DocumentBar( props ) {\n\t// Get action to lock the pattern design\n\tconst { stopEditingContentOnlySection } = unlock(\n\t\tuseDispatch( blockEditorStore )\n\t);\n\n\t// Get details about the currently edited content-only section\n\tconst unlockedPatternInfo = useEditedSectionDetails();\n\n\tconst {\n\t\tpostId,\n\t\tpostType,\n\t\tpostTypeLabel,\n\t\tdocumentTitle,\n\t\tisNotFound,\n\t\ttemplateTitle,\n\t\tonNavigateToPreviousEntityRecord,\n\t\tisTemplatePreview,\n\t\tstylesCanvasTitle,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetCurrentPostType,\n\t\t\tgetCurrentPostId,\n\t\t\tgetEditorSettings,\n\t\t\tgetRenderingMode,\n\t\t} = select( editorStore );\n\n\t\tconst {\n\t\t\tgetEditedEntityRecord,\n\t\t\tgetPostType,\n\t\t\tgetCurrentTheme,\n\t\t\tisResolving: isResolvingSelector,\n\t\t} = select( coreStore );\n\t\tconst _postType = getCurrentPostType();\n\t\tconst _postId = getCurrentPostId();\n\t\tconst _document = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\t_postType,\n\t\t\t_postId\n\t\t);\n\n\t\tconst { default_template_types: templateTypes = [] } =\n\t\t\tgetCurrentTheme() ?? {};\n\n\t\tconst _templateInfo = getTemplateInfo( {\n\t\t\ttemplateTypes,\n\t\t\ttemplate: _document,\n\t\t} );\n\t\tconst _postTypeLabel = getPostType( _postType )?.labels?.singular_name;\n\n\t\t// Check if styles canvas is active and get its title\n\t\tconst { getStylesPath, getShowStylebook } = unlock(\n\t\t\tselect( editorStore )\n\t\t);\n\t\tconst _stylesPath = getStylesPath();\n\t\tconst _showStylebook = getShowStylebook();\n\t\tconst _stylesCanvasTitle = getStylesCanvasTitle(\n\t\t\t_stylesPath,\n\t\t\t_showStylebook\n\t\t);\n\n\t\treturn {\n\t\t\tpostId: _postId,\n\t\t\tpostType: _postType,\n\t\t\tpostTypeLabel: _postTypeLabel,\n\t\t\tdocumentTitle: _document.title,\n\t\t\tisNotFound:\n\t\t\t\t! _document &&\n\t\t\t\t! isResolvingSelector(\n\t\t\t\t\t'getEditedEntityRecord',\n\t\t\t\t\t'postType',\n\t\t\t\t\t_postType,\n\t\t\t\t\t_postId\n\t\t\t\t),\n\t\t\ttemplateTitle: _templateInfo.title,\n\t\t\tonNavigateToPreviousEntityRecord:\n\t\t\t\tgetEditorSettings().onNavigateToPreviousEntityRecord,\n\t\t\tisTemplatePreview: getRenderingMode() === 'template-locked',\n\t\t\tstylesCanvasTitle: _stylesCanvasTitle,\n\t\t};\n\t}, [] );\n\n\tconst { open: openCommandCenter } = useDispatch( commandsStore );\n\tconst isReducedMotion = useReducedMotion();\n\n\tconst isTemplate = TEMPLATE_POST_TYPES.includes( postType );\n\tconst hasBackButton =\n\t\t!! onNavigateToPreviousEntityRecord || !! unlockedPatternInfo;\n\tconst entityTitle = isTemplate ? templateTitle : documentTitle;\n\n\t// Use pattern info if a pattern block is unlocked, otherwise use document/entity info\n\tconst title =\n\t\tunlockedPatternInfo?.patternTitle ||\n\t\tprops.title ||\n\t\tstylesCanvasTitle ||\n\t\tentityTitle;\n\tconst icon = props.icon;\n\n\t// Determine the back button action\n\tconst handleBackClick = ( event ) => {\n\t\tevent.stopPropagation();\n\t\tif ( unlockedPatternInfo ) {\n\t\t\tstopEditingContentOnlySection();\n\t\t} else if ( onNavigateToPreviousEntityRecord ) {\n\t\t\tonNavigateToPreviousEntityRecord();\n\t\t}\n\t};\n\n\tconst pageTypeBadge = usePageTypeBadge( postId );\n\n\tconst mountedRef = useRef( false );\n\tuseEffect( () => {\n\t\tmountedRef.current = true;\n\t}, [] );\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ clsx( 'editor-document-bar', {\n\t\t\t\t'has-back-button': hasBackButton,\n\t\t\t} ) }\n\t\t>\n\t\t\t<AnimatePresence>\n\t\t\t\t{ hasBackButton && (\n\t\t\t\t\t<MotionButton\n\t\t\t\t\t\tclassName=\"editor-document-bar__back\"\n\t\t\t\t\t\ticon={ isRTL() ? chevronRightSmall : chevronLeftSmall }\n\t\t\t\t\t\tonClick={ handleBackClick }\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tinitial={\n\t\t\t\t\t\t\tmountedRef.current\n\t\t\t\t\t\t\t\t? { opacity: 0, transform: 'translateX(15%)' }\n\t\t\t\t\t\t\t\t: false // Don't show entry animation when DocumentBar mounts.\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimate={ { opacity: 1, transform: 'translateX(0%)' } }\n\t\t\t\t\t\texit={ { opacity: 0, transform: 'translateX(15%)' } }\n\t\t\t\t\t\ttransition={\n\t\t\t\t\t\t\tisReducedMotion ? { duration: 0 } : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t\t</MotionButton>\n\t\t\t\t) }\n\t\t\t</AnimatePresence>\n\t\t\t{ ! isTemplate && isTemplatePreview && ! hasBackButton && (\n\t\t\t\t<BlockIcon\n\t\t\t\t\ticon={ layout }\n\t\t\t\t\tclassName=\"editor-document-bar__icon-layout\"\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isNotFound ? (\n\t\t\t\t<Text>{ __( 'Document not found' ) }</Text>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"editor-document-bar__command\"\n\t\t\t\t\tonClick={ () => openCommandCenter() }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t>\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tclassName=\"editor-document-bar__title\"\n\t\t\t\t\t\t// Force entry animation when the back button is added or removed.\n\t\t\t\t\t\tkey={ hasBackButton }\n\t\t\t\t\t\tinitial={\n\t\t\t\t\t\t\tmountedRef.current\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t\t\ttransform: hasBackButton\n\t\t\t\t\t\t\t\t\t\t\t? 'translateX(15%)'\n\t\t\t\t\t\t\t\t\t\t\t: 'translateX(-15%)',\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: false // Don't show entry animation when DocumentBar mounts.\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimate={ {\n\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\ttransform: 'translateX(0%)',\n\t\t\t\t\t\t} }\n\t\t\t\t\t\ttransition={\n\t\t\t\t\t\t\tisReducedMotion ? { duration: 0 } : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ icon && <BlockIcon icon={ icon } /> }\n\t\t\t\t\t\t<Text size=\"body\" as=\"h1\">\n\t\t\t\t\t\t\t<span className=\"editor-document-bar__post-title\">\n\t\t\t\t\t\t\t\t{ title\n\t\t\t\t\t\t\t\t\t? stripHTML( title )\n\t\t\t\t\t\t\t\t\t: __( 'No title' ) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{ unlockedPatternInfo && (\n\t\t\t\t\t\t\t\t<span className=\"editor-document-bar__post-type-label\">\n\t\t\t\t\t\t\t\t\t{ unlockedPatternInfo.type ===\n\t\t\t\t\t\t\t\t\t'template-part'\n\t\t\t\t\t\t\t\t\t\t? `\u00B7 ${ __( 'Template Part' ) }`\n\t\t\t\t\t\t\t\t\t\t: `\u00B7 ${ __( 'Pattern' ) }` }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ ! unlockedPatternInfo && pageTypeBadge && (\n\t\t\t\t\t\t\t\t<span className=\"editor-document-bar__post-type-label\">\n\t\t\t\t\t\t\t\t\t{ `\u00B7 ${ pageTypeBadge }` }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ ! unlockedPatternInfo &&\n\t\t\t\t\t\t\t\tpostTypeLabel &&\n\t\t\t\t\t\t\t\t! props.title &&\n\t\t\t\t\t\t\t\t! pageTypeBadge && (\n\t\t\t\t\t\t\t\t\t<span className=\"editor-document-bar__post-type-label\">\n\t\t\t\t\t\t\t\t\t\t{ `\u00B7 ${ decodeEntities(\n\t\t\t\t\t\t\t\t\t\t\tpostTypeLabel\n\t\t\t\t\t\t\t\t\t\t) }` }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</motion.div>\n\t\t\t\t\t<span className=\"editor-document-bar__shortcut\">\n\t\t\t\t\t\t{ displayShortcut.primary( 'k' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Custom hook to get the page type badge for the current post on edit site view.\n *\n * @param {number|string} postId postId of the current post being edited.\n */\nexport default function usePageTypeBadge( postId ) {\n\tconst { isFrontPage, isPostsPage } = useSelect( ( select ) => {\n\t\tconst { canUser, getEditedEntityRecord } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\n\t\tconst _postId = parseInt( postId, 10 );\n\n\t\treturn {\n\t\t\tisFrontPage: siteSettings?.page_on_front === _postId,\n\t\t\tisPostsPage: siteSettings?.page_for_posts === _postId,\n\t\t};\n\t} );\n\n\tif ( isFrontPage ) {\n\t\treturn __( 'Homepage' );\n\t} else if ( isPostsPage ) {\n\t\treturn __( 'Posts Page' );\n\t}\n\n\treturn false;\n}\n", "/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { closeSmall } from '@wordpress/icons';\nimport { useFocusOnMount, useFocusReturn } from '@wordpress/compose';\nimport { store as preferencesStore } from '@wordpress/preferences';\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport StylesCanvasStyleBook from './style-book';\nimport StylesCanvasRevisions from './revisions';\nimport { store as editorStore } from '../../store';\nimport ResizableEditor from '../resizable-editor';\n\n/**\n * Helper function to get the title for the styles canvas based on current state.\n *\n * @param {string}  path          Current styles path.\n * @param {boolean} showStylebook Whether stylebook is visible.\n * @return {string} Translated string for the canvas title.\n */\nexport function getStylesCanvasTitle( path, showStylebook ) {\n\tif ( showStylebook ) {\n\t\treturn __( 'Style Book' );\n\t}\n\tif ( path?.startsWith( '/revisions' ) ) {\n\t\treturn __( 'Style Revisions' );\n\t}\n\treturn '';\n}\n\n/**\n * Styles canvas component - orchestrates rendering of style book and revisions.\n * Determines what content to show based on global styles navigation state.\n *\n * @return {JSX.Element|null} The styles canvas or null if nothing to render.\n */\nexport default function StylesCanvas() {\n\tconst { stylesPath, showStylebook, showListViewByDefault } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getStylesPath, getShowStylebook } = unlock(\n\t\t\t\tselect( editorStore )\n\t\t\t);\n\n\t\t\tconst _showListViewByDefault = select( preferencesStore ).get(\n\t\t\t\t'core',\n\t\t\t\t'showListViewByDefault'\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tstylesPath: getStylesPath(),\n\t\t\t\tshowStylebook: getShowStylebook(),\n\t\t\t\tshowListViewByDefault: _showListViewByDefault,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst { resetStylesNavigation, setStylesPath } = unlock(\n\t\tuseDispatch( editorStore )\n\t);\n\tconst { setIsListViewOpened } = useDispatch( editorStore );\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\tconst sectionFocusReturnRef = useFocusReturn();\n\n\t// Determine what content to render\n\tlet content = null;\n\n\tif ( showStylebook ) {\n\t\tcontent = (\n\t\t\t<StylesCanvasStyleBook\n\t\t\t\tpath={ stylesPath }\n\t\t\t\tonPathChange={ setStylesPath }\n\t\t\t\tref={ sectionFocusReturnRef }\n\t\t\t/>\n\t\t);\n\t} else if ( stylesPath?.startsWith( '/revisions' ) ) {\n\t\tcontent = (\n\t\t\t<StylesCanvasRevisions\n\t\t\t\tpath={ stylesPath }\n\t\t\t\tref={ sectionFocusReturnRef }\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst title = getStylesCanvasTitle( stylesPath, showStylebook );\n\tconst onCloseCanvas = () => {\n\t\tsetIsListViewOpened( showListViewByDefault );\n\t\tresetStylesNavigation();\n\t};\n\n\tconst closeOnEscape = ( event ) => {\n\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\tevent.preventDefault();\n\t\t\tonCloseCanvas();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"editor-styles-canvas\">\n\t\t\t<ResizableEditor enableResizing={ false }>\n\t\t\t\t{ /* eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions */ }\n\t\t\t\t<section\n\t\t\t\t\tclassName=\"editor-styles-canvas__section\"\n\t\t\t\t\tref={ focusOnMountRef }\n\t\t\t\t\tonKeyDown={ closeOnEscape }\n\t\t\t\t\taria-label={ title }\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tclassName=\"editor-styles-canvas__close-button\"\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tlabel={ __( 'Close' ) }\n\t\t\t\t\t\tonClick={ onCloseCanvas }\n\t\t\t\t\t/>\n\t\t\t\t\t{ content }\n\t\t\t\t</section>\n\t\t\t</ResizableEditor>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport StyleBook from '../style-book';\nimport { STYLE_BOOK_COLOR_GROUPS } from '../style-book/constants';\n\n/**\n * Style Book content component for global styles.\n * Provides the business logic for StyleBook behavior in the global styles context.\n *\n * @param {Object}                       props              Component props.\n * @param {string}                       props.path         Current path in global styles.\n * @param {Function}                     props.onPathChange Callback when the path changes.\n * @param {import('react').ForwardedRef} ref                Ref to the Style Book component.\n * @return {JSX.Element} The Style Book component.\n */\nfunction StylesCanvasStyleBook( { path, onPathChange }, ref ) {\n\treturn (\n\t\t<StyleBook\n\t\t\tref={ ref }\n\t\t\tisSelected={ ( blockName ) =>\n\t\t\t\t// Match '/blocks/core%2Fbutton' and\n\t\t\t\t// '/blocks/core%2Fbutton/typography', but not\n\t\t\t\t// '/blocks/core%2Fbuttons'.\n\t\t\t\tpath === `/blocks/${ encodeURIComponent( blockName ) }` ||\n\t\t\t\tpath?.startsWith(\n\t\t\t\t\t`/blocks/${ encodeURIComponent( blockName ) }/`\n\t\t\t\t)\n\t\t\t}\n\t\t\tonSelect={ ( blockName ) => {\n\t\t\t\tif (\n\t\t\t\t\tSTYLE_BOOK_COLOR_GROUPS.find(\n\t\t\t\t\t\t( group ) => group.slug === blockName\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t// Go to color palettes Global Styles.\n\t\t\t\t\tonPathChange?.( '/colors/palette' );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( blockName === 'typography' ) {\n\t\t\t\t\t// Go to typography Global Styles.\n\t\t\t\t\tonPathChange?.( '/typography' );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Now go to the selected block.\n\t\t\t\tonPathChange?.( '/blocks/' + encodeURIComponent( blockName ) );\n\t\t\t} }\n\t\t/>\n\t);\n}\nexport default forwardRef( StylesCanvasStyleBook );\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tDisabled,\n\tComposite,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport {\n\tBlockList,\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n\tuseSettings,\n\tBlockEditorProvider,\n\t__unstableEditorStyles as EditorStyles,\n\t__unstableIframe as Iframe,\n\t__experimentalUseMultipleOriginColorsAndGradients as useMultipleOriginColorsAndGradients,\n} from '@wordpress/block-editor';\nimport { useSelect, dispatch } from '@wordpress/data';\nimport { mergeGlobalStyles } from '@wordpress/global-styles-engine';\nimport {\n\tuseMemo,\n\tuseState,\n\tmemo,\n\tuseRef,\n\tuseLayoutEffect,\n\tuseEffect,\n\tforwardRef,\n} from '@wordpress/element';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\nimport { uploadMedia } from '@wordpress/media-utils';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { STYLE_BOOK_IFRAME_STYLES } from './constants';\nimport {\n\tgetExamplesByCategory,\n\tgetTopLevelStyleBookCategories,\n} from './categories';\nimport { getExamples } from './examples';\nimport { GlobalStylesRenderer } from '../global-styles-renderer';\nimport {\n\tSTYLE_BOOK_COLOR_GROUPS,\n\tSTYLE_BOOK_PREVIEW_CATEGORIES,\n} from '../style-book/constants';\nimport { useGlobalStylesOutputWithConfig } from '../../hooks/use-global-styles-output';\nimport { useStyle, useGlobalStyles } from '../global-styles';\nimport { store as editorStore } from '../../store';\n\nconst { ExperimentalBlockEditorProvider } = unlock( blockEditorPrivateApis );\nconst { Tabs } = unlock( componentsPrivateApis );\n\nfunction isObjectEmpty( object ) {\n\treturn ! object || Object.keys( object ).length === 0;\n}\n\n/**\n * Scrolls to a section within an iframe.\n *\n * @param {string}            anchorId The id of the element to scroll to.\n * @param {HTMLIFrameElement} iframe   The target iframe.\n */\nconst scrollToSection = ( anchorId, iframe ) => {\n\tif ( ! anchorId || ! iframe || ! iframe?.contentDocument ) {\n\t\treturn;\n\t}\n\n\tconst element =\n\t\tanchorId === 'top'\n\t\t\t? iframe.contentDocument.body\n\t\t\t: iframe.contentDocument.getElementById( anchorId );\n\tif ( element ) {\n\t\telement.scrollIntoView( {\n\t\t\tbehavior: 'smooth',\n\t\t} );\n\t}\n};\n\n/**\n * Parses a Block Editor navigation path to build a style book navigation path.\n * The object can be extended to include a category, representing a style book tab/section.\n *\n * @param {string} path An internal Block Editor navigation path.\n * @return {null|{block: string}} An object containing the example to navigate to.\n */\nconst getStyleBookNavigationFromPath = ( path ) => {\n\tif ( path && typeof path === 'string' ) {\n\t\tif (\n\t\t\tpath === '/' ||\n\t\t\tpath.startsWith( '/typography' ) ||\n\t\t\tpath.startsWith( '/colors' ) ||\n\t\t\tpath.startsWith( '/blocks' )\n\t\t) {\n\t\t\treturn {\n\t\t\t\ttop: true,\n\t\t\t};\n\t\t}\n\t}\n\treturn null;\n};\n\n/**\n * Retrieves colors, gradients, and duotone filters from Global Styles.\n * The inclusion of default (Core) palettes is controlled by the relevant\n * theme.json property e.g. defaultPalette, defaultGradients, defaultDuotone.\n *\n * @return {Object} Object containing properties for each type of palette.\n */\nfunction useMultiOriginPalettes() {\n\tconst { colors, gradients } = useMultipleOriginColorsAndGradients();\n\n\t// Add duotone filters to the palettes data.\n\tconst [\n\t\tshouldDisplayDefaultDuotones,\n\t\tcustomDuotones,\n\t\tthemeDuotones,\n\t\tdefaultDuotones,\n\t] = useSettings(\n\t\t'color.defaultDuotone',\n\t\t'color.duotone.custom',\n\t\t'color.duotone.theme',\n\t\t'color.duotone.default'\n\t);\n\n\tconst palettes = useMemo( () => {\n\t\tconst result = { colors, gradients, duotones: [] };\n\n\t\tif ( themeDuotones && themeDuotones.length ) {\n\t\t\tresult.duotones.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Theme',\n\t\t\t\t\t'Indicates these duotone filters come from the theme.'\n\t\t\t\t),\n\t\t\t\tslug: 'theme',\n\t\t\t\tduotones: themeDuotones,\n\t\t\t} );\n\t\t}\n\n\t\tif (\n\t\t\tshouldDisplayDefaultDuotones &&\n\t\t\tdefaultDuotones &&\n\t\t\tdefaultDuotones.length\n\t\t) {\n\t\t\tresult.duotones.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Default',\n\t\t\t\t\t'Indicates these duotone filters come from WordPress.'\n\t\t\t\t),\n\t\t\t\tslug: 'default',\n\t\t\t\tduotones: defaultDuotones,\n\t\t\t} );\n\t\t}\n\t\tif ( customDuotones && customDuotones.length ) {\n\t\t\tresult.duotones.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Custom',\n\t\t\t\t\t'Indicates these doutone filters are created by the user.'\n\t\t\t\t),\n\t\t\t\tslug: 'custom',\n\t\t\t\tduotones: customDuotones,\n\t\t\t} );\n\t\t}\n\n\t\treturn result;\n\t}, [\n\t\tcolors,\n\t\tgradients,\n\t\tcustomDuotones,\n\t\tthemeDuotones,\n\t\tdefaultDuotones,\n\t\tshouldDisplayDefaultDuotones,\n\t] );\n\n\treturn palettes;\n}\n\n/**\n * Get deduped examples for single page stylebook.\n * @param {Array} examples Array of examples.\n * @return {Array} Deduped examples.\n */\nexport function getExamplesForSinglePageUse( examples ) {\n\tconst examplesForSinglePageUse = [];\n\tconst overviewCategoryExamples = getExamplesByCategory(\n\t\t{ slug: 'overview' },\n\t\texamples\n\t);\n\texamplesForSinglePageUse.push( ...overviewCategoryExamples.examples );\n\tconst otherExamples = examples.filter( ( example ) => {\n\t\treturn (\n\t\t\texample.category !== 'overview' &&\n\t\t\t! overviewCategoryExamples.examples.find(\n\t\t\t\t( overviewExample ) => overviewExample.name === example.name\n\t\t\t)\n\t\t);\n\t} );\n\texamplesForSinglePageUse.push( ...otherExamples );\n\n\treturn examplesForSinglePageUse;\n}\n\n/**\n * Applies a block variation to each example by updating its attributes.\n *\n * @param {Array}  examples  Array of examples\n * @param {string} variation Block variation name.\n * @return {Array} Updated examples with variation applied.\n */\nfunction applyBlockVariationsToExamples( examples, variation ) {\n\tif ( ! variation ) {\n\t\treturn examples;\n\t}\n\treturn examples.map( ( example ) => {\n\t\treturn {\n\t\t\t...example,\n\t\t\tvariation,\n\t\t\tblocks: Array.isArray( example.blocks )\n\t\t\t\t? example.blocks.map( ( block ) => ( {\n\t\t\t\t\t\t...block,\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t...block.attributes,\n\t\t\t\t\t\t\tstyle: undefined,\n\t\t\t\t\t\t\tclassName: `is-style-${ variation }`,\n\t\t\t\t\t\t},\n\t\t\t\t  } ) )\n\t\t\t\t: {\n\t\t\t\t\t\t...example.blocks,\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t...example.blocks.attributes,\n\t\t\t\t\t\t\tstyle: undefined,\n\t\t\t\t\t\t\tclassName: `is-style-${ variation }`,\n\t\t\t\t\t\t},\n\t\t\t\t  },\n\t\t};\n\t} );\n}\n\nfunction StyleBook(\n\t{\n\t\tisSelected,\n\t\tonClick,\n\t\tonSelect,\n\t\tshowTabs = true,\n\t\tuserConfig = {},\n\t\tpath = '',\n\t},\n\tref\n) {\n\tconst textColor = useStyle( 'color.text' );\n\tconst backgroundColor = useStyle( 'color.background' );\n\tconst colors = useMultiOriginPalettes();\n\tconst examples = useMemo( () => getExamples( colors ), [ colors ] );\n\tconst tabs = useMemo(\n\t\t() =>\n\t\t\tgetTopLevelStyleBookCategories().filter( ( category ) =>\n\t\t\t\texamples.some(\n\t\t\t\t\t( example ) => example.category === category.slug\n\t\t\t\t)\n\t\t\t),\n\t\t[ examples ]\n\t);\n\n\tconst examplesForSinglePageUse = getExamplesForSinglePageUse( examples );\n\n\tconst { base: baseConfig } = useGlobalStyles();\n\tconst goTo = getStyleBookNavigationFromPath( path );\n\n\tconst mergedConfig = useMemo( () => {\n\t\tif ( ! isObjectEmpty( userConfig ) && ! isObjectEmpty( baseConfig ) ) {\n\t\t\treturn mergeGlobalStyles( baseConfig, userConfig );\n\t\t}\n\t\treturn {};\n\t}, [ baseConfig, userConfig ] );\n\n\tconst originalSettings = useSelect(\n\t\t( select ) => select( blockEditorStore ).getSettings(),\n\t\t[]\n\t);\n\tconst [ globalStyles ] = useGlobalStylesOutputWithConfig( mergedConfig );\n\n\tconst settings = useMemo(\n\t\t() => ( {\n\t\t\t...originalSettings,\n\t\t\tstyles:\n\t\t\t\t! isObjectEmpty( globalStyles ) && ! isObjectEmpty( userConfig )\n\t\t\t\t\t? globalStyles\n\t\t\t\t\t: originalSettings.styles,\n\t\t\tisPreviewMode: true,\n\t\t} ),\n\t\t[ globalStyles, originalSettings, userConfig ]\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tref={ ref }\n\t\t\tclassName={ clsx( 'editor-style-book', {\n\t\t\t\t'is-button': !! onClick,\n\t\t\t} ) }\n\t\t\tstyle={ {\n\t\t\t\tcolor: textColor,\n\t\t\t\tbackground: backgroundColor,\n\t\t\t} }\n\t\t>\n\t\t\t{ showTabs ? (\n\t\t\t\t<Tabs>\n\t\t\t\t\t<div className=\"editor-style-book__tablist-container\">\n\t\t\t\t\t\t<Tabs.TabList>\n\t\t\t\t\t\t\t{ tabs.map( ( tab ) => (\n\t\t\t\t\t\t\t\t<Tabs.Tab tabId={ tab.slug } key={ tab.slug }>\n\t\t\t\t\t\t\t\t\t{ tab.title }\n\t\t\t\t\t\t\t\t</Tabs.Tab>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</Tabs.TabList>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ tabs.map( ( tab ) => {\n\t\t\t\t\t\tconst categoryDefinition = tab.slug\n\t\t\t\t\t\t\t? getTopLevelStyleBookCategories().find(\n\t\t\t\t\t\t\t\t\t( _category ) => _category.slug === tab.slug\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\tconst filteredExamples = categoryDefinition\n\t\t\t\t\t\t\t? getExamplesByCategory(\n\t\t\t\t\t\t\t\t\tcategoryDefinition,\n\t\t\t\t\t\t\t\t\texamples\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: { examples };\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Tabs.TabPanel\n\t\t\t\t\t\t\t\tkey={ tab.slug }\n\t\t\t\t\t\t\t\ttabId={ tab.slug }\n\t\t\t\t\t\t\t\tfocusable={ false }\n\t\t\t\t\t\t\t\tclassName=\"editor-style-book__tabpanel\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<StyleBookBody\n\t\t\t\t\t\t\t\t\tcategory={ tab.slug }\n\t\t\t\t\t\t\t\t\texamples={ filteredExamples }\n\t\t\t\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\t\t\tsettings={ settings }\n\t\t\t\t\t\t\t\t\ttitle={ tab.title }\n\t\t\t\t\t\t\t\t\tgoTo={ goTo }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</Tabs>\n\t\t\t) : (\n\t\t\t\t<StyleBookBody\n\t\t\t\t\texamples={ { examples: examplesForSinglePageUse } }\n\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\tonClick={ onClick }\n\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tgoTo={ goTo }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\n/**\n * Style Book Preview component renders the stylebook without the Editor dependency.\n *\n * @param {Object}   props              Component props.\n * @param {string}   props.path         Current path in global styles.\n * @param {Function} props.onPathChange Callback when the path changes.\n * @param {Object}   props.userConfig   User configuration.\n * @param {boolean}  props.isStatic     Whether the stylebook is static or clickable.\n * @return {Object} Style Book Preview component.\n */\nexport const StyleBookPreview = ( {\n\tuserConfig = {},\n\tisStatic = false,\n\tpath,\n\tonPathChange,\n} ) => {\n\tconst editorSettings = useSelect(\n\t\t( select ) => select( editorStore ).getEditorSettings(),\n\t\t[]\n\t);\n\n\tconst canUserUploadMedia = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'attachment',\n\t\t\t} ),\n\t\t[]\n\t);\n\n\t// Update block editor settings because useMultipleOriginColorsAndGradients fetch colours from there.\n\tuseEffect( () => {\n\t\tdispatch( blockEditorStore ).updateSettings( {\n\t\t\t...editorSettings,\n\t\t\tmediaUpload: canUserUploadMedia ? uploadMedia : undefined,\n\t\t} );\n\t}, [ editorSettings, canUserUploadMedia ] );\n\n\tconst [ internalPath, setInternalPath ] = useState( '/' );\n\tconst section = path ?? internalPath;\n\tconst onChangeSection = onPathChange ?? setInternalPath;\n\n\tconst isSelected = ( blockName ) => {\n\t\t// Match '/blocks/core%2Fbutton' and\n\t\t// '/blocks/core%2Fbutton/typography', but not\n\t\t// '/blocks/core%2Fbuttons'.\n\t\treturn (\n\t\t\tsection === `/blocks/${ encodeURIComponent( blockName ) }` ||\n\t\t\tsection.startsWith(\n\t\t\t\t`/blocks/${ encodeURIComponent( blockName ) }/`\n\t\t\t)\n\t\t);\n\t};\n\n\tconst onSelect = ( blockName, isBlockVariation = false ) => {\n\t\tif (\n\t\t\tSTYLE_BOOK_COLOR_GROUPS.find(\n\t\t\t\t( group ) => group.slug === blockName\n\t\t\t)\n\t\t) {\n\t\t\t// Go to color palettes Global Styles.\n\t\t\tonChangeSection( '/colors/palette' );\n\t\t\treturn;\n\t\t}\n\t\tif ( blockName === 'typography' ) {\n\t\t\t// Go to typography Global Styles.\n\t\t\tonChangeSection( '/typography' );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isBlockVariation ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Now go to the selected block.\n\t\tonChangeSection( `/blocks/${ encodeURIComponent( blockName ) }` );\n\t};\n\n\tconst colors = useMultiOriginPalettes();\n\tconst examples = getExamples( colors );\n\tconst examplesForSinglePageUse = getExamplesForSinglePageUse( examples );\n\n\tlet previewCategory = null;\n\tlet blockVariation = null;\n\tif ( section.includes( '/colors' ) ) {\n\t\tpreviewCategory = 'colors';\n\t} else if ( section.includes( '/typography' ) ) {\n\t\tpreviewCategory = 'text';\n\t} else if ( section.includes( '/blocks' ) ) {\n\t\tpreviewCategory = 'blocks';\n\t\tlet blockName = decodeURIComponent( section ).split( '/blocks/' )[ 1 ];\n\n\t\t// The blockName can contain variations, if so, extract the variation.\n\t\tif ( blockName?.includes( '/variations' ) ) {\n\t\t\t[ blockName, blockVariation ] = blockName.split( '/variations/' );\n\t\t}\n\n\t\tif (\n\t\t\tblockName &&\n\t\t\texamples.find( ( example ) => example.name === blockName )\n\t\t) {\n\t\t\tpreviewCategory = blockName;\n\t\t}\n\t} else if ( ! isStatic ) {\n\t\tpreviewCategory = 'overview';\n\t}\n\tconst categoryDefinition = STYLE_BOOK_PREVIEW_CATEGORIES.find(\n\t\t( category ) => category.slug === previewCategory\n\t);\n\n\tconst filteredExamples = useMemo( () => {\n\t\t// If there's no category definition there may be a single block.\n\t\tif ( ! categoryDefinition ) {\n\t\t\treturn {\n\t\t\t\texamples: [\n\t\t\t\t\texamples.find(\n\t\t\t\t\t\t( example ) => example.name === previewCategory\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t};\n\t\t}\n\n\t\treturn getExamplesByCategory( categoryDefinition, examples );\n\t}, [ categoryDefinition, examples, previewCategory ] );\n\n\tconst displayedExamples = useMemo( () => {\n\t\t// If there's no preview category, show all examples.\n\t\tif ( ! previewCategory ) {\n\t\t\treturn { examples: examplesForSinglePageUse };\n\t\t}\n\n\t\tif ( blockVariation ) {\n\t\t\treturn {\n\t\t\t\texamples: applyBlockVariationsToExamples(\n\t\t\t\t\tfilteredExamples.examples,\n\t\t\t\t\tblockVariation\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\n\t\treturn filteredExamples;\n\t}, [\n\t\tpreviewCategory,\n\t\texamplesForSinglePageUse,\n\t\tblockVariation,\n\t\tfilteredExamples,\n\t] );\n\n\tconst { base: baseConfig } = useGlobalStyles();\n\tconst goTo = getStyleBookNavigationFromPath( section );\n\n\tconst mergedConfig = useMemo( () => {\n\t\tif ( ! isObjectEmpty( userConfig ) && ! isObjectEmpty( baseConfig ) ) {\n\t\t\treturn mergeGlobalStyles( baseConfig, userConfig );\n\t\t}\n\t\treturn {};\n\t}, [ baseConfig, userConfig ] );\n\n\tconst [ globalStyles ] = useGlobalStylesOutputWithConfig( mergedConfig );\n\n\tconst settings = useMemo(\n\t\t() => ( {\n\t\t\t...editorSettings,\n\t\t\tstyles:\n\t\t\t\t! isObjectEmpty( globalStyles ) && ! isObjectEmpty( userConfig )\n\t\t\t\t\t? globalStyles\n\t\t\t\t\t: editorSettings.styles,\n\t\t\tisPreviewMode: true,\n\t\t} ),\n\t\t[ globalStyles, editorSettings, userConfig ]\n\t);\n\n\treturn (\n\t\t<div className=\"editor-style-book\">\n\t\t\t<BlockEditorProvider settings={ settings }>\n\t\t\t\t<GlobalStylesRenderer disableRootPadding />\n\t\t\t\t<StyleBookBody\n\t\t\t\t\texamples={ displayedExamples }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tgoTo={ goTo }\n\t\t\t\t\tisSelected={ ! isStatic ? isSelected : null }\n\t\t\t\t\tonSelect={ ! isStatic ? onSelect : null }\n\t\t\t\t/>\n\t\t\t</BlockEditorProvider>\n\t\t</div>\n\t);\n};\n\nexport const StyleBookBody = ( {\n\texamples,\n\tisSelected,\n\tonClick,\n\tonSelect,\n\tsettings,\n\ttitle,\n\tgoTo,\n} ) => {\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst [ hasIframeLoaded, setHasIframeLoaded ] = useState( false );\n\tconst iframeRef = useRef( null );\n\t// The presence of an `onClick` prop indicates that the Style Book is being used as a button.\n\t// In this case, add additional props to the iframe to make it behave like a button.\n\tconst buttonModeProps = {\n\t\trole: 'button',\n\t\tonFocus: () => setIsFocused( true ),\n\t\tonBlur: () => setIsFocused( false ),\n\t\tonKeyDown: ( event ) => {\n\t\t\tif ( event.defaultPrevented ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { keyCode } = event;\n\t\t\tif ( onClick && ( keyCode === ENTER || keyCode === SPACE ) ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tonClick( event );\n\t\t\t}\n\t\t},\n\t\tonClick: ( event ) => {\n\t\t\tif ( event.defaultPrevented ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( onClick ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tonClick( event );\n\t\t\t}\n\t\t},\n\t\treadonly: true,\n\t};\n\n\tconst handleLoad = () => setHasIframeLoaded( true );\n\tuseLayoutEffect( () => {\n\t\tif ( hasIframeLoaded && iframeRef.current && goTo?.top ) {\n\t\t\tscrollToSection( 'top', iframeRef.current );\n\t\t}\n\t}, [ goTo?.top, hasIframeLoaded ] );\n\n\treturn (\n\t\t<Iframe\n\t\t\tonLoad={ handleLoad }\n\t\t\tref={ iframeRef }\n\t\t\tclassName={ clsx( 'editor-style-book__iframe', {\n\t\t\t\t'is-focused': isFocused && !! onClick,\n\t\t\t\t'is-button': !! onClick,\n\t\t\t} ) }\n\t\t\tname=\"style-book-canvas\"\n\t\t\ttabIndex={ 0 }\n\t\t\t{ ...( onClick ? buttonModeProps : {} ) }\n\t\t>\n\t\t\t<EditorStyles styles={ settings.styles } />\n\t\t\t<style>\n\t\t\t\t{ STYLE_BOOK_IFRAME_STYLES }\n\t\t\t\t{ !! onClick &&\n\t\t\t\t\t'body { cursor: pointer; } body * { pointer-events: none; }' }\n\t\t\t</style>\n\t\t\t<Examples\n\t\t\t\tclassName=\"editor-style-book__examples\"\n\t\t\t\tfilteredExamples={ examples }\n\t\t\t\tlabel={\n\t\t\t\t\ttitle\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Category of blocks, e.g. Text.\n\t\t\t\t\t\t\t\t__( 'Examples of blocks in the %s category' ),\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Examples of blocks' )\n\t\t\t\t}\n\t\t\t\tisSelected={ isSelected }\n\t\t\t\tonSelect={ onSelect }\n\t\t\t\tkey={ title }\n\t\t\t/>\n\t\t</Iframe>\n\t);\n};\n\nconst Examples = memo(\n\t( { className, filteredExamples, label, isSelected, onSelect } ) => {\n\t\treturn (\n\t\t\t<Composite\n\t\t\t\torientation=\"vertical\"\n\t\t\t\tclassName={ className }\n\t\t\t\taria-label={ label }\n\t\t\t\trole=\"grid\"\n\t\t\t>\n\t\t\t\t{ !! filteredExamples?.examples?.length &&\n\t\t\t\t\tfilteredExamples.examples.map( ( example ) => (\n\t\t\t\t\t\t<Example\n\t\t\t\t\t\t\tkey={ example.name }\n\t\t\t\t\t\t\tid={ `example-${ example.name }` }\n\t\t\t\t\t\t\ttitle={ example.title }\n\t\t\t\t\t\t\tcontent={ example.content }\n\t\t\t\t\t\t\tblocks={ example.blocks }\n\t\t\t\t\t\t\tisSelected={ isSelected?.( example.name ) }\n\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t!! onSelect\n\t\t\t\t\t\t\t\t\t? () =>\n\t\t\t\t\t\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\t\t\t\t\t\texample.name,\n\t\t\t\t\t\t\t\t\t\t\t\t!! example.variation\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t{ !! filteredExamples?.subcategories?.length &&\n\t\t\t\t\tfilteredExamples.subcategories.map( ( subcategory ) => (\n\t\t\t\t\t\t<Composite.Group\n\t\t\t\t\t\t\tclassName=\"editor-style-book__subcategory\"\n\t\t\t\t\t\t\tkey={ `subcategory-${ subcategory.slug }` }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Composite.GroupLabel>\n\t\t\t\t\t\t\t\t<h2 className=\"editor-style-book__subcategory-title\">\n\t\t\t\t\t\t\t\t\t{ subcategory.title }\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t</Composite.GroupLabel>\n\t\t\t\t\t\t\t<Subcategory\n\t\t\t\t\t\t\t\texamples={ subcategory.examples }\n\t\t\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Composite.Group>\n\t\t\t\t\t) ) }\n\t\t\t</Composite>\n\t\t);\n\t}\n);\n\nconst Subcategory = ( { examples, isSelected, onSelect } ) => {\n\treturn (\n\t\t!! examples?.length &&\n\t\texamples.map( ( example ) => (\n\t\t\t<Example\n\t\t\t\tkey={ example.name }\n\t\t\t\tid={ `example-${ example.name }` }\n\t\t\t\ttitle={ example.title }\n\t\t\t\tcontent={ example.content }\n\t\t\t\tblocks={ example.blocks }\n\t\t\t\tisSelected={ isSelected?.( example.name ) }\n\t\t\t\tonClick={ !! onSelect ? () => onSelect( example.name ) : null }\n\t\t\t/>\n\t\t) )\n\t);\n};\n\nconst disabledExamples = [ 'example-duotones' ];\n\nconst Example = ( { id, title, blocks, isSelected, onClick, content } ) => {\n\tconst originalSettings = useSelect(\n\t\t( select ) => select( blockEditorStore ).getSettings(),\n\t\t[]\n\t);\n\tconst settings = useMemo(\n\t\t() => ( {\n\t\t\t...originalSettings,\n\t\t\tfocusMode: false, // Disable \"Spotlight mode\".\n\t\t\tisPreviewMode: true,\n\t\t} ),\n\t\t[ originalSettings ]\n\t);\n\n\t// Cache the list of blocks to avoid additional processing when the component is re-rendered.\n\tconst renderedBlocks = useMemo(\n\t\t() => ( Array.isArray( blocks ) ? blocks : [ blocks ] ),\n\t\t[ blocks ]\n\t);\n\n\tconst disabledProps =\n\t\tdisabledExamples.includes( id ) || ! onClick\n\t\t\t? {\n\t\t\t\t\tdisabled: true,\n\t\t\t\t\taccessibleWhenDisabled: !! onClick,\n\t\t\t  }\n\t\t\t: {};\n\n\treturn (\n\t\t<div role=\"row\">\n\t\t\t<div role=\"gridcell\">\n\t\t\t\t<Composite.Item\n\t\t\t\t\tclassName={ clsx( 'editor-style-book__example', {\n\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t\t'is-disabled-example': !! disabledProps?.disabled,\n\t\t\t\t\t} ) }\n\t\t\t\t\tid={ id }\n\t\t\t\t\taria-label={\n\t\t\t\t\t\t!! onClick\n\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t// translators: %s: Title of a block, e.g. Heading.\n\t\t\t\t\t\t\t\t\t__( 'Open %s styles in Styles panel' ),\n\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\trender={ <div /> }\n\t\t\t\t\trole={ !! onClick ? 'button' : null }\n\t\t\t\t\tonClick={ onClick }\n\t\t\t\t\t{ ...disabledProps }\n\t\t\t\t>\n\t\t\t\t\t<span className=\"editor-style-book__example-title\">\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</span>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"editor-style-book__example-preview\"\n\t\t\t\t\t\taria-hidden\n\t\t\t\t\t>\n\t\t\t\t\t\t<Disabled className=\"editor-style-book__example-preview__content\">\n\t\t\t\t\t\t\t{ content ? (\n\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<ExperimentalBlockEditorProvider\n\t\t\t\t\t\t\t\t\tvalue={ renderedBlocks }\n\t\t\t\t\t\t\t\t\tsettings={ settings }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditorStyles />\n\t\t\t\t\t\t\t\t\t<BlockList renderAppender={ false } />\n\t\t\t\t\t\t\t\t</ExperimentalBlockEditorProvider>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Disabled>\n\t\t\t\t\t</div>\n\t\t\t\t</Composite.Item>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default forwardRef( StyleBook );\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { StyleBookCategory, StyleBookColorGroup } from './types';\n\nexport const STYLE_BOOK_COLOR_GROUPS: StyleBookColorGroup[] = [\n\t{\n\t\tslug: 'theme-colors',\n\t\ttitle: __( 'Theme Colors' ),\n\t\torigin: 'theme',\n\t\ttype: 'colors',\n\t},\n\t{\n\t\tslug: 'theme-gradients',\n\t\ttitle: __( 'Theme Gradients' ),\n\t\torigin: 'theme',\n\t\ttype: 'gradients',\n\t},\n\t{\n\t\tslug: 'custom-colors',\n\t\ttitle: __( 'Custom Colors' ),\n\t\torigin: 'custom',\n\t\ttype: 'colors',\n\t},\n\t{\n\t\tslug: 'custom-gradients',\n\t\ttitle: __( 'Custom Gradients' ),\n\t\torigin: 'custom', // User.\n\t\ttype: 'gradients',\n\t},\n\t{\n\t\tslug: 'duotones',\n\t\ttitle: __( 'Duotones' ),\n\t\torigin: 'theme',\n\t\ttype: 'duotones',\n\t},\n\t{\n\t\tslug: 'default-colors',\n\t\ttitle: __( 'Default Colors' ),\n\t\torigin: 'default',\n\t\ttype: 'colors',\n\t},\n\t{\n\t\tslug: 'default-gradients',\n\t\ttitle: __( 'Default Gradients' ),\n\t\torigin: 'default',\n\t\ttype: 'gradients',\n\t},\n];\n\nexport const STYLE_BOOK_THEME_SUBCATEGORIES: Omit<\n\tStyleBookCategory,\n\t'subcategories'\n>[] = [\n\t{\n\t\tslug: 'site-identity',\n\t\ttitle: __( 'Site Identity' ),\n\t\tblocks: [ 'core/site-logo', 'core/site-title', 'core/site-tagline' ],\n\t},\n\t{\n\t\tslug: 'design',\n\t\ttitle: __( 'Design' ),\n\t\tblocks: [ 'core/navigation', 'core/avatar', 'core/post-time-to-read' ],\n\t\texclude: [ 'core/home-link', 'core/navigation-link' ],\n\t},\n\t{\n\t\tslug: 'posts',\n\t\ttitle: __( 'Posts' ),\n\t\tblocks: [\n\t\t\t'core/post-title',\n\t\t\t'core/post-excerpt',\n\t\t\t'core/post-author',\n\t\t\t'core/post-author-name',\n\t\t\t'core/post-author-biography',\n\t\t\t'core/post-date',\n\t\t\t'core/post-terms',\n\t\t\t'core/term-description',\n\t\t\t'core/query-title',\n\t\t\t'core/query-no-results',\n\t\t\t'core/query-pagination',\n\t\t\t'core/query-numbers',\n\t\t],\n\t},\n\t{\n\t\tslug: 'comments',\n\t\ttitle: __( 'Comments' ),\n\t\tblocks: [\n\t\t\t'core/comments-title',\n\t\t\t'core/comments-pagination',\n\t\t\t'core/comments-pagination-numbers',\n\t\t\t'core/comments',\n\t\t\t'core/comments-author-name',\n\t\t\t'core/comment-content',\n\t\t\t'core/comment-date',\n\t\t\t'core/comment-edit-link',\n\t\t\t'core/comment-reply-link',\n\t\t\t'core/comment-template',\n\t\t\t'core/post-comments-count',\n\t\t\t'core/post-comments-link',\n\t\t],\n\t},\n];\n\nexport const STYLE_BOOK_CATEGORIES: StyleBookCategory[] = [\n\t{\n\t\tslug: 'overview',\n\t\ttitle: __( 'Overview' ),\n\t\tblocks: [],\n\t},\n\t{\n\t\tslug: 'text',\n\t\ttitle: __( 'Text' ),\n\t\tblocks: [\n\t\t\t'core/post-content',\n\t\t\t'core/home-link',\n\t\t\t'core/navigation-link',\n\t\t],\n\t},\n\t{\n\t\tslug: 'colors',\n\t\ttitle: __( 'Colors' ),\n\t\tblocks: [],\n\t},\n\t{\n\t\tslug: 'theme',\n\t\ttitle: __( 'Theme' ),\n\t\tsubcategories: STYLE_BOOK_THEME_SUBCATEGORIES,\n\t},\n\t{\n\t\tslug: 'media',\n\t\ttitle: __( 'Media' ),\n\t\tblocks: [ 'core/post-featured-image' ],\n\t},\n\t{\n\t\tslug: 'widgets',\n\t\ttitle: __( 'Widgets' ),\n\t\tblocks: [],\n\t},\n\t{\n\t\tslug: 'embed',\n\t\ttitle: __( 'Embeds' ),\n\t\tinclude: [],\n\t},\n];\n\n// Style book preview subcategories for all blocks section.\nexport const STYLE_BOOK_ALL_BLOCKS_SUBCATEGORIES: StyleBookCategory[] = [\n\t...STYLE_BOOK_THEME_SUBCATEGORIES,\n\t{\n\t\tslug: 'media',\n\t\ttitle: __( 'Media' ),\n\t\tblocks: [ 'core/post-featured-image' ],\n\t},\n\t{\n\t\tslug: 'widgets',\n\t\ttitle: __( 'Widgets' ),\n\t\tblocks: [],\n\t},\n\t{\n\t\tslug: 'embed',\n\t\ttitle: __( 'Embeds' ),\n\t\tinclude: [],\n\t},\n];\n\n// Style book preview categories are organized slightly differently to the editor ones.\nexport const STYLE_BOOK_PREVIEW_CATEGORIES: StyleBookCategory[] = [\n\t{\n\t\tslug: 'overview',\n\t\ttitle: __( 'Overview' ),\n\t\tblocks: [],\n\t},\n\t{\n\t\tslug: 'text',\n\t\ttitle: __( 'Text' ),\n\t\tblocks: [\n\t\t\t'core/post-content',\n\t\t\t'core/home-link',\n\t\t\t'core/navigation-link',\n\t\t],\n\t},\n\t{\n\t\tslug: 'colors',\n\t\ttitle: __( 'Colors' ),\n\t\tblocks: [],\n\t},\n\t{\n\t\tslug: 'blocks',\n\t\ttitle: __( 'All Blocks' ),\n\t\tblocks: [],\n\t\tsubcategories: STYLE_BOOK_ALL_BLOCKS_SUBCATEGORIES,\n\t},\n];\n\n// Forming a \"block formatting context\" to prevent margin collapsing.\n// @see https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context\nconst ROOT_CONTAINER = `\n\t.is-root-container {\n\t\tdisplay: flow-root;\n\t}\n`;\n// The content area of the Style Book is rendered within an iframe so that global styles\n// are applied to elements within the entire content area. To support elements that are\n// not part of the block previews, such as headings and layout for the block previews,\n// additional CSS rules need to be passed into the iframe. These are hard-coded below.\n// Note that button styles are unset, and then focus rules from the `Button` component are\n// applied to the `button` element, targeted via `.editor-style-book__example`.\n// This is to ensure that browser default styles for buttons are not applied to the previews.\nexport const STYLE_BOOK_IFRAME_STYLES = `\n\tbody {\n\t\tposition: relative;\n\t\tpadding: 32px !important;\n\t}\n\n\t${ ROOT_CONTAINER }\n\n\t.editor-style-book__examples {\n\t\tmax-width: 1200px;\n\t\tmargin: 0 auto;\n\t}\n\n\t.editor-style-book__example {\n\t    max-width: 900px;\n\t\tborder-radius: 2px;\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 40px;\n\t\tpadding: 16px;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tscroll-margin-top: 32px;\n\t\tscroll-margin-bottom: 32px;\n\t\tmargin: 0 auto 40px auto;\n\t}\n\n\t.editor-style-book__example.is-selected {\n\t\tbox-shadow: 0 0 0 1px var(--wp-components-color-accent, var(--wp-admin-theme-color, #007cba));\n\t}\n\n\t.editor-style-book__example.is-disabled-example {\n\t\tpointer-events: none;\n\t}\n\n\t.editor-style-book__example:focus:not(:disabled) {\n\t\tbox-shadow: 0 0 0 var(--wp-admin-border-width-focus) var(--wp-components-color-accent, var(--wp-admin-theme-color, #007cba));\n\t\toutline: 3px solid transparent;\n\t}\n\n\t.editor-style-book__duotone-example > div:first-child {\n\t\tdisplay: flex;\n\t\taspect-ratio: 16 / 9;\n\t\tgrid-row: span 1;\n\t\tgrid-column: span 2;\n\t}\n\t.editor-style-book__duotone-example img {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: cover;\n\t}\n\t.editor-style-book__duotone-example > div:not(:first-child) {\n\t\theight: 20px;\n\t\tborder: 1px solid color-mix( in srgb, currentColor 10%, transparent );\n\t}\n\n\t.editor-style-book__color-example {\n\t\tborder: 1px solid color-mix( in srgb, currentColor 10%, transparent );\n\t}\n\n\t.editor-style-book__subcategory-title,\n\t.editor-style-book__example-title {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n\t\tfont-size: 13px;\n\t\tfont-weight: normal;\n\t\tline-height: normal;\n\t\tmargin: 0;\n\t\ttext-align: left;\n\t\tpadding-top: 8px;\n\t\tborder-top: 1px solid color-mix( in srgb, currentColor 10%, transparent );\n\t\tcolor: color-mix( in srgb, currentColor 60%, transparent );\n\t}\n\n\t.editor-style-book__subcategory-title {\n\t\tfont-size: 16px;\n\t\tmargin-bottom: 40px;\n    \tpadding-bottom: 8px;\n\t}\n\n\t.editor-style-book__example-preview {\n\t\twidth: 100%;\n\t}\n\n\t.editor-style-book__example-preview .block-editor-block-list__insertion-point,\n\t.editor-style-book__example-preview .block-list-appender {\n\t\tdisplay: none;\n\t}\n\t:where(.is-root-container > .wp-block:first-child) {\n\t\tmargin-top: 0;\n\t}\n\t:where(.is-root-container > .wp-block:last-child) {\n\t\tmargin-bottom: 0;\n\t}\n`;\n", "/**\n * WordPress dependencies\n */\n// @wordpress/blocks imports are not typed.\n// @ts-expect-error\nimport { getCategories } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tBlockExample,\n\tStyleBookCategory,\n\tCategoryExamples,\n} from './types';\nimport {\n\tSTYLE_BOOK_CATEGORIES,\n\tSTYLE_BOOK_THEME_SUBCATEGORIES,\n} from './constants';\n\n/**\n * Returns category examples for a given category definition and list of examples.\n * @param {StyleBookCategory} categoryDefinition The category definition.\n * @param {BlockExample[]}    examples           An array of block examples.\n * @return {CategoryExamples|undefined} An object containing the category examples.\n */\nexport function getExamplesByCategory(\n\tcategoryDefinition: StyleBookCategory,\n\texamples: BlockExample[]\n): CategoryExamples | undefined {\n\tif ( ! categoryDefinition?.slug || ! examples?.length ) {\n\t\treturn;\n\t}\n\tconst categories: CategoryExamples[] =\n\t\tcategoryDefinition?.subcategories ?? [];\n\tif ( categories.length ) {\n\t\treturn categories.reduce(\n\t\t\t( acc, subcategoryDefinition ) => {\n\t\t\t\tconst subcategoryExamples = getExamplesByCategory(\n\t\t\t\t\tsubcategoryDefinition,\n\t\t\t\t\texamples\n\t\t\t\t);\n\t\t\t\tif ( subcategoryExamples ) {\n\t\t\t\t\tif ( ! acc.subcategories ) {\n\t\t\t\t\t\tacc.subcategories = [];\n\t\t\t\t\t}\n\t\t\t\t\tacc.subcategories = [\n\t\t\t\t\t\t...acc.subcategories,\n\t\t\t\t\t\tsubcategoryExamples,\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: categoryDefinition.title,\n\t\t\t\tslug: categoryDefinition.slug,\n\t\t\t}\n\t\t);\n\t}\n\n\tconst blocksToInclude = categoryDefinition?.blocks || [];\n\tconst blocksToExclude = categoryDefinition?.exclude || [];\n\tconst categoryExamples = examples.filter( ( example ) => {\n\t\treturn (\n\t\t\t! blocksToExclude.includes( example.name ) &&\n\t\t\t( example.category === categoryDefinition.slug ||\n\t\t\t\tblocksToInclude.includes( example.name ) )\n\t\t);\n\t} );\n\n\tif ( ! categoryExamples.length ) {\n\t\treturn;\n\t}\n\n\treturn {\n\t\ttitle: categoryDefinition.title,\n\t\tslug: categoryDefinition.slug,\n\t\texamples: categoryExamples,\n\t};\n}\n\n/**\n * Returns category examples for a given category definition and list of examples.\n *\n * @return {StyleBookCategory[]} An array of top-level category definitions.\n */\nexport function getTopLevelStyleBookCategories(): StyleBookCategory[] {\n\tconst reservedCategories = [\n\t\t...STYLE_BOOK_THEME_SUBCATEGORIES,\n\t\t...STYLE_BOOK_CATEGORIES,\n\t].map( ( { slug } ) => slug );\n\tconst extraCategories: StyleBookCategory[] = getCategories();\n\tconst extraCategoriesFiltered = extraCategories.filter(\n\t\t( { slug } ) => ! reservedCategories.includes( slug )\n\t);\n\treturn [ ...STYLE_BOOK_CATEGORIES, ...extraCategoriesFiltered ];\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tgetBlockType,\n\tgetBlockTypes,\n\tgetBlockFromExample,\n\tcreateBlock,\n\t// @wordpress/blocks imports are not typed.\n\t// @ts-expect-error\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tBlockExample,\n\tColorOrigin,\n\tMultiOriginPalettes,\n\tBlockType,\n} from './types';\nimport ColorExamples from './color-examples';\nimport DuotoneExamples from './duotone-examples';\nimport { STYLE_BOOK_COLOR_GROUPS } from './constants';\n\n/**\n * Returns examples color examples for each origin\n * e.g. Core (Default), Theme, and User.\n *\n * @param {MultiOriginPalettes} colors Global Styles color palettes per origin.\n * @return {BlockExample[]} An array of color block examples.\n */\nfunction getColorExamples( colors: MultiOriginPalettes ): BlockExample[] {\n\tif ( ! colors ) {\n\t\treturn [];\n\t}\n\n\tconst examples: BlockExample[] = [];\n\n\tSTYLE_BOOK_COLOR_GROUPS.forEach( ( group ) => {\n\t\tconst palette = colors[ group.type as keyof MultiOriginPalettes ];\n\t\tconst paletteFiltered = Array.isArray( palette )\n\t\t\t? palette.find(\n\t\t\t\t\t( origin: ColorOrigin ) => origin.slug === group.origin\n\t\t\t  )\n\t\t\t: undefined;\n\n\t\tif ( paletteFiltered?.[ group.type ] ) {\n\t\t\tconst example: BlockExample = {\n\t\t\t\tname: group.slug,\n\t\t\t\ttitle: group.title,\n\t\t\t\tcategory: 'colors',\n\t\t\t};\n\t\t\tif ( group.type === 'duotones' ) {\n\t\t\t\texample.content = (\n\t\t\t\t\t<DuotoneExamples\n\t\t\t\t\t\tduotones={ paletteFiltered[ group.type ] }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t\texamples.push( example );\n\t\t\t} else {\n\t\t\t\texample.content = (\n\t\t\t\t\t<ColorExamples\n\t\t\t\t\t\tcolors={ paletteFiltered[ group.type ] }\n\t\t\t\t\t\ttype={ group.type }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t\texamples.push( example );\n\t\t\t}\n\t\t}\n\t} );\n\n\treturn examples;\n}\n\n/**\n * Returns examples for the overview page.\n *\n * @param {MultiOriginPalettes} colors Global Styles color palettes per origin.\n * @return {BlockExample[]} An array of block examples.\n */\nfunction getOverviewBlockExamples(\n\tcolors: MultiOriginPalettes\n): BlockExample[] {\n\tconst examples: BlockExample[] = [];\n\n\t// Get theme palette from colors if they exist.\n\tconst themePalette = Array.isArray( colors?.colors )\n\t\t? colors.colors.find(\n\t\t\t\t( origin: ColorOrigin ) => origin.slug === 'theme'\n\t\t  )\n\t\t: undefined;\n\n\tif ( themePalette ) {\n\t\tconst themeColorexample: BlockExample = {\n\t\t\tname: 'theme-colors',\n\t\t\ttitle: __( 'Colors' ),\n\t\t\tcategory: 'overview',\n\t\t\tcontent: (\n\t\t\t\t<ColorExamples\n\t\t\t\t\tcolors={ themePalette.colors }\n\t\t\t\t\ttype=\"colors\"\n\t\t\t\t\ttemplateColumns=\"repeat(auto-fill, minmax( 200px, 1fr ))\"\n\t\t\t\t\titemHeight=\"32px\"\n\t\t\t\t/>\n\t\t\t),\n\t\t};\n\n\t\texamples.push( themeColorexample );\n\t}\n\n\t// Get examples for typography blocks.\n\tconst typographyBlockExamples: BlockType[] = [];\n\n\tif ( getBlockType( 'core/heading' ) ) {\n\t\tconst headingBlock = createBlock( 'core/heading', {\n\t\t\t// translators: Typography example. Your local alphabet, numbers and some common special characters.\n\t\t\tcontent: __(\n\t\t\t\t`AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz0123456789X{(\u2026)},.-<>?!*&:/A@HELFO\u2122\u00A9`\n\t\t\t),\n\t\t\tlevel: 1,\n\t\t} );\n\t\ttypographyBlockExamples.push( headingBlock );\n\t}\n\n\tif ( getBlockType( 'core/paragraph' ) ) {\n\t\tconst firstParagraphBlock = createBlock( 'core/paragraph', {\n\t\t\tcontent: __(\n\t\t\t\t`A paragraph in a website refers to a distinct block of text that is used to present and organize information. It is a fundamental unit of content in web design and is typically composed of a group of related sentences or thoughts focused on a particular topic or idea. Paragraphs play a crucial role in improving the readability and user experience of a website. They break down the text into smaller, manageable chunks, allowing readers to scan the content more easily.`\n\t\t\t),\n\t\t} );\n\t\tconst secondParagraphBlock = createBlock( 'core/paragraph', {\n\t\t\tcontent: __(\n\t\t\t\t`Additionally, paragraphs help structure the flow of information and provide logical breaks between different concepts or pieces of information. In terms of formatting, paragraphs in websites are commonly denoted by a vertical gap or indentation between each block of text. This visual separation helps visually distinguish one paragraph from another, creating a clear and organized layout that guides the reader through the content smoothly.`\n\t\t\t),\n\t\t} );\n\n\t\tif ( getBlockType( 'core/group' ) ) {\n\t\t\tconst groupBlock = createBlock(\n\t\t\t\t'core/group',\n\t\t\t\t{\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: 'grid',\n\t\t\t\t\t\tcolumnCount: 2,\n\t\t\t\t\t\tminimumColumnWidth: '12rem',\n\t\t\t\t\t},\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tspacing: {\n\t\t\t\t\t\t\tblockGap: '1.5rem',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t[ firstParagraphBlock, secondParagraphBlock ]\n\t\t\t);\n\t\t\ttypographyBlockExamples.push( groupBlock );\n\t\t} else {\n\t\t\ttypographyBlockExamples.push( firstParagraphBlock );\n\t\t}\n\t}\n\n\tif ( !! typographyBlockExamples.length ) {\n\t\texamples.push( {\n\t\t\tname: 'typography',\n\t\t\ttitle: __( 'Typography' ),\n\t\t\tcategory: 'overview',\n\t\t\tblocks: typographyBlockExamples,\n\t\t} );\n\t}\n\n\tconst otherBlockExamples = [\n\t\t'core/image',\n\t\t'core/separator',\n\t\t'core/buttons',\n\t\t'core/quote',\n\t\t'core/search',\n\t];\n\n\t// Get examples for other blocks and put them in order of above array.\n\totherBlockExamples.forEach( ( blockName ) => {\n\t\tconst blockType = getBlockType( blockName );\n\t\tif ( blockType && blockType.example ) {\n\t\t\tconst blockExample: BlockExample = {\n\t\t\t\tname: blockName,\n\t\t\t\ttitle: blockType.title,\n\t\t\t\tcategory: 'overview',\n\t\t\t\t/*\n\t\t\t\t * CSS generated from style attributes will take precedence over global styles CSS,\n\t\t\t\t * so remove the style attribute from the example to ensure the example\n\t\t\t\t * demonstrates changes to global styles.\n\t\t\t\t */\n\t\t\t\tblocks: getBlockFromExample( blockName, {\n\t\t\t\t\t...blockType.example,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\t...blockType.example.attributes,\n\t\t\t\t\t\tstyle: undefined,\n\t\t\t\t\t},\n\t\t\t\t} ),\n\t\t\t};\n\t\t\texamples.push( blockExample );\n\t\t}\n\t} );\n\n\treturn examples;\n}\n\n/**\n * Returns a list of examples for registered block types.\n *\n * @param {MultiOriginPalettes} colors Global styles colors grouped by origin e.g. Core, Theme, and User.\n * @return {BlockExample[]} An array of block examples.\n */\nexport function getExamples( colors: MultiOriginPalettes ): BlockExample[] {\n\tconst nonHeadingBlockExamples = getBlockTypes()\n\t\t.filter( ( blockType: BlockType ) => {\n\t\t\tconst { name, example, supports } = blockType;\n\t\t\treturn (\n\t\t\t\tname !== 'core/heading' &&\n\t\t\t\t!! example &&\n\t\t\t\tsupports?.inserter !== false\n\t\t\t);\n\t\t} )\n\t\t.map( ( blockType: BlockType ) => ( {\n\t\t\tname: blockType.name,\n\t\t\ttitle: blockType.title,\n\t\t\tcategory: blockType.category,\n\t\t\t/*\n\t\t\t * CSS generated from style attributes will take precedence over global styles CSS,\n\t\t\t * so remove the style attribute from the example to ensure the example\n\t\t\t * demonstrates changes to global styles.\n\t\t\t */\n\t\t\tblocks: getBlockFromExample( blockType.name, {\n\t\t\t\t...blockType.example,\n\t\t\t\tattributes: {\n\t\t\t\t\t...blockType.example.attributes,\n\t\t\t\t\tstyle: undefined,\n\t\t\t\t},\n\t\t\t} ),\n\t\t} ) );\n\tconst isHeadingBlockRegistered = !! getBlockType( 'core/heading' );\n\n\tif ( ! isHeadingBlockRegistered ) {\n\t\treturn nonHeadingBlockExamples;\n\t}\n\n\t// Use our own example for the Heading block so that we can show multiple\n\t// heading levels.\n\tconst headingsExample = {\n\t\tname: 'core/heading',\n\t\ttitle: __( 'Headings' ),\n\t\tcategory: 'text',\n\t\tblocks: [ 1, 2, 3, 4, 5, 6 ].map( ( level ) => {\n\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\tcontent: sprintf(\n\t\t\t\t\t// translators: %d: heading level e.g: \"1\", \"2\", \"3\"\n\t\t\t\t\t__( 'Heading %d' ),\n\t\t\t\t\tlevel\n\t\t\t\t),\n\t\t\t\tlevel,\n\t\t\t} );\n\t\t} ),\n\t};\n\tconst colorExamples = getColorExamples( colors );\n\n\tconst overviewBlockExamples = getOverviewBlockExamples( colors );\n\n\treturn [\n\t\theadingsExample,\n\t\t...colorExamples,\n\t\t...nonHeadingBlockExamples,\n\t\t...overviewBlockExamples,\n\t];\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalGrid as Grid } from '@wordpress/components';\nimport {\n\tgetColorClassName,\n\t__experimentalGetGradientClass,\n\t// @wordpress/block-editor imports are not typed.\n\t// @ts-expect-error\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport type { Color, Gradient, ColorExampleProps } from './types';\n\nconst ColorExamples = ( {\n\tcolors,\n\ttype,\n\ttemplateColumns = '1fr 1fr',\n\titemHeight = '52px',\n}: ColorExampleProps ): JSX.Element | null => {\n\tif ( ! colors ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Grid templateColumns={ templateColumns } rowGap={ 8 } columnGap={ 16 }>\n\t\t\t{ colors.map( ( color: Color | Gradient ) => {\n\t\t\t\tconst className =\n\t\t\t\t\ttype === 'gradients'\n\t\t\t\t\t\t? __experimentalGetGradientClass( color.slug )\n\t\t\t\t\t\t: getColorClassName( 'background-color', color.slug );\n\t\t\t\tconst classes = clsx(\n\t\t\t\t\t'editor-style-book__color-example',\n\t\t\t\t\tclassName\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={ color.slug }\n\t\t\t\t\t\tclassName={ classes }\n\t\t\t\t\t\tstyle={ { height: itemHeight } }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Grid>\n\t);\n};\n\nexport default ColorExamples;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalGrid as Grid } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport type { Duotone } from './types';\n\nconst DuotoneExamples = ( {\n\tduotones,\n}: {\n\tduotones: Duotone[];\n} ): JSX.Element | null => {\n\tif ( ! duotones ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Grid columns={ 2 } rowGap={ 16 } columnGap={ 16 }>\n\t\t\t{ duotones.map( ( duotone: Duotone ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tkey={ duotone.slug }\n\t\t\t\t\t\tclassName=\"editor-style-book__duotone-example\"\n\t\t\t\t\t\tcolumns={ 2 }\n\t\t\t\t\t\trowGap={ 8 }\n\t\t\t\t\t\tcolumnGap={ 8 }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\talt={ `Duotone example: ${ duotone.slug }` }\n\t\t\t\t\t\t\t\tsrc=\"https://s.w.org/images/core/5.3/MtBlanc1.jpg\"\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tfilter: `url(#wp-duotone-${ duotone.slug })`,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ duotone.colors.map( ( color ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={ color }\n\t\t\t\t\t\t\t\t\tclassName=\"editor-style-book__color-example\"\n\t\t\t\t\t\t\t\t\tstyle={ { backgroundColor: color } }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</Grid>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Grid>\n\t);\n};\n\nexport default DuotoneExamples;\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { useGlobalStylesOutput } from '../../hooks/use-global-styles-output';\n\nfunction useGlobalStylesRenderer( disableRootPadding ) {\n\tconst [ styles, settings ] = useGlobalStylesOutput( disableRootPadding );\n\tconst { getEditorSettings } = useSelect( editorStore );\n\tconst { updateEditorSettings } = useDispatch( editorStore );\n\n\tuseEffect( () => {\n\t\tif ( ! styles || ! settings ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentStoreSettings = getEditorSettings();\n\t\tconst nonGlobalStyles = Object.values(\n\t\t\tcurrentStoreSettings.styles ?? []\n\t\t).filter( ( style ) => ! style.isGlobalStyles );\n\t\tupdateEditorSettings( {\n\t\t\t...currentStoreSettings,\n\t\t\tstyles: [ ...nonGlobalStyles, ...styles ],\n\t\t\t__experimentalFeatures: settings,\n\t\t} );\n\t}, [ styles, settings, updateEditorSettings, getEditorSettings ] );\n}\n\nexport function GlobalStylesRenderer( { disableRootPadding } ) {\n\tuseGlobalStylesRenderer( disableRootPadding );\n\n\treturn null;\n}\n", "/**\n * WordPress dependencies\n */\nimport { getBlockTypes, store as blocksStore } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { generateGlobalStyles } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../store';\nimport { useSetting, useGlobalStyles } from '../components/global-styles';\n\n/**\n * Returns the global styles output based on the provided global styles config.\n *\n * @param {Object}  mergedConfig       The merged global styles config.\n * @param {boolean} disableRootPadding Disable root padding styles.\n *\n * @return {Array} Array of stylesheets and settings.\n */\nexport function useGlobalStylesOutputWithConfig(\n\tmergedConfig = {},\n\tdisableRootPadding = false\n) {\n\tconst blockGap = useSetting( 'spacing.blockGap' );\n\tconst hasBlockGapSupport = blockGap !== null;\n\tconst hasFallbackGapSupport = ! hasBlockGapSupport;\n\n\tconst { disableLayoutStyles, getBlockStyles } = useSelect( ( select ) => {\n\t\tconst { getEditorSettings } = select( editorStore );\n\t\tconst { getBlockStyles: getBlockStylesSelector } =\n\t\t\tselect( blocksStore );\n\t\tconst settings = getEditorSettings();\n\t\treturn {\n\t\t\tdisableLayoutStyles: !! settings?.disableLayoutStyles,\n\t\t\tgetBlockStyles: getBlockStylesSelector,\n\t\t};\n\t}, [] );\n\n\treturn useMemo( () => {\n\t\tif ( ! mergedConfig?.styles || ! mergedConfig?.settings ) {\n\t\t\treturn [ [], {} ];\n\t\t}\n\n\t\tconst blockTypes = getBlockTypes();\n\n\t\treturn generateGlobalStyles( mergedConfig, blockTypes, {\n\t\t\thasBlockGapSupport,\n\t\t\thasFallbackGapSupport,\n\t\t\tdisableLayoutStyles,\n\t\t\tdisableRootPadding,\n\t\t\tgetBlockStyles,\n\t\t} );\n\t}, [\n\t\thasBlockGapSupport,\n\t\thasFallbackGapSupport,\n\t\tmergedConfig,\n\t\tdisableLayoutStyles,\n\t\tdisableRootPadding,\n\t\tgetBlockStyles,\n\t] );\n}\n\n/**\n * Returns the global styles output based on the current state of global styles config loaded in the editor context.\n *\n * @param {boolean} disableRootPadding Disable root padding styles.\n *\n * @return {Array} Array of stylesheets and settings.\n */\nexport function useGlobalStylesOutput( disableRootPadding = false ) {\n\tconst { merged: mergedConfig } = useGlobalStyles();\n\treturn useGlobalStylesOutputWithConfig( mergedConfig, disableRootPadding );\n}\n", "/**\n * WordPress dependencies\n */\nimport { Disabled } from '@wordpress/components';\nimport {\n\tBlockList,\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n\t__unstableEditorStyles as EditorStyles,\n\t__unstableIframe as Iframe,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo, forwardRef } from '@wordpress/element';\nimport { useGlobalStylesRevisions } from '@wordpress/global-styles-ui';\nimport { mergeGlobalStyles } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport { useGlobalStyles } from '../global-styles/hooks';\nimport { useGlobalStylesOutputWithConfig } from '../../hooks/use-global-styles-output';\nimport { unlock } from '../../lock-unlock';\n\nconst {\n\tExperimentalBlockEditorProvider,\n\t__unstableBlockStyleVariationOverridesWithConfig,\n} = unlock( blockEditorPrivateApis );\n\nfunction isObjectEmpty( object ) {\n\treturn ! object || Object.keys( object ).length === 0;\n}\n\n/**\n * Revisions content component for global styles.\n * Coordinates with ScreenRevisions through the path parameter to display\n * the currently selected revision.\n *\n * @param {Object}                       props      Component props.\n * @param {string}                       props.path Current path in global styles.\n * @param {import('react').ForwardedRef} ref        Ref to the Revisions component.\n * @return {JSX.Element|null} The Revisions component or null if loading.\n */\nfunction StylesCanvasRevisions( { path }, ref ) {\n\tconst blocks = useSelect( ( select ) => {\n\t\t// This is not ideal: it's like a loop (reading from block-editor to render it).\n\t\treturn select( blockEditorStore ).getBlocks();\n\t}, [] );\n\tconst { user: userConfig, base: baseConfig } = useGlobalStyles();\n\n\t// Fetch all revisions (includes unsaved, parent, and enriched with authors)\n\tconst { revisions, isLoading } = useGlobalStylesRevisions();\n\n\t// Parse revision ID from path (e.g., \"/revisions/123\" -> \"123\")\n\tconst revisionId = useMemo( () => {\n\t\tconst match = path?.match( /^\\/revisions\\/(.+)$/ );\n\t\treturn match ? match[ 1 ] : null;\n\t}, [ path ] );\n\n\t// Find the selected revision from the fetched list\n\tconst selectedRevision = useMemo( () => {\n\t\tif ( ! revisionId || ! revisions.length ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn revisions.find(\n\t\t\t( rev ) => String( rev.id ) === String( revisionId )\n\t\t);\n\t}, [ revisionId, revisions ] );\n\n\t// Use the selected revision's config if available, otherwise use current user config\n\tconst displayConfig = selectedRevision || userConfig;\n\n\t// Merge the display config with the base config\n\tconst mergedConfig = useMemo( () => {\n\t\tif (\n\t\t\t! isObjectEmpty( displayConfig ) &&\n\t\t\t! isObjectEmpty( baseConfig )\n\t\t) {\n\t\t\treturn mergeGlobalStyles( baseConfig, displayConfig );\n\t\t}\n\t\treturn {};\n\t}, [ baseConfig, displayConfig ] );\n\n\tconst renderedBlocksArray = useMemo(\n\t\t() => ( Array.isArray( blocks ) ? blocks : [ blocks ] ),\n\t\t[ blocks ]\n\t);\n\n\tconst originalSettings = useSelect(\n\t\t( select ) => select( blockEditorStore ).getSettings(),\n\t\t[]\n\t);\n\tconst settings = useMemo(\n\t\t() => ( {\n\t\t\t...originalSettings,\n\t\t\tisPreviewMode: true,\n\t\t} ),\n\t\t[ originalSettings ]\n\t);\n\n\tconst [ globalStyles ] = useGlobalStylesOutputWithConfig( mergedConfig );\n\n\tconst editorStyles =\n\t\t! isObjectEmpty( globalStyles ) && ! isObjectEmpty( displayConfig )\n\t\t\t? globalStyles\n\t\t\t: settings.styles;\n\n\tif ( isLoading ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Iframe\n\t\t\tref={ ref }\n\t\t\tclassName=\"editor-revisions__iframe\"\n\t\t\tname=\"revisions\"\n\t\t\ttabIndex={ 0 }\n\t\t>\n\t\t\t<style>\n\t\t\t\t{\n\t\t\t\t\t// Forming a \"block formatting context\" to prevent margin collapsing.\n\t\t\t\t\t// @see https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context\n\t\t\t\t\t`.is-root-container { display: flow-root; }`\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<Disabled className=\"editor-revisions__example-preview__content\">\n\t\t\t\t<ExperimentalBlockEditorProvider\n\t\t\t\t\tvalue={ renderedBlocksArray }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t>\n\t\t\t\t\t<BlockList renderAppender={ false } />\n\t\t\t\t\t{ /*\n\t\t\t\t\t * Styles are printed inside the block editor provider,\n\t\t\t\t\t * so they can access any registered style overrides.\n\t\t\t\t\t */ }\n\t\t\t\t\t<EditorStyles styles={ editorStyles } />\n\t\t\t\t\t<__unstableBlockStyleVariationOverridesWithConfig\n\t\t\t\t\t\tconfig={ mergedConfig }\n\t\t\t\t\t/>\n\t\t\t\t</ExperimentalBlockEditorProvider>\n\t\t\t</Disabled>\n\t\t</Iframe>\n\t);\n}\nexport default forwardRef( StylesCanvasRevisions );\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useRef, useCallback } from '@wordpress/element';\nimport { ResizableBox } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ResizeHandle from './resize-handle';\n\n// Removes the inline styles in the drag handles.\nconst HANDLE_STYLES_OVERRIDE = {\n\tposition: undefined,\n\tuserSelect: undefined,\n\tcursor: undefined,\n\twidth: undefined,\n\theight: undefined,\n\ttop: undefined,\n\tright: undefined,\n\tbottom: undefined,\n\tleft: undefined,\n};\n\nfunction ResizableEditor( { className, enableResizing, height, children } ) {\n\tconst [ width, setWidth ] = useState( '100%' );\n\tconst resizableRef = useRef();\n\tconst resizeWidthBy = useCallback( ( deltaPixels ) => {\n\t\tif ( resizableRef.current ) {\n\t\t\tsetWidth( resizableRef.current.offsetWidth + deltaPixels );\n\t\t}\n\t}, [] );\n\treturn (\n\t\t<ResizableBox\n\t\t\tclassName={ clsx( 'editor-resizable-editor', className, {\n\t\t\t\t'is-resizable': enableResizing,\n\t\t\t} ) }\n\t\t\tref={ ( api ) => {\n\t\t\t\tresizableRef.current = api?.resizable;\n\t\t\t} }\n\t\t\tsize={ {\n\t\t\t\twidth: enableResizing ? width : '100%',\n\t\t\t\theight: enableResizing && height ? height : '100%',\n\t\t\t} }\n\t\t\tonResizeStop={ ( event, direction, element ) => {\n\t\t\t\tsetWidth( element.style.width );\n\t\t\t} }\n\t\t\tminWidth={ 300 }\n\t\t\tmaxWidth=\"100%\"\n\t\t\tmaxHeight=\"100%\"\n\t\t\tenable={ {\n\t\t\t\tleft: enableResizing,\n\t\t\t\tright: enableResizing,\n\t\t\t} }\n\t\t\tshowHandle={ enableResizing }\n\t\t\t// The editor is centered horizontally, resizing it only\n\t\t\t// moves half the distance. Hence double the ratio to correctly\n\t\t\t// align the cursor to the resizer handle.\n\t\t\tresizeRatio={ 2 }\n\t\t\thandleComponent={ {\n\t\t\t\tleft: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"left\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\tright: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t} }\n\t\t\thandleClasses={ undefined }\n\t\t\thandleStyles={ {\n\t\t\t\tleft: HANDLE_STYLES_OVERRIDE,\n\t\t\t\tright: HANDLE_STYLES_OVERRIDE,\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</ResizableBox>\n\t);\n}\n\nexport default ResizableEditor;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { LEFT, RIGHT } from '@wordpress/keycodes';\nimport {\n\tVisuallyHidden,\n\tTooltip,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\n\nconst DELTA_DISTANCE = 20; // The distance to resize per keydown in pixels.\n\nexport default function ResizeHandle( { direction, resizeWidthBy } ) {\n\tfunction handleKeyDown( event ) {\n\t\tconst { keyCode } = event;\n\n\t\tif ( keyCode !== LEFT && keyCode !== RIGHT ) {\n\t\t\treturn;\n\t\t}\n\t\tevent.preventDefault();\n\n\t\tif (\n\t\t\t( direction === 'left' && keyCode === LEFT ) ||\n\t\t\t( direction === 'right' && keyCode === RIGHT )\n\t\t) {\n\t\t\tresizeWidthBy( DELTA_DISTANCE );\n\t\t} else if (\n\t\t\t( direction === 'left' && keyCode === RIGHT ) ||\n\t\t\t( direction === 'right' && keyCode === LEFT )\n\t\t) {\n\t\t\tresizeWidthBy( -DELTA_DISTANCE );\n\t\t}\n\t}\n\n\tconst resizeHandleVariants = {\n\t\tactive: {\n\t\t\topacity: 1,\n\t\t\tscaleY: 1.3,\n\t\t},\n\t};\n\n\tconst resizableHandleHelpId = `resizable-editor__resize-help-${ direction }`;\n\n\treturn (\n\t\t<>\n\t\t\t<Tooltip text={ __( 'Drag to resize' ) }>\n\t\t\t\t<motion.button\n\t\t\t\t\tclassName={ `editor-resizable-editor__resize-handle is-${ direction }` }\n\t\t\t\t\taria-label={ __( 'Drag to resize' ) }\n\t\t\t\t\taria-describedby={ resizableHandleHelpId }\n\t\t\t\t\tonKeyDown={ handleKeyDown }\n\t\t\t\t\tvariants={ resizeHandleVariants }\n\t\t\t\t\twhileFocus=\"active\"\n\t\t\t\t\twhileHover=\"active\"\n\t\t\t\t\twhileTap=\"active\"\n\t\t\t\t\tkey=\"handle\"\n\t\t\t\t\trole=\"separator\"\n\t\t\t\t\taria-orientation=\"vertical\"\n\t\t\t\t/>\n\t\t\t</Tooltip>\n\t\t\t<VisuallyHidden id={ resizableHandleHelpId }>\n\t\t\t\t{ __( 'Use left and right arrow keys to resize the canvas.' ) }\n\t\t\t</VisuallyHidden>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Hook to get details about the currently edited content-only section.\n * Only returns information when the content only pattern insertion experiment is enabled.\n *\n * @return {Object|null} Object with patternName, patternTitle, and type, or null if no section is being edited or experiment is disabled.\n */\nexport default function useEditedSectionDetails() {\n\treturn useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetBlockAttributes,\n\t\t\tgetBlockName,\n\t\t\t__experimentalGetParsedPattern,\n\t\t} = select( blockEditorStore );\n\t\tconst { getEditedEntityRecord, getCurrentTheme } = select( coreStore );\n\t\tconst { getEditedContentOnlySection } = unlock(\n\t\t\tselect( blockEditorStore )\n\t\t);\n\n\t\t// Get the clientId of the unlocked pattern/section\n\t\tconst editedSectionId = getEditedContentOnlySection();\n\t\tif ( ! editedSectionId ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst attributes = getBlockAttributes( editedSectionId );\n\n\t\t// Handle unsynced patterns (contentOnly patterns with patternName)\n\t\tconst patternName = attributes?.metadata?.patternName;\n\t\tif ( patternName ) {\n\t\t\t// Get pattern details if available\n\t\t\tconst pattern =\n\t\t\t\ttypeof __experimentalGetParsedPattern === 'function'\n\t\t\t\t\t? __experimentalGetParsedPattern( patternName )\n\t\t\t\t\t: null;\n\n\t\t\treturn {\n\t\t\t\tpatternName,\n\t\t\t\tpatternTitle: pattern?.title || attributes?.metadata?.name,\n\t\t\t\ttype: 'pattern',\n\t\t\t};\n\t\t}\n\n\t\tconst blockName = getBlockName( editedSectionId );\n\n\t\t// Handle synced patterns (core/block)\n\t\tif ( blockName === 'core/block' && !! attributes?.ref ) {\n\t\t\tconst entity = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_block',\n\t\t\t\tattributes.ref\n\t\t\t);\n\t\t\tif ( entity?.title ) {\n\t\t\t\treturn {\n\t\t\t\t\tpatternName: attributes.ref,\n\t\t\t\t\tpatternTitle: decodeEntities( entity.title ),\n\t\t\t\t\ttype: 'synced-pattern',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// Handle template parts (core/template-part)\n\t\tif ( blockName === 'core/template-part' && !! attributes?.slug ) {\n\t\t\tconst theme = attributes.theme || getCurrentTheme()?.stylesheet;\n\t\t\tconst templatePartId = theme\n\t\t\t\t? `${ theme }//${ attributes.slug }`\n\t\t\t\t: null;\n\t\t\tif ( templatePartId ) {\n\t\t\t\tconst entity = getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template_part',\n\t\t\t\t\ttemplatePartId\n\t\t\t\t);\n\t\t\t\tif ( entity?.title ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpatternName: attributes.slug,\n\t\t\t\t\t\tpatternTitle: decodeEntities( entity.title ),\n\t\t\t\t\t\ttype: 'template-part',\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}, [] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useRef, useMemo } from '@wordpress/element';\nimport { create, getTextContent } from '@wordpress/rich-text';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { Path, SVG, Line, Rect } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport DocumentOutlineItem from './item';\nimport { store as editorStore } from '../../store';\n\n/**\n * Module constants\n */\nconst emptyHeadingContent = <em>{ __( '(Empty heading)' ) }</em>;\nconst incorrectLevelContent = [\n\t<br key=\"incorrect-break\" />,\n\t<em key=\"incorrect-message\">{ __( '(Incorrect heading level)' ) }</em>,\n];\nconst singleH1Headings = [\n\t<br key=\"incorrect-break-h1\" />,\n\t<em key=\"incorrect-message-h1\">\n\t\t{ __( '(Your theme may already use a H1 for the post title)' ) }\n\t</em>,\n];\nconst multipleH1Headings = [\n\t<br key=\"incorrect-break-multiple-h1\" />,\n\t<em key=\"incorrect-message-multiple-h1\">\n\t\t{ __( '(Multiple H1 headings are not recommended)' ) }\n\t</em>,\n];\nfunction EmptyOutlineIllustration() {\n\treturn (\n\t\t<SVG\n\t\t\twidth=\"138\"\n\t\t\theight=\"148\"\n\t\t\tviewBox=\"0 0 138 148\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<Rect width=\"138\" height=\"148\" rx=\"4\" fill=\"#F0F6FC\" />\n\t\t\t<Line x1=\"44\" y1=\"28\" x2=\"24\" y2=\"28\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"48\" y=\"16\" width=\"27\" height=\"23\" rx=\"4\" fill=\"#DDDDDD\" />\n\t\t\t<Path\n\t\t\t\td=\"M54.7585 32V23.2727H56.6037V26.8736H60.3494V23.2727H62.1903V32H60.3494V28.3949H56.6037V32H54.7585ZM67.4574 23.2727V32H65.6122V25.0241H65.5611L63.5625 26.277V24.6406L65.723 23.2727H67.4574Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t\t<Line x1=\"55\" y1=\"59\" x2=\"24\" y2=\"59\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"59\" y=\"47\" width=\"29\" height=\"23\" rx=\"4\" fill=\"#DDDDDD\" />\n\t\t\t<Path\n\t\t\t\td=\"M65.7585 63V54.2727H67.6037V57.8736H71.3494V54.2727H73.1903V63H71.3494V59.3949H67.6037V63H65.7585ZM74.6605 63V61.6705L77.767 58.794C78.0313 58.5384 78.2528 58.3082 78.4318 58.1037C78.6136 57.8991 78.7514 57.6989 78.8452 57.5028C78.9389 57.304 78.9858 57.0895 78.9858 56.8594C78.9858 56.6037 78.9276 56.3835 78.8111 56.1989C78.6946 56.0114 78.5355 55.8679 78.3338 55.7685C78.1321 55.6662 77.9034 55.6151 77.6477 55.6151C77.3807 55.6151 77.1477 55.669 76.9489 55.777C76.75 55.8849 76.5966 56.0398 76.4886 56.2415C76.3807 56.4432 76.3267 56.6832 76.3267 56.9616H74.5753C74.5753 56.3906 74.7045 55.8949 74.9631 55.4744C75.2216 55.054 75.5838 54.7287 76.0497 54.4986C76.5156 54.2685 77.0526 54.1534 77.6605 54.1534C78.2855 54.1534 78.8295 54.2642 79.2926 54.4858C79.7585 54.7045 80.1207 55.0085 80.3793 55.3977C80.6378 55.7869 80.767 56.233 80.767 56.7358C80.767 57.0653 80.7017 57.3906 80.571 57.7116C80.4432 58.0327 80.2145 58.3892 79.8849 58.7812C79.5554 59.1705 79.0909 59.6378 78.4915 60.1832L77.2173 61.4318V61.4915H80.8821V63H74.6605Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t\t<Line x1=\"80\" y1=\"90\" x2=\"24\" y2=\"90\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"84\" y=\"78\" width=\"30\" height=\"23\" rx=\"4\" fill=\"#F0B849\" />\n\t\t\t<Path\n\t\t\t\td=\"M90.7585 94V85.2727H92.6037V88.8736H96.3494V85.2727H98.1903V94H96.3494V90.3949H92.6037V94H90.7585ZM99.5284 92.4659V91.0128L103.172 85.2727H104.425V87.2841H103.683L101.386 90.919V90.9872H106.564V92.4659H99.5284ZM103.717 94V92.0227L103.751 91.3793V85.2727H105.482V94H103.717Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t\t<Line x1=\"66\" y1=\"121\" x2=\"24\" y2=\"121\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"70\" y=\"109\" width=\"29\" height=\"23\" rx=\"4\" fill=\"#DDDDDD\" />\n\t\t\t<Path\n\t\t\t\td=\"M76.7585 125V116.273H78.6037V119.874H82.3494V116.273H84.1903V125H82.3494V121.395H78.6037V125H76.7585ZM88.8864 125.119C88.25 125.119 87.6832 125.01 87.1861 124.791C86.6918 124.57 86.3011 124.266 86.0142 123.879C85.7301 123.49 85.5838 123.041 85.5753 122.533H87.4332C87.4446 122.746 87.5142 122.933 87.642 123.095C87.7727 123.254 87.946 123.378 88.1619 123.466C88.3778 123.554 88.6207 123.598 88.8906 123.598C89.1719 123.598 89.4205 123.548 89.6364 123.449C89.8523 123.349 90.0213 123.212 90.1435 123.036C90.2656 122.859 90.3267 122.656 90.3267 122.426C90.3267 122.193 90.2614 121.987 90.1307 121.808C90.0028 121.626 89.8182 121.484 89.5767 121.382C89.3381 121.28 89.054 121.229 88.7244 121.229H87.9105V119.874H88.7244C89.0028 119.874 89.2486 119.825 89.4616 119.729C89.6776 119.632 89.8452 119.499 89.9645 119.328C90.0838 119.155 90.1435 118.953 90.1435 118.723C90.1435 118.504 90.0909 118.312 89.9858 118.148C89.8835 117.98 89.7386 117.849 89.5511 117.756C89.3665 117.662 89.1506 117.615 88.9034 117.615C88.6534 117.615 88.4247 117.661 88.2173 117.751C88.0099 117.839 87.8438 117.966 87.7188 118.131C87.5938 118.295 87.527 118.489 87.5185 118.71H85.75C85.7585 118.207 85.902 117.764 86.1804 117.381C86.4588 116.997 86.8338 116.697 87.3054 116.482C87.7798 116.263 88.3153 116.153 88.9119 116.153C89.5142 116.153 90.0412 116.263 90.4929 116.482C90.9446 116.7 91.2955 116.996 91.5455 117.368C91.7983 117.737 91.9233 118.152 91.9205 118.612C91.9233 119.101 91.7713 119.509 91.4645 119.835C91.1605 120.162 90.7642 120.369 90.2756 120.457V120.526C90.9176 120.608 91.4063 120.831 91.7415 121.195C92.0795 121.555 92.2472 122.007 92.2443 122.55C92.2472 123.047 92.1037 123.489 91.8139 123.875C91.527 124.261 91.1307 124.565 90.625 124.787C90.1193 125.009 89.5398 125.119 88.8864 125.119Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t</SVG>\n\t);\n}\n\n/**\n * Returns an array of heading blocks enhanced with the following properties:\n * level   - An integer with the heading level.\n * isEmpty - Flag indicating if the heading has no content.\n *\n * @param {?Array} blocks An array of blocks.\n *\n * @return {Array} An array of heading blocks enhanced with the properties described above.\n */\nconst computeOutlineHeadings = ( blocks = [] ) => {\n\treturn blocks\n\t\t.filter( ( block ) => block.name === 'core/heading' )\n\t\t.map( ( block ) => ( {\n\t\t\t...block,\n\t\t\tlevel: block.attributes.level,\n\t\t\tisEmpty: isEmptyHeading( block ),\n\t\t} ) );\n};\n\nconst isEmptyHeading = ( heading ) =>\n\t! heading.attributes.content ||\n\theading.attributes.content.trim().length === 0;\n\n/**\n * Renders a document outline component.\n *\n * @param {Object}   props                         Props.\n * @param {Function} props.onSelect                Function to be called when an outline item is selected\n * @param {boolean}  props.hasOutlineItemsDisabled Indicates whether the outline items are disabled.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function DocumentOutline( {\n\tonSelect,\n\thasOutlineItemsDisabled,\n} ) {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\tconst { title, isTitleSupported } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\t\treturn {\n\t\t\ttitle: getEditedPostAttribute( 'title' ),\n\t\t\tisTitleSupported: postType?.supports?.title ?? false,\n\t\t};\n\t} );\n\tconst blocks = useSelect( ( select ) => {\n\t\tconst { getClientIdsWithDescendants, getBlock } =\n\t\t\tselect( blockEditorStore );\n\t\tconst clientIds = getClientIdsWithDescendants();\n\t\t// Note: Don't modify data inside the `Array.map` callback,\n\t\t// all compulations should happen in `computeOutlineHeadings`.\n\t\treturn clientIds.map( ( id ) => getBlock( id ) );\n\t} );\n\tconst contentBlocks = useSelect( ( select ) => {\n\t\t// When rendering in `post-only` mode all blocks are considered content blocks.\n\t\tif ( select( editorStore ).getRenderingMode() === 'post-only' ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst { getBlocksByName, getClientIdsOfDescendants } =\n\t\t\tselect( blockEditorStore );\n\t\tconst [ postContentClientId ] = getBlocksByName( 'core/post-content' );\n\n\t\t// Do nothing if there's no post content block.\n\t\tif ( ! postContentClientId ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn getClientIdsOfDescendants( postContentClientId );\n\t}, [] );\n\n\tconst prevHeadingLevelRef = useRef( 1 );\n\n\tconst headings = useMemo(\n\t\t() => computeOutlineHeadings( blocks ),\n\t\t[ blocks ]\n\t);\n\n\tif ( headings.length < 1 ) {\n\t\treturn (\n\t\t\t<div className=\"editor-document-outline has-no-headings\">\n\t\t\t\t<EmptyOutlineIllustration />\n\t\t\t\t<p>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Navigate the structure of your document and address issues like empty or incorrect heading levels.'\n\t\t\t\t\t) }\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Not great but it's the simplest way to locate the title right now.\n\tconst titleNode = document.querySelector( '.editor-post-title__input' );\n\tconst hasTitle = isTitleSupported && title && titleNode;\n\tconst countByLevel = headings.reduce(\n\t\t( acc, heading ) => ( {\n\t\t\t...acc,\n\t\t\t[ heading.level ]: ( acc[ heading.level ] || 0 ) + 1,\n\t\t} ),\n\t\t{}\n\t);\n\tconst hasMultipleH1 = countByLevel[ 1 ] > 1;\n\n\tfunction isContentBlock( clientId ) {\n\t\treturn Array.isArray( contentBlocks )\n\t\t\t? contentBlocks.includes( clientId )\n\t\t\t: true;\n\t}\n\n\treturn (\n\t\t<div className=\"document-outline\">\n\t\t\t<ul>\n\t\t\t\t{ hasTitle && (\n\t\t\t\t\t<DocumentOutlineItem\n\t\t\t\t\t\tlevel={ __( 'Title' ) }\n\t\t\t\t\t\tisValid\n\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\thref={ `#${ titleNode.id }` }\n\t\t\t\t\t\tisDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</DocumentOutlineItem>\n\t\t\t\t) }\n\t\t\t\t{ headings.map( ( item ) => {\n\t\t\t\t\t// Headings remain the same, go up by one, or down by any amount.\n\t\t\t\t\t// Otherwise there are missing levels.\n\t\t\t\t\tconst isIncorrectLevel =\n\t\t\t\t\t\titem.level > prevHeadingLevelRef.current + 1;\n\n\t\t\t\t\tconst isValid =\n\t\t\t\t\t\t! item.isEmpty &&\n\t\t\t\t\t\t! isIncorrectLevel &&\n\t\t\t\t\t\t!! item.level &&\n\t\t\t\t\t\t( item.level !== 1 ||\n\t\t\t\t\t\t\t( ! hasMultipleH1 && ! hasTitle ) );\n\t\t\t\t\tprevHeadingLevelRef.current = item.level;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DocumentOutlineItem\n\t\t\t\t\t\t\tkey={ item.clientId }\n\t\t\t\t\t\t\tlevel={ `H${ item.level }` }\n\t\t\t\t\t\t\tisValid={ isValid }\n\t\t\t\t\t\t\tisDisabled={\n\t\t\t\t\t\t\t\thasOutlineItemsDisabled ||\n\t\t\t\t\t\t\t\t! isContentBlock( item.clientId )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thref={ `#block-${ item.clientId }` }\n\t\t\t\t\t\t\tonSelect={ () => {\n\t\t\t\t\t\t\t\tselectBlock( item.clientId );\n\t\t\t\t\t\t\t\tonSelect?.();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ item.isEmpty\n\t\t\t\t\t\t\t\t? emptyHeadingContent\n\t\t\t\t\t\t\t\t: getTextContent(\n\t\t\t\t\t\t\t\t\t\tcreate( {\n\t\t\t\t\t\t\t\t\t\t\thtml: item.attributes.content,\n\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t\t\t{ isIncorrectLevel && incorrectLevelContent }\n\t\t\t\t\t\t\t{ item.level === 1 &&\n\t\t\t\t\t\t\t\thasMultipleH1 &&\n\t\t\t\t\t\t\t\tmultipleH1Headings }\n\t\t\t\t\t\t\t{ hasTitle &&\n\t\t\t\t\t\t\t\titem.level === 1 &&\n\t\t\t\t\t\t\t\t! hasMultipleH1 &&\n\t\t\t\t\t\t\t\tsingleH1Headings }\n\t\t\t\t\t\t</DocumentOutlineItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\nconst TableOfContentsItem = ( {\n\tchildren,\n\tisValid,\n\tisDisabled,\n\tlevel,\n\thref,\n\tonSelect,\n} ) => {\n\tfunction handleClick( event ) {\n\t\tif ( isDisabled ) {\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\t\tonSelect();\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={ clsx(\n\t\t\t\t'document-outline__item',\n\t\t\t\t`is-${ level.toLowerCase() }`,\n\t\t\t\t{\n\t\t\t\t\t'is-invalid': ! isValid,\n\t\t\t\t\t'is-disabled': isDisabled,\n\t\t\t\t}\n\t\t\t) }\n\t\t>\n\t\t\t<a\n\t\t\t\thref={ href }\n\t\t\t\tclassName=\"document-outline__button\"\n\t\t\t\taria-disabled={ isDisabled }\n\t\t\t\tonClick={ handleClick }\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"document-outline__emdash\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t></span>\n\t\t\t\t<strong className=\"document-outline__level\">{ level }</strong>\n\t\t\t\t<span className=\"document-outline__item-content\">\n\t\t\t\t\t{ children }\n\t\t\t\t</span>\n\t\t\t</a>\n\t\t</li>\n\t);\n};\n\nexport default TableOfContentsItem;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Component check if there are any headings (core/heading blocks) present in the document.\n *\n * @param {Object}          props          Props.\n * @param {React.ReactNode} props.children Children to be rendered.\n *\n * @return {React.ReactNode} The component to be rendered or null if there are headings.\n */\nexport default function DocumentOutlineCheck( { children } ) {\n\tconst hasHeadings = useSelect( ( select ) => {\n\t\tconst { getGlobalBlockCount } = select( blockEditorStore );\n\n\t\treturn getGlobalBlockCount( 'core/heading' ) > 0;\n\t} );\n\n\tif ( ! hasHeadings ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { BlockEditorKeyboardShortcuts } from '@wordpress/block-editor';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Component for registering editor keyboard shortcuts.\n *\n * @return {Element} The component to be rendered.\n */\nfunction EditorKeyboardShortcutsRegister() {\n\t// Registering the shortcuts.\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/toggle-mode',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Switch between visual editor and code editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'secondary',\n\t\t\t\tcharacter: 'm',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t\t// Disable on Apple OS because it conflicts with the browser's\n\t\t\t// history shortcut. It's a fine alias for both Windows and Linux.\n\t\t\t// Since there's no conflict for Ctrl+Shift+Z on both Windows and\n\t\t\t// Linux, we keep it as the default for consistency.\n\t\t\taliases: isAppleOS()\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmodifier: 'primary',\n\t\t\t\t\t\t\tcharacter: 'y',\n\t\t\t\t\t\t},\n\t\t\t\t  ],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/toggle-list-view',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Show or hide the List View.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'o',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/toggle-distraction-free',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Enter or exit distraction free mode.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: '\\\\',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/toggle-sidebar',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Show or hide the Settings panel.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: ',',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/keyboard-shortcuts',\n\t\t\tcategory: 'main',\n\t\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'h',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\t\tcharacter: '~',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\treturn <BlockEditorKeyboardShortcuts.Register />;\n}\n\nexport default EditorKeyboardShortcutsRegister;\n", "/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut, isAppleOS } from '@wordpress/keycodes';\nimport { redo as redoIcon, undo as undoIcon } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction EditorHistoryRedo( props, ref ) {\n\tconst shortcut = isAppleOS()\n\t\t? displayShortcut.primaryShift( 'z' )\n\t\t: displayShortcut.primary( 'y' );\n\n\tconst hasRedo = useSelect(\n\t\t( select ) => select( editorStore ).hasEditorRedo(),\n\t\t[]\n\t);\n\tconst { redo } = useDispatch( editorStore );\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\tlabel={ __( 'Redo' ) }\n\t\t\tshortcut={ shortcut }\n\t\t\t// If there are no redo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasRedo }\n\t\t\tonClick={ hasRedo ? redo : undefined }\n\t\t\tclassName=\"editor-history__redo\"\n\t\t/>\n\t);\n}\n\n/** @typedef {import('react').Ref<HTMLElement>} Ref */\n\n/**\n * Renders the redo button for the editor history.\n *\n * @param {Object} props - Props.\n * @param {Ref}    ref   - Forwarded ref.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default forwardRef( EditorHistoryRedo );\n", "/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction EditorHistoryUndo( props, ref ) {\n\tconst hasUndo = useSelect(\n\t\t( select ) => select( editorStore ).hasEditorUndo(),\n\t\t[]\n\t);\n\tconst { undo } = useDispatch( editorStore );\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\tlabel={ __( 'Undo' ) }\n\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasUndo }\n\t\t\tonClick={ hasUndo ? undo : undefined }\n\t\t\tclassName=\"editor-history__undo\"\n\t\t/>\n\t);\n}\n\n/** @typedef {import('react').Ref<HTMLElement>} Ref */\n\n/**\n * Renders the undo button for the editor history.\n *\n * @param {Object} props - Props.\n * @param {Ref}    ref   - Forwarded ref.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default forwardRef( EditorHistoryUndo );\n", "/**\n * WordPress dependencies\n */\nimport { NoticeList } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport TemplateValidationNotice from '../template-validation-notice';\n\n/**\n * This component renders the notices displayed in the editor. It displays pinned notices first, followed by dismissible\n *\n * @example\n * ```jsx\n * <EditorNotices />\n * ```\n *\n * @return {React.ReactNode} The rendered EditorNotices component.\n */\nexport function EditorNotices() {\n\tconst { notices } = useSelect(\n\t\t( select ) => ( {\n\t\t\tnotices: select( noticesStore ).getNotices(),\n\t\t} ),\n\t\t[]\n\t);\n\tconst { removeNotice } = useDispatch( noticesStore );\n\tconst dismissibleNotices = notices.filter(\n\t\t( { isDismissible, type } ) => isDismissible && type === 'default'\n\t);\n\tconst nonDismissibleNotices = notices.filter(\n\t\t( { isDismissible, type } ) => ! isDismissible && type === 'default'\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ nonDismissibleNotices }\n\t\t\t\tclassName=\"components-editor-notices__pinned\"\n\t\t\t/>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ dismissibleNotices }\n\t\t\t\tclassName=\"components-editor-notices__dismissible\"\n\t\t\t\tonRemove={ removeNotice }\n\t\t\t>\n\t\t\t\t<TemplateValidationNotice />\n\t\t\t</NoticeList>\n\t\t</>\n\t);\n}\n\nexport default EditorNotices;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tNotice,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nexport default function TemplateValidationNotice() {\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\tconst isValid = useSelect( ( select ) => {\n\t\treturn select( blockEditorStore ).isValidTemplate();\n\t}, [] );\n\tconst { setTemplateValidity, synchronizeTemplate } =\n\t\tuseDispatch( blockEditorStore );\n\n\tif ( isValid ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Notice\n\t\t\t\tclassName=\"editor-template-validation-notice\"\n\t\t\t\tisDismissible={ false }\n\t\t\t\tstatus=\"warning\"\n\t\t\t\tactions={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Keep it as is' ),\n\t\t\t\t\t\tonClick: () => setTemplateValidity( true ),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Reset the template' ),\n\t\t\t\t\t\tonClick: () => setShowConfirmDialog( true ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ __(\n\t\t\t\t\t'The content of your post doesn\u2019t match the template assigned to your post type.'\n\t\t\t\t) }\n\t\t\t</Notice>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\tconfirmButtonText={ __( 'Reset' ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetShowConfirmDialog( false );\n\t\t\t\t\tsynchronizeTemplate();\n\t\t\t\t} }\n\t\t\t\tonCancel={ () => setShowConfirmDialog( false ) }\n\t\t\t\tsize=\"medium\"\n\t\t\t>\n\t\t\t\t{ __(\n\t\t\t\t\t'Resetting the template may result in loss of content, do you want to continue?'\n\t\t\t\t) }\n\t\t\t</ConfirmDialog>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { SnackbarList } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n// Last three notices. Slices from the tail end of the list.\nconst MAX_VISIBLE_NOTICES = -3;\n\n/**\n * Renders the editor snackbars component.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function EditorSnackbars() {\n\tconst notices = useSelect(\n\t\t( select ) => select( noticesStore ).getNotices(),\n\t\t[]\n\t);\n\tconst { removeNotice } = useDispatch( noticesStore );\n\tconst snackbarNotices = notices\n\t\t.filter( ( { type } ) => type === 'snackbar' )\n\t\t.slice( MAX_VISIBLE_NOTICES );\n\n\treturn (\n\t\t<SnackbarList\n\t\t\tnotices={ snackbarNotices }\n\t\t\tclassName=\"components-editor-notices__snackbar\"\n\t\t\tonRemove={ removeNotice }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Button, Flex, FlexItem } from '@wordpress/components';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport {\n\tuseCallback,\n\tuseRef,\n\tcreateInterpolateElement,\n} from '@wordpress/element';\nimport {\n\t__experimentalUseDialog as useDialog,\n\tuseInstanceId,\n} from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport EntityTypeList from './entity-type-list';\nimport { useIsDirty } from './hooks/use-is-dirty';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nfunction identity( values ) {\n\treturn values;\n}\n\n/**\n * Renders the component for managing saved states of entities.\n *\n * @param {Object}   props              The component props.\n * @param {Function} props.close        The function to close the dialog.\n * @param {boolean=} props.renderDialog Whether to render the component with modal dialog behavior.\n * @param {string}   props.variant      Changes the layout of the component. When an `inline` value is provided, the action buttons are rendered at the end of the component instead of at the start.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function EntitiesSavedStates( {\n\tclose,\n\trenderDialog,\n\tvariant,\n} ) {\n\tconst isDirtyProps = useIsDirty();\n\treturn (\n\t\t<EntitiesSavedStatesExtensible\n\t\t\tclose={ close }\n\t\t\trenderDialog={ renderDialog }\n\t\t\tvariant={ variant }\n\t\t\t{ ...isDirtyProps }\n\t\t/>\n\t);\n}\n\n/**\n * Renders a panel for saving entities with dirty records.\n *\n * @param {Object}   props                       The component props.\n * @param {string}   props.additionalPrompt      Additional prompt to display.\n * @param {Function} props.close                 Function to close the panel.\n * @param {Function} props.onSave                Function to call when saving entities.\n * @param {boolean}  props.saveEnabled           Flag indicating if save is enabled.\n * @param {string}   props.saveLabel             Label for the save button.\n * @param {boolean}  props.renderDialog          Whether to render the component with modal dialog behavior.\n * @param {Array}    props.dirtyEntityRecords    Array of dirty entity records.\n * @param {boolean}  props.isDirty               Flag indicating if there are dirty entities.\n * @param {Function} props.setUnselectedEntities Function to set unselected entities.\n * @param {Array}    props.unselectedEntities    Array of unselected entities.\n * @param {string}   props.variant               Changes the layout of the component. When an `inline` value is provided, the action buttons are rendered at the end of the component instead of at the start.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport function EntitiesSavedStatesExtensible( {\n\tadditionalPrompt = undefined,\n\tclose,\n\tonSave = identity,\n\tsaveEnabled: saveEnabledProp = undefined,\n\tsaveLabel = __( 'Save' ),\n\trenderDialog,\n\tdirtyEntityRecords,\n\tisDirty,\n\tsetUnselectedEntities,\n\tunselectedEntities,\n\tvariant = 'default',\n} ) {\n\tconst saveButtonRef = useRef();\n\tconst { saveDirtyEntities } = unlock( useDispatch( editorStore ) );\n\t// To group entities by type.\n\tconst partitionedSavables = dirtyEntityRecords.reduce( ( acc, record ) => {\n\t\tconst { name } = record;\n\t\tif ( ! acc[ name ] ) {\n\t\t\tacc[ name ] = [];\n\t\t}\n\t\tacc[ name ].push( record );\n\t\treturn acc;\n\t}, {} );\n\n\t// Sort entity groups.\n\tconst {\n\t\tsite: siteSavables,\n\t\twp_template: templateSavables,\n\t\twp_template_part: templatePartSavables,\n\t\t...contentSavables\n\t} = partitionedSavables;\n\tconst sortedPartitionedSavables = [\n\t\tsiteSavables,\n\t\ttemplateSavables,\n\t\ttemplatePartSavables,\n\t\t...Object.values( contentSavables ),\n\t].filter( Array.isArray );\n\n\tconst saveEnabled = saveEnabledProp ?? isDirty;\n\t// Explicitly define this with no argument passed.  Using `close` on\n\t// its own will use the event object in place of the expected saved entities.\n\tconst dismissPanel = useCallback( () => close(), [ close ] );\n\n\tconst [ saveDialogRef, saveDialogProps ] = useDialog( {\n\t\tonClose: () => dismissPanel(),\n\t} );\n\tconst dialogLabelId = useInstanceId(\n\t\tEntitiesSavedStatesExtensible,\n\t\t'entities-saved-states__panel-label'\n\t);\n\tconst dialogDescriptionId = useInstanceId(\n\t\tEntitiesSavedStatesExtensible,\n\t\t'entities-saved-states__panel-description'\n\t);\n\n\tconst selectItemsToSaveDescription = !! dirtyEntityRecords.length\n\t\t? __( 'Select the items you want to save.' )\n\t\t: undefined;\n\n\tconst isInline = variant === 'inline';\n\n\tconst actionButtons = (\n\t\t<>\n\t\t\t<FlexItem\n\t\t\t\tisBlock={ isInline ? false : true }\n\t\t\t\tas={ Button }\n\t\t\t\tvariant={ isInline ? 'tertiary' : 'secondary' }\n\t\t\t\tsize={ isInline ? undefined : 'compact' }\n\t\t\t\tonClick={ dismissPanel }\n\t\t\t>\n\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t</FlexItem>\n\t\t\t<FlexItem\n\t\t\t\tisBlock={ isInline ? false : true }\n\t\t\t\tas={ Button }\n\t\t\t\tref={ saveButtonRef }\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tsize={ isInline ? undefined : 'compact' }\n\t\t\t\tdisabled={ ! saveEnabled }\n\t\t\t\taccessibleWhenDisabled\n\t\t\t\tonClick={ () =>\n\t\t\t\t\tsaveDirtyEntities( {\n\t\t\t\t\t\tonSave,\n\t\t\t\t\t\tdirtyEntityRecords,\n\t\t\t\t\t\tentitiesToSkip: unselectedEntities,\n\t\t\t\t\t\tclose,\n\t\t\t\t\t} )\n\t\t\t\t}\n\t\t\t\tclassName=\"editor-entities-saved-states__save-button\"\n\t\t\t>\n\t\t\t\t{ saveLabel }\n\t\t\t</FlexItem>\n\t\t</>\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tref={ renderDialog ? saveDialogRef : undefined }\n\t\t\t{ ...( renderDialog && saveDialogProps ) }\n\t\t\tclassName={ clsx( 'entities-saved-states__panel', {\n\t\t\t\t'is-inline': isInline,\n\t\t\t} ) }\n\t\t\trole={ renderDialog ? 'dialog' : undefined }\n\t\t\taria-labelledby={ renderDialog ? dialogLabelId : undefined }\n\t\t\taria-describedby={ renderDialog ? dialogDescriptionId : undefined }\n\t\t>\n\t\t\t{ ! isInline && (\n\t\t\t\t<Flex className=\"entities-saved-states__panel-header\" gap={ 2 }>\n\t\t\t\t\t{ actionButtons }\n\t\t\t\t</Flex>\n\t\t\t) }\n\n\t\t\t<div className=\"entities-saved-states__text-prompt\">\n\t\t\t\t<div className=\"entities-saved-states__text-prompt--header-wrapper\">\n\t\t\t\t\t<strong\n\t\t\t\t\t\tid={ renderDialog ? dialogLabelId : undefined }\n\t\t\t\t\t\tclassName=\"entities-saved-states__text-prompt--header\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Are you ready to save?' ) }\n\t\t\t\t\t</strong>\n\t\t\t\t</div>\n\t\t\t\t<div id={ renderDialog ? dialogDescriptionId : undefined }>\n\t\t\t\t\t{ additionalPrompt }\n\t\t\t\t\t<p className=\"entities-saved-states__text-prompt--changes-count\">\n\t\t\t\t\t\t{ isDirty\n\t\t\t\t\t\t\t? createInterpolateElement(\n\t\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: %d: number of site changes waiting to be saved. */\n\t\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t\t'There is <strong>%d site change</strong> waiting to be saved.',\n\t\t\t\t\t\t\t\t\t\t\t'There are <strong>%d site changes</strong> waiting to be saved.',\n\t\t\t\t\t\t\t\t\t\t\tdirtyEntityRecords.length\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tdirtyEntityRecords.length\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{ strong: <strong /> }\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: selectItemsToSaveDescription }\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{ sortedPartitionedSavables.map( ( list ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<EntityTypeList\n\t\t\t\t\t\tkey={ list[ 0 ].name }\n\t\t\t\t\t\tlist={ list }\n\t\t\t\t\t\tunselectedEntities={ unselectedEntities }\n\t\t\t\t\t\tsetUnselectedEntities={ setUnselectedEntities }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\n\t\t\t{ isInline && (\n\t\t\t\t<Flex\n\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\tclassName=\"entities-saved-states__panel-footer\"\n\t\t\t\t>\n\t\t\t\t\t{ actionButtons }\n\t\t\t\t</Flex>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody, PanelRow } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { getGlobalStylesChanges } from '@wordpress/global-styles-engine';\n\n/**\n * Internal dependencies\n */\nimport EntityRecordItem from './entity-record-item';\n\nfunction getEntityDescription( entity, count ) {\n\tswitch ( entity ) {\n\t\tcase 'site':\n\t\t\treturn 1 === count\n\t\t\t\t? __( 'This change will affect your whole site.' )\n\t\t\t\t: __( 'These changes will affect your whole site.' );\n\t\tcase 'wp_template':\n\t\t\treturn __(\n\t\t\t\t'This change will affect other parts of your site that use this template.'\n\t\t\t);\n\t\tcase 'page':\n\t\tcase 'post':\n\t\t\treturn __( 'The following has been modified.' );\n\t}\n}\n\nfunction GlobalStylesDescription( { record } ) {\n\tconst { editedRecord, savedRecord } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedEntityRecord, getEntityRecord } =\n\t\t\t\tselect( coreStore );\n\t\t\treturn {\n\t\t\t\teditedRecord: getEditedEntityRecord(\n\t\t\t\t\trecord.kind,\n\t\t\t\t\trecord.name,\n\t\t\t\t\trecord.key\n\t\t\t\t),\n\t\t\t\tsavedRecord: getEntityRecord(\n\t\t\t\t\trecord.kind,\n\t\t\t\t\trecord.name,\n\t\t\t\t\trecord.key\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ record.kind, record.name, record.key ]\n\t);\n\n\tconst globalStylesChanges = getGlobalStylesChanges(\n\t\teditedRecord,\n\t\tsavedRecord,\n\t\t{\n\t\t\tmaxResults: 10,\n\t\t}\n\t);\n\treturn globalStylesChanges.length ? (\n\t\t<ul className=\"entities-saved-states__changes\">\n\t\t\t{ globalStylesChanges.map( ( change ) => (\n\t\t\t\t<li key={ change }>{ change }</li>\n\t\t\t) ) }\n\t\t</ul>\n\t) : null;\n}\n\nfunction EntityDescription( { record, count } ) {\n\tif ( 'globalStyles' === record?.name ) {\n\t\treturn null;\n\t}\n\tconst description = getEntityDescription( record?.name, count );\n\treturn description ? <PanelRow>{ description }</PanelRow> : null;\n}\n\nexport default function EntityTypeList( {\n\tlist,\n\tunselectedEntities,\n\tsetUnselectedEntities,\n} ) {\n\tconst count = list.length;\n\tconst firstRecord = list[ 0 ];\n\tconst entityConfig = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityConfig(\n\t\t\t\tfirstRecord.kind,\n\t\t\t\tfirstRecord.name\n\t\t\t),\n\t\t[ firstRecord.kind, firstRecord.name ]\n\t);\n\n\tlet entityLabel = entityConfig.label;\n\tif ( firstRecord?.name === 'wp_template_part' ) {\n\t\tentityLabel =\n\t\t\t1 === count ? __( 'Template Part' ) : __( 'Template Parts' );\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\ttitle={ entityLabel }\n\t\t\tinitialOpen\n\t\t\tclassName=\"entities-saved-states__panel-body\"\n\t\t>\n\t\t\t<EntityDescription record={ firstRecord } count={ count } />\n\t\t\t{ list.map( ( record ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<EntityRecordItem\n\t\t\t\t\t\tkey={ record.key || record.property }\n\t\t\t\t\t\trecord={ record }\n\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t! unselectedEntities.some(\n\t\t\t\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\t\t\t\telt.kind === record.kind &&\n\t\t\t\t\t\t\t\t\telt.name === record.name &&\n\t\t\t\t\t\t\t\t\telt.key === record.key &&\n\t\t\t\t\t\t\t\t\telt.property === record.property\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetUnselectedEntities( record, value )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ 'globalStyles' === firstRecord?.name && (\n\t\t\t\t<GlobalStylesDescription record={ firstRecord } />\n\t\t\t) }\n\t\t</PanelBody>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { CheckboxControl, PanelRow } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport { getTemplateInfo } from '../../utils/get-template-info';\n\nexport default function EntityRecordItem( { record, checked, onChange } ) {\n\tconst { name, kind, title, key } = record;\n\n\t// Handle templates that might use default descriptive titles.\n\tconst { entityRecordTitle, hasPostMetaChanges } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( 'postType' !== kind || 'wp_template' !== name ) {\n\t\t\t\treturn {\n\t\t\t\t\tentityRecordTitle: title,\n\t\t\t\t\thasPostMetaChanges: unlock(\n\t\t\t\t\t\tselect( editorStore )\n\t\t\t\t\t).hasPostMetaChanges( name, key ),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst template = select( coreStore ).getEditedEntityRecord(\n\t\t\t\tkind,\n\t\t\t\tname,\n\t\t\t\tkey\n\t\t\t);\n\n\t\t\tconst { default_template_types: templateTypes = [] } =\n\t\t\t\tselect( coreStore ).getCurrentTheme() ?? {};\n\n\t\t\treturn {\n\t\t\t\tentityRecordTitle: getTemplateInfo( {\n\t\t\t\t\ttemplate,\n\t\t\t\t\ttemplateTypes,\n\t\t\t\t} ).title,\n\t\t\t\thasPostMetaChanges: unlock(\n\t\t\t\t\tselect( editorStore )\n\t\t\t\t).hasPostMetaChanges( name, key ),\n\t\t\t};\n\t\t},\n\t\t[ name, kind, title, key ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<PanelRow>\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tlabel={\n\t\t\t\t\t\tdecodeEntities( entityRecordTitle ) || __( 'Untitled' )\n\t\t\t\t\t}\n\t\t\t\t\tchecked={ checked }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tclassName=\"entities-saved-states__change-control\"\n\t\t\t\t/>\n\t\t\t</PanelRow>\n\t\t\t{ hasPostMetaChanges && (\n\t\t\t\t<ul className=\"entities-saved-states__changes\">\n\t\t\t\t\t<li>{ __( 'Post Meta.' ) }</li>\n\t\t\t\t</ul>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMemo, useState } from '@wordpress/element';\n\n/**\n * Custom hook that determines if any entities are dirty (edited) and provides a way to manage selected/unselected entities.\n *\n * @return {Object} An object containing the following properties:\n *   - dirtyEntityRecords: An array of dirty entity records.\n *   - isDirty: A boolean indicating if there are any dirty entity records.\n *   - setUnselectedEntities: A function to set the unselected entities.\n *   - unselectedEntities: An array of unselected entities.\n */\nexport const useIsDirty = () => {\n\tconst { editedEntities, siteEdits, siteEntityConfig } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\t__experimentalGetDirtyEntityRecords,\n\t\t\t\tgetEntityRecordEdits,\n\t\t\t\tgetEntityConfig,\n\t\t\t} = select( coreStore );\n\n\t\t\treturn {\n\t\t\t\teditedEntities: __experimentalGetDirtyEntityRecords(),\n\t\t\t\tsiteEdits: getEntityRecordEdits( 'root', 'site' ),\n\t\t\t\tsiteEntityConfig: getEntityConfig( 'root', 'site' ),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst dirtyEntityRecords = useMemo( () => {\n\t\t// Remove site object and decouple into its edited pieces.\n\t\tconst editedEntitiesWithoutSite = editedEntities.filter(\n\t\t\t( record ) => ! ( record.kind === 'root' && record.name === 'site' )\n\t\t);\n\n\t\tconst siteEntityLabels = siteEntityConfig?.meta?.labels ?? {};\n\t\tconst editedSiteEntities = [];\n\t\tfor ( const property in siteEdits ) {\n\t\t\teditedSiteEntities.push( {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t\ttitle: siteEntityLabels[ property ] || property,\n\t\t\t\tproperty,\n\t\t\t} );\n\t\t}\n\n\t\treturn [ ...editedEntitiesWithoutSite, ...editedSiteEntities ];\n\t}, [ editedEntities, siteEdits, siteEntityConfig ] );\n\n\t// Unchecked entities to be ignored by save function.\n\tconst [ unselectedEntities, _setUnselectedEntities ] = useState( [] );\n\n\tconst setUnselectedEntities = (\n\t\t{ kind, name, key, property },\n\t\tchecked\n\t) => {\n\t\tif ( checked ) {\n\t\t\t_setUnselectedEntities(\n\t\t\t\tunselectedEntities.filter(\n\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\telt.kind !== kind ||\n\t\t\t\t\t\telt.name !== name ||\n\t\t\t\t\t\telt.key !== key ||\n\t\t\t\t\t\telt.property !== property\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\t_setUnselectedEntities( [\n\t\t\t\t...unselectedEntities,\n\t\t\t\t{ kind, name, key, property },\n\t\t\t] );\n\t\t}\n\t};\n\n\tconst isDirty = dirtyEntityRecords.length - unselectedEntities.length > 0;\n\n\treturn {\n\t\tdirtyEntityRecords,\n\t\tisDirty,\n\t\tsetUnselectedEntities,\n\t\tunselectedEntities,\n\t};\n};\n", "/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { select } from '@wordpress/data';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { doAction } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction getContent() {\n\ttry {\n\t\t// While `select` in a component is generally discouraged, it is\n\t\t// used here because it (a) reduces the chance of data loss in the\n\t\t// case of additional errors by performing a direct retrieval and\n\t\t// (b) avoids the performance cost associated with unnecessary\n\t\t// content serialization throughout the lifetime of a non-erroring\n\t\t// application.\n\t\treturn select( editorStore ).getEditedPostContent();\n\t} catch ( error ) {}\n}\n\nfunction CopyButton( { text, children, variant = 'secondary' } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button __next40pxDefaultSize variant={ variant } ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nclass ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\n\t}\n\n\tstatic getDerivedStateFromError( error ) {\n\t\treturn { error };\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tconst { canCopyContent = false } = this.props;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\treturn (\n\t\t\t<HStack\n\t\t\t\tclassName=\"editor-error-boundary\"\n\t\t\t\talignment=\"baseline\"\n\t\t\t\tspacing={ 4 }\n\t\t\t\tjustify=\"space-between\"\n\t\t\t\texpanded={ false }\n\t\t\t\twrap\n\t\t\t>\n\t\t\t\t<Text as=\"p\">\n\t\t\t\t\t{ __( 'The editor has encountered an unexpected error.' ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack expanded={ false }>\n\t\t\t\t\t{ canCopyContent && (\n\t\t\t\t\t\t<CopyButton text={ getContent }>\n\t\t\t\t\t\t\t{ __( 'Copy contents' ) }\n\t\t\t\t\t\t</CopyButton>\n\t\t\t\t\t) }\n\t\t\t\t\t<CopyButton variant=\"primary\" text={ error?.stack }>\n\t\t\t\t\t\t{ __( 'Copy error' ) }\n\t\t\t\t\t</CopyButton>\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t);\n\t}\n}\n\n/**\n * ErrorBoundary is used to catch JavaScript errors anywhere in a child component tree, log those errors, and display a fallback UI.\n *\n * It uses the lifecycle methods getDerivedStateFromError and componentDidCatch to catch errors in a child component tree.\n *\n * getDerivedStateFromError is used to render a fallback UI after an error has been thrown, and componentDidCatch is used to log error information.\n *\n * @class ErrorBoundary\n * @augments Component\n */\nexport default ErrorBoundary;\n", "/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useRef } from '@wordpress/element';\nimport { ifCondition, usePrevious } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { parse } from '@wordpress/blocks';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport AutosaveMonitor from '../autosave-monitor';\nimport {\n\tlocalAutosaveGet,\n\tlocalAutosaveClear,\n} from '../../store/local-autosave';\nimport { store as editorStore } from '../../store';\n\nconst requestIdleCallback = window.requestIdleCallback\n\t? window.requestIdleCallback\n\t: window.requestAnimationFrame;\n\nlet hasStorageSupport;\n\n/**\n * Function which returns true if the current environment supports browser\n * sessionStorage, or false otherwise. The result of this function is cached and\n * reused in subsequent invocations.\n */\nconst hasSessionStorageSupport = () => {\n\tif ( hasStorageSupport !== undefined ) {\n\t\treturn hasStorageSupport;\n\t}\n\n\ttry {\n\t\t// Private Browsing in Safari 10 and earlier will throw an error when\n\t\t// attempting to set into sessionStorage. The test here is intentional in\n\t\t// causing a thrown error as condition bailing from local autosave.\n\t\twindow.sessionStorage.setItem( '__wpEditorTestSessionStorage', '' );\n\t\twindow.sessionStorage.removeItem( '__wpEditorTestSessionStorage' );\n\t\thasStorageSupport = true;\n\t} catch {\n\t\thasStorageSupport = false;\n\t}\n\n\treturn hasStorageSupport;\n};\n\n/**\n * Custom hook which manages the creation of a notice prompting the user to\n * restore a local autosave, if one exists.\n */\nfunction useAutosaveNotice() {\n\tconst { postId, isEditedPostNew, hasRemoteAutosave } = useSelect(\n\t\t( select ) => ( {\n\t\t\tpostId: select( editorStore ).getCurrentPostId(),\n\t\t\tisEditedPostNew: select( editorStore ).isEditedPostNew(),\n\t\t\thasRemoteAutosave:\n\t\t\t\t!! select( editorStore ).getEditorSettings().autosave,\n\t\t} ),\n\t\t[]\n\t);\n\tconst { getEditedPostAttribute } = useSelect( editorStore );\n\n\tconst { createWarningNotice, removeNotice } = useDispatch( noticesStore );\n\tconst { editPost, resetEditorBlocks } = useDispatch( editorStore );\n\n\tuseEffect( () => {\n\t\tlet localAutosave = localAutosaveGet( postId, isEditedPostNew );\n\t\tif ( ! localAutosave ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tlocalAutosave = JSON.parse( localAutosave );\n\t\t} catch {\n\t\t\t// Not usable if it can't be parsed.\n\t\t\treturn;\n\t\t}\n\n\t\tconst { post_title: title, content, excerpt } = localAutosave;\n\t\tconst edits = { title, content, excerpt };\n\n\t\t{\n\t\t\t// Only display a notice if there is a difference between what has been\n\t\t\t// saved and that which is stored in sessionStorage.\n\t\t\tconst hasDifference = Object.keys( edits ).some( ( key ) => {\n\t\t\t\treturn edits[ key ] !== getEditedPostAttribute( key );\n\t\t\t} );\n\n\t\t\tif ( ! hasDifference ) {\n\t\t\t\t// If there is no difference, it can be safely ejected from storage.\n\t\t\t\tlocalAutosaveClear( postId, isEditedPostNew );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif ( hasRemoteAutosave ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst id = 'wpEditorAutosaveRestore';\n\n\t\tcreateWarningNotice(\n\t\t\t__(\n\t\t\t\t'The backup of this post in your browser is different from the version below.'\n\t\t\t),\n\t\t\t{\n\t\t\t\tid,\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Restore the backup' ),\n\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\tcontent: editsContent,\n\t\t\t\t\t\t\t\t...editsWithoutContent\n\t\t\t\t\t\t\t} = edits;\n\t\t\t\t\t\t\teditPost( editsWithoutContent );\n\t\t\t\t\t\t\tresetEditorBlocks( parse( edits.content ) );\n\t\t\t\t\t\t\tremoveNotice( id );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t}\n\t\t);\n\t}, [ isEditedPostNew, postId ] );\n}\n\n/**\n * Custom hook which ejects a local autosave after a successful save occurs.\n */\nfunction useAutosavePurge() {\n\tconst { postId, isEditedPostNew, isDirty, isAutosaving, didError } =\n\t\tuseSelect(\n\t\t\t( select ) => ( {\n\t\t\t\tpostId: select( editorStore ).getCurrentPostId(),\n\t\t\t\tisEditedPostNew: select( editorStore ).isEditedPostNew(),\n\t\t\t\tisDirty: select( editorStore ).isEditedPostDirty(),\n\t\t\t\tisAutosaving: select( editorStore ).isAutosavingPost(),\n\t\t\t\tdidError: select( editorStore ).didPostSaveRequestFail(),\n\t\t\t} ),\n\t\t\t[]\n\t\t);\n\n\tconst lastIsDirtyRef = useRef( isDirty );\n\tconst lastIsAutosavingRef = useRef( isAutosaving );\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\t! didError &&\n\t\t\t( ( lastIsAutosavingRef.current && ! isAutosaving ) ||\n\t\t\t\t( lastIsDirtyRef.current && ! isDirty ) )\n\t\t) {\n\t\t\tlocalAutosaveClear( postId, isEditedPostNew );\n\t\t}\n\n\t\tlastIsDirtyRef.current = isDirty;\n\t\tlastIsAutosavingRef.current = isAutosaving;\n\t}, [ isDirty, isAutosaving, didError ] );\n\n\t// Once the isEditedPostNew changes from true to false, let's clear the auto-draft autosave.\n\tconst wasEditedPostNew = usePrevious( isEditedPostNew );\n\tconst prevPostId = usePrevious( postId );\n\tuseEffect( () => {\n\t\tif ( prevPostId === postId && wasEditedPostNew && ! isEditedPostNew ) {\n\t\t\tlocalAutosaveClear( postId, true );\n\t\t}\n\t}, [ isEditedPostNew, postId ] );\n}\n\nfunction LocalAutosaveMonitor() {\n\tconst { autosave } = useDispatch( editorStore );\n\tconst deferredAutosave = useCallback( () => {\n\t\trequestIdleCallback( () => autosave( { local: true } ) );\n\t}, [] );\n\tuseAutosaveNotice();\n\tuseAutosavePurge();\n\n\tconst localAutosaveInterval = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditorSettings().localAutosaveInterval,\n\t\t[]\n\t);\n\n\treturn (\n\t\t<AutosaveMonitor\n\t\t\tinterval={ localAutosaveInterval }\n\t\t\tautosave={ deferredAutosave }\n\t\t/>\n\t);\n}\n\n/**\n * Monitors local autosaves of a post in the editor.\n * It uses several hooks and functions to manage autosave behavior:\n * - `useAutosaveNotice` hook: Manages the creation of a notice prompting the user to restore a local autosave, if one exists.\n * - `useAutosavePurge` hook: Ejects a local autosave after a successful save occurs.\n * - `hasSessionStorageSupport` function: Checks if the current environment supports browser sessionStorage.\n * - `LocalAutosaveMonitor` component: Uses the `AutosaveMonitor` component to perform autosaves at a specified interval.\n *\n * The module also checks for sessionStorage support and conditionally exports the `LocalAutosaveMonitor` component based on that.\n *\n * @module LocalAutosaveMonitor\n */\nexport default ifCondition( hasSessionStorageSupport )( LocalAutosaveMonitor );\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Wrapper component that renders its children only if the post type supports page attributes.\n *\n * @param {Object}          props          - The component props.\n * @param {React.ReactNode} props.children - The child components to render.\n *\n * @return {React.ReactNode} The rendered child components or null if page attributes are not supported.\n */\nexport function PageAttributesCheck( { children } ) {\n\tconst supportsPageAttributes = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn !! postType?.supports?.[ 'page-attributes' ];\n\t}, [] );\n\n\t// Only render fields if post type supports page attributes or available templates exist.\n\tif ( ! supportsPageAttributes ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default PageAttributesCheck;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tFlex,\n\tFlexBlock,\n\t__experimentalNumberControl as NumberControl,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\nfunction PageAttributesOrder() {\n\tconst order = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'menu_order' ) ?? 0,\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ orderInput, setOrderInput ] = useState( null );\n\n\tconst setUpdatedOrder = ( value ) => {\n\t\tsetOrderInput( value );\n\t\tconst newOrder = Number( value );\n\t\tif ( Number.isInteger( newOrder ) && value.trim?.() !== '' ) {\n\t\t\teditPost( { menu_order: newOrder } );\n\t\t}\n\t};\n\n\tconst value = orderInput ?? order;\n\n\treturn (\n\t\t<Flex>\n\t\t\t<FlexBlock>\n\t\t\t\t<NumberControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Order' ) }\n\t\t\t\t\thelp={ __( 'Set the page order.' ) }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ setUpdatedOrder }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tonBlur={ () => {\n\t\t\t\t\t\tsetOrderInput( null );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</FlexBlock>\n\t\t</Flex>\n\t);\n}\n\n/**\n * Renders the Page Attributes Order component. A number input in an editor interface\n * for setting the order of a given page.\n * The component is now not used in core but was kept for backward compatibility.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PageAttributesOrderWithChecks() {\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"page-attributes\">\n\t\t\t<PageAttributesOrder />\n\t\t</PostTypeSupportCheck>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction checkSupport( supports = {}, key ) {\n\t// Check for top-level support keys.\n\tif ( supports[ key ] !== undefined ) {\n\t\treturn !! supports[ key ];\n\t}\n\n\tconst [ topKey, subKey ] = key.split( '.' );\n\t// Try to unwrap sub-properties from the superfluous array.\n\tconst [ subProperties ] = Array.isArray( supports[ topKey ] )\n\t\t? supports[ topKey ]\n\t\t: [];\n\n\treturn Array.isArray( subProperties )\n\t\t? subProperties.includes( subKey )\n\t\t: !! subProperties?.[ subKey ];\n}\n\n/**\n * A component which renders its own children only if the current editor post\n * type supports one of the given `supportKeys` prop.\n *\n * @param {Object}            props             Props.\n * @param {React.ReactNode}   props.children    Children to be rendered if post\n *                                              type supports.\n * @param {(string|string[])} props.supportKeys String or string array of keys\n *                                              to test.\n *\n * @return {React.ReactNode} The component to be rendered.\n */\nfunction PostTypeSupportCheck( { children, supportKeys } ) {\n\tconst postType = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\treturn getPostType( getEditedPostAttribute( 'type' ) );\n\t}, [] );\n\tlet isSupported = !! postType;\n\tif ( postType ) {\n\t\tisSupported = (\n\t\t\tArray.isArray( supportKeys ) ? supportKeys : [ supportKeys ]\n\t\t).some( ( key ) => checkSupport( postType.supports, key ) );\n\t}\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default PostTypeSupportCheck;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PageAttributesCheck from './check';\nimport { ParentRow } from './parent';\n\nconst PANEL_NAME = 'page-attributes';\n\nfunction AttributesPanel() {\n\tconst { isEnabled, postType } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, isEditorPanelEnabled } =\n\t\t\tselect( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\treturn {\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t};\n\t}, [] );\n\n\tif ( ! isEnabled || ! postType ) {\n\t\treturn null;\n\t}\n\n\treturn <ParentRow />;\n}\n\n/**\n * Renders the Page Attributes Panel component.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PageAttributesPanel() {\n\treturn (\n\t\t<PageAttributesCheck>\n\t\t\t<AttributesPanel />\n\t\t</PageAttributesCheck>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport removeAccents from 'remove-accents';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tButton,\n\tDropdown,\n\tComboboxControl,\n\tExternalLink,\n} from '@wordpress/components';\nimport { debounce } from '@wordpress/compose';\nimport {\n\tcreateInterpolateElement,\n\tuseState,\n\tuseMemo,\n} from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { filterURLForDisplay } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport PostPanelRow from '../post-panel-row';\nimport { buildTermsTree } from '../../utils/terms';\nimport { store as editorStore } from '../../store';\n\nfunction getTitle( post ) {\n\treturn post?.title?.rendered\n\t\t? decodeEntities( post.title.rendered )\n\t\t: `#${ post.id } (${ __( 'no title' ) })`;\n}\n\nexport const getItemPriority = ( name, searchValue ) => {\n\tconst normalizedName = removeAccents( name || '' ).toLowerCase();\n\tconst normalizedSearch = removeAccents( searchValue || '' ).toLowerCase();\n\tif ( normalizedName === normalizedSearch ) {\n\t\treturn 0;\n\t}\n\n\tif ( normalizedName.startsWith( normalizedSearch ) ) {\n\t\treturn normalizedName.length;\n\t}\n\n\treturn Infinity;\n};\n\n/**\n * Renders the Page Attributes Parent component. A dropdown menu in an editor interface\n * for selecting the parent page of a given page.\n *\n * @return {React.ReactNode} The component to be rendered. Return null if post type is not hierarchical.\n */\nexport function PageAttributesParent() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ fieldValue, setFieldValue ] = useState( false );\n\tconst {\n\t\tisHierarchical,\n\t\tparentPostId,\n\t\tparentPostTitle,\n\t\tpageItems,\n\t\tisLoading,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetPostType,\n\t\t\t\tgetEntityRecords,\n\t\t\t\tgetEntityRecord,\n\t\t\t\tisResolving,\n\t\t\t} = select( coreStore );\n\t\t\tconst { getCurrentPostId, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst postTypeSlug = getEditedPostAttribute( 'type' );\n\t\t\tconst pageId = getEditedPostAttribute( 'parent' );\n\t\t\tconst pType = getPostType( postTypeSlug );\n\t\t\tconst postId = getCurrentPostId();\n\t\t\tconst postIsHierarchical = pType?.hierarchical ?? false;\n\t\t\tconst query = {\n\t\t\t\tper_page: 100,\n\t\t\t\texclude: postId,\n\t\t\t\tparent_exclude: postId,\n\t\t\t\torderby: 'menu_order',\n\t\t\t\torder: 'asc',\n\t\t\t\t_fields: 'id,title,parent',\n\t\t\t};\n\n\t\t\t// Perform a search by relevance when the field is changed.\n\t\t\tif ( !! fieldValue ) {\n\t\t\t\tquery.search = fieldValue;\n\t\t\t\tquery.orderby = 'relevance';\n\t\t\t}\n\n\t\t\tconst parentPost = pageId\n\t\t\t\t? getEntityRecord( 'postType', postTypeSlug, pageId )\n\t\t\t\t: null;\n\n\t\t\treturn {\n\t\t\t\tisHierarchical: postIsHierarchical,\n\t\t\t\tparentPostId: pageId,\n\t\t\t\tparentPostTitle: parentPost ? getTitle( parentPost ) : '',\n\t\t\t\tpageItems: postIsHierarchical\n\t\t\t\t\t? getEntityRecords( 'postType', postTypeSlug, query )\n\t\t\t\t\t: null,\n\t\t\t\tisLoading: postIsHierarchical\n\t\t\t\t\t? isResolving( 'getEntityRecords', [\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tpostTypeSlug,\n\t\t\t\t\t\t\tquery,\n\t\t\t\t\t  ] )\n\t\t\t\t\t: false,\n\t\t\t};\n\t\t},\n\t\t[ fieldValue ]\n\t);\n\n\tconst parentOptions = useMemo( () => {\n\t\tconst getOptionsFromTree = ( tree, level = 0 ) => {\n\t\t\tconst mappedNodes = tree.map( ( treeNode ) => [\n\t\t\t\t{\n\t\t\t\t\tvalue: treeNode.id,\n\t\t\t\t\tlabel:\n\t\t\t\t\t\t'\u2014 '.repeat( level ) + decodeEntities( treeNode.name ),\n\t\t\t\t\trawName: treeNode.name,\n\t\t\t\t},\n\t\t\t\t...getOptionsFromTree( treeNode.children || [], level + 1 ),\n\t\t\t] );\n\n\t\t\tconst sortedNodes = mappedNodes.sort( ( [ a ], [ b ] ) => {\n\t\t\t\tconst priorityA = getItemPriority( a.rawName, fieldValue );\n\t\t\t\tconst priorityB = getItemPriority( b.rawName, fieldValue );\n\t\t\t\treturn priorityA >= priorityB ? 1 : -1;\n\t\t\t} );\n\n\t\t\treturn sortedNodes.flat();\n\t\t};\n\n\t\tif ( ! pageItems ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tlet tree = pageItems.map( ( item ) => ( {\n\t\t\tid: item.id,\n\t\t\tparent: item.parent,\n\t\t\tname: getTitle( item ),\n\t\t} ) );\n\n\t\t// Only build a hierarchical tree when not searching.\n\t\tif ( ! fieldValue ) {\n\t\t\ttree = buildTermsTree( tree );\n\t\t}\n\n\t\tconst opts = getOptionsFromTree( tree );\n\n\t\t// Ensure the current parent is in the options list.\n\t\tconst optsHasParent = opts.find(\n\t\t\t( item ) => item.value === parentPostId\n\t\t);\n\t\tif ( parentPostTitle && ! optsHasParent ) {\n\t\t\topts.unshift( {\n\t\t\t\tvalue: parentPostId,\n\t\t\t\tlabel: parentPostTitle,\n\t\t\t} );\n\t\t}\n\t\treturn opts;\n\t}, [ pageItems, fieldValue, parentPostTitle, parentPostId ] );\n\n\tif ( ! isHierarchical ) {\n\t\treturn null;\n\t}\n\t/**\n\t * Handle user input.\n\t *\n\t * @param {string} inputValue The current value of the input field.\n\t */\n\tconst handleKeydown = ( inputValue ) => {\n\t\tsetFieldValue( inputValue );\n\t};\n\n\t/**\n\t * Handle author selection.\n\t *\n\t * @param {Object} selectedPostId The selected Author.\n\t */\n\tconst handleChange = ( selectedPostId ) => {\n\t\teditPost( { parent: selectedPostId } );\n\t};\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\t__next40pxDefaultSize\n\t\t\tclassName=\"editor-page-attributes__parent\"\n\t\t\tlabel={ __( 'Parent' ) }\n\t\t\thelp={ __( 'Choose a parent page.' ) }\n\t\t\tvalue={ parentPostId }\n\t\t\toptions={ parentOptions }\n\t\t\tonFilterValueChange={ debounce( handleKeydown, 300 ) }\n\t\t\tonChange={ handleChange }\n\t\t\thideLabelFromVision\n\t\t\tisLoading={ isLoading }\n\t\t/>\n\t);\n}\n\nfunction PostParentToggle( { isOpen, onClick } ) {\n\tconst parentPost = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst parentPostId = getEditedPostAttribute( 'parent' );\n\t\tif ( ! parentPostId ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { getEntityRecord } = select( coreStore );\n\t\tconst postTypeSlug = getEditedPostAttribute( 'type' );\n\t\treturn getEntityRecord( 'postType', postTypeSlug, parentPostId );\n\t}, [] );\n\tconst parentTitle = useMemo(\n\t\t() => ( ! parentPost ? __( 'None' ) : getTitle( parentPost ) ),\n\t\t[ parentPost ]\n\t);\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\tclassName=\"editor-post-parent__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\taria-label={\n\t\t\t\t// translators: %s: Current post parent.\n\t\t\t\tsprintf( __( 'Change parent: %s' ), parentTitle )\n\t\t\t}\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ parentTitle }\n\t\t</Button>\n\t);\n}\n\nexport function ParentRow() {\n\tconst homeUrl = useSelect( ( select ) => {\n\t\t// Site index.\n\t\treturn select( coreStore ).getEntityRecord( 'root', '__unstableBase' )\n\t\t\t?.home;\n\t}, [] );\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\treturn (\n\t\t<PostPanelRow label={ __( 'Parent' ) } ref={ setPopoverAnchor }>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tclassName=\"editor-post-parent__panel-dropdown\"\n\t\t\t\tcontentClassName=\"editor-post-parent__panel-dialog\"\n\t\t\t\tfocusOnMount\n\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t<PostParentToggle isOpen={ isOpen } onClick={ onToggle } />\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<div className=\"editor-post-parent\">\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ __( 'Parent' ) }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: The home URL of the WordPress installation without the scheme. */\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'Child pages inherit characteristics from their parent, such as URL structure. For instance, if \"Pricing\" is a child of \"Services\", its URL would be %s<wbr />/services<wbr />/pricing.'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tfilterURLForDisplay( homeUrl ).replace(\n\t\t\t\t\t\t\t\t\t\t/([/.])/g,\n\t\t\t\t\t\t\t\t\t\t'<wbr />$1'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\twbr: <wbr />,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'They also show up as sub-items in the default navigation menu. <a>Learn more.</a>'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ta: (\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#page-attributes'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<PageAttributesParent />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostPanelRow>\n\t);\n}\n\nexport default PageAttributesParent;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { forwardRef } from '@wordpress/element';\n\nconst PostPanelRow = forwardRef( ( { className, label, children }, ref ) => {\n\treturn (\n\t\t<HStack\n\t\t\tclassName={ clsx( 'editor-post-panel__row', className ) }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ label && (\n\t\t\t\t<div className=\"editor-post-panel__row-label\">{ label }</div>\n\t\t\t) }\n\t\t\t<div className=\"editor-post-panel__row-control\">{ children }</div>\n\t\t</HStack>\n\t);\n} );\n\nexport default PostPanelRow;\n", "/**\n * WordPress dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Returns terms in a tree form.\n *\n * @param {Array} flatTerms Array of terms in flat format.\n *\n * @return {Array} Array of terms in tree format.\n */\nexport function buildTermsTree( flatTerms ) {\n\tconst flatTermsWithParentAndChildren = flatTerms.map( ( term ) => {\n\t\treturn {\n\t\t\tchildren: [],\n\t\t\tparent: undefined,\n\t\t\t...term,\n\t\t};\n\t} );\n\n\t// All terms should have a `parent` because we're about to index them by it.\n\tif (\n\t\tflatTermsWithParentAndChildren.some(\n\t\t\t( { parent } ) => parent === undefined\n\t\t)\n\t) {\n\t\treturn flatTermsWithParentAndChildren;\n\t}\n\n\tconst termsByParent = flatTermsWithParentAndChildren.reduce(\n\t\t( acc, term ) => {\n\t\t\tconst { parent } = term;\n\t\t\tif ( ! acc[ parent ] ) {\n\t\t\t\tacc[ parent ] = [];\n\t\t\t}\n\t\t\tacc[ parent ].push( term );\n\t\t\treturn acc;\n\t\t},\n\t\t{}\n\t);\n\n\tconst fillWithChildren = ( terms ) => {\n\t\treturn terms.map( ( term ) => {\n\t\t\tconst children = termsByParent[ term.id ];\n\t\t\treturn {\n\t\t\t\t...term,\n\t\t\t\tchildren:\n\t\t\t\t\tchildren && children.length\n\t\t\t\t\t\t? fillWithChildren( children )\n\t\t\t\t\t\t: [],\n\t\t\t};\n\t\t} );\n\t};\n\n\treturn fillWithChildren( termsByParent[ '0' ] || [] );\n}\n\nexport const unescapeString = ( arg ) => {\n\treturn decodeEntities( arg );\n};\n\n/**\n * Returns a term object with name unescaped.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nexport const unescapeTerm = ( term ) => {\n\treturn {\n\t\t...term,\n\t\tname: unescapeString( term.name ),\n\t};\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nexport const unescapeTerms = ( terms ) => {\n\treturn ( terms ?? [] ).map( unescapeTerm );\n};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl, Dropdown, Button, Notice } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { useState, useMemo } from '@wordpress/element';\nimport { addTemplate } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport CreateNewTemplateModal from './create-new-template-modal';\nimport { useAllowSwitchingTemplates } from './hooks';\nimport PostPanelRow from '../post-panel-row';\n\nfunction PostTemplateToggle( { isOpen, onClick } ) {\n\tconst templateTitle = useSelect( ( select ) => {\n\t\tconst templateSlug =\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'template' );\n\n\t\tconst { supportsTemplateMode, availableTemplates } =\n\t\t\tselect( editorStore ).getEditorSettings();\n\t\tif ( ! supportsTemplateMode && availableTemplates[ templateSlug ] ) {\n\t\t\treturn availableTemplates[ templateSlug ];\n\t\t}\n\t\tconst template =\n\t\t\tselect( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ) && select( editorStore ).getCurrentTemplateId();\n\t\treturn (\n\t\t\ttemplate?.title ||\n\t\t\ttemplate?.slug ||\n\t\t\tavailableTemplates?.[ templateSlug ]\n\t\t);\n\t}, [] );\n\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\taria-label={ __( 'Template options' ) }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ templateTitle ?? __( 'Default template' ) }\n\t\t</Button>\n\t);\n}\n\n/**\n * Renders the dropdown content for selecting a post template.\n *\n * @param {Object}   props         The component props.\n * @param {Function} props.onClose The function to close the dropdown.\n *\n * @return {React.ReactNode} The rendered dropdown content.\n */\nfunction PostTemplateDropdownContent( { onClose } ) {\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\tconst {\n\t\tavailableTemplates,\n\t\tfetchedTemplates,\n\t\tselectedTemplateSlug,\n\t\tcanCreate,\n\t\tcanEdit,\n\t\tcurrentTemplateId,\n\t\tonNavigateToEntityRecord,\n\t\tgetEditorSettings,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser, getEntityRecords } = select( coreStore );\n\t\t\tconst editorSettings = select( editorStore ).getEditorSettings();\n\t\t\tconst canCreateTemplates = canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} );\n\t\t\tconst _currentTemplateId =\n\t\t\t\tselect( editorStore ).getCurrentTemplateId();\n\t\t\treturn {\n\t\t\t\tavailableTemplates: editorSettings.availableTemplates,\n\t\t\t\tfetchedTemplates: canCreateTemplates\n\t\t\t\t\t? getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\t\t\t\tpost_type:\n\t\t\t\t\t\t\t\tselect( editorStore ).getCurrentPostType(),\n\t\t\t\t\t\t\tper_page: -1,\n\t\t\t\t\t  } )\n\t\t\t\t\t: undefined,\n\t\t\t\tselectedTemplateSlug:\n\t\t\t\t\tselect( editorStore ).getEditedPostAttribute( 'template' ),\n\t\t\t\tcanCreate:\n\t\t\t\t\tallowSwitchingTemplate &&\n\t\t\t\t\tcanCreateTemplates &&\n\t\t\t\t\teditorSettings.supportsTemplateMode,\n\t\t\t\tcanEdit:\n\t\t\t\t\tallowSwitchingTemplate &&\n\t\t\t\t\tcanCreateTemplates &&\n\t\t\t\t\teditorSettings.supportsTemplateMode &&\n\t\t\t\t\t!! _currentTemplateId,\n\t\t\t\tcurrentTemplateId: _currentTemplateId,\n\t\t\t\tonNavigateToEntityRecord:\n\t\t\t\t\teditorSettings.onNavigateToEntityRecord,\n\t\t\t\tgetEditorSettings: select( editorStore ).getEditorSettings,\n\t\t\t};\n\t\t},\n\t\t[ allowSwitchingTemplate ]\n\t);\n\n\tconst options = useMemo(\n\t\t() =>\n\t\t\tObject.entries( {\n\t\t\t\t...availableTemplates,\n\t\t\t\t...Object.fromEntries(\n\t\t\t\t\t( fetchedTemplates ?? [] ).map( ( { slug, title } ) => [\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\ttitle.rendered,\n\t\t\t\t\t] )\n\t\t\t\t),\n\t\t\t} ).map( ( [ slug, title ] ) => ( { value: slug, label: title } ) ),\n\t\t[ availableTemplates, fetchedTemplates ]\n\t);\n\n\tconst selectedOption =\n\t\toptions.find( ( option ) => option.value === selectedTemplateSlug ) ??\n\t\toptions.find( ( option ) => ! option.value ); // The default option has '' value.\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst [ isCreateModalOpen, setIsCreateModalOpen ] = useState( false );\n\n\treturn (\n\t\t<div className=\"editor-post-template__classic-theme-dropdown\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Template' ) }\n\t\t\t\thelp={ __(\n\t\t\t\t\t'Templates define the way content is displayed when viewing your site.'\n\t\t\t\t) }\n\t\t\t\tactions={\n\t\t\t\t\tcanCreate\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ticon: addTemplate,\n\t\t\t\t\t\t\t\t\tlabel: __( 'Add template' ),\n\t\t\t\t\t\t\t\t\tonClick: () => setIsCreateModalOpen( true ),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []\n\t\t\t\t}\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t{ ! allowSwitchingTemplate ? (\n\t\t\t\t<Notice status=\"warning\" isDismissible={ false }>\n\t\t\t\t\t{ __( 'The posts page template cannot be changed.' ) }\n\t\t\t\t</Notice>\n\t\t\t) : (\n\t\t\t\t<SelectControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tlabel={ __( 'Template' ) }\n\t\t\t\t\tvalue={ selectedOption?.value ?? '' }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ ( slug ) =>\n\t\t\t\t\t\teditPost( { template: slug || '' } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ canEdit && onNavigateToEntityRecord && (\n\t\t\t\t<p>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonNavigateToEntityRecord( {\n\t\t\t\t\t\t\t\tpostId: currentTemplateId,\n\t\t\t\t\t\t\t\tpostType: 'wp_template',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Editing template. Changes made here affect all posts and pages that use the template.'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\t\t\t\tgetEditorSettings().onNavigateToPreviousEntityRecord(),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Edit template' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t{ isCreateModalOpen && (\n\t\t\t\t<CreateNewTemplateModal\n\t\t\t\t\tonClose={ () => setIsCreateModalOpen( false ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction ClassicThemeControl() {\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tclassName: 'editor-post-template__dropdown',\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\treturn (\n\t\t<PostPanelRow label={ __( 'Template' ) } ref={ setPopoverAnchor }>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tfocusOnMount\n\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t<PostTemplateToggle\n\t\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<PostTemplateDropdownContent onClose={ onClose } />\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostPanelRow>\n\t);\n}\n\n/**\n * Provides a dropdown menu for selecting and managing post templates.\n *\n * The dropdown menu includes a button for toggling the menu, a list of available templates, and options for creating and editing templates.\n *\n * @return {React.ReactNode} The rendered ClassicThemeControl component.\n */\nexport default ClassicThemeControl;\n", "/**\n * External dependencies\n */\nimport { paramCase as kebabCase } from 'change-case';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { serialize, createBlock } from '@wordpress/blocks';\nimport {\n\tModal,\n\tTextControl,\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst DEFAULT_TITLE = __( 'Custom Template' );\n\nexport default function CreateNewTemplateModal( { onClose } ) {\n\tconst { defaultBlockTemplate, onNavigateToEntityRecord } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditorSettings, getCurrentTemplateId } =\n\t\t\t\tselect( editorStore );\n\t\t\treturn {\n\t\t\t\tdefaultBlockTemplate: getEditorSettings().defaultBlockTemplate,\n\t\t\t\tonNavigateToEntityRecord:\n\t\t\t\t\tgetEditorSettings().onNavigateToEntityRecord,\n\t\t\t\tgetTemplateId: getCurrentTemplateId,\n\t\t\t};\n\t\t}\n\t);\n\n\tconst { createTemplate } = unlock( useDispatch( editorStore ) );\n\n\tconst [ title, setTitle ] = useState( '' );\n\n\tconst [ isBusy, setIsBusy ] = useState( false );\n\n\tconst cancel = () => {\n\t\tsetTitle( '' );\n\t\tonClose();\n\t};\n\n\tconst submit = async ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tif ( isBusy ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsBusy( true );\n\n\t\tconst newTemplateContent =\n\t\t\tdefaultBlockTemplate ??\n\t\t\tserialize( [\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/group',\n\t\t\t\t\t{\n\t\t\t\t\t\ttagName: 'header',\n\t\t\t\t\t\tlayout: { inherit: true },\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock( 'core/site-title' ),\n\t\t\t\t\t\tcreateBlock( 'core/site-tagline' ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t\tcreateBlock( 'core/separator' ),\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/group',\n\t\t\t\t\t{\n\t\t\t\t\t\ttagName: 'main',\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t\t'core/group',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlayout: { inherit: true },\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[ createBlock( 'core/post-title' ) ]\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcreateBlock( 'core/post-content', {\n\t\t\t\t\t\t\tlayout: { inherit: true },\n\t\t\t\t\t\t} ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t] );\n\n\t\tconst newTemplate = await createTemplate( {\n\t\t\tslug: kebabCase( title || DEFAULT_TITLE ) || 'wp-custom-template',\n\t\t\tcontent: newTemplateContent,\n\t\t\ttitle: title || DEFAULT_TITLE,\n\t\t\tstatus: 'publish',\n\t\t} );\n\n\t\tsetIsBusy( false );\n\t\tonNavigateToEntityRecord( {\n\t\t\tpostId: newTemplate.id,\n\t\t\tpostType: 'wp_template',\n\t\t} );\n\t\tcancel();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Create custom template' ) }\n\t\t\tonRequestClose={ cancel }\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\tsize=\"small\"\n\t\t\toverlayClassName=\"editor-post-template__create-template-modal\"\n\t\t>\n\t\t\t<form\n\t\t\t\tclassName=\"editor-post-template__create-form\"\n\t\t\t\tonSubmit={ submit }\n\t\t\t>\n\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\tplaceholder={ DEFAULT_TITLE }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t// eslint-disable-next-line no-restricted-syntax -- 'sidebar' is a common web design term for layouts\n\t\t\t\t\t\t\t'Describe the template, e.g. \"Post with sidebar\". A custom template can be manually applied to any post or page.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ cancel }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\t\taria-disabled={ isBusy }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function useEditedPostContext() {\n\treturn useSelect( ( select ) => {\n\t\tconst { getCurrentPostId, getCurrentPostType } = select( editorStore );\n\t\treturn {\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t}, [] );\n}\nexport function useAllowSwitchingTemplates() {\n\tconst { postType, postId } = useEditedPostContext();\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser, getEntityRecord, getEntityRecords } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\n\t\t\tconst isPostsPage = +postId === siteSettings?.page_for_posts;\n\t\t\tconst isFrontPage =\n\t\t\t\tpostType === 'page' && +postId === siteSettings?.page_on_front;\n\t\t\t// If current page is set front page or posts page, we also need\n\t\t\t// to check if the current theme has a template for it. If not\n\t\t\tconst templates = isFrontPage\n\t\t\t\t? getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\t\t\tper_page: -1,\n\t\t\t\t  } )\n\t\t\t\t: [];\n\t\t\tconst hasFrontPage =\n\t\t\t\tisFrontPage &&\n\t\t\t\t!! templates?.some( ( { slug } ) => slug === 'front-page' );\n\t\t\treturn ! isPostsPage && ! hasFrontPage;\n\t\t},\n\t\t[ postId, postType ]\n\t);\n}\n\nfunction useTemplates( postType ) {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\tper_page: -1,\n\t\t\t\tpost_type: postType,\n\t\t\t\t// We look at the combined templates for now (old endpoint)\n\t\t\t\t// because posts only accept slugs for templates, not IDs.\n\t\t\t} ),\n\t\t[ postType ]\n\t);\n}\n\nexport function useAvailableTemplates( postType ) {\n\tconst currentTemplateSlug = useCurrentTemplateSlug();\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\tconst templates = useTemplates( postType );\n\treturn useMemo(\n\t\t() =>\n\t\t\tallowSwitchingTemplate &&\n\t\t\ttemplates?.filter(\n\t\t\t\t( template ) =>\n\t\t\t\t\ttemplate.is_custom &&\n\t\t\t\t\ttemplate.slug !== currentTemplateSlug &&\n\t\t\t\t\t!! template.content.raw // Skip empty templates.\n\t\t\t),\n\t\t[ templates, currentTemplateSlug, allowSwitchingTemplate ]\n\t);\n}\n\nexport function useCurrentTemplateSlug() {\n\tconst { postType, postId } = useEditedPostContext();\n\tconst templates = useTemplates( postType );\n\tconst entityTemplate = useSelect(\n\t\t( select ) => {\n\t\t\tconst post = select( coreStore ).getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId\n\t\t\t);\n\t\t\treturn post?.template;\n\t\t},\n\t\t[ postType, postId ]\n\t);\n\n\tif ( ! entityTemplate ) {\n\t\treturn;\n\t}\n\t// If a page has a `template` set and is not included in the list\n\t// of the theme's templates, do not return it, in order to resolve\n\t// to the current theme's default template.\n\treturn templates?.find( ( template ) => template.slug === entityTemplate )\n\t\t?.slug;\n}\n", "/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelBody } from '@wordpress/components';\nimport { usePluginContext } from '@wordpress/plugins';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport warning from '@wordpress/warning';\n\n/**\n * Internal dependencies\n */\nimport EnablePluginDocumentSettingPanelOption from '../preferences-modal/enable-plugin-document-setting-panel';\nimport { store as editorStore } from '../../store';\n\nconst { Fill, Slot } = createSlotFill( 'PluginDocumentSettingPanel' );\n\n/**\n * Renders items below the Status & Availability panel in the Document Sidebar.\n *\n * @param {Object}                props                                 Component properties.\n * @param {string}                props.name                            Required. A machine-friendly name for the panel.\n * @param {string}                [props.className]                     An optional class name added to the row.\n * @param {string}                [props.title]                         The title of the panel\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered when the sidebar is pinned to toolbar.\n * @param {React.ReactNode}       props.children                        Children to be rendered\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var el = React.createElement;\n * var __ = wp.i18n.__;\n * var registerPlugin = wp.plugins.registerPlugin;\n * var PluginDocumentSettingPanel = wp.editor.PluginDocumentSettingPanel;\n *\n * function MyDocumentSettingPlugin() {\n * \treturn el(\n * \t\tPluginDocumentSettingPanel,\n * \t\t{\n * \t\t\tclassName: 'my-document-setting-plugin',\n * \t\t\ttitle: 'My Panel',\n * \t\t\tname: 'my-panel',\n * \t\t},\n * \t\t__( 'My Document Setting Panel' )\n * \t);\n * }\n *\n * registerPlugin( 'my-document-setting-plugin', {\n * \t\trender: MyDocumentSettingPlugin\n * } );\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { registerPlugin } from '@wordpress/plugins';\n * import { PluginDocumentSettingPanel } from '@wordpress/editor';\n *\n * const MyDocumentSettingTest = () => (\n * \t\t<PluginDocumentSettingPanel className=\"my-document-setting-plugin\" title=\"My Panel\" name=\"my-panel\">\n *\t\t\t<p>My Document Setting Panel</p>\n *\t\t</PluginDocumentSettingPanel>\n *\t);\n *\n *  registerPlugin( 'document-setting-test', { render: MyDocumentSettingTest } );\n * ```\n *\n * @return {React.ReactNode} The component to be rendered.\n */\nconst PluginDocumentSettingPanel = ( {\n\tname,\n\tclassName,\n\ttitle,\n\ticon,\n\tchildren,\n} ) => {\n\tconst { name: pluginName } = usePluginContext();\n\tconst panelName = `${ pluginName }/${ name }`;\n\tconst { opened, isEnabled } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isEditorPanelOpened, isEditorPanelEnabled } =\n\t\t\t\tselect( editorStore );\n\n\t\t\treturn {\n\t\t\t\topened: isEditorPanelOpened( panelName ),\n\t\t\t\tisEnabled: isEditorPanelEnabled( panelName ),\n\t\t\t};\n\t\t},\n\t\t[ panelName ]\n\t);\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( undefined === name ) {\n\t\twarning( 'PluginDocumentSettingPanel requires a name property.' );\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<EnablePluginDocumentSettingPanelOption\n\t\t\t\tlabel={ title }\n\t\t\t\tpanelName={ panelName }\n\t\t\t/>\n\t\t\t<Fill>\n\t\t\t\t{ isEnabled && (\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\topened={ opened }\n\t\t\t\t\t\tonToggle={ () => toggleEditorPanelOpened( panelName ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t</Fill>\n\t\t</>\n\t);\n};\n\nPluginDocumentSettingPanel.Slot = Slot;\n\nexport default PluginDocumentSettingPanel;\n", "/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport EnablePanelOption from './enable-panel';\n\nconst { Fill, Slot } = createSlotFill(\n\t'EnablePluginDocumentSettingPanelOption'\n);\n\nconst EnablePluginDocumentSettingPanelOption = ( { label, panelName } ) => (\n\t<Fill>\n\t\t<EnablePanelOption label={ label } panelName={ panelName } />\n\t</Fill>\n);\n\nEnablePluginDocumentSettingPanelOption.Slot = Slot;\n\nexport default EnablePluginDocumentSettingPanelOption;\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { privateApis as preferencesPrivateApis } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { PreferenceBaseOption } = unlock( preferencesPrivateApis );\n\nexport default function EnablePanelOption( props ) {\n\tconst { toggleEditorPanelEnabled } = useDispatch( editorStore );\n\tconst { isChecked, isRemoved } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isEditorPanelEnabled, isEditorPanelRemoved } =\n\t\t\t\tselect( editorStore );\n\t\t\treturn {\n\t\t\t\tisChecked: isEditorPanelEnabled( props.panelName ),\n\t\t\t\tisRemoved: isEditorPanelRemoved( props.panelName ),\n\t\t\t};\n\t\t},\n\t\t[ props.panelName ]\n\t);\n\n\tif ( isRemoved ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PreferenceBaseOption\n\t\t\tisChecked={ isChecked }\n\t\t\tonChange={ () => toggleEditorPanelEnabled( props.panelName ) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { BlockSettingsMenuControls } from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\n\nconst isEverySelectedBlockAllowed = ( selected, allowed ) =>\n\tselected.filter( ( id ) => ! allowed.includes( id ) ).length === 0;\n\n/**\n * Plugins may want to add an item to the menu either for every block\n * or only for the specific ones provided in the `allowedBlocks` component property.\n *\n * If there are multiple blocks selected the item will be rendered if every block\n * is of one allowed type (not necessarily the same).\n *\n * @param {string[]} selectedBlocks Array containing the names of the blocks selected\n * @param {string[]} allowedBlocks  Array containing the names of the blocks allowed\n * @return {boolean} Whether the item will be rendered or not.\n */\nconst shouldRenderItem = ( selectedBlocks, allowedBlocks ) =>\n\t! Array.isArray( allowedBlocks ) ||\n\tisEverySelectedBlockAllowed( selectedBlocks, allowedBlocks );\n\n/**\n * Renders a new item in the block settings menu.\n *\n * @param {Object}                props                 Component props.\n * @param {Array}                 [props.allowedBlocks] An array containing a list of block names for which the item should be shown. If not present, it'll be rendered for any block. If multiple blocks are selected, it'll be shown if and only if all of them are in the allowed list.\n * @param {WPBlockTypeIconRender} [props.icon]          The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element.\n * @param {string}                props.label           The menu item text.\n * @param {Function}              props.onClick         Callback function to be executed when the user click the menu item.\n * @param {boolean}               [props.small]         Whether to render the label or not.\n * @param {string}                [props.role]          The ARIA role for the menu item.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginBlockSettingsMenuItem = wp.editor.PluginBlockSettingsMenuItem;\n *\n * function doOnClick(){\n * \t// To be called when the user clicks the menu item.\n * }\n *\n * function MyPluginBlockSettingsMenuItem() {\n * \treturn React.createElement(\n * \t\tPluginBlockSettingsMenuItem,\n * \t\t{\n * \t\t\tallowedBlocks: [ 'core/paragraph' ],\n * \t\t\ticon: 'dashicon-name',\n * \t\t\tlabel: __( 'Menu item text' ),\n * \t\t\tonClick: doOnClick,\n * \t\t}\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginBlockSettingsMenuItem } from '@wordpress/editor';\n *\n * const doOnClick = ( ) => {\n *     // To be called when the user clicks the menu item.\n * };\n *\n * const MyPluginBlockSettingsMenuItem = () => (\n *     <PluginBlockSettingsMenuItem\n * \t\tallowedBlocks={ [ 'core/paragraph' ] }\n * \t\ticon='dashicon-name'\n * \t\tlabel={ __( 'Menu item text' ) }\n * \t\tonClick={ doOnClick } />\n * );\n * ```\n *\n * @return {React.ReactNode} The rendered component.\n */\nconst PluginBlockSettingsMenuItem = ( {\n\tallowedBlocks,\n\ticon,\n\tlabel,\n\tonClick,\n\tsmall,\n\trole,\n} ) => (\n\t<BlockSettingsMenuControls>\n\t\t{ ( { selectedBlocks, onClose } ) => {\n\t\t\tif ( ! shouldRenderItem( selectedBlocks, allowedBlocks ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={ compose( onClick, onClose ) }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t\tlabel={ small ? label : undefined }\n\t\t\t\t\trole={ role }\n\t\t\t\t>\n\t\t\t\t\t{ ! small && label }\n\t\t\t\t</MenuItem>\n\t\t\t);\n\t\t} }\n\t</BlockSettingsMenuControls>\n);\n\nexport default PluginBlockSettingsMenuItem;\n", "/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { usePluginContext } from '@wordpress/plugins';\nimport { ActionItem } from '@wordpress/interface';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down, and can be used to as a button or link depending on the props provided.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component properties.\n * @param {React.ReactNode}       [props.children]                      Children to be rendered.\n * @param {string}                [props.href]                          When `href` is provided then the menu item is represented as an anchor rather than button. It corresponds to the `href` attribute of the anchor.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n * @param {Function}              [props.onClick=noop]                  The callback function to be executed when the user clicks the menu item.\n * @param {...*}                  [props.other]                         Any additional props are passed through to the underlying [Button](/packages/components/src/button/README.md) component.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginMoreMenuItem = wp.editor.PluginMoreMenuItem;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * function MyButtonMoreMenuItem() {\n * \treturn wp.element.createElement(\n * \t\tPluginMoreMenuItem,\n * \t\t{\n * \t\t\ticon: moreIcon,\n * \t\t\tonClick: onButtonClick,\n * \t\t},\n * \t\t__( 'My button title' )\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginMoreMenuItem } from '@wordpress/editor';\n * import { more } from '@wordpress/icons';\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * const MyButtonMoreMenuItem = () => (\n * \t<PluginMoreMenuItem\n * \t\ticon={ more }\n * \t\tonClick={ onButtonClick }\n * \t>\n * \t\t{ __( 'My button title' ) }\n * \t</PluginMoreMenuItem>\n * );\n * ```\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PluginMoreMenuItem( props ) {\n\tconst context = usePluginContext();\n\treturn (\n\t\t<ActionItem\n\t\t\tname=\"core/plugin-more-menu\"\n\t\t\tas={ props.as ?? MenuItem }\n\t\t\ticon={ props.icon || context.icon }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { usePluginContext } from '@wordpress/plugins';\nimport { createSlotFill, PanelBody } from '@wordpress/components';\n\nconst { Fill, Slot } = createSlotFill( 'PluginPostPublishPanel' );\n\n/**\n * Renders provided content to the post-publish panel in the publish flow\n * (side panel that opens after a user publishes the post).\n *\n * @param {Object}                props                                 Component properties.\n * @param {string}                [props.className]                     An optional class name added to the panel.\n * @param {string}                [props.title]                         Title displayed at the top of the panel.\n * @param {boolean}               [props.initialOpen=false]             Whether to have the panel initially opened. When no title is provided it is always opened.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered when the sidebar is pinned to toolbar.\n * @param {React.ReactNode}       props.children                        Children to be rendered\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginPostPublishPanel } from '@wordpress/editor';\n *\n * const MyPluginPostPublishPanel = () => (\n * \t<PluginPostPublishPanel\n * \t\tclassName=\"my-plugin-post-publish-panel\"\n * \t\ttitle={ __( 'My panel title' ) }\n * \t\tinitialOpen={ true }\n * \t>\n *         { __( 'My panel content' ) }\n * \t</PluginPostPublishPanel>\n * );\n * ```\n *\n * @return {React.ReactNode} The rendered component.\n */\nconst PluginPostPublishPanel = ( {\n\tchildren,\n\tclassName,\n\ttitle,\n\tinitialOpen = false,\n\ticon,\n} ) => {\n\tconst { icon: pluginIcon } = usePluginContext();\n\n\treturn (\n\t\t<Fill>\n\t\t\t<PanelBody\n\t\t\t\tclassName={ className }\n\t\t\t\tinitialOpen={ initialOpen || ! title }\n\t\t\t\ttitle={ title }\n\t\t\t\ticon={ icon ?? pluginIcon }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</PanelBody>\n\t\t</Fill>\n\t);\n};\n\nPluginPostPublishPanel.Slot = Slot;\n\nexport default PluginPostPublishPanel;\n", "/**\n * Defines as extensibility slot for the Summary panel.\n */\n\n/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelRow } from '@wordpress/components';\n\nconst { Fill, Slot } = createSlotFill( 'PluginPostStatusInfo' );\n\n/**\n * Renders a row in the Summary panel of the Document sidebar.\n * It should be noted that this is named and implemented around the function it serves\n * and not its location, which may change in future iterations.\n *\n * @param {Object}          props             Component properties.\n * @param {string}          [props.className] An optional class name added to the row.\n * @param {React.ReactNode} props.children    Children to be rendered.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginPostStatusInfo = wp.editor.PluginPostStatusInfo;\n *\n * function MyPluginPostStatusInfo() {\n * \treturn React.createElement(\n * \t\tPluginPostStatusInfo,\n * \t\t{\n * \t\t\tclassName: 'my-plugin-post-status-info',\n * \t\t},\n * \t\t__( 'My post status info' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginPostStatusInfo } from '@wordpress/editor';\n *\n * const MyPluginPostStatusInfo = () => (\n * \t<PluginPostStatusInfo\n * \t\tclassName=\"my-plugin-post-status-info\"\n * \t>\n * \t\t{ __( 'My post status info' ) }\n * \t</PluginPostStatusInfo>\n * );\n * ```\n *\n * @return {React.ReactNode} The rendered component.\n */\nconst PluginPostStatusInfo = ( { children, className } ) => (\n\t<Fill>\n\t\t<PanelRow className={ className }>{ children }</PanelRow>\n\t</Fill>\n);\n\nPluginPostStatusInfo.Slot = Slot;\n\nexport default PluginPostStatusInfo;\n", "/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelBody } from '@wordpress/components';\nimport { usePluginContext } from '@wordpress/plugins';\n\nconst { Fill, Slot } = createSlotFill( 'PluginPrePublishPanel' );\n\n/**\n * Renders provided content to the pre-publish side panel in the publish flow\n * (side panel that opens when a user first pushes \"Publish\" from the main editor).\n *\n * @param {Object}                props                                 Component props.\n * @param {string}                [props.className]                     An optional class name added to the panel.\n * @param {string}                [props.title]                         Title displayed at the top of the panel.\n * @param {boolean}               [props.initialOpen=false]             Whether to have the panel initially opened.\n *                                                                      When no title is provided it is always opened.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/)\n *                                                                      icon slug string, or an SVG WP element, to be rendered when\n *                                                                      the sidebar is pinned to toolbar. If `false` is passed, no icon will be rendered.\n * @param {React.ReactNode}       props.children                        Children to be rendered\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginPrePublishPanel } from '@wordpress/editor';\n *\n * const MyPluginPrePublishPanel = () => (\n * \t<PluginPrePublishPanel\n * \t\tclassName=\"my-plugin-pre-publish-panel\"\n * \t\ttitle={ __( 'My panel title' ) }\n * \t\tinitialOpen={ true }\n * \t>\n * \t    { __( 'My panel content' ) }\n * \t</PluginPrePublishPanel>\n * );\n * ```\n *\n * @return {React.ReactNode} The rendered component.\n */\nconst PluginPrePublishPanel = ( {\n\tchildren,\n\tclassName,\n\ttitle,\n\tinitialOpen = false,\n\ticon,\n} ) => {\n\tconst { icon: pluginIcon } = usePluginContext();\n\n\treturn (\n\t\t<Fill>\n\t\t\t<PanelBody\n\t\t\t\tclassName={ className }\n\t\t\t\tinitialOpen={ initialOpen || ! title }\n\t\t\t\ttitle={ title }\n\t\t\t\ticon={ icon ?? pluginIcon }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</PanelBody>\n\t\t</Fill>\n\t);\n};\n\nPluginPrePublishPanel.Slot = Slot;\n\nexport default PluginPrePublishPanel;\n", "/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { usePluginContext } from '@wordpress/plugins';\nimport { ActionItem } from '@wordpress/interface';\n\n/**\n * Renders a menu item in the Preview dropdown, which can be used as a button or link depending on the props provided.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component properties.\n * @param {React.ReactNode}       [props.children]                      Children to be rendered.\n * @param {string}                [props.href]                          When `href` is provided, the menu item is rendered as an anchor instead of a button. It corresponds to the `href` attribute of the anchor.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The icon to be rendered to the left of the menu item label. Can be a Dashicon slug or an SVG WP element.\n * @param {Function}              [props.onClick]                       The callback function to be executed when the user clicks the menu item.\n * @param {...*}                  [props.other]                         Any additional props are passed through to the underlying MenuItem component.\n *\n * @example\n * ```jsx\n * import { __ } from '@wordpress/i18n';\n * import { PluginPreviewMenuItem } from '@wordpress/editor';\n * import { external } from '@wordpress/icons';\n *\n * function onPreviewClick() {\n *   // Handle preview action\n * }\n *\n * const ExternalPreviewMenuItem = () => (\n *   <PluginPreviewMenuItem\n *     icon={ external }\n *     onClick={ onPreviewClick }\n *   >\n *     { __( 'Preview in new tab' ) }\n *   </PluginPreviewMenuItem>\n * );\n * registerPlugin( 'external-preview-menu-item', {\n *     render: ExternalPreviewMenuItem,\n * } );\n * ```\n *\n * @return {React.ReactNode} The rendered menu item component.\n */\nexport default function PluginPreviewMenuItem( props ) {\n\tconst context = usePluginContext();\n\treturn (\n\t\t<ActionItem\n\t\t\tname=\"core/plugin-preview-menu\"\n\t\t\tas={ props.as ?? MenuItem }\n\t\t\ticon={ props.icon || context.icon }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { ComplementaryArea } from '@wordpress/interface';\n\n/**\n * Renders a sidebar when activated. The contents within the `PluginSidebar` will appear as content within the sidebar.\n * It also automatically renders a corresponding `PluginSidebarMenuItem` component when `isPinnable` flag is set to `true`.\n * If you wish to display the sidebar, you can with use the `PluginSidebarMoreMenuItem` component or the `wp.data.dispatch` API:\n *\n * ```js\n * wp.data.dispatch( 'core/edit-post' ).openGeneralSidebar( 'plugin-name/sidebar-name' );\n * ```\n *\n * @see PluginSidebarMoreMenuItem\n *\n * @param {Object}                props                                 Element props.\n * @param {string}                props.name                            A string identifying the sidebar. Must be unique for every sidebar registered within the scope of your plugin.\n * @param {React.ReactNode}       [props.children]                      Children to be rendered.\n * @param {string}                [props.className]                     An optional class name added to the sidebar body.\n * @param {string}                props.title                           Title displayed at the top of the sidebar.\n * @param {boolean}               [props.isPinnable=true]               Whether to allow to pin sidebar to the toolbar. When set to `true` it also automatically renders a corresponding menu item.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered when the sidebar is pinned to toolbar.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var el = React.createElement;\n * var PanelBody = wp.components.PanelBody;\n * var PluginSidebar = wp.editor.PluginSidebar;\n * var moreIcon = React.createElement( 'svg' ); //... svg element.\n *\n * function MyPluginSidebar() {\n * \treturn el(\n * \t\t\tPluginSidebar,\n * \t\t\t{\n * \t\t\t\tname: 'my-sidebar',\n * \t\t\t\ttitle: 'My sidebar title',\n * \t\t\t\ticon: moreIcon,\n * \t\t\t},\n * \t\t\tel(\n * \t\t\t\tPanelBody,\n * \t\t\t\t{},\n * \t\t\t\t__( 'My sidebar content' )\n * \t\t\t)\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PanelBody } from '@wordpress/components';\n * import { PluginSidebar } from '@wordpress/editor';\n * import { more } from '@wordpress/icons';\n *\n * const MyPluginSidebar = () => (\n * \t<PluginSidebar\n * \t\tname=\"my-sidebar\"\n * \t\ttitle=\"My sidebar title\"\n * \t\ticon={ more }\n * \t>\n * \t\t<PanelBody>\n * \t\t\t{ __( 'My sidebar content' ) }\n * \t\t</PanelBody>\n * \t</PluginSidebar>\n * );\n * ```\n */\nexport default function PluginSidebar( { className, ...props } ) {\n\treturn (\n\t\t<ComplementaryArea\n\t\t\tpanelClassName={ className }\n\t\t\tclassName=\"editor-sidebar\"\n\t\t\tscope=\"core\"\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { ComplementaryAreaMoreMenuItem } from '@wordpress/interface';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down,\n * and can be used to activate the corresponding `PluginSidebar` component.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component props.\n * @param {string}                props.target                          A string identifying the target sidebar you wish to be activated by this menu item. Must be the same as the `name` prop you have given to that sidebar.\n * @param {React.ReactNode}       [props.children]                      Children to be rendered.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginSidebarMoreMenuItem = wp.editor.PluginSidebarMoreMenuItem;\n * var moreIcon = React.createElement( 'svg' ); //... svg element.\n *\n * function MySidebarMoreMenuItem() {\n * \treturn React.createElement(\n * \t\tPluginSidebarMoreMenuItem,\n * \t\t{\n * \t\t\ttarget: 'my-sidebar',\n * \t\t\ticon: moreIcon,\n * \t\t},\n * \t\t__( 'My sidebar title' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginSidebarMoreMenuItem } from '@wordpress/editor';\n * import { more } from '@wordpress/icons';\n *\n * const MySidebarMoreMenuItem = () => (\n * \t<PluginSidebarMoreMenuItem\n * \t\ttarget=\"my-sidebar\"\n * \t\ticon={ more }\n * \t>\n * \t\t{ __( 'My sidebar title' ) }\n * \t</PluginSidebarMoreMenuItem>\n * );\n * ```\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PluginSidebarMoreMenuItem( props ) {\n\treturn (\n\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t// Menu item is marked with unstable prop for backward compatibility.\n\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t__unstableExplicitMenuItem\n\t\t\tscope=\"core\"\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport ClassicThemeControl from './classic-theme';\nimport BlockThemeControl from './block-theme';\n\n/**\n * Displays the template controls based on the current editor settings and user permissions.\n *\n * @return {React.ReactNode} The rendered PostTemplatePanel component.\n */\nexport default function PostTemplatePanel() {\n\tconst { templateId, isBlockTheme } = useSelect( ( select ) => {\n\t\tconst { getCurrentTemplateId, getEditorSettings } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\ttemplateId: getCurrentTemplateId(),\n\t\t\tisBlockTheme: getEditorSettings().__unstableIsBlockBasedTheme,\n\t\t};\n\t}, [] );\n\n\tconst isVisible = useSelect( ( select ) => {\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tif ( ! postType?.viewable ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst settings = select( editorStore ).getEditorSettings();\n\t\tconst hasTemplates =\n\t\t\t!! settings.availableTemplates &&\n\t\t\tObject.keys( settings.availableTemplates ).length > 0;\n\t\tif ( hasTemplates ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( ! settings.supportsTemplateMode ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst canCreateTemplates =\n\t\t\tselect( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ) ?? false;\n\t\treturn canCreateTemplates;\n\t}, [] );\n\n\tconst canViewTemplates = useSelect(\n\t\t( select ) => {\n\t\t\treturn isVisible\n\t\t\t\t? select( coreStore ).canUser( 'read', {\n\t\t\t\t\t\tkind: 'postType',\n\t\t\t\t\t\tname: 'wp_template',\n\t\t\t\t  } )\n\t\t\t\t: false;\n\t\t},\n\t\t[ isVisible ]\n\t);\n\n\tif ( ( ! isBlockTheme || ! canViewTemplates ) && isVisible ) {\n\t\treturn <ClassicThemeControl />;\n\t}\n\n\tif ( isBlockTheme && !! templateId ) {\n\t\treturn <BlockThemeControl id={ templateId } />;\n\t}\n\treturn null;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { useEntityRecord, store as coreStore } from '@wordpress/core-data';\nimport { check } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport PostPanelRow from '../post-panel-row';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport SwapTemplateButton from './swap-template-button';\nimport ResetDefaultTemplate from './reset-default-template';\nimport { unlock } from '../../lock-unlock';\nimport CreateNewTemplate from './create-new-template';\n\nexport default function BlockThemeControl( { id } ) {\n\tconst {\n\t\tisTemplateHidden,\n\t\tonNavigateToEntityRecord,\n\t\tgetEditorSettings,\n\t\thasGoBack,\n\t\thasSpecificTemplate,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetRenderingMode,\n\t\t\tgetEditorSettings: _getEditorSettings,\n\t\t\tgetCurrentPost,\n\t\t} = unlock( select( editorStore ) );\n\t\tconst editorSettings = _getEditorSettings();\n\t\tconst currentPost = getCurrentPost();\n\t\treturn {\n\t\t\tisTemplateHidden: getRenderingMode() === 'post-only',\n\t\t\tonNavigateToEntityRecord: editorSettings.onNavigateToEntityRecord,\n\t\t\tgetEditorSettings: _getEditorSettings,\n\t\t\thasGoBack: editorSettings.hasOwnProperty(\n\t\t\t\t'onNavigateToPreviousEntityRecord'\n\t\t\t),\n\t\t\thasSpecificTemplate: !! currentPost.template,\n\t\t};\n\t}, [] );\n\n\tconst { get: getPreference } = useSelect( preferencesStore );\n\n\tconst { editedRecord: template, hasResolved } = useEntityRecord(\n\t\t'postType',\n\t\t'wp_template',\n\t\tid\n\t);\n\tconst { getEntityRecord } = useSelect( coreStore );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst { setRenderingMode, setDefaultRenderingMode } = unlock(\n\t\tuseDispatch( editorStore )\n\t);\n\n\tconst canCreateTemplate = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ),\n\t\t[]\n\t);\n\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tclassName: 'editor-post-template__dropdown',\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif ( ! hasResolved ) {\n\t\treturn null;\n\t}\n\n\t// The site editor does not have a `onNavigateToPreviousEntityRecord` setting as it uses its own routing\n\t// and assigns its own backlink to focusMode pages.\n\tconst notificationAction = hasGoBack\n\t\t? [\n\t\t\t\t{\n\t\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\tgetEditorSettings().onNavigateToPreviousEntityRecord(),\n\t\t\t\t},\n\t\t  ]\n\t\t: undefined;\n\n\tconst mayShowTemplateEditNotice = () => {\n\t\tif ( ! getPreference( 'core/edit-site', 'welcomeGuideTemplate' ) ) {\n\t\t\tcreateSuccessNotice(\n\t\t\t\t__(\n\t\t\t\t\t'Editing template. Changes made here affect all posts and pages that use the template.'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar', actions: notificationAction }\n\t\t\t);\n\t\t}\n\t};\n\treturn (\n\t\t<PostPanelRow label={ __( 'Template' ) } ref={ setPopoverAnchor }>\n\t\t\t<DropdownMenu\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tfocusOnMount\n\t\t\t\ttoggleProps={ {\n\t\t\t\t\tsize: 'compact',\n\t\t\t\t\tvariant: 'tertiary',\n\t\t\t\t\ttooltipPosition: 'middle left',\n\t\t\t\t} }\n\t\t\t\tlabel={ __( 'Template options' ) }\n\t\t\t\ttext={ decodeEntities( template.title ) }\n\t\t\t\ticon={ null }\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t{ canCreateTemplate && (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\t\t\t\tonNavigateToEntityRecord( {\n\t\t\t\t\t\t\t\t\t\t\tpostId: template.id,\n\t\t\t\t\t\t\t\t\t\t\tpostType: 'wp_template',\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t// When editing a global template,\n\t\t\t\t\t\t\t\t\t\t// activate the auto-draft. This is not\n\t\t\t\t\t\t\t\t\t\t// immediately live (we're not saving\n\t\t\t\t\t\t\t\t\t\t// site options), and when nothing is\n\t\t\t\t\t\t\t\t\t\t// saved, the setting will be ignored.\n\t\t\t\t\t\t\t\t\t\t// In the future, we should make the\n\t\t\t\t\t\t\t\t\t\t// duplication explicit, so there\n\t\t\t\t\t\t\t\t\t\t// wouldn't be an \"edit\" button for\n\t\t\t\t\t\t\t\t\t\t// static theme templates.\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t! hasSpecificTemplate &&\n\t\t\t\t\t\t\t\t\t\t\twindow?.__experimentalTemplateActivate\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tconst activeTemplates =\n\t\t\t\t\t\t\t\t\t\t\t\tawait getEntityRecord(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'site'\n\t\t\t\t\t\t\t\t\t\t\t\t).active_templates;\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tactiveTemplates[\n\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate.slug\n\t\t\t\t\t\t\t\t\t\t\t\t] !== template.id\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\teditEntityRecord(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'site',\n\t\t\t\t\t\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive_templates: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...activeTemplates,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ template.slug ]:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t\tmayShowTemplateEditNotice();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Edit template' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t<SwapTemplateButton onClick={ onClose } />\n\t\t\t\t\t\t\t<ResetDefaultTemplate onClick={ onClose } />\n\t\t\t\t\t\t\t{ canCreateTemplate && <CreateNewTemplate /> }\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\ticon={ ! isTemplateHidden ? check : undefined }\n\t\t\t\t\t\t\t\tisSelected={ ! isTemplateHidden }\n\t\t\t\t\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tconst newRenderingMode = isTemplateHidden\n\t\t\t\t\t\t\t\t\t\t? 'template-locked'\n\t\t\t\t\t\t\t\t\t\t: 'post-only';\n\t\t\t\t\t\t\t\t\tsetRenderingMode( newRenderingMode );\n\t\t\t\t\t\t\t\t\tsetDefaultRenderingMode( newRenderingMode );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Show template' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t</PostPanelRow>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo, useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __experimentalBlockPatternsList as BlockPatternsList } from '@wordpress/block-editor';\nimport { MenuItem, Modal, SearchControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { parse } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { useAvailableTemplates, useEditedPostContext } from './hooks';\nimport { searchTemplates } from '../../utils/search-templates';\n\nexport default function SwapTemplateButton( { onClick } ) {\n\tconst [ showModal, setShowModal ] = useState( false );\n\tconst { postType, postId } = useEditedPostContext();\n\tconst availableTemplates = useAvailableTemplates( postType );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\n\tconst onTemplateSelect = async ( template ) => {\n\t\teditEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\t{ template: template.name },\n\t\t\t{ undoIgnore: true }\n\t\t);\n\t\tsetShowModal( false ); // Close the template suggestions modal first.\n\t\tonClick();\n\t};\n\treturn (\n\t\t<>\n\t\t\t<MenuItem\n\t\t\t\tdisabled={ ! availableTemplates?.length }\n\t\t\t\taccessibleWhenDisabled\n\t\t\t\tonClick={ () => setShowModal( true ) }\n\t\t\t>\n\t\t\t\t{ __( 'Change template' ) }\n\t\t\t</MenuItem>\n\t\t\t{ showModal && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Choose a template' ) }\n\t\t\t\t\tonRequestClose={ () => setShowModal( false ) }\n\t\t\t\t\toverlayClassName=\"editor-post-template__swap-template-modal\"\n\t\t\t\t\tisFullScreen\n\t\t\t\t>\n\t\t\t\t\t<div className=\"editor-post-template__swap-template-modal-content\">\n\t\t\t\t\t\t<TemplatesList\n\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\tonSelect={ onTemplateSelect }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction TemplatesList( { postType, onSelect } ) {\n\tconst [ searchValue, setSearchValue ] = useState( '' );\n\tconst availableTemplates = useAvailableTemplates( postType );\n\tconst templatesAsPatterns = useMemo(\n\t\t() =>\n\t\t\tavailableTemplates.map( ( template ) => ( {\n\t\t\t\tname: template.slug,\n\t\t\t\tblocks: parse( template.content.raw ),\n\t\t\t\ttitle: decodeEntities( template.title.rendered ),\n\t\t\t\tid: template.id,\n\t\t\t} ) ),\n\t\t[ availableTemplates ]\n\t);\n\n\tconst filteredBlockTemplates = useMemo( () => {\n\t\treturn searchTemplates( templatesAsPatterns, searchValue );\n\t}, [ templatesAsPatterns, searchValue ] );\n\n\treturn (\n\t\t<>\n\t\t\t<SearchControl\n\t\t\t\tonChange={ setSearchValue }\n\t\t\t\tvalue={ searchValue }\n\t\t\t\tlabel={ __( 'Search' ) }\n\t\t\t\tplaceholder={ __( 'Search' ) }\n\t\t\t\tclassName=\"editor-post-template__swap-template-search\"\n\t\t\t/>\n\t\t\t<BlockPatternsList\n\t\t\t\tlabel={ __( 'Templates' ) }\n\t\t\t\tblockPatterns={ filteredBlockTemplates }\n\t\t\t\tonClickPattern={ onSelect }\n\t\t\t/>\n\t\t</>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport removeAccents from 'remove-accents';\n\n/**\n * Sanitizes the search input string.\n *\n * @param {string} input The search input to normalize.\n *\n * @return {string} The normalized search input.\n */\nfunction normalizeSearchInput( input = '' ) {\n\t// Disregard diacritics.\n\tinput = removeAccents( input );\n\n\t// Trim & Lowercase.\n\tinput = input.trim().toLowerCase();\n\n\treturn input;\n}\n\n/**\n * Get the search rank for a given template and a specific search term.\n *\n * @param {Object} template    Template to rank\n * @param {string} searchValue Search term\n *\n * @return {number} A template search rank\n */\nfunction getTemplateSearchRank( template, searchValue ) {\n\tconst normalizedSearchValue = normalizeSearchInput( searchValue );\n\tconst normalizedTitle = normalizeSearchInput( template.title );\n\n\tlet rank = 0;\n\n\tif ( normalizedSearchValue === normalizedTitle ) {\n\t\trank += 30;\n\t} else if ( normalizedTitle.startsWith( normalizedSearchValue ) ) {\n\t\trank += 20;\n\t} else {\n\t\tconst searchTerms = normalizedSearchValue.split( ' ' );\n\t\tconst hasMatchedTerms = searchTerms.every( ( searchTerm ) =>\n\t\t\tnormalizedTitle.includes( searchTerm )\n\t\t);\n\n\t\t// Prefer template with every search word in the title.\n\t\tif ( hasMatchedTerms ) {\n\t\t\trank += 10;\n\t\t}\n\t}\n\n\treturn rank;\n}\n\n/**\n * Filters a template list given a search term.\n *\n * @param {Array}  templates   Item list\n * @param {string} searchValue Search input.\n *\n * @return {Array} Filtered template list.\n */\nexport function searchTemplates( templates = [], searchValue = '' ) {\n\tif ( ! searchValue ) {\n\t\treturn templates;\n\t}\n\n\tconst rankedTemplates = templates\n\t\t.map( ( template ) => {\n\t\t\treturn [ template, getTemplateSearchRank( template, searchValue ) ];\n\t\t} )\n\t\t.filter( ( [ , rank ] ) => rank > 0 );\n\n\trankedTemplates.sort( ( [ , rank1 ], [ , rank2 ] ) => rank2 - rank1 );\n\treturn rankedTemplates.map( ( [ template ] ) => template );\n}\n", "/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseAllowSwitchingTemplates,\n\tuseCurrentTemplateSlug,\n\tuseEditedPostContext,\n} from './hooks';\n\nexport default function ResetDefaultTemplate( { onClick } ) {\n\tconst currentTemplateSlug = useCurrentTemplateSlug();\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\tconst { postType, postId } = useEditedPostContext();\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\t// The default template in a post is indicated by an empty string.\n\tif ( ! currentTemplateSlug || ! allowSwitchingTemplate ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\teditEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId,\n\t\t\t\t\t{ template: '' },\n\t\t\t\t\t{ undoIgnore: true }\n\t\t\t\t);\n\t\t\t\tonClick();\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Use default template' ) }\n\t\t</MenuItem>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport CreateNewTemplateModal from './create-new-template-modal';\nimport { useAllowSwitchingTemplates } from './hooks';\n\nexport default function CreateNewTemplate() {\n\tconst { canCreateTemplates } = useSelect( ( select ) => {\n\t\tconst { canUser } = select( coreStore );\n\t\treturn {\n\t\t\tcanCreateTemplates: canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ),\n\t\t};\n\t}, [] );\n\tconst [ isCreateModalOpen, setIsCreateModalOpen ] = useState( false );\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\n\t// The default template in a post is indicated by an empty string.\n\tif ( ! canCreateTemplates || ! allowSwitchingTemplate ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t<MenuItem\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsCreateModalOpen( true );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Create new template' ) }\n\t\t\t</MenuItem>\n\n\t\t\t{ isCreateModalOpen && (\n\t\t\t\t<CreateNewTemplateModal\n\t\t\t\t\tonClose={ () => {\n\t\t\t\t\t\tsetIsCreateModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostAuthorCombobox from './combobox';\nimport PostAuthorSelect from './select';\nimport { AUTHORS_QUERY } from './constants';\n\nconst minimumUsersForCombobox = 25;\n\n/**\n * Renders the component for selecting the post author.\n *\n * @return {React.ReactNode} The rendered component.\n */\nfunction PostAuthor() {\n\tconst showCombobox = useSelect( ( select ) => {\n\t\tconst authors = select( coreStore ).getUsers( AUTHORS_QUERY );\n\n\t\treturn authors?.length >= minimumUsersForCombobox;\n\t}, [] );\n\n\tif ( showCombobox ) {\n\t\treturn <PostAuthorCombobox />;\n\t}\n\treturn <PostAuthorSelect />;\n}\n\nexport default PostAuthor;\n", "/**\n * WordPress dependencies\n */\nimport { debounce } from '@wordpress/compose';\nimport { useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { ComboboxControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { useAuthorsQuery } from './hook';\n\nexport default function PostAuthorCombobox() {\n\tconst [ fieldValue, setFieldValue ] = useState();\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { authorId, authorOptions, isLoading } =\n\t\tuseAuthorsQuery( fieldValue );\n\n\t/**\n\t * Handle author selection.\n\t *\n\t * @param {number} postAuthorId The selected Author.\n\t */\n\tconst handleSelect = ( postAuthorId ) => {\n\t\tif ( ! postAuthorId ) {\n\t\t\treturn;\n\t\t}\n\t\teditPost( { author: postAuthorId } );\n\t};\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\t__next40pxDefaultSize\n\t\t\tlabel={ __( 'Author' ) }\n\t\t\toptions={ authorOptions }\n\t\t\tvalue={ authorId }\n\t\t\tonFilterValueChange={ debounce( setFieldValue, 300 ) }\n\t\t\tonChange={ handleSelect }\n\t\t\tallowReset={ false }\n\t\t\thideLabelFromVision\n\t\t\tisLoading={ isLoading }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { AUTHORS_QUERY, BASE_QUERY } from './constants';\n\nexport function useAuthorsQuery( search ) {\n\tconst { authorId, authors, postAuthor, isLoading } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getUser, getUsers, isResolving } = select( coreStore );\n\t\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\t\tconst _authorId = getEditedPostAttribute( 'author' );\n\t\t\tconst query = { ...AUTHORS_QUERY };\n\n\t\t\tif ( search ) {\n\t\t\t\tquery.search = search;\n\t\t\t\tquery.search_columns = [ 'name' ];\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tauthorId: _authorId,\n\t\t\t\tauthors: getUsers( query ),\n\t\t\t\tpostAuthor: getUser( _authorId, BASE_QUERY ),\n\t\t\t\tisLoading: isResolving( 'getUsers', [ query ] ),\n\t\t\t};\n\t\t},\n\t\t[ search ]\n\t);\n\n\tconst authorOptions = useMemo( () => {\n\t\tconst fetchedAuthors = ( authors ?? [] ).map( ( author ) => {\n\t\t\treturn {\n\t\t\t\tvalue: author.id,\n\t\t\t\tlabel: decodeEntities( author.name ),\n\t\t\t};\n\t\t} );\n\n\t\t// Ensure the current author is included in the dropdown list.\n\t\tconst foundAuthor = fetchedAuthors.findIndex(\n\t\t\t( { value } ) => postAuthor?.id === value\n\t\t);\n\n\t\tlet currentAuthor = [];\n\t\tif ( foundAuthor < 0 && postAuthor ) {\n\t\t\tcurrentAuthor = [\n\t\t\t\t{\n\t\t\t\t\tvalue: postAuthor.id,\n\t\t\t\t\tlabel: decodeEntities( postAuthor.name ),\n\t\t\t\t},\n\t\t\t];\n\t\t} else if ( foundAuthor < 0 && ! postAuthor ) {\n\t\t\tcurrentAuthor = [\n\t\t\t\t{\n\t\t\t\t\tvalue: 0,\n\t\t\t\t\tlabel: __( '(No author)' ),\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\n\t\treturn [ ...currentAuthor, ...fetchedAuthors ];\n\t}, [ authors, postAuthor ] );\n\n\treturn { authorId, authorOptions, postAuthor, isLoading };\n}\n", "export const BASE_QUERY = {\n\t_fields: 'id,name',\n\tcontext: 'view', // Allows non-admins to perform requests.\n};\n\nexport const AUTHORS_QUERY = {\n\twho: 'authors',\n\tper_page: 100,\n\t...BASE_QUERY,\n};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { SelectControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { useAuthorsQuery } from './hook';\n\nexport default function PostAuthorSelect() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { authorId, authorOptions } = useAuthorsQuery();\n\n\tconst setAuthorId = ( value ) => {\n\t\tconst author = Number( value );\n\t\teditPost( { author } );\n\t};\n\n\treturn (\n\t\t<SelectControl\n\t\t\t__next40pxDefaultSize\n\t\t\tclassName=\"post-author-selector\"\n\t\t\tlabel={ __( 'Author' ) }\n\t\t\toptions={ authorOptions }\n\t\t\tonChange={ setAuthorId }\n\t\t\tvalue={ authorId }\n\t\t\thideLabelFromVision\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\n/**\n * Wrapper component that renders its children only if the post type supports the author.\n *\n * @param {Object}          props          The component props.\n * @param {React.ReactNode} props.children Children to be rendered.\n *\n * @return {React.ReactNode} The component to be rendered. Return `null` if the post type doesn't\n * supports the author or if there are no authors available.\n */\nexport default function PostAuthorCheck( { children } ) {\n\tconst { hasAssignAuthorAction } = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tconst canAssignAuthor = post?._links?.[ 'wp:action-assign-author' ]\n\t\t\t? true\n\t\t\t: false;\n\t\treturn {\n\t\t\thasAssignAuthorAction: canAssignAuthor,\n\t\t};\n\t}, [] );\n\n\tif ( ! hasAssignAuthorAction ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"author\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button, Dropdown } from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostAuthorCheck from './check';\nimport PostAuthorForm from './index';\nimport PostPanelRow from '../post-panel-row';\nimport { BASE_QUERY } from './constants';\nimport { store as editorStore } from '../../store';\n\nfunction PostAuthorToggle( { isOpen, onClick } ) {\n\tconst { postAuthor } = useSelect( ( select ) => {\n\t\tconst id = select( editorStore ).getEditedPostAttribute( 'author' );\n\t\treturn {\n\t\t\tpostAuthor: select( coreStore ).getUser( id, BASE_QUERY ),\n\t\t};\n\t}, [] );\n\tconst authorName =\n\t\tdecodeEntities( postAuthor?.name ) || __( '(No author)' );\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\tclassName=\"editor-post-author__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\taria-label={\n\t\t\t\t// translators: %s: Author name.\n\t\t\t\tsprintf( __( 'Change author: %s' ), authorName )\n\t\t\t}\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ authorName }\n\t\t</Button>\n\t);\n}\n\n/**\n * Renders the Post Author Panel component.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport function PostAuthor() {\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\treturn (\n\t\t<PostAuthorCheck>\n\t\t\t<PostPanelRow label={ __( 'Author' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tcontentClassName=\"editor-post-author__panel-dialog\"\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<PostAuthorToggle\n\t\t\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<div className=\"editor-post-author\">\n\t\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\t\ttitle={ __( 'Author' ) }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PostAuthorForm onClose={ onClose } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostAuthorCheck>\n\t);\n}\n\nexport default PostAuthor;\n", "/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tRadioControl,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nconst COMMENT_OPTIONS = [\n\t{\n\t\tlabel: _x( 'Open', 'Adjective: e.g. \"Comments are open\"' ),\n\t\tvalue: 'open',\n\t\tdescription: __( 'Visitors can add new comments and replies.' ),\n\t},\n\t{\n\t\tlabel: __( 'Closed' ),\n\t\tvalue: 'closed',\n\t\tdescription: [\n\t\t\t__( 'Visitors cannot add new comments or replies.' ),\n\t\t\t__( 'Existing comments remain visible.' ),\n\t\t].join( ' ' ),\n\t},\n];\n\nfunction PostComments() {\n\tconst commentStatus = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'comment_status' ) ??\n\t\t\t'open',\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst handleStatus = ( newCommentStatus ) =>\n\t\teditPost( {\n\t\t\tcomment_status: newCommentStatus,\n\t\t} );\n\n\treturn (\n\t\t<form>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<RadioControl\n\t\t\t\t\tclassName=\"editor-change-status__options\"\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tlabel={ __( 'Comment status' ) }\n\t\t\t\t\toptions={ COMMENT_OPTIONS }\n\t\t\t\t\tonChange={ handleStatus }\n\t\t\t\t\tselected={ commentStatus }\n\t\t\t\t/>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n}\n\n/**\n * A form for managing comment status.\n *\n * @return {React.ReactNode} The rendered PostComments component.\n */\nexport default PostComments;\n", "/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tDropdown,\n\tButton,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport PostComments from '../post-comments';\nimport PostPingbacks from '../post-pingbacks';\nimport PostPanelRow from '../post-panel-row';\n\nconst PANEL_NAME = 'discussion-panel';\n\nfunction ModalContents( { onClose } ) {\n\treturn (\n\t\t<div className=\"editor-post-discussion\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Discussion' ) }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<PostTypeSupportCheck supportKeys=\"comments\">\n\t\t\t\t\t<PostComments />\n\t\t\t\t</PostTypeSupportCheck>\n\t\t\t\t<PostTypeSupportCheck supportKeys=\"trackbacks\">\n\t\t\t\t\t<PostPingbacks />\n\t\t\t\t</PostTypeSupportCheck>\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n\nfunction PostDiscussionToggle( { isOpen, onClick } ) {\n\tconst {\n\t\tcommentStatus,\n\t\tpingStatus,\n\t\tcommentsSupported,\n\t\ttrackbacksSupported,\n\t} = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\t\treturn {\n\t\t\tcommentStatus: getEditedPostAttribute( 'comment_status' ) ?? 'open',\n\t\t\tpingStatus: getEditedPostAttribute( 'ping_status' ) ?? 'open',\n\t\t\tcommentsSupported: !! postType.supports.comments,\n\t\t\ttrackbacksSupported: !! postType.supports.trackbacks,\n\t\t};\n\t}, [] );\n\tlet label;\n\tif ( commentStatus === 'open' ) {\n\t\tif ( pingStatus === 'open' ) {\n\t\t\tlabel = _x( 'Open', 'Adjective: e.g. \"Comments are open\"' );\n\t\t} else {\n\t\t\tlabel = trackbacksSupported\n\t\t\t\t? __( 'Comments only' )\n\t\t\t\t: _x( 'Open', 'Adjective: e.g. \"Comments are open\"' );\n\t\t}\n\t} else if ( pingStatus === 'open' ) {\n\t\tlabel = commentsSupported ? __( 'Pings only' ) : __( 'Pings enabled' );\n\t} else {\n\t\tlabel = __( 'Closed' );\n\t}\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\tclassName=\"editor-post-discussion__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-label={ __( 'Change discussion options' ) }\n\t\t\taria-expanded={ isOpen }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n\n/**\n * This component allows to update comment and pingback\n * settings for the current post. Internally there are\n * checks whether the current post has support for the\n * above and if the `discussion-panel` panel is enabled.\n *\n * @return {React.ReactNode} The rendered PostDiscussionPanel component.\n */\nexport default function PostDiscussionPanel() {\n\tconst { isEnabled } = useSelect( ( select ) => {\n\t\tconst { isEditorPanelEnabled } = select( editorStore );\n\t\treturn {\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t};\n\t}, [] );\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys={ [ 'comments', 'trackbacks' ] }>\n\t\t\t<PostPanelRow label={ __( 'Discussion' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tclassName=\"editor-post-discussion__panel-dropdown\"\n\t\t\t\t\tcontentClassName=\"editor-post-discussion__panel-dialog\"\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<PostDiscussionToggle\n\t\t\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<ModalContents onClose={ onClose } />\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostTypeSupportCheck>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl, ExternalLink } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction PostPingbacks() {\n\tconst pingStatus = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'ping_status' ) ??\n\t\t\t'open',\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst onTogglePingback = () =>\n\t\teditPost( {\n\t\t\tping_status: pingStatus === 'open' ? 'closed' : 'open',\n\t\t} );\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\tlabel={ __( 'Enable pingbacks & trackbacks' ) }\n\t\t\tchecked={ pingStatus === 'open' }\n\t\t\tonChange={ onTogglePingback }\n\t\t\thelp={\n\t\t\t\t<ExternalLink\n\t\t\t\t\thref={ __(\n\t\t\t\t\t\t'https://wordpress.org/documentation/article/trackbacks-and-pingbacks/'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Learn more about pingbacks & trackbacks' ) }\n\t\t\t\t</ExternalLink>\n\t\t\t}\n\t\t/>\n\t);\n}\n\n/**\n * Renders a control for enabling or disabling pingbacks and trackbacks\n * in a WordPress post.\n *\n * @module PostPingbacks\n */\nexport default PostPingbacks;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ExternalLink, TextareaControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders an editable textarea for the post excerpt.\n * Templates, template parts and patterns use the `excerpt` field as a description semantically.\n * Additionally templates and template parts override the `excerpt` field as `description` in\n * REST API. So this component handles proper labeling and updating the edited entity.\n *\n * @param {Object}  props                             - Component props.\n * @param {boolean} [props.hideLabelFromVision=false] - Whether to visually hide the textarea's label.\n * @param {boolean} [props.updateOnBlur=false]        - Whether to update the post on change or use local state and update on blur.\n */\nexport default function PostExcerpt( {\n\thideLabelFromVision = false,\n\tupdateOnBlur = false,\n} ) {\n\tconst { excerpt, shouldUseDescriptionLabel, usedAttribute } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPostType, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst postType = getCurrentPostType();\n\t\t\t// This special case is unfortunate, but the REST API of wp_template and wp_template_part\n\t\t\t// support the excerpt field through the \"description\" field rather than \"excerpt\".\n\t\t\tconst _usedAttribute = [\n\t\t\t\t'wp_template',\n\t\t\t\t'wp_template_part',\n\t\t\t].includes( postType )\n\t\t\t\t? 'description'\n\t\t\t\t: 'excerpt';\n\t\t\treturn {\n\t\t\t\texcerpt: getEditedPostAttribute( _usedAttribute ),\n\t\t\t\t// There are special cases where we want to label the excerpt as a description.\n\t\t\t\tshouldUseDescriptionLabel: [\n\t\t\t\t\t'wp_template',\n\t\t\t\t\t'wp_template_part',\n\t\t\t\t\t'wp_block',\n\t\t\t\t].includes( postType ),\n\t\t\t\tusedAttribute: _usedAttribute,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ localExcerpt, setLocalExcerpt ] = useState(\n\t\tdecodeEntities( excerpt )\n\t);\n\tconst updatePost = ( value ) => {\n\t\teditPost( { [ usedAttribute ]: value } );\n\t};\n\tconst label = shouldUseDescriptionLabel\n\t\t? __( 'Write a description (optional)' )\n\t\t: __( 'Write an excerpt (optional)' );\n\n\treturn (\n\t\t<div className=\"editor-post-excerpt\">\n\t\t\t<TextareaControl\n\t\t\t\tlabel={ label }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tclassName=\"editor-post-excerpt__textarea\"\n\t\t\t\tonChange={ updateOnBlur ? setLocalExcerpt : updatePost }\n\t\t\t\tonBlur={\n\t\t\t\t\tupdateOnBlur ? () => updatePost( localExcerpt ) : undefined\n\t\t\t\t}\n\t\t\t\tvalue={ updateOnBlur ? localExcerpt : excerpt }\n\t\t\t\thelp={\n\t\t\t\t\t! shouldUseDescriptionLabel ? (\n\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#excerpt'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Learn more about manual excerpts' ) }\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t__( 'Write a description' )\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\n/**\n * Component for checking if the post type supports the excerpt field.\n *\n * @param {Object}          props          Props.\n * @param {React.ReactNode} props.children Children to be rendered.\n *\n * @return {React.ReactNode} The rendered component.\n */\nfunction PostExcerptCheck( { children } ) {\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"excerpt\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default PostExcerptCheck;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tPanelBody,\n\t__experimentalText as Text,\n\tDropdown,\n\tButton,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useMemo, useState } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport PostExcerptForm from './index';\nimport PostExcerptCheck from './check';\nimport PluginPostExcerpt from './plugin';\nimport { TEMPLATE_ORIGINS } from '../../store/constants';\nimport { store as editorStore } from '../../store';\nimport { getTemplateInfo } from '../../utils/get-template-info';\n\n/**\n * Module Constants\n */\nconst PANEL_NAME = 'post-excerpt';\n\nfunction ExcerptPanel() {\n\tconst { isOpened, isEnabled, postType } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisEditorPanelOpened,\n\t\t\tisEditorPanelEnabled,\n\t\t\tgetCurrentPostType,\n\t\t} = select( editorStore );\n\n\t\treturn {\n\t\t\tisOpened: isEditorPanelOpened( PANEL_NAME ),\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t}, [] );\n\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\tconst toggleExcerptPanel = () => toggleEditorPanelOpened( PANEL_NAME );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\t// There are special cases where we want to label the excerpt as a description.\n\tconst shouldUseDescriptionLabel = [\n\t\t'wp_template',\n\t\t'wp_template_part',\n\t\t'wp_block',\n\t].includes( postType );\n\n\treturn (\n\t\t<PanelBody\n\t\t\ttitle={\n\t\t\t\tshouldUseDescriptionLabel\n\t\t\t\t\t? __( 'Description' )\n\t\t\t\t\t: __( 'Excerpt' )\n\t\t\t}\n\t\t\topened={ isOpened }\n\t\t\tonToggle={ toggleExcerptPanel }\n\t\t>\n\t\t\t<PluginPostExcerpt.Slot>\n\t\t\t\t{ ( fills ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<PostExcerptForm />\n\t\t\t\t\t\t{ fills }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</PluginPostExcerpt.Slot>\n\t\t</PanelBody>\n\t);\n}\n\n/**\n * Is rendered if the post type supports excerpts and allows editing the excerpt.\n *\n * @return {React.ReactNode} The rendered PostExcerptPanel component.\n */\nexport default function PostExcerptPanel() {\n\treturn (\n\t\t<PostExcerptCheck>\n\t\t\t<ExcerptPanel />\n\t\t</PostExcerptCheck>\n\t);\n}\n\nexport function PrivatePostExcerptPanel() {\n\treturn (\n\t\t<PostExcerptCheck>\n\t\t\t<PrivateExcerpt />\n\t\t</PostExcerptCheck>\n\t);\n}\n\nfunction PrivateExcerpt() {\n\tconst { shouldRender, excerpt, shouldBeUsedAsDescription, allowEditing } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst {\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tgetCurrentPostId,\n\t\t\t\tgetEditedPostAttribute,\n\t\t\t\tisEditorPanelEnabled,\n\t\t\t} = select( editorStore );\n\t\t\tconst postType = getCurrentPostType();\n\t\t\tconst isTemplateOrTemplatePart = [\n\t\t\t\t'wp_template',\n\t\t\t\t'wp_template_part',\n\t\t\t].includes( postType );\n\t\t\tconst isPattern = postType === 'wp_block';\n\t\t\t// These post types use the `excerpt` field as a description semantically, so we need to\n\t\t\t// handle proper labeling and some flows where we should always render them as text.\n\t\t\tconst _shouldBeUsedAsDescription =\n\t\t\t\tisTemplateOrTemplatePart || isPattern;\n\t\t\tconst _usedAttribute = isTemplateOrTemplatePart\n\t\t\t\t? 'description'\n\t\t\t\t: 'excerpt';\n\t\t\tconst _excerpt = getEditedPostAttribute( _usedAttribute );\n\t\t\t// We need to fetch the entity in this case to check if we'll allow editing.\n\t\t\tconst template =\n\t\t\t\tisTemplateOrTemplatePart &&\n\t\t\t\tselect( coreStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tgetCurrentPostId()\n\t\t\t\t);\n\t\t\tconst fallback =\n\t\t\t\t! _excerpt && isTemplateOrTemplatePart\n\t\t\t\t\t? getTemplateInfo( {\n\t\t\t\t\t\t\ttemplate,\n\t\t\t\t\t\t\ttemplateTypes:\n\t\t\t\t\t\t\t\tselect( coreStore ).getCurrentTheme()\n\t\t\t\t\t\t\t\t\t?.default_template_types,\n\t\t\t\t\t  } )?.description\n\t\t\t\t\t: undefined;\n\t\t\t// For post types that use excerpt as description, we do not abide\n\t\t\t// by the `isEnabled` panel flag in order to render them as text.\n\t\t\tconst _shouldRender =\n\t\t\t\tisEditorPanelEnabled( PANEL_NAME ) ||\n\t\t\t\t_shouldBeUsedAsDescription;\n\t\t\treturn {\n\t\t\t\texcerpt: _excerpt ?? fallback,\n\t\t\t\tshouldRender: _shouldRender,\n\t\t\t\tshouldBeUsedAsDescription: _shouldBeUsedAsDescription,\n\t\t\t\t// If we should render, allow editing for all post types that are not used as description.\n\t\t\t\t// For the rest allow editing only for user generated entities.\n\t\t\t\tallowEditing:\n\t\t\t\t\t_shouldRender &&\n\t\t\t\t\t( ! _shouldBeUsedAsDescription ||\n\t\t\t\t\t\tisPattern ||\n\t\t\t\t\t\t( template &&\n\t\t\t\t\t\t\ttemplate.source === TEMPLATE_ORIGINS.custom &&\n\t\t\t\t\t\t\t! template.has_theme_file &&\n\t\t\t\t\t\t\ttemplate.is_custom ) ),\n\t\t\t};\n\t\t}, [] );\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\tconst label = shouldBeUsedAsDescription\n\t\t? __( 'Description' )\n\t\t: __( 'Excerpt' );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\t'aria-label': label,\n\t\t\theaderTitle: label,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor, label ]\n\t);\n\tif ( ! shouldRender ) {\n\t\treturn false;\n\t}\n\tconst excerptText = !! excerpt && (\n\t\t<Text align=\"left\" numberOfLines={ 4 } truncate={ allowEditing }>\n\t\t\t{ decodeEntities( excerpt ) }\n\t\t</Text>\n\t);\n\tif ( ! allowEditing ) {\n\t\treturn excerptText;\n\t}\n\tconst excerptPlaceholder = shouldBeUsedAsDescription\n\t\t? __( 'Add a description\u2026' )\n\t\t: __( 'Add an excerpt\u2026' );\n\tconst triggerEditLabel = shouldBeUsedAsDescription\n\t\t? __( 'Edit description' )\n\t\t: __( 'Edit excerpt' );\n\treturn (\n\t\t<VStack>\n\t\t\t{ excerptText }\n\t\t\t<Dropdown\n\t\t\t\tclassName=\"editor-post-excerpt__dropdown\"\n\t\t\t\tcontentClassName=\"editor-post-excerpt__dropdown__content\"\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tfocusOnMount\n\t\t\t\tref={ setPopoverAnchor }\n\t\t\t\trenderToggle={ ( { onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ excerptText ? triggerEditLabel : excerptPlaceholder }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ label }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t<PluginPostExcerpt.Slot>\n\t\t\t\t\t\t\t\t{ ( fills ) => (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<PostExcerptForm\n\t\t\t\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t\t\t\tupdateOnBlur\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{ fills }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</PluginPostExcerpt.Slot>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</VStack>\n\t);\n}\n", "/**\n * Defines as extensibility slot for the Excerpt panel.\n */\n\n/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelRow } from '@wordpress/components';\n\nconst { Fill, Slot } = createSlotFill( 'PluginPostExcerpt' );\n\n/**\n * Renders a post excerpt panel in the post sidebar.\n *\n * @param {Object}          props             Component properties.\n * @param {string}          [props.className] An optional class name added to the row.\n * @param {React.ReactNode} props.children    Children to be rendered.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginPostExcerpt = wp.editPost.__experimentalPluginPostExcerpt;\n *\n * function MyPluginPostExcerpt() {\n * \treturn React.createElement(\n * \t\tPluginPostExcerpt,\n * \t\t{\n * \t\t\tclassName: 'my-plugin-post-excerpt',\n * \t\t},\n * \t\t__( 'Post excerpt custom content' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { __experimentalPluginPostExcerpt as PluginPostExcerpt } from '@wordpress/edit-post';\n *\n * const MyPluginPostExcerpt = () => (\n * \t<PluginPostExcerpt className=\"my-plugin-post-excerpt\">\n * \t\t{ __( 'Post excerpt custom content' ) }\n * \t</PluginPostExcerpt>\n * );\n * ```\n *\n * @return {React.ReactNode} The rendered component.\n */\nconst PluginPostExcerpt = ( { children, className } ) => {\n\treturn (\n\t\t<Fill>\n\t\t\t<PanelRow className={ className }>{ children }</PanelRow>\n\t\t</Fill>\n\t);\n};\n\nPluginPostExcerpt.Slot = Slot;\n\nexport default PluginPostExcerpt;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\nimport {\n\tDropZone,\n\tButton,\n\tSpinner,\n\twithNotices,\n\twithFilters,\n\t__experimentalHStack as HStack,\n\tNotice,\n} from '@wordpress/components';\nimport { isBlobURL } from '@wordpress/blob';\nimport { useState, useRef } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { useSelect, withDispatch, withSelect } from '@wordpress/data';\nimport {\n\tMediaUpload,\n\tMediaUploadCheck,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostFeaturedImageCheck from './check';\nimport { store as editorStore } from '../../store';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\n// Used when labels from post type were not yet loaded or when they are not present.\nconst DEFAULT_FEATURE_IMAGE_LABEL = __( 'Featured image' );\nconst DEFAULT_SET_FEATURE_IMAGE_LABEL = __( 'Add a featured image' );\n\nconst instructions = (\n\t<p>\n\t\t{ __(\n\t\t\t'To edit the featured image, you need permission to upload media.'\n\t\t) }\n\t</p>\n);\n\nfunction getMediaDetails( media, postId ) {\n\tif ( ! media ) {\n\t\treturn {};\n\t}\n\n\tconst defaultSize = applyFilters(\n\t\t'editor.PostFeaturedImage.imageSize',\n\t\t'large',\n\t\tmedia.id,\n\t\tpostId\n\t);\n\tif ( defaultSize in ( media?.media_details?.sizes ?? {} ) ) {\n\t\treturn {\n\t\t\tmediaWidth: media.media_details.sizes[ defaultSize ].width,\n\t\t\tmediaHeight: media.media_details.sizes[ defaultSize ].height,\n\t\t\tmediaSourceUrl: media.media_details.sizes[ defaultSize ].source_url,\n\t\t};\n\t}\n\n\t// Use fallbackSize when defaultSize is not available.\n\tconst fallbackSize = applyFilters(\n\t\t'editor.PostFeaturedImage.imageSize',\n\t\t'thumbnail',\n\t\tmedia.id,\n\t\tpostId\n\t);\n\tif ( fallbackSize in ( media?.media_details?.sizes ?? {} ) ) {\n\t\treturn {\n\t\t\tmediaWidth: media.media_details.sizes[ fallbackSize ].width,\n\t\t\tmediaHeight: media.media_details.sizes[ fallbackSize ].height,\n\t\t\tmediaSourceUrl:\n\t\t\t\tmedia.media_details.sizes[ fallbackSize ].source_url,\n\t\t};\n\t}\n\n\t// Use full image size when fallbackSize and defaultSize are not available.\n\treturn {\n\t\tmediaWidth: media.media_details.width,\n\t\tmediaHeight: media.media_details.height,\n\t\tmediaSourceUrl: media.source_url,\n\t};\n}\n\nfunction PostFeaturedImage( {\n\tcurrentPostId,\n\tfeaturedImageId,\n\tonUpdateImage,\n\tonRemoveImage,\n\tmedia,\n\tpostType,\n\tnoticeUI,\n\tnoticeOperations,\n\tisRequestingFeaturedImageMedia,\n} ) {\n\tconst returnsFocusRef = useRef( false );\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\tconst { getSettings } = useSelect( blockEditorStore );\n\tconst { mediaSourceUrl } = getMediaDetails( media, currentPostId );\n\n\tfunction onDropFiles( filesList ) {\n\t\tgetSettings().mediaUpload( {\n\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\tfilesList,\n\t\t\tonFileChange( [ image ] ) {\n\t\t\t\tif ( isBlobURL( image?.url ) ) {\n\t\t\t\t\tsetIsLoading( true );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( image ) {\n\t\t\t\t\tonUpdateImage( image );\n\t\t\t\t}\n\t\t\t\tsetIsLoading( false );\n\t\t\t},\n\t\t\tonError( message ) {\n\t\t\t\tnoticeOperations.removeAllNotices();\n\t\t\t\tnoticeOperations.createErrorNotice( message );\n\t\t\t},\n\t\t\tmultiple: false,\n\t\t} );\n\t}\n\n\t/**\n\t * Generates the featured image alt text for this editing context.\n\t *\n\t * @param {Object} imageMedia                               The image media object.\n\t * @param {string} imageMedia.alt_text                      The alternative text of the image.\n\t * @param {Object} imageMedia.media_details                 The media details of the image.\n\t * @param {Object} imageMedia.media_details.sizes           The sizes of the image.\n\t * @param {Object} imageMedia.media_details.sizes.full      The full size details of the image.\n\t * @param {string} imageMedia.media_details.sizes.full.file The file name of the full size image.\n\t * @param {string} imageMedia.slug                          The slug of the image.\n\t * @return {string} The featured image alt text.\n\t */\n\tfunction getImageDescription( imageMedia ) {\n\t\tif ( imageMedia.alt_text ) {\n\t\t\treturn sprintf(\n\t\t\t\t// Translators: %s: The selected image alt text.\n\t\t\t\t__( 'Current image: %s' ),\n\t\t\t\timageMedia.alt_text\n\t\t\t);\n\t\t}\n\t\treturn sprintf(\n\t\t\t// Translators: %s: The selected image filename.\n\t\t\t__(\n\t\t\t\t'The current image has no alternative text. The file name is: %s'\n\t\t\t),\n\t\t\timageMedia.media_details.sizes?.full?.file || imageMedia.slug\n\t\t);\n\t}\n\n\tfunction returnFocus( node ) {\n\t\tif ( returnsFocusRef.current && node ) {\n\t\t\tnode.focus();\n\t\t\treturnsFocusRef.current = false;\n\t\t}\n\t}\n\n\tconst isMissingMedia =\n\t\t! isRequestingFeaturedImageMedia && !! featuredImageId && ! media;\n\n\treturn (\n\t\t<PostFeaturedImageCheck>\n\t\t\t{ noticeUI }\n\t\t\t<div className=\"editor-post-featured-image\">\n\t\t\t\t{ media && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={ `editor-post-featured-image-${ featuredImageId }-describedby` }\n\t\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ getImageDescription( media ) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<MediaUploadCheck fallback={ instructions }>\n\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\tpostType?.labels?.featured_image ||\n\t\t\t\t\t\t\tDEFAULT_FEATURE_IMAGE_LABEL\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={ onUpdateImage }\n\t\t\t\t\t\tunstableFeaturedImageFlow\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\tmodalClass=\"editor-post-featured-image__media-modal\"\n\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t<div className=\"editor-post-featured-image__container\">\n\t\t\t\t\t\t\t\t{ isMissingMedia ? (\n\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\tstatus=\"warning\"\n\t\t\t\t\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'Could not retrieve the featured image data.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\tref={ returnFocus }\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t! featuredImageId\n\t\t\t\t\t\t\t\t\t\t\t\t? 'editor-post-featured-image__toggle'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'editor-post-featured-image__preview'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\t\t\t! featuredImageId\n\t\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Edit or replace the featured image'\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\taria-describedby={\n\t\t\t\t\t\t\t\t\t\t\t! featuredImageId\n\t\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t\t: `editor-post-featured-image-${ featuredImageId }-describedby`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t\t\t\t\t\t\tdisabled={ isLoading }\n\t\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ !! featuredImageId && media && (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__preview-image\"\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ mediaSourceUrl }\n\t\t\t\t\t\t\t\t\t\t\t\talt={ getImageDescription(\n\t\t\t\t\t\t\t\t\t\t\t\t\tmedia\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t{ ( isLoading ||\n\t\t\t\t\t\t\t\t\t\t\tisRequestingFeaturedImageMedia ) && (\n\t\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t{ ! featuredImageId &&\n\t\t\t\t\t\t\t\t\t\t\t! isLoading &&\n\t\t\t\t\t\t\t\t\t\t\t( postType?.labels\n\t\t\t\t\t\t\t\t\t\t\t\t?.set_featured_image ||\n\t\t\t\t\t\t\t\t\t\t\t\tDEFAULT_SET_FEATURE_IMAGE_LABEL ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ !! featuredImageId && (\n\t\t\t\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t\t\t\t'editor-post-featured-image__actions',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t'editor-post-featured-image__actions-missing-image':\n\t\t\t\t\t\t\t\t\t\t\t\t\tisMissingMedia,\n\t\t\t\t\t\t\t\t\t\t\t\t'editor-post-featured-image__actions-is-requesting-image':\n\t\t\t\t\t\t\t\t\t\t\t\t\tisRequestingFeaturedImageMedia,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\t\tisMissingMedia\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Replace' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\tonRemoveImage();\n\t\t\t\t\t\t\t\t\t\t\t\t// Signal that the toggle button should be focused,\n\t\t\t\t\t\t\t\t\t\t\t\t// when it is rendered. Can't focus it directly here\n\t\t\t\t\t\t\t\t\t\t\t\t// because it's rendered conditionally.\n\t\t\t\t\t\t\t\t\t\t\t\treturnsFocusRef.current = true;\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\t\tisMissingMedia\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tisDestructive={ isMissingMedia }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Remove' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<DropZone onFilesDrop={ onDropFiles } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvalue={ featuredImageId }\n\t\t\t\t\t/>\n\t\t\t\t</MediaUploadCheck>\n\t\t\t</div>\n\t\t</PostFeaturedImageCheck>\n\t);\n}\n\nconst applyWithSelect = withSelect( ( select ) => {\n\tconst { getEntityRecord, getPostType, hasFinishedResolution } =\n\t\tselect( coreStore );\n\tconst { getCurrentPostId, getEditedPostAttribute } = select( editorStore );\n\tconst featuredImageId = getEditedPostAttribute( 'featured_media' );\n\n\treturn {\n\t\tmedia: featuredImageId\n\t\t\t? getEntityRecord( 'postType', 'attachment', featuredImageId, {\n\t\t\t\t\tcontext: 'view',\n\t\t\t  } )\n\t\t\t: null,\n\t\tcurrentPostId: getCurrentPostId(),\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\tfeaturedImageId,\n\t\tisRequestingFeaturedImageMedia:\n\t\t\t!! featuredImageId &&\n\t\t\t! hasFinishedResolution( 'getEntityRecord', [\n\t\t\t\t'postType',\n\t\t\t\t'attachment',\n\t\t\t\tfeaturedImageId,\n\t\t\t\t{ context: 'view' },\n\t\t\t] ),\n\t};\n} );\n\nconst applyWithDispatch = withDispatch(\n\t( dispatch, { noticeOperations }, { select } ) => {\n\t\tconst { editPost } = dispatch( editorStore );\n\t\treturn {\n\t\t\tonUpdateImage( image ) {\n\t\t\t\teditPost( { featured_media: image.id } );\n\t\t\t},\n\t\t\tonDropImage( filesList ) {\n\t\t\t\tselect( blockEditorStore )\n\t\t\t\t\t.getSettings()\n\t\t\t\t\t.mediaUpload( {\n\t\t\t\t\t\tallowedTypes: [ 'image' ],\n\t\t\t\t\t\tfilesList,\n\t\t\t\t\t\tonFileChange( [ image ] ) {\n\t\t\t\t\t\t\teditPost( { featured_media: image.id } );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonError( message ) {\n\t\t\t\t\t\t\tnoticeOperations.removeAllNotices();\n\t\t\t\t\t\t\tnoticeOperations.createErrorNotice( message );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmultiple: false,\n\t\t\t\t\t} );\n\t\t\t},\n\t\t\tonRemoveImage() {\n\t\t\t\teditPost( { featured_media: 0 } );\n\t\t\t},\n\t\t};\n\t}\n);\n\n/**\n * Renders the component for managing the featured image of a post.\n *\n * @param {Object}   props                  Props.\n * @param {number}   props.currentPostId    ID of the current post.\n * @param {number}   props.featuredImageId  ID of the featured image.\n * @param {Function} props.onUpdateImage    Function to call when the image is updated.\n * @param {Function} props.onRemoveImage    Function to call when the image is removed.\n * @param {Object}   props.media            The media object representing the featured image.\n * @param {string}   props.postType         Post type.\n * @param {Element}  props.noticeUI         UI for displaying notices.\n * @param {Object}   props.noticeOperations Operations for managing notices.\n *\n * @return {Element} Component to be rendered .\n */\nexport default compose(\n\twithNotices,\n\tapplyWithSelect,\n\tapplyWithDispatch,\n\twithFilters( 'editor.PostFeaturedImage' )\n)( PostFeaturedImage );\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Checks if the current theme supports specific features and renders the children if supported.\n *\n * @param {Object}          props             The component props.\n * @param {React.ReactNode} props.children    The children to render if the theme supports the specified features.\n * @param {string|string[]} props.supportKeys The key(s) of the theme support(s) to check.\n *\n * @return {React.ReactNode} The rendered children if the theme supports the specified features, otherwise null.\n */\nexport default function ThemeSupportCheck( { children, supportKeys } ) {\n\tconst { postType, themeSupports } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostType: select( editorStore ).getEditedPostAttribute( 'type' ),\n\t\t\tthemeSupports: select( coreStore ).getThemeSupports(),\n\t\t};\n\t}, [] );\n\n\tconst isSupported = (\n\t\tArray.isArray( supportKeys ) ? supportKeys : [ supportKeys ]\n\t).some( ( key ) => {\n\t\tconst supported = themeSupports?.[ key ] ?? false;\n\t\t// 'post-thumbnails' can be boolean or an array of post types.\n\t\t// In the latter case, we need to verify `postType` exists\n\t\t// within `supported`. If `postType` isn't passed, then the check\n\t\t// should fail.\n\t\tif ( 'post-thumbnails' === key && Array.isArray( supported ) ) {\n\t\t\treturn supported.includes( postType );\n\t\t}\n\t\treturn supported;\n\t} );\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n", "/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport ThemeSupportCheck from '../theme-support-check';\n\n/**\n * Wrapper component that renders its children only if the post type supports a featured image\n * and the theme supports post thumbnails.\n *\n * @param {Object}          props          Props.\n * @param {React.ReactNode} props.children Children to be rendered.\n *\n * @return {React.ReactNode} The rendered component.\n */\nfunction PostFeaturedImageCheck( { children } ) {\n\treturn (\n\t\t<ThemeSupportCheck supportKeys=\"post-thumbnails\">\n\t\t\t<PostTypeSupportCheck supportKeys=\"thumbnail\">\n\t\t\t\t{ children }\n\t\t\t</PostTypeSupportCheck>\n\t\t</ThemeSupportCheck>\n\t);\n}\n\nexport default PostFeaturedImageCheck;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostFeaturedImage from './index';\nimport PostFeaturedImageCheck from './check';\n\nconst PANEL_NAME = 'featured-image';\n\n/**\n * Renders the panel for the post featured image.\n *\n * @param {Object}  props               Props.\n * @param {boolean} props.withPanelBody Whether to include the panel body. Default true.\n *\n * @return {React.ReactNode} The component to be rendered.\n * Return Null if the editor panel is disabled for featured image.\n */\nexport default function PostFeaturedImagePanel( { withPanelBody = true } ) {\n\tconst { postType, isEnabled, isOpened } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetEditedPostAttribute,\n\t\t\tisEditorPanelEnabled,\n\t\t\tisEditorPanelOpened,\n\t\t} = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\n\t\treturn {\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t\tisOpened: isEditorPanelOpened( PANEL_NAME ),\n\t\t};\n\t}, [] );\n\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\tif ( ! withPanelBody ) {\n\t\treturn (\n\t\t\t<PostFeaturedImageCheck>\n\t\t\t\t<PostFeaturedImage />\n\t\t\t</PostFeaturedImageCheck>\n\t\t);\n\t}\n\n\treturn (\n\t\t<PostFeaturedImageCheck>\n\t\t\t<PanelBody\n\t\t\t\ttitle={\n\t\t\t\t\tpostType?.labels?.featured_image ?? __( 'Featured image' )\n\t\t\t\t}\n\t\t\t\topened={ isOpened }\n\t\t\t\tonToggle={ () => toggleEditorPanelOpened( PANEL_NAME ) }\n\t\t\t>\n\t\t\t\t<PostFeaturedImage />\n\t\t\t</PanelBody>\n\t\t</PostFeaturedImageCheck>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button, RadioControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostFormatCheck from './check';\nimport { store as editorStore } from '../../store';\n\n// All WP post formats, sorted alphabetically by translated name.\nexport const POST_FORMATS = [\n\t{ id: 'aside', caption: __( 'Aside' ) },\n\t{ id: 'audio', caption: __( 'Audio' ) },\n\t{ id: 'chat', caption: __( 'Chat' ) },\n\t{ id: 'gallery', caption: __( 'Gallery' ) },\n\t{ id: 'image', caption: __( 'Image' ) },\n\t{ id: 'link', caption: __( 'Link' ) },\n\t{ id: 'quote', caption: __( 'Quote' ) },\n\t{ id: 'standard', caption: __( 'Standard' ) },\n\t{ id: 'status', caption: __( 'Status' ) },\n\t{ id: 'video', caption: __( 'Video' ) },\n].sort( ( a, b ) => {\n\tconst normalizedA = a.caption.toUpperCase();\n\tconst normalizedB = b.caption.toUpperCase();\n\n\tif ( normalizedA < normalizedB ) {\n\t\treturn -1;\n\t}\n\tif ( normalizedA > normalizedB ) {\n\t\treturn 1;\n\t}\n\treturn 0;\n} );\n\n/**\n * `PostFormat` a component that allows changing the post format while also providing a suggestion for the current post.\n *\n * @example\n * ```jsx\n * <PostFormat />\n * ```\n *\n * @return {React.ReactNode} The rendered PostFormat component.\n */\nexport default function PostFormat() {\n\tconst instanceId = useInstanceId( PostFormat );\n\tconst postFormatSelectorId = `post-format-selector-${ instanceId }`;\n\n\tconst { postFormat, suggestedFormat, supportedFormats } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedPostAttribute, getSuggestedPostFormat } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst _postFormat = getEditedPostAttribute( 'format' );\n\t\t\tconst themeSupports = select( coreStore ).getThemeSupports();\n\t\t\treturn {\n\t\t\t\tpostFormat: _postFormat ?? 'standard',\n\t\t\t\tsuggestedFormat: getSuggestedPostFormat(),\n\t\t\t\tsupportedFormats: themeSupports.formats,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst formats = POST_FORMATS.filter( ( format ) => {\n\t\t// Ensure current format is always in the set.\n\t\t// The current format may not be a format supported by the theme.\n\t\treturn (\n\t\t\tsupportedFormats?.includes( format.id ) || postFormat === format.id\n\t\t);\n\t} );\n\tconst suggestion = formats.find(\n\t\t( format ) => format.id === suggestedFormat\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\n\tconst onUpdatePostFormat = ( format ) => editPost( { format } );\n\n\treturn (\n\t\t<PostFormatCheck>\n\t\t\t<div className=\"editor-post-format\">\n\t\t\t\t<RadioControl\n\t\t\t\t\tclassName=\"editor-post-format__options\"\n\t\t\t\t\tlabel={ __( 'Post Format' ) }\n\t\t\t\t\tselected={ postFormat }\n\t\t\t\t\tonChange={ ( format ) => onUpdatePostFormat( format ) }\n\t\t\t\t\tid={ postFormatSelectorId }\n\t\t\t\t\toptions={ formats.map( ( format ) => ( {\n\t\t\t\t\t\tlabel: format.caption,\n\t\t\t\t\t\tvalue: format.id,\n\t\t\t\t\t} ) ) }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t/>\n\t\t\t\t{ suggestion && suggestion.id !== postFormat && (\n\t\t\t\t\t<p className=\"editor-post-format__suggestion\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\tonUpdatePostFormat( suggestion.id )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: post format */\n\t\t\t\t\t\t\t\t__( 'Apply suggested format: %s' ),\n\t\t\t\t\t\t\t\tsuggestion.caption\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</PostFormatCheck>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\n/**\n * Component check if there are any post formats.\n *\n * @param {Object}          props          The component props.\n * @param {React.ReactNode} props.children The child elements to render.\n *\n * @return {React.ReactNode} The rendered component or null if post formats are disabled.\n */\nexport default function PostFormatCheck( { children } ) {\n\tconst disablePostFormats = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditorSettings().disablePostFormats,\n\t\t[]\n\t);\n\n\tif ( disablePostFormats ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"post-formats\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { backup } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport PostLastRevisionCheck from './check';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nfunction usePostLastRevisionInfo() {\n\treturn useSelect( ( select ) => {\n\t\tconst { getCurrentPostLastRevisionId, getCurrentPostRevisionsCount } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tlastRevisionId: getCurrentPostLastRevisionId(),\n\t\t\trevisionsCount: getCurrentPostRevisionsCount(),\n\t\t};\n\t}, [] );\n}\n\n/**\n * Renders the component for displaying the last revision of a post.\n *\n * @return {React.ReactNode} The rendered component.\n */\nfunction PostLastRevision() {\n\tconst { lastRevisionId, revisionsCount } = usePostLastRevisionInfo();\n\tconst { setCurrentRevisionId } = unlock( useDispatch( editorStore ) );\n\n\treturn (\n\t\t<PostLastRevisionCheck>\n\t\t\t<Button\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tonClick={ () => setCurrentRevisionId( lastRevisionId ) }\n\t\t\t\tclassName=\"editor-post-last-revision__title\"\n\t\t\t\ticon={ backup }\n\t\t\t\ticonPosition=\"right\"\n\t\t\t\ttext={ sprintf(\n\t\t\t\t\t/* translators: %s: number of revisions. */\n\t\t\t\t\t__( 'Revisions (%s)' ),\n\t\t\t\t\trevisionsCount\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostLastRevisionCheck>\n\t);\n}\n\nexport function PrivatePostLastRevision() {\n\tconst { lastRevisionId, revisionsCount } = usePostLastRevisionInfo();\n\tconst { setCurrentRevisionId } = unlock( useDispatch( editorStore ) );\n\n\treturn (\n\t\t<PostLastRevisionCheck>\n\t\t\t<PostPanelRow label={ __( 'Revisions' ) }>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={ () => setCurrentRevisionId( lastRevisionId ) }\n\t\t\t\t\tclassName=\"editor-private-post-last-revision__button\"\n\t\t\t\t\ttext={ revisionsCount }\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostLastRevisionCheck>\n\t);\n}\n\nexport default PostLastRevision;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\n/**\n * Wrapper component that renders its children if the post has more than one revision.\n *\n * @param {Object}          props          Props.\n * @param {React.ReactNode} props.children Children to be rendered.\n *\n * @return {React.ReactNode} Rendered child components if post has more than one revision, otherwise null.\n */\nfunction PostLastRevisionCheck( { children } ) {\n\tconst { lastRevisionId, revisionsCount } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostLastRevisionId, getCurrentPostRevisionsCount } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tlastRevisionId: getCurrentPostLastRevisionId(),\n\t\t\trevisionsCount: getCurrentPostRevisionsCount(),\n\t\t};\n\t}, [] );\n\n\tif ( ! lastRevisionId || revisionsCount < 2 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"revisions\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default PostLastRevisionCheck;\n", "/**\n * WordPress dependencies\n */\nimport { PanelBody } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport PostLastRevision from './';\nimport PostLastRevisionCheck from './check';\n\n/**\n * Renders the panel for displaying the last revision of a post.\n *\n * @return {React.ReactNode} The rendered component.\n */\nfunction PostLastRevisionPanel() {\n\treturn (\n\t\t<PostLastRevisionCheck>\n\t\t\t<PanelBody className=\"editor-post-last-revision__panel\">\n\t\t\t\t<PostLastRevision />\n\t\t\t</PanelBody>\n\t\t</PostLastRevisionCheck>\n\t);\n}\n\nexport default PostLastRevisionPanel;\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tModal,\n\tButton,\n\tExternalLink,\n\t__experimentalHStack as HStack,\n\twithFilters,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useEffect, createInterpolateElement } from '@wordpress/element';\nimport { addAction, removeAction } from '@wordpress/hooks';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction PostLockedModal() {\n\tconst instanceId = useInstanceId( PostLockedModal );\n\tconst hookName = 'core/editor/post-locked-modal-' + instanceId;\n\tconst { autosave, updatePostLock } = useDispatch( editorStore );\n\tconst {\n\t\tisLocked,\n\t\tisTakeover,\n\t\tuser,\n\t\tpostId,\n\t\tpostLockUtils,\n\t\tactivePostLock,\n\t\tpostType,\n\t\tpreviewLink,\n\t\tsupportsSync,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisPostLocked,\n\t\t\tisPostLockTakeover,\n\t\t\tgetPostLockUser,\n\t\t\tgetCurrentPostId,\n\t\t\tgetCurrentPostType,\n\t\t\tgetActivePostLock,\n\t\t\tgetEditedPostAttribute,\n\t\t\tgetEditedPostPreviewLink,\n\t\t\tgetEditorSettings,\n\t\t} = select( editorStore );\n\t\tconst { getPostType, getEntityConfig } = select( coreStore );\n\t\tconst currentPostType = getCurrentPostType();\n\t\treturn {\n\t\t\tisLocked: isPostLocked(),\n\t\t\tisTakeover: isPostLockTakeover(),\n\t\t\tuser: getPostLockUser(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostLockUtils: getEditorSettings().postLockUtils,\n\t\t\tactivePostLock: getActivePostLock(),\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t\tpreviewLink: getEditedPostPreviewLink(),\n\t\t\tsupportsSync: Boolean(\n\t\t\t\tgetEntityConfig( 'postType', currentPostType )?.syncConfig\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\tuseEffect( () => {\n\t\t/**\n\t\t * Keep the lock refreshed.\n\t\t *\n\t\t * When the user does not send a heartbeat in a heartbeat-tick\n\t\t * the user is no longer editing and another user can start editing.\n\t\t *\n\t\t * @param {Object} data Data to send in the heartbeat request.\n\t\t */\n\t\tfunction sendPostLock( data ) {\n\t\t\tif ( isLocked ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdata[ 'wp-refresh-post-lock' ] = {\n\t\t\t\tlock: activePostLock,\n\t\t\t\tpost_id: postId,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Refresh post locks: update the lock string or show the dialog if somebody has taken over editing.\n\t\t *\n\t\t * @param {Object} data Data received in the heartbeat request\n\t\t */\n\t\tfunction receivePostLock( data ) {\n\t\t\tif ( ! data[ 'wp-refresh-post-lock' ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst received = data[ 'wp-refresh-post-lock' ];\n\t\t\tif ( received.lock_error ) {\n\t\t\t\t// Auto save and display the takeover modal.\n\t\t\t\tautosave();\n\t\t\t\tupdatePostLock( {\n\t\t\t\t\tisLocked: true,\n\t\t\t\t\tisTakeover: true,\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tname: received.lock_error.name,\n\t\t\t\t\t\tavatar: received.lock_error.avatar_src_2x,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} else if ( received.new_lock ) {\n\t\t\t\tupdatePostLock( {\n\t\t\t\t\tisLocked: false,\n\t\t\t\t\tactivePostLock: received.new_lock,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Unlock the post before the window is exited.\n\t\t */\n\t\tfunction releasePostLock() {\n\t\t\tif ( isLocked || ! activePostLock ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst data = new window.FormData();\n\t\t\tdata.append( 'action', 'wp-remove-post-lock' );\n\t\t\tdata.append( '_wpnonce', postLockUtils.unlockNonce );\n\t\t\tdata.append( 'post_ID', postId );\n\t\t\tdata.append( 'active_post_lock', activePostLock );\n\n\t\t\tif ( window.navigator.sendBeacon ) {\n\t\t\t\twindow.navigator.sendBeacon( postLockUtils.ajaxUrl, data );\n\t\t\t} else {\n\t\t\t\tconst xhr = new window.XMLHttpRequest();\n\t\t\t\txhr.open( 'POST', postLockUtils.ajaxUrl, false );\n\t\t\t\txhr.send( data );\n\t\t\t}\n\t\t}\n\n\t\t// Details on these events on the Heartbeat API docs\n\t\t// https://developer.wordpress.org/plugins/javascript/heartbeat-api/\n\t\taddAction( 'heartbeat.send', hookName, sendPostLock );\n\t\taddAction( 'heartbeat.tick', hookName, receivePostLock );\n\t\twindow.addEventListener( 'beforeunload', releasePostLock );\n\n\t\treturn () => {\n\t\t\tremoveAction( 'heartbeat.send', hookName );\n\t\t\tremoveAction( 'heartbeat.tick', hookName );\n\t\t\twindow.removeEventListener( 'beforeunload', releasePostLock );\n\t\t};\n\t}, [] );\n\n\tif ( ! isLocked ) {\n\t\treturn null;\n\t}\n\n\t// Avoid sending the modal if sync is supported, but retain functionality around locks etc.\n\tif ( supportsSync ) {\n\t\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tconst userDisplayName = user.name;\n\tconst userAvatar = user.avatar;\n\n\tconst unlockUrl = addQueryArgs( 'post.php', {\n\t\t'get-post-lock': '1',\n\t\tlockKey: true,\n\t\tpost: postId,\n\t\taction: 'edit',\n\t\t_wpnonce: postLockUtils.nonce,\n\t} );\n\tconst allPostsUrl = addQueryArgs( 'edit.php', {\n\t\tpost_type: postType?.slug,\n\t} );\n\tconst allPostsLabel = __( 'Exit editor' );\n\treturn (\n\t\t<Modal\n\t\t\ttitle={\n\t\t\t\tisTakeover\n\t\t\t\t\t? __( 'Someone else has taken over this post' )\n\t\t\t\t\t: __( 'This post is already being edited' )\n\t\t\t}\n\t\t\tfocusOnMount\n\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\tshouldCloseOnEsc={ false }\n\t\t\tisDismissible={ false }\n\t\t\t// Do not remove this class, as this class is used by third party plugins.\n\t\t\tclassName=\"editor-post-locked-modal\"\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<HStack alignment=\"top\" spacing={ 6 }>\n\t\t\t\t{ !! userAvatar && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ userAvatar }\n\t\t\t\t\t\talt={ __( 'Avatar' ) }\n\t\t\t\t\t\tclassName=\"editor-post-locked-modal__avatar\"\n\t\t\t\t\t\twidth={ 64 }\n\t\t\t\t\t\theight={ 64 }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<div>\n\t\t\t\t\t{ !! isTakeover && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: user's display name */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'<strong>%s</strong> now has editing control of this post (<PreviewLink />). Don\u2019t worry, your changes up to this moment have been saved.'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t'Another user now has editing control of this post (<PreviewLink />). Don\u2019t worry, your changes up to this moment have been saved.'\n\t\t\t\t\t\t\t\t\t  ),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstrong: <strong />,\n\t\t\t\t\t\t\t\t\tPreviewLink: (\n\t\t\t\t\t\t\t\t\t\t<ExternalLink href={ previewLink }>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'preview' ) }\n\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isTakeover && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: user's display name */\n\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<strong>%s</strong> is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over.'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Another user is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over.'\n\t\t\t\t\t\t\t\t\t\t  ),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tstrong: <strong />,\n\t\t\t\t\t\t\t\t\t\tPreviewLink: (\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink href={ previewLink }>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'preview' ) }\n\t\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'If you take over, the other user will lose editing control to the post, but their changes will be saved.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tclassName=\"editor-post-locked-modal__buttons\"\n\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ! isTakeover && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\thref={ unlockUrl }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Take over' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\thref={ allPostsUrl }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ allPostsLabel }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</div>\n\t\t\t</HStack>\n\t\t</Modal>\n\t);\n}\n\n/**\n * A modal component that is displayed when a post is locked for editing by another user.\n * The modal provides information about the lock status and options to take over or exit the editor.\n *\n * @return {React.ReactNode} The rendered PostLockedModal component.\n */\nexport default globalThis.IS_GUTENBERG_PLUGIN\n\t? withFilters( 'editor.PostLockedModal' )( PostLockedModal )\n\t: PostLockedModal;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostPendingStatusCheck from './check';\nimport { store as editorStore } from '../../store';\n\n/**\n * A component for displaying and toggling the pending status of a post.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport function PostPendingStatus() {\n\tconst status = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'status' ),\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst togglePendingStatus = () => {\n\t\tconst updatedStatus = status === 'pending' ? 'draft' : 'pending';\n\t\teditPost( { status: updatedStatus } );\n\t};\n\n\treturn (\n\t\t<PostPendingStatusCheck>\n\t\t\t<CheckboxControl\n\t\t\t\tlabel={ __( 'Pending review' ) }\n\t\t\t\tchecked={ status === 'pending' }\n\t\t\t\tonChange={ togglePendingStatus }\n\t\t\t/>\n\t\t</PostPendingStatusCheck>\n\t);\n}\n\nexport default PostPendingStatus;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * This component checks the publishing status of the current post.\n * If the post is already published or the user doesn't have the\n * capability to publish, it returns null.\n *\n * @param {Object}          props          Component properties.\n * @param {React.ReactNode} props.children Children to be rendered.\n *\n * @return {React.ReactNode} The rendered child elements or null if the post is already published or the user doesn't have the capability to publish.\n */\nexport function PostPendingStatusCheck( { children } ) {\n\tconst { hasPublishAction, isPublished } = useSelect( ( select ) => {\n\t\tconst { isCurrentPostPublished, getCurrentPost } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t};\n\t}, [] );\n\n\tif ( isPublished || ! hasPublishAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default PostPendingStatusCheck;\n", "/**\n * WordPress dependencies\n */\nimport { renderToString } from '@wordpress/element';\nimport { Button, Path, SVG, VisuallyHidden } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { applyFilters } from '@wordpress/hooks';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction writeInterstitialMessage( targetDocument ) {\n\tlet markup = renderToString(\n\t\t<div className=\"editor-post-preview-button__interstitial-message\">\n\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 96 96\">\n\t\t\t\t<Path\n\t\t\t\t\tclassName=\"outer\"\n\t\t\t\t\td=\"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36\"\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<Path\n\t\t\t\t\tclassName=\"inner\"\n\t\t\t\t\td=\"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z\"\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t</SVG>\n\t\t\t<p>{ __( 'Generating preview\u2026' ) }</p>\n\t\t</div>\n\t);\n\n\tmarkup += `\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\twidth: 100vw;\n\t\t\t}\n\t\t\t@-webkit-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-moz-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-o-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg {\n\t\t\t\twidth: 192px;\n\t\t\t\theight: 192px;\n\t\t\t\tstroke: #555d66;\n\t\t\t\tstroke-width: 0.75;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg .outer,\n\t\t\t.editor-post-preview-button__interstitial-message svg .inner {\n\t\t\t\tstroke-dasharray: 280;\n\t\t\t\tstroke-dashoffset: 280;\n\t\t\t\t-webkit-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-moz-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-o-animation: paint 1.5s ease infinite alternate;\n\t\t\t\tanimation: paint 1.5s ease infinite alternate;\n\t\t\t}\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n\t\t\t}\n\t\t</style>\n\t`;\n\n\t/**\n\t * Filters the interstitial message shown when generating previews.\n\t *\n\t * @param {string} markup The preview interstitial markup.\n\t */\n\tmarkup = applyFilters( 'editor.PostPreview.interstitialMarkup', markup );\n\n\ttargetDocument.write( markup );\n\ttargetDocument.title = __( 'Generating preview\u2026' );\n\ttargetDocument.close();\n}\n\n/**\n * Renders a button that opens a new window or tab for the preview,\n * writes the interstitial message to this window, and then navigates\n * to the actual preview link. The button is not rendered if the post\n * is not viewable and disabled if the post is not saveable.\n *\n * @param {Object}   props                     The component props.\n * @param {string}   props.className           The class name for the button.\n * @param {string}   props.textContent         The text content for the button.\n * @param {boolean}  props.forceIsAutosaveable Whether to force autosave.\n * @param {string}   props.role                The role attribute for the button.\n * @param {Function} props.onPreview           The callback function for preview event.\n *\n * @return {React.ReactNode} The rendered button component.\n */\nexport default function PostPreviewButton( {\n\tclassName,\n\ttextContent,\n\tforceIsAutosaveable,\n\trole,\n\tonPreview,\n} ) {\n\tconst { postId, currentPostLink, previewLink, isSaveable, isViewable } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst editor = select( editorStore );\n\t\t\tconst core = select( coreStore );\n\n\t\t\tconst postType = core.getPostType(\n\t\t\t\teditor.getCurrentPostType( 'type' )\n\t\t\t);\n\t\t\tconst canView = postType?.viewable ?? false;\n\t\t\tif ( ! canView ) {\n\t\t\t\treturn { isViewable: canView };\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tpostId: editor.getCurrentPostId(),\n\t\t\t\tcurrentPostLink: editor.getCurrentPostAttribute( 'link' ),\n\t\t\t\tpreviewLink: editor.getEditedPostPreviewLink(),\n\t\t\t\tisSaveable: editor.isEditedPostSaveable(),\n\t\t\t\tisViewable: canView,\n\t\t\t};\n\t\t}, [] );\n\n\tconst { __unstableSaveForPreview } = useDispatch( editorStore );\n\n\tif ( ! isViewable ) {\n\t\treturn null;\n\t}\n\n\tconst targetId = `wp-preview-${ postId }`;\n\n\tconst openPreviewWindow = async ( event ) => {\n\t\t// Our Preview button has its 'href' and 'target' set correctly for a11y\n\t\t// purposes. Unfortunately, though, we can't rely on the default 'click'\n\t\t// handler since sometimes it incorrectly opens a new tab instead of reusing\n\t\t// the existing one.\n\t\t// https://github.com/WordPress/gutenberg/pull/8330\n\t\tevent.preventDefault();\n\n\t\t// Open up a Preview tab if needed. This is where we'll show the preview.\n\t\tconst previewWindow = window.open( '', targetId );\n\n\t\t// Focus the Preview tab. This might not do anything, depending on the browser's\n\t\t// and user's preferences.\n\t\t// https://html.spec.whatwg.org/multipage/interaction.html#dom-window-focus\n\t\tpreviewWindow.focus();\n\n\t\twriteInterstitialMessage( previewWindow.document );\n\n\t\tconst link = await __unstableSaveForPreview( { forceIsAutosaveable } );\n\n\t\tpreviewWindow.location = link;\n\n\t\tonPreview?.();\n\t};\n\n\t// Link to the `?preview=true` URL if we have it, since this lets us see\n\t// changes that were autosaved since the post was last published. Otherwise,\n\t// just link to the post's URL.\n\tconst href = previewLink || currentPostLink;\n\n\treturn (\n\t\t<Button\n\t\t\tvariant={ ! className ? 'tertiary' : undefined }\n\t\t\tclassName={ className || 'editor-post-preview' }\n\t\t\thref={ href }\n\t\t\ttarget={ targetId }\n\t\t\taccessibleWhenDisabled\n\t\t\tdisabled={ ! isSaveable }\n\t\t\tonClick={ openPreviewWindow }\n\t\t\trole={ role }\n\t\t\tsize=\"compact\"\n\t\t>\n\t\t\t{ textContent || (\n\t\t\t\t<>\n\t\t\t\t\t{ _x( 'Preview', 'imperative verb' ) }\n\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t}\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</Button>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PublishButtonLabel from './label';\nimport { store as editorStore } from '../../store';\n\nconst noop = () => {};\n\nexport class PostPublishButton extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.createOnClick = this.createOnClick.bind( this );\n\t\tthis.closeEntitiesSavedStates =\n\t\t\tthis.closeEntitiesSavedStates.bind( this );\n\n\t\tthis.state = {\n\t\t\tentitiesSavedStatesCallback: false,\n\t\t};\n\t}\n\n\tcreateOnClick( callback ) {\n\t\treturn ( ...args ) => {\n\t\t\tconst { hasNonPostEntityChanges, setEntitiesSavedStatesCallback } =\n\t\t\t\tthis.props;\n\t\t\t// If a post with non-post entities is published, but the user\n\t\t\t// elects to not save changes to the non-post entities, those\n\t\t\t// entities will still be dirty when the Publish button is clicked.\n\t\t\t// We also need to check that the `setEntitiesSavedStatesCallback`\n\t\t\t// prop was passed. See https://github.com/WordPress/gutenberg/pull/37383\n\t\t\tif ( hasNonPostEntityChanges && setEntitiesSavedStatesCallback ) {\n\t\t\t\t// The modal for multiple entity saving will open,\n\t\t\t\t// hold the callback for saving/publishing the post\n\t\t\t\t// so that we can call it if the post entity is checked.\n\t\t\t\tthis.setState( {\n\t\t\t\t\tentitiesSavedStatesCallback: () => callback( ...args ),\n\t\t\t\t} );\n\n\t\t\t\t// Open the save panel by setting its callback.\n\t\t\t\t// To set a function on the useState hook, we must set it\n\t\t\t\t// with another function (() => myFunction). Passing the\n\t\t\t\t// function on its own will cause an error when called.\n\t\t\t\tsetEntitiesSavedStatesCallback(\n\t\t\t\t\t() => this.closeEntitiesSavedStates\n\t\t\t\t);\n\t\t\t\treturn noop;\n\t\t\t}\n\n\t\t\treturn callback( ...args );\n\t\t};\n\t}\n\n\tcloseEntitiesSavedStates( savedEntities ) {\n\t\tconst { postType, postId } = this.props;\n\t\tconst { entitiesSavedStatesCallback } = this.state;\n\t\tthis.setState( { entitiesSavedStatesCallback: false }, () => {\n\t\t\tif (\n\t\t\t\tsavedEntities &&\n\t\t\t\tsavedEntities.some(\n\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\telt.kind === 'postType' &&\n\t\t\t\t\t\telt.name === postType &&\n\t\t\t\t\t\telt.key === postId\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// The post entity was checked, call the held callback from `createOnClick`.\n\t\t\t\tentitiesSavedStatesCallback();\n\t\t\t}\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tforceIsDirty,\n\t\t\thasPublishAction,\n\t\t\tisBeingScheduled,\n\t\t\tisOpen,\n\t\t\tisPostSavingLocked,\n\t\t\tisPublishable,\n\t\t\tisPublished,\n\t\t\tisSaveable,\n\t\t\tisSaving,\n\t\t\tisAutoSaving,\n\t\t\tisToggle,\n\t\t\tsavePostStatus,\n\t\t\tonSubmit = noop,\n\t\t\tonToggle,\n\t\t\tvisibility,\n\t\t\thasNonPostEntityChanges,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t\tpostStatus,\n\t\t\tpostStatusHasChanged,\n\t\t} = this.props;\n\n\t\tconst isButtonDisabled =\n\t\t\t( isSaving ||\n\t\t\t\t! isSaveable ||\n\t\t\t\tisPostSavingLocked ||\n\t\t\t\t( ! isPublishable && ! forceIsDirty ) ) &&\n\t\t\t( ! hasNonPostEntityChanges || isSavingNonPostEntityChanges );\n\n\t\tconst isToggleDisabled =\n\t\t\t( isPublished ||\n\t\t\t\tisSaving ||\n\t\t\t\t! isSaveable ||\n\t\t\t\t( ! isPublishable && ! forceIsDirty ) ) &&\n\t\t\t( ! hasNonPostEntityChanges || isSavingNonPostEntityChanges );\n\n\t\t// If the new status has not changed explicitly, we derive it from\n\t\t// other factors, like having a publish action, etc.. We need to preserve\n\t\t// this because it affects when to show the pre and post publish panels.\n\t\t// If it has changed though explicitly, we need to respect that.\n\t\tlet publishStatus = 'publish';\n\t\tif ( postStatusHasChanged ) {\n\t\t\tpublishStatus = postStatus;\n\t\t} else if ( ! hasPublishAction ) {\n\t\t\tpublishStatus = 'pending';\n\t\t} else if ( visibility === 'private' ) {\n\t\t\tpublishStatus = 'private';\n\t\t} else if ( isBeingScheduled ) {\n\t\t\tpublishStatus = 'future';\n\t\t}\n\n\t\tconst onClickButton = () => {\n\t\t\tif ( isButtonDisabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSubmit();\n\t\t\tsavePostStatus( publishStatus );\n\t\t};\n\n\t\t// Callback to open the publish panel.\n\t\tconst onClickToggle = () => {\n\t\t\tif ( isToggleDisabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonToggle();\n\t\t};\n\n\t\tconst buttonProps = {\n\t\t\t'aria-disabled': isButtonDisabled,\n\t\t\tclassName: 'editor-post-publish-button',\n\t\t\tisBusy: ! isAutoSaving && isSaving,\n\t\t\tvariant: 'primary',\n\t\t\tonClick: this.createOnClick( onClickButton ),\n\t\t\t'aria-haspopup': hasNonPostEntityChanges ? 'dialog' : undefined,\n\t\t};\n\n\t\tconst toggleProps = {\n\t\t\t'aria-disabled': isToggleDisabled,\n\t\t\t'aria-expanded': isOpen,\n\t\t\tclassName: 'editor-post-publish-panel__toggle',\n\t\t\tisBusy: isSaving && isPublished,\n\t\t\tvariant: 'primary',\n\t\t\tsize: 'compact',\n\t\t\tonClick: this.createOnClick( onClickToggle ),\n\t\t\t'aria-haspopup': hasNonPostEntityChanges ? 'dialog' : undefined,\n\t\t};\n\t\tconst componentProps = isToggle ? toggleProps : buttonProps;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button\n\t\t\t\t\t{ ...componentProps }\n\t\t\t\t\tclassName={ `${ componentProps.className } editor-post-publish-button__button` }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t>\n\t\t\t\t\t<PublishButtonLabel />\n\t\t\t\t</Button>\n\t\t\t</>\n\t\t);\n\t}\n}\n\n/**\n * Renders the publish button.\n */\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tisSavingPost,\n\t\t\tisAutosavingPost,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tgetEditedPostVisibility,\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostSaveable,\n\t\t\tisEditedPostPublishable,\n\t\t\tisPostSavingLocked,\n\t\t\tgetCurrentPost,\n\t\t\tgetCurrentPostType,\n\t\t\tgetCurrentPostId,\n\t\t\thasNonPostEntityChanges,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t\tgetEditedPostAttribute,\n\t\t\tgetPostEdits,\n\t\t} = select( editorStore );\n\t\treturn {\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisAutoSaving: isAutosavingPost(),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tvisibility: getEditedPostVisibility(),\n\t\t\tisSaveable: isEditedPostSaveable(),\n\t\t\tisPostSavingLocked: isPostSavingLocked(),\n\t\t\tisPublishable: isEditedPostPublishable(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostStatus: getEditedPostAttribute( 'status' ),\n\t\t\tpostStatusHasChanged: getPostEdits()?.status,\n\t\t\thasNonPostEntityChanges: hasNonPostEntityChanges(),\n\t\t\tisSavingNonPostEntityChanges: isSavingNonPostEntityChanges(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { editPost, savePost } = dispatch( editorStore );\n\t\treturn {\n\t\t\tsavePostStatus: ( status ) => {\n\t\t\t\teditPost( { status }, { undoIgnore: true } );\n\t\t\t\tsavePost();\n\t\t\t},\n\t\t};\n\t} ),\n] )( PostPublishButton );\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { ATTACHMENT_POST_TYPE } from '../../store/constants';\n\n/**\n * Renders the label for the publish button.\n *\n * @return {string} The label for the publish button.\n */\nexport default function PublishButtonLabel() {\n\tconst isSmallerThanMediumViewport = useViewportMatch( 'medium', '<' );\n\tconst {\n\t\tisPublished,\n\t\tisBeingScheduled,\n\t\tisSaving,\n\t\tisPublishing,\n\t\thasPublishAction,\n\t\tisAutosaving,\n\t\thasNonPostEntityChanges,\n\t\tpostStatusHasChanged,\n\t\tpostStatus,\n\t\tpostType,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tisSavingPost,\n\t\t\tisPublishingPost,\n\t\t\tgetCurrentPost,\n\t\t\tgetCurrentPostType,\n\t\t\tisAutosavingPost,\n\t\t\tgetPostEdits,\n\t\t\tgetEditedPostAttribute,\n\t\t} = select( editorStore );\n\t\treturn {\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisPublishing: isPublishingPost(),\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\thasNonPostEntityChanges:\n\t\t\t\tselect( editorStore ).hasNonPostEntityChanges(),\n\t\t\tpostStatusHasChanged: !! getPostEdits()?.status,\n\t\t\tpostStatus: getEditedPostAttribute( 'status' ),\n\t\t};\n\t}, [] );\n\tif ( isPublishing ) {\n\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\treturn __( 'Publishing\u2026' );\n\t} else if (\n\t\t( isPublished || isBeingScheduled ) &&\n\t\tisSaving &&\n\t\t! isAutosaving\n\t) {\n\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\treturn __( 'Saving\u2026' );\n\t}\n\tif ( ! hasPublishAction ) {\n\t\t// For attachments, always show \"Save\" since they don't have a publish workflow\n\t\tif (\n\t\t\tpostType === ATTACHMENT_POST_TYPE &&\n\t\t\twindow?.__experimentalMediaEditor\n\t\t) {\n\t\t\treturn __( 'Save' );\n\t\t}\n\t\t// TODO: this is because \"Submit for review\" string is too long in some languages.\n\t\t// @see https://github.com/WordPress/gutenberg/issues/10475\n\t\treturn isSmallerThanMediumViewport\n\t\t\t? __( 'Publish' )\n\t\t\t: __( 'Submit for Review' );\n\t}\n\tif (\n\t\thasNonPostEntityChanges ||\n\t\tisPublished ||\n\t\t( postStatusHasChanged &&\n\t\t\t! [ 'future', 'publish' ].includes( postStatus ) ) ||\n\t\t( ! postStatusHasChanged && postStatus === 'future' )\n\t) {\n\t\treturn __( 'Save' );\n\t}\n\tif ( isBeingScheduled ) {\n\t\treturn __( 'Schedule' );\n\t}\n\treturn __( 'Publish' );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport {\n\tButton,\n\tSpinner,\n\tCheckboxControl,\n\twithFocusReturn,\n\twithConstrainedTabbing,\n} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { closeSmall } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostPublishButton from '../post-publish-button';\nimport PostPublishPanelPrepublish from './prepublish';\nimport PostPublishPanelPostpublish from './postpublish';\nimport { store as editorStore } from '../../store';\n\nexport class PostPublishPanel extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onSubmit = this.onSubmit.bind( this );\n\t\tthis.cancelButtonNode = createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\t// This timeout is necessary to make sure the `useEffect` hook of\n\t\t// `useFocusReturn` gets the correct element (the button that opens the\n\t\t// PostPublishPanel) otherwise it will get this button.\n\t\tthis.timeoutID = setTimeout( () => {\n\t\t\tthis.cancelButtonNode.current.focus();\n\t\t}, 0 );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout( this.timeoutID );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\t// Automatically collapse the publish sidebar when a post\n\t\t// is published and the user makes an edit.\n\t\tif (\n\t\t\t( prevProps.isPublished &&\n\t\t\t\t! this.props.isSaving &&\n\t\t\t\tthis.props.isDirty ) ||\n\t\t\tthis.props.currentPostId !== prevProps.currentPostId\n\t\t) {\n\t\t\tthis.props.onClose();\n\t\t}\n\t}\n\n\tonSubmit() {\n\t\tconst { onClose, hasPublishAction, isPostTypeViewable } = this.props;\n\t\tif ( ! hasPublishAction || ! isPostTypeViewable ) {\n\t\t\tonClose();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tforceIsDirty,\n\t\t\tisBeingScheduled,\n\t\t\tisPublished,\n\t\t\tisPublishSidebarEnabled,\n\t\t\tisScheduled,\n\t\t\tisSaving,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t\tonClose,\n\t\t\tonTogglePublishSidebar,\n\t\t\tPostPublishExtension,\n\t\t\tPrePublishExtension,\n\t\t\tcurrentPostId,\n\t\t\t...additionalProps\n\t\t} = this.props;\n\t\tconst {\n\t\t\thasPublishAction,\n\t\t\tisDirty,\n\t\t\tisPostTypeViewable,\n\t\t\t...propsForPanel\n\t\t} = additionalProps;\n\t\tconst isPublishedOrScheduled =\n\t\t\tisPublished || ( isScheduled && isBeingScheduled );\n\t\tconst isPrePublish = ! isPublishedOrScheduled && ! isSaving;\n\t\tconst isPostPublish = isPublishedOrScheduled && ! isSaving;\n\t\treturn (\n\t\t\t<div className=\"editor-post-publish-panel\" { ...propsForPanel }>\n\t\t\t\t<div className=\"editor-post-publish-panel__header\">\n\t\t\t\t\t{ isPostPublish ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\t\tlabel={ __( 'Close panel' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"editor-post-publish-panel__header-cancel-button\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tref={ this.cancelButtonNode }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\tdisabled={ isSavingNonPostEntityChanges }\n\t\t\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"editor-post-publish-panel__header-publish-button\">\n\t\t\t\t\t\t\t\t<PostPublishButton\n\t\t\t\t\t\t\t\t\tonSubmit={ this.onSubmit }\n\t\t\t\t\t\t\t\t\tforceIsDirty={ forceIsDirty }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"editor-post-publish-panel__content\">\n\t\t\t\t\t{ isPrePublish && (\n\t\t\t\t\t\t<PostPublishPanelPrepublish>\n\t\t\t\t\t\t\t{ PrePublishExtension && <PrePublishExtension /> }\n\t\t\t\t\t\t</PostPublishPanelPrepublish>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isPostPublish && (\n\t\t\t\t\t\t<PostPublishPanelPostpublish focusOnMount>\n\t\t\t\t\t\t\t{ PostPublishExtension && <PostPublishExtension /> }\n\t\t\t\t\t\t</PostPublishPanelPostpublish>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isSaving && <Spinner /> }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"editor-post-publish-panel__footer\">\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={ __( 'Always show pre-publish checks.' ) }\n\t\t\t\t\t\tchecked={ isPublishSidebarEnabled }\n\t\t\t\t\t\tonChange={ onTogglePublishSidebar }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * Renders a panel for publishing a post.\n */\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst {\n\t\t\tgetCurrentPost,\n\t\t\tgetCurrentPostId,\n\t\t\tgetEditedPostAttribute,\n\t\t\tisCurrentPostPublished,\n\t\t\tisCurrentPostScheduled,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tisEditedPostDirty,\n\t\t\tisAutosavingPost,\n\t\t\tisSavingPost,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t} = select( editorStore );\n\t\tconst { isPublishSidebarEnabled } = select( editorStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tisPostTypeViewable: postType?.viewable,\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisDirty: isEditedPostDirty(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisPublishSidebarEnabled: isPublishSidebarEnabled(),\n\t\t\tisSaving: isSavingPost() && ! isAutosavingPost(),\n\t\t\tisSavingNonPostEntityChanges: isSavingNonPostEntityChanges(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t\tcurrentPostId: getCurrentPostId(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { isPublishSidebarEnabled } ) => {\n\t\tconst { disablePublishSidebar, enablePublishSidebar } =\n\t\t\tdispatch( editorStore );\n\t\treturn {\n\t\t\tonTogglePublishSidebar: () => {\n\t\t\t\tif ( isPublishSidebarEnabled ) {\n\t\t\t\t\tdisablePublishSidebar();\n\t\t\t\t} else {\n\t\t\t\t\tenablePublishSidebar();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n\twithFocusReturn,\n\twithConstrainedTabbing,\n] )( PostPublishPanel );\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, PanelBody } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { wordpress } from '@wordpress/icons';\nimport { filterURLForDisplay } from '@wordpress/url';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport PostVisibility from '../post-visibility';\nimport PostVisibilityLabel from '../post-visibility/label';\nimport PostSchedule from '../post-schedule';\nimport PostScheduleLabel from '../post-schedule/label';\nimport MaybeTagsPanel from './maybe-tags-panel';\nimport MaybePostFormatPanel from './maybe-post-format-panel';\nimport { store as editorStore } from '../../store';\nimport MaybeCategoryPanel from './maybe-category-panel';\nimport MaybeUploadMedia from './maybe-upload-media';\n\nfunction PostPublishPanelPrepublish( { children } ) {\n\tconst {\n\t\tisBeingScheduled,\n\t\tisRequestingSiteIcon,\n\t\thasPublishAction,\n\t\tsiteIconUrl,\n\t\tsiteTitle,\n\t\tsiteHome,\n\t} = useSelect( ( select ) => {\n\t\tconst { getCurrentPost, isEditedPostBeingScheduled } =\n\t\t\tselect( editorStore );\n\t\tconst { getEntityRecord, isResolving } = select( coreStore );\n\t\tconst siteData =\n\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisRequestingSiteIcon: isResolving( 'getEntityRecord', [\n\t\t\t\t'root',\n\t\t\t\t'__unstableBase',\n\t\t\t\tundefined,\n\t\t\t] ),\n\t\t\tsiteIconUrl: siteData.site_icon_url,\n\t\t\tsiteTitle: siteData.name,\n\t\t\tsiteHome: siteData.home && filterURLForDisplay( siteData.home ),\n\t\t};\n\t}, [] );\n\n\tlet siteIcon = (\n\t\t<Icon className=\"components-site-icon\" size=\"36px\" icon={ wordpress } />\n\t);\n\n\tif ( siteIconUrl ) {\n\t\tsiteIcon = (\n\t\t\t<img\n\t\t\t\talt={ __( 'Site Icon' ) }\n\t\t\t\tclassName=\"components-site-icon\"\n\t\t\t\tsrc={ siteIconUrl }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( isRequestingSiteIcon ) {\n\t\tsiteIcon = null;\n\t}\n\n\tlet prePublishTitle, prePublishBodyText;\n\n\tif ( ! hasPublishAction ) {\n\t\tprePublishTitle = __( 'Are you ready to submit for review?' );\n\t\tprePublishBodyText = __(\n\t\t\t'Your work will be reviewed and then approved.'\n\t\t);\n\t} else if ( isBeingScheduled ) {\n\t\tprePublishTitle = __( 'Are you ready to schedule?' );\n\t\tprePublishBodyText = __(\n\t\t\t'Your work will be published at the specified date and time.'\n\t\t);\n\t} else {\n\t\tprePublishTitle = __( 'Are you ready to publish?' );\n\t\tprePublishBodyText = __(\n\t\t\t'Double-check your settings before publishing.'\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"editor-post-publish-panel__prepublish\">\n\t\t\t<div>\n\t\t\t\t<strong>{ prePublishTitle }</strong>\n\t\t\t</div>\n\t\t\t<p>{ prePublishBodyText }</p>\n\t\t\t<div className=\"components-site-card\">\n\t\t\t\t{ siteIcon }\n\t\t\t\t<div className=\"components-site-info\">\n\t\t\t\t\t<span className=\"components-site-name\">\n\t\t\t\t\t\t{ decodeEntities( siteTitle ) || __( '(Untitled)' ) }\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"components-site-home\">{ siteHome }</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<MaybeUploadMedia />\n\t\t\t{ hasPublishAction && (\n\t\t\t\t<>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\ttitle={ [\n\t\t\t\t\t\t\t__( 'Visibility:' ),\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"editor-post-publish-panel__link\"\n\t\t\t\t\t\t\t\tkey=\"label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PostVisibilityLabel />\n\t\t\t\t\t\t\t</span>,\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostVisibility />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\ttitle={ [\n\t\t\t\t\t\t\t__( 'Publish:' ),\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"editor-post-publish-panel__link\"\n\t\t\t\t\t\t\t\tkey=\"label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PostScheduleLabel />\n\t\t\t\t\t\t\t</span>,\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostSchedule />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<MaybePostFormatPanel />\n\t\t\t<MaybeTagsPanel />\n\t\t\t<MaybeCategoryPanel />\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default PostPublishPanelPrepublish;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport {\n\tTextControl,\n\tRadioControl,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { VISIBILITY_OPTIONS } from './utils';\nimport { store as editorStore } from '../../store';\n\n/**\n * Allows users to set the visibility of a post.\n *\n * @param {Object}   props         The component props.\n * @param {Function} props.onClose Function to call when the popover is closed.\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PostVisibility( { onClose } ) {\n\tconst instanceId = useInstanceId( PostVisibility );\n\n\tconst { status, visibility, password } = useSelect( ( select ) => ( {\n\t\tstatus: select( editorStore ).getEditedPostAttribute( 'status' ),\n\t\tvisibility: select( editorStore ).getEditedPostVisibility(),\n\t\tpassword: select( editorStore ).getEditedPostAttribute( 'password' ),\n\t} ) );\n\n\tconst { editPost } = useDispatch( editorStore );\n\n\tconst [ hasPassword, setHasPassword ] = useState( !! password );\n\n\tfunction updateVisibility( value ) {\n\t\tconst nextValues = {\n\t\t\tpublic: {\n\t\t\t\tstatus: visibility === 'private' ? 'draft' : status,\n\t\t\t\tpassword: '',\n\t\t\t},\n\t\t\tprivate: { status: 'private', password: '' },\n\t\t\tpassword: {\n\t\t\t\tstatus: visibility === 'private' ? 'draft' : status,\n\t\t\t\tpassword: password || '',\n\t\t\t},\n\t\t};\n\n\t\teditPost( nextValues[ value ] );\n\t\tsetHasPassword( value === 'password' );\n\t}\n\n\tconst updatePassword = ( value ) => {\n\t\teditPost( { password: value } );\n\t};\n\n\treturn (\n\t\t<div className=\"editor-post-visibility\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Visibility' ) }\n\t\t\t\thelp={ __( 'Control how this post is viewed.' ) }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<RadioControl\n\t\t\t\t\tlabel={ __( 'Visibility' ) }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\toptions={ VISIBILITY_OPTIONS }\n\t\t\t\t\tselected={ hasPassword ? 'password' : visibility }\n\t\t\t\t\tonChange={ updateVisibility }\n\t\t\t\t/>\n\t\t\t\t{ hasPassword && (\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Password' ) }\n\t\t\t\t\t\tonChange={ updatePassword }\n\t\t\t\t\t\tvalue={ password }\n\t\t\t\t\t\tplaceholder={ __( 'Use a secure password' ) }\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tid={ `editor-post-visibility__password-input-${ instanceId }` }\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tmaxLength={ 255 }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const VISIBILITY_OPTIONS = [\n\t{\n\t\tlabel: __( 'Public' ),\n\t\tvalue: 'public',\n\t\tdescription: __( 'Visible to everyone.' ),\n\t},\n\t{\n\t\tlabel: __( 'Private' ),\n\t\tvalue: 'private',\n\t\tdescription: __( 'Only visible to site admins and editors.' ),\n\t},\n\t{\n\t\tlabel: __( 'Password protected' ),\n\t\tvalue: 'password',\n\t\tdescription: __( 'Only visible to those who know the password.' ),\n\t},\n];\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { VISIBILITY_OPTIONS } from './utils';\nimport { store as editorStore } from '../../store';\n\n/**\n * Returns the label for the current post visibility setting.\n *\n * @return {string} Post visibility label.\n */\nexport default function PostVisibilityLabel() {\n\treturn usePostVisibilityLabel();\n}\n\n/**\n * Get the label for the current post visibility setting.\n *\n * @return {string} Post visibility label.\n */\nexport function usePostVisibilityLabel() {\n\tconst visibility = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostVisibility(),\n\t\t[]\n\t);\n\n\treturn VISIBILITY_OPTIONS.find( ( option ) => option.value === visibility )\n\t\t?.label;\n}\n", "/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n", "/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date) {\n  const _date = toDate(date);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n", "import { millisecondsInHour, millisecondsInMinute } from \"./constants.mjs\";\n\n/**\n * The {@link parseISO} function options.\n */\n\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n * @param options - An object with options\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport function parseISO(argument, options) {\n  const additionalDigits = options?.additionalDigits ?? 2;\n  const dateStrings = splitDateString(argument);\n\n  let date;\n  if (dateStrings.date) {\n    const parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(date.getTime())) {\n    return new Date(NaN);\n  }\n\n  const timestamp = date.getTime();\n  let time = 0;\n  let offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    const dirtyDate = new Date(timestamp + time);\n    // JS parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n    const result = new Date(0);\n    result.setFullYear(\n      dirtyDate.getUTCFullYear(),\n      dirtyDate.getUTCMonth(),\n      dirtyDate.getUTCDate(),\n    );\n    result.setHours(\n      dirtyDate.getUTCHours(),\n      dirtyDate.getUTCMinutes(),\n      dirtyDate.getUTCSeconds(),\n      dirtyDate.getUTCMilliseconds(),\n    );\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\n\nconst patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/,\n};\n\nconst dateRegex =\n  /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nconst timeRegex =\n  /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nconst timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  const dateStrings = {};\n  const array = dateString.split(patterns.dateTimeDelimiter);\n  let timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(\n        dateStrings.date.length,\n        dateString.length,\n      );\n    }\n  }\n\n  if (timeString) {\n    const token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], \"\");\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  const regex = new RegExp(\n    \"^(?:(\\\\d{4}|[+-]\\\\d{\" +\n      (4 + additionalDigits) +\n      \"})|(\\\\d{2}|[+-]\\\\d{\" +\n      (2 + additionalDigits) +\n      \"})$)\",\n  );\n\n  const captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return { year: NaN, restDateString: \"\" };\n\n  const year = captures[1] ? parseInt(captures[1]) : null;\n  const century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length),\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n\n  const captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n\n  const isWeekDate = !!captures[4];\n  const dayOfYear = parseDateUnit(captures[1]);\n  const month = parseDateUnit(captures[2]) - 1;\n  const day = parseDateUnit(captures[3]);\n  const week = parseDateUnit(captures[4]);\n  const dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    const date = new Date(0);\n    if (\n      !validateDate(year, month, day) ||\n      !validateDayOfYearDate(year, dayOfYear)\n    ) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  const captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  const hours = parseTimeUnit(captures[1]);\n  const minutes = parseTimeUnit(captures[2]);\n  const seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return (\n    hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000\n  );\n}\n\nfunction parseTimeUnit(value) {\n  return (value && parseFloat(value.replace(\",\", \".\"))) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === \"Z\") return 0;\n\n  const captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n\n  const sign = captures[1] === \"+\" ? -1 : 1;\n  const hours = parseInt(captures[2]);\n  const minutes = (captures[3] && parseInt(captures[3])) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  const date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  const fourthOfJanuaryDay = date.getUTCDay() || 7;\n  const diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nconst daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n\nfunction validateDate(year, month, date) {\n  return (\n    month >= 0 &&\n    month <= 11 &&\n    date >= 1 &&\n    date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28))\n  );\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return (\n    seconds >= 0 &&\n    seconds < 60 &&\n    minutes >= 0 &&\n    minutes < 60 &&\n    hours >= 0 &&\n    hours < 25\n  );\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n// Fallback for modularized imports:\nexport default parseISO;\n", "/**\n * External dependencies\n */\nimport { parseISO, endOfMonth, startOfMonth } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport { getSettings } from '@wordpress/date';\nimport { _x } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useState, useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst { PrivatePublishDateTimePicker } = unlock( blockEditorPrivateApis );\n\n/**\n * Renders the PostSchedule component. It allows the user to schedule a post.\n *\n * @param {Object}   props         Props.\n * @param {Function} props.onClose Function to close the component.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PostSchedule( props ) {\n\treturn (\n\t\t<PrivatePostSchedule\n\t\t\t{ ...props }\n\t\t\tshowPopoverHeaderActions\n\t\t\tisCompact={ false }\n\t\t/>\n\t);\n}\n\nexport function PrivatePostSchedule( {\n\tonClose,\n\tshowPopoverHeaderActions,\n\tisCompact,\n} ) {\n\tconst { postDate, postType } = useSelect(\n\t\t( select ) => ( {\n\t\t\tpostDate: select( editorStore ).getEditedPostAttribute( 'date' ),\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t} ),\n\t\t[]\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst onUpdateDate = ( date ) => editPost( { date } );\n\n\tconst [ previewedMonth, setPreviewedMonth ] = useState(\n\t\tstartOfMonth( new Date( postDate ) )\n\t);\n\n\t// Pick up published and scheduled site posts.\n\tconst eventsByPostType = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords( 'postType', postType, {\n\t\t\t\tstatus: 'publish,future',\n\t\t\t\tafter: startOfMonth( previewedMonth ).toISOString(),\n\t\t\t\tbefore: endOfMonth( previewedMonth ).toISOString(),\n\t\t\t\texclude: [ select( editorStore ).getCurrentPostId() ],\n\t\t\t\tper_page: 100,\n\t\t\t\t_fields: 'id,date',\n\t\t\t} ),\n\t\t[ previewedMonth, postType ]\n\t);\n\n\tconst events = useMemo(\n\t\t() =>\n\t\t\t( eventsByPostType || [] ).map( ( { date: eventDate } ) => ( {\n\t\t\t\tdate: new Date( eventDate ),\n\t\t\t} ) ),\n\t\t[ eventsByPostType ]\n\t);\n\n\tconst settings = getSettings();\n\n\t// To know if the current timezone is a 12 hour time with look for \"a\" in the time format\n\t// We also make sure this a is not escaped by a \"/\"\n\tconst is12HourTime = /a(?!\\\\)/i.test(\n\t\tsettings.formats.time\n\t\t\t.toLowerCase() // Test only the lower case a.\n\t\t\t.replace( /\\\\\\\\/g, '' ) // Replace \"//\" with empty strings.\n\t\t\t.split( '' )\n\t\t\t.reverse()\n\t\t\t.join( '' ) // Reverse the string and test for \"a\" not followed by a slash.\n\t);\n\n\treturn (\n\t\t<PrivatePublishDateTimePicker\n\t\t\tcurrentDate={ postDate }\n\t\t\tonChange={ onUpdateDate }\n\t\t\tis12Hour={ is12HourTime }\n\t\t\tdateOrder={\n\t\t\t\t/* translators: Order of day, month, and year. Available formats are 'dmy', 'mdy', and 'ymd'. */\n\t\t\t\t_x( 'dmy', 'date order' )\n\t\t\t}\n\t\t\tevents={ events }\n\t\t\tonMonthPreviewed={ ( date ) =>\n\t\t\t\tsetPreviewedMonth( parseISO( date ) )\n\t\t\t}\n\t\t\tonClose={ onClose }\n\t\t\tisCompact={ isCompact }\n\t\t\tshowPopoverHeaderActions={ showPopoverHeaderActions }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf, isRTL } from '@wordpress/i18n';\nimport { getSettings, getDate, dateI18n } from '@wordpress/date';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the PostScheduleLabel component.\n *\n * @param {Object} props Props.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PostScheduleLabel( props ) {\n\treturn usePostScheduleLabel( props );\n}\n\n/**\n * Custom hook to get the label for post schedule.\n *\n * @param {Object}  options      Options for the hook.\n * @param {boolean} options.full Whether to get the full label or not. Default is false.\n *\n * @return {string} The label for post schedule.\n */\nexport function usePostScheduleLabel( { full = false } = {} ) {\n\tconst { date, isFloating } = useSelect(\n\t\t( select ) => ( {\n\t\t\tdate: select( editorStore ).getEditedPostAttribute( 'date' ),\n\t\t\tisFloating: select( editorStore ).isEditedPostDateFloating(),\n\t\t} ),\n\t\t[]\n\t);\n\n\treturn full\n\t\t? getFullPostScheduleLabel( date )\n\t\t: getPostScheduleLabel( date, { isFloating } );\n}\n\nexport function getFullPostScheduleLabel( dateAttribute ) {\n\tconst date = getDate( dateAttribute );\n\n\tconst timezoneAbbreviation = getTimezoneAbbreviation();\n\tconst formattedDate = dateI18n(\n\t\t// translators: Use a non-breaking space between 'g:i' and 'a' if appropriate.\n\t\t_x( 'F j, Y g:i\\xa0a', 'post schedule full date format' ),\n\t\tdate\n\t);\n\treturn isRTL()\n\t\t? `${ timezoneAbbreviation } ${ formattedDate }`\n\t\t: `${ formattedDate } ${ timezoneAbbreviation }`;\n}\n\nexport function getPostScheduleLabel(\n\tdateAttribute,\n\t{ isFloating = false, now = new Date() } = {}\n) {\n\tif ( ! dateAttribute || isFloating ) {\n\t\treturn __( 'Immediately' );\n\t}\n\n\t// If the user timezone does not equal the site timezone then using words\n\t// like 'tomorrow' is confusing, so show the full date.\n\tif ( ! isTimezoneSameAsSiteTimezone( now ) ) {\n\t\treturn getFullPostScheduleLabel( dateAttribute );\n\t}\n\n\tconst date = getDate( dateAttribute );\n\n\tif ( isSameDay( date, now ) ) {\n\t\treturn sprintf(\n\t\t\t// translators: %s: Time of day the post is scheduled for.\n\t\t\t__( 'Today at %s' ),\n\t\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t\tdateI18n( _x( 'g:i\\xa0a', 'post schedule time format' ), date )\n\t\t);\n\t}\n\n\tconst tomorrow = new Date( now );\n\ttomorrow.setDate( tomorrow.getDate() + 1 );\n\n\tif ( isSameDay( date, tomorrow ) ) {\n\t\treturn sprintf(\n\t\t\t// translators: %s: Time of day the post is scheduled for.\n\t\t\t__( 'Tomorrow at %s' ),\n\t\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t\tdateI18n( _x( 'g:i\\xa0a', 'post schedule time format' ), date )\n\t\t);\n\t}\n\n\tif ( date.getFullYear() === now.getFullYear() ) {\n\t\treturn dateI18n(\n\t\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t\t_x( 'F j g:i\\xa0a', 'post schedule date format without year' ),\n\t\t\tdate\n\t\t);\n\t}\n\n\treturn dateI18n(\n\t\t// translators: Use a non-breaking space between 'g:i' and 'a' if appropriate.\n\t\t_x( 'F j, Y g:i\\xa0a', 'post schedule full date format' ),\n\t\tdate\n\t);\n}\n\nfunction getTimezoneAbbreviation() {\n\tconst { timezone } = getSettings();\n\n\tif ( timezone.abbr && isNaN( Number( timezone.abbr ) ) ) {\n\t\treturn timezone.abbr;\n\t}\n\n\tconst symbol = timezone.offset < 0 ? '' : '+';\n\treturn `UTC${ symbol }${ timezone.offsetFormatted }`;\n}\n\nfunction isTimezoneSameAsSiteTimezone( date ) {\n\tconst { timezone } = getSettings();\n\n\tconst siteOffset = Number( timezone.offset );\n\tconst dateOffset = -1 * ( date.getTimezoneOffset() / 60 );\n\treturn siteOffset === dateOffset;\n}\n\nfunction isSameDay( left, right ) {\n\treturn (\n\t\tleft.getDate() === right.getDate() &&\n\t\tleft.getMonth() === right.getMonth() &&\n\t\tleft.getFullYear() === right.getFullYear()\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport FlatTermSelector from '../post-taxonomies/flat-term-selector';\nimport { store as editorStore } from '../../store';\n\nconst TagsPanel = () => {\n\tconst tagLabels = useSelect( ( select ) => {\n\t\tconst taxonomy = select( coreStore ).getTaxonomy( 'post_tag' );\n\t\treturn taxonomy?.labels;\n\t}, [] );\n\n\tconst addNewItem = tagLabels?.add_new_item ?? __( 'Add tag' );\n\tconst tagLabel = tagLabels?.name ?? __( 'Tags' );\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ addNewItem }\n\t\t</span>,\n\t];\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: %s is the taxonomy name (e.g., \"Tags\").\n\t\t\t\t\t__(\n\t\t\t\t\t\t'%s help users and search engines navigate your site and find your content. Add a few keywords to describe your post.'\n\t\t\t\t\t),\n\t\t\t\t\ttagLabel\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<FlatTermSelector slug=\"post_tag\" />\n\t\t</PanelBody>\n\t);\n};\n\nconst MaybeTagsPanel = () => {\n\tconst { postHasTags, siteHasTags, isPostTypeSupported } = useSelect(\n\t\t( select ) => {\n\t\t\tconst postType = select( editorStore ).getCurrentPostType();\n\t\t\tconst tagsTaxonomy = select( coreStore ).getEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'taxonomy',\n\t\t\t\t'post_tag'\n\t\t\t);\n\t\t\tconst _isPostTypeSupported =\n\t\t\t\ttagsTaxonomy?.types?.includes( postType );\n\t\t\tconst areTagsFetched = tagsTaxonomy !== undefined;\n\t\t\tconst tags =\n\t\t\t\ttagsTaxonomy &&\n\t\t\t\tselect( editorStore ).getEditedPostAttribute(\n\t\t\t\t\ttagsTaxonomy.rest_base\n\t\t\t\t);\n\t\t\tconst siteTags = _isPostTypeSupported\n\t\t\t\t? !! select( coreStore ).getEntityRecords(\n\t\t\t\t\t\t'taxonomy',\n\t\t\t\t\t\t'post_tag',\n\t\t\t\t\t\t{ per_page: 1 }\n\t\t\t\t  )?.length\n\t\t\t\t: false;\n\n\t\t\treturn {\n\t\t\t\tpostHasTags: !! tags?.length,\n\t\t\t\tsiteHasTags: siteTags,\n\t\t\t\tisPostTypeSupported: areTagsFetched && _isPostTypeSupported,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst [ hadTagsWhenOpeningThePanel ] = useState( postHasTags );\n\n\t/**\n\t * We only want to show the tag panel if the post type supports\n\t * tags and the site has tags.\n\t */\n\tif ( ! isPostTypeSupported || ! siteHasTags ) {\n\t\treturn null;\n\t}\n\n\t/*\n\t * We only want to show the tag panel if the post didn't have\n\t * any tags when the user hit the Publish button.\n\t *\n\t * We can't use the prop.postHasTags because it'll change to true\n\t * if the user adds a new tag within the pre-publish panel.\n\t * This would force a re-render and a new prop.postHasTags check,\n\t * hiding this panel and keeping the user from adding\n\t * more than one tag.\n\t */\n\tif ( ! hadTagsWhenOpeningThePanel ) {\n\t\treturn <TagsPanel />;\n\t}\n\n\treturn null;\n};\n\nexport default MaybeTagsPanel;\n", "/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useEffect, useMemo, useState } from '@wordpress/element';\nimport {\n\tFormTokenField,\n\twithFilters,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useDebounce } from '@wordpress/compose';\nimport { speak } from '@wordpress/a11y';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unescapeString, unescapeTerm } from '../../utils/terms';\nimport MostUsedTerms from './most-used-terms';\n\n/**\n * Shared reference to an empty array for cases where it is important to avoid\n * returning a new array reference on every invocation.\n *\n * @type {Array<any>}\n */\nconst EMPTY_ARRAY = [];\n\n/**\n * How the max suggestions limit was chosen:\n *  - Matches the `per_page` range set by the REST API.\n *  - Can't use \"unbound\" query. The `FormTokenField` needs a fixed number.\n *  - Matches default for `FormTokenField`.\n */\nconst MAX_TERMS_SUGGESTIONS = 100;\nconst DEFAULT_QUERY = {\n\tper_page: MAX_TERMS_SUGGESTIONS,\n\t_fields: 'id,name',\n\tcontext: 'view',\n};\n\nconst isSameTermName = ( termA, termB ) =>\n\tunescapeString( termA ).toLowerCase() ===\n\tunescapeString( termB ).toLowerCase();\n\nconst termNamesToIds = ( names, terms ) => {\n\treturn names\n\t\t.map(\n\t\t\t( termName ) =>\n\t\t\t\tterms.find( ( term ) => isSameTermName( term.name, termName ) )\n\t\t\t\t\t?.id\n\t\t)\n\t\t.filter( ( id ) => id !== undefined );\n};\n\n/**\n * Renders a flat term selector component.\n *\n * @param {Object} props      The component props.\n * @param {string} props.slug The slug of the taxonomy.\n *\n * @return {React.ReactNode} The rendered flat term selector component.\n */\nexport function FlatTermSelector( { slug } ) {\n\tconst [ values, setValues ] = useState( [] );\n\tconst [ search, setSearch ] = useState( '' );\n\tconst debouncedSearch = useDebounce( setSearch, 500 );\n\n\tconst {\n\t\tterms,\n\t\ttermIds,\n\t\ttaxonomy,\n\t\thasAssignAction,\n\t\thasCreateAction,\n\t\thasResolvedTerms,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPost, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getEntityRecords, getEntityRecord, hasFinishedResolution } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst post = getCurrentPost();\n\t\t\tconst _taxonomy = getEntityRecord( 'root', 'taxonomy', slug );\n\t\t\tconst _termIds = _taxonomy\n\t\t\t\t? getEditedPostAttribute( _taxonomy.rest_base )\n\t\t\t\t: EMPTY_ARRAY;\n\n\t\t\tconst query = {\n\t\t\t\t...DEFAULT_QUERY,\n\t\t\t\tinclude: _termIds?.join( ',' ),\n\t\t\t\tper_page: -1,\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\thasCreateAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-create-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\thasAssignAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-assign-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\ttaxonomy: _taxonomy,\n\t\t\t\ttermIds: _termIds,\n\t\t\t\tterms: _termIds?.length\n\t\t\t\t\t? getEntityRecords( 'taxonomy', slug, query )\n\t\t\t\t\t: EMPTY_ARRAY,\n\t\t\t\thasResolvedTerms: hasFinishedResolution( 'getEntityRecords', [\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\tslug,\n\t\t\t\t\tquery,\n\t\t\t\t] ),\n\t\t\t};\n\t\t},\n\t\t[ slug ]\n\t);\n\n\tconst { searchResults } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecords } = select( coreStore );\n\n\t\t\treturn {\n\t\t\t\tsearchResults: !! search\n\t\t\t\t\t? getEntityRecords( 'taxonomy', slug, {\n\t\t\t\t\t\t\t...DEFAULT_QUERY,\n\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t  } )\n\t\t\t\t\t: EMPTY_ARRAY,\n\t\t\t};\n\t\t},\n\t\t[ search, slug ]\n\t);\n\n\t// Update terms state only after the selectors are resolved.\n\t// We're using this to avoid terms temporarily disappearing on slow networks\n\t// while core data makes REST API requests.\n\tuseEffect( () => {\n\t\tif ( hasResolvedTerms ) {\n\t\t\tconst newValues = ( terms ?? [] ).map( ( term ) =>\n\t\t\t\tunescapeString( term.name )\n\t\t\t);\n\n\t\t\tsetValues( newValues );\n\t\t}\n\t}, [ terms, hasResolvedTerms ] );\n\n\tconst suggestions = useMemo( () => {\n\t\treturn ( searchResults ?? [] ).map( ( term ) =>\n\t\t\tunescapeString( term.name )\n\t\t);\n\t}, [ searchResults ] );\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tif ( ! hasAssignAction ) {\n\t\treturn null;\n\t}\n\n\tasync function findOrCreateTerm( term ) {\n\t\ttry {\n\t\t\tconst newTerm = await saveEntityRecord( 'taxonomy', slug, term, {\n\t\t\t\tthrowOnError: true,\n\t\t\t} );\n\t\t\treturn unescapeTerm( newTerm );\n\t\t} catch ( error ) {\n\t\t\tif ( error.code !== 'term_exists' ) {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: error.data.term_id,\n\t\t\t\tname: term.name,\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction onUpdateTerms( newTermIds ) {\n\t\teditPost( { [ taxonomy.rest_base ]: newTermIds } );\n\t}\n\n\tfunction onChange( termNames ) {\n\t\tconst availableTerms = [\n\t\t\t...( terms ?? [] ),\n\t\t\t...( searchResults ?? [] ),\n\t\t];\n\t\tconst uniqueTerms = termNames.reduce( ( acc, name ) => {\n\t\t\tif (\n\t\t\t\t! acc.some( ( n ) => n.toLowerCase() === name.toLowerCase() )\n\t\t\t) {\n\t\t\t\tacc.push( name );\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, [] );\n\n\t\tconst newTermNames = uniqueTerms.filter(\n\t\t\t( termName ) =>\n\t\t\t\t! availableTerms.find( ( term ) =>\n\t\t\t\t\tisSameTermName( term.name, termName )\n\t\t\t\t)\n\t\t);\n\n\t\t// Optimistically update term values.\n\t\t// The selector will always re-fetch terms later.\n\t\tsetValues( uniqueTerms );\n\n\t\tif ( newTermNames.length === 0 ) {\n\t\t\tonUpdateTerms( termNamesToIds( uniqueTerms, availableTerms ) );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! hasCreateAction ) {\n\t\t\treturn;\n\t\t}\n\n\t\tPromise.all(\n\t\t\tnewTermNames.map( ( termName ) =>\n\t\t\t\tfindOrCreateTerm( { name: termName } )\n\t\t\t)\n\t\t)\n\t\t\t.then( ( newTerms ) => {\n\t\t\t\tconst newAvailableTerms = availableTerms.concat( newTerms );\n\t\t\t\tonUpdateTerms(\n\t\t\t\t\ttermNamesToIds( uniqueTerms, newAvailableTerms )\n\t\t\t\t);\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tcreateErrorNotice( error.message, {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t\t// In case of a failure, try assigning available terms.\n\t\t\t\t// This will invalidate the optimistic update.\n\t\t\t\tonUpdateTerms( termNamesToIds( uniqueTerms, availableTerms ) );\n\t\t\t} );\n\t}\n\n\tfunction appendTerm( newTerm ) {\n\t\tif ( termIds.includes( newTerm.id ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newTermIds = [ ...termIds, newTerm.id ];\n\t\tconst defaultName = slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' );\n\t\tconst termAddedMessage = sprintf(\n\t\t\t/* translators: %s: term name. */\n\t\t\t_x( '%s added', 'term' ),\n\t\t\ttaxonomy?.labels?.singular_name ?? defaultName\n\t\t);\n\n\t\tspeak( termAddedMessage, 'assertive' );\n\t\tonUpdateTerms( newTermIds );\n\t}\n\n\tconst newTermLabel =\n\t\ttaxonomy?.labels?.add_new_item ??\n\t\t( slug === 'post_tag' ? __( 'Add Tag' ) : __( 'Add Term' ) );\n\tconst singularName =\n\t\ttaxonomy?.labels?.singular_name ??\n\t\t( slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' ) );\n\tconst termAddedLabel = sprintf(\n\t\t/* translators: %s: term name. */\n\t\t_x( '%s added', 'term' ),\n\t\tsingularName\n\t);\n\tconst termRemovedLabel = sprintf(\n\t\t/* translators: %s: term name. */\n\t\t_x( '%s removed', 'term' ),\n\t\tsingularName\n\t);\n\tconst removeTermLabel = sprintf(\n\t\t/* translators: %s: term name. */\n\t\t_x( 'Remove %s', 'term' ),\n\t\tsingularName\n\t);\n\n\treturn (\n\t\t<VStack spacing={ 4 }>\n\t\t\t<FormTokenField\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tvalue={ values }\n\t\t\t\tsuggestions={ suggestions }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tonInputChange={ debouncedSearch }\n\t\t\t\tmaxSuggestions={ MAX_TERMS_SUGGESTIONS }\n\t\t\t\tlabel={ newTermLabel }\n\t\t\t\tmessages={ {\n\t\t\t\t\tadded: termAddedLabel,\n\t\t\t\t\tremoved: termRemovedLabel,\n\t\t\t\t\tremove: removeTermLabel,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<MostUsedTerms taxonomy={ taxonomy } onSelect={ appendTerm } />\n\t\t</VStack>\n\t);\n}\n\nexport default withFilters( 'editor.PostTaxonomyType' )( FlatTermSelector );\n", "/**\n * WordPress dependencies\n */\nimport { BaseControl, Button } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unescapeTerms } from '../../utils/terms';\n\nconst MIN_MOST_USED_TERMS = 3;\nconst DEFAULT_QUERY = {\n\tper_page: 10,\n\torderby: 'count',\n\torder: 'desc',\n\thide_empty: true,\n\t_fields: 'id,name,count',\n\tcontext: 'view',\n};\n\nexport default function MostUsedTerms( { onSelect, taxonomy } ) {\n\tconst { _terms, showTerms } = useSelect(\n\t\t( select ) => {\n\t\t\tconst mostUsedTerms = select( coreStore ).getEntityRecords(\n\t\t\t\t'taxonomy',\n\t\t\t\ttaxonomy.slug,\n\t\t\t\tDEFAULT_QUERY\n\t\t\t);\n\t\t\treturn {\n\t\t\t\t_terms: mostUsedTerms,\n\t\t\t\tshowTerms: mostUsedTerms?.length >= MIN_MOST_USED_TERMS,\n\t\t\t};\n\t\t},\n\t\t[ taxonomy.slug ]\n\t);\n\n\tif ( ! showTerms ) {\n\t\treturn null;\n\t}\n\n\tconst terms = unescapeTerms( _terms );\n\n\treturn (\n\t\t<div className=\"editor-post-taxonomies__flat-term-most-used\">\n\t\t\t<BaseControl.VisualLabel\n\t\t\t\tas=\"h3\"\n\t\t\t\tclassName=\"editor-post-taxonomies__flat-term-most-used-label\"\n\t\t\t>\n\t\t\t\t{ taxonomy.labels.most_used }\n\t\t\t</BaseControl.VisualLabel>\n\t\t\t{ /*\n\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t */\n\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t<ul\n\t\t\t\trole=\"list\"\n\t\t\t\tclassName=\"editor-post-taxonomies__flat-term-most-used-list\"\n\t\t\t>\n\t\t\t\t{ terms.map( ( term ) => (\n\t\t\t\t\t<li key={ term.id }>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\tonClick={ () => onSelect( term ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ term.name }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</li>\n\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Button, PanelBody } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { POST_FORMATS } from '../post-format';\nimport { store as editorStore } from '../../store';\n\nconst getSuggestion = ( supportedFormats, suggestedPostFormat ) => {\n\tconst formats = POST_FORMATS.filter( ( format ) =>\n\t\tsupportedFormats?.includes( format.id )\n\t);\n\treturn formats.find( ( format ) => format.id === suggestedPostFormat );\n};\n\nconst PostFormatSuggestion = ( {\n\tsuggestedPostFormat,\n\tsuggestionText,\n\tonUpdatePostFormat,\n} ) => (\n\t<Button\n\t\t__next40pxDefaultSize\n\t\tvariant=\"link\"\n\t\tonClick={ () => onUpdatePostFormat( suggestedPostFormat ) }\n\t>\n\t\t{ suggestionText }\n\t</Button>\n);\n\nexport default function PostFormatPanel() {\n\tconst { currentPostFormat, suggestion } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getSuggestedPostFormat } =\n\t\t\tselect( editorStore );\n\t\tconst supportedFormats =\n\t\t\tselect( coreStore ).getThemeSupports().formats ?? [];\n\t\treturn {\n\t\t\tcurrentPostFormat: getEditedPostAttribute( 'format' ),\n\t\t\tsuggestion: getSuggestion(\n\t\t\t\tsupportedFormats,\n\t\t\t\tgetSuggestedPostFormat()\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\tconst { editPost } = useDispatch( editorStore );\n\n\tconst onUpdatePostFormat = ( format ) => editPost( { format } );\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'Use a post format' ) }\n\t\t</span>,\n\t];\n\n\tif ( ! suggestion || suggestion.id === currentPostFormat ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Your theme uses post formats to highlight different kinds of content, like images or videos. Apply a post format to see this special styling.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<PostFormatSuggestion\n\t\t\t\t\tonUpdatePostFormat={ onUpdatePostFormat }\n\t\t\t\t\tsuggestedPostFormat={ suggestion.id }\n\t\t\t\t\tsuggestionText={ sprintf(\n\t\t\t\t\t\t/* translators: %1s: post format */\n\t\t\t\t\t\t__( 'Apply the \"%1$s\" format.' ),\n\t\t\t\t\t\tsuggestion.caption\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</p>\n\t\t</PanelBody>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useState, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport HierarchicalTermSelector from '../post-taxonomies/hierarchical-term-selector';\nimport { store as editorStore } from '../../store';\n\nfunction MaybeCategoryPanel() {\n\tconst { hasNoCategory, hasSiteCategories } = useSelect( ( select ) => {\n\t\tconst postType = select( editorStore ).getCurrentPostType();\n\t\tconst { canUser, getEntityRecord } = select( coreStore );\n\t\tconst categoriesTaxonomy = getEntityRecord(\n\t\t\t'root',\n\t\t\t'taxonomy',\n\t\t\t'category'\n\t\t);\n\t\tconst defaultCategoryId = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEntityRecord( 'root', 'site' )?.default_category\n\t\t\t: undefined;\n\t\tconst defaultCategory = defaultCategoryId\n\t\t\t? getEntityRecord( 'taxonomy', 'category', defaultCategoryId )\n\t\t\t: undefined;\n\t\tconst postTypeSupportsCategories =\n\t\t\tcategoriesTaxonomy &&\n\t\t\tcategoriesTaxonomy.types.some( ( type ) => type === postType );\n\t\tconst categories =\n\t\t\tcategoriesTaxonomy &&\n\t\t\tselect( editorStore ).getEditedPostAttribute(\n\t\t\t\tcategoriesTaxonomy.rest_base\n\t\t\t);\n\t\tconst siteCategories = postTypeSupportsCategories\n\t\t\t? !! select( coreStore ).getEntityRecords( 'taxonomy', 'category', {\n\t\t\t\t\texclude: [ defaultCategoryId ],\n\t\t\t\t\tper_page: 1,\n\t\t\t  } )?.length\n\t\t\t: false;\n\n\t\t// This boolean should return true if everything is loaded\n\t\t// ( categoriesTaxonomy, defaultCategory )\n\t\t// and the post has not been assigned a category different than \"uncategorized\".\n\t\tconst noCategory =\n\t\t\t!! categoriesTaxonomy &&\n\t\t\t!! defaultCategory &&\n\t\t\tpostTypeSupportsCategories &&\n\t\t\t( categories?.length === 0 ||\n\t\t\t\t( categories?.length === 1 &&\n\t\t\t\t\tdefaultCategory?.id === categories[ 0 ] ) );\n\n\t\treturn {\n\t\t\thasNoCategory: noCategory,\n\t\t\thasSiteCategories: siteCategories,\n\t\t};\n\t}, [] );\n\n\tconst [ shouldShowPanel, setShouldShowPanel ] = useState( false );\n\tuseEffect( () => {\n\t\t// We use state to avoid hiding the panel if the user edits the categories\n\t\t// and adds one within the panel itself (while visible).\n\t\tif ( hasNoCategory ) {\n\t\t\tsetShouldShowPanel( true );\n\t\t}\n\t}, [ hasNoCategory ] );\n\n\t// We only want to show the category panel:\n\t// if the post type supports categories,\n\t// if the site has categories other than the default category,\n\t// and if the post has no other categories than the default category.\n\tif ( ! shouldShowPanel || ! hasSiteCategories ) {\n\t\treturn null;\n\t}\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'Assign a category' ) }\n\t\t</span>,\n\t];\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Categories provide a helpful way to group related posts together and to quickly tell readers what a post is about.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<HierarchicalTermSelector slug=\"category\" />\n\t\t</PanelBody>\n\t);\n}\n\nexport default MaybeCategoryPanel;\n", "/**\n * WordPress dependencies\n */\nimport { __, _n, _x, sprintf } from '@wordpress/i18n';\nimport { useMemo, useState } from '@wordpress/element';\nimport { store as noticesStore } from '@wordpress/notices';\nimport {\n\tButton,\n\tCheckboxControl,\n\tTextControl,\n\tTreeSelect,\n\twithFilters,\n\tFlex,\n\tFlexItem,\n\tSearchControl,\n\tSpinner,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useDebounce } from '@wordpress/compose';\nimport {\n\tstore as coreStore,\n\tprivateApis as coreDataPrivateApis,\n} from '@wordpress/core-data';\nimport { speak } from '@wordpress/a11y';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { buildTermsTree } from '../../utils/terms';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst { normalizeTextString } = unlock( componentsPrivateApis );\nconst { RECEIVE_INTERMEDIATE_RESULTS } = unlock( coreDataPrivateApis );\n\n/**\n * Module Constants\n */\nconst DEFAULT_QUERY = {\n\tper_page: -1,\n\torderby: 'name',\n\torder: 'asc',\n\t_fields: 'id,name,parent',\n\tcontext: 'view',\n\t[ RECEIVE_INTERMEDIATE_RESULTS ]: true,\n};\nconst MIN_TERMS_COUNT_FOR_FILTER = 8;\nconst EMPTY_ARRAY = [];\n\n/**\n * Sort Terms by Selected.\n *\n * @param {Object[]} termsTree Array of terms in tree format.\n * @param {number[]} terms     Selected terms.\n *\n * @return {Object[]} Sorted array of terms.\n */\nexport function sortBySelected( termsTree, terms ) {\n\tconst treeHasSelection = ( termTree ) => {\n\t\tif ( terms.indexOf( termTree.id ) !== -1 ) {\n\t\t\treturn true;\n\t\t}\n\t\tif ( undefined === termTree.children ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (\n\t\t\ttermTree.children\n\t\t\t\t.map( treeHasSelection )\n\t\t\t\t.filter( ( child ) => child ).length > 0\n\t\t);\n\t};\n\tconst termOrChildIsSelected = ( termA, termB ) => {\n\t\tconst termASelected = treeHasSelection( termA );\n\t\tconst termBSelected = treeHasSelection( termB );\n\n\t\tif ( termASelected === termBSelected ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif ( termASelected && ! termBSelected ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif ( ! termASelected && termBSelected ) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t};\n\tconst newTermTree = [ ...termsTree ];\n\tnewTermTree.sort( termOrChildIsSelected );\n\treturn newTermTree;\n}\n\n/**\n * Find term by parent id or name.\n *\n * @param {Object[]}      terms  Array of Terms.\n * @param {number|string} parent id.\n * @param {string}        name   Term name.\n * @return {Object} Term object.\n */\nexport function findTerm( terms, parent, name ) {\n\treturn terms.find( ( term ) => {\n\t\treturn (\n\t\t\t( ( ! term.parent && ! parent ) ||\n\t\t\t\tparseInt( term.parent ) === parseInt( parent ) ) &&\n\t\t\tterm.name.toLowerCase() === name.toLowerCase()\n\t\t);\n\t} );\n}\n\n/**\n * Get filter matcher function.\n *\n * @param {string} filterValue Filter value.\n * @return {(function(Object): (Object|boolean))} Matcher function.\n */\nexport function getFilterMatcher( filterValue ) {\n\tconst matchTermsForFilter = ( originalTerm ) => {\n\t\tif ( '' === filterValue ) {\n\t\t\treturn originalTerm;\n\t\t}\n\n\t\t// Shallow clone, because we'll be filtering the term's children and\n\t\t// don't want to modify the original term.\n\t\tconst term = { ...originalTerm };\n\n\t\t// Map and filter the children, recursive so we deal with grandchildren\n\t\t// and any deeper levels.\n\t\tif ( term.children.length > 0 ) {\n\t\t\tterm.children = term.children\n\t\t\t\t.map( matchTermsForFilter )\n\t\t\t\t.filter( ( child ) => child );\n\t\t}\n\n\t\t// If the term's name contains the filterValue, or it has children\n\t\t// (i.e. some child matched at some point in the tree) then return it.\n\t\tif (\n\t\t\t-1 !==\n\t\t\t\tnormalizeTextString( term.name ).indexOf(\n\t\t\t\t\tnormalizeTextString( filterValue )\n\t\t\t\t) ||\n\t\t\tterm.children.length > 0\n\t\t) {\n\t\t\treturn term;\n\t\t}\n\n\t\t// Otherwise, return false. After mapping, the list of terms will need\n\t\t// to have false values filtered out.\n\t\treturn false;\n\t};\n\treturn matchTermsForFilter;\n}\n\n/**\n * Hierarchical term selector.\n *\n * @param {Object} props      Component props.\n * @param {string} props.slug Taxonomy slug.\n * @return {Element}        Hierarchical term selector component.\n */\nexport function HierarchicalTermSelector( { slug } ) {\n\tconst [ adding, setAdding ] = useState( false );\n\tconst [ formName, setFormName ] = useState( '' );\n\t/**\n\t * @type {[number|'', Function]}\n\t */\n\tconst [ formParent, setFormParent ] = useState( '' );\n\tconst [ showForm, setShowForm ] = useState( false );\n\tconst [ filterValue, setFilterValue ] = useState( '' );\n\tconst [ filteredTermsTree, setFilteredTermsTree ] = useState( [] );\n\tconst debouncedSpeak = useDebounce( speak, 500 );\n\n\tconst {\n\t\thasCreateAction,\n\t\thasAssignAction,\n\t\tterms,\n\t\tloading,\n\t\tavailableTerms,\n\t\ttaxonomy,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPost, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getEntityRecord, getEntityRecords, isResolving } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst _taxonomy = getEntityRecord( 'root', 'taxonomy', slug );\n\t\t\tconst post = getCurrentPost();\n\n\t\t\treturn {\n\t\t\t\thasCreateAction: _taxonomy\n\t\t\t\t\t? !! post._links?.[\n\t\t\t\t\t\t\t'wp:action-create-' + _taxonomy.rest_base\n\t\t\t\t\t  ]\n\t\t\t\t\t: false,\n\t\t\t\thasAssignAction: _taxonomy\n\t\t\t\t\t? !! post._links?.[\n\t\t\t\t\t\t\t'wp:action-assign-' + _taxonomy.rest_base\n\t\t\t\t\t  ]\n\t\t\t\t\t: false,\n\t\t\t\tterms: _taxonomy\n\t\t\t\t\t? getEditedPostAttribute( _taxonomy.rest_base )\n\t\t\t\t\t: EMPTY_ARRAY,\n\t\t\t\tloading: isResolving( 'getEntityRecords', [\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\tslug,\n\t\t\t\t\tDEFAULT_QUERY,\n\t\t\t\t] ),\n\t\t\t\tavailableTerms:\n\t\t\t\t\tgetEntityRecords( 'taxonomy', slug, DEFAULT_QUERY ) ||\n\t\t\t\t\tEMPTY_ARRAY,\n\t\t\t\ttaxonomy: _taxonomy,\n\t\t\t};\n\t\t},\n\t\t[ slug ]\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\n\tconst availableTermsTree = useMemo(\n\t\t() => sortBySelected( buildTermsTree( availableTerms ), terms ),\n\t\t// Remove `terms` from the dependency list to avoid reordering every time\n\t\t// checking or unchecking a term.\n\t\t[ availableTerms ]\n\t);\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tif ( ! hasAssignAction ) {\n\t\treturn null;\n\t}\n\n\t/**\n\t * Append new term.\n\t *\n\t * @param {Object} term Term object.\n\t * @return {Promise} A promise that resolves to save term object.\n\t */\n\tconst addTerm = ( term ) => {\n\t\treturn saveEntityRecord( 'taxonomy', slug, term, {\n\t\t\tthrowOnError: true,\n\t\t} );\n\t};\n\n\t/**\n\t * Update terms for post.\n\t *\n\t * @param {number[]} termIds Term ids.\n\t */\n\tconst onUpdateTerms = ( termIds ) => {\n\t\teditPost( { [ taxonomy.rest_base ]: termIds } );\n\t};\n\n\t/**\n\t * Handler for checking term.\n\t *\n\t * @param {number} termId\n\t */\n\tconst onChange = ( termId ) => {\n\t\tconst hasTerm = terms.includes( termId );\n\t\tconst newTerms = hasTerm\n\t\t\t? terms.filter( ( id ) => id !== termId )\n\t\t\t: [ ...terms, termId ];\n\t\tonUpdateTerms( newTerms );\n\t};\n\n\tconst onChangeFormName = ( value ) => {\n\t\tsetFormName( value );\n\t};\n\n\t/**\n\t * Handler for changing form parent.\n\t *\n\t * @param {number|''} parentId Parent post id.\n\t */\n\tconst onChangeFormParent = ( parentId ) => {\n\t\tsetFormParent( parentId );\n\t};\n\n\tconst onToggleForm = () => {\n\t\tsetShowForm( ! showForm );\n\t};\n\n\tconst onAddTerm = async ( event ) => {\n\t\tevent.preventDefault();\n\t\tif ( formName === '' || adding ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if the term we are adding already exists.\n\t\tconst existingTerm = findTerm( availableTerms, formParent, formName );\n\t\tif ( existingTerm ) {\n\t\t\t// If the term we are adding exists but is not selected select it.\n\t\t\tif ( ! terms.some( ( term ) => term === existingTerm.id ) ) {\n\t\t\t\tonUpdateTerms( [ ...terms, existingTerm.id ] );\n\t\t\t}\n\n\t\t\tsetFormName( '' );\n\t\t\tsetFormParent( '' );\n\n\t\t\treturn;\n\t\t}\n\t\tsetAdding( true );\n\t\tlet newTerm;\n\t\ttry {\n\t\t\tnewTerm = await addTerm( {\n\t\t\t\tname: formName,\n\t\t\t\tparent: formParent ? formParent : undefined,\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tcreateErrorNotice( error.message, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\t\tconst defaultName =\n\t\t\tslug === 'category' ? __( 'Category' ) : __( 'Term' );\n\t\tconst termAddedMessage = sprintf(\n\t\t\t/* translators: %s: term name. */\n\t\t\t_x( '%s added', 'term' ),\n\t\t\ttaxonomy?.labels?.singular_name ?? defaultName\n\t\t);\n\t\tspeak( termAddedMessage, 'assertive' );\n\t\tsetAdding( false );\n\t\tsetFormName( '' );\n\t\tsetFormParent( '' );\n\t\tonUpdateTerms( [ ...terms, newTerm.id ] );\n\t};\n\n\tconst setFilter = ( value ) => {\n\t\tconst newFilteredTermsTree = availableTermsTree\n\t\t\t.map( getFilterMatcher( value ) )\n\t\t\t.filter( ( term ) => term );\n\t\tconst getResultCount = ( termsTree ) => {\n\t\t\tlet count = 0;\n\t\t\tfor ( let i = 0; i < termsTree.length; i++ ) {\n\t\t\t\tcount++;\n\t\t\t\tif ( undefined !== termsTree[ i ].children ) {\n\t\t\t\t\tcount += getResultCount( termsTree[ i ].children );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t};\n\n\t\tsetFilterValue( value );\n\t\tsetFilteredTermsTree( newFilteredTermsTree );\n\n\t\tconst resultCount = getResultCount( newFilteredTermsTree );\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t/* translators: %d: number of results. */\n\t\t\t_n( '%d result found.', '%d results found.', resultCount ),\n\t\t\tresultCount\n\t\t);\n\n\t\tdebouncedSpeak( resultsFoundMessage, 'assertive' );\n\t};\n\n\tconst renderTerms = ( renderedTerms ) => {\n\t\treturn renderedTerms.map( ( term ) => {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tkey={ term.id }\n\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-choice\"\n\t\t\t\t>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tchecked={ terms.indexOf( term.id ) !== -1 }\n\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\tconst termId = parseInt( term.id, 10 );\n\t\t\t\t\t\t\tonChange( termId );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ decodeEntities( term.name ) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ !! term.children.length && (\n\t\t\t\t\t\t<div className=\"editor-post-taxonomies__hierarchical-terms-subchoices\">\n\t\t\t\t\t\t\t{ renderTerms( term.children ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t);\n\t\t} );\n\t};\n\n\tconst labelWithFallback = (\n\t\tlabelProperty,\n\t\tfallbackIsCategory,\n\t\tfallbackIsNotCategory\n\t) =>\n\t\ttaxonomy?.labels?.[ labelProperty ] ??\n\t\t( slug === 'category' ? fallbackIsCategory : fallbackIsNotCategory );\n\n\tconst newTermButtonLabel = labelWithFallback(\n\t\t'add_new_item',\n\t\t__( 'Add Category' ),\n\t\t__( 'Add Term' )\n\t);\n\tconst newTermLabel = labelWithFallback(\n\t\t'new_item_name',\n\t\t__( 'Add Category' ),\n\t\t__( 'Add Term' )\n\t);\n\tconst parentSelectLabel = labelWithFallback(\n\t\t'parent_item',\n\t\t__( 'Parent Category' ),\n\t\t__( 'Parent Term' )\n\t);\n\tconst noParentOption = `\u2014 ${ parentSelectLabel } \u2014`;\n\tconst newTermSubmitLabel = newTermButtonLabel;\n\tconst filterLabel = taxonomy?.labels?.search_items ?? __( 'Search Terms' );\n\tconst groupLabel = taxonomy?.name ?? __( 'Terms' );\n\tconst showFilter = availableTerms.length >= MIN_TERMS_COUNT_FOR_FILTER;\n\n\treturn (\n\t\t<Flex direction=\"column\" gap=\"4\">\n\t\t\t{ showFilter && ! loading && (\n\t\t\t\t<SearchControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ filterLabel }\n\t\t\t\t\tplaceholder={ filterLabel }\n\t\t\t\t\tvalue={ filterValue }\n\t\t\t\t\tonChange={ setFilter }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ loading && (\n\t\t\t\t<Flex\n\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t// Match SearchControl height to prevent layout shift.\n\t\t\t\t\t\theight: '40px',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<Spinner />\n\t\t\t\t</Flex>\n\t\t\t) }\n\t\t\t<div\n\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-list\"\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\trole=\"group\"\n\t\t\t\taria-label={ groupLabel }\n\t\t\t>\n\t\t\t\t{ renderTerms(\n\t\t\t\t\t'' !== filterValue ? filteredTermsTree : availableTermsTree\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ ! loading && hasCreateAction && (\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tonClick={ onToggleForm }\n\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-add\"\n\t\t\t\t\t\taria-expanded={ showForm }\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ newTermButtonLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexItem>\n\t\t\t) }\n\t\t\t{ showForm && (\n\t\t\t\t<form onSubmit={ onAddTerm }>\n\t\t\t\t\t<Flex direction=\"column\" gap=\"4\">\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-input\"\n\t\t\t\t\t\t\tlabel={ newTermLabel }\n\t\t\t\t\t\t\tvalue={ formName }\n\t\t\t\t\t\t\tonChange={ onChangeFormName }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !! availableTerms.length && (\n\t\t\t\t\t\t\t<TreeSelect\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tlabel={ parentSelectLabel }\n\t\t\t\t\t\t\t\tnoOptionLabel={ noParentOption }\n\t\t\t\t\t\t\t\tonChange={ onChangeFormParent }\n\t\t\t\t\t\t\t\tselectedId={ formParent }\n\t\t\t\t\t\t\t\ttree={ availableTermsTree }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ newTermSubmitLabel }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t</Flex>\n\t\t\t\t</form>\n\t\t\t) }\n\t\t</Flex>\n\t);\n}\n\nexport default withFilters( 'editor.PostTaxonomyType' )(\n\tHierarchicalTermSelector\n);\n", "/**\n * WordPress dependencies\n */\nimport {\n\tPanelBody,\n\tButton,\n\tSpinner,\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport { isBlobURL } from '@wordpress/blob';\n\n/**\n * Internal dependencies\n */\nimport { fetchMedia } from './media-util';\n\nfunction flattenBlocks( blocks ) {\n\tconst result = [];\n\n\tblocks.forEach( ( block ) => {\n\t\tresult.push( block );\n\t\tresult.push( ...flattenBlocks( block.innerBlocks ) );\n\t} );\n\n\treturn result;\n}\n\n/**\n * Determine whether a block has external media.\n *\n * Different blocks use different attribute names (and potentially\n * different logic as well) in determining whether the media is\n * present, and whether it's external.\n *\n * @param {{name: string, attributes: Object}} block The block.\n * @return {boolean?} Whether the block has external media\n */\nfunction hasExternalMedia( block ) {\n\tif ( block.name === 'core/image' || block.name === 'core/cover' ) {\n\t\treturn block.attributes.url && ! block.attributes.id;\n\t}\n\n\tif ( block.name === 'core/media-text' ) {\n\t\treturn block.attributes.mediaUrl && ! block.attributes.mediaId;\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Retrieve media info from a block.\n *\n * Different blocks use different attribute names, so we need this\n * function to normalize things into a consistent naming scheme.\n *\n * @param {{name: string, attributes: Object}} block The block.\n * @return {{url: ?string, alt: ?string, id: ?number}} The media info for the block.\n */\nfunction getMediaInfo( block ) {\n\tif ( block.name === 'core/image' || block.name === 'core/cover' ) {\n\t\tconst { url, alt, id } = block.attributes;\n\t\treturn { url, alt, id };\n\t}\n\n\tif ( block.name === 'core/media-text' ) {\n\t\tconst { mediaUrl: url, mediaAlt: alt, mediaId: id } = block.attributes;\n\t\treturn { url, alt, id };\n\t}\n\n\treturn {};\n}\n\n// Image component to represent a single image in the upload dialog.\nfunction Image( { clientId, alt, url } ) {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\treturn (\n\t\t<motion.img\n\t\t\ttabIndex={ 0 }\n\t\t\trole=\"button\"\n\t\t\taria-label={ __( 'Select image block.' ) }\n\t\t\tonClick={ () => {\n\t\t\t\tselectBlock( clientId );\n\t\t\t} }\n\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\tif ( event.key === 'Enter' || event.key === ' ' ) {\n\t\t\t\t\tselectBlock( clientId );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t} }\n\t\t\tkey={ clientId }\n\t\t\talt={ alt }\n\t\t\tsrc={ url }\n\t\t\tanimate={ { opacity: 1 } }\n\t\t\texit={ { opacity: 0, scale: 0 } }\n\t\t\tstyle={ {\n\t\t\t\twidth: '32px',\n\t\t\t\theight: '32px',\n\t\t\t\tobjectFit: 'cover',\n\t\t\t\tborderRadius: '2px',\n\t\t\t\tcursor: 'pointer',\n\t\t\t} }\n\t\t\twhileHover={ { scale: 1.08 } }\n\t\t/>\n\t);\n}\n\nexport default function MaybeUploadMediaPanel() {\n\tconst [ isUploading, setIsUploading ] = useState( false );\n\tconst [ isAnimating, setIsAnimating ] = useState( false );\n\tconst [ hadUploadError, setHadUploadError ] = useState( false );\n\tconst { editorBlocks, mediaUpload } = useSelect(\n\t\t( select ) => ( {\n\t\t\teditorBlocks: select( blockEditorStore ).getBlocks(),\n\t\t\tmediaUpload: select( blockEditorStore ).getSettings().mediaUpload,\n\t\t} ),\n\t\t[]\n\t);\n\n\t// Get a list of blocks with external media.\n\tconst blocksWithExternalMedia = flattenBlocks( editorBlocks ).filter(\n\t\t( block ) => hasExternalMedia( block )\n\t);\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\tif ( ! mediaUpload || ! blocksWithExternalMedia.length ) {\n\t\treturn null;\n\t}\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'External media' ) }\n\t\t</span>,\n\t];\n\n\t/**\n\t * Update an individual block to point to newly-added library media.\n\t *\n\t * Different blocks use different attribute names, so we need this\n\t * function to ensure we modify the correct attributes for each type.\n\t *\n\t * @param {{name: string, attributes: Object}} block The block.\n\t * @param {{id: number, url: string}}          media Media library file info.\n\t */\n\tfunction updateBlockWithUploadedMedia( block, media ) {\n\t\tif ( block.name === 'core/image' || block.name === 'core/cover' ) {\n\t\t\tupdateBlockAttributes( block.clientId, {\n\t\t\t\tid: media.id,\n\t\t\t\turl: media.url,\n\t\t\t} );\n\t\t}\n\n\t\tif ( block.name === 'core/media-text' ) {\n\t\t\tupdateBlockAttributes( block.clientId, {\n\t\t\t\tmediaId: media.id,\n\t\t\t\tmediaUrl: media.url,\n\t\t\t} );\n\t\t}\n\t}\n\n\t// Handle fetching and uploading all external media in the post.\n\tfunction uploadImages() {\n\t\tsetIsUploading( true );\n\t\tsetHadUploadError( false );\n\n\t\t// Multiple blocks can be using the same URL, so we\n\t\t// should ensure we only fetch and upload each of them once.\n\t\tconst mediaUrls = new Set(\n\t\t\tblocksWithExternalMedia.map( ( block ) => {\n\t\t\t\tconst { url } = getMediaInfo( block );\n\t\t\t\treturn url;\n\t\t\t} )\n\t\t);\n\n\t\t// Create an upload promise for each URL, that we can wait for in all\n\t\t// blocks that make use of that media.\n\t\tconst uploadPromises = Object.fromEntries(\n\t\t\tObject.entries( fetchMedia( [ ...mediaUrls ] ) ).map(\n\t\t\t\t( [ url, filePromise ] ) => {\n\t\t\t\t\tconst uploadPromise = filePromise.then(\n\t\t\t\t\t\t( blob ) =>\n\t\t\t\t\t\t\tnew Promise( ( resolve, reject ) => {\n\t\t\t\t\t\t\t\tmediaUpload( {\n\t\t\t\t\t\t\t\t\tfilesList: [ blob ],\n\t\t\t\t\t\t\t\t\tonFileChange: ( [ media ] ) => {\n\t\t\t\t\t\t\t\t\t\tif ( isBlobURL( media.url ) ) {\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tresolve( media );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonError() {\n\t\t\t\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\n\t\t\t\t\treturn [ url, uploadPromise ];\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\n\t\t// Wait for all blocks to be updated with library media.\n\t\tPromise.allSettled(\n\t\t\tblocksWithExternalMedia.map( ( block ) => {\n\t\t\t\tconst { url } = getMediaInfo( block );\n\n\t\t\t\treturn uploadPromises[ url ]\n\t\t\t\t\t.then( ( media ) =>\n\t\t\t\t\t\tupdateBlockWithUploadedMedia( block, media )\n\t\t\t\t\t)\n\t\t\t\t\t.then( () => setIsAnimating( true ) )\n\t\t\t\t\t.catch( () => setHadUploadError( true ) );\n\t\t\t} )\n\t\t).finally( () => {\n\t\t\tsetIsUploading( false );\n\t\t} );\n\t}\n\n\treturn (\n\t\t<PanelBody initialOpen title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Upload external images to the Media Library. Images from different domains may load slowly, display incorrectly, or be removed unexpectedly.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<div\n\t\t\t\tstyle={ {\n\t\t\t\t\tdisplay: 'inline-flex',\n\t\t\t\t\tflexWrap: 'wrap',\n\t\t\t\t\tgap: '8px',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<AnimatePresence\n\t\t\t\t\tonExitComplete={ () => setIsAnimating( false ) }\n\t\t\t\t>\n\t\t\t\t\t{ blocksWithExternalMedia.map( ( block ) => {\n\t\t\t\t\t\tconst { url, alt } = getMediaInfo( block );\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\tkey={ block.clientId }\n\t\t\t\t\t\t\t\tclientId={ block.clientId }\n\t\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</AnimatePresence>\n\t\t\t\t{ isUploading || isAnimating ? (\n\t\t\t\t\t<Spinner />\n\t\t\t\t) : (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ uploadImages }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _x( 'Upload', 'verb' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ hadUploadError && <p>{ __( 'Upload failed, try again.' ) }</p> }\n\t\t</PanelBody>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport { v4 as uuid } from 'uuid';\n\n/**\n * WordPress dependencies\n */\nimport { getFilename } from '@wordpress/url';\n\n/**\n * Generate a list of unique basenames given a list of URLs.\n *\n * We want all basenames to be unique, since sometimes the extension\n * doesn't reflect the mime type, and may end up getting changed by\n * the server, on upload.\n *\n * @param {string[]} urls The list of URLs\n * @return {Record< string, string >} A URL => basename record.\n */\nexport function generateUniqueBasenames( urls ) {\n\tconst basenames = new Set();\n\n\treturn Object.fromEntries(\n\t\turls.map( ( url ) => {\n\t\t\t// We prefer to match the remote filename, if possible.\n\t\t\tconst filename = getFilename( url );\n\t\t\tlet basename = '';\n\n\t\t\tif ( filename ) {\n\t\t\t\tconst parts = filename.split( '.' );\n\t\t\t\tif ( parts.length > 1 ) {\n\t\t\t\t\t// Assume the last part is the extension.\n\t\t\t\t\tparts.pop();\n\t\t\t\t}\n\t\t\t\tbasename = parts.join( '.' );\n\t\t\t}\n\n\t\t\tif ( ! basename ) {\n\t\t\t\t// It looks like we don't have a basename, so let's use a UUID.\n\t\t\t\tbasename = uuid();\n\t\t\t}\n\n\t\t\tif ( basenames.has( basename ) ) {\n\t\t\t\t// Append a UUID to deduplicate the basename.\n\t\t\t\t// The server will try to deduplicate on its own if we don't do this,\n\t\t\t\t// but it may run into a race condition\n\t\t\t\t// (see https://github.com/WordPress/gutenberg/issues/64899).\n\t\t\t\t// Deduplicating the filenames before uploading is safer.\n\t\t\t\tbasename = `${ basename }-${ uuid() }`;\n\t\t\t}\n\n\t\t\tbasenames.add( basename );\n\n\t\t\treturn [ url, basename ];\n\t\t} )\n\t);\n}\n\n/**\n * Fetch a list of URLs, turning those into promises for files with\n * unique filenames.\n *\n * @param {string[]} urls The list of URLs\n * @return {Record< string, Promise< File > >} A URL => File promise record.\n */\nexport function fetchMedia( urls ) {\n\treturn Object.fromEntries(\n\t\tObject.entries( generateUniqueBasenames( urls ) ).map(\n\t\t\t( [ url, basename ] ) => {\n\t\t\t\tconst filePromise = window\n\t\t\t\t\t.fetch( url.includes( '?' ) ? url : url + '?' )\n\t\t\t\t\t.then( ( response ) => response.blob() )\n\t\t\t\t\t.then( ( blob ) => {\n\t\t\t\t\t\t// The server will reject the upload if it doesn't have an extension,\n\t\t\t\t\t\t// even though it'll rewrite the file name to match the mime type.\n\t\t\t\t\t\t// Here we provide it with a safe extension to get it past that check.\n\t\t\t\t\t\treturn new File( [ blob ], `${ basename }.png`, {\n\t\t\t\t\t\t\ttype: blob.type,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\treturn [ url, filePromise ];\n\t\t\t}\n\t\t)\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tPanelBody,\n\tButton,\n\tTextControl,\n\tExternalLink,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useCallback, useEffect, useState, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { addQueryArgs, safeDecodeURIComponent } from '@wordpress/url';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { external } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport PostScheduleLabel from '../post-schedule/label';\nimport { store as editorStore } from '../../store';\n\nconst POSTNAME = '%postname%';\nconst PAGENAME = '%pagename%';\n\n/**\n * Returns URL for a future post.\n *\n * @param {Object} post Post object.\n *\n * @return {string} PostPublish URL.\n */\n\nconst getFuturePostUrl = ( post ) => {\n\tconst { slug } = post;\n\n\tif ( post.permalink_template.includes( POSTNAME ) ) {\n\t\treturn post.permalink_template.replace( POSTNAME, slug );\n\t}\n\n\tif ( post.permalink_template.includes( PAGENAME ) ) {\n\t\treturn post.permalink_template.replace( PAGENAME, slug );\n\t}\n\n\treturn post.permalink_template;\n};\n\nfunction CopyButton( { text } ) {\n\tconst [ showCopyConfirmation, setShowCopyConfirmation ] = useState( false );\n\tconst timeoutIdRef = useRef();\n\tconst ref = useCopyToClipboard( text, () => {\n\t\tsetShowCopyConfirmation( true );\n\t\tif ( timeoutIdRef.current ) {\n\t\t\tclearTimeout( timeoutIdRef.current );\n\t\t}\n\t\ttimeoutIdRef.current = setTimeout( () => {\n\t\t\tsetShowCopyConfirmation( false );\n\t\t}, 4000 );\n\t} );\n\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( timeoutIdRef.current ) {\n\t\t\t\tclearTimeout( timeoutIdRef.current );\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<Button __next40pxDefaultSize variant=\"secondary\" ref={ ref }>\n\t\t\t{ showCopyConfirmation ? __( 'Copied!' ) : __( 'Copy' ) }\n\t\t</Button>\n\t);\n}\n\nexport default function PostPublishPanelPostpublish( {\n\tfocusOnMount,\n\tchildren,\n} ) {\n\tconst { post, postType, isScheduled } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetEditedPostAttribute,\n\t\t\tgetCurrentPost,\n\t\t\tisCurrentPostScheduled,\n\t\t} = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\n\t\treturn {\n\t\t\tpost: getCurrentPost(),\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t};\n\t}, [] );\n\n\tconst postLabel = postType?.labels?.singular_name;\n\tconst viewPostLabel = postType?.labels?.view_item;\n\tconst addNewPostLabel = postType?.labels?.add_new_item;\n\tconst link =\n\t\tpost.status === 'future' ? getFuturePostUrl( post ) : post.link;\n\tconst addLink = addQueryArgs( 'post-new.php', {\n\t\tpost_type: post.type,\n\t} );\n\n\tconst postLinkRef = useCallback(\n\t\t( node ) => {\n\t\t\tif ( focusOnMount && node ) {\n\t\t\t\tnode.focus();\n\t\t\t}\n\t\t},\n\t\t[ focusOnMount ]\n\t);\n\n\tconst postPublishNonLinkHeader = isScheduled ? (\n\t\t<>\n\t\t\t{ __( 'is now scheduled. It will go live on' ) }{ ' ' }\n\t\t\t<PostScheduleLabel />.\n\t\t</>\n\t) : (\n\t\t__( 'is now live.' )\n\t);\n\n\treturn (\n\t\t<div className=\"post-publish-panel__postpublish\">\n\t\t\t<PanelBody className=\"post-publish-panel__postpublish-header\">\n\t\t\t\t<ExternalLink ref={ postLinkRef } href={ link }>\n\t\t\t\t\t{ decodeEntities( post.title ) || __( '(no title)' ) }\n\t\t\t\t</ExternalLink>{ ' ' }\n\t\t\t\t{ postPublishNonLinkHeader }\n\t\t\t</PanelBody>\n\t\t\t<PanelBody>\n\t\t\t\t<p className=\"post-publish-panel__postpublish-subheader\">\n\t\t\t\t\t<strong>{ __( 'What\u2019s next?' ) }</strong>\n\t\t\t\t</p>\n\t\t\t\t<div className=\"post-publish-panel__postpublish-post-address-container\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tclassName=\"post-publish-panel__postpublish-post-address\"\n\t\t\t\t\t\treadOnly\n\t\t\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t\t\t/* translators: %s: post type singular name */\n\t\t\t\t\t\t\t__( '%s address' ),\n\t\t\t\t\t\t\tpostLabel\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvalue={ safeDecodeURIComponent( link ) }\n\t\t\t\t\t\tonFocus={ ( event ) => event.target.select() }\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div className=\"post-publish-panel__postpublish-post-address__copy-button-wrap\">\n\t\t\t\t\t\t<CopyButton text={ link } />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"post-publish-panel__postpublish-buttons\">\n\t\t\t\t\t{ ! isScheduled && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\thref={ link }\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\ticonPosition=\"right\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ viewPostLabel }\n\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant={ isScheduled ? 'primary' : 'secondary' }\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\thref={ addLink }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ addNewPostLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</PanelBody>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__unstableGetAnimateClassName as getAnimateClassName,\n\tButton,\n} from '@wordpress/components';\nimport { usePrevious, useViewportMatch } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Icon, check, cloud, cloudUpload } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { STATUS_OPTIONS } from '../../components/post-status';\nimport { store as editorStore } from '../../store';\nimport { ATTACHMENT_POST_TYPE } from '../../store/constants';\n\n/**\n * Component showing whether the post is saved or not and providing save\n * buttons.\n *\n * @param {Object}   props              Component props.\n * @param {?boolean} props.forceIsDirty Whether to force the post to be marked\n *                                      as dirty.\n * @return {import('react').ComponentType} The component.\n */\nexport default function PostSavedState( { forceIsDirty } ) {\n\tconst [ forceSavedMessage, setForceSavedMessage ] = useState( false );\n\tconst isLargeViewport = useViewportMatch( 'small' );\n\n\tconst {\n\t\tisAutosaving,\n\t\tisDirty,\n\t\tisNew,\n\t\tisPublished,\n\t\tisSaveable,\n\t\tisSaving,\n\t\tisScheduled,\n\t\thasPublishAction,\n\t\tshowIconLabels,\n\t\tpostStatus,\n\t\tpostStatusHasChanged,\n\t\tpostType,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tisEditedPostNew,\n\t\t\t\tisCurrentPostPublished,\n\t\t\t\tisCurrentPostScheduled,\n\t\t\t\tisEditedPostDirty,\n\t\t\t\tisSavingPost,\n\t\t\t\tisEditedPostSaveable,\n\t\t\t\tgetCurrentPost,\n\t\t\t\tisAutosavingPost,\n\t\t\t\tgetEditedPostAttribute,\n\t\t\t\tgetPostEdits,\n\t\t\t} = select( editorStore );\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\treturn {\n\t\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\t\tisDirty: forceIsDirty || isEditedPostDirty(),\n\t\t\t\tisNew: isEditedPostNew(),\n\t\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\t\tisSaving: isSavingPost(),\n\t\t\t\tisSaveable: isEditedPostSaveable(),\n\t\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t\t\thasPublishAction:\n\t\t\t\t\tgetCurrentPost()?._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t\tpostStatus: getEditedPostAttribute( 'status' ),\n\t\t\t\tpostStatusHasChanged: !! getPostEdits()?.status,\n\t\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t\t};\n\t\t},\n\t\t[ forceIsDirty ]\n\t);\n\tconst isPending = postStatus === 'pending';\n\tconst { savePost } = useDispatch( editorStore );\n\n\tconst wasSaving = usePrevious( isSaving );\n\n\tuseEffect( () => {\n\t\tlet timeoutId;\n\n\t\tif ( wasSaving && ! isSaving ) {\n\t\t\tsetForceSavedMessage( true );\n\t\t\ttimeoutId = setTimeout( () => {\n\t\t\t\tsetForceSavedMessage( false );\n\t\t\t}, 1000 );\n\t\t}\n\n\t\treturn () => clearTimeout( timeoutId );\n\t}, [ isSaving ] );\n\n\t// Attachments don't support draft mode, so hide this button.\n\tif ( postType === ATTACHMENT_POST_TYPE ) {\n\t\treturn null;\n\t}\n\n\t// Once the post has been submitted for review this button\n\t// is not needed for the contributor role.\n\tif ( ! hasPublishAction && isPending ) {\n\t\treturn null;\n\t}\n\n\t// We shouldn't render the button if the post has not one of the following statuses: pending, draft, auto-draft.\n\t// The reason for this is that this button handles the `save as pending` and `save draft` actions.\n\t// An exception for this is when the post has a custom status and there should be a way to save changes without\n\t// having to publish. This should be handled better in the future when custom statuses have better support.\n\t// @see https://github.com/WordPress/gutenberg/issues/3144.\n\tconst isIneligibleStatus =\n\t\t! [ 'pending', 'draft', 'auto-draft' ].includes( postStatus ) &&\n\t\tSTATUS_OPTIONS.map( ( { value } ) => value ).includes( postStatus );\n\n\tif (\n\t\tisPublished ||\n\t\tisScheduled ||\n\t\tisIneligibleStatus ||\n\t\t( postStatusHasChanged &&\n\t\t\t[ 'pending', 'draft' ].includes( postStatus ) )\n\t) {\n\t\treturn null;\n\t}\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst label = isPending ? __( 'Save as pending' ) : __( 'Save draft' );\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst shortLabel = __( 'Save' );\n\n\tconst isSaved = forceSavedMessage || ( ! isNew && ! isDirty );\n\tconst isSavedState = isSaving || isSaved;\n\tconst isDisabled = isSaving || isSaved || ! isSaveable;\n\tlet text;\n\n\tif ( isSaving ) {\n\t\ttext = isAutosaving ? __( 'Autosaving' ) : __( 'Saving' );\n\t} else if ( isSaved ) {\n\t\ttext = __( 'Saved' );\n\t} else if ( isLargeViewport ) {\n\t\ttext = label;\n\t} else if ( showIconLabels ) {\n\t\ttext = shortLabel;\n\t}\n\n\t// Use common Button instance for all saved states so that focus is not\n\t// lost.\n\treturn (\n\t\t<Button\n\t\t\tclassName={\n\t\t\t\tisSaveable || isSaving\n\t\t\t\t\t? clsx( {\n\t\t\t\t\t\t\t'editor-post-save-draft': ! isSavedState,\n\t\t\t\t\t\t\t'editor-post-saved-state': isSavedState,\n\t\t\t\t\t\t\t'is-saving': isSaving,\n\t\t\t\t\t\t\t'is-autosaving': isAutosaving,\n\t\t\t\t\t\t\t'is-saved': isSaved,\n\t\t\t\t\t\t\t[ getAnimateClassName( {\n\t\t\t\t\t\t\t\ttype: 'loading',\n\t\t\t\t\t\t\t} ) ]: isSaving,\n\t\t\t\t\t  } )\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tonClick={ isDisabled ? undefined : () => savePost() }\n\t\t\t/*\n\t\t\t * We want the tooltip to show the keyboard shortcut only when the\n\t\t\t * button does something, i.e. when it's not disabled.\n\t\t\t */\n\t\t\tshortcut={ isDisabled ? undefined : displayShortcut.primary( 's' ) }\n\t\t\tvariant=\"tertiary\"\n\t\t\tsize=\"compact\"\n\t\t\ticon={ isLargeViewport ? undefined : cloudUpload }\n\t\t\tlabel={ text || label }\n\t\t\taria-disabled={ isDisabled }\n\t\t>\n\t\t\t{ isSavedState && <Icon icon={ isSaved ? check : cloud } /> }\n\t\t\t{ text }\n\t\t</Button>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCheckboxControl,\n\tDropdown,\n\t__experimentalVStack as VStack,\n\tTextControl,\n\tRadioControl,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState, useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { useInstanceId } from '@wordpress/compose';\nimport {\n\tdrafts,\n\tpublished,\n\tscheduled,\n\tpending,\n\tnotAllowed,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { DESIGN_POST_TYPES } from '../../store/constants';\nimport PostPanelRow from '../post-panel-row';\nimport PostSticky from '../post-sticky';\nimport { PrivatePostSchedule } from '../post-schedule';\nimport { store as editorStore } from '../../store';\n\nconst postStatusesInfo = {\n\t'auto-draft': { label: __( 'Draft' ), icon: drafts },\n\tdraft: { label: __( 'Draft' ), icon: drafts },\n\tpending: { label: __( 'Pending' ), icon: pending },\n\tprivate: { label: __( 'Private' ), icon: notAllowed },\n\tfuture: { label: __( 'Scheduled' ), icon: scheduled },\n\tpublish: { label: __( 'Published' ), icon: published },\n};\n\nexport const STATUS_OPTIONS = [\n\t{\n\t\tlabel: __( 'Draft' ),\n\t\tvalue: 'draft',\n\t\tdescription: __( 'Not ready to publish.' ),\n\t},\n\t{\n\t\tlabel: __( 'Pending' ),\n\t\tvalue: 'pending',\n\t\tdescription: __( 'Waiting for review before publishing.' ),\n\t},\n\t{\n\t\tlabel: __( 'Private' ),\n\t\tvalue: 'private',\n\t\tdescription: __( 'Only visible to site admins and editors.' ),\n\t},\n\t{\n\t\tlabel: __( 'Scheduled' ),\n\t\tvalue: 'future',\n\t\tdescription: __( 'Publish automatically on a chosen date.' ),\n\t},\n\t{\n\t\tlabel: __( 'Published' ),\n\t\tvalue: 'publish',\n\t\tdescription: __( 'Visible to everyone.' ),\n\t},\n];\n\nexport default function PostStatus() {\n\tconst { status, date, password, postId, postType, canEdit } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEditedPostAttribute,\n\t\t\t\tgetCurrentPostId,\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tgetCurrentPost,\n\t\t\t} = select( editorStore );\n\t\t\treturn {\n\t\t\t\tstatus: getEditedPostAttribute( 'status' ),\n\t\t\t\tdate: getEditedPostAttribute( 'date' ),\n\t\t\t\tpassword: getEditedPostAttribute( 'password' ),\n\t\t\t\tpostId: getCurrentPostId(),\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t\tcanEdit:\n\t\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst [ showPassword, setShowPassword ] = useState( !! password );\n\tconst passwordInputId = useInstanceId(\n\t\tPostStatus,\n\t\t'editor-change-status__password-input'\n\t);\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\t'aria-label': __( 'Status & visibility' ),\n\t\t\theaderTitle: __( 'Status & visibility' ),\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif ( DESIGN_POST_TYPES.includes( postType ) ) {\n\t\treturn null;\n\t}\n\n\tconst updatePost = ( {\n\t\tstatus: newStatus = status,\n\t\tpassword: newPassword = password,\n\t\tdate: newDate = date,\n\t} ) => {\n\t\teditEntityRecord( 'postType', postType, postId, {\n\t\t\tstatus: newStatus,\n\t\t\tdate: newDate,\n\t\t\tpassword: newPassword,\n\t\t} );\n\t};\n\n\tconst handleTogglePassword = ( value ) => {\n\t\tsetShowPassword( value );\n\t\tif ( ! value ) {\n\t\t\tupdatePost( { password: '' } );\n\t\t}\n\t};\n\n\tconst handleStatus = ( value ) => {\n\t\tlet newDate = date;\n\t\tlet newPassword = password;\n\t\tif ( status === 'future' && new Date( date ) > new Date() ) {\n\t\t\tnewDate = null;\n\t\t}\n\t\tif ( value === 'private' && password ) {\n\t\t\tnewPassword = '';\n\t\t}\n\t\tupdatePost( {\n\t\t\tstatus: value,\n\t\t\tdate: newDate,\n\t\t\tpassword: newPassword,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<PostPanelRow label={ __( 'Status' ) } ref={ setPopoverAnchor }>\n\t\t\t{ canEdit ? (\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName=\"editor-post-status\"\n\t\t\t\t\tcontentClassName=\"editor-change-status__content\"\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"editor-post-status__toggle\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\ticon={ postStatusesInfo[ status ]?.icon }\n\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Current post status.\n\t\t\t\t\t\t\t\t__( 'Change status: %s' ),\n\t\t\t\t\t\t\t\tpostStatusesInfo[ status ]?.label\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ postStatusesInfo[ status ]?.label }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\t\ttitle={ __( 'Status & visibility' ) }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\t\t\tclassName=\"editor-change-status__options\"\n\t\t\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Status' ) }\n\t\t\t\t\t\t\t\t\t\toptions={ STATUS_OPTIONS }\n\t\t\t\t\t\t\t\t\t\tonChange={ handleStatus }\n\t\t\t\t\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\t\t\t\t\tstatus === 'auto-draft'\n\t\t\t\t\t\t\t\t\t\t\t\t? 'draft'\n\t\t\t\t\t\t\t\t\t\t\t\t: status\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{ status === 'future' && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"editor-change-status__publish-date-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t<PrivatePostSchedule\n\t\t\t\t\t\t\t\t\t\t\t\tshowPopoverHeaderActions={\n\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tisCompact\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ status !== 'private' && (\n\t\t\t\t\t\t\t\t\t\t<VStack\n\t\t\t\t\t\t\t\t\t\t\tas=\"fieldset\"\n\t\t\t\t\t\t\t\t\t\t\tspacing={ 4 }\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-change-status__password-fieldset\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Password protected'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Only visible to those who know the password.'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={ showPassword }\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleTogglePassword\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{ showPassword && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"editor-change-status__password-input\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Password'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdatePost( {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpassword: value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ password }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Use a secure password'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={ passwordInputId }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={ 255 }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t<PostSticky />\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<div className=\"editor-post-status is-read-only\">\n\t\t\t\t\t{ postStatusesInfo[ status ]?.label }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</PostPanelRow>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostStickyCheck from './check';\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the PostSticky component. It provides a checkbox control for the sticky post feature.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PostSticky() {\n\tconst postSticky = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'sticky' ) ?? false\n\t\t);\n\t}, [] );\n\tconst { editPost } = useDispatch( editorStore );\n\n\treturn (\n\t\t<PostStickyCheck>\n\t\t\t<CheckboxControl\n\t\t\t\tclassName=\"editor-post-sticky__checkbox-control\"\n\t\t\t\tlabel={ __( 'Sticky' ) }\n\t\t\t\thelp={ __( 'Pin this post to the top of the blog.' ) }\n\t\t\t\tchecked={ postSticky }\n\t\t\t\tonChange={ () => editPost( { sticky: ! postSticky } ) }\n\t\t\t/>\n\t\t</PostStickyCheck>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Wrapper component that renders its children only if post has a sticky action.\n *\n * @param {Object}          props          Props.\n * @param {React.ReactNode} props.children Children to be rendered.\n *\n * @return {React.ReactNode} The component to be rendered or null if post type is not 'post' or hasStickyAction is false.\n */\nexport default function PostStickyCheck( { children } ) {\n\tconst { hasStickyAction, postType } = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\treturn {\n\t\t\thasStickyAction: post._links?.[ 'wp:action-sticky' ] ?? false,\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t};\n\t}, [] );\n\n\tif ( postType !== 'post' || ! hasStickyAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Wrapper component that renders its children only if post has a publish action.\n *\n * @param {Object}          props          Props.\n * @param {React.ReactNode} props.children Children to be rendered.\n *\n * @return {React.ReactNode} - The component to be rendered or null if there is no publish action.\n */\nexport default function PostScheduleCheck( { children } ) {\n\tconst hasPublishAction = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( editorStore ).getCurrentPost()._links?.[\n\t\t\t\t'wp:action-publish'\n\t\t\t] ?? false\n\t\t);\n\t}, [] );\n\n\tif ( ! hasPublishAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n", "/**\n * WordPress dependencies\n */\nimport { Button, Dropdown } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostScheduleCheck from './check';\nimport PostScheduleForm from './index';\nimport { usePostScheduleLabel } from './label';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\nimport { DESIGN_POST_TYPES } from '../../store/constants';\n\n/**\n * Renders the Post Schedule Panel component.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PostSchedulePanel() {\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\tconst postType = useSelect(\n\t\t( select ) => select( editorStore ).getCurrentPostType(),\n\t\t[]\n\t);\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\t'aria-label': __( 'Change publish date' ),\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tconst label = usePostScheduleLabel();\n\tconst fullLabel = usePostScheduleLabel( { full: true } );\n\tif ( DESIGN_POST_TYPES.includes( postType ) ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostScheduleCheck>\n\t\t\t<PostPanelRow label={ __( 'Publish' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\tclassName=\"editor-post-schedule__panel-dropdown\"\n\t\t\t\t\tcontentClassName=\"editor-post-schedule__dialog\"\n\t\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tclassName=\"editor-post-schedule__dialog-toggle\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\ttooltipPosition=\"middle left\"\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Current post date.\n\t\t\t\t\t\t\t\t__( 'Change date: %s' ),\n\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tlabel={ fullLabel }\n\t\t\t\t\t\t\tshowTooltip={ label !== fullLabel }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<PostScheduleForm onClose={ onClose } />\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostScheduleCheck>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders a button component that allows the user to switch a post to draft status.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PostSwitchToDraftButton() {\n\tdeprecated( 'wp.editor.PostSwitchToDraftButton', {\n\t\tsince: '6.7',\n\t\tversion: '6.9',\n\t} );\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\n\tconst { editPost, savePost } = useDispatch( editorStore );\n\tconst { isSaving, isPublished, isScheduled } = useSelect( ( select ) => {\n\t\tconst { isSavingPost, isCurrentPostPublished, isCurrentPostScheduled } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t};\n\t}, [] );\n\n\tconst isDisabled = isSaving || ( ! isPublished && ! isScheduled );\n\n\tlet alertMessage;\n\tlet confirmButtonText;\n\tif ( isPublished ) {\n\t\talertMessage = __( 'Are you sure you want to unpublish this post?' );\n\t\tconfirmButtonText = __( 'Unpublish' );\n\t} else if ( isScheduled ) {\n\t\talertMessage = __( 'Are you sure you want to unschedule this post?' );\n\t\tconfirmButtonText = __( 'Unschedule' );\n\t}\n\n\tconst handleConfirm = () => {\n\t\tsetShowConfirmDialog( false );\n\t\teditPost( { status: 'draft' } );\n\t\tsavePost();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tclassName=\"editor-post-switch-to-draft\"\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tif ( ! isDisabled ) {\n\t\t\t\t\t\tsetShowConfirmDialog( true );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\taria-disabled={ isDisabled }\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tstyle={ { flexGrow: '1', justifyContent: 'center' } }\n\t\t\t>\n\t\t\t\t{ __( 'Switch to draft' ) }\n\t\t\t</Button>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\tonConfirm={ handleConfirm }\n\t\t\t\tonCancel={ () => setShowConfirmDialog( false ) }\n\t\t\t\tconfirmButtonText={ confirmButtonText }\n\t\t\t>\n\t\t\t\t{ alertMessage }\n\t\t\t</ConfirmDialog>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the sync status of a post.\n *\n * @return {React.ReactNode} The rendered sync status component.\n */\nexport default function PostSyncStatus() {\n\tconst { syncStatus, postType } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst meta = getEditedPostAttribute( 'meta' );\n\n\t\t// When the post is first created, the top level wp_pattern_sync_status is not set so get meta value instead.\n\t\tconst currentSyncStatus =\n\t\t\tmeta?.wp_pattern_sync_status === 'unsynced'\n\t\t\t\t? 'unsynced'\n\t\t\t\t: getEditedPostAttribute( 'wp_pattern_sync_status' );\n\n\t\treturn {\n\t\t\tsyncStatus: currentSyncStatus,\n\t\t\tpostType: getEditedPostAttribute( 'type' ),\n\t\t};\n\t} );\n\n\tif ( postType !== 'wp_block' ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostPanelRow label={ __( 'Sync status' ) }>\n\t\t\t<div className=\"editor-post-sync-status__value\">\n\t\t\t\t{ syncStatus === 'unsynced'\n\t\t\t\t\t? _x( 'Not synced', 'pattern (singular)' )\n\t\t\t\t\t: _x( 'Synced', 'pattern (singular)' ) }\n\t\t\t</div>\n\t\t</PostPanelRow>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport HierarchicalTermSelector from './hierarchical-term-selector';\nimport FlatTermSelector from './flat-term-selector';\nimport { store as editorStore } from '../../store';\n\nconst identity = ( x ) => x;\n\nexport function PostTaxonomies( { taxonomyWrapper = identity } ) {\n\tconst { postType, taxonomies } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t\ttaxonomies: select( coreStore ).getEntityRecords(\n\t\t\t\t'root',\n\t\t\t\t'taxonomy',\n\t\t\t\t{ per_page: -1 }\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst visibleTaxonomies = ( taxonomies ?? [] ).filter(\n\t\t( taxonomy ) =>\n\t\t\t// In some circumstances .visibility can end up as undefined so optional chaining operator required.\n\t\t\t// https://github.com/WordPress/gutenberg/issues/40326\n\t\t\ttaxonomy.types.includes( postType ) && taxonomy.visibility?.show_ui\n\t);\n\n\treturn visibleTaxonomies.map( ( taxonomy ) => {\n\t\tconst TaxonomyComponent = taxonomy.hierarchical\n\t\t\t? HierarchicalTermSelector\n\t\t\t: FlatTermSelector;\n\n\t\treturn (\n\t\t\t<Fragment key={ `taxonomy-${ taxonomy.slug }` }>\n\t\t\t\t{ taxonomyWrapper(\n\t\t\t\t\t<TaxonomyComponent slug={ taxonomy.slug } />,\n\t\t\t\t\ttaxonomy\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t);\n\t} );\n}\n\n/**\n * Renders the taxonomies associated with a post.\n *\n * @param {Object}   props                 The component props.\n * @param {Function} props.taxonomyWrapper The wrapper function for each taxonomy component.\n *\n * @return {Array} An array of JSX elements representing the visible taxonomies.\n */\nexport default PostTaxonomies;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the children components only if the current post type has taxonomies.\n *\n * @param {Object}          props          The component props.\n * @param {React.ReactNode} props.children The children components to render.\n *\n * @return {React.ReactNode} The rendered children components or null if the current post type has no taxonomies.\n */\nexport default function PostTaxonomiesCheck( { children } ) {\n\tconst hasTaxonomies = useSelect( ( select ) => {\n\t\tconst postType = select( editorStore ).getCurrentPostType();\n\t\tconst taxonomies = select( coreStore ).getEntityRecords(\n\t\t\t'root',\n\t\t\t'taxonomy',\n\t\t\t{ per_page: -1 }\n\t\t);\n\t\treturn taxonomies?.some( ( taxonomy ) =>\n\t\t\ttaxonomy.types.includes( postType )\n\t\t);\n\t}, [] );\n\tif ( ! hasTaxonomies ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n", "/**\n * WordPress dependencies\n */\nimport { PanelBody } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTaxonomiesForm from './index';\nimport PostTaxonomiesCheck from './check';\n\n/**\n * Renders a panel for a specific taxonomy.\n *\n * @param {Object}          props          The component props.\n * @param {Object}          props.taxonomy The taxonomy object.\n * @param {React.ReactNode} props.children The child components.\n *\n * @return {React.ReactNode} The rendered taxonomy panel.\n */\nfunction TaxonomyPanel( { taxonomy, children } ) {\n\tconst slug = taxonomy?.slug;\n\tconst panelName = slug ? `taxonomy-panel-${ slug }` : '';\n\tconst { isEnabled, isOpened } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isEditorPanelEnabled, isEditorPanelOpened } =\n\t\t\t\tselect( editorStore );\n\t\t\treturn {\n\t\t\t\tisEnabled: slug ? isEditorPanelEnabled( panelName ) : false,\n\t\t\t\tisOpened: slug ? isEditorPanelOpened( panelName ) : false,\n\t\t\t};\n\t\t},\n\t\t[ panelName, slug ]\n\t);\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\tconst taxonomyMenuName = taxonomy?.labels?.menu_name;\n\tif ( ! taxonomyMenuName ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\ttitle={ taxonomyMenuName }\n\t\t\topened={ isOpened }\n\t\t\tonToggle={ () => toggleEditorPanelOpened( panelName ) }\n\t\t>\n\t\t\t{ children }\n\t\t</PanelBody>\n\t);\n}\n\n/**\n * Component that renders the post taxonomies panel.\n *\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PostTaxonomies() {\n\treturn (\n\t\t<PostTaxonomiesCheck>\n\t\t\t<PostTaxonomiesForm\n\t\t\t\ttaxonomyWrapper={ ( content, taxonomy ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TaxonomyPanel taxonomy={ taxonomy }>\n\t\t\t\t\t\t\t{ content }\n\t\t\t\t\t\t</TaxonomyPanel>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t/>\n\t\t</PostTaxonomiesCheck>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport Textarea from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useInstanceId } from '@wordpress/compose';\nimport { VisuallyHidden } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Displays the Post Text Editor along with content in Visual and Text mode.\n *\n * @return {React.ReactNode} The rendered PostTextEditor component.\n */\nexport default function PostTextEditor() {\n\tconst instanceId = useInstanceId( PostTextEditor );\n\tconst { content, blocks, type, id } = useSelect( ( select ) => {\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst _type = getCurrentPostType();\n\t\tconst _id = getCurrentPostId();\n\t\tconst editedRecord = getEditedEntityRecord( 'postType', _type, _id );\n\n\t\treturn {\n\t\t\tcontent: editedRecord?.content,\n\t\t\tblocks: editedRecord?.blocks,\n\t\t\ttype: _type,\n\t\t\tid: _id,\n\t\t};\n\t}, [] );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\t// Replicates the logic found in getEditedPostContent().\n\tconst value = useMemo( () => {\n\t\tif ( content instanceof Function ) {\n\t\t\treturn content( { blocks } );\n\t\t} else if ( blocks ) {\n\t\t\t// If we have parsed blocks already, they should be our source of truth.\n\t\t\t// Parsing applies block deprecations and legacy block conversions that\n\t\t\t// unparsed content will not have.\n\t\t\treturn __unstableSerializeAndClean( blocks );\n\t\t}\n\t\treturn content;\n\t}, [ content, blocks ] );\n\n\treturn (\n\t\t<>\n\t\t\t<VisuallyHidden\n\t\t\t\tas=\"label\"\n\t\t\t\thtmlFor={ `post-content-${ instanceId }` }\n\t\t\t>\n\t\t\t\t{ __( 'Type text or HTML' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t<Textarea\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\teditEntityRecord( 'postType', type, id, {\n\t\t\t\t\t\tcontent: event.target.value,\n\t\t\t\t\t\tblocks: undefined,\n\t\t\t\t\t\tselection: undefined,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tclassName=\"editor-post-text-editor\"\n\t\t\t\tid={ `post-content-${ instanceId }` }\n\t\t\t\tplaceholder={ __( 'Start writing with text or HTML' ) }\n\t\t\t/>\n\t\t</>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { forwardRef, useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { ENTER } from '@wordpress/keycodes';\nimport { pasteHandler } from '@wordpress/blocks';\nimport {\n\t__unstableUseRichText as useRichText,\n\tcreate,\n\tinsert,\n} from '@wordpress/rich-text';\nimport { useMergeRefs } from '@wordpress/compose';\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { DEFAULT_CLASSNAMES, REGEXP_NEWLINES } from './constants';\nimport usePostTitleFocus from './use-post-title-focus';\nimport usePostTitle from './use-post-title';\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nimport { unlock } from '../../lock-unlock';\n\nconst PostTitle = forwardRef( ( _, forwardedRef ) => {\n\tconst { placeholder, isEditingContentOnlySection, isPreview } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getSettings, getEditedContentOnlySection } = unlock(\n\t\t\t\tselect( blockEditorStore )\n\t\t\t);\n\t\t\tconst { titlePlaceholder, isPreviewMode } = getSettings();\n\n\t\t\treturn {\n\t\t\t\tplaceholder: titlePlaceholder,\n\t\t\t\tisEditingContentOnlySection: !! getEditedContentOnlySection(),\n\t\t\t\tisPreview: isPreviewMode,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst [ isSelected, setIsSelected ] = useState( false );\n\n\tconst { ref: focusRef } = usePostTitleFocus( forwardedRef );\n\n\tconst { title, setTitle: onUpdate } = usePostTitle();\n\n\tconst [ selection, setSelection ] = useState( {} );\n\n\tconst { clearSelectedBlock, insertBlocks, insertDefaultBlock } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst decodedPlaceholder =\n\t\tdecodeEntities( placeholder ) || __( 'Add title' );\n\n\tconst {\n\t\tvalue,\n\t\tonChange,\n\t\tref: richTextRef,\n\t} = useRichText( {\n\t\tvalue: title,\n\t\tonChange( newValue ) {\n\t\t\tonUpdate( newValue.replace( REGEXP_NEWLINES, ' ' ) );\n\t\t},\n\t\tplaceholder: decodedPlaceholder,\n\t\tselectionStart: selection.start,\n\t\tselectionEnd: selection.end,\n\t\tonSelectionChange( newStart, newEnd ) {\n\t\t\tsetSelection( ( sel ) => {\n\t\t\t\tconst { start, end } = sel;\n\t\t\t\tif ( start === newStart && end === newEnd ) {\n\t\t\t\t\treturn sel;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tstart: newStart,\n\t\t\t\t\tend: newEnd,\n\t\t\t\t};\n\t\t\t} );\n\t\t},\n\t\t__unstableDisableFormats: false,\n\t} );\n\n\tfunction onInsertBlockAfter( blocks ) {\n\t\tinsertBlocks( blocks, 0 );\n\t}\n\n\tfunction onSelect() {\n\t\tsetIsSelected( true );\n\t\tclearSelectedBlock();\n\t}\n\n\tfunction onUnselect() {\n\t\tsetIsSelected( false );\n\t\tsetSelection( {} );\n\t}\n\n\tfunction onEnterPress() {\n\t\tinsertDefaultBlock( undefined, undefined, 0 );\n\t}\n\n\tfunction onKeyDown( event ) {\n\t\tif ( event.keyCode === ENTER ) {\n\t\t\tevent.preventDefault();\n\t\t\tonEnterPress();\n\t\t}\n\t}\n\n\tfunction onPaste( event ) {\n\t\tconst clipboardData = event.clipboardData;\n\n\t\tlet plainText = '';\n\t\tlet html = '';\n\n\t\ttry {\n\t\t\tplainText = clipboardData.getData( 'text/plain' );\n\t\t\thtml = clipboardData.getData( 'text/html' );\n\t\t} catch ( error ) {\n\t\t\t// Some browsers like UC Browser paste plain text by default and\n\t\t\t// don't support clipboardData at all, so allow default\n\t\t\t// behaviour.\n\t\t\treturn;\n\t\t}\n\n\t\t// Allows us to ask for this information when we get a report.\n\t\twindow.console.log( 'Received HTML:\\n\\n', html );\n\t\twindow.console.log( 'Received plain text:\\n\\n', plainText );\n\n\t\tconst content = pasteHandler( {\n\t\t\tHTML: html,\n\t\t\tplainText,\n\t\t} );\n\n\t\tevent.preventDefault();\n\n\t\tif ( ! content.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( typeof content !== 'string' ) {\n\t\t\tconst [ firstBlock ] = content;\n\n\t\t\tif (\n\t\t\t\t! title &&\n\t\t\t\t( firstBlock.name === 'core/heading' ||\n\t\t\t\t\tfirstBlock.name === 'core/paragraph' )\n\t\t\t) {\n\t\t\t\t// Strip HTML to avoid unwanted HTML being added to the title.\n\t\t\t\t// In the majority of cases it is assumed that HTML in the title\n\t\t\t\t// is undesirable.\n\t\t\t\tconst contentNoHTML = stripHTML(\n\t\t\t\t\tfirstBlock.attributes.content\n\t\t\t\t);\n\t\t\t\tonUpdate( contentNoHTML );\n\t\t\t\tonInsertBlockAfter( content.slice( 1 ) );\n\t\t\t} else {\n\t\t\t\tonInsertBlockAfter( content );\n\t\t\t}\n\t\t} else {\n\t\t\t// Strip HTML to avoid unwanted HTML being added to the title.\n\t\t\t// In the majority of cases it is assumed that HTML in the title\n\t\t\t// is undesirable.\n\t\t\tconst contentNoHTML = stripHTML( content );\n\t\t\tonChange( insert( value, create( { html: contentNoHTML } ) ) );\n\t\t}\n\t}\n\n\t// The wp-block className is important for editor styles.\n\t// This same block is used in both the visual and the code editor.\n\tconst className = clsx( DEFAULT_CLASSNAMES, {\n\t\t'is-selected': isSelected,\n\t} );\n\n\t// Because the title is within the editor iframe, we can't use scss styles.\n\t// Instead use an inline style to dim the block when it's disabled.\n\tconst style = isEditingContentOnlySection ? { opacity: 0.2 } : undefined;\n\n\treturn (\n\t\t/* eslint-disable jsx-a11y/heading-has-content, jsx-a11y/no-noninteractive-element-to-interactive-role */\n\t\t<h1\n\t\t\tref={ useMergeRefs( [ richTextRef, focusRef ] ) }\n\t\t\tcontentEditable={ ! isEditingContentOnlySection && ! isPreview }\n\t\t\tclassName={ className }\n\t\t\taria-label={ decodedPlaceholder }\n\t\t\trole=\"textbox\"\n\t\t\taria-multiline=\"true\"\n\t\t\tonFocus={ onSelect }\n\t\t\tonBlur={ onUnselect }\n\t\t\tonKeyDown={ onKeyDown }\n\t\t\tonPaste={ onPaste }\n\t\t\tstyle={ style }\n\t\t/>\n\t\t/* eslint-enable jsx-a11y/heading-has-content, jsx-a11y/no-noninteractive-element-to-interactive-role */\n\t);\n} );\n\n/**\n * Renders the `PostTitle` component.\n *\n * @param {Object}  _            Unused parameter.\n * @param {Element} forwardedRef Forwarded ref for the component.\n *\n * @return {React.ReactNode} The rendered PostTitle component.\n */\nexport default forwardRef( ( _, forwardedRef ) => (\n\t<PostTypeSupportCheck supportKeys=\"title\">\n\t\t<PostTitle ref={ forwardedRef } />\n\t</PostTypeSupportCheck>\n) );\n", "export const DEFAULT_CLASSNAMES =\n\t'wp-block wp-block-post-title block-editor-block-list__block editor-post-title editor-post-title__input rich-text';\n\nexport const REGEXP_NEWLINES = /[\\r\\n]+/g;\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useImperativeHandle, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Custom hook that manages the focus behavior of the post title input field.\n *\n * @param {Element} forwardedRef - The forwarded ref for the input field.\n *\n * @return {Object} - The ref object.\n */\nexport default function usePostTitleFocus( forwardedRef ) {\n\tconst ref = useRef();\n\n\tconst { isCleanNewPost } = useSelect( ( select ) => {\n\t\tconst { isCleanNewPost: _isCleanNewPost } = select( editorStore );\n\n\t\treturn {\n\t\t\tisCleanNewPost: _isCleanNewPost(),\n\t\t};\n\t}, [] );\n\n\tuseImperativeHandle( forwardedRef, () => ( {\n\t\tfocus: () => {\n\t\t\tref?.current?.focus();\n\t\t},\n\t} ) );\n\n\tuseEffect( () => {\n\t\tif ( ! ref.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { defaultView } = ref.current.ownerDocument;\n\t\tconst { name, parent } = defaultView;\n\t\tconst ownerDocument =\n\t\t\tname === 'editor-canvas' ? parent.document : defaultView.document;\n\t\tconst { activeElement, body } = ownerDocument;\n\n\t\t// Only autofocus the title when the post is entirely empty. This should\n\t\t// only happen for a new post, which means we focus the title on new\n\t\t// post so the author can start typing right away, without needing to\n\t\t// click anything.\n\t\tif ( isCleanNewPost && ( ! activeElement || body === activeElement ) ) {\n\t\t\tref.current.focus();\n\t\t}\n\t}, [ isCleanNewPost ] );\n\n\treturn { ref };\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Custom hook for managing the post title in the editor.\n *\n * @return {Object} An object containing the current title and a function to update the title.\n */\nexport default function usePostTitle() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { title } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\n\t\treturn {\n\t\t\ttitle: getEditedPostAttribute( 'title' ),\n\t\t};\n\t}, [] );\n\n\tfunction updateTitle( newTitle ) {\n\t\teditPost( { title: newTitle } );\n\t}\n\n\treturn { title, setTitle: updateTitle };\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { TextareaControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useState, forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { DEFAULT_CLASSNAMES, REGEXP_NEWLINES } from './constants';\nimport usePostTitleFocus from './use-post-title-focus';\nimport usePostTitle from './use-post-title';\n\n/**\n * Renders a raw post title input field.\n *\n * @param {Object}  _            Unused parameter.\n * @param {Element} forwardedRef Reference to the component's DOM node.\n *\n * @return {React.ReactNode} The rendered component.\n */\nfunction PostTitleRaw( _, forwardedRef ) {\n\tconst { placeholder } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst { titlePlaceholder } = getSettings();\n\n\t\treturn {\n\t\t\tplaceholder: titlePlaceholder,\n\t\t};\n\t}, [] );\n\n\tconst [ isSelected, setIsSelected ] = useState( false );\n\n\tconst { title, setTitle: onUpdate } = usePostTitle();\n\tconst { ref: focusRef } = usePostTitleFocus( forwardedRef );\n\n\tfunction onChange( value ) {\n\t\tonUpdate( value.replace( REGEXP_NEWLINES, ' ' ) );\n\t}\n\n\tfunction onSelect() {\n\t\tsetIsSelected( true );\n\t}\n\n\tfunction onUnselect() {\n\t\tsetIsSelected( false );\n\t}\n\n\t// The wp-block className is important for editor styles.\n\t// This same block is used in both the visual and the code editor.\n\tconst className = clsx( DEFAULT_CLASSNAMES, {\n\t\t'is-selected': isSelected,\n\t\t'is-raw-text': true,\n\t} );\n\n\tconst decodedPlaceholder =\n\t\tdecodeEntities( placeholder ) || __( 'Add title' );\n\n\treturn (\n\t\t<TextareaControl\n\t\t\tref={ focusRef }\n\t\t\tvalue={ title }\n\t\t\tonChange={ onChange }\n\t\t\tonFocus={ onSelect }\n\t\t\tonBlur={ onUnselect }\n\t\t\tlabel={ placeholder }\n\t\t\tclassName={ className }\n\t\t\tplaceholder={ decodedPlaceholder }\n\t\t\thideLabelFromVision\n\t\t\tautoComplete=\"off\"\n\t\t\tdir=\"auto\"\n\t\t\trows={ 1 }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( PostTitleRaw );\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tButton,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { useSelect, useDispatch, useRegistry } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTrashCheck from './check';\n\n/**\n * Displays the Post Trash Button and Confirm Dialog in the Editor.\n *\n * @param {?{onActionPerformed: Object}} An object containing the onActionPerformed function.\n * @return {React.ReactNode} The rendered PostTrash component.\n */\nexport default function PostTrash( { onActionPerformed } ) {\n\tconst registry = useRegistry();\n\tconst { isNew, isDeleting, postId, title } = useSelect( ( select ) => {\n\t\tconst store = select( editorStore );\n\t\treturn {\n\t\t\tisNew: store.isEditedPostNew(),\n\t\t\tisDeleting: store.isDeletingPost(),\n\t\t\tpostId: store.getCurrentPostId(),\n\t\t\ttitle: store.getCurrentPostAttribute( 'title' ),\n\t\t};\n\t}, [] );\n\tconst { trashPost } = useDispatch( editorStore );\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\n\tif ( isNew || ! postId ) {\n\t\treturn null;\n\t}\n\n\tconst handleConfirm = async () => {\n\t\tsetShowConfirmDialog( false );\n\t\tawait trashPost();\n\t\tconst item = await registry\n\t\t\t.resolveSelect( editorStore )\n\t\t\t.getCurrentPost();\n\t\t// After the post is trashed, we want to trigger the onActionPerformed callback, so the user is redirect\n\t\t// to the post view depending on if the user is on post editor or site editor.\n\t\tonActionPerformed?.( 'move-to-trash', [ item ] );\n\t};\n\treturn (\n\t\t<PostTrashCheck>\n\t\t\t<Button\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tclassName=\"editor-post-trash\"\n\t\t\t\tisDestructive\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tisBusy={ isDeleting }\n\t\t\t\taria-disabled={ isDeleting }\n\t\t\t\tonClick={\n\t\t\t\t\tisDeleting ? undefined : () => setShowConfirmDialog( true )\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ __( 'Move to trash' ) }\n\t\t\t</Button>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\tonConfirm={ handleConfirm }\n\t\t\t\tonCancel={ () => setShowConfirmDialog( false ) }\n\t\t\t\tconfirmButtonText={ __( 'Move to trash' ) }\n\t\t\t\tsize=\"small\"\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: %s: The item's title.\n\t\t\t\t\t__( 'Are you sure you want to move \"%s\" to the trash?' ),\n\t\t\t\t\ttitle\n\t\t\t\t) }\n\t\t\t</ConfirmDialog>\n\t\t</PostTrashCheck>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { GLOBAL_POST_TYPES } from '../../store/constants';\n\n/**\n * Wrapper component that renders its children only if the post can be trashed.\n *\n * @param {Object}          props          The component props.\n * @param {React.ReactNode} props.children The child components.\n *\n * @return {React.ReactNode} The rendered child components or null if the post can't be trashed.\n */\nexport default function PostTrashCheck( { children } ) {\n\tconst { canTrashPost } = useSelect( ( select ) => {\n\t\tconst { isEditedPostNew, getCurrentPostId, getCurrentPostType } =\n\t\t\tselect( editorStore );\n\t\tconst { canUser } = select( coreStore );\n\t\tconst postType = getCurrentPostType();\n\t\tconst postId = getCurrentPostId();\n\t\tconst isNew = isEditedPostNew();\n\t\tconst canUserDelete = !! postId\n\t\t\t? canUser( 'delete', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: postType,\n\t\t\t\t\tid: postId,\n\t\t\t  } )\n\t\t\t: false;\n\n\t\treturn {\n\t\t\tcanTrashPost:\n\t\t\t\t( ! isNew || postId ) &&\n\t\t\t\tcanUserDelete &&\n\t\t\t\t! GLOBAL_POST_TYPES.includes( postType ),\n\t\t};\n\t}, [] );\n\tif ( ! canTrashPost ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { safeDecodeURIComponent, cleanForSlug } from '@wordpress/url';\nimport { useState, createInterpolateElement } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tExternalLink,\n\tButton,\n\t__experimentalInputControl as InputControl,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n\t__experimentalInputControlSuffixWrapper as InputControlSuffixWrapper,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { copySmall } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useCopyToClipboard, useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the `PostURL` component.\n *\n * @example\n * ```jsx\n * <PostURL />\n * ```\n *\n * @param {{ onClose: () => void }} props         The props for the component.\n * @param {() => void}              props.onClose Callback function to be executed when the popover is closed.\n *\n * @return {React.ReactNode} The rendered PostURL component.\n */\nexport default function PostURL( { onClose } ) {\n\tconst {\n\t\tisEditable,\n\t\tpostSlug,\n\t\tpostLink,\n\t\tpermalinkPrefix,\n\t\tpermalinkSuffix,\n\t\tpermalink,\n\t} = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tconst permalinkParts = select( editorStore ).getPermalinkParts();\n\t\tconst hasPublishAction = post?._links?.[ 'wp:action-publish' ] ?? false;\n\n\t\treturn {\n\t\t\tisEditable:\n\t\t\t\tselect( editorStore ).isPermalinkEditable() && hasPublishAction,\n\t\t\tpostSlug: safeDecodeURIComponent(\n\t\t\t\tselect( editorStore ).getEditedPostSlug()\n\t\t\t),\n\t\t\tviewPostLabel: postType?.labels.view_item,\n\t\t\tpostLink: post.link,\n\t\t\tpermalinkPrefix: permalinkParts?.prefix,\n\t\t\tpermalinkSuffix: permalinkParts?.suffix,\n\t\t\tpermalink: safeDecodeURIComponent(\n\t\t\t\tselect( editorStore ).getPermalink()\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst [ forceEmptyField, setForceEmptyField ] = useState( false );\n\tconst copyButtonRef = useCopyToClipboard( permalink, () => {\n\t\tcreateNotice( 'info', __( 'Copied Permalink to clipboard.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t} );\n\tconst postUrlSlugDescriptionId =\n\t\t'editor-post-url__slug-description-' + useInstanceId( PostURL );\n\n\treturn (\n\t\t<div className=\"editor-post-url\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Slug' ) }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t{ isEditable && (\n\t\t\t\t\t<p className=\"editor-post-url__intro\">\n\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'<span>Customize the last part of the Permalink.</span> <a>Learn more.</a>'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tspan: <span id={ postUrlSlugDescriptionId } />,\n\t\t\t\t\t\t\t\ta: (\n\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#permalink'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t\t<div>\n\t\t\t\t\t{ isEditable && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tprefix={\n\t\t\t\t\t\t\t\t\t<InputControlPrefixWrapper>\n\t\t\t\t\t\t\t\t\t\t/\n\t\t\t\t\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsuffix={\n\t\t\t\t\t\t\t\t\t<InputControlSuffixWrapper variant=\"control\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ticon={ copySmall }\n\t\t\t\t\t\t\t\t\t\t\tref={ copyButtonRef }\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Copy\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</InputControlSuffixWrapper>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={ __( 'Slug' ) }\n\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\tvalue={ forceEmptyField ? '' : postSlug }\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tspellCheck=\"false\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"editor-post-url__input\"\n\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\teditPost( { slug: newValue } );\n\t\t\t\t\t\t\t\t\t// When we delete the field the permalink gets\n\t\t\t\t\t\t\t\t\t// reverted to the original value.\n\t\t\t\t\t\t\t\t\t// The forceEmptyField logic allows the user to have\n\t\t\t\t\t\t\t\t\t// the field temporarily empty while typing.\n\t\t\t\t\t\t\t\t\tif ( ! newValue ) {\n\t\t\t\t\t\t\t\t\t\tif ( ! forceEmptyField ) {\n\t\t\t\t\t\t\t\t\t\t\tsetForceEmptyField( true );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\t\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tonBlur={ ( event ) => {\n\t\t\t\t\t\t\t\t\teditPost( {\n\t\t\t\t\t\t\t\t\t\tslug: cleanForSlug(\n\t\t\t\t\t\t\t\t\t\t\tevent.target.value\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\t\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taria-describedby={ postUrlSlugDescriptionId }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p className=\"editor-post-url__permalink\">\n\t\t\t\t\t\t\t\t<span className=\"editor-post-url__permalink-visual-label\">\n\t\t\t\t\t\t\t\t\t{ __( 'Permalink:' ) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\tclassName=\"editor-post-url__link\"\n\t\t\t\t\t\t\t\t\thref={ postLink }\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"editor-post-url__link-prefix\">\n\t\t\t\t\t\t\t\t\t\t{ permalinkPrefix }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"editor-post-url__link-slug\">\n\t\t\t\t\t\t\t\t\t\t{ postSlug }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"editor-post-url__link-suffix\">\n\t\t\t\t\t\t\t\t\t\t{ permalinkSuffix }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isEditable && (\n\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\tclassName=\"editor-post-url__link\"\n\t\t\t\t\t\t\thref={ postLink }\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ postLink }\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Check if the post URL is valid and visible.\n *\n * @param {Object}          props          The component props.\n * @param {React.ReactNode} props.children The child components.\n *\n * @return {React.ReactNode} The child components if the post URL is valid and visible, otherwise null.\n */\nexport default function PostURLCheck( { children } ) {\n\tconst isVisible = useSelect( ( select ) => {\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tif ( ! postType?.viewable ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tif ( ! post.link ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst permalinkParts = select( editorStore ).getPermalinkParts();\n\t\tif ( ! permalinkParts ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}, [] );\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { filterURLForDisplay, safeDecodeURIComponent } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Represents a label component for a post URL.\n *\n * @return {React.ReactNode} The PostURLLabel component.\n */\nexport default function PostURLLabel() {\n\treturn usePostURLLabel();\n}\n\n/**\n * Custom hook to get the label for the post URL.\n *\n * @return {string} The filtered and decoded post URL label.\n */\nexport function usePostURLLabel() {\n\tconst postLink = useSelect(\n\t\t( select ) => select( editorStore ).getPermalink(),\n\t\t[]\n\t);\n\treturn filterURLForDisplay( safeDecodeURIComponent( postLink ) );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo, useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { Dropdown, Button, ExternalLink } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { safeDecodeURIComponent } from '@wordpress/url';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostURLCheck from './check';\nimport PostURL from './index';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the `PostURLPanel` component.\n *\n * @return {React.ReactNode} The rendered PostURLPanel component.\n */\nexport default function PostURLPanel() {\n\tconst { isFrontPage } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostId } = select( editorStore );\n\t\tconst { getEditedEntityRecord, canUser } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\tconst _id = getCurrentPostId();\n\t\treturn {\n\t\t\tisFrontPage: siteSettings?.page_on_front === _id,\n\t\t};\n\t}, [] );\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tconst label = isFrontPage ? __( 'Link' ) : __( 'Slug' );\n\n\treturn (\n\t\t<PostURLCheck>\n\t\t\t<PostPanelRow label={ label } ref={ setPopoverAnchor }>\n\t\t\t\t{ ! isFrontPage && (\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t\tclassName=\"editor-post-url__panel-dropdown\"\n\t\t\t\t\t\tcontentClassName=\"editor-post-url__panel-dialog\"\n\t\t\t\t\t\tfocusOnMount\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<PostURLToggle\n\t\t\t\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t\t<PostURL onClose={ onClose } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isFrontPage && <FrontPageLink /> }\n\t\t\t</PostPanelRow>\n\t\t</PostURLCheck>\n\t);\n}\n\nfunction PostURLToggle( { isOpen, onClick } ) {\n\tconst { slug } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tslug: select( editorStore ).getEditedPostSlug(),\n\t\t};\n\t}, [] );\n\tconst decodedSlug = safeDecodeURIComponent( slug );\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\tclassName=\"editor-post-url__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\taria-label={\n\t\t\t\t// translators: %s: Current post link.\n\t\t\t\tsprintf( __( 'Change link: %s' ), decodedSlug )\n\t\t\t}\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t<>{ decodedSlug }</>\n\t\t</Button>\n\t);\n}\n\nfunction FrontPageLink() {\n\tconst { postLink } = useSelect( ( select ) => {\n\t\tconst { getCurrentPost } = select( editorStore );\n\t\treturn {\n\t\t\tpostLink: getCurrentPost()?.link,\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"editor-post-url__front-page-link\"\n\t\t\thref={ postLink }\n\t\t\ttarget=\"_blank\"\n\t\t>\n\t\t\t{ postLink }\n\t\t</ExternalLink>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Determines if the current post can be edited (published)\n * and passes this information to the provided render function.\n *\n * @param {Object}   props        The component props.\n * @param {Function} props.render Function to render the component.\n *                                Receives an object with a `canEdit` property.\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PostVisibilityCheck( { render } ) {\n\tconst canEdit = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( editorStore ).getCurrentPost()._links?.[\n\t\t\t\t'wp:action-publish'\n\t\t\t] ?? false\n\t\t);\n\t} );\n\n\treturn render( { canEdit } );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Dropdown, Button } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { info } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport TableOfContentsPanel from './panel';\n\nfunction TableOfContents(\n\t{ hasOutlineItemsDisabled, repositionDropdown, ...props },\n\tref\n) {\n\tconst hasBlocks = useSelect(\n\t\t( select ) => !! select( blockEditorStore ).getBlockCount(),\n\t\t[]\n\t);\n\treturn (\n\t\t<Dropdown\n\t\t\tpopoverProps={ {\n\t\t\t\tplacement: repositionDropdown ? 'right' : 'bottom',\n\t\t\t} }\n\t\t\tclassName=\"table-of-contents\"\n\t\t\tcontentClassName=\"table-of-contents__popover\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tonClick={ hasBlocks ? onToggle : undefined }\n\t\t\t\t\ticon={ info }\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\tlabel={ __( 'Details' ) }\n\t\t\t\t\ttooltipPosition=\"bottom\"\n\t\t\t\t\taria-disabled={ ! hasBlocks }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<TableOfContentsPanel\n\t\t\t\t\tonRequestClose={ onClose }\n\t\t\t\t\thasOutlineItemsDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t/>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\n/**\n * Renders a table of contents component.\n *\n * @param {Object}      props                         The component props.\n * @param {boolean}     props.hasOutlineItemsDisabled Whether outline items are disabled.\n * @param {boolean}     props.repositionDropdown      Whether to reposition the dropdown.\n * @param {Element.ref} ref                           The component's ref.\n *\n * @return {React.ReactNode} The rendered table of contents component.\n */\nexport default forwardRef( TableOfContents );\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport WordCount from '../word-count';\nimport TimeToRead from '../time-to-read';\nimport DocumentOutline from '../document-outline';\nimport CharacterCount from '../character-count';\n\nfunction TableOfContentsPanel( { hasOutlineItemsDisabled, onRequestClose } ) {\n\tconst { headingCount, paragraphCount, numberOfBlocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getGlobalBlockCount } = select( blockEditorStore );\n\t\t\treturn {\n\t\t\t\theadingCount: getGlobalBlockCount( 'core/heading' ),\n\t\t\t\tparagraphCount: getGlobalBlockCount( 'core/paragraph' ),\n\t\t\t\tnumberOfBlocks: getGlobalBlockCount(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName=\"table-of-contents__wrapper\"\n\t\t\t\trole=\"note\"\n\t\t\t\taria-label={ __( 'Document Statistics' ) }\n\t\t\t\ttabIndex=\"0\"\n\t\t\t>\n\t\t\t\t<ul role=\"list\" className=\"table-of-contents__counts\">\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Words' ) }\n\t\t\t\t\t\t<WordCount />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Characters' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t<CharacterCount />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Time to read' ) }\n\t\t\t\t\t\t<TimeToRead />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Headings' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ headingCount }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Paragraphs' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ paragraphCount }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Blocks' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ numberOfBlocks }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t{ headingCount > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<h2 className=\"table-of-contents__title\">\n\t\t\t\t\t\t{ __( 'Document Outline' ) }\n\t\t\t\t\t</h2>\n\t\t\t\t\t<DocumentOutline\n\t\t\t\t\t\tonSelect={ onRequestClose }\n\t\t\t\t\t\thasOutlineItemsDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nexport default TableOfContentsPanel;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { _x } from '@wordpress/i18n';\nimport { count as wordCount } from '@wordpress/wordcount';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the word count of the post content.\n *\n * @return {React.ReactNode} The rendered WordCount component.\n */\nexport default function WordCount() {\n\tconst content = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'content' ),\n\t\t[]\n\t);\n\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\n\treturn (\n\t\t<span className=\"word-count\">\n\t\t\t{ wordCount( content, wordCountType ) }\n\t\t</span>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { _x, _n, __, sprintf } from '@wordpress/i18n';\nimport { count as wordCount } from '@wordpress/wordcount';\nimport { createInterpolateElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Average reading rate - based on average taken from\n * https://irisreading.com/average-reading-speed-in-various-languages/\n * (Characters/minute used for Chinese rather than words).\n *\n * @type {number} A rough estimate of the average reading rate across multiple languages.\n */\nconst AVERAGE_READING_RATE = 189;\n\n/**\n * Component for showing Time To Read in Content.\n *\n * @return {React.ReactNode} The rendered TimeToRead component.\n */\nexport default function TimeToRead() {\n\tconst content = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'content' ),\n\t\t[]\n\t);\n\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\tconst minutesToRead = Math.round(\n\t\twordCount( content, wordCountType ) / AVERAGE_READING_RATE\n\t);\n\tconst minutesToReadString =\n\t\tminutesToRead === 0\n\t\t\t? createInterpolateElement( __( '<span>< 1</span> minute' ), {\n\t\t\t\t\tspan: <span />,\n\t\t\t  } )\n\t\t\t: createInterpolateElement(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %s: the number of minutes to read the post. */\n\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t'<span>%s</span> minute',\n\t\t\t\t\t\t\t'<span>%s</span> minutes',\n\t\t\t\t\t\t\tminutesToRead\n\t\t\t\t\t\t),\n\t\t\t\t\t\tminutesToRead\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tspan: <span />,\n\t\t\t\t\t}\n\t\t\t  );\n\n\treturn <span className=\"time-to-read\">{ minutesToReadString }</span>;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { count as characterCount } from '@wordpress/wordcount';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the character count of the post content.\n *\n * @return {number} The character count.\n */\nexport default function CharacterCount() {\n\tconst content = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'content' ),\n\t\t[]\n\t);\n\n\treturn characterCount( content, 'characters_including_spaces' );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Warns the user if there are unsaved changes before leaving the editor.\n * Compatible with Post Editor and Site Editor.\n *\n * @return {React.ReactNode} The component.\n */\nexport default function UnsavedChangesWarning() {\n\tconst { __experimentalGetDirtyEntityRecords } = useSelect( coreStore );\n\n\tuseEffect( () => {\n\t\t/**\n\t\t * Warns the user if there are unsaved changes before leaving the editor.\n\t\t *\n\t\t * @param {Event} event `beforeunload` event.\n\t\t *\n\t\t * @return {string | undefined} Warning prompt message, if unsaved changes exist.\n\t\t */\n\t\tconst warnIfUnsavedChanges = ( event ) => {\n\t\t\t// We need to call the selector directly in the listener to avoid race\n\t\t\t// conditions with `BrowserURL` where `componentDidUpdate` gets the\n\t\t\t// new value of `isEditedPostDirty` before this component does,\n\t\t\t// causing this component to incorrectly think a trashed post is still dirty.\n\t\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\t\tif ( dirtyEntityRecords.length > 0 ) {\n\t\t\t\tevent.returnValue = __(\n\t\t\t\t\t'You have unsaved changes. If you proceed, they will be lost.'\n\t\t\t\t);\n\t\t\t\treturn event.returnValue;\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener( 'beforeunload', warnIfUnsavedChanges );\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener( 'beforeunload', warnIfUnsavedChanges );\n\t\t};\n\t}, [ __experimentalGetDirtyEntityRecords ] );\n\n\treturn null;\n}\n", "// Block Creation Components.\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { forwardRef } from '@wordpress/element';\nimport {\n\tAutocomplete as RootAutocomplete,\n\tAlignmentToolbar as RootAlignmentToolbar,\n\tBlockAlignmentToolbar as RootBlockAlignmentToolbar,\n\tBlockControls as RootBlockControls,\n\tBlockEdit as RootBlockEdit,\n\tBlockEditorKeyboardShortcuts as RootBlockEditorKeyboardShortcuts,\n\tBlockFormatControls as RootBlockFormatControls,\n\tBlockIcon as RootBlockIcon,\n\tBlockInspector as RootBlockInspector,\n\tBlockList as RootBlockList,\n\tBlockMover as RootBlockMover,\n\tBlockNavigationDropdown as RootBlockNavigationDropdown,\n\tBlockSelectionClearer as RootBlockSelectionClearer,\n\tBlockSettingsMenu as RootBlockSettingsMenu,\n\tBlockTitle as RootBlockTitle,\n\tBlockToolbar as RootBlockToolbar,\n\tColorPalette as RootColorPalette,\n\tContrastChecker as RootContrastChecker,\n\tCopyHandler as RootCopyHandler,\n\tcreateCustomColorsHOC as rootCreateCustomColorsHOC,\n\tDefaultBlockAppender as RootDefaultBlockAppender,\n\tFontSizePicker as RootFontSizePicker,\n\tgetColorClassName as rootGetColorClassName,\n\tgetColorObjectByAttributeValues as rootGetColorObjectByAttributeValues,\n\tgetColorObjectByColorValue as rootGetColorObjectByColorValue,\n\tgetFontSize as rootGetFontSize,\n\tgetFontSizeClass as rootGetFontSizeClass,\n\tInserter as RootInserter,\n\tInnerBlocks as RootInnerBlocks,\n\tInspectorAdvancedControls as RootInspectorAdvancedControls,\n\tInspectorControls as RootInspectorControls,\n\tPanelColorSettings as RootPanelColorSettings,\n\tPlainText as RootPlainText,\n\tRichText as RootRichText,\n\tRichTextShortcut as RootRichTextShortcut,\n\tRichTextToolbarButton as RootRichTextToolbarButton,\n\t__unstableRichTextInputEvent as __unstableRootRichTextInputEvent,\n\tMediaPlaceholder as RootMediaPlaceholder,\n\tMediaUpload as RootMediaUpload,\n\tMediaUploadCheck as RootMediaUploadCheck,\n\tMultiSelectScrollIntoView as RootMultiSelectScrollIntoView,\n\tNavigableToolbar as RootNavigableToolbar,\n\tObserveTyping as RootObserveTyping,\n\tSkipToSelectedBlock as RootSkipToSelectedBlock,\n\tURLInput as RootURLInput,\n\tURLInputButton as RootURLInputButton,\n\tURLPopover as RootURLPopover,\n\tWarning as RootWarning,\n\tWritingFlow as RootWritingFlow,\n\twithColorContext as rootWithColorContext,\n\twithColors as rootWithColors,\n\twithFontSizes as rootWithFontSizes,\n} from '@wordpress/block-editor';\n\nexport { default as ServerSideRender } from '@wordpress/server-side-render';\n\nfunction deprecateComponent( name, Wrapped, staticsToHoist = [] ) {\n\tconst Component = forwardRef( ( props, ref ) => {\n\t\tdeprecated( 'wp.editor.' + name, {\n\t\t\tsince: '5.3',\n\t\t\talternative: 'wp.blockEditor.' + name,\n\t\t\tversion: '6.2',\n\t\t} );\n\n\t\treturn <Wrapped ref={ ref } { ...props } />;\n\t} );\n\n\tstaticsToHoist.forEach( ( staticName ) => {\n\t\tComponent[ staticName ] = deprecateComponent(\n\t\t\tname + '.' + staticName,\n\t\t\tWrapped[ staticName ]\n\t\t);\n\t} );\n\n\treturn Component;\n}\n\nfunction deprecateFunction( name, func ) {\n\treturn ( ...args ) => {\n\t\tdeprecated( 'wp.editor.' + name, {\n\t\t\tsince: '5.3',\n\t\t\talternative: 'wp.blockEditor.' + name,\n\t\t\tversion: '6.2',\n\t\t} );\n\n\t\treturn func( ...args );\n\t};\n}\n\n/**\n * @deprecated since 5.3, use `wp.blockEditor.RichText` instead.\n */\nconst RichText = deprecateComponent( 'RichText', RootRichText, [ 'Content' ] );\nRichText.isEmpty = deprecateFunction(\n\t'RichText.isEmpty',\n\tRootRichText.isEmpty\n);\n\nexport { RichText };\n\n/**\n * @deprecated since 5.3, use `wp.blockEditor.Autocomplete` instead.\n */\nexport const Autocomplete = deprecateComponent(\n\t'Autocomplete',\n\tRootAutocomplete\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.AlignmentToolbar` instead.\n */\nexport const AlignmentToolbar = deprecateComponent(\n\t'AlignmentToolbar',\n\tRootAlignmentToolbar\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockAlignmentToolbar` instead.\n */\nexport const BlockAlignmentToolbar = deprecateComponent(\n\t'BlockAlignmentToolbar',\n\tRootBlockAlignmentToolbar\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockControls` instead.\n */\nexport const BlockControls = deprecateComponent(\n\t'BlockControls',\n\tRootBlockControls,\n\t[ 'Slot' ]\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockEdit` instead.\n */\nexport const BlockEdit = deprecateComponent( 'BlockEdit', RootBlockEdit );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockEditorKeyboardShortcuts` instead.\n */\nexport const BlockEditorKeyboardShortcuts = deprecateComponent(\n\t'BlockEditorKeyboardShortcuts',\n\tRootBlockEditorKeyboardShortcuts\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockFormatControls` instead.\n */\nexport const BlockFormatControls = deprecateComponent(\n\t'BlockFormatControls',\n\tRootBlockFormatControls,\n\t[ 'Slot' ]\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockIcon` instead.\n */\nexport const BlockIcon = deprecateComponent( 'BlockIcon', RootBlockIcon );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockInspector` instead.\n */\nexport const BlockInspector = deprecateComponent(\n\t'BlockInspector',\n\tRootBlockInspector\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockList` instead.\n */\nexport const BlockList = deprecateComponent( 'BlockList', RootBlockList );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockMover` instead.\n */\nexport const BlockMover = deprecateComponent( 'BlockMover', RootBlockMover );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockNavigationDropdown` instead.\n */\nexport const BlockNavigationDropdown = deprecateComponent(\n\t'BlockNavigationDropdown',\n\tRootBlockNavigationDropdown\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockSelectionClearer` instead.\n */\nexport const BlockSelectionClearer = deprecateComponent(\n\t'BlockSelectionClearer',\n\tRootBlockSelectionClearer\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockSettingsMenu` instead.\n */\nexport const BlockSettingsMenu = deprecateComponent(\n\t'BlockSettingsMenu',\n\tRootBlockSettingsMenu\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockTitle` instead.\n */\nexport const BlockTitle = deprecateComponent( 'BlockTitle', RootBlockTitle );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockToolbar` instead.\n */\nexport const BlockToolbar = deprecateComponent(\n\t'BlockToolbar',\n\tRootBlockToolbar\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.ColorPalette` instead.\n */\nexport const ColorPalette = deprecateComponent(\n\t'ColorPalette',\n\tRootColorPalette\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.ContrastChecker` instead.\n */\nexport const ContrastChecker = deprecateComponent(\n\t'ContrastChecker',\n\tRootContrastChecker\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.CopyHandler` instead.\n */\nexport const CopyHandler = deprecateComponent( 'CopyHandler', RootCopyHandler );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.DefaultBlockAppender` instead.\n */\nexport const DefaultBlockAppender = deprecateComponent(\n\t'DefaultBlockAppender',\n\tRootDefaultBlockAppender\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.FontSizePicker` instead.\n */\nexport const FontSizePicker = deprecateComponent(\n\t'FontSizePicker',\n\tRootFontSizePicker\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.Inserter` instead.\n */\nexport const Inserter = deprecateComponent( 'Inserter', RootInserter );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.InnerBlocks` instead.\n */\nexport const InnerBlocks = deprecateComponent( 'InnerBlocks', RootInnerBlocks, [\n\t'ButtonBlockAppender',\n\t'DefaultBlockAppender',\n\t'Content',\n] );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.InspectorAdvancedControls` instead.\n */\nexport const InspectorAdvancedControls = deprecateComponent(\n\t'InspectorAdvancedControls',\n\tRootInspectorAdvancedControls,\n\t[ 'Slot' ]\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.InspectorControls` instead.\n */\nexport const InspectorControls = deprecateComponent(\n\t'InspectorControls',\n\tRootInspectorControls,\n\t[ 'Slot' ]\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.PanelColorSettings` instead.\n */\nexport const PanelColorSettings = deprecateComponent(\n\t'PanelColorSettings',\n\tRootPanelColorSettings\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.PlainText` instead.\n */\nexport const PlainText = deprecateComponent( 'PlainText', RootPlainText );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.RichTextShortcut` instead.\n */\nexport const RichTextShortcut = deprecateComponent(\n\t'RichTextShortcut',\n\tRootRichTextShortcut\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.RichTextToolbarButton` instead.\n */\nexport const RichTextToolbarButton = deprecateComponent(\n\t'RichTextToolbarButton',\n\tRootRichTextToolbarButton\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.__unstableRichTextInputEvent` instead.\n */\nexport const __unstableRichTextInputEvent = deprecateComponent(\n\t'__unstableRichTextInputEvent',\n\t__unstableRootRichTextInputEvent\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.MediaPlaceholder` instead.\n */\nexport const MediaPlaceholder = deprecateComponent(\n\t'MediaPlaceholder',\n\tRootMediaPlaceholder\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.MediaUpload` instead.\n */\nexport const MediaUpload = deprecateComponent( 'MediaUpload', RootMediaUpload );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.MediaUploadCheck` instead.\n */\nexport const MediaUploadCheck = deprecateComponent(\n\t'MediaUploadCheck',\n\tRootMediaUploadCheck\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.MultiSelectScrollIntoView` instead.\n */\nexport const MultiSelectScrollIntoView = deprecateComponent(\n\t'MultiSelectScrollIntoView',\n\tRootMultiSelectScrollIntoView\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.NavigableToolbar` instead.\n */\nexport const NavigableToolbar = deprecateComponent(\n\t'NavigableToolbar',\n\tRootNavigableToolbar\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.ObserveTyping` instead.\n */\nexport const ObserveTyping = deprecateComponent(\n\t'ObserveTyping',\n\tRootObserveTyping\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.SkipToSelectedBlock` instead.\n */\nexport const SkipToSelectedBlock = deprecateComponent(\n\t'SkipToSelectedBlock',\n\tRootSkipToSelectedBlock\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.URLInput` instead.\n */\nexport const URLInput = deprecateComponent( 'URLInput', RootURLInput );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.URLInputButton` instead.\n */\nexport const URLInputButton = deprecateComponent(\n\t'URLInputButton',\n\tRootURLInputButton\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.URLPopover` instead.\n */\nexport const URLPopover = deprecateComponent( 'URLPopover', RootURLPopover );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.Warning` instead.\n */\nexport const Warning = deprecateComponent( 'Warning', RootWarning );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.WritingFlow` instead.\n */\nexport const WritingFlow = deprecateComponent( 'WritingFlow', RootWritingFlow );\n\n/**\n * @deprecated since 5.3, use `wp.blockEditor.createCustomColorsHOC` instead.\n */\nexport const createCustomColorsHOC = deprecateFunction(\n\t'createCustomColorsHOC',\n\trootCreateCustomColorsHOC\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getColorClassName` instead.\n */\nexport const getColorClassName = deprecateFunction(\n\t'getColorClassName',\n\trootGetColorClassName\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getColorObjectByAttributeValues` instead.\n */\nexport const getColorObjectByAttributeValues = deprecateFunction(\n\t'getColorObjectByAttributeValues',\n\trootGetColorObjectByAttributeValues\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getColorObjectByColorValue` instead.\n */\nexport const getColorObjectByColorValue = deprecateFunction(\n\t'getColorObjectByColorValue',\n\trootGetColorObjectByColorValue\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getFontSize` instead.\n */\nexport const getFontSize = deprecateFunction( 'getFontSize', rootGetFontSize );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getFontSizeClass` instead.\n */\nexport const getFontSizeClass = deprecateFunction(\n\t'getFontSizeClass',\n\trootGetFontSizeClass\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.createCustomColorsHOC` instead.\n */\nexport const withColorContext = deprecateFunction(\n\t'withColorContext',\n\trootWithColorContext\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.withColors` instead.\n */\nexport const withColors = deprecateFunction( 'withColors', rootWithColors );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.withFontSizes` instead.\n */\nexport const withFontSizes = deprecateFunction(\n\t'withFontSizes',\n\trootWithFontSizes\n);\n", "/**\n * Internal dependencies\n */\nimport EditorKeyboardShortcuts from './global-keyboard-shortcuts';\n\n// Block Creation Components.\nexport * from './autocompleters';\n\n// Post Related Components.\nexport { default as AutosaveMonitor } from './autosave-monitor';\nexport { default as DocumentBar } from './document-bar';\nexport { default as DocumentOutline } from './document-outline';\nexport { default as DocumentOutlineCheck } from './document-outline/check';\nexport { EditorKeyboardShortcuts };\nexport { default as EditorKeyboardShortcutsRegister } from './global-keyboard-shortcuts/register-shortcuts';\nexport { default as EditorHistoryRedo } from './editor-history/redo';\nexport { default as EditorHistoryUndo } from './editor-history/undo';\nexport { default as EditorNotices } from './editor-notices';\nexport { default as EditorSnackbars } from './editor-snackbars';\nexport { default as EntitiesSavedStates } from './entities-saved-states';\nexport { useIsDirty as useEntitiesSavedStatesIsDirty } from './entities-saved-states/hooks/use-is-dirty';\nexport { default as ErrorBoundary } from './error-boundary';\nexport { default as LocalAutosaveMonitor } from './local-autosave-monitor';\nexport { default as PageAttributesCheck } from './page-attributes/check';\nexport { default as PageAttributesOrder } from './page-attributes/order';\nexport { default as PageAttributesPanel } from './page-attributes/panel';\nexport { default as PageAttributesParent } from './page-attributes/parent';\nexport { default as PageTemplate } from './post-template/classic-theme';\nexport { default as PluginDocumentSettingPanel } from './plugin-document-setting-panel';\nexport { default as PluginBlockSettingsMenuItem } from './block-settings-menu/plugin-block-settings-menu-item';\nexport { default as PluginMoreMenuItem } from './plugin-more-menu-item';\nexport { default as PluginPostPublishPanel } from './plugin-post-publish-panel';\nexport { default as PluginPostStatusInfo } from './plugin-post-status-info';\nexport { default as PluginPrePublishPanel } from './plugin-pre-publish-panel';\nexport { default as PluginPreviewMenuItem } from './plugin-preview-menu-item';\nexport { default as PluginSidebar } from './plugin-sidebar';\nexport { default as PluginSidebarMoreMenuItem } from './plugin-sidebar-more-menu-item';\nexport { default as PostTemplatePanel } from './post-template/panel';\nexport { default as PostAuthor } from './post-author';\nexport { default as PostAuthorCheck } from './post-author/check';\nexport { default as PostAuthorPanel } from './post-author/panel';\nexport { default as PostComments } from './post-comments';\nexport { default as PostDiscussionPanel } from './post-discussion/panel';\nexport { default as PostExcerpt } from './post-excerpt';\nexport { default as PostExcerptCheck } from './post-excerpt/check';\nexport { default as PostExcerptPanel } from './post-excerpt/panel';\nexport { default as PostFeaturedImage } from './post-featured-image';\nexport { default as PostFeaturedImageCheck } from './post-featured-image/check';\nexport { default as PostFeaturedImagePanel } from './post-featured-image/panel';\nexport { default as PostFormat } from './post-format';\nexport { default as PostFormatCheck } from './post-format/check';\nexport { default as PostLastRevision } from './post-last-revision';\nexport { default as PostLastRevisionCheck } from './post-last-revision/check';\nexport { default as PostLastRevisionPanel } from './post-last-revision/panel';\nexport { default as PostLockedModal } from './post-locked-modal';\nexport { default as PostPendingStatus } from './post-pending-status';\nexport { default as PostPendingStatusCheck } from './post-pending-status/check';\nexport { default as PostPingbacks } from './post-pingbacks';\nexport { default as PostPreviewButton } from './post-preview-button';\nexport { default as PostPublishButton } from './post-publish-button';\nexport { default as PostPublishButtonLabel } from './post-publish-button/label';\nexport { default as PostPublishPanel } from './post-publish-panel';\nexport { default as PostSavedState } from './post-saved-state';\nexport { default as PostSchedule } from './post-schedule';\nexport { default as PostScheduleCheck } from './post-schedule/check';\nexport {\n\tdefault as PostScheduleLabel,\n\tusePostScheduleLabel,\n} from './post-schedule/label';\nexport { default as PostSchedulePanel } from './post-schedule/panel';\nexport { default as PostSticky } from './post-sticky';\nexport { default as PostStickyCheck } from './post-sticky/check';\nexport { default as PostSwitchToDraftButton } from './post-switch-to-draft-button';\nexport { default as PostSyncStatus } from './post-sync-status';\nexport { default as PostTaxonomies } from './post-taxonomies';\nexport { FlatTermSelector as PostTaxonomiesFlatTermSelector } from './post-taxonomies/flat-term-selector';\nexport { HierarchicalTermSelector as PostTaxonomiesHierarchicalTermSelector } from './post-taxonomies/hierarchical-term-selector';\nexport { default as PostTaxonomiesCheck } from './post-taxonomies/check';\nexport { default as PostTaxonomiesPanel } from './post-taxonomies/panel';\nexport { default as PostTextEditor } from './post-text-editor';\nexport { default as PostTitle } from './post-title';\nexport { default as PostTitleRaw } from './post-title/post-title-raw';\nexport { default as PostTrash } from './post-trash';\nexport { default as PostTrashCheck } from './post-trash/check';\nexport { default as PostTypeSupportCheck } from './post-type-support-check';\nexport { default as PostURL } from './post-url';\nexport { default as PostURLCheck } from './post-url/check';\nexport { default as PostURLLabel, usePostURLLabel } from './post-url/label';\nexport { default as PostURLPanel } from './post-url/panel';\nexport { default as PostVisibility } from './post-visibility';\nexport {\n\tdefault as PostVisibilityLabel,\n\tusePostVisibilityLabel,\n} from './post-visibility/label';\nexport { default as PostVisibilityCheck } from './post-visibility/check';\nexport { default as TableOfContents } from './table-of-contents';\nexport { default as ThemeSupportCheck } from './theme-support-check';\nexport { default as UnsavedChangesWarning } from './unsaved-changes-warning';\nexport { default as WordCount } from './word-count';\nexport { default as TimeToRead } from './time-to-read';\nexport { default as CharacterCount } from './character-count';\n\n// State Related Components.\nexport { default as EditorProvider } from './provider';\n\nexport * from './deprecated';\n\n/**\n * Handles the keyboard shortcuts for the editor.\n *\n * It provides functionality for various keyboard shortcuts such as toggling editor mode,\n * toggling distraction-free mode, undo/redo, saving the post, toggling list view,\n * and toggling the sidebar.\n */\nexport const VisualEditorGlobalKeyboardShortcuts = EditorKeyboardShortcuts;\n\n/**\n * Handles the keyboard shortcuts for the editor.\n *\n * It provides functionality for various keyboard shortcuts such as toggling editor mode,\n * toggling distraction-free mode, undo/redo, saving the post, toggling list view,\n * and toggling the sidebar.\n */\nexport const TextEditorGlobalKeyboardShortcuts = EditorKeyboardShortcuts;\n", "/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { addFilter } from '@wordpress/hooks';\nimport deprecated from '@wordpress/deprecated';\nimport {\n\tMediaUpload,\n\tprivateApis as mediaUtilsPrivateApis,\n} from '@wordpress/media-utils';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\n\nconst { MediaUploadModal: MediaUploadModalComponent } = unlock(\n\tmediaUtilsPrivateApis\n);\n\n/**\n * Class component wrapper for MediaUploadModal to maintain compatibility\n * with the stable MediaUpload component API (render prop pattern).\n */\nclass MediaUploadModalWrapper extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tisOpen: false,\n\t\t};\n\t\tthis.openModal = this.openModal.bind( this );\n\t\tthis.closeModal = this.closeModal.bind( this );\n\t}\n\n\topenModal() {\n\t\tthis.setState( { isOpen: true } );\n\t}\n\n\tcloseModal() {\n\t\tthis.setState( { isOpen: false } );\n\t\tthis.props.onClose?.();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tallowedTypes,\n\t\t\tmultiple,\n\t\t\tvalue,\n\t\t\tonSelect,\n\t\t\ttitle,\n\t\t\tmodalClass,\n\t\t\trender,\n\t\t} = this.props;\n\t\tconst { isOpen } = this.state;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ render( { open: this.openModal } ) }\n\t\t\t\t<MediaUploadModalComponent\n\t\t\t\t\tallowedTypes={ allowedTypes }\n\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonSelect={ ( media ) => {\n\t\t\t\t\t\tonSelect( media );\n\t\t\t\t\t\tthis.closeModal();\n\t\t\t\t\t} }\n\t\t\t\t\tonClose={ this.closeModal }\n\t\t\t\t\ttitle={ title }\n\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\tmodalClass={ modalClass }\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nif ( window.__experimentalDataViewsMediaModal ) {\n\t// Use the wrapper component for editor.MediaUpload when the experimental flag is enabled\n\taddFilter(\n\t\t'editor.MediaUpload',\n\t\t'core/editor/components/media-upload',\n\t\t() => {\n\t\t\tdeprecated( 'Extending MediaUpload as a class component', {\n\t\t\t\tsince: '7.0',\n\t\t\t\tversion: '7.2',\n\t\t\t\thint: 'MediaUpload will become a function component in WordPress 7.2 Please update any custom implementations to use function components instead.',\n\t\t\t} );\n\t\t\treturn MediaUploadModalWrapper;\n\t\t}\n\t);\n} else {\n\taddFilter(\n\t\t'editor.MediaUpload',\n\t\t'core/editor/components/media-upload',\n\t\t() => {\n\t\t\treturn MediaUpload;\n\t\t}\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport {\n\tstore as blockEditorStore,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { getBlockBindingsSource } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../store';\nimport { unlock } from '../lock-unlock';\n\n/** @typedef {import('@wordpress/blocks').WPBlockSettings} WPBlockSettings */\n\nconst {\n\tPatternOverridesControls,\n\tResetOverridesControl,\n\tPATTERN_TYPES,\n\tPATTERN_SYNC_TYPES,\n} = unlock( patternsPrivateApis );\n\n/**\n * Override the default edit UI to include a new block inspector control for\n * assigning a partial syncing controls to supported blocks in the pattern editor.\n *\n * @param {Component} BlockEdit Original component.\n *\n * @return {Component} Wrapped component.\n */\nconst withPatternOverrideControls = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst isSupportedBlock = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst { __experimentalBlockBindingsSupportedAttributes } =\n\t\t\t\t\tselect( blockEditorStore ).getSettings();\n\t\t\t\treturn !! __experimentalBlockBindingsSupportedAttributes?.[\n\t\t\t\t\tprops.name\n\t\t\t\t];\n\t\t\t},\n\t\t\t[ props.name ]\n\t\t);\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\n\t\t\t\t{ props.isSelected && isSupportedBlock && (\n\t\t\t\t\t<ControlsWithStoreSubscription { ...props } />\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t},\n\t'withPatternOverrideControls'\n);\n\n// Split into a separate component to avoid a store subscription\n// on every block.\nfunction ControlsWithStoreSubscription( props ) {\n\tconst blockEditingMode = useBlockEditingMode();\n\tconst { hasPatternOverridesSource, isEditingSyncedPattern } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPostType, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\n\t\t\treturn {\n\t\t\t\t// For editing link to the site editor if the theme and user permissions support it.\n\t\t\t\thasPatternOverridesSource: !! getBlockBindingsSource(\n\t\t\t\t\t'core/pattern-overrides'\n\t\t\t\t),\n\t\t\t\tisEditingSyncedPattern:\n\t\t\t\t\tgetCurrentPostType() === PATTERN_TYPES.user &&\n\t\t\t\t\tgetEditedPostAttribute( 'meta' )?.wp_pattern_sync_status !==\n\t\t\t\t\t\tPATTERN_SYNC_TYPES.unsynced &&\n\t\t\t\t\tgetEditedPostAttribute( 'wp_pattern_sync_status' ) !==\n\t\t\t\t\t\tPATTERN_SYNC_TYPES.unsynced,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst bindings = props.attributes.metadata?.bindings;\n\tconst hasPatternBindings =\n\t\t!! bindings &&\n\t\tObject.values( bindings ).some(\n\t\t\t( binding ) => binding.source === 'core/pattern-overrides'\n\t\t);\n\n\tconst shouldShowPatternOverridesControls =\n\t\tisEditingSyncedPattern && blockEditingMode === 'default';\n\tconst shouldShowResetOverridesControl =\n\t\t! isEditingSyncedPattern &&\n\t\t!! props.attributes.metadata?.name &&\n\t\tblockEditingMode !== 'disabled' &&\n\t\thasPatternBindings;\n\n\tif ( ! hasPatternOverridesSource ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ shouldShowPatternOverridesControls && (\n\t\t\t\t<PatternOverridesControls { ...props } />\n\t\t\t) }\n\t\t\t{ shouldShowResetOverridesControl && (\n\t\t\t\t<ResetOverridesControl { ...props } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/with-pattern-override-controls',\n\twithPatternOverrideControls\n);\n", "/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__unstableBlockToolbarLastItem as BlockToolbarLastItem,\n\tstore as blockEditorStore,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { ToolbarButton, ToolbarGroup } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n// Target blocks that should have the View button.\nconst SUPPORTED_BLOCKS = [ 'core/navigation-link', 'core/navigation-submenu' ];\n\n/**\n * Component that renders the View button for navigation blocks.\n *\n * @param {Object} props            Component props.\n * @param {Object} props.attributes Block attributes.\n * @return {JSX.Element|null} The View button component or null if not applicable.\n */\nfunction NavigationViewButton( { attributes } ) {\n\tconst { kind, id, type } = attributes;\n\tconst blockEditingMode = useBlockEditingMode();\n\n\tconst onNavigateToEntityRecord = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).getSettings().onNavigateToEntityRecord,\n\t\t[]\n\t);\n\n\tconst onViewPage = useCallback( () => {\n\t\tif (\n\t\t\tkind === 'post-type' &&\n\t\t\ttype === 'page' &&\n\t\t\tid &&\n\t\t\tonNavigateToEntityRecord\n\t\t) {\n\t\t\tonNavigateToEntityRecord( {\n\t\t\t\tpostId: id,\n\t\t\t\tpostType: type,\n\t\t\t} );\n\t\t}\n\t}, [ kind, id, type, onNavigateToEntityRecord ] );\n\n\t// Only show for page-type links, when navigation is available, and when in contentOnly mode.\n\tif (\n\t\tkind !== 'post-type' ||\n\t\ttype !== 'page' ||\n\t\t! id ||\n\t\t! onNavigateToEntityRecord ||\n\t\tblockEditingMode !== 'contentOnly'\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockToolbarLastItem>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tname=\"view\"\n\t\t\t\t\ttitle={ __( 'View' ) }\n\t\t\t\t\tonClick={ onViewPage }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'View' ) }\n\t\t\t\t</ToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</BlockToolbarLastItem>\n\t);\n}\n\n/**\n * Higher-order component that adds the View button to navigation blocks.\n */\nconst withNavigationViewButton = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst isSupportedBlock = SUPPORTED_BLOCKS.includes( props.name );\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\n\t\t\t\t{ props.isSelected && isSupportedBlock && (\n\t\t\t\t\t<NavigationViewButton { ...props } />\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t},\n\t'withNavigationViewButton'\n);\n\n// Register the filter.\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/with-navigation-view-button',\n\twithNavigationViewButton\n);\n", "/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__unstableBlockToolbarLastItem as BlockToolbarLastItem,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { ToolbarButton, ToolbarGroup } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n// Block name constants\nconst NAVIGATION_BLOCK_NAME = 'core/navigation';\nconst TEMPLATE_PART_BLOCK_NAME = 'core/template-part';\n\n// Complementary area identifier for the block inspector\nconst BLOCK_INSPECTOR_AREA = 'edit-post/block';\n\n/**\n * Component that renders the \"Edit navigation\" button for template parts\n * that contain navigation blocks.\n *\n * @param {Object} props          Component props.\n * @param {string} props.clientId The template part block client ID.\n * @return {JSX.Element|null} The Edit navigation button component or null if not applicable.\n */\nfunction TemplatePartNavigationEditButton( { clientId } ) {\n\tconst { selectBlock, flashBlock } = useDispatch( blockEditorStore );\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\tconst {\n\t\thasNavigationBlocks,\n\t\tfirstNavigationBlockId,\n\t\tisNavigationEditable,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetClientIdsOfDescendants,\n\t\t\t\tgetBlockName,\n\t\t\t\tgetBlockEditingMode,\n\t\t\t} = select( blockEditorStore );\n\n\t\t\tconst descendants = getClientIdsOfDescendants( clientId );\n\t\t\tconst navigationBlocksInTemplatePart = descendants.filter(\n\t\t\t\t( blockId ) => getBlockName( blockId ) === NAVIGATION_BLOCK_NAME\n\t\t\t);\n\n\t\t\tconst _hasNavigationBlocks =\n\t\t\t\tnavigationBlocksInTemplatePart.length > 0;\n\t\t\tconst _firstNavigationBlockId = _hasNavigationBlocks\n\t\t\t\t? navigationBlocksInTemplatePart[ 0 ]\n\t\t\t\t: null;\n\n\t\t\treturn {\n\t\t\t\thasNavigationBlocks: _hasNavigationBlocks,\n\t\t\t\tfirstNavigationBlockId: _firstNavigationBlockId,\n\t\t\t\t// We can't use the useBlockEditingMode hook here because the current\n\t\t\t\t// context is the template part, not the navigation block.\n\t\t\t\tisNavigationEditable:\n\t\t\t\t\tgetBlockEditingMode( _firstNavigationBlockId ) !==\n\t\t\t\t\t'disabled',\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst onEditNavigation = useCallback( () => {\n\t\tif ( firstNavigationBlockId ) {\n\t\t\t// Select the first Navigation block\n\t\t\tselectBlock( firstNavigationBlockId );\n\n\t\t\t// Flash the block for 500ms to make it obvious\n\t\t\tflashBlock( firstNavigationBlockId, 500 );\n\n\t\t\t// Enable the complementary area (inspector)\n\t\t\tenableComplementaryArea( 'core', BLOCK_INSPECTOR_AREA );\n\t\t}\n\t}, [\n\t\tfirstNavigationBlockId,\n\t\tselectBlock,\n\t\tflashBlock,\n\t\tenableComplementaryArea,\n\t] );\n\n\t// Only show if template part contains navigation blocks and they are editable\n\tif ( ! hasNavigationBlocks || ! isNavigationEditable ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockToolbarLastItem>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tlabel={ __( 'Edit navigation' ) }\n\t\t\t\t\tonClick={ onEditNavigation }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Edit navigation' ) }\n\t\t\t\t</ToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</BlockToolbarLastItem>\n\t);\n}\n\n/**\n * Higher-order component that adds the Edit navigation button to template part blocks.\n */\nconst withTemplatePartNavigationEditButton = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst isTemplatePart = props.name === TEMPLATE_PART_BLOCK_NAME;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\n\t\t\t\t{ props.isSelected && isTemplatePart && (\n\t\t\t\t\t<TemplatePartNavigationEditButton\n\t\t\t\t\t\tclientId={ props.clientId }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t},\n\t'withTemplatePartNavigationEditButton'\n);\n\n// Register the filter.\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/with-template-part-navigation-edit-button',\n\twithTemplatePartNavigationEditButton\n);\n", "/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport {\n\tInspectorAdvancedControls,\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { BaseControl, Button } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\t__EXPERIMENTAL_STYLE_PROPERTY,\n\tgetBlockType,\n\thasBlockSupport,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport setNestedValue from '../../utils/set-nested-value';\nimport { useGlobalStyles } from '../../components/global-styles/hooks';\n\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\n\n// Block Gap is a special case and isn't defined within the blocks\n// style properties config. We'll add it here to allow it to be pushed\n// to global styles as well.\nconst STYLE_PROPERTY = {\n\t...__EXPERIMENTAL_STYLE_PROPERTY,\n\tblockGap: { value: [ 'spacing', 'blockGap' ] },\n};\n\n// TODO: Temporary duplication of constant in @wordpress/block-editor. Can be\n// removed by moving PushChangesToGlobalStylesControl to\n// @wordpress/block-editor.\nconst STYLE_PATH_TO_CSS_VAR_INFIX = {\n\t'border.color': 'color',\n\t'color.background': 'color',\n\t'color.text': 'color',\n\t'elements.link.color.text': 'color',\n\t'elements.link.:hover.color.text': 'color',\n\t'elements.link.typography.fontFamily': 'font-family',\n\t'elements.link.typography.fontSize': 'font-size',\n\t'elements.button.color.text': 'color',\n\t'elements.button.color.background': 'color',\n\t'elements.button.typography.fontFamily': 'font-family',\n\t'elements.button.typography.fontSize': 'font-size',\n\t'elements.caption.color.text': 'color',\n\t'elements.heading.color': 'color',\n\t'elements.heading.color.background': 'color',\n\t'elements.heading.typography.fontFamily': 'font-family',\n\t'elements.heading.gradient': 'gradient',\n\t'elements.heading.color.gradient': 'gradient',\n\t'elements.h1.color': 'color',\n\t'elements.h1.color.background': 'color',\n\t'elements.h1.typography.fontFamily': 'font-family',\n\t'elements.h1.color.gradient': 'gradient',\n\t'elements.h2.color': 'color',\n\t'elements.h2.color.background': 'color',\n\t'elements.h2.typography.fontFamily': 'font-family',\n\t'elements.h2.color.gradient': 'gradient',\n\t'elements.h3.color': 'color',\n\t'elements.h3.color.background': 'color',\n\t'elements.h3.typography.fontFamily': 'font-family',\n\t'elements.h3.color.gradient': 'gradient',\n\t'elements.h4.color': 'color',\n\t'elements.h4.color.background': 'color',\n\t'elements.h4.typography.fontFamily': 'font-family',\n\t'elements.h4.color.gradient': 'gradient',\n\t'elements.h5.color': 'color',\n\t'elements.h5.color.background': 'color',\n\t'elements.h5.typography.fontFamily': 'font-family',\n\t'elements.h5.color.gradient': 'gradient',\n\t'elements.h6.color': 'color',\n\t'elements.h6.color.background': 'color',\n\t'elements.h6.typography.fontFamily': 'font-family',\n\t'elements.h6.color.gradient': 'gradient',\n\t'color.gradient': 'gradient',\n\tblockGap: 'spacing',\n\t'typography.fontSize': 'font-size',\n\t'typography.fontFamily': 'font-family',\n};\n\n// TODO: Temporary duplication of constant in @wordpress/block-editor. Can be\n// removed by moving PushChangesToGlobalStylesControl to\n// @wordpress/block-editor.\nconst STYLE_PATH_TO_PRESET_BLOCK_ATTRIBUTE = {\n\t'border.color': 'borderColor',\n\t'color.background': 'backgroundColor',\n\t'color.text': 'textColor',\n\t'color.gradient': 'gradient',\n\t'typography.fontSize': 'fontSize',\n\t'typography.fontFamily': 'fontFamily',\n};\n\nconst SUPPORTED_STYLES = [ 'border', 'color', 'spacing', 'typography' ];\n\nconst getValueFromObjectPath = ( object, path ) => {\n\tlet value = object;\n\tpath.forEach( ( fieldName ) => {\n\t\tvalue = value?.[ fieldName ];\n\t} );\n\treturn value;\n};\n\nconst flatBorderProperties = [ 'borderColor', 'borderWidth', 'borderStyle' ];\nconst sides = [ 'top', 'right', 'bottom', 'left' ];\n\nfunction getBorderStyleChanges( border, presetColor, userStyle ) {\n\tif ( ! border && ! presetColor ) {\n\t\treturn [];\n\t}\n\n\tconst changes = [\n\t\t...getFallbackBorderStyleChange( 'top', border, userStyle ),\n\t\t...getFallbackBorderStyleChange( 'right', border, userStyle ),\n\t\t...getFallbackBorderStyleChange( 'bottom', border, userStyle ),\n\t\t...getFallbackBorderStyleChange( 'left', border, userStyle ),\n\t];\n\n\t// Handle a flat border i.e. all sides the same, CSS shorthand.\n\tconst { color: customColor, style, width } = border || {};\n\tconst hasColorOrWidth = presetColor || customColor || width;\n\n\tif ( hasColorOrWidth && ! style ) {\n\t\t// Global Styles need individual side configurations to overcome\n\t\t// theme.json configurations which are per side as well.\n\t\tsides.forEach( ( side ) => {\n\t\t\t// Only add fallback border-style if global styles don't already\n\t\t\t// have something set.\n\t\t\tif ( ! userStyle?.[ side ]?.style ) {\n\t\t\t\tchanges.push( {\n\t\t\t\t\tpath: [ 'border', side, 'style' ],\n\t\t\t\t\tvalue: 'solid',\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}\n\n\treturn changes;\n}\n\nfunction getFallbackBorderStyleChange( side, border, globalBorderStyle ) {\n\tif ( ! border?.[ side ] || globalBorderStyle?.[ side ]?.style ) {\n\t\treturn [];\n\t}\n\n\tconst { color, style, width } = border[ side ];\n\tconst hasColorOrWidth = color || width;\n\n\tif ( ! hasColorOrWidth || style ) {\n\t\treturn [];\n\t}\n\n\treturn [ { path: [ 'border', side, 'style' ], value: 'solid' } ];\n}\n\nfunction useChangesToPush( name, attributes, userConfig ) {\n\tconst supports = useSelect(\n\t\t( select ) => {\n\t\t\treturn unlock( select( blocksStore ) ).getSupportedStyles( name );\n\t\t},\n\t\t[ name ]\n\t);\n\tconst blockUserConfig = userConfig?.styles?.blocks?.[ name ];\n\n\treturn useMemo( () => {\n\t\tconst changes = supports.flatMap( ( key ) => {\n\t\t\tif ( ! STYLE_PROPERTY[ key ] ) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tconst { value: path } = STYLE_PROPERTY[ key ];\n\t\t\tconst presetAttributeKey = path.join( '.' );\n\t\t\tconst presetAttributeValue =\n\t\t\t\tattributes[\n\t\t\t\t\tSTYLE_PATH_TO_PRESET_BLOCK_ATTRIBUTE[ presetAttributeKey ]\n\t\t\t\t];\n\t\t\tconst value = presetAttributeValue\n\t\t\t\t? `var:preset|${ STYLE_PATH_TO_CSS_VAR_INFIX[ presetAttributeKey ] }|${ presetAttributeValue }`\n\t\t\t\t: getValueFromObjectPath( attributes.style, path );\n\n\t\t\t// Links only have a single support entry but have two element\n\t\t\t// style properties, color and hover color. The following check\n\t\t\t// will add the hover color to the changes if required.\n\t\t\tif ( key === 'linkColor' ) {\n\t\t\t\tconst linkChanges = value ? [ { path, value } ] : [];\n\t\t\t\tconst hoverPath = [\n\t\t\t\t\t'elements',\n\t\t\t\t\t'link',\n\t\t\t\t\t':hover',\n\t\t\t\t\t'color',\n\t\t\t\t\t'text',\n\t\t\t\t];\n\t\t\t\tconst hoverValue = getValueFromObjectPath(\n\t\t\t\t\tattributes.style,\n\t\t\t\t\thoverPath\n\t\t\t\t);\n\n\t\t\t\tif ( hoverValue ) {\n\t\t\t\t\tlinkChanges.push( { path: hoverPath, value: hoverValue } );\n\t\t\t\t}\n\n\t\t\t\treturn linkChanges;\n\t\t\t}\n\n\t\t\t// The shorthand border styles can't be mapped directly as global\n\t\t\t// styles requires longhand config.\n\t\t\tif ( flatBorderProperties.includes( key ) && value ) {\n\t\t\t\t// The shorthand config path is included to clear the block attribute.\n\t\t\t\tconst borderChanges = [ { path, value } ];\n\t\t\t\tsides.forEach( ( side ) => {\n\t\t\t\t\tconst currentPath = [ ...path ];\n\t\t\t\t\tcurrentPath.splice( -1, 0, side );\n\t\t\t\t\tborderChanges.push( { path: currentPath, value } );\n\t\t\t\t} );\n\t\t\t\treturn borderChanges;\n\t\t\t}\n\n\t\t\treturn value ? [ { path, value } ] : [];\n\t\t} );\n\n\t\t// To ensure display of a visible border, global styles require a\n\t\t// default border style if a border color or width is present.\n\t\tgetBorderStyleChanges(\n\t\t\tattributes.style?.border,\n\t\t\tattributes.borderColor,\n\t\t\tblockUserConfig?.border\n\t\t).forEach( ( change ) => changes.push( change ) );\n\n\t\treturn changes;\n\t}, [ supports, attributes, blockUserConfig ] );\n}\n\nfunction PushChangesToGlobalStylesControl( {\n\tname,\n\tattributes,\n\tsetAttributes,\n} ) {\n\tconst { user: userConfig, setUser: setUserConfig } = useGlobalStyles();\n\n\tconst changes = useChangesToPush( name, attributes, userConfig );\n\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst pushChanges = useCallback( () => {\n\t\tif ( changes.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( changes.length > 0 ) {\n\t\t\tconst { style: blockStyles } = attributes;\n\n\t\t\tconst newBlockStyles = structuredClone( blockStyles );\n\t\t\tconst newUserConfig = structuredClone( userConfig );\n\n\t\t\tfor ( const { path, value } of changes ) {\n\t\t\t\tsetNestedValue( newBlockStyles, path, undefined );\n\t\t\t\tsetNestedValue(\n\t\t\t\t\tnewUserConfig,\n\t\t\t\t\t[ 'styles', 'blocks', name, ...path ],\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst newBlockAttributes = {\n\t\t\t\tborderColor: undefined,\n\t\t\t\tbackgroundColor: undefined,\n\t\t\t\ttextColor: undefined,\n\t\t\t\tgradient: undefined,\n\t\t\t\tfontSize: undefined,\n\t\t\t\tfontFamily: undefined,\n\t\t\t\tstyle: cleanEmptyObject( newBlockStyles ),\n\t\t\t};\n\n\t\t\t// @wordpress/core-data doesn't support editing multiple entity types in\n\t\t\t// a single undo level. So for now, we disable @wordpress/core-data undo\n\t\t\t// tracking and implement our own Undo button in the snackbar\n\t\t\t// notification.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( newBlockAttributes );\n\t\t\tsetUserConfig( newUserConfig, { undoIgnore: true } );\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: Title of the block e.g. 'Heading'.\n\t\t\t\t\t__( '%s styles applied.' ),\n\t\t\t\t\tgetBlockType( name ).title\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\t\t\t\t\t\tsetAttributes( attributes );\n\t\t\t\t\t\t\t\tsetUserConfig( userConfig, {\n\t\t\t\t\t\t\t\t\tundoIgnore: true,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}, [\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\tattributes,\n\t\tchanges,\n\t\tcreateSuccessNotice,\n\t\tname,\n\t\tsetAttributes,\n\t\tsetUserConfig,\n\t\tuserConfig,\n\t] );\n\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName=\"editor-push-changes-to-global-styles-control\"\n\t\t\thelp={ sprintf(\n\t\t\t\t// translators: %s: Title of the block e.g. 'Heading'.\n\t\t\t\t__(\n\t\t\t\t\t'Apply this block\u2019s typography, spacing, dimensions, and color styles to all %s blocks.'\n\t\t\t\t),\n\t\t\t\tgetBlockType( name ).title\n\t\t\t) }\n\t\t>\n\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t{ __( 'Styles' ) }\n\t\t\t</BaseControl.VisualLabel>\n\t\t\t<Button\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\taccessibleWhenDisabled\n\t\t\t\tdisabled={ changes.length === 0 }\n\t\t\t\tonClick={ pushChanges }\n\t\t\t>\n\t\t\t\t{ __( 'Apply globally' ) }\n\t\t\t</Button>\n\t\t</BaseControl>\n\t);\n}\n\nfunction PushChangesToGlobalStyles( props ) {\n\tconst blockEditingMode = useBlockEditingMode();\n\tconst isBlockBasedTheme = useSelect(\n\t\t( select ) => select( coreStore ).getCurrentTheme()?.is_block_theme,\n\t\t[]\n\t);\n\tconst supportsStyles = SUPPORTED_STYLES.some( ( feature ) =>\n\t\thasBlockSupport( props.name, feature )\n\t);\n\tconst isDisplayed =\n\t\tblockEditingMode === 'default' && supportsStyles && isBlockBasedTheme;\n\n\tif ( ! isDisplayed ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<InspectorAdvancedControls>\n\t\t\t<PushChangesToGlobalStylesControl { ...props } />\n\t\t</InspectorAdvancedControls>\n\t);\n}\n\nconst withPushChangesToGlobalStyles = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => (\n\t\t<>\n\t\t\t<BlockEdit key=\"edit\" { ...props } />\n\t\t\t{ props.isSelected && <PushChangesToGlobalStyles { ...props } /> }\n\t\t</>\n\t)\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/push-changes-to-global-styles',\n\twithPushChangesToGlobalStyles\n);\n", "/**\n * Sets the value at path of object.\n * If a portion of path doesn\u2019t exist, it\u2019s created.\n * Arrays are created for missing index properties while objects are created\n * for all other missing properties.\n *\n * This function intentionally mutates the input object.\n *\n * Inspired by _.set().\n *\n * @see https://lodash.com/docs/4.17.15#set\n *\n * @todo Needs to be deduplicated with its copy in `@wordpress/core-data`.\n *\n * @param {Object} object Object to modify\n * @param {Array}  path   Path of the property to set.\n * @param {*}      value  Value to set.\n */\nexport default function setNestedValue( object, path, value ) {\n\tif ( ! object || typeof object !== 'object' ) {\n\t\treturn object;\n\t}\n\n\tpath.reduce( ( acc, key, idx ) => {\n\t\tif ( acc[ key ] === undefined ) {\n\t\t\tif ( Number.isInteger( path[ idx + 1 ] ) ) {\n\t\t\t\tacc[ key ] = [];\n\t\t\t} else {\n\t\t\t\tacc[ key ] = {};\n\t\t\t}\n\t\t}\n\t\tif ( idx === path.length - 1 ) {\n\t\t\tacc[ key ] = value;\n\t\t}\n\t\treturn acc[ key ];\n\t}, object );\n\n\treturn object;\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalUseSlotFills as useSlotFills,\n\tcreateSlotFill,\n} from '@wordpress/components';\n\n// Keeping an old name for backward compatibility.\nconst slotName = '__experimentalMainDashboardButton';\n\nexport const useHasBackButton = () => {\n\tconst fills = useSlotFills( slotName );\n\treturn Boolean( fills && fills.length );\n};\n\nconst { Fill, Slot } = createSlotFill( slotName );\n\nconst BackButton = Fill;\nconst BackButtonSlot = () => {\n\tconst fills = useSlotFills( slotName );\n\n\treturn (\n\t\t<Slot\n\t\t\tbubblesVirtually\n\t\t\tfillProps={ { length: ! fills ? 0 : fills.length } }\n\t\t/>\n\t);\n};\nBackButton.Slot = BackButtonSlot;\n\nexport default BackButton;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { Notice } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport { useRestoreBlockFromPath } from '../../utils/block-selection-path';\nimport EditorInterface from '../editor-interface';\nimport { ExperimentalEditorProvider } from '../provider';\nimport Sidebar from '../sidebar';\nimport NotesSidebar from '../collab-sidebar';\nimport GlobalStylesSidebar from '../global-styles-sidebar';\nimport { GlobalStylesRenderer } from '../global-styles-renderer';\n\nfunction Editor( {\n\tpostType,\n\tpostId,\n\ttemplateId,\n\tsettings,\n\tchildren,\n\tinitialEdits,\n\tinitialSelection,\n\n\t// This could be part of the settings.\n\tonActionPerformed,\n\n\t// The following abstractions are not ideal but necessary\n\t// to account for site editor and post editor differences for now.\n\textraContent,\n\textraSidebarPanels,\n\t...props\n} ) {\n\tconst {\n\t\tpost,\n\t\ttemplate,\n\t\thasLoadedPost,\n\t\terror,\n\t\tisBlockTheme,\n\t\tshowGlobalStyles,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEntityRecord,\n\t\t\t\tgetResolutionError,\n\t\t\t\thasFinishedResolution,\n\t\t\t\tgetCurrentTheme,\n\t\t\t\t__experimentalGetCurrentGlobalStylesId,\n\t\t\t\tcanUser,\n\t\t\t} = select( coreStore );\n\t\t\tconst { getRenderingMode, getCurrentPostType } =\n\t\t\t\tselect( editorStore );\n\n\t\t\tconst postArgs = [ 'postType', postType, postId ];\n\t\t\tconst renderingMode = getRenderingMode();\n\t\t\tconst currentPostType = getCurrentPostType();\n\t\t\tconst _isBlockTheme = getCurrentTheme()?.is_block_theme;\n\t\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\n\t\t\tconst userCanEditGlobalStyles = globalStylesId\n\t\t\t\t? canUser( 'update', {\n\t\t\t\t\t\tkind: 'root',\n\t\t\t\t\t\tname: 'globalStyles',\n\t\t\t\t\t\tid: globalStylesId,\n\t\t\t\t  } )\n\t\t\t\t: false;\n\n\t\t\treturn {\n\t\t\t\tpost: getEntityRecord( ...postArgs ),\n\t\t\t\ttemplate: templateId\n\t\t\t\t\t? getEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t\t\t\ttemplateId\n\t\t\t\t\t  )\n\t\t\t\t\t: undefined,\n\t\t\t\thasLoadedPost: hasFinishedResolution(\n\t\t\t\t\t'getEntityRecord',\n\t\t\t\t\tpostArgs\n\t\t\t\t),\n\t\t\t\terror: getResolutionError( 'getEntityRecord', postArgs )\n\t\t\t\t\t?.message,\n\t\t\t\tisBlockTheme: _isBlockTheme,\n\t\t\t\tshowGlobalStyles:\n\t\t\t\t\t_isBlockTheme &&\n\t\t\t\t\tuserCanEditGlobalStyles &&\n\t\t\t\t\t( currentPostType === 'wp_template' ||\n\t\t\t\t\t\trenderingMode === 'template-locked' ),\n\t\t\t};\n\t\t},\n\t\t[ postType, postId, templateId ]\n\t);\n\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\tconst restoreBlockFromPath = useRestoreBlockFromPath();\n\n\t// Restore initial block selection if provided (e.g., from navigation)\n\tuseEffect( () => {\n\t\tif ( ! initialSelection || ! hasLoadedPost || ! post ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Use setTimeout to ensure blocks are fully rendered before selecting\n\t\tconst timeoutId = setTimeout( () => {\n\t\t\tconst clientId = restoreBlockFromPath( initialSelection );\n\t\t\tif ( clientId ) {\n\t\t\t\tselectBlock( clientId );\n\t\t\t}\n\t\t}, 0 );\n\n\t\treturn () => clearTimeout( timeoutId );\n\t}, [\n\t\tinitialSelection,\n\t\thasLoadedPost,\n\t\tpost,\n\t\tselectBlock,\n\t\trestoreBlockFromPath,\n\t] );\n\n\treturn (\n\t\t<>\n\t\t\t{ hasLoadedPost && ! post && (\n\t\t\t\t<Notice\n\t\t\t\t\tstatus={ !! error ? 'error' : 'warning' }\n\t\t\t\t\tisDismissible={ false }\n\t\t\t\t>\n\t\t\t\t\t{ ! error\n\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\"You attempted to edit an item that doesn't exist. Perhaps it was deleted?\"\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: error }\n\t\t\t\t</Notice>\n\t\t\t) }\n\t\t\t{ !! post && (\n\t\t\t\t<ExperimentalEditorProvider\n\t\t\t\t\tpost={ post }\n\t\t\t\t\t__unstableTemplate={ template }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tinitialEdits={ initialEdits }\n\t\t\t\t\tuseSubRegistry={ false }\n\t\t\t\t>\n\t\t\t\t\t<EditorInterface { ...props }>\n\t\t\t\t\t\t{ extraContent }\n\t\t\t\t\t</EditorInterface>\n\t\t\t\t\t{ children }\n\t\t\t\t\t<Sidebar\n\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\textraPanels={ extraSidebarPanels }\n\t\t\t\t\t/>\n\t\t\t\t\t<NotesSidebar />\n\t\t\t\t\t{ isBlockTheme && <GlobalStylesRenderer /> }\n\t\t\t\t\t{ showGlobalStyles && <GlobalStylesSidebar /> }\n\t\t\t\t</ExperimentalEditorProvider>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default Editor;\n", "/**\n * WordPress dependencies\n */\nimport { useRegistry } from '@wordpress/data';\nimport { useCallback } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Hook that returns a function to generate a block path for a given block clientId.\n * The path is an array of steps from root to the target block,\n * where each step contains the block name and index within its parent.\n *\n * @return {Function} Function that takes a clientId and returns the block path or null.\n */\nexport function useGenerateBlockPath() {\n\tconst registry = useRegistry();\n\n\treturn useCallback(\n\t\t( clientId ) => {\n\t\t\tconst { getBlock, getBlockParents, getBlockOrder } =\n\t\t\t\tregistry.select( blockEditorStore );\n\n\t\t\tconst block = getBlock( clientId );\n\t\t\tif ( ! block ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst parents = getBlockParents( clientId );\n\t\t\tconst path = [];\n\n\t\t\t// Build the path from root to target\n\t\t\tconst hierarchy = [ ...parents, clientId ];\n\n\t\t\tfor ( let i = 0; i < hierarchy.length; i++ ) {\n\t\t\t\tconst currentClientId = hierarchy[ i ];\n\t\t\t\tconst currentBlock = getBlock( currentClientId );\n\n\t\t\t\tif ( ! currentBlock ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Get the parent's clientId (or null for root-level blocks)\n\t\t\t\tconst parentClientId = i > 0 ? hierarchy[ i - 1 ] : '';\n\n\t\t\t\t// Get siblings to determine index\n\t\t\t\tconst siblings = getBlockOrder( parentClientId );\n\t\t\t\tconst index = siblings.indexOf( currentClientId );\n\n\t\t\t\tif ( index === -1 ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tpath.push( {\n\t\t\t\t\tblockName: currentBlock.name,\n\t\t\t\t\tindex,\n\t\t\t\t\t// Store a simple content hash for verification (first 100 chars of serialized content)\n\t\t\t\t\tcontentHash: JSON.stringify(\n\t\t\t\t\t\tcurrentBlock.attributes\n\t\t\t\t\t).slice( 0, 100 ),\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn path;\n\t\t},\n\t\t[ registry ]\n\t);\n}\n\n/**\n * Hook that returns a function to restore a block selection using a previously generated block path.\n * Walks the path from root to target, matching block name and index at each level.\n *\n * @return {Function} Function that takes a path and returns the clientId or null.\n */\nexport function useRestoreBlockFromPath() {\n\tconst registry = useRegistry();\n\n\treturn useCallback(\n\t\t( path ) => {\n\t\t\tif ( ! path || ! Array.isArray( path ) || path.length === 0 ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst { getBlock, getBlockOrder } =\n\t\t\t\tregistry.select( blockEditorStore );\n\n\t\t\tlet currentParentId = ''; // Start at root\n\n\t\t\t// Walk through each step in the path\n\t\t\tfor ( let i = 0; i < path.length; i++ ) {\n\t\t\t\tconst step = path[ i ];\n\t\t\t\tconst siblings = getBlockOrder( currentParentId );\n\n\t\t\t\t// Check if the index is valid\n\t\t\t\tif ( step.index >= siblings.length ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst candidateClientId = siblings[ step.index ];\n\t\t\t\tconst candidateBlock = getBlock( candidateClientId );\n\n\t\t\t\tif ( ! candidateBlock ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Verify the block name matches\n\t\t\t\tif ( candidateBlock.name !== step.blockName ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Optional: verify content hash for additional confidence\n\t\t\t\t// (Skipping this for now as attributes might change slightly)\n\n\t\t\t\t// If this is the last step, we found our block\n\t\t\t\tif ( i === path.length - 1 ) {\n\t\t\t\t\treturn candidateClientId;\n\t\t\t\t}\n\n\t\t\t\t// Otherwise, continue to the next level\n\t\t\t\tcurrentParentId = candidateClientId;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\t[ registry ]\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { InterfaceSkeleton, ComplementaryArea } from '@wordpress/interface';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { BlockBreadcrumb, BlockToolbar } from '@wordpress/block-editor';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useState, useCallback } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport EditorNotices from '../editor-notices';\nimport Header from '../header';\nimport InserterSidebar from '../inserter-sidebar';\nimport ListViewSidebar from '../list-view-sidebar';\nimport { RevisionsHeader, RevisionsCanvas } from '../post-revisions-preview';\nimport SavePublishPanels from '../save-publish-panels';\nimport TextEditor from '../text-editor';\nimport VisualEditor from '../visual-editor';\nimport StylesCanvas from '../styles-canvas';\nimport { MediaPreview } from '../media';\n\nconst interfaceLabels = {\n\t/* translators: accessibility text for the editor top bar landmark region. */\n\theader: __( 'Editor top bar' ),\n\t/* translators: accessibility text for the editor content landmark region. */\n\tbody: __( 'Editor content' ),\n\t/* translators: accessibility text for the editor settings landmark region. */\n\tsidebar: __( 'Editor settings' ),\n\t/* translators: accessibility text for the editor publish landmark region. */\n\tactions: __( 'Editor publish' ),\n\t/* translators: accessibility text for the editor footer landmark region. */\n\tfooter: __( 'Editor footer' ),\n};\n\nexport default function EditorInterface( {\n\tclassName,\n\tchildren,\n\tforceIsDirty,\n\tcontentRef,\n\tdisableIframe,\n\tautoFocus,\n\tcustomSaveButton,\n\tcustomSavePanel,\n\tforceDisableBlockTools,\n\tiframeProps,\n} ) {\n\tconst {\n\t\tmode,\n\t\tisAttachment,\n\t\tisInserterOpened,\n\t\tisListViewOpened,\n\t\tisDistractionFree,\n\t\tisPreviewMode,\n\t\tshowBlockBreadcrumbs,\n\t\tpostTypeLabel,\n\t\tstylesPath,\n\t\tshowStylebook,\n\t\tisRevisionsMode,\n\t} = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { getEditorSettings, getPostTypeLabel, getCurrentPostType } =\n\t\t\tselect( editorStore );\n\t\tconst {\n\t\t\tgetStylesPath,\n\t\t\tgetShowStylebook,\n\t\t\tisRevisionsMode: _isRevisionsMode,\n\t\t} = unlock( select( editorStore ) );\n\t\tconst editorSettings = getEditorSettings();\n\n\t\tlet _mode = select( editorStore ).getEditorMode();\n\t\tif ( ! editorSettings.richEditingEnabled && _mode === 'visual' ) {\n\t\t\t_mode = 'text';\n\t\t}\n\t\tif ( ! editorSettings.codeEditingEnabled && _mode === 'text' ) {\n\t\t\t_mode = 'visual';\n\t\t}\n\n\t\treturn {\n\t\t\tmode: _mode,\n\t\t\tisInserterOpened: select( editorStore ).isInserterOpened(),\n\t\t\tisListViewOpened: select( editorStore ).isListViewOpened(),\n\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\tisPreviewMode: editorSettings.isPreviewMode,\n\t\t\tshowBlockBreadcrumbs: get( 'core', 'showBlockBreadcrumbs' ),\n\t\t\tpostTypeLabel: getPostTypeLabel(),\n\t\t\tstylesPath: getStylesPath(),\n\t\t\tshowStylebook: getShowStylebook(),\n\t\t\tisAttachment:\n\t\t\t\tgetCurrentPostType() === 'attachment' &&\n\t\t\t\twindow?.__experimentalMediaEditor,\n\t\t\tisRevisionsMode: _isRevisionsMode(),\n\t\t};\n\t}, [] );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst secondarySidebarLabel = isListViewOpened\n\t\t? __( 'Document Overview' )\n\t\t: __( 'Block Library' );\n\tconst shouldShowMediaEditor = !! isAttachment;\n\tconst shouldShowStylesCanvas =\n\t\t! isAttachment &&\n\t\t( showStylebook || stylesPath?.startsWith( '/revisions' ) );\n\tconst shouldShowBlockEditor =\n\t\t! shouldShowMediaEditor && ! shouldShowStylesCanvas;\n\n\t// Local state for save panel.\n\t// Note 'truthy' callback implies an open panel.\n\tconst [ entitiesSavedStatesCallback, setEntitiesSavedStatesCallback ] =\n\t\tuseState( false );\n\tconst closeEntitiesSavedStates = useCallback(\n\t\t( arg ) => {\n\t\t\tif ( typeof entitiesSavedStatesCallback === 'function' ) {\n\t\t\t\tentitiesSavedStatesCallback( arg );\n\t\t\t}\n\t\t\tsetEntitiesSavedStatesCallback( false );\n\t\t},\n\t\t[ entitiesSavedStatesCallback ]\n\t);\n\n\t// When in revisions mode, render the revisions interface.\n\tif ( isRevisionsMode ) {\n\t\treturn (\n\t\t\t<InterfaceSkeleton\n\t\t\t\tclassName={ clsx( 'editor-editor-interface', className ) }\n\t\t\t\tlabels={ interfaceLabels }\n\t\t\t\theader={ <RevisionsHeader /> }\n\t\t\t\tcontent={ <RevisionsCanvas /> }\n\t\t\t\tsidebar={ <ComplementaryArea.Slot scope=\"core\" /> }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<InterfaceSkeleton\n\t\t\tisDistractionFree={ isDistractionFree }\n\t\t\tclassName={ clsx( 'editor-editor-interface', className, {\n\t\t\t\t'is-entity-save-view-open': !! entitiesSavedStatesCallback,\n\t\t\t\t'is-distraction-free': isDistractionFree && ! isPreviewMode,\n\t\t\t} ) }\n\t\t\tlabels={ {\n\t\t\t\t...interfaceLabels,\n\t\t\t\tsecondarySidebar: secondarySidebarLabel,\n\t\t\t} }\n\t\t\theader={\n\t\t\t\t! isPreviewMode && (\n\t\t\t\t\t<Header\n\t\t\t\t\t\tforceIsDirty={ forceIsDirty }\n\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcustomSaveButton={ customSaveButton }\n\t\t\t\t\t\tforceDisableBlockTools={ forceDisableBlockTools }\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\teditorNotices={ <EditorNotices /> }\n\t\t\tsecondarySidebar={\n\t\t\t\t! isAttachment &&\n\t\t\t\t! isPreviewMode &&\n\t\t\t\tmode === 'visual' &&\n\t\t\t\t( ( isInserterOpened && <InserterSidebar /> ) ||\n\t\t\t\t\t( isListViewOpened && <ListViewSidebar /> ) )\n\t\t\t}\n\t\t\tsidebar={\n\t\t\t\t! isPreviewMode &&\n\t\t\t\t! isDistractionFree && <ComplementaryArea.Slot scope=\"core\" />\n\t\t\t}\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t{ ! isDistractionFree && ! isPreviewMode && (\n\t\t\t\t\t\t<EditorNotices />\n\t\t\t\t\t) }\n\t\t\t\t\t{ shouldShowMediaEditor && (\n\t\t\t\t\t\t<MediaPreview { ...iframeProps } />\n\t\t\t\t\t) }\n\t\t\t\t\t{ shouldShowStylesCanvas && <StylesCanvas /> }\n\t\t\t\t\t{ shouldShowBlockEditor && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ ! isPreviewMode && mode === 'text' && (\n\t\t\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t\t\t// We should auto-focus the canvas (title) on load.\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\n\t\t\t\t\t\t\t\t\tautoFocus={ autoFocus }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ ! isPreviewMode &&\n\t\t\t\t\t\t\t\t! isLargeViewport &&\n\t\t\t\t\t\t\t\tmode === 'visual' && (\n\t\t\t\t\t\t\t\t\t<BlockToolbar hideDragHandle />\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ ( isPreviewMode || mode === 'visual' ) && (\n\t\t\t\t\t\t\t\t<VisualEditor\n\t\t\t\t\t\t\t\t\tcontentRef={ contentRef }\n\t\t\t\t\t\t\t\t\tdisableIframe={ disableIframe }\n\t\t\t\t\t\t\t\t\t// We should auto-focus the canvas (title) on load.\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\n\t\t\t\t\t\t\t\t\tautoFocus={ autoFocus }\n\t\t\t\t\t\t\t\t\tiframeProps={ iframeProps }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t}\n\t\t\tfooter={\n\t\t\t\t! isPreviewMode &&\n\t\t\t\t! isDistractionFree &&\n\t\t\t\tisLargeViewport &&\n\t\t\t\tshowBlockBreadcrumbs &&\n\t\t\t\tmode === 'visual' && (\n\t\t\t\t\t<BlockBreadcrumb\n\t\t\t\t\t\trootLabelText={\n\t\t\t\t\t\t\tpostTypeLabel\n\t\t\t\t\t\t\t\t? decodeEntities( postTypeLabel )\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\tactions={\n\t\t\t\t! isPreviewMode\n\t\t\t\t\t? customSavePanel || (\n\t\t\t\t\t\t\t<SavePublishPanels\n\t\t\t\t\t\t\t\tcloseEntitiesSavedStates={\n\t\t\t\t\t\t\t\t\tcloseEntitiesSavedStates\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tisEntitiesSavedStatesOpen={\n\t\t\t\t\t\t\t\t\tentitiesSavedStatesCallback\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tforceIsDirtyPublishPanel={ forceIsDirty }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t  )\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useMediaQuery, useViewportMatch } from '@wordpress/compose';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { useState } from '@wordpress/element';\nimport { PinnedItems } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport CollapsibleBlockToolbar from '../collapsible-block-toolbar';\nimport DocumentBar from '../document-bar';\nimport DocumentTools from '../document-tools';\nimport HeaderSkeleton from './header-skeleton';\nimport MoreMenu from '../more-menu';\nimport PostPreviewButton from '../post-preview-button';\nimport PostPublishButtonOrToggle from '../post-publish-button/post-publish-button-or-toggle';\nimport PostSavedState from '../post-saved-state';\nimport PostViewLink from '../post-view-link';\nimport PreviewDropdown from '../preview-dropdown';\nimport ZoomOutToggle from '../zoom-out-toggle';\nimport { store as editorStore } from '../../store';\nimport {\n\tATTACHMENT_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n} from '../../store/constants';\nimport { unlock } from '../../lock-unlock';\nimport { Slot as EditorPresenceSlot } from '../editor-presence';\n\nfunction Header( {\n\tcustomSaveButton,\n\tforceIsDirty,\n\tsetEntitiesSavedStatesCallback,\n} ) {\n\tconst isWideViewport = useViewportMatch( 'large' );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst isTooNarrowForDocumentBar = useMediaQuery( '(max-width: 403px)' );\n\tconst {\n\t\tpostType,\n\t\tisTextEditor,\n\t\tisPublishSidebarOpened,\n\t\tshowIconLabels,\n\t\thasFixedToolbar,\n\t\thasBlockSelection,\n\t\thasSectionRootClientId,\n\t\tisStylesCanvasActive,\n\t\tisAttachment,\n\t} = useSelect( ( select ) => {\n\t\tconst { get: getPreference } = select( preferencesStore );\n\t\tconst {\n\t\t\tgetEditorMode,\n\t\t\tgetCurrentPostType,\n\t\t\tisPublishSidebarOpened: _isPublishSidebarOpened,\n\t\t} = select( editorStore );\n\t\tconst { getStylesPath, getShowStylebook } = unlock(\n\t\t\tselect( editorStore )\n\t\t);\n\t\tconst { getBlockSelectionStart, getSectionRootClientId } = unlock(\n\t\t\tselect( blockEditorStore )\n\t\t);\n\n\t\treturn {\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tisTextEditor: getEditorMode() === 'text',\n\t\t\tisPublishSidebarOpened: _isPublishSidebarOpened(),\n\t\t\tshowIconLabels: getPreference( 'core', 'showIconLabels' ),\n\t\t\thasFixedToolbar: getPreference( 'core', 'fixedToolbar' ),\n\t\t\thasBlockSelection: !! getBlockSelectionStart(),\n\t\t\thasSectionRootClientId: !! getSectionRootClientId(),\n\t\t\tisStylesCanvasActive:\n\t\t\t\t!! getStylesPath()?.startsWith( '/revisions' ) ||\n\t\t\t\tgetShowStylebook(),\n\t\t\tisAttachment:\n\t\t\t\tgetCurrentPostType() === ATTACHMENT_POST_TYPE &&\n\t\t\t\twindow?.__experimentalMediaEditor,\n\t\t};\n\t}, [] );\n\n\tconst canBeZoomedOut =\n\t\t[ 'post', 'page', 'wp_template' ].includes( postType ) &&\n\t\thasSectionRootClientId;\n\n\tconst disablePreviewOption =\n\t\t[\n\t\t\tATTACHMENT_POST_TYPE,\n\t\t\tNAVIGATION_POST_TYPE,\n\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\tPATTERN_POST_TYPE,\n\t\t].includes( postType ) || isStylesCanvasActive;\n\n\tconst [ isBlockToolsCollapsed, setIsBlockToolsCollapsed ] =\n\t\tuseState( true );\n\n\tconst hasCenter =\n\t\t! isTooNarrowForDocumentBar &&\n\t\t( ! hasFixedToolbar ||\n\t\t\t( hasFixedToolbar &&\n\t\t\t\t( ! hasBlockSelection || isBlockToolsCollapsed ) ) );\n\n\treturn (\n\t\t<HeaderSkeleton\n\t\t\ttoolbar={\n\t\t\t\t<>\n\t\t\t\t\t{ ! isAttachment && (\n\t\t\t\t\t\t<DocumentTools\n\t\t\t\t\t\t\tdisableBlockTools={\n\t\t\t\t\t\t\t\tisStylesCanvasActive || isTextEditor\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ hasFixedToolbar && isLargeViewport && (\n\t\t\t\t\t\t<CollapsibleBlockToolbar\n\t\t\t\t\t\t\tisCollapsed={ isBlockToolsCollapsed }\n\t\t\t\t\t\t\tonToggle={ setIsBlockToolsCollapsed }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t}\n\t\t\tcenter={\n\t\t\t\thasCenter ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<EditorPresenceSlot>\n\t\t\t\t\t\t\t{ ( fills ) =>\n\t\t\t\t\t\t\t\tfills?.length ? (\n\t\t\t\t\t\t\t\t\t<div className=\"editor-header__editor-presence\">\n\t\t\t\t\t\t\t\t\t\t{ fills }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</EditorPresenceSlot>\n\t\t\t\t\t\t<DocumentBar />{ ' ' }\n\t\t\t\t\t</>\n\t\t\t\t) : undefined\n\t\t\t}\n\t\t\tsettings={\n\t\t\t\t<>\n\t\t\t\t\t{ ! customSaveButton && ! isPublishSidebarOpened && (\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t * This button isn't completely hidden by the publish sidebar.\n\t\t\t\t\t\t * We can't hide the whole toolbar when the publish sidebar is open because\n\t\t\t\t\t\t * we want to prevent mounting/unmounting the PostPublishButtonOrToggle DOM node.\n\t\t\t\t\t\t * We track that DOM node to return focus to the PostPublishButtonOrToggle\n\t\t\t\t\t\t * when the publish sidebar has been closed.\n\t\t\t\t\t\t */\n\t\t\t\t\t\t<PostSavedState forceIsDirty={ forceIsDirty } />\n\t\t\t\t\t) }\n\n\t\t\t\t\t<PostViewLink />\n\n\t\t\t\t\t<PreviewDropdown\n\t\t\t\t\t\tforceIsAutosaveable={ forceIsDirty }\n\t\t\t\t\t\tdisabled={ disablePreviewOption }\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PostPreviewButton\n\t\t\t\t\t\tclassName=\"editor-header__post-preview-button\"\n\t\t\t\t\t\tforceIsAutosaveable={ forceIsDirty }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ isWideViewport && canBeZoomedOut && (\n\t\t\t\t\t\t<ZoomOutToggle disabled={ isStylesCanvasActive } />\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ ( isWideViewport || ! showIconLabels ) && (\n\t\t\t\t\t\t<PinnedItems.Slot scope=\"core\" />\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ ! customSaveButton && (\n\t\t\t\t\t\t<PostPublishButtonOrToggle\n\t\t\t\t\t\t\tforceIsDirty={ forceIsDirty }\n\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ customSaveButton }\n\t\t\t\t\t{ ! isAttachment && <MoreMenu /> }\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default Header;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBlockToolbar,\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\nimport { Button, Popover } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { next, previous } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { useHasBlockToolbar } = unlock( blockEditorPrivateApis );\n\nexport default function CollapsibleBlockToolbar( { isCollapsed, onToggle } ) {\n\tconst { blockSelectionStart } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tblockSelectionStart:\n\t\t\t\tselect( blockEditorStore ).getBlockSelectionStart(),\n\t\t};\n\t}, [] );\n\tconst hasBlockToolbar = useHasBlockToolbar();\n\n\tconst hasBlockSelection = !! blockSelectionStart;\n\n\tuseEffect( () => {\n\t\t// If we have a new block selection, show the block tools\n\t\tif ( blockSelectionStart ) {\n\t\t\tonToggle( false );\n\t\t}\n\t}, [ blockSelectionStart, onToggle ] );\n\n\tif ( ! hasBlockToolbar ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( 'editor-collapsible-block-toolbar', {\n\t\t\t\t\t'is-collapsed': isCollapsed || ! hasBlockSelection,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<BlockToolbar hideDragHandle />\n\t\t\t</div>\n\t\t\t<Popover.Slot name=\"block-toolbar\" />\n\n\t\t\t<Button\n\t\t\t\tclassName=\"editor-collapsible-block-toolbar__toggle\"\n\t\t\t\ticon={ isCollapsed ? next : previous }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tonToggle( ! isCollapsed );\n\t\t\t\t} }\n\t\t\t\tlabel={\n\t\t\t\t\tisCollapsed\n\t\t\t\t\t\t? __( 'Show block tools' )\n\t\t\t\t\t\t: __( 'Hide block tools' )\n\t\t\t\t}\n\t\t\t\tsize=\"compact\"\n\t\t\t/>\n\t\t</>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\nimport { NavigableToolbar } from '@wordpress/block-editor';\nimport { ToolbarButton, ToolbarItem } from '@wordpress/components';\nimport { listView, plus } from '@wordpress/icons';\nimport { useCallback } from '@wordpress/element';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport EditorHistoryRedo from '../editor-history/redo';\nimport EditorHistoryUndo from '../editor-history/undo';\n\nfunction DocumentTools( { className, disableBlockTools = false } ) {\n\tconst { setIsInserterOpened, setIsListViewOpened } =\n\t\tuseDispatch( editorStore );\n\tconst {\n\t\tisDistractionFree,\n\t\tisInserterOpened,\n\t\tisListViewOpen,\n\t\tlistViewShortcut,\n\t\tinserterSidebarToggleRef,\n\t\tlistViewToggleRef,\n\t\tshowIconLabels,\n\t} = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\tconst {\n\t\t\tisListViewOpened,\n\t\t\tgetEditorMode,\n\t\t\tgetInserterSidebarToggleRef,\n\t\t\tgetListViewToggleRef,\n\t\t} = unlock( select( editorStore ) );\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\n\t\treturn {\n\t\t\tisInserterOpened: select( editorStore ).isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tlistViewShortcut: getShortcutRepresentation(\n\t\t\t\t'core/editor/toggle-list-view'\n\t\t\t),\n\t\t\tinserterSidebarToggleRef: getInserterSidebarToggleRef(),\n\t\t\tlistViewToggleRef: getListViewToggleRef(),\n\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\tisVisualMode: getEditorMode() === 'visual',\n\t\t};\n\t}, [] );\n\n\tconst preventDefault = ( event ) => {\n\t\t// Because the inserter behaves like a dialog,\n\t\t// if the inserter is opened already then when we click on the toggle button\n\t\t// then the initial click event will close the inserter and then be propagated\n\t\t// to the inserter toggle and it will open it again.\n\t\t// To prevent this we need to stop the propagation of the event.\n\t\t// This won't be necessary when the inserter no longer behaves like a dialog.\n\n\t\tif ( isInserterOpened ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t};\n\n\tconst isWideViewport = useViewportMatch( 'wide' );\n\n\t/* translators: accessibility text for the editor toolbar */\n\tconst toolbarAriaLabel = __( 'Document tools' );\n\n\tconst toggleListView = useCallback(\n\t\t() => setIsListViewOpened( ! isListViewOpen ),\n\t\t[ setIsListViewOpened, isListViewOpen ]\n\t);\n\n\tconst toggleInserter = useCallback(\n\t\t() => setIsInserterOpened( ! isInserterOpened ),\n\t\t[ isInserterOpened, setIsInserterOpened ]\n\t);\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst longLabel = _x(\n\t\t'Block Inserter',\n\t\t'Generic label for block inserter button'\n\t);\n\tconst shortLabel = ! isInserterOpened ? __( 'Add' ) : __( 'Close' );\n\n\treturn (\n\t\t// Some plugins expect and use the `edit-post-header-toolbar` CSS class to\n\t\t// find the toolbar and inject UI elements into it. This is not officially\n\t\t// supported, but we're keeping it in the list of class names for backwards\n\t\t// compatibility.\n\t\t<NavigableToolbar\n\t\t\tclassName={ clsx(\n\t\t\t\t'editor-document-tools',\n\t\t\t\t'edit-post-header-toolbar',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\taria-label={ toolbarAriaLabel }\n\t\t\tvariant=\"unstyled\"\n\t\t>\n\t\t\t<div className=\"editor-document-tools__left\">\n\t\t\t\t{ ! isDistractionFree && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tref={ inserterSidebarToggleRef }\n\t\t\t\t\t\tclassName=\"editor-document-tools__inserter-toggle\"\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tisPressed={ isInserterOpened }\n\t\t\t\t\t\tonMouseDown={ preventDefault }\n\t\t\t\t\t\tonClick={ toggleInserter }\n\t\t\t\t\t\tdisabled={ disableBlockTools }\n\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\tlabel={ showIconLabels ? shortLabel : longLabel }\n\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\taria-expanded={ isInserterOpened }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ( isWideViewport || ! showIconLabels ) && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\tas={ EditorHistoryUndo }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\tas={ EditorHistoryRedo }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ ! isDistractionFree && (\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\tclassName=\"editor-document-tools__document-overview-toggle\"\n\t\t\t\t\t\t\t\ticon={ listView }\n\t\t\t\t\t\t\t\tdisabled={ disableBlockTools }\n\t\t\t\t\t\t\t\tisPressed={ isListViewOpen }\n\t\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\t\tlabel={ __( 'Document Overview' ) }\n\t\t\t\t\t\t\t\tonClick={ toggleListView }\n\t\t\t\t\t\t\t\tshortcut={ listViewShortcut }\n\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-expanded={ isListViewOpen }\n\t\t\t\t\t\t\t\tref={ listViewToggleRef }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</NavigableToolbar>\n\t);\n}\n\nexport default DocumentTools;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __unstableMotion as motion } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BackButton, { useHasBackButton } from './back-button';\n\nconst toolbarVariations = {\n\tdistractionFreeDisabled: { y: '-50px' },\n\tdistractionFreeHover: { y: 0 },\n\tdistractionFreeHidden: { y: '-50px' },\n\tvisible: { y: 0 },\n\thidden: { y: 0 },\n};\n\nconst backButtonVariations = {\n\tdistractionFreeDisabled: { x: '-100%' },\n\tdistractionFreeHover: { x: 0 },\n\tdistractionFreeHidden: { x: '-100%' },\n\tvisible: { x: 0 },\n\thidden: { x: 0 },\n};\n\n/**\n * Header skeleton component providing the common layout structure.\n *\n * @param {Object}      props           Component props.\n * @param {string}      props.className Additional class name.\n * @param {JSX.Element} props.toolbar   Content for the left toolbar area.\n * @param {JSX.Element} props.center    Content for the center area.\n * @param {JSX.Element} props.settings  Content for the right settings area.\n * @return {JSX.Element} The header skeleton component.\n */\nexport default function HeaderSkeleton( {\n\tclassName,\n\ttoolbar,\n\tcenter,\n\tsettings,\n} ) {\n\tconst hasBackButton = useHasBackButton();\n\n\t/*\n\t * The edit-post-header classname is only kept for backward compatibility\n\t * as some plugins might be relying on its presence.\n\t */\n\treturn (\n\t\t<div className={ clsx( 'editor-header edit-post-header', className ) }>\n\t\t\t{ hasBackButton && (\n\t\t\t\t<motion.div\n\t\t\t\t\tclassName=\"editor-header__back-button\"\n\t\t\t\t\tvariants={ backButtonVariations }\n\t\t\t\t\ttransition={ { type: 'tween' } }\n\t\t\t\t>\n\t\t\t\t\t<BackButton.Slot />\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t\t<motion.div\n\t\t\t\tvariants={ toolbarVariations }\n\t\t\t\tclassName=\"editor-header__toolbar\"\n\t\t\t\ttransition={ { type: 'tween' } }\n\t\t\t>\n\t\t\t\t{ toolbar }\n\t\t\t</motion.div>\n\t\t\t{ center && (\n\t\t\t\t<motion.div\n\t\t\t\t\tvariants={ toolbarVariations }\n\t\t\t\t\tclassName=\"editor-header__center\"\n\t\t\t\t\ttransition={ { type: 'tween' } }\n\t\t\t\t>\n\t\t\t\t\t{ center }\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t\t<motion.div\n\t\t\t\tvariants={ toolbarVariations }\n\t\t\t\ttransition={ { type: 'tween' } }\n\t\t\t\tclassName=\"editor-header__settings\"\n\t\t\t>\n\t\t\t\t{ settings }\n\t\t\t</motion.div>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { external, moreVertical } from '@wordpress/icons';\nimport {\n\tMenuGroup,\n\tMenuItem,\n\tVisuallyHidden,\n\tDropdownMenu,\n} from '@wordpress/components';\nimport {\n\tPreferenceToggleMenuItem,\n\tstore as preferencesStore,\n} from '@wordpress/preferences';\nimport { store as interfaceStore, ActionItem } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport CopyContentMenuItem from './copy-content-menu-item';\nimport ModeSwitcher from '../mode-switcher';\nimport ToolsMoreMenuGroup from './tools-more-menu-group';\nimport ViewMoreMenuGroup from './view-more-menu-group';\nimport { store as editorStore } from '../../store';\n\nexport default function MoreMenu( { disabled = false } ) {\n\tconst { openModal } = useDispatch( interfaceStore );\n\tconst { set: setPreference } = useDispatch( preferencesStore );\n\tconst { toggleDistractionFree } = useDispatch( editorStore );\n\tconst showIconLabels = useSelect(\n\t\t( select ) =>\n\t\t\tselect( preferencesStore ).get( 'core', 'showIconLabels' ),\n\t\t[]\n\t);\n\n\tconst turnOffDistractionFree = () => {\n\t\tsetPreference( 'core', 'distractionFree', false );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<DropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'Options' ) }\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tplacement: 'bottom-end',\n\t\t\t\t\tclassName: 'more-menu-dropdown__content',\n\t\t\t\t} }\n\t\t\t\ttoggleProps={ {\n\t\t\t\t\tshowTooltip: ! showIconLabels,\n\t\t\t\t\t...( showIconLabels && { variant: 'tertiary' } ),\n\t\t\t\t\ttooltipPosition: 'bottom',\n\t\t\t\t\tsize: 'compact',\n\t\t\t\t\tdisabled,\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<MenuGroup label={ _x( 'View', 'noun' ) }>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tname=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tonToggle={ turnOffDistractionFree }\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar activated.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar deactivated.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tname=\"distractionFree\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Distraction free' ) }\n\t\t\t\t\t\t\t\tinfo={ __( 'Write with calmness' ) }\n\t\t\t\t\t\t\t\thandleToggling={ false }\n\t\t\t\t\t\t\t\tonToggle={ () =>\n\t\t\t\t\t\t\t\t\ttoggleDistractionFree( {\n\t\t\t\t\t\t\t\t\t\tcreateNotice: false,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Distraction free mode activated.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Distraction free mode deactivated.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.primaryShift(\n\t\t\t\t\t\t\t\t\t'\\\\'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tname=\"focusMode\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Spotlight mode' ) }\n\t\t\t\t\t\t\t\tinfo={ __( 'Focus on one block at a time' ) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode activated.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode deactivated.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ViewMoreMenuGroup.Slot fillProps={ { onClose } } />\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<ModeSwitcher />\n\t\t\t\t\t\t<ActionItem.Slot\n\t\t\t\t\t\t\tname=\"core/plugin-more-menu\"\n\t\t\t\t\t\t\tlabel={ __( 'Panels' ) }\n\t\t\t\t\t\t\tfillProps={ { onClick: onClose } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\topenModal( 'editor/keyboard-shortcut-help' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.access( 'h' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Keyboard shortcuts' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<CopyContentMenuItem />\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/wordpress-block-editor/'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Help' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<ToolsMoreMenuGroup.Slot\n\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\topenModal( 'editor/preferences' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Preferences' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function CopyContentMenuItem() {\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst { getCurrentPostId, getCurrentPostType } = useSelect( editorStore );\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\n\n\tfunction getText() {\n\t\tconst record = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tgetCurrentPostType(),\n\t\t\tgetCurrentPostId()\n\t\t);\n\t\tif ( ! record ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( typeof record.content === 'function' ) {\n\t\t\treturn record.content( record );\n\t\t} else if ( record.blocks ) {\n\t\t\treturn __unstableSerializeAndClean( record.blocks );\n\t\t} else if ( record.content ) {\n\t\t\treturn record.content;\n\t\t}\n\t}\n\n\tfunction onSuccess() {\n\t\tcreateNotice( 'info', __( 'All content copied.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n\n\tconst ref = useCopyToClipboard( getText, onSuccess );\n\n\treturn <MenuItem ref={ ref }>{ __( 'Copy all blocks' ) }</MenuItem>;\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItemsChoice, MenuGroup } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Set of available mode options.\n *\n * @type {Array}\n */\nconst MODES = [\n\t{\n\t\tvalue: 'visual',\n\t\tlabel: __( 'Visual editor' ),\n\t},\n\t{\n\t\tvalue: 'text',\n\t\tlabel: __( 'Code editor' ),\n\t},\n];\n\nfunction ModeSwitcher() {\n\tconst { shortcut, isRichEditingEnabled, isCodeEditingEnabled, mode } =\n\t\tuseSelect(\n\t\t\t( select ) => ( {\n\t\t\t\tshortcut: select(\n\t\t\t\t\tkeyboardShortcutsStore\n\t\t\t\t).getShortcutRepresentation( 'core/editor/toggle-mode' ),\n\t\t\t\tisRichEditingEnabled:\n\t\t\t\t\tselect( editorStore ).getEditorSettings()\n\t\t\t\t\t\t.richEditingEnabled,\n\t\t\t\tisCodeEditingEnabled:\n\t\t\t\t\tselect( editorStore ).getEditorSettings()\n\t\t\t\t\t\t.codeEditingEnabled,\n\t\t\t\tmode: select( editorStore ).getEditorMode(),\n\t\t\t} ),\n\t\t\t[]\n\t\t);\n\tconst { switchEditorMode } = useDispatch( editorStore );\n\n\tlet selectedMode = mode;\n\tif ( ! isRichEditingEnabled && mode === 'visual' ) {\n\t\tselectedMode = 'text';\n\t}\n\tif ( ! isCodeEditingEnabled && mode === 'text' ) {\n\t\tselectedMode = 'visual';\n\t}\n\n\tconst choices = MODES.map( ( choice ) => {\n\t\tif ( ! isCodeEditingEnabled && choice.value === 'text' ) {\n\t\t\tchoice = {\n\t\t\t\t...choice,\n\t\t\t\tdisabled: true,\n\t\t\t};\n\t\t}\n\t\tif ( ! isRichEditingEnabled && choice.value === 'visual' ) {\n\t\t\tchoice = {\n\t\t\t\t...choice,\n\t\t\t\tdisabled: true,\n\t\t\t\tinfo: __(\n\t\t\t\t\t'You can enable the visual editor in your profile settings.'\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\t\tif ( choice.value !== selectedMode && ! choice.disabled ) {\n\t\t\treturn { ...choice, shortcut };\n\t\t}\n\t\treturn choice;\n\t} );\n\n\treturn (\n\t\t<MenuGroup label={ __( 'Editor' ) }>\n\t\t\t<MenuItemsChoice\n\t\t\t\tchoices={ choices }\n\t\t\t\tvalue={ selectedMode }\n\t\t\t\tonSelect={ switchEditorMode }\n\t\t\t/>\n\t\t</MenuGroup>\n\t);\n}\n\nexport default ModeSwitcher;\n", "/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: ToolsMoreMenuGroup, Slot } =\n\tcreateSlotFill( 'ToolsMoreMenuGroup' );\n\nToolsMoreMenuGroup.Slot = ( { fillProps } ) => <Slot fillProps={ fillProps } />;\n\nexport default ToolsMoreMenuGroup;\n", "/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\nimport { Platform } from '@wordpress/element';\n\nconst { Fill: ViewMoreMenuGroup, Slot } = createSlotFill(\n\tPlatform.OS === 'web' ? Symbol( 'ViewMoreMenuGroup' ) : 'ViewMoreMenuGroup'\n);\n\nViewMoreMenuGroup.Slot = ( { fillProps } ) => <Slot fillProps={ fillProps } />;\n\nexport default ViewMoreMenuGroup;\n", "/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostPublishButton from './index';\nimport { store as editorStore } from '../../store';\nimport { ATTACHMENT_POST_TYPE } from '../../store/constants';\n\nconst IS_TOGGLE = 'toggle';\nconst IS_BUTTON = 'button';\n\nexport default function PostPublishButtonOrToggle( {\n\tforceIsDirty,\n\tsetEntitiesSavedStatesCallback,\n} ) {\n\tlet component;\n\tconst isSmallerThanMediumViewport = useViewportMatch( 'medium', '<' );\n\tconst { togglePublishSidebar } = useDispatch( editorStore );\n\tconst {\n\t\thasPublishAction,\n\t\tisBeingScheduled,\n\t\tisPending,\n\t\tisPublished,\n\t\tisPublishSidebarEnabled,\n\t\tisPublishSidebarOpened,\n\t\tisScheduled,\n\t\tpostStatus,\n\t\tpostStatusHasChanged,\n\t\tpostType,\n\t} = useSelect( ( select ) => {\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\t!! select( editorStore ).getCurrentPost()?._links?.[\n\t\t\t\t\t'wp:action-publish'\n\t\t\t\t],\n\t\t\tisBeingScheduled:\n\t\t\t\tselect( editorStore ).isEditedPostBeingScheduled(),\n\t\t\tisPending: select( editorStore ).isCurrentPostPending(),\n\t\t\tisPublished: select( editorStore ).isCurrentPostPublished(),\n\t\t\tisPublishSidebarEnabled:\n\t\t\t\tselect( editorStore ).isPublishSidebarEnabled(),\n\t\t\tisPublishSidebarOpened:\n\t\t\t\tselect( editorStore ).isPublishSidebarOpened(),\n\t\t\tisScheduled: select( editorStore ).isCurrentPostScheduled(),\n\t\t\tpostStatus:\n\t\t\t\tselect( editorStore ).getEditedPostAttribute( 'status' ),\n\t\t\tpostStatusHasChanged: select( editorStore ).getPostEdits()?.status,\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t};\n\t}, [] );\n\n\t/**\n\t * Conditions to show a BUTTON (publish directly) or a TOGGLE (open publish sidebar):\n\t *\n\t * 1) Attachments always show a BUTTON since they don't have a publish workflow\n\t *    and should save directly without pre-publish checks.\n\t *\n\t * 2) We want to show a BUTTON when the post status is at the _final stage_\n\t *    for a particular role (see https://wordpress.org/documentation/article/post-status/):\n\t *\n\t * - is published\n\t * - post status has changed explicitly to something different than 'future' or 'publish'\n\t * - is scheduled to be published\n\t * - is pending and can't be published (but only for viewports >= medium).\n\t * \t Originally, we considered showing a button for pending posts that couldn't be published\n\t * \t (for example, for an author with the contributor role). Some languages can have\n\t * \t long translations for \"Submit for review\", so given the lack of UI real estate available\n\t * \t we decided to take into account the viewport in that case.\n\t *  \t See: https://github.com/WordPress/gutenberg/issues/10475\n\t *\n\t * 3) Then, in small viewports, we'll show a TOGGLE.\n\t *\n\t * 4) Finally, we'll use the publish sidebar status to decide:\n\t *\n\t * - if it is enabled, we show a TOGGLE\n\t * - if it is disabled, we show a BUTTON\n\t */\n\tif ( postType === ATTACHMENT_POST_TYPE ) {\n\t\tcomponent = IS_BUTTON;\n\t} else if (\n\t\tisPublished ||\n\t\t( postStatusHasChanged &&\n\t\t\t! [ 'future', 'publish' ].includes( postStatus ) ) ||\n\t\t( isScheduled && isBeingScheduled ) ||\n\t\t( isPending && ! hasPublishAction && ! isSmallerThanMediumViewport )\n\t) {\n\t\tcomponent = IS_BUTTON;\n\t} else if ( isSmallerThanMediumViewport || isPublishSidebarEnabled ) {\n\t\tcomponent = IS_TOGGLE;\n\t} else {\n\t\tcomponent = IS_BUTTON;\n\t}\n\n\treturn (\n\t\t<PostPublishButton\n\t\t\tforceIsDirty={ forceIsDirty }\n\t\t\tisOpen={ isPublishSidebarOpened }\n\t\t\tisToggle={ component === IS_TOGGLE }\n\t\t\tonToggle={ togglePublishSidebar }\n\t\t\tsetEntitiesSavedStatesCallback={ setEntitiesSavedStatesCallback }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { external } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostViewLink() {\n\tconst { hasLoaded, permalink, isPublished, label, showIconLabels } =\n\t\tuseSelect( ( select ) => {\n\t\t\t// Grab post type to retrieve the view_item label.\n\t\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\t\tconst { get } = select( preferencesStore );\n\n\t\t\treturn {\n\t\t\t\tpermalink: select( editorStore ).getPermalink(),\n\t\t\t\tisPublished: select( editorStore ).isCurrentPostPublished(),\n\t\t\t\tlabel: postType?.labels.view_item,\n\t\t\t\thasLoaded: !! postType,\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t};\n\t\t}, [] );\n\n\t// Only render the view button if the post is published and has a permalink.\n\tif ( ! isPublished || ! permalink || ! hasLoaded ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\ticon={ external }\n\t\t\tlabel={ label || __( 'View post' ) }\n\t\t\thref={ permalink }\n\t\t\ttarget=\"_blank\"\n\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\tsize=\"compact\"\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n\tMenuItemsChoice,\n\tVisuallyHidden,\n\tIcon,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { desktop, mobile, tablet, external, check } from '@wordpress/icons';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { ActionItem } from '@wordpress/interface';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostPreviewButton from '../post-preview-button';\nimport { unlock } from '../../lock-unlock';\n\nexport default function PreviewDropdown( { forceIsAutosaveable, disabled } ) {\n\tconst {\n\t\tdeviceType,\n\t\thomeUrl,\n\t\tisTemplate,\n\t\tisViewable,\n\t\tshowIconLabels,\n\t\tisTemplateHidden,\n\t\ttemplateId,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetDeviceType,\n\t\t\tgetCurrentPostType,\n\t\t\tgetCurrentTemplateId,\n\t\t\tgetRenderingMode,\n\t\t} = select( editorStore );\n\t\tconst { getEntityRecord, getPostType } = select( coreStore );\n\t\tconst { get } = select( preferencesStore );\n\t\tconst _currentPostType = getCurrentPostType();\n\t\treturn {\n\t\t\tdeviceType: getDeviceType(),\n\t\t\thomeUrl: getEntityRecord( 'root', '__unstableBase' )?.home,\n\t\t\tisTemplate: _currentPostType === 'wp_template',\n\t\t\tisViewable: getPostType( _currentPostType )?.viewable ?? false,\n\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\tisTemplateHidden: getRenderingMode() === 'post-only',\n\t\t\ttemplateId: getCurrentTemplateId(),\n\t\t};\n\t}, [] );\n\tconst { setDeviceType, setRenderingMode, setDefaultRenderingMode } = unlock(\n\t\tuseDispatch( editorStore )\n\t);\n\tconst { resetZoomLevel } = unlock( useDispatch( blockEditorStore ) );\n\n\tconst handleDevicePreviewChange = ( newDeviceType ) => {\n\t\tsetDeviceType( newDeviceType );\n\t\tresetZoomLevel();\n\t};\n\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\tif ( isMobile ) {\n\t\treturn null;\n\t}\n\n\tconst popoverProps = {\n\t\tplacement: 'bottom-end',\n\t};\n\tconst toggleProps = {\n\t\tclassName: 'editor-preview-dropdown__toggle',\n\t\ticonPosition: 'right',\n\t\tsize: 'compact',\n\t\tshowTooltip: ! showIconLabels,\n\t\tdisabled,\n\t\taccessibleWhenDisabled: disabled,\n\t};\n\tconst menuProps = {\n\t\t'aria-label': __( 'View options' ),\n\t};\n\n\tconst deviceIcons = {\n\t\tdesktop,\n\t\tmobile,\n\t\ttablet,\n\t};\n\n\t/**\n\t * The choices for the device type.\n\t *\n\t * @type {Array}\n\t */\n\tconst choices = [\n\t\t{\n\t\t\tvalue: 'Desktop',\n\t\t\tlabel: __( 'Desktop' ),\n\t\t\ticon: desktop,\n\t\t},\n\t\t{\n\t\t\tvalue: 'Tablet',\n\t\t\tlabel: __( 'Tablet' ),\n\t\t\ticon: tablet,\n\t\t},\n\t\t{\n\t\t\tvalue: 'Mobile',\n\t\t\tlabel: __( 'Mobile' ),\n\t\t\ticon: mobile,\n\t\t},\n\t];\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\tclassName={ clsx(\n\t\t\t\t'editor-preview-dropdown',\n\t\t\t\t`editor-preview-dropdown--${ deviceType.toLowerCase() }`\n\t\t\t) }\n\t\t\tpopoverProps={ popoverProps }\n\t\t\ttoggleProps={ toggleProps }\n\t\t\tmenuProps={ menuProps }\n\t\t\ticon={ deviceIcons[ deviceType.toLowerCase() ] }\n\t\t\tlabel={ __( 'View' ) }\n\t\t\tdisableOpenOnArrowDown={ disabled }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItemsChoice\n\t\t\t\t\t\t\tchoices={ choices }\n\t\t\t\t\t\t\tvalue={ deviceType }\n\t\t\t\t\t\t\tonSelect={ handleDevicePreviewChange }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t{ isTemplate && (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\thref={ homeUrl }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'View site' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isTemplate && !! templateId && (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\ticon={ ! isTemplateHidden ? check : undefined }\n\t\t\t\t\t\t\t\tisSelected={ ! isTemplateHidden }\n\t\t\t\t\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tconst newRenderingMode = isTemplateHidden\n\t\t\t\t\t\t\t\t\t\t? 'template-locked'\n\t\t\t\t\t\t\t\t\t\t: 'post-only';\n\t\t\t\t\t\t\t\t\tsetRenderingMode( newRenderingMode );\n\t\t\t\t\t\t\t\t\tsetDefaultRenderingMode( newRenderingMode );\n\t\t\t\t\t\t\t\t\tresetZoomLevel();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Show template' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isViewable && (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<PostPreviewButton\n\t\t\t\t\t\t\t\tclassName=\"editor-preview-dropdown__button-external\"\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\tforceIsAutosaveable={ forceIsAutosaveable }\n\t\t\t\t\t\t\t\taria-label={ __( 'Preview in new tab' ) }\n\t\t\t\t\t\t\t\ttextContent={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Preview in new tab' ) }\n\t\t\t\t\t\t\t\t\t\t<Icon icon={ external } />\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonPreview={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t<ActionItem.Slot\n\t\t\t\t\t\tname=\"core/plugin-preview-menu\"\n\t\t\t\t\t\tfillProps={ { onClick: onClose } }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { square as zoomOutIcon } from '@wordpress/icons';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst ZoomOutToggle = ( { disabled } ) => {\n\tconst { isZoomOut, showIconLabels, isDistractionFree } = useSelect(\n\t\t( select ) => ( {\n\t\t\tisZoomOut: unlock( select( blockEditorStore ) ).isZoomOut(),\n\t\t\tshowIconLabels: select( preferencesStore ).get(\n\t\t\t\t'core',\n\t\t\t\t'showIconLabels'\n\t\t\t),\n\t\t\tisDistractionFree: select( preferencesStore ).get(\n\t\t\t\t'core',\n\t\t\t\t'distractionFree'\n\t\t\t),\n\t\t} )\n\t);\n\n\tconst { resetZoomLevel, setZoomLevel } = unlock(\n\t\tuseDispatch( blockEditorStore )\n\t);\n\tconst { registerShortcut, unregisterShortcut } = useDispatch(\n\t\tkeyboardShortcutsStore\n\t);\n\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/zoom',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Enter or exit zoom out.' ),\n\t\t\tkeyCombination: {\n\t\t\t\t// `primaryShift+0` (`ctrl+shift+0`) is the shortcut for switching\n\t\t\t\t// to input mode in Windows, so apply a different key combination.\n\t\t\t\tmodifier: isAppleOS() ? 'primaryShift' : 'secondary',\n\t\t\t\tcharacter: '0',\n\t\t\t},\n\t\t} );\n\t\treturn () => {\n\t\t\tunregisterShortcut( 'core/editor/zoom' );\n\t\t};\n\t}, [ registerShortcut, unregisterShortcut ] );\n\n\tuseShortcut(\n\t\t'core/editor/zoom',\n\t\t() => {\n\t\t\tif ( isZoomOut ) {\n\t\t\t\tresetZoomLevel();\n\t\t\t} else {\n\t\t\t\tsetZoomLevel( 'auto-scaled' );\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tisDisabled: isDistractionFree,\n\t\t}\n\t);\n\n\tconst handleZoomOut = () => {\n\t\tif ( isZoomOut ) {\n\t\t\tresetZoomLevel();\n\t\t} else {\n\t\t\tsetZoomLevel( 'auto-scaled' );\n\t\t}\n\t};\n\n\treturn (\n\t\t<Button\n\t\t\taccessibleWhenDisabled\n\t\t\tdisabled={ disabled }\n\t\t\tonClick={ handleZoomOut }\n\t\t\ticon={ zoomOutIcon }\n\t\t\tlabel={ __( 'Zoom Out' ) }\n\t\t\tisPressed={ isZoomOut }\n\t\t\tsize=\"compact\"\n\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\tclassName=\"editor-zoom-out-toggle\"\n\t\t/>\n\t);\n};\n\nexport default ZoomOutToggle;\n", "/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill, Slot } = createSlotFill( 'EditorPresence' );\n\n/**\n * Renders the SlotFill for editor presence.\n */\nexport const EditorPresence = Fill;\n\nexport { Slot };\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useCallback, useRef } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { PrivateInserterLibrary } = unlock( blockEditorPrivateApis );\n\nexport default function InserterSidebar() {\n\tconst {\n\t\tblockSectionRootClientId,\n\t\tinserterSidebarToggleRef,\n\t\tinserter,\n\t\tshowMostUsedBlocks,\n\t\tsidebarIsOpened,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetInserterSidebarToggleRef,\n\t\t\tgetInserter,\n\t\t\tisPublishSidebarOpened,\n\t\t} = unlock( select( editorStore ) );\n\t\tconst { getBlockRootClientId, isZoomOut, getSectionRootClientId } =\n\t\t\tunlock( select( blockEditorStore ) );\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { getActiveComplementaryArea } = select( interfaceStore );\n\t\tconst getBlockSectionRootClientId = () => {\n\t\t\tif ( isZoomOut() ) {\n\t\t\t\tconst sectionRootClientId = getSectionRootClientId();\n\n\t\t\t\tif ( sectionRootClientId ) {\n\t\t\t\t\treturn sectionRootClientId;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn getBlockRootClientId();\n\t\t};\n\t\treturn {\n\t\t\tinserterSidebarToggleRef: getInserterSidebarToggleRef(),\n\t\t\tinserter: getInserter(),\n\t\t\tshowMostUsedBlocks: get( 'core', 'mostUsedBlocks' ),\n\t\t\tblockSectionRootClientId: getBlockSectionRootClientId(),\n\t\t\tsidebarIsOpened: !! (\n\t\t\t\tgetActiveComplementaryArea( 'core' ) || isPublishSidebarOpened()\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst { setIsInserterOpened } = useDispatch( editorStore );\n\tconst { disableComplementaryArea } = useDispatch( interfaceStore );\n\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst libraryRef = useRef();\n\n\t// When closing the inserter, focus should return to the toggle button.\n\tconst closeInserterSidebar = useCallback( () => {\n\t\tsetIsInserterOpened( false );\n\t\tinserterSidebarToggleRef.current?.focus();\n\t}, [ inserterSidebarToggleRef, setIsInserterOpened ] );\n\n\tconst closeOnEscape = useCallback(\n\t\t( event ) => {\n\t\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcloseInserterSidebar();\n\t\t\t}\n\t\t},\n\t\t[ closeInserterSidebar ]\n\t);\n\n\tconst inserterContents = (\n\t\t<div className=\"editor-inserter-sidebar__content\">\n\t\t\t<PrivateInserterLibrary\n\t\t\t\tshowMostUsedBlocks={ showMostUsedBlocks }\n\t\t\t\tshowInserterHelpPanel\n\t\t\t\tshouldFocusBlock={ isMobileViewport }\n\t\t\t\trootClientId={ blockSectionRootClientId }\n\t\t\t\tonSelect={ inserter.onSelect }\n\t\t\t\t__experimentalInitialTab={ inserter.tab }\n\t\t\t\t__experimentalInitialCategory={ inserter.category }\n\t\t\t\t__experimentalFilterValue={ inserter.filterValue }\n\t\t\t\tonPatternCategorySelection={\n\t\t\t\t\tsidebarIsOpened\n\t\t\t\t\t\t? () => disableComplementaryArea( 'core' )\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tref={ libraryRef }\n\t\t\t\tonClose={ closeInserterSidebar }\n\t\t\t/>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div onKeyDown={ closeOnEscape } className=\"editor-inserter-sidebar\">\n\t\t\t{ inserterContents }\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalListView as ListView,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { useFocusOnMount, useMergeRefs } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { focus } from '@wordpress/dom';\nimport { useCallback, useRef, useState } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { ESCAPE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport ListViewOutline from './list-view-outline';\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { TabbedSidebar } = unlock( blockEditorPrivateApis );\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( editorStore );\n\tconst { getListViewToggleRef } = unlock( useSelect( editorStore ) );\n\n\t// This hook handles focus when the sidebar first renders.\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\n\t// When closing the list view, focus should return to the toggle button.\n\tconst closeListView = useCallback( () => {\n\t\tsetIsListViewOpened( false );\n\t\tgetListViewToggleRef().current?.focus();\n\t}, [ getListViewToggleRef, setIsListViewOpened ] );\n\n\tconst closeOnEscape = useCallback(\n\t\t( event ) => {\n\t\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcloseListView();\n\t\t\t}\n\t\t},\n\t\t[ closeListView ]\n\t);\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the dropZoneElement updates.\n\tconst [ dropZoneElement, setDropZoneElement ] = useState( null );\n\t// Tracks our current tab.\n\tconst [ tab, setTab ] = useState( 'list-view' );\n\n\t// This ref refers to the sidebar as a whole.\n\tconst sidebarRef = useRef();\n\t// This ref refers to the tab panel.\n\tconst tabsRef = useRef();\n\t// This ref refers to the list view application area.\n\tconst listViewRef = useRef();\n\n\t// Must merge the refs together so focus can be handled properly in the next function.\n\tconst listViewContainerRef = useMergeRefs( [\n\t\tfocusOnMountRef,\n\t\tlistViewRef,\n\t\tsetDropZoneElement,\n\t] );\n\n\t/*\n\t * Callback function to handle list view or outline focus.\n\t *\n\t * @param {string} currentTab The current tab. Either list view or outline.\n\t *\n\t * @return void\n\t */\n\tfunction handleSidebarFocus( currentTab ) {\n\t\t// Tab panel focus.\n\t\tconst tabPanelFocus = focus.tabbable.find( tabsRef.current )[ 0 ];\n\t\t// List view tab is selected.\n\t\tif ( currentTab === 'list-view' ) {\n\t\t\t// Either focus the list view or the tab panel. Must have a fallback because the list view does not render when there are no blocks.\n\t\t\tconst listViewApplicationFocus = focus.tabbable.find(\n\t\t\t\tlistViewRef.current\n\t\t\t)[ 0 ];\n\t\t\tconst listViewFocusArea = sidebarRef.current.contains(\n\t\t\t\tlistViewApplicationFocus\n\t\t\t)\n\t\t\t\t? listViewApplicationFocus\n\t\t\t\t: tabPanelFocus;\n\t\t\tlistViewFocusArea.focus();\n\t\t\t// Outline tab is selected.\n\t\t} else {\n\t\t\ttabPanelFocus.focus();\n\t\t}\n\t}\n\n\tconst handleToggleListViewShortcut = useCallback( () => {\n\t\t// If the sidebar has focus, it is safe to close.\n\t\tif (\n\t\t\tsidebarRef.current.contains(\n\t\t\t\tsidebarRef.current.ownerDocument.activeElement\n\t\t\t)\n\t\t) {\n\t\t\tcloseListView();\n\t\t} else {\n\t\t\t// If the list view or outline does not have focus, focus should be moved to it.\n\t\t\thandleSidebarFocus( tab );\n\t\t}\n\t}, [ closeListView, tab ] );\n\n\t// This only fires when the sidebar is open because of the conditional rendering.\n\t// It is the same shortcut to open but that is defined as a global shortcut and only fires when the sidebar is closed.\n\tuseShortcut( 'core/editor/toggle-list-view', handleToggleListViewShortcut );\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\tclassName=\"editor-list-view-sidebar\"\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t\tref={ sidebarRef }\n\t\t>\n\t\t\t<TabbedSidebar\n\t\t\t\ttabs={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'list-view',\n\t\t\t\t\t\ttitle: _x( 'List View', 'Post overview' ),\n\t\t\t\t\t\tpanel: (\n\t\t\t\t\t\t\t<div className=\"editor-list-view-sidebar__list-view-container\">\n\t\t\t\t\t\t\t\t<div className=\"editor-list-view-sidebar__list-view-panel-content\">\n\t\t\t\t\t\t\t\t\t<ListView\n\t\t\t\t\t\t\t\t\t\tdropZoneElement={ dropZoneElement }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpanelRef: listViewContainerRef,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'outline',\n\t\t\t\t\t\ttitle: _x( 'Outline', 'Post overview' ),\n\t\t\t\t\t\tpanel: (\n\t\t\t\t\t\t\t<div className=\"editor-list-view-sidebar__list-view-container\">\n\t\t\t\t\t\t\t\t<ListViewOutline />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t\tonClose={ closeListView }\n\t\t\t\tonSelect={ ( tabName ) => setTab( tabName ) }\n\t\t\t\tdefaultTabId=\"list-view\"\n\t\t\t\tref={ tabsRef }\n\t\t\t\tcloseButtonLabel={ __( 'Close' ) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport CharacterCount from '../character-count';\nimport WordCount from '../word-count';\nimport TimeToRead from '../time-to-read';\nimport DocumentOutline from '../document-outline';\n\nexport default function ListViewOutline() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"editor-list-view-sidebar__outline\">\n\t\t\t\t<div>\n\t\t\t\t\t<Text>{ __( 'Characters:' ) }</Text>\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t<CharacterCount />\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Text>{ __( 'Words:' ) }</Text>\n\t\t\t\t\t<WordCount />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Text>{ __( 'Time to read:' ) }</Text>\n\t\t\t\t\t<TimeToRead />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<DocumentOutline />\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { Button } from '@wordpress/components';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { PinnedItems } from '@wordpress/interface';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport HeaderSkeleton from '../header/header-skeleton';\nimport MoreMenu from '../more-menu';\nimport PostPreviewButton from '../post-preview-button';\nimport PreviewDropdown from '../preview-dropdown';\nimport RevisionsSlider from './revisions-slider';\nimport { store as editorStore } from '../../store';\nimport {\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n} from '../../store/constants';\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Header component for revisions preview mode.\n *\n * @return {JSX.Element} The revisions header component.\n */\nfunction RevisionsHeader() {\n\tconst isWideViewport = useViewportMatch( 'large' );\n\tconst { postType, showIconLabels, currentRevisionId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { get: getPreference } = select( preferencesStore );\n\t\t\tconst { getCurrentPostType } = select( editorStore );\n\n\t\t\treturn {\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t\tshowIconLabels: getPreference( 'core', 'showIconLabels' ),\n\t\t\t\tcurrentRevisionId: unlock(\n\t\t\t\t\tselect( editorStore )\n\t\t\t\t).getCurrentRevisionId(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { setCurrentRevisionId, restoreRevision } = unlock(\n\t\tuseDispatch( editorStore )\n\t);\n\n\tconst disablePreviewOption = [\n\t\tNAVIGATION_POST_TYPE,\n\t\tTEMPLATE_PART_POST_TYPE,\n\t\tPATTERN_POST_TYPE,\n\t].includes( postType );\n\n\tconst canRestore = !! currentRevisionId;\n\n\tconst handleRestore = () => {\n\t\tif ( currentRevisionId ) {\n\t\t\trestoreRevision( currentRevisionId );\n\t\t}\n\t};\n\n\treturn (\n\t\t<HeaderSkeleton\n\t\t\tclassName=\"editor-revisions-header\"\n\t\t\tcenter={ <RevisionsSlider /> }\n\t\t\tsettings={\n\t\t\t\t<>\n\t\t\t\t\t<PreviewDropdown disabled={ disablePreviewOption } />\n\n\t\t\t\t\t<PostPreviewButton className=\"editor-header__post-preview-button\" />\n\n\t\t\t\t\t{ ( isWideViewport || ! showIconLabels ) && (\n\t\t\t\t\t\t<PinnedItems.Slot scope=\"core\" />\n\t\t\t\t\t) }\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tonClick={ () => setCurrentRevisionId( null ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Exit' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tclassName=\"editor-revisions-header__restore-button\"\n\t\t\t\t\t\tdisabled={ ! canRestore }\n\t\t\t\t\t\tonClick={ handleRestore }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Restore' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<MoreMenu disabled />\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default RevisionsHeader;\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { RangeControl, Spinner } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { dateI18n, getSettings as getDateSettings } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Slider component for navigating revisions.\n *\n * @return {JSX.Element} The revisions slider component.\n */\nfunction RevisionsSlider() {\n\tconst { revisions, isLoading, currentRevisionId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPostId, getCurrentPostType } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getRevisions, isResolving } = select( coreStore );\n\n\t\t\tconst postId = getCurrentPostId();\n\t\t\tconst postType = getCurrentPostType();\n\n\t\t\tif ( ! postId || ! postType ) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tconst query = { per_page: -1, context: 'edit' };\n\t\t\treturn {\n\t\t\t\trevisions: getRevisions( 'postType', postType, postId, query ),\n\t\t\t\tisLoading: isResolving( 'getRevisions', [\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId,\n\t\t\t\t\tquery,\n\t\t\t\t] ),\n\t\t\t\tcurrentRevisionId: unlock(\n\t\t\t\t\tselect( editorStore )\n\t\t\t\t).getCurrentRevisionId(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { setCurrentRevisionId } = unlock( useDispatch( editorStore ) );\n\n\tconst sortedRevisions = useMemo( () => {\n\t\treturn (\n\t\t\trevisions\n\t\t\t\t?.slice()\n\t\t\t\t.sort( ( a, b ) => new Date( a.date ) - new Date( b.date ) ) ??\n\t\t\t[]\n\t\t);\n\t}, [ revisions ] );\n\n\tconst selectedIndex = sortedRevisions.findIndex(\n\t\t( r ) => r.id === currentRevisionId\n\t);\n\n\tconst handleSliderChange = ( index ) => {\n\t\tconst revision = sortedRevisions[ index ];\n\t\tif ( revision ) {\n\t\t\tsetCurrentRevisionId( revision.id );\n\t\t}\n\t};\n\n\t// Format date for tooltip.\n\tconst dateSettings = getDateSettings();\n\tconst renderTooltipContent = ( index ) => {\n\t\tconst revision = sortedRevisions[ index ];\n\t\tif ( ! revision ) {\n\t\t\treturn index;\n\t\t}\n\t\treturn dateI18n( dateSettings.formats.datetime, revision.date );\n\t};\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\tif ( ! sortedRevisions.length ) {\n\t\treturn (\n\t\t\t<span className=\"editor-revisions-header__no-revisions\">\n\t\t\t\t{ __( 'No revisions found.' ) }\n\t\t\t</span>\n\t\t);\n\t}\n\n\tif ( sortedRevisions.length === 1 ) {\n\t\treturn (\n\t\t\t<span className=\"editor-revisions-header__no-revisions\">\n\t\t\t\t{ __( 'Only one revision found.' ) }\n\t\t\t</span>\n\t\t);\n\t}\n\n\treturn (\n\t\t<RangeControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tclassName=\"editor-revisions-header__slider\"\n\t\t\thideLabelFromVision\n\t\t\tlabel={ __( 'Revision' ) }\n\t\t\tmax={ sortedRevisions.length - 1 }\n\t\t\tmin={ 0 }\n\t\t\tmarks\n\t\t\tonChange={ handleSliderChange }\n\t\t\trenderTooltipContent={ renderTooltipContent }\n\t\t\tvalue={ selectedIndex }\n\t\t\twithInputField={ false }\n\t\t/>\n\t);\n}\n\nexport default RevisionsSlider;\n", "/**\n * WordPress dependencies\n */\nimport { Spinner } from '@wordpress/components';\nimport {\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { createBlock, parse } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport VisualEditor from '../visual-editor';\nimport { preserveClientIds } from './preserve-client-ids';\n\nconst { ExperimentalBlockEditorProvider } = unlock( blockEditorPrivateApis );\n\n/**\n * Canvas component that renders a post revision in read-only mode.\n *\n * @return {JSX.Element} The revisions canvas component.\n */\nexport default function RevisionsCanvas() {\n\tconst { revision, postType, blockEditorSettings } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentRevision, getCurrentPostType } = unlock(\n\t\t\t\tselect( editorStore )\n\t\t\t);\n\t\t\treturn {\n\t\t\t\trevision: getCurrentRevision(),\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t\tblockEditorSettings: select( blockEditorStore ).getSettings(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\t// Track previously rendered blocks to preserve clientIds between renders.\n\tconst previousBlocksRef = useRef( [] );\n\n\tconst blocks = useMemo( () => {\n\t\tlet parsedBlocks = parse( revision?.content?.raw ?? '' );\n\t\tif ( postType === 'wp_navigation' ) {\n\t\t\tparsedBlocks = [\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/navigation',\n\t\t\t\t\t{ templateLock: false },\n\t\t\t\t\tparsedBlocks\n\t\t\t\t),\n\t\t\t];\n\t\t}\n\n\t\t// Preserve clientIds from previous render to prevent React unmount/remount.\n\t\tconst blocksWithStableIds = preserveClientIds(\n\t\t\tparsedBlocks,\n\t\t\tpreviousBlocksRef.current\n\t\t);\n\n\t\t// Update ref for next render.\n\t\tpreviousBlocksRef.current = blocksWithStableIds;\n\n\t\treturn blocksWithStableIds;\n\t}, [ revision?.content?.raw, postType ] );\n\n\tconst settings = useMemo(\n\t\t() => ( {\n\t\t\t...blockEditorSettings,\n\t\t\tisPreviewMode: true,\n\t\t} ),\n\t\t[ blockEditorSettings ]\n\t);\n\n\treturn revision ? (\n\t\t<ExperimentalBlockEditorProvider value={ blocks } settings={ settings }>\n\t\t\t<VisualEditor />\n\t\t</ExperimentalBlockEditorProvider>\n\t) : (\n\t\t<div className=\"editor-revisions-canvas__loading\">\n\t\t\t<Spinner />\n\t\t</div>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBlockList,\n\tstore as blockEditorStore,\n\t__unstableUseTypewriter as useTypewriter,\n\t__unstableUseTypingObserver as useTypingObserver,\n\tuseSettings,\n\tRecursionProvider,\n\tprivateApis as blockEditorPrivateApis,\n\t__experimentalUseResizeCanvas as useResizeCanvas,\n} from '@wordpress/block-editor';\nimport { useEffect, useRef, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { parse } from '@wordpress/blocks';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMergeRefs, useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostTitle from '../post-title';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport EditTemplateBlocksNotification from './edit-template-blocks-notification';\nimport ResizableEditor from '../resizable-editor';\nimport useSelectNearestEditableBlock from './use-select-nearest-editable-block';\nimport {\n\tNAVIGATION_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n\tDESIGN_POST_TYPES,\n} from '../../store/constants';\nimport { useZoomOutModeExit } from './use-zoom-out-mode-exit';\nimport { usePaddingAppender } from './use-padding-appender';\nimport { useEditContentOnlySectionExit } from './use-edit-content-only-section-exit';\nimport { SyncConnectionModal } from '../sync-connection-modal';\n\nconst {\n\tLayoutStyle,\n\tuseLayoutClasses,\n\tuseLayoutStyles,\n\tExperimentalBlockCanvas: BlockCanvas,\n\tuseFlashEditableBlocks,\n} = unlock( blockEditorPrivateApis );\n\n/**\n * These post types have a special editor where they don't allow you to fill the title\n * and they don't apply the layout styles.\n */\n\n/**\n * Given an array of nested blocks, find the first Post Content\n * block inside it, recursing through any nesting levels,\n * and return its attributes.\n *\n * @param {Array} blocks A list of blocks.\n *\n * @return {Object | undefined} The Post Content block.\n */\nfunction getPostContentAttributes( blocks ) {\n\tfor ( let i = 0; i < blocks.length; i++ ) {\n\t\tif ( blocks[ i ].name === 'core/post-content' ) {\n\t\t\treturn blocks[ i ].attributes;\n\t\t}\n\t\tif ( blocks[ i ].innerBlocks.length ) {\n\t\t\tconst nestedPostContent = getPostContentAttributes(\n\t\t\t\tblocks[ i ].innerBlocks\n\t\t\t);\n\n\t\t\tif ( nestedPostContent ) {\n\t\t\t\treturn nestedPostContent;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction checkForPostContentAtRootLevel( blocks ) {\n\tfor ( let i = 0; i < blocks.length; i++ ) {\n\t\tif ( blocks[ i ].name === 'core/post-content' ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction VisualEditor( {\n\t// Ideally as we unify post and site editors, we won't need these props.\n\tautoFocus,\n\tdisableIframe = false,\n\tiframeProps,\n\tcontentRef,\n\tclassName,\n} ) {\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\n\tconst {\n\t\trenderingMode,\n\t\tpostContentAttributes,\n\t\teditedPostTemplate = {},\n\t\twrapperBlockName,\n\t\twrapperUniqueId,\n\t\tdeviceType,\n\t\tisFocusedEntity,\n\t\tisDesignPostType,\n\t\tpostType,\n\t\tisPreview,\n\t\tstyles,\n\t\tcanvasMinHeight,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetCurrentPostId,\n\t\t\tgetCurrentPostType,\n\t\t\tgetCurrentTemplateId,\n\t\t\tgetEditorSettings,\n\t\t\tgetRenderingMode,\n\t\t\tgetDeviceType,\n\t\t\tgetCanvasMinHeight,\n\t\t} = unlock( select( editorStore ) );\n\t\tconst { getPostType, getEditedEntityRecord } = select( coreStore );\n\t\tconst postTypeSlug = getCurrentPostType();\n\t\tconst _renderingMode = getRenderingMode();\n\t\tlet _wrapperBlockName;\n\n\t\tif ( postTypeSlug === PATTERN_POST_TYPE ) {\n\t\t\t_wrapperBlockName = 'core/block';\n\t\t} else if ( _renderingMode === 'post-only' ) {\n\t\t\t_wrapperBlockName = 'core/post-content';\n\t\t}\n\n\t\tconst editorSettings = getEditorSettings();\n\t\tconst supportsTemplateMode = editorSettings.supportsTemplateMode;\n\t\tconst postTypeObject = getPostType( postTypeSlug );\n\t\tconst currentTemplateId = getCurrentTemplateId();\n\t\tconst template = currentTemplateId\n\t\t\t? getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t\tcurrentTemplateId\n\t\t\t  )\n\t\t\t: undefined;\n\n\t\treturn {\n\t\t\trenderingMode: _renderingMode,\n\t\t\tpostContentAttributes: editorSettings.postContentAttributes,\n\t\t\tisDesignPostType: DESIGN_POST_TYPES.includes( postTypeSlug ),\n\t\t\t// Post template fetch returns a 404 on classic themes, which\n\t\t\t// messes with e2e tests, so check it's a block theme first.\n\t\t\teditedPostTemplate:\n\t\t\t\tpostTypeObject?.viewable && supportsTemplateMode\n\t\t\t\t\t? template\n\t\t\t\t\t: undefined,\n\t\t\twrapperBlockName: _wrapperBlockName,\n\t\t\twrapperUniqueId: getCurrentPostId(),\n\t\t\tdeviceType: getDeviceType(),\n\t\t\tisFocusedEntity: !! editorSettings.onNavigateToPreviousEntityRecord,\n\t\t\tpostType: postTypeSlug,\n\t\t\tisPreview: editorSettings.isPreviewMode,\n\t\t\tstyles: editorSettings.styles,\n\t\t\tcanvasMinHeight: getCanvasMinHeight(),\n\t\t};\n\t}, [] );\n\tconst { isCleanNewPost } = useSelect( editorStore );\n\tconst {\n\t\thasRootPaddingAwareAlignments,\n\t\tthemeHasDisabledLayoutStyles,\n\t\tthemeSupportsLayout,\n\t\tisZoomedOut,\n\t} = useSelect( ( select ) => {\n\t\tconst { getSettings, isZoomOut: _isZoomOut } = unlock(\n\t\t\tselect( blockEditorStore )\n\t\t);\n\n\t\tconst _settings = getSettings();\n\t\treturn {\n\t\t\tthemeHasDisabledLayoutStyles: _settings.disableLayoutStyles,\n\t\t\tthemeSupportsLayout: _settings.supportsLayout,\n\t\t\thasRootPaddingAwareAlignments:\n\t\t\t\t_settings.__experimentalFeatures?.useRootPaddingAwareAlignments,\n\t\t\tisZoomedOut: _isZoomOut(),\n\t\t};\n\t}, [] );\n\n\tconst localRef = useRef();\n\tconst deviceStyles = useResizeCanvas( deviceType );\n\tconst [ globalLayoutSettings ] = useSettings( 'layout' );\n\n\t// fallbackLayout is used if there is no Post Content,\n\t// and for Post Title.\n\tconst fallbackLayout = useMemo( () => {\n\t\tif ( renderingMode !== 'post-only' || isDesignPostType ) {\n\t\t\treturn { type: 'default' };\n\t\t}\n\n\t\tif ( themeSupportsLayout ) {\n\t\t\t// We need to ensure support for wide and full alignments,\n\t\t\t// so we add the constrained type.\n\t\t\treturn { ...globalLayoutSettings, type: 'constrained' };\n\t\t}\n\t\t// Set default layout for classic themes so all alignments are supported.\n\t\treturn { type: 'default' };\n\t}, [\n\t\trenderingMode,\n\t\tthemeSupportsLayout,\n\t\tglobalLayoutSettings,\n\t\tisDesignPostType,\n\t] );\n\n\tconst newestPostContentAttributes = useMemo( () => {\n\t\tif (\n\t\t\t! editedPostTemplate?.content &&\n\t\t\t! editedPostTemplate?.blocks &&\n\t\t\tpostContentAttributes\n\t\t) {\n\t\t\treturn postContentAttributes;\n\t\t}\n\t\t// When in template editing mode, we can access the blocks directly.\n\t\tif ( editedPostTemplate?.blocks ) {\n\t\t\treturn getPostContentAttributes( editedPostTemplate?.blocks );\n\t\t}\n\t\t// If there are no blocks, we have to parse the content string.\n\t\t// Best double-check it's a string otherwise the parse function gets unhappy.\n\t\tconst parseableContent =\n\t\t\ttypeof editedPostTemplate?.content === 'string'\n\t\t\t\t? editedPostTemplate?.content\n\t\t\t\t: '';\n\n\t\treturn getPostContentAttributes( parse( parseableContent ) ) || {};\n\t}, [\n\t\teditedPostTemplate?.content,\n\t\teditedPostTemplate?.blocks,\n\t\tpostContentAttributes,\n\t] );\n\n\tconst hasPostContentAtRootLevel = useMemo( () => {\n\t\tif ( ! editedPostTemplate?.content && ! editedPostTemplate?.blocks ) {\n\t\t\treturn false;\n\t\t}\n\t\t// When in template editing mode, we can access the blocks directly.\n\t\tif ( editedPostTemplate?.blocks ) {\n\t\t\treturn checkForPostContentAtRootLevel( editedPostTemplate?.blocks );\n\t\t}\n\t\t// If there are no blocks, we have to parse the content string.\n\t\t// Best double-check it's a string otherwise the parse function gets unhappy.\n\t\tconst parseableContent =\n\t\t\ttypeof editedPostTemplate?.content === 'string'\n\t\t\t\t? editedPostTemplate?.content\n\t\t\t\t: '';\n\n\t\treturn (\n\t\t\tcheckForPostContentAtRootLevel( parse( parseableContent ) ) || false\n\t\t);\n\t}, [ editedPostTemplate?.content, editedPostTemplate?.blocks ] );\n\n\tconst { layout = {}, align = '' } = newestPostContentAttributes || {};\n\n\tconst postContentLayoutClasses = useLayoutClasses(\n\t\tnewestPostContentAttributes,\n\t\t'core/post-content'\n\t);\n\n\tconst blockListLayoutClass = clsx(\n\t\t{\n\t\t\t'is-layout-flow': ! themeSupportsLayout,\n\t\t},\n\t\tthemeSupportsLayout && postContentLayoutClasses,\n\t\talign && `align${ align }`\n\t);\n\n\tconst postContentLayoutStyles = useLayoutStyles(\n\t\tnewestPostContentAttributes,\n\t\t'core/post-content',\n\t\t'.block-editor-block-list__layout.is-root-container'\n\t);\n\n\t// Update type for blocks using legacy layouts.\n\tconst postContentLayout = useMemo( () => {\n\t\treturn layout &&\n\t\t\t( layout?.type === 'constrained' ||\n\t\t\t\tlayout?.inherit ||\n\t\t\t\tlayout?.contentSize ||\n\t\t\t\tlayout?.wideSize )\n\t\t\t? { ...globalLayoutSettings, ...layout, type: 'constrained' }\n\t\t\t: { ...globalLayoutSettings, ...layout, type: 'default' };\n\t}, [\n\t\tlayout?.type,\n\t\tlayout?.inherit,\n\t\tlayout?.contentSize,\n\t\tlayout?.wideSize,\n\t\tglobalLayoutSettings,\n\t] );\n\n\t// If there is a Post Content block we use its layout for the block list;\n\t// if not, this must be a classic theme, in which case we use the fallback layout.\n\tconst blockListLayout = postContentAttributes\n\t\t? postContentLayout\n\t\t: fallbackLayout;\n\n\tconst postEditorLayout =\n\t\tblockListLayout?.type === 'default' && ! hasPostContentAtRootLevel\n\t\t\t? fallbackLayout\n\t\t\t: blockListLayout;\n\tconst observeTypingRef = useTypingObserver();\n\tconst titleRef = useRef();\n\tuseEffect( () => {\n\t\tif ( ! autoFocus || ! isCleanNewPost() ) {\n\t\t\treturn;\n\t\t}\n\t\ttitleRef?.current?.focus();\n\t}, [ autoFocus, isCleanNewPost ] );\n\n\t// Add some styles for alignwide/alignfull Post Content and its children.\n\tconst alignCSS = `.is-root-container.alignwide { max-width: var(--wp--style--global--wide-size); margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignwide:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: var(--wp--style--global--wide-size);}\n\t\t.is-root-container.alignfull { max-width: none; margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignfull:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: none;}`;\n\n\tconst enableResizing =\n\t\t[\n\t\t\tNAVIGATION_POST_TYPE,\n\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\tPATTERN_POST_TYPE,\n\t\t].includes( postType ) &&\n\t\t// Disable in previews / view mode.\n\t\t! isPreview &&\n\t\t// Disable resizing in mobile viewport.\n\t\t! isMobileViewport &&\n\t\t// Disable resizing in zoomed-out mode.\n\t\t! isZoomedOut;\n\n\t// Calculate the minimum height including scroll offset to fit all notes.\n\tconst calculatedMinHeight = useMemo( () => {\n\t\tif ( ! localRef.current ) {\n\t\t\treturn canvasMinHeight;\n\t\t}\n\n\t\tconst { ownerDocument } = localRef.current;\n\t\tconst scrollTop =\n\t\t\townerDocument.documentElement.scrollTop ||\n\t\t\townerDocument.body.scrollTop;\n\n\t\treturn canvasMinHeight + scrollTop;\n\t}, [ canvasMinHeight ] );\n\n\tconst [ paddingAppenderRef, paddingStyle ] = usePaddingAppender(\n\t\t! isPreview && renderingMode === 'post-only' && ! isDesignPostType\n\t);\n\n\tconst iframeStyles = useMemo( () => {\n\t\treturn [\n\t\t\t...( styles ?? [] ),\n\t\t\t{\n\t\t\t\t// Ensures margins of children are contained so that the body background paints behind them.\n\t\t\t\t// Otherwise, the background of html (when zoomed out) would show there and appear broken. It's\n\t\t\t\t// important mostly for post-only views yet conceivably an issue in templated views too.\n\t\t\t\tcss: `:where(.block-editor-iframe__body){display:flow-root;${\n\t\t\t\t\tcalculatedMinHeight\n\t\t\t\t\t\t? `min-height:${ calculatedMinHeight }px;`\n\t\t\t\t\t\t: ''\n\t\t\t\t}}.is-root-container{display:flow-root;${\n\t\t\t\t\t// Some themes will have `min-height: 100vh` for the root container,\n\t\t\t\t\t// which isn't a requirement in auto resize mode.\n\t\t\t\t\tenableResizing ? 'min-height:0!important;' : ''\n\t\t\t\t}}\n\t\t\t\t${ paddingStyle ? paddingStyle : '' }\n\t\t\t\t${\n\t\t\t\t\tenableResizing\n\t\t\t\t\t\t? `.block-editor-iframe__html{background:var(--wp-editor-canvas-background);display:flex;align-items:center;justify-content:center;min-height:100vh;}.block-editor-iframe__body{width:100%;}`\n\t\t\t\t\t\t: ''\n\t\t\t\t}`,\n\t\t\t\t// The CSS above centers the body content vertically when resizing is enabled and applies a background\n\t\t\t\t// color to the iframe HTML element to match the background color of the editor canvas.\n\t\t\t},\n\t\t];\n\t}, [ styles, enableResizing, calculatedMinHeight, paddingStyle ] );\n\n\tconst typewriterRef = useTypewriter();\n\tcontentRef = useMergeRefs( [\n\t\tlocalRef,\n\t\tcontentRef,\n\t\trenderingMode === 'post-only' ? typewriterRef : null,\n\t\tuseFlashEditableBlocks( {\n\t\t\tisEnabled: renderingMode === 'template-locked',\n\t\t} ),\n\t\tuseSelectNearestEditableBlock( {\n\t\t\tisEnabled: renderingMode === 'template-locked',\n\t\t} ),\n\t\tuseZoomOutModeExit(),\n\t\tpaddingAppenderRef,\n\t\tuseEditContentOnlySectionExit(),\n\t] );\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ clsx(\n\t\t\t\t'editor-visual-editor',\n\t\t\t\t// this class is here for backward compatibility reasons.\n\t\t\t\t'edit-post-visual-editor',\n\t\t\t\tclassName,\n\t\t\t\t{\n\t\t\t\t\t'has-padding': isFocusedEntity || enableResizing,\n\t\t\t\t\t'is-resizable': enableResizing,\n\t\t\t\t\t'is-iframed': ! disableIframe,\n\t\t\t\t}\n\t\t\t) }\n\t\t>\n\t\t\t<SyncConnectionModal />\n\t\t\t<ResizableEditor enableResizing={ enableResizing } height=\"100%\">\n\t\t\t\t<BlockCanvas\n\t\t\t\t\tshouldIframe={ ! disableIframe }\n\t\t\t\t\tcontentRef={ contentRef }\n\t\t\t\t\tstyles={ iframeStyles }\n\t\t\t\t\theight=\"100%\"\n\t\t\t\t\tiframeProps={ {\n\t\t\t\t\t\t...iframeProps,\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t...iframeProps?.style,\n\t\t\t\t\t\t\t...deviceStyles,\n\t\t\t\t\t\t},\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ themeSupportsLayout &&\n\t\t\t\t\t\t! themeHasDisabledLayoutStyles &&\n\t\t\t\t\t\trenderingMode === 'post-only' &&\n\t\t\t\t\t\t! isDesignPostType && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<LayoutStyle\n\t\t\t\t\t\t\t\t\tselector=\".editor-visual-editor__post-title-wrapper\"\n\t\t\t\t\t\t\t\t\tlayout={ fallbackLayout }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<LayoutStyle\n\t\t\t\t\t\t\t\t\tselector=\".block-editor-block-list__layout.is-root-container\"\n\t\t\t\t\t\t\t\t\tlayout={ postEditorLayout }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ align && <LayoutStyle css={ alignCSS } /> }\n\t\t\t\t\t\t\t\t{ postContentLayoutStyles && (\n\t\t\t\t\t\t\t\t\t<LayoutStyle\n\t\t\t\t\t\t\t\t\t\tlayout={ postContentLayout }\n\t\t\t\t\t\t\t\t\t\tcss={ postContentLayoutStyles }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t{ renderingMode === 'post-only' && ! isDesignPostType && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t'editor-visual-editor__post-title-wrapper',\n\t\t\t\t\t\t\t\t// The following class is only here for backward compatibility\n\t\t\t\t\t\t\t\t// some themes might be using it to style the post title.\n\t\t\t\t\t\t\t\t'edit-post-visual-editor__post-title-wrapper',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'has-global-padding':\n\t\t\t\t\t\t\t\t\t\thasRootPaddingAwareAlignments,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tcontentEditable={ false }\n\t\t\t\t\t\t\tref={ observeTypingRef }\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t// This is using inline styles\n\t\t\t\t\t\t\t\t// so it's applied for both iframed and non iframed editors.\n\t\t\t\t\t\t\t\tmarginTop: '4rem',\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PostTitle ref={ titleRef } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<RecursionProvider\n\t\t\t\t\t\tblockName={ wrapperBlockName }\n\t\t\t\t\t\tuniqueId={ wrapperUniqueId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockList\n\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t'is-' + deviceType.toLowerCase() + '-preview',\n\t\t\t\t\t\t\t\trenderingMode !== 'post-only' ||\n\t\t\t\t\t\t\t\t\tisDesignPostType\n\t\t\t\t\t\t\t\t\t? 'wp-site-blocks'\n\t\t\t\t\t\t\t\t\t: `${ blockListLayoutClass } wp-block-post-content`, // Ensure root level blocks receive default/flow blockGap styling rules.\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'has-global-padding':\n\t\t\t\t\t\t\t\t\t\trenderingMode === 'post-only' &&\n\t\t\t\t\t\t\t\t\t\t! isDesignPostType &&\n\t\t\t\t\t\t\t\t\t\thasRootPaddingAwareAlignments,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tlayout={ blockListLayout }\n\t\t\t\t\t\t\tdropZoneElement={\n\t\t\t\t\t\t\t\t// When iframed, pass in the html element of the iframe to\n\t\t\t\t\t\t\t\t// ensure the drop zone extends to the edges of the iframe.\n\t\t\t\t\t\t\t\tdisableIframe\n\t\t\t\t\t\t\t\t\t? localRef.current\n\t\t\t\t\t\t\t\t\t: localRef.current?.parentNode\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t__unstableDisableDropZone={\n\t\t\t\t\t\t\t\t// In template preview mode, disable drop zones at the root of the template.\n\t\t\t\t\t\t\t\trenderingMode === 'template-locked'\n\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ renderingMode === 'template-locked' && (\n\t\t\t\t\t\t\t<EditTemplateBlocksNotification\n\t\t\t\t\t\t\t\tcontentRef={ localRef }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</RecursionProvider>\n\t\t\t\t</BlockCanvas>\n\t\t\t</ResizableEditor>\n\t\t</div>\n\t);\n}\n\nexport default VisualEditor;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useEffect, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Component that:\n *\n * - Displays a 'Edit your template to edit this block' notification when the\n *   user is focusing on editing page content and clicks on a disabled template\n *   block.\n * - Displays a 'Edit your template to edit this block' dialog when the user\n *   is focusing on editing page content and double clicks on a disabled\n *   template block.\n *\n * @param {Object}                                 props\n * @param {import('react').RefObject<HTMLElement>} props.contentRef Ref to the block\n *                                                                  editor iframe canvas.\n */\nexport default function EditTemplateBlocksNotification( { contentRef } ) {\n\tconst { onNavigateToEntityRecord, templateId } = useSelect( ( select ) => {\n\t\tconst { getEditorSettings, getCurrentTemplateId } =\n\t\t\tselect( editorStore );\n\n\t\treturn {\n\t\t\tonNavigateToEntityRecord:\n\t\t\t\tgetEditorSettings().onNavigateToEntityRecord,\n\t\t\ttemplateId: getCurrentTemplateId(),\n\t\t};\n\t}, [] );\n\n\tconst canEditTemplate = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ),\n\t\t[]\n\t);\n\n\tconst [ isDialogOpen, setIsDialogOpen ] = useState( false );\n\n\tuseEffect( () => {\n\t\tconst handleDblClick = ( event ) => {\n\t\t\tif ( ! canEditTemplate ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t! event.target.classList.contains( 'is-root-container' ) ||\n\t\t\t\tevent.target.dataset?.type === 'core/template-part'\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! event.defaultPrevented ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetIsDialogOpen( true );\n\t\t\t}\n\t\t};\n\n\t\tconst canvas = contentRef.current;\n\t\tcanvas?.addEventListener( 'dblclick', handleDblClick );\n\t\treturn () => {\n\t\t\tcanvas?.removeEventListener( 'dblclick', handleDblClick );\n\t\t};\n\t}, [ contentRef, canEditTemplate ] );\n\n\tif ( ! canEditTemplate ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isDialogOpen }\n\t\t\tconfirmButtonText={ __( 'Edit template' ) }\n\t\t\tonConfirm={ () => {\n\t\t\t\tsetIsDialogOpen( false );\n\t\t\t\tonNavigateToEntityRecord( {\n\t\t\t\t\tpostId: templateId,\n\t\t\t\t\tpostType: 'wp_template',\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tonCancel={ () => setIsDialogOpen( false ) }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ __(\n\t\t\t\t'You\u2019ve tried to select a block that is part of a template that may be used elsewhere on your site. Would you like to edit the template?'\n\t\t\t) }\n\t\t</ConfirmDialog>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useRefEffect } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst DISTANCE_THRESHOLD = 500;\n\nfunction clamp( value, min, max ) {\n\treturn Math.min( Math.max( value, min ), max );\n}\n\nfunction distanceFromRect( x, y, rect ) {\n\tconst dx = x - clamp( x, rect.left, rect.right );\n\tconst dy = y - clamp( y, rect.top, rect.bottom );\n\treturn Math.sqrt( dx * dx + dy * dy );\n}\n\nexport default function useSelectNearestEditableBlock( {\n\tisEnabled = true,\n} = {} ) {\n\tconst { getEnabledClientIdsTree, getBlockName, getBlockOrder } = unlock(\n\t\tuseSelect( blockEditorStore )\n\t);\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\n\treturn useRefEffect(\n\t\t( element ) => {\n\t\t\tif ( ! isEnabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selectNearestEditableBlock = ( x, y ) => {\n\t\t\t\tconst editableBlockClientIds =\n\t\t\t\t\tgetEnabledClientIdsTree().flatMap( ( { clientId } ) => {\n\t\t\t\t\t\tconst blockName = getBlockName( clientId );\n\t\t\t\t\t\tif ( blockName === 'core/template-part' ) {\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( blockName === 'core/post-content' ) {\n\t\t\t\t\t\t\tconst innerBlocks = getBlockOrder( clientId );\n\t\t\t\t\t\t\tif ( innerBlocks.length ) {\n\t\t\t\t\t\t\t\treturn innerBlocks;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn [ clientId ];\n\t\t\t\t\t} );\n\n\t\t\t\tlet nearestDistance = Infinity,\n\t\t\t\t\tnearestClientId = null;\n\n\t\t\t\tfor ( const clientId of editableBlockClientIds ) {\n\t\t\t\t\tconst block = element.querySelector(\n\t\t\t\t\t\t`[data-block=\"${ clientId }\"]`\n\t\t\t\t\t);\n\t\t\t\t\tif ( ! block ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst rect = block.getBoundingClientRect();\n\t\t\t\t\tconst distance = distanceFromRect( x, y, rect );\n\t\t\t\t\tif (\n\t\t\t\t\t\tdistance < nearestDistance &&\n\t\t\t\t\t\tdistance < DISTANCE_THRESHOLD\n\t\t\t\t\t) {\n\t\t\t\t\t\tnearestDistance = distance;\n\t\t\t\t\t\tnearestClientId = clientId;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( nearestClientId ) {\n\t\t\t\t\tselectBlock( nearestClientId );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst handleClick = ( event ) => {\n\t\t\t\tconst shouldSelect =\n\t\t\t\t\tevent.target === element ||\n\t\t\t\t\tevent.target.classList.contains( 'is-root-container' );\n\t\t\t\tif ( shouldSelect ) {\n\t\t\t\t\tselectNearestEditableBlock( event.clientX, event.clientY );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\telement.addEventListener( 'click', handleClick );\n\t\t\treturn () => element.removeEventListener( 'click', handleClick );\n\t\t},\n\t\t[ isEnabled ]\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useRefEffect } from '@wordpress/compose';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Allows Zoom Out mode to be exited by double clicking in the selected block.\n */\nexport function useZoomOutModeExit() {\n\tconst { getSettings, isZoomOut } = unlock( useSelect( blockEditorStore ) );\n\tconst { resetZoomLevel } = unlock( useDispatch( blockEditorStore ) );\n\n\treturn useRefEffect(\n\t\t( node ) => {\n\t\t\tfunction onDoubleClick( event ) {\n\t\t\t\tif ( ! isZoomOut() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( ! event.defaultPrevented ) {\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tconst { __experimentalSetIsInserterOpened } = getSettings();\n\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof __experimentalSetIsInserterOpened === 'function'\n\t\t\t\t\t) {\n\t\t\t\t\t\t__experimentalSetIsInserterOpened( false );\n\t\t\t\t\t}\n\t\t\t\t\tresetZoomLevel();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnode.addEventListener( 'dblclick', onDoubleClick );\n\n\t\t\treturn () => {\n\t\t\t\tnode.removeEventListener( 'dblclick', onDoubleClick );\n\t\t\t};\n\t\t},\n\t\t[ getSettings, isZoomOut, resetZoomLevel ]\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useRegistry } from '@wordpress/data';\nimport { useRefEffect } from '@wordpress/compose';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { isUnmodifiedDefaultBlock } from '@wordpress/blocks';\n\n// Ruleset to add space for the typewriter effect. When typing in the last\n// block, there needs to be room to scroll up.\nconst CSS =\n\t':root :where(.editor-styles-wrapper)::after {content: \"\"; display: block; height: 40vh;}';\n\nexport function usePaddingAppender( enabled ) {\n\tconst registry = useRegistry();\n\tconst effect = useRefEffect(\n\t\t( node ) => {\n\t\t\tfunction onMouseDown( event ) {\n\t\t\t\tif (\n\t\t\t\t\tevent.target !== node &&\n\t\t\t\t\t// Tests for the parent element because in the iframed editor if the click is\n\t\t\t\t\t// below the padding the target will be the parent element (html) and should\n\t\t\t\t\t// still be treated as intent to append.\n\t\t\t\t\tevent.target !== node.parentElement\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Only handle clicks under the last child.\n\t\t\t\tconst lastChild = node.lastElementChild;\n\t\t\t\tif ( ! lastChild ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst lastChildRect = lastChild.getBoundingClientRect();\n\t\t\t\tif ( event.clientY < lastChildRect.bottom ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tconst blockOrder = registry\n\t\t\t\t\t.select( blockEditorStore )\n\t\t\t\t\t.getBlockOrder( '' );\n\t\t\t\tconst lastBlockClientId = blockOrder[ blockOrder.length - 1 ];\n\n\t\t\t\tconst lastBlock = registry\n\t\t\t\t\t.select( blockEditorStore )\n\t\t\t\t\t.getBlock( lastBlockClientId );\n\t\t\t\tconst { selectBlock, insertDefaultBlock } =\n\t\t\t\t\tregistry.dispatch( blockEditorStore );\n\n\t\t\t\tif ( lastBlock && isUnmodifiedDefaultBlock( lastBlock ) ) {\n\t\t\t\t\tselectBlock( lastBlockClientId );\n\t\t\t\t} else {\n\t\t\t\t\tinsertDefaultBlock();\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst { ownerDocument } = node;\n\t\t\t// Adds the listener on the document so that in the iframed editor clicks below the\n\t\t\t// padding can be handled as they too should be treated as intent to append.\n\t\t\townerDocument.addEventListener( 'pointerdown', onMouseDown );\n\t\t\treturn () => {\n\t\t\t\townerDocument.removeEventListener( 'pointerdown', onMouseDown );\n\t\t\t};\n\t\t},\n\t\t[ registry ]\n\t);\n\treturn enabled ? [ effect, CSS ] : [];\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useRefEffect } from '@wordpress/compose';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Allows content only section editing to be exited by clicking outside of the\n * edited blocks.\n */\nexport function useEditContentOnlySectionExit() {\n\tconst { getEditedContentOnlySection } = unlock(\n\t\tuseSelect( blockEditorStore )\n\t);\n\tconst { stopEditingContentOnlySection } = unlock(\n\t\tuseDispatch( blockEditorStore )\n\t);\n\n\treturn useRefEffect(\n\t\t( node ) => {\n\t\t\tfunction onClick( event ) {\n\t\t\t\tconst editedContentOnlySection = getEditedContentOnlySection();\n\t\t\t\tif ( ! editedContentOnlySection ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Check if the click is outside the edited block first.\n\t\t\t\tconst isClickOutside = ! event.target.closest(\n\t\t\t\t\t`[data-block=\"${ editedContentOnlySection }\"]`\n\t\t\t\t);\n\n\t\t\t\t// Only prevent default and stop editing if clicking outside.\n\t\t\t\t// This allows default behavior (e.g., file dialogs) to work when clicking inside.\n\t\t\t\tif ( isClickOutside && ! event.defaultPrevented ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tstopEditingContentOnlySection();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnode.addEventListener( 'click', onClick );\n\n\t\t\treturn () => {\n\t\t\t\tnode.removeEventListener( 'click', onClick );\n\t\t\t};\n\t\t},\n\t\t[ getEditedContentOnlySection, stopEditingContentOnlySection ]\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { serialize } from '@wordpress/blocks';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport {\n\tstore as blockEditorStore,\n\tBlockCanvasCover,\n} from '@wordpress/block-editor';\nimport {\n\tButton,\n\tModal,\n\tIcon,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { error as errorIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getSyncErrorMessages } from '../../utils';\n\n/**\n * Sync connection modal that displays when any entity reports a disconnection.\n * Uses BlockCanvasCover.Fill to render in the block canvas.\n *\n * @return {Element|null} The modal component or null if not disconnected.\n */\nexport function SyncConnectionModal() {\n\tconst { connectionState, content } = useSelect( ( select ) => {\n\t\tconst blocks = select( blockEditorStore ).getBlocks();\n\t\tconst serializedContent = serialize( blocks );\n\n\t\t// Get the first disconnected sync connection state from core-data.\n\t\tconst disconnectedState =\n\t\t\tselect( coreDataStore ).getDisconnectedSyncConnectionState();\n\n\t\treturn {\n\t\t\tconnectionState: disconnectedState || null,\n\t\t\tcontent: serializedContent,\n\t\t};\n\t}, [] );\n\n\tconst copyButtonRef = useCopyToClipboard( content ?? '' );\n\n\tif ( connectionState?.status !== 'disconnected' ) {\n\t\treturn null;\n\t}\n\n\tconst { title, description } = getSyncErrorMessages(\n\t\tconnectionState.error\n\t);\n\n\treturn (\n\t\t<BlockCanvasCover.Fill>\n\t\t\t<Modal\n\t\t\t\t__experimentalHideHeader\n\t\t\t\ticon={ errorIcon }\n\t\t\t\tisDismissible={ false }\n\t\t\t\tisFullScreen={ false }\n\t\t\t\tonRequestClose={ () => {} }\n\t\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\t\tshouldCloseOnEsc={ false }\n\t\t\t>\n\t\t\t\t<div className=\"editor-sync-connection-modal__container\">\n\t\t\t\t\t<VStack alignment=\"center\" justify=\"center\" spacing={ 2 }>\n\t\t\t\t\t\t<Icon fill=\"#ccc\" icon={ errorIcon } size={ 64 } />\n\t\t\t\t\t\t<h1>{ title }</h1>\n\t\t\t\t\t\t<p className=\"editor-sync-connection-modal__description\">\n\t\t\t\t\t\t\t{ description }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<HStack spacing={ 2 } justify=\"center\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tref={ copyButtonRef }\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Copy post content' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\thref=\"edit.php\"\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Edit another post' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</VStack>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t</BlockCanvasCover.Fill>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport { diffArrays } from 'diff/lib/diff/array';\n\n/**\n * Preserves clientIds from previously rendered blocks to prevent flashing.\n * Uses LCS algorithm to match blocks by name.\n *\n * This compares the newly parsed blocks against the last rendered blocks\n * to maintain React key stability.\n *\n * @param {Array} newBlocks  Newly parsed blocks with fresh clientIds.\n * @param {Array} prevBlocks Previously rendered blocks with stable clientIds.\n * @return {Array} Blocks with preserved clientIds where possible.\n */\nexport function preserveClientIds( newBlocks, prevBlocks ) {\n\tif ( ! prevBlocks?.length || ! newBlocks?.length ) {\n\t\treturn newBlocks;\n\t}\n\n\t// Create signatures for LCS matching using block name.\n\tconst newSigs = newBlocks.map( ( block ) => block.name );\n\tconst prevSigs = prevBlocks.map( ( block ) => block.name );\n\n\tconst diffResult = diffArrays( prevSigs, newSigs );\n\n\tlet newIndex = 0;\n\tlet prevIndex = 0;\n\tconst result = [];\n\n\tfor ( const chunk of diffResult ) {\n\t\tif ( chunk.removed ) {\n\t\t\t// Blocks only in prev render - skip them.\n\t\t\tprevIndex += chunk.count;\n\t\t} else if ( chunk.added ) {\n\t\t\t// Blocks only in new render - keep new clientIds.\n\t\t\tfor ( let i = 0; i < chunk.count; i++ ) {\n\t\t\t\tresult.push( newBlocks[ newIndex++ ] );\n\t\t\t}\n\t\t} else {\n\t\t\t// Matched blocks - preserve clientIds from prev render.\n\t\t\tfor ( let i = 0; i < chunk.count; i++ ) {\n\t\t\t\tconst newBlock = newBlocks[ newIndex++ ];\n\t\t\t\tconst prevBlock = prevBlocks[ prevIndex++ ];\n\t\t\t\tresult.push( {\n\t\t\t\t\t...newBlock,\n\t\t\t\t\tclientId: prevBlock.clientId,\n\t\t\t\t\tinnerBlocks: preserveClientIds(\n\t\t\t\t\t\tnewBlock.innerBlocks,\n\t\t\t\t\t\tprevBlock.innerBlocks\n\t\t\t\t\t),\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button, createSlotFill } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport EntitiesSavedStates from '../entities-saved-states';\nimport PostPublishPanel from '../post-publish-panel';\nimport PluginPrePublishPanel from '../plugin-pre-publish-panel';\nimport PluginPostPublishPanel from '../plugin-post-publish-panel';\nimport { store as editorStore } from '../../store';\n\nconst { Fill, Slot } = createSlotFill( 'ActionsPanel' );\n\nexport const ActionsPanelFill = Fill;\n\nexport default function SavePublishPanels( {\n\tsetEntitiesSavedStatesCallback,\n\tcloseEntitiesSavedStates,\n\tisEntitiesSavedStatesOpen,\n\tforceIsDirtyPublishPanel,\n} ) {\n\tconst { closePublishSidebar, togglePublishSidebar } =\n\t\tuseDispatch( editorStore );\n\tconst {\n\t\tpublishSidebarOpened,\n\t\tisPublishable,\n\t\tisDirty,\n\t\thasOtherEntitiesChanges,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisPublishSidebarOpened,\n\t\t\tisEditedPostPublishable,\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostDirty,\n\t\t\thasNonPostEntityChanges,\n\t\t} = select( editorStore );\n\t\tconst _hasOtherEntitiesChanges = hasNonPostEntityChanges();\n\t\treturn {\n\t\t\tpublishSidebarOpened: isPublishSidebarOpened(),\n\t\t\tisPublishable:\n\t\t\t\t! isCurrentPostPublished() && isEditedPostPublishable(),\n\t\t\tisDirty: _hasOtherEntitiesChanges || isEditedPostDirty(),\n\t\t\thasOtherEntitiesChanges: _hasOtherEntitiesChanges,\n\t\t};\n\t}, [] );\n\n\tconst openEntitiesSavedStates = useCallback(\n\t\t() => setEntitiesSavedStatesCallback( true ),\n\t\t[]\n\t);\n\n\t// It is ok for these components to be unmounted when not in visual use.\n\t// We don't want more than one present at a time, decide which to render.\n\tlet unmountableContent;\n\tif ( publishSidebarOpened ) {\n\t\tunmountableContent = (\n\t\t\t<PostPublishPanel\n\t\t\t\tonClose={ closePublishSidebar }\n\t\t\t\tforceIsDirty={ forceIsDirtyPublishPanel }\n\t\t\t\tPrePublishExtension={ PluginPrePublishPanel.Slot }\n\t\t\t\tPostPublishExtension={ PluginPostPublishPanel.Slot }\n\t\t\t/>\n\t\t);\n\t} else if ( isPublishable && ! hasOtherEntitiesChanges ) {\n\t\tunmountableContent = (\n\t\t\t<div className=\"editor-layout__toggle-publish-panel\">\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tonClick={ togglePublishSidebar }\n\t\t\t\t\taria-expanded={ false }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Open publish panel' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tunmountableContent = (\n\t\t\t<div className=\"editor-layout__toggle-entities-saved-states-panel\">\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tonClick={ openEntitiesSavedStates }\n\t\t\t\t\taria-expanded={ false }\n\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t\tdisabled={ ! isDirty }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Open save panel' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Since EntitiesSavedStates controls its own panel, we can keep it\n\t// always mounted to retain its own component state (such as checkboxes).\n\treturn (\n\t\t<>\n\t\t\t{ isEntitiesSavedStatesOpen && (\n\t\t\t\t<EntitiesSavedStates\n\t\t\t\t\tclose={ closeEntitiesSavedStates }\n\t\t\t\t\trenderDialog\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<Slot bubblesVirtually />\n\t\t\t{ ! isEntitiesSavedStatesOpen && unmountableContent }\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTextEditor from '../post-text-editor';\nimport PostTitleRaw from '../post-title/post-title-raw';\n\nexport default function TextEditor( { autoFocus = false } ) {\n\tconst { switchEditorMode } = useDispatch( editorStore );\n\tconst { shortcut, isRichEditingEnabled } = useSelect( ( select ) => {\n\t\tconst { getEditorSettings } = select( editorStore );\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\n\t\treturn {\n\t\t\tshortcut: getShortcutRepresentation( 'core/editor/toggle-mode' ),\n\t\t\tisRichEditingEnabled: getEditorSettings().richEditingEnabled,\n\t\t};\n\t}, [] );\n\n\tconst titleRef = useRef();\n\tuseEffect( () => {\n\t\tif ( autoFocus ) {\n\t\t\treturn;\n\t\t}\n\t\ttitleRef?.current?.focus();\n\t}, [ autoFocus ] );\n\n\treturn (\n\t\t<div className=\"editor-text-editor\">\n\t\t\t{ isRichEditingEnabled && (\n\t\t\t\t<div className=\"editor-text-editor__toolbar\">\n\t\t\t\t\t<h2>{ __( 'Editing code' ) }</h2>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => switchEditorMode( 'visual' ) }\n\t\t\t\t\t\tshortcut={ shortcut }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Exit code editor' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<div className=\"editor-text-editor__body\">\n\t\t\t\t<PostTitleRaw ref={ titleRef } />\n\t\t\t\t<PostTextEditor />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext, useContext } from '@wordpress/element';\nimport type { Field } from '@wordpress/dataviews';\nimport type { ReactNode } from 'react';\n\n/**\n * Media object from WordPress REST API.\n */\nexport interface Media {\n\tid?: number;\n\tsource_url?: string;\n\tmime_type?: string;\n\talt_text?: string;\n\ttitle?: string | { rendered?: string; raw?: string };\n\tcaption?: string | { rendered?: string; raw?: string };\n\tdescription?: string | { rendered?: string; raw?: string };\n\t[ key: string ]: any;\n}\n\n/**\n * Context value for MediaEditor.\n */\nexport interface MediaEditorContextValue {\n\tmedia?: Media;\n\tonChange?: ( updates: Partial< Media > ) => void;\n\tfields: Field< Media >[];\n}\n\n/**\n * Props for MediaEditorProvider.\n */\nexport interface MediaEditorProviderProps {\n\t/** The media object to edit. */\n\tvalue?: Media;\n\t/**\n\t * Callback when media is updated.\n\t *\n\t * Optional - if not provided, the MediaEditor can be used in a read-only mode,\n\t * useful for preview-only scenarios.\n\t */\n\tonChange?: ( updates: Partial< Media > ) => void;\n\t/** Configuration settings for the media editor. */\n\tsettings?: {\n\t\tfields?: Field< Media >[];\n\t};\n\t/** Child components. */\n\tchildren: ReactNode;\n}\n\nconst MediaEditorContext = createContext< MediaEditorContextValue | undefined >(\n\tundefined\n);\n\nexport function MediaEditorProvider( {\n\tvalue,\n\tonChange,\n\tsettings = {},\n\tchildren,\n}: MediaEditorProviderProps ) {\n\tconst contextValue: MediaEditorContextValue = {\n\t\tmedia: value,\n\t\tonChange,\n\t\tfields: settings.fields || [],\n\t};\n\n\treturn (\n\t\t<MediaEditorContext.Provider value={ contextValue }>\n\t\t\t{ children }\n\t\t</MediaEditorContext.Provider>\n\t);\n}\n\n/**\n * Hook to access the MediaEditor context.\n *\n * Must be used within a MediaEditorProvider component.\n *\n * @return MediaEditorContextValue value with media, onChange, and fields, etc.\n */\nexport function useMediaEditorContext(): MediaEditorContextValue {\n\tconst context = useContext( MediaEditorContext );\n\tif ( ! context ) {\n\t\tthrow new Error(\n\t\t\t'useMediaEditorContext must be used within MediaEditorProvider'\n\t\t);\n\t}\n\treturn context;\n}\n", "/**\n * WordPress dependencies\n */\nimport { Spinner } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useMediaEditorContext } from '../media-editor-provider';\nimport { getMediaTypeFromMimeType } from '../../utils';\n\n/**\n * Props for MediaPreview component.\n */\nexport interface MediaPreviewProps {\n\t[ key: string ]: any; // TODO: Define specific props as needed, this will likely be for click handlers, accessibility attributes, etc.\n}\n\n/**\n * Props for MediaPreviewContent component.\n */\ninterface MediaPreviewContentProps {\n\tmediaType: { type: string };\n\tmediaUrl: string;\n\taltText?: string;\n\tdisplayTitle?: string;\n\tmimeType?: string;\n\tonLoad: () => void;\n\tonError: () => void;\n\tloadingState: 'loading' | 'loaded' | 'error';\n}\n\nfunction MediaPreviewContent( {\n\tmediaType,\n\tmediaUrl,\n\taltText,\n\tdisplayTitle,\n\tmimeType,\n\tonLoad,\n\tonError,\n\tloadingState,\n}: MediaPreviewContentProps ) {\n\tswitch ( mediaType.type ) {\n\t\tcase 'image':\n\t\t\treturn (\n\t\t\t\t<img\n\t\t\t\t\tclassName={ loadingState === 'loaded' ? 'loaded' : '' }\n\t\t\t\t\tsrc={ mediaUrl }\n\t\t\t\t\talt={ altText || '' }\n\t\t\t\t\tonLoad={ onLoad }\n\t\t\t\t\tonError={ onError }\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'video':\n\t\t\treturn (\n\t\t\t\t<video src={ mediaUrl } controls onError={ onError }>\n\t\t\t\t\t{ displayTitle }\n\t\t\t\t</video>\n\t\t\t);\n\t\tcase 'audio':\n\t\t\treturn (\n\t\t\t\t<audio src={ mediaUrl } controls onError={ onError }>\n\t\t\t\t\t{ displayTitle }\n\t\t\t\t</audio>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<div className=\"media-editor-preview__file-info\">\n\t\t\t\t\t<p className=\"media-editor-preview__file-name\">\n\t\t\t\t\t\t{ displayTitle }\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"media-editor-preview__mime-type\">\n\t\t\t\t\t\t{ mimeType }\n\t\t\t\t\t</p>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ mediaUrl }\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\tclassName=\"media-editor-preview__download-link\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'View file' ) }\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t);\n\t}\n}\n\n/**\n * MediaPreview component displays the media file in the editor canvas.\n * Supports images, videos, audio files, and generic file displays.\n *\n * @param props - Component props including click handlers and accessibility attributes.\n * @return The MediaPreview component.\n */\nexport default function MediaPreview( props: MediaPreviewProps ) {\n\tconst [ loadingState, setLoadingState ] = useState<\n\t\t'loading' | 'loaded' | 'error'\n\t>( 'loading' );\n\tconst { media } = useMediaEditorContext();\n\n\tconst {\n\t\tsource_url: mediaUrl,\n\t\tmime_type: mimeType,\n\t\talt_text: altText,\n\t\ttitle,\n\t} = media || {};\n\n\tconst mediaType = getMediaTypeFromMimeType( mimeType );\n\n\tif ( ! mediaUrl ) {\n\t\treturn (\n\t\t\t<div className=\"media-editor-preview media-editor-preview--empty\">\n\t\t\t\t<p>{ __( 'No media file available.' ) }</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( loadingState === 'error' ) {\n\t\treturn (\n\t\t\t<div className=\"media-editor-preview media-editor-preview--error\">\n\t\t\t\t<p>{ __( 'Failed to load media file.' ) }</p>\n\t\t\t\t<p className=\"media-editor-preview__url\">{ mediaUrl }</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst displayTitle =\n\t\ttypeof title === 'string' ? title : title?.rendered || title?.raw;\n\n\treturn (\n\t\t<div\n\t\t\t{ ...props }\n\t\t\tclassName={ `media-editor-preview media-editor-preview--${ mediaType.type }` }\n\t\t>\n\t\t\t{ mediaType.type === 'image' && loadingState === 'loading' && (\n\t\t\t\t<div className=\"media-editor-preview__spinner\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<MediaPreviewContent\n\t\t\t\tmediaType={ mediaType }\n\t\t\t\tmediaUrl={ mediaUrl }\n\t\t\t\taltText={ altText }\n\t\t\t\tdisplayTitle={ displayTitle }\n\t\t\t\tmimeType={ mimeType }\n\t\t\t\tonLoad={ () => setLoadingState( 'loaded' ) }\n\t\t\t\tonError={ () => setLoadingState( 'error' ) }\n\t\t\t\tloadingState={ loadingState }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n", "/**\n * Media type result.\n */\nexport interface MediaType {\n\ttype: 'image' | 'video' | 'audio' | 'application';\n}\n\n/**\n * Determines the media type from a MIME type string.\n *\n * @param mimeType - The MIME type to check.\n * @return Object with type property ('image', 'video', 'audio', or 'application').\n */\nexport function getMediaTypeFromMimeType( mimeType?: string ): MediaType {\n\tif ( ! mimeType ) {\n\t\treturn { type: 'application' };\n\t}\n\n\tif ( mimeType.startsWith( 'image/' ) ) {\n\t\treturn { type: 'image' };\n\t}\n\tif ( mimeType.startsWith( 'video/' ) ) {\n\t\treturn { type: 'video' };\n\t}\n\tif ( mimeType.startsWith( 'audio/' ) ) {\n\t\treturn { type: 'audio' };\n\t}\n\treturn { type: 'application' };\n}\n", "import { forwardRef } from '@wordpress/element';\nimport { Box } from '../box';\nimport { type BoxProps } from '../box/types';\nimport { type BadgeProps } from './types';\n\n/**\n * Default render function that renders a span element with the given props.\n */\nconst DEFAULT_RENDER = ( props: React.ComponentPropsWithoutRef< 'span' > ) => (\n\t<span { ...props } />\n);\n\n/**\n * Maps intent values to Box backgroundColor and color props.\n * Uses strong emphasis styles (as emphasis prop has been removed).\n */\nconst getIntentStyles = (\n\tintent: BadgeProps[ 'intent' ]\n): Partial< BoxProps > => {\n\tswitch ( intent ) {\n\t\tcase 'high':\n\t\t\treturn {\n\t\t\t\tbackgroundColor: 'error',\n\t\t\t\tcolor: 'error',\n\t\t\t};\n\t\tcase 'medium':\n\t\t\treturn {\n\t\t\t\tbackgroundColor: 'warning',\n\t\t\t\tcolor: 'warning',\n\t\t\t};\n\t\tcase 'low':\n\t\t\treturn {\n\t\t\t\tbackgroundColor: 'caution',\n\t\t\t\tcolor: 'caution',\n\t\t\t};\n\t\tcase 'stable':\n\t\t\treturn {\n\t\t\t\tbackgroundColor: 'success',\n\t\t\t\tcolor: 'success',\n\t\t\t};\n\t\tcase 'informational':\n\t\t\treturn {\n\t\t\t\tbackgroundColor: 'info',\n\t\t\t\tcolor: 'info',\n\t\t\t};\n\t\tcase 'draft':\n\t\t\treturn {\n\t\t\t\tbackgroundColor: 'neutral-weak',\n\t\t\t\tcolor: 'neutral',\n\t\t\t};\n\t\tcase 'none':\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\tbackgroundColor: 'neutral',\n\t\t\t\tcolor: 'neutral-weak',\n\t\t\t};\n\t}\n};\n\n/**\n * A badge component for displaying labels with semantic intent.\n * Built on the Box primitive for consistent theming and accessibility.\n */\nexport const Badge = forwardRef< HTMLDivElement, BadgeProps >( function Badge(\n\t{ children, intent = 'none', render = DEFAULT_RENDER, ...props },\n\tref\n) {\n\tconst intentStyles = getIntentStyles( intent );\n\n\treturn (\n\t\t<Box\n\t\t\t{ ...intentStyles }\n\t\t\tpadding={ { inline: 'xs', block: '2xs' } }\n\t\t\tborderRadius=\"lg\"\n\t\t\trender={ render }\n\t\t\tstyle={ {\n\t\t\t\tfontFamily: 'var(--wpds-font-family-body)',\n\t\t\t\tfontSize: 'var(--wpds-font-size-sm)',\n\t\t\t\tfontWeight: 'var(--wpds-font-weight-regular)',\n\t\t\t\tlineHeight: 'var(--wpds-font-line-height-xs)',\n\t\t\t\t...props.style,\n\t\t\t} }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ children }\n\t\t</Box>\n\t);\n} );\n", "'use client';\n\nimport * as React from 'react';\nconst UNINITIALIZED = {};\n\n/**\n * A React.useRef() that is initialized with a function. Note that it accepts an optional\n * initialization argument, so the initialization function doesn't need to be an inline closure.\n *\n * @usage\n *   const ref = useRefWithInit(sortColumns, columns)\n */\n\nexport function useRefWithInit(init, initArg) {\n  const ref = React.useRef(UNINITIALIZED);\n  if (ref.current === UNINITIALIZED) {\n    ref.current = init(initArg);\n  }\n  return ref;\n}", "/**\n * WARNING: Don't import this directly. It's imported by the code generated by\n * `@mui/interal-babel-plugin-minify-errors`. Make sure to always use string literals in `Error`\n * constructors to ensure the plugin works as expected. Supported patterns include:\n *   throw new Error('My message');\n *   throw new Error(`My message: ${foo}`);\n *   throw new Error(`My message: ${foo}` + 'another string');\n *   ...\n */\nexport default function formatErrorMessage(code, ...args) {\n  const url = new URL(`https://base-ui.com/production-error/${code}`);\n  args.forEach(arg => url.searchParams.append('args[]', arg));\n  return `Base UI error #${code}; visit ${url} for the full message.`;\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport { useMergedRefs, useMergedRefsN } from '@base-ui/utils/useMergedRefs';\nimport { getReactElementRef } from '@base-ui/utils/getReactElementRef';\nimport { mergeObjects } from '@base-ui/utils/mergeObjects';\nimport { getStateAttributesProps } from \"./getStateAttributesProps.js\";\nimport { resolveClassName } from \"./resolveClassName.js\";\nimport { resolveStyle } from \"./resolveStyle.js\";\nimport { mergeProps, mergePropsN, mergeClassNames } from \"../merge-props/index.js\";\nimport { EMPTY_OBJECT } from \"./constants.js\";\nimport { createElement as _createElement } from \"react\";\n/**\n * Renders a Base UI element.\n *\n * @param element The default HTML element to render. Can be overridden by the `render` prop.\n * @param componentProps An object containing the `render` and `className` props to be used for element customization. Other props are ignored.\n * @param params Additional parameters for rendering the element.\n */\nexport function useRenderElement(element, componentProps, params = {}) {\n  const renderProp = componentProps.render;\n  const outProps = useRenderElementProps(componentProps, params);\n  if (params.enabled === false) {\n    return null;\n  }\n  const state = params.state ?? EMPTY_OBJECT;\n  return evaluateRenderProp(element, renderProp, outProps, state);\n}\n\n/**\n * Computes render element final props.\n */\nfunction useRenderElementProps(componentProps, params = {}) {\n  const {\n    className: classNameProp,\n    style: styleProp,\n    render: renderProp\n  } = componentProps;\n  const {\n    state = EMPTY_OBJECT,\n    ref,\n    props,\n    stateAttributesMapping,\n    enabled = true\n  } = params;\n  const className = enabled ? resolveClassName(classNameProp, state) : undefined;\n  const style = enabled ? resolveStyle(styleProp, state) : undefined;\n  const stateProps = enabled ? getStateAttributesProps(state, stateAttributesMapping) : EMPTY_OBJECT;\n  const outProps = enabled ? mergeObjects(stateProps, Array.isArray(props) ? mergePropsN(props) : props) ?? EMPTY_OBJECT : EMPTY_OBJECT;\n\n  // SAFETY: The `useMergedRefs` functions use a single hook to store the same value,\n  // switching between them at runtime is safe. If this assertion fails, React will\n  // throw at runtime anyway.\n  // This also skips the `useMergedRefs` call on the server, which is fine because\n  // refs are not used on the server side.\n  /* eslint-disable react-hooks/rules-of-hooks */\n  if (typeof document !== 'undefined') {\n    if (!enabled) {\n      useMergedRefs(null, null);\n    } else if (Array.isArray(ref)) {\n      outProps.ref = useMergedRefsN([outProps.ref, getReactElementRef(renderProp), ...ref]);\n    } else {\n      outProps.ref = useMergedRefs(outProps.ref, getReactElementRef(renderProp), ref);\n    }\n  }\n  if (!enabled) {\n    return EMPTY_OBJECT;\n  }\n  if (className !== undefined) {\n    outProps.className = mergeClassNames(outProps.className, className);\n  }\n  if (style !== undefined) {\n    outProps.style = mergeObjects(outProps.style, style);\n  }\n  return outProps;\n}\nfunction evaluateRenderProp(element, render, props, state) {\n  if (render) {\n    if (typeof render === 'function') {\n      return render(props, state);\n    }\n    const mergedProps = mergeProps(props, render.props);\n    mergedProps.ref = props.ref;\n    return /*#__PURE__*/React.cloneElement(render, mergedProps);\n  }\n  if (element) {\n    if (typeof element === 'string') {\n      return renderTag(element, props);\n    }\n  }\n  // Unreachable, but the typings on `useRenderElement` need to be reworked\n  // to annotate it correctly.\n  throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: Render element or function are not defined.' : _formatErrorMessage(8));\n}\nfunction renderTag(Tag, props) {\n  if (Tag === 'button') {\n    return /*#__PURE__*/_createElement(\"button\", {\n      type: \"button\",\n      ...props,\n      key: props.key\n    });\n  }\n  if (Tag === 'img') {\n    return /*#__PURE__*/_createElement(\"img\", {\n      alt: \"\",\n      ...props,\n      key: props.key\n    });\n  }\n  return /*#__PURE__*/React.createElement(Tag, props);\n}", "import { useRefWithInit } from \"./useRefWithInit.js\";\n\n/**\n * Merges refs into a single memoized callback ref or `null`.\n * This makes sure multiple refs are updated together and have the same value.\n *\n * This function accepts up to four refs. If you need to merge more, or have an unspecified number of refs to merge,\n * use `useMergedRefsN` instead.\n */\n\nexport function useMergedRefs(a, b, c, d) {\n  const forkRef = useRefWithInit(createForkRef).current;\n  if (didChange(forkRef, a, b, c, d)) {\n    update(forkRef, [a, b, c, d]);\n  }\n  return forkRef.callback;\n}\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n *\n * If you need to merge a fixed number (up to four) of refs, use `useMergedRefs` instead for better performance.\n */\nexport function useMergedRefsN(refs) {\n  const forkRef = useRefWithInit(createForkRef).current;\n  if (didChangeN(forkRef, refs)) {\n    update(forkRef, refs);\n  }\n  return forkRef.callback;\n}\nfunction createForkRef() {\n  return {\n    callback: null,\n    cleanup: null,\n    refs: []\n  };\n}\nfunction didChange(forkRef, a, b, c, d) {\n  // prettier-ignore\n  return forkRef.refs[0] !== a || forkRef.refs[1] !== b || forkRef.refs[2] !== c || forkRef.refs[3] !== d;\n}\nfunction didChangeN(forkRef, newRefs) {\n  return forkRef.refs.length !== newRefs.length || forkRef.refs.some((ref, index) => ref !== newRefs[index]);\n}\nfunction update(forkRef, refs) {\n  forkRef.refs = refs;\n  if (refs.every(ref => ref == null)) {\n    forkRef.callback = null;\n    return;\n  }\n  forkRef.callback = instance => {\n    if (forkRef.cleanup) {\n      forkRef.cleanup();\n      forkRef.cleanup = null;\n    }\n    if (instance != null) {\n      const cleanupCallbacks = Array(refs.length).fill(null);\n      for (let i = 0; i < refs.length; i += 1) {\n        const ref = refs[i];\n        if (ref == null) {\n          continue;\n        }\n        switch (typeof ref) {\n          case 'function':\n            {\n              const refCleanup = ref(instance);\n              if (typeof refCleanup === 'function') {\n                cleanupCallbacks[i] = refCleanup;\n              }\n              break;\n            }\n          case 'object':\n            {\n              ref.current = instance;\n              break;\n            }\n          default:\n        }\n      }\n      forkRef.cleanup = () => {\n        for (let i = 0; i < refs.length; i += 1) {\n          const ref = refs[i];\n          if (ref == null) {\n            continue;\n          }\n          switch (typeof ref) {\n            case 'function':\n              {\n                const cleanupCallback = cleanupCallbacks[i];\n                if (typeof cleanupCallback === 'function') {\n                  cleanupCallback();\n                } else {\n                  ref(null);\n                }\n                break;\n              }\n            case 'object':\n              {\n                ref.current = null;\n                break;\n              }\n            default:\n          }\n        }\n      };\n    }\n  };\n}", "import * as React from 'react';\nimport { isReactVersionAtLeast } from \"./reactVersion.js\";\n\n/**\n * Extracts the `ref` from a React element, handling different React versions.\n */\nexport function getReactElementRef(element) {\n  if (! /*#__PURE__*/React.isValidElement(element)) {\n    return null;\n  }\n  const reactElement = element;\n  const propsWithRef = reactElement.props;\n  return (isReactVersionAtLeast(19) ? propsWithRef?.ref : reactElement.ref) ?? null;\n}", "import * as React from 'react';\nconst majorVersion = parseInt(React.version, 10);\nexport function isReactVersionAtLeast(reactVersionToCheck) {\n  return majorVersion >= reactVersionToCheck;\n}", "export function mergeObjects(a, b) {\n  if (a && !b) {\n    return a;\n  }\n  if (!a && b) {\n    return b;\n  }\n  if (a || b) {\n    return {\n      ...a,\n      ...b\n    };\n  }\n  return undefined;\n}", "export function getStateAttributesProps(state, customMapping) {\n  const props = {};\n\n  /* eslint-disable-next-line guard-for-in */\n  for (const key in state) {\n    const value = state[key];\n    if (customMapping?.hasOwnProperty(key)) {\n      const customProps = customMapping[key](value);\n      if (customProps != null) {\n        Object.assign(props, customProps);\n      }\n      continue;\n    }\n    if (value === true) {\n      props[`data-${key.toLowerCase()}`] = '';\n    } else if (value) {\n      props[`data-${key.toLowerCase()}`] = value.toString();\n    }\n  }\n  return props;\n}", "/**\n * If the provided className is a string, it will be returned as is.\n * Otherwise, the function will call the className function with the state as the first argument.\n *\n * @param className\n * @param state\n */\nexport function resolveClassName(className, state) {\n  return typeof className === 'function' ? className(state) : className;\n}", "/**\n * If the provided style is an object, it will be returned as is.\n * Otherwise, the function will call the style function with the state as the first argument.\n *\n * @param style\n * @param state\n */\nexport function resolveStyle(style, state) {\n  return typeof style === 'function' ? style(state) : style;\n}", "import { mergeObjects } from '@base-ui/utils/mergeObjects';\nconst EMPTY_PROPS = {};\n\n/**\n * Merges multiple sets of React props. It follows the Object.assign pattern where the rightmost object's fields overwrite\n * the conflicting ones from others. This doesn't apply to event handlers, `className` and `style` props.\n * Event handlers are merged such that they are called in sequence (the rightmost one being called first),\n * and allows the user to prevent the subsequent event handlers from being\n * executed by attaching a `preventBaseUIHandler` method.\n * It also merges the `className` and `style` props, whereby the classes are concatenated\n * and the rightmost styles overwrite the subsequent ones.\n *\n * Props can either be provided as objects or as functions that take the previous props as an argument.\n * The function will receive the merged props up to that point (going from left to right):\n * so in the case of `(obj1, obj2, fn, obj3)`, `fn` will receive the merged props of `obj1` and `obj2`.\n * The function is responsible for chaining event handlers if needed (i.e. we don't run the merge logic).\n *\n * Event handlers returned by the functions are not automatically prevented when `preventBaseUIHandler` is called.\n * They must check `event.baseUIHandlerPrevented` themselves and bail out if it's true.\n *\n * @important **`ref` is not merged.**\n * @param props props to merge.\n * @returns the merged props.\n */\n/* eslint-disable id-denylist */\n\nexport function mergeProps(a, b, c, d, e) {\n  // We need to mutably own `merged`\n  let merged = {\n    ...resolvePropsGetter(a, EMPTY_PROPS)\n  };\n  if (b) {\n    merged = mergeOne(merged, b);\n  }\n  if (c) {\n    merged = mergeOne(merged, c);\n  }\n  if (d) {\n    merged = mergeOne(merged, d);\n  }\n  if (e) {\n    merged = mergeOne(merged, e);\n  }\n  return merged;\n}\n/* eslint-enable id-denylist */\n\nexport function mergePropsN(props) {\n  if (props.length === 0) {\n    return EMPTY_PROPS;\n  }\n  if (props.length === 1) {\n    return resolvePropsGetter(props[0], EMPTY_PROPS);\n  }\n\n  // We need to mutably own `merged`\n  let merged = {\n    ...resolvePropsGetter(props[0], EMPTY_PROPS)\n  };\n  for (let i = 1; i < props.length; i += 1) {\n    merged = mergeOne(merged, props[i]);\n  }\n  return merged;\n}\nfunction mergeOne(merged, inputProps) {\n  if (isPropsGetter(inputProps)) {\n    return inputProps(merged);\n  }\n  return mutablyMergeInto(merged, inputProps);\n}\n\n/**\n * Merges two sets of props. In case of conflicts, the external props take precedence.\n */\nfunction mutablyMergeInto(mergedProps, externalProps) {\n  if (!externalProps) {\n    return mergedProps;\n  }\n\n  // eslint-disable-next-line guard-for-in\n  for (const propName in externalProps) {\n    const externalPropValue = externalProps[propName];\n    switch (propName) {\n      case 'style':\n        {\n          mergedProps[propName] = mergeObjects(mergedProps.style, externalPropValue);\n          break;\n        }\n      case 'className':\n        {\n          mergedProps[propName] = mergeClassNames(mergedProps.className, externalPropValue);\n          break;\n        }\n      default:\n        {\n          if (isEventHandler(propName, externalPropValue)) {\n            mergedProps[propName] = mergeEventHandlers(mergedProps[propName], externalPropValue);\n          } else {\n            mergedProps[propName] = externalPropValue;\n          }\n        }\n    }\n  }\n  return mergedProps;\n}\nfunction isEventHandler(key, value) {\n  // This approach is more efficient than using a regex.\n  const code0 = key.charCodeAt(0);\n  const code1 = key.charCodeAt(1);\n  const code2 = key.charCodeAt(2);\n  return code0 === 111 /* o */ && code1 === 110 /* n */ && code2 >= 65 /* A */ && code2 <= 90 /* Z */ && (typeof value === 'function' || typeof value === 'undefined');\n}\nfunction isPropsGetter(inputProps) {\n  return typeof inputProps === 'function';\n}\nfunction resolvePropsGetter(inputProps, previousProps) {\n  if (isPropsGetter(inputProps)) {\n    return inputProps(previousProps);\n  }\n  return inputProps ?? EMPTY_PROPS;\n}\nfunction mergeEventHandlers(ourHandler, theirHandler) {\n  if (!theirHandler) {\n    return ourHandler;\n  }\n  if (!ourHandler) {\n    return theirHandler;\n  }\n  return event => {\n    if (isSyntheticEvent(event)) {\n      const baseUIEvent = event;\n      makeEventPreventable(baseUIEvent);\n      const result = theirHandler(baseUIEvent);\n      if (!baseUIEvent.baseUIHandlerPrevented) {\n        ourHandler?.(baseUIEvent);\n      }\n      return result;\n    }\n    const result = theirHandler(event);\n    ourHandler?.(event);\n    return result;\n  };\n}\nexport function makeEventPreventable(event) {\n  event.preventBaseUIHandler = () => {\n    event.baseUIHandlerPrevented = true;\n  };\n  return event;\n}\nexport function mergeClassNames(ourClassName, theirClassName) {\n  if (theirClassName) {\n    if (ourClassName) {\n      // eslint-disable-next-line prefer-template\n      return theirClassName + ' ' + ourClassName;\n    }\n    return theirClassName;\n  }\n  return ourClassName;\n}\nfunction isSyntheticEvent(event) {\n  return event != null && typeof event === 'object' && 'nativeEvent' in event;\n}", "export function NOOP() {}\nexport const EMPTY_ARRAY = Object.freeze([]);\nexport const EMPTY_OBJECT = Object.freeze({});", "function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n", "/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n", "import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \u2014\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n", "import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle as getComputedStyle$1, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll) {\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Safety check: ensure the scrollbar space is reasonable in case this\n// calculation is affected by unusual styles.\n// Most scrollbars leave 15-18px of space.\nconst SCROLLBAR_MAX = 25;\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  const windowScrollbarX = getWindowScrollBarX(html);\n  // <html> `overflow: hidden` + `scrollbar-gutter: stable` reduces the\n  // visual width of the <html> but this is not considered in the size\n  // of `html.clientWidth`.\n  if (windowScrollbarX <= 0) {\n    const doc = html.ownerDocument;\n    const body = doc.body;\n    const bodyStyles = getComputedStyle(body);\n    const bodyMarginInline = doc.compatMode === 'CSS1Compat' ? parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight) || 0 : 0;\n    const clippingStableScrollbarWidth = Math.abs(html.clientWidth - body.clientWidth - bodyMarginInline);\n    if (clippingStableScrollbarWidth <= SCROLLBAR_MAX) {\n      width -= clippingStableScrollbarWidth;\n    }\n  } else if (windowScrollbarX <= SCROLLBAR_MAX) {\n    // If the <body> scrollbar is on the left, the width needs to be extended\n    // by the scrollbar amount so there isn't extra space on the right.\n    width += windowScrollbarX;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \u2014\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n", "import { useRenderElement } from \"../utils/useRenderElement.js\";\n/**\n * Renders a Base UI element.\n *\n * @public\n */\nexport function useRender(params) {\n  return useRenderElement(params.defaultTagName ?? 'div', params, params);\n}", "import { useRender, mergeProps } from '@base-ui/react';\nimport { forwardRef } from '@wordpress/element';\nimport { type BoxProps } from './types';\n\n/**\n * Default render function that renders a div element with the given props.\n */\nconst DEFAULT_RENDER = ( props: React.ComponentPropsWithoutRef< 'div' > ) => (\n\t<div { ...props } />\n);\n\n/**\n * Capitalizes the first character of a string.\n */\nconst capitalize = ( str: string ): string =>\n\tstr.charAt( 0 ).toUpperCase() + str.slice( 1 );\n\n/**\n * Converts a size token name to a CSS design token property reference (with\n * fallback).\n *\n * @param property The CSS property name.\n * @param target   The design system token target.\n * @param value    The size token name.\n * @return A CSS value string with variable references.\n */\nconst getSpacingValue = (\n\tproperty: string,\n\ttarget: string,\n\tvalue: string\n): string =>\n\t`var(--wpds-dimension-${ property }-${ target }-${ value }, var(--wpds-dimension-${ property }-surface-${ value }))`;\n\n/**\n * Generates CSS styles for properties with optionally directional values,\n * normalizing single values and objects with directional keys for logical\n * properties.\n *\n * @param property The CSS property name from BoxProps.\n * @param target   The design system token target.\n * @param value    The property value (single or object with directional keys).\n * @return A CSSProperties object with the computed styles.\n */\nconst getDimensionVariantStyles = < T extends keyof BoxProps >(\n\tproperty: T,\n\ttarget: string,\n\tvalue: NonNullable< BoxProps[ T ] >\n): React.CSSProperties =>\n\ttypeof value !== 'object'\n\t\t? { [ property ]: getSpacingValue( property, target, value ) }\n\t\t: Object.keys( value ).reduce(\n\t\t\t\t( result, key ) => ( {\n\t\t\t\t\t...result,\n\t\t\t\t\t[ property + capitalize( key ) ]: getSpacingValue(\n\t\t\t\t\t\tproperty,\n\t\t\t\t\t\ttarget,\n\t\t\t\t\t\tvalue[ key ]\n\t\t\t\t\t),\n\t\t\t\t} ),\n\t\t\t\t{} as Record< string, string >\n\t\t  );\n\n/**\n * A low-level visual primitive that provides an interface for applying design\n * token-based customization for background, text, padding, and more.\n */\nexport const Box = forwardRef< HTMLDivElement, BoxProps >( function Box(\n\t{\n\t\ttarget = 'surface',\n\t\tbackgroundColor,\n\t\tcolor,\n\t\tpadding,\n\t\tborderRadius,\n\t\tborderWidth,\n\t\tborderColor,\n\t\trender = DEFAULT_RENDER,\n\t\t...props\n\t},\n\tref\n) {\n\tconst style: React.CSSProperties = {};\n\n\tif ( backgroundColor ) {\n\t\tstyle.backgroundColor = `var(--wpds-color-bg-${ target }-${ backgroundColor }, var(--wpds-color-bg-surface-${ backgroundColor }))`;\n\t}\n\n\tif ( color ) {\n\t\tstyle.color = `var(--wpds-color-fg-${ target }-${ color }, var(--wpds-color-fg-content-${ color }))`;\n\t}\n\n\tif ( padding ) {\n\t\tObject.assign(\n\t\t\tstyle,\n\t\t\tgetDimensionVariantStyles( 'padding', target, padding )\n\t\t);\n\t}\n\n\tif ( borderRadius ) {\n\t\tstyle.borderRadius = `var(--wpds-border-radius-${ target }-${ borderRadius }, var(--wpds-border-radius-${ borderRadius }))`;\n\t}\n\n\tif ( borderWidth ) {\n\t\tstyle.borderWidth = `var(--wpds-border-width-${ target }-${ borderWidth }, var(--wpds-border-width-${ borderWidth }))`;\n\t\tstyle.borderStyle = 'solid';\n\t}\n\n\tif ( borderColor ) {\n\t\tstyle.borderColor = `var(--wpds-color-stroke-${ target }-${ borderColor }, var(--wpds-color-stroke-surface-${ borderColor }))`;\n\t}\n\n\tconst element = useRender( {\n\t\trender,\n\t\tref,\n\t\tprops: mergeProps< 'div' >( props, { style } ),\n\t} );\n\n\treturn element;\n} );\n", "import { useRender, mergeProps } from '@base-ui/react';\nimport { forwardRef } from '@wordpress/element';\nimport { type StackProps } from './types';\nimport styles from './style.module.css';\n\n/**\n * A flexible layout component using CSS Flexbox for consistent spacing and alignment.\n * Built on design tokens for predictable spacing values.\n */\nexport const Stack = forwardRef< HTMLDivElement, StackProps >( function Stack(\n\t{ direction, gap, align, justify, wrap, render, ...props },\n\tref\n) {\n\tconst style: React.CSSProperties = {\n\t\tgap: gap && `var(--wpds-dimension-gap-${ gap })`,\n\t\talignItems: align,\n\t\tjustifyContent: justify,\n\t\tflexDirection: direction,\n\t\tflexWrap: wrap,\n\t};\n\n\tconst element = useRender( {\n\t\trender,\n\t\tref,\n\t\tprops: mergeProps< 'div' >( props, { style, className: styles.stack } ),\n\t} );\n\n\treturn element;\n} );\n", "if (typeof document !== 'undefined' && !document.head.querySelector(\"style[data-wp-hash='71d20935c2']\")) {\n\tconst style = document.createElement(\"style\");\n\tstyle.setAttribute(\"data-wp-hash\", \"71d20935c2\");\n\tstyle.appendChild(document.createTextNode(\"@layer wp-ui-utilities, wp-ui-components, wp-ui-compositions, wp-ui-overrides;@layer wp-ui-components{._19ce0419607e1896__stack{display:flex}}\"));\n\tdocument.head.appendChild(style);\n}\nexport default {\"stack\":\"_19ce0419607e1896__stack\"};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { arrowDown, arrowUp } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DayNumber } from './types';\n\n// Filter operators.\nexport const OPERATOR_IS_ANY = 'isAny';\nexport const OPERATOR_IS_NONE = 'isNone';\nexport const OPERATOR_IS_ALL = 'isAll';\nexport const OPERATOR_IS_NOT_ALL = 'isNotAll';\nexport const OPERATOR_BETWEEN = 'between';\nexport const OPERATOR_IN_THE_PAST = 'inThePast';\nexport const OPERATOR_OVER = 'over';\nexport const OPERATOR_IS = 'is';\nexport const OPERATOR_IS_NOT = 'isNot';\nexport const OPERATOR_LESS_THAN = 'lessThan';\nexport const OPERATOR_GREATER_THAN = 'greaterThan';\nexport const OPERATOR_LESS_THAN_OR_EQUAL = 'lessThanOrEqual';\nexport const OPERATOR_GREATER_THAN_OR_EQUAL = 'greaterThanOrEqual';\nexport const OPERATOR_BEFORE = 'before';\nexport const OPERATOR_AFTER = 'after';\nexport const OPERATOR_BEFORE_INC = 'beforeInc';\nexport const OPERATOR_AFTER_INC = 'afterInc';\nexport const OPERATOR_CONTAINS = 'contains';\nexport const OPERATOR_NOT_CONTAINS = 'notContains';\nexport const OPERATOR_STARTS_WITH = 'startsWith';\nexport const OPERATOR_ON = 'on';\nexport const OPERATOR_NOT_ON = 'notOn';\n\nexport const SORTING_DIRECTIONS = [ 'asc', 'desc' ] as const;\nexport const sortArrows = { asc: '\u2191', desc: '\u2193' };\nexport const sortValues = { asc: 'ascending', desc: 'descending' } as const;\nexport const sortLabels = {\n\tasc: __( 'Sort ascending' ),\n\tdesc: __( 'Sort descending' ),\n};\nexport const sortIcons = {\n\tasc: arrowUp,\n\tdesc: arrowDown,\n};\n\n// View layouts.\nexport const LAYOUT_TABLE = 'table';\nexport const LAYOUT_GRID = 'grid';\nexport const LAYOUT_LIST = 'list';\nexport const LAYOUT_ACTIVITY = 'activity';\n\n// Picker view layouts.\nexport const LAYOUT_PICKER_GRID = 'pickerGrid';\nexport const LAYOUT_PICKER_TABLE = 'pickerTable';\n\nexport const DAYS_OF_WEEK: DayNumber[] = [ 0, 1, 2, 3, 4, 5, 6 ];\n", "/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/dataviews'\n\t);\n", "/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { Option } from '../types';\n\nconst EMPTY_ARRAY: Option[] = [];\n\nexport default function useElements( {\n\telements,\n\tgetElements,\n}: {\n\telements?: Option[];\n\tgetElements?: () => Promise< Option[] >;\n} ) {\n\tconst staticElements =\n\t\tArray.isArray( elements ) && elements.length > 0\n\t\t\t? elements\n\t\t\t: EMPTY_ARRAY;\n\tconst [ records, setRecords ] = useState< Option[] >( staticElements );\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\n\tuseEffect( () => {\n\t\tif ( ! getElements ) {\n\t\t\tsetRecords( staticElements );\n\t\t\treturn;\n\t\t}\n\n\t\tlet cancelled = false;\n\t\tsetIsLoading( true );\n\t\tgetElements()\n\t\t\t.then( ( fetchedElements ) => {\n\t\t\t\tif ( ! cancelled ) {\n\t\t\t\t\tconst dynamicElements =\n\t\t\t\t\t\tArray.isArray( fetchedElements ) &&\n\t\t\t\t\t\tfetchedElements.length > 0\n\t\t\t\t\t\t\t? fetchedElements\n\t\t\t\t\t\t\t: staticElements;\n\t\t\t\t\tsetRecords( dynamicElements );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tif ( ! cancelled ) {\n\t\t\t\t\tsetRecords( staticElements );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.finally( () => {\n\t\t\t\tif ( ! cancelled ) {\n\t\t\t\t\tsetIsLoading( false );\n\t\t\t\t}\n\t\t\t} );\n\n\t\treturn () => {\n\t\t\tcancelled = true;\n\t\t};\n\t}, [ getElements, staticElements ] );\n\n\treturn {\n\t\telements: records,\n\t\tisLoading,\n\t};\n}\n", "/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n", "import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n", "import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addDays} function options.\n */\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n * @param options - An object with options\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\n  if (!amount) return _date;\n\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMonths} function options.\n */\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n * @param options - The options object\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(options?.in || date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n", "let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n", "import { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfISOWeek} function options.\n */\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date, options) {\n  return startOfWeek(date, { ...options, weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeekYear} function options.\n */\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n", "import { toDate } from \"../toDate.js\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n", "import { constructFrom } from \"../constructFrom.js\";\n\nexport function normalizeDates(context, ...dates) {\n  const normalize = constructFrom.bind(\n    null,\n    context || dates.find((date) => typeof date === \"object\"),\n  );\n  return dates.map(normalize);\n}\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfDay} function options.\n */\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n", "import { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { millisecondsInDay } from \"./constants.js\";\nimport { startOfDay } from \"./startOfDay.js\";\n\n/**\n * The {@link differenceInCalendarDays} function options.\n */\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - The options object\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const laterStartOfDay = startOfDay(laterDate_);\n  const earlierStartOfDay = startOfDay(earlierDate_);\n\n  const laterTimestamp =\n    +laterStartOfDay - getTimezoneOffsetInMilliseconds(laterStartOfDay);\n  const earlierTimestamp =\n    +earlierStartOfDay - getTimezoneOffsetInMilliseconds(earlierStartOfDay);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((laterTimestamp - earlierTimestamp) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { getISOWeekYear } from \"./getISOWeekYear.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\n\n/**\n * The {@link startOfISOWeekYear} function options.\n */\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date, options) {\n  const year = getISOWeekYear(date, options);\n  const fourthOfJanuary = constructFrom(options?.in || date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n", "import { addDays } from \"./addDays.js\";\n\n/**\n * The {@link addWeeks} function options.\n */\n\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of weeks to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be added.\n * @param options - An object with options\n *\n * @returns The new date with the weeks added\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nexport function addWeeks(date, amount, options) {\n  return addDays(date, amount * 7, options);\n}\n\n// Fallback for modularized imports:\nexport default addWeeks;\n", "import { addMonths } from \"./addMonths.js\";\n\n/**\n * The {@link addYears} function options.\n */\n\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be added.\n * @param options - The options\n *\n * @returns The new date with the years added\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport function addYears(date, amount, options) {\n  return addMonths(date, amount * 12, options);\n}\n\n// Fallback for modularized imports:\nexport default addYears;\n", "/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n", "import { isDate } from \"./isDate.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertible into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  return !((!isDate(date) && typeof date !== \"number\") || isNaN(+toDate(date)));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfMonth} function options.\n */\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date. The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments.\n * Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed,\n * or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfYear} function options.\n */\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setFullYear(date_.getFullYear(), 0, 1);\n  date_.setHours(0, 0, 0, 0);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n", "const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n", "export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n", "import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n", "const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n", "/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n", "import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n", "export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n", "export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n", "import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n", "import { formatDistance } from \"./en-US/_lib/formatDistance.js\";\nimport { formatLong } from \"./en-US/_lib/formatLong.js\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.js\";\nimport { localize } from \"./en-US/_lib/localize.js\";\nimport { match } from \"./en-US/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n", "import { differenceInCalendarDays } from \"./differenceInCalendarDays.js\";\nimport { startOfYear } from \"./startOfYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDayOfYear} function options.\n */\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n", "import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeek} function options.\n */\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(options?.in || date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(options?.in || date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (+_date >= +startOfNextYear) {\n    return year + 1;\n  } else if (+_date >= +startOfThisYear) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { getWeekYear } from \"./getWeekYear.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(options?.in || date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n", "import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { startOfWeekYear } from \"./startOfWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\nexport function getWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n", "export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n", "import { addLeadingZeros } from \"../addLeadingZeros.js\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n", "import { getDayOfYear } from \"../../getDayOfYear.js\";\nimport { getISOWeek } from \"../../getISOWeek.js\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.js\";\nimport { getWeek } from \"../../getWeek.js\";\nimport { getWeekYear } from \"../../getWeekYear.js\";\n\nimport { addLeadingZeros } from \"../addLeadingZeros.js\";\nimport { lightFormatters } from \"./lightFormatters.js\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(+date / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    return addLeadingZeros(+date, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n", "const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n", "const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n", "import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { formatters } from \"./_lib/format/formatters.js\";\nimport { longFormatters } from \"./_lib/format/longFormatters.js\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.js\";\nimport { isValid } from \"./isValid.js\";\nimport { toDate } from \"./toDate.js\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > \u26A0\uFE0F Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date, options?.in);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n", "import { addDays } from \"./addDays.js\";\n\n/**\n * The {@link subDays} function options.\n */\n\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the days subtracted\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport function subDays(date, amount, options) {\n  return addDays(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subDays;\n", "import { addMonths } from \"./addMonths.js\";\n\n/**\n * The subMonths function options.\n */\n\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function subMonths(date, amount, options) {\n  return addMonths(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subMonths;\n", "import { addWeeks } from \"./addWeeks.js\";\n\n/**\n * The {@link subWeeks} function options.\n */\n\n/**\n * @name subWeeks\n * @category Week Helpers\n * @summary Subtract the specified number of weeks from the given date.\n *\n * @description\n * Subtract the specified number of weeks from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the weeks subtracted\n *\n * @example\n * // Subtract 4 weeks from 1 September 2014:\n * const result = subWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Aug 04 2014 00:00:00\n */\nexport function subWeeks(date, amount, options) {\n  return addWeeks(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subWeeks;\n", "import { addYears } from \"./addYears.js\";\n\n/**\n * The {@link subYears} function options.\n */\n\n/**\n * @name subYears\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the years subtracted\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * const result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\nexport function subYears(date, amount, options) {\n  return addYears(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subYears;\n", "/**\n * External dependencies\n */\nimport { subDays, subWeeks, subMonths, subYears } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { createInterpolateElement } from '@wordpress/element';\nimport { getDate } from '@wordpress/date';\nimport type { ReactElement } from 'react';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFilterOperator,\n\tNormalizedFilter,\n\tOperator,\n\tOption,\n} from '../types';\nimport {\n\tOPERATOR_AFTER,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_BEFORE,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_BETWEEN,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_ON,\n\tOPERATOR_OVER,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\n\nconst filterTextWrappers = {\n\tName: <span className=\"dataviews-filters__summary-filter-text-name\" />,\n\tValue: <span className=\"dataviews-filters__summary-filter-text-value\" />,\n};\n\n/**\n * Calculates a date offset from now.\n *\n * @param value Number of units to offset.\n * @param unit  Unit of time to offset (days, weeks, months, years).\n * @return      Date offset from now.\n */\nfunction getRelativeDate( value: number, unit: string ): Date {\n\tswitch ( unit ) {\n\t\tcase 'days':\n\t\t\treturn subDays( new Date(), value );\n\t\tcase 'weeks':\n\t\t\treturn subWeeks( new Date(), value );\n\t\tcase 'months':\n\t\t\treturn subMonths( new Date(), value );\n\t\tcase 'years':\n\t\t\treturn subYears( new Date(), value );\n\t\tdefault:\n\t\t\treturn new Date();\n\t}\n}\n\n// Shared operator definition for IS_NONE and IS_NOT_ALL (deprecated).\nconst isNoneOperatorDefinition = {\n\t/* translators: DataViews operator name */\n\tlabel: __( 'Is none of' ),\n\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\tcreateInterpolateElement(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1: Filter name (e.g. \"Author\"). 2: Filter value (e.g. \"Admin\"): \"Author is none of: Admin, Editor\". */\n\t\t\t\t__( '<Name>%1$s is none of: </Name><Value>%2$s</Value>' ),\n\t\t\t\tfilter.name,\n\t\t\t\tactiveElements.map( ( element ) => element.label ).join( ', ' )\n\t\t\t),\n\t\t\tfilterTextWrappers\n\t\t),\n\tfilter: ( ( item, field, filterValue ) => {\n\t\tif ( ! filterValue?.length ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst fieldValue = field.getValue( { item } );\n\n\t\tif ( Array.isArray( fieldValue ) ) {\n\t\t\treturn ! filterValue.some( ( fv: any ) =>\n\t\t\t\tfieldValue.includes( fv )\n\t\t\t);\n\t\t} else if ( typeof fieldValue === 'string' ) {\n\t\t\treturn ! filterValue.includes( fieldValue );\n\t\t}\n\n\t\treturn false;\n\t} ) as FilterOperator< any >,\n\tselection: 'multi' as const,\n};\n\nconst OPERATORS: {\n\tname: Operator;\n\tlabel: string;\n\tfilterText: (\n\t\tfilter: NormalizedFilter,\n\t\tactiveElements: Option[]\n\t) => ReactElement;\n\tfilter?: FilterOperator< any >;\n\tselection: 'single' | 'multi' | 'custom';\n}[] = [\n\t{\n\t\tname: OPERATOR_IS_ANY,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Includes' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Author\"). 2: Filter value (e.g. \"Admin\"): \"Author is any: Admin, Editor\". */\n\t\t\t\t\t__( '<Name>%1$s includes: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements\n\t\t\t\t\t\t.map( ( element ) => element.label )\n\t\t\t\t\t\t.join( ', ' )\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( ! filterValue?.length ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst fieldValue = field.getValue( { item } );\n\n\t\t\tif ( Array.isArray( fieldValue ) ) {\n\t\t\t\treturn filterValue.some( ( fv: any ) =>\n\t\t\t\t\tfieldValue.includes( fv )\n\t\t\t\t);\n\t\t\t} else if ( typeof fieldValue === 'string' ) {\n\t\t\t\treturn filterValue.includes( fieldValue );\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tselection: 'multi',\n\t},\n\t{\n\t\tname: OPERATOR_IS_NONE,\n\t\t...isNoneOperatorDefinition,\n\t},\n\t{\n\t\tname: OPERATOR_IS_ALL,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Includes all' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Author\"). 2: Filter value (e.g. \"Admin\"): \"Author includes all: Admin, Editor\". */\n\t\t\t\t\t__( '<Name>%1$s includes all: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements\n\t\t\t\t\t\t.map( ( element ) => element.label )\n\t\t\t\t\t\t.join( ', ' )\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( ! filterValue?.length ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn filterValue.every( ( value: any ) => {\n\t\t\t\treturn field.getValue( { item } )?.includes( value );\n\t\t\t} );\n\t\t},\n\t\tselection: 'multi',\n\t},\n\t{\n\t\tname: OPERATOR_IS_NOT_ALL,\n\t\t...isNoneOperatorDefinition,\n\t},\n\t{\n\t\tname: OPERATOR_BETWEEN,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Between (inc)' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Item count\"). 2: Filter value min. 3: Filter value max. e.g.: \"Item count between (inc): 10 and 180\". */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'<Name>%1$s between (inc): </Name><Value>%2$s and %3$s</Value>'\n\t\t\t\t\t),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label[ 0 ],\n\t\t\t\t\tactiveElements[ 0 ].label[ 1 ]\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif (\n\t\t\t\t! Array.isArray( filterValue ) ||\n\t\t\t\tfilterValue.length !== 2 ||\n\t\t\t\tfilterValue[ 0 ] === undefined ||\n\t\t\t\tfilterValue[ 1 ] === undefined\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst fieldValue = field.getValue( { item } );\n\n\t\t\tif (\n\t\t\t\ttypeof fieldValue === 'number' ||\n\t\t\t\tfieldValue instanceof Date ||\n\t\t\t\ttypeof fieldValue === 'string'\n\t\t\t) {\n\t\t\t\treturn (\n\t\t\t\t\tfieldValue >= filterValue[ 0 ] &&\n\t\t\t\t\tfieldValue <= filterValue[ 1 ]\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tselection: 'custom',\n\t},\n\t{\n\t\tname: OPERATOR_IN_THE_PAST,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'In the past' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Date\"). 2: Filter value (e.g. \"7 days\"): \"Date is in the past: 7 days\". */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'<Name>%1$s is in the past: </Name><Value>%2$s</Value>'\n\t\t\t\t\t),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\t`${ activeElements[ 0 ].value.value } ${ activeElements[ 0 ].value.unit }`\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif (\n\t\t\t\tfilterValue?.value === undefined ||\n\t\t\t\tfilterValue?.unit === undefined\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst targetDate = getRelativeDate(\n\t\t\t\tfilterValue.value,\n\t\t\t\tfilterValue.unit\n\t\t\t);\n\t\t\tconst fieldValue = getDate( field.getValue( { item } ) );\n\n\t\t\treturn fieldValue >= targetDate && fieldValue <= new Date();\n\t\t},\n\t\tselection: 'custom',\n\t},\n\t{\n\t\tname: OPERATOR_OVER,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Over' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Date\"). 2: Filter value (e.g. \"7 days\"): \"Date is over: 7 days\". */\n\t\t\t\t\t__( '<Name>%1$s is over: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\t`${ activeElements[ 0 ].value.value } ${ activeElements[ 0 ].value.unit }`\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif (\n\t\t\t\tfilterValue?.value === undefined ||\n\t\t\t\tfilterValue?.unit === undefined\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst targetDate = getRelativeDate(\n\t\t\t\tfilterValue.value,\n\t\t\t\tfilterValue.unit\n\t\t\t);\n\t\t\tconst fieldValue = getDate( field.getValue( { item } ) );\n\n\t\t\treturn fieldValue < targetDate;\n\t\t},\n\t\tselection: 'custom',\n\t},\n\t{\n\t\tname: OPERATOR_IS,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Is' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Author\"). 2: Filter value (e.g. \"Admin\"): \"Author is: Admin\". */\n\t\t\t\t\t__( '<Name>%1$s is: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\treturn (\n\t\t\t\tfilterValue === field.getValue( { item } ) ||\n\t\t\t\tfilterValue === undefined\n\t\t\t);\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_IS_NOT,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Is not' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Author\"). 2: Filter value (e.g. \"Admin\"): \"Author is not: Admin\". */\n\t\t\t\t\t__( '<Name>%1$s is not: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\treturn filterValue !== field.getValue( { item } );\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_LESS_THAN,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Less than' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Count\"). 2: Filter value (e.g. \"10\"): \"Count is less than: 10\". */\n\t\t\t\t\t__( '<Name>%1$s is less than: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst fieldValue = field.getValue( { item } );\n\n\t\t\treturn fieldValue < filterValue;\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_GREATER_THAN,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Greater than' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Count\"). 2: Filter value (e.g. \"10\"): \"Count is greater than: 10\". */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'<Name>%1$s is greater than: </Name><Value>%2$s</Value>'\n\t\t\t\t\t),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst fieldValue = field.getValue( { item } );\n\n\t\t\treturn fieldValue > filterValue;\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_LESS_THAN_OR_EQUAL,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Less than or equal' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Count\"). 2: Filter value (e.g. \"10\"): \"Count is less than or equal to: 10\". */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'<Name>%1$s is less than or equal to: </Name><Value>%2$s</Value>'\n\t\t\t\t\t),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst fieldValue = field.getValue( { item } );\n\n\t\t\treturn fieldValue <= filterValue;\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_GREATER_THAN_OR_EQUAL,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Greater than or equal' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Count\"). 2: Filter value (e.g. \"10\"): \"Count is greater than or equal to: 10\". */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'<Name>%1$s is greater than or equal to: </Name><Value>%2$s</Value>'\n\t\t\t\t\t),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst fieldValue = field.getValue( { item } );\n\n\t\t\treturn fieldValue >= filterValue;\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_BEFORE,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Before' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Date\"). 2: Filter value (e.g. \"2024-01-01\"): \"Date is before: 2024-01-01\". */\n\t\t\t\t\t__( '<Name>%1$s is before: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst filterDate = getDate( filterValue );\n\t\t\tconst fieldDate = getDate( field.getValue( { item } ) );\n\n\t\t\treturn fieldDate < filterDate;\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_AFTER,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'After' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Date\"). 2: Filter value (e.g. \"2024-01-01\"): \"Date is after: 2024-01-01\". */\n\t\t\t\t\t__( '<Name>%1$s is after: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst filterDate = getDate( filterValue );\n\t\t\tconst fieldDate = getDate( field.getValue( { item } ) );\n\n\t\t\treturn fieldDate > filterDate;\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_BEFORE_INC,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Before (inc)' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Date\"). 2: Filter value (e.g. \"2024-01-01\"): \"Date is on or before: 2024-01-01\". */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'<Name>%1$s is on or before: </Name><Value>%2$s</Value>'\n\t\t\t\t\t),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst filterDate = getDate( filterValue );\n\t\t\tconst fieldDate = getDate( field.getValue( { item } ) );\n\n\t\t\treturn fieldDate <= filterDate;\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_AFTER_INC,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'After (inc)' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Date\"). 2: Filter value (e.g. \"2024-01-01\"): \"Date is on or after: 2024-01-01\". */\n\t\t\t\t\t__(\n\t\t\t\t\t\t'<Name>%1$s is on or after: </Name><Value>%2$s</Value>'\n\t\t\t\t\t),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst filterDate = getDate( filterValue );\n\t\t\tconst fieldDate = getDate( field.getValue( { item } ) );\n\n\t\t\treturn fieldDate >= filterDate;\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_CONTAINS,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Contains' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Title\"). 2: Filter value (e.g. \"Hello\"): \"Title contains: Hello\". */\n\t\t\t\t\t__( '<Name>%1$s contains: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst fieldValue = field.getValue( { item } );\n\n\t\t\treturn (\n\t\t\t\ttypeof fieldValue === 'string' &&\n\t\t\t\tfilterValue &&\n\t\t\t\tfieldValue\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.includes( String( filterValue ).toLowerCase() )\n\t\t\t);\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_NOT_CONTAINS,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( \"Doesn't contain\" ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Title\"). 2: Filter value (e.g. \"Hello\"): \"Title doesn't contain: Hello\". */\n\t\t\t\t\t__(\n\t\t\t\t\t\t\"<Name>%1$s doesn't contain: </Name><Value>%2$s</Value>\"\n\t\t\t\t\t),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst fieldValue = field.getValue( { item } );\n\n\t\t\treturn (\n\t\t\t\ttypeof fieldValue === 'string' &&\n\t\t\t\tfilterValue &&\n\t\t\t\t! fieldValue\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.includes( String( filterValue ).toLowerCase() )\n\t\t\t);\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_STARTS_WITH,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Starts with' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Title\"). 2: Filter value (e.g. \"Hello\"): \"Title starts with: Hello\". */\n\t\t\t\t\t__( '<Name>%1$s starts with: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst fieldValue = field.getValue( { item } );\n\n\t\t\treturn (\n\t\t\t\ttypeof fieldValue === 'string' &&\n\t\t\t\tfilterValue &&\n\t\t\t\tfieldValue\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.startsWith( String( filterValue ).toLowerCase() )\n\t\t\t);\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_ON,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'On' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Date\"). 2: Filter value (e.g. \"2024-01-01\"): \"Date is: 2024-01-01\". */\n\t\t\t\t\t__( '<Name>%1$s is: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst filterDate = getDate( filterValue );\n\t\t\tconst fieldDate = getDate( field.getValue( { item } ) );\n\n\t\t\treturn filterDate.getTime() === fieldDate.getTime();\n\t\t},\n\t\tselection: 'single',\n\t},\n\t{\n\t\tname: OPERATOR_NOT_ON,\n\t\t/* translators: DataViews operator name */\n\t\tlabel: __( 'Not on' ),\n\t\tfilterText: ( filter: NormalizedFilter, activeElements: Option[] ) =>\n\t\t\tcreateInterpolateElement(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: 1: Filter name (e.g. \"Date\"). 2: Filter value (e.g. \"2024-01-01\"): \"Date is not: 2024-01-01\". */\n\t\t\t\t\t__( '<Name>%1$s is not: </Name><Value>%2$s</Value>' ),\n\t\t\t\t\tfilter.name,\n\t\t\t\t\tactiveElements[ 0 ].label\n\t\t\t\t),\n\t\t\t\tfilterTextWrappers\n\t\t\t),\n\t\tfilter( item, field, filterValue ) {\n\t\t\tif ( filterValue === undefined ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst filterDate = getDate( filterValue );\n\t\t\tconst fieldDate = getDate( field.getValue( { item } ) );\n\n\t\t\treturn filterDate.getTime() !== fieldDate.getTime();\n\t\t},\n\t\tselection: 'single',\n\t},\n];\n\nconst getOperatorByName = ( name: string | undefined ) =>\n\tOPERATORS.find( ( op ) => op.name === name );\n\nconst getAllOperatorNames = () => OPERATORS.map( ( op ) => op.name );\n\nconst isSingleSelectionOperator = ( name: string ) =>\n\tOPERATORS.filter( ( op ) => op.selection === 'single' ).some(\n\t\t( op ) => op.name === name\n\t);\n\nconst isRegisteredOperator = ( name: string ) =>\n\tOPERATORS.some( ( op ) => op.name === name );\n\nexport {\n\tgetOperatorByName,\n\tgetAllOperatorNames,\n\tisSingleSelectionOperator,\n\tisRegisteredOperator,\n};\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedCheckboxControl } = unlock( privateApis );\n\nexport default function Checkbox< Item >( {\n\tfield,\n\tonChange,\n\tdata,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { getValue, setValue, label, description, isValid } = field;\n\n\tconst onChangeControl = useCallback( () => {\n\t\tonChange(\n\t\t\tsetValue( { item: data, value: ! getValue( { item: data } ) } )\n\t\t);\n\t}, [ data, getValue, onChange, setValue ] );\n\n\treturn (\n\t\t<ValidatedCheckboxControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\thidden={ hideLabelFromVision }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tchecked={ getValue( { item: data } ) }\n\t\t\tonChange={ onChangeControl }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedRules, FieldValidity } from '../../../types';\n\nexport default function getCustomValidity< Item >(\n\tisValid: NormalizedRules< Item >,\n\tvalidity: FieldValidity | undefined\n) {\n\tlet customValidity;\n\tif ( isValid?.required && validity?.required ) {\n\t\t// If the consumer provides a message for required,\n\t\t// use it instead of the native built-in message.\n\t\tcustomValidity = validity?.required?.message\n\t\t\t? validity.required\n\t\t\t: undefined;\n\t} else if ( isValid?.pattern && validity?.pattern ) {\n\t\tcustomValidity = validity.pattern;\n\t} else if ( isValid?.min && validity?.min ) {\n\t\tcustomValidity = validity.min;\n\t} else if ( isValid?.max && validity?.max ) {\n\t\tcustomValidity = validity.max;\n\t} else if ( isValid?.minLength && validity?.minLength ) {\n\t\tcustomValidity = validity.minLength;\n\t} else if ( isValid?.maxLength && validity?.maxLength ) {\n\t\tcustomValidity = validity.maxLength;\n\t} else if ( isValid?.elements && validity?.elements ) {\n\t\tcustomValidity = validity.elements;\n\t} else if ( validity?.custom ) {\n\t\tcustomValidity = validity.custom;\n\t}\n\n\treturn customValidity;\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport useElements from '../../hooks/use-elements';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedComboboxControl } = unlock( privateApis );\n\nexport default function Combobox< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, description, placeholder, getValue, setValue, isValid } =\n\t\tfield;\n\tconst value = getValue( { item: data } ) ?? '';\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string | null ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue ?? '' } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedComboboxControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tvalue={ value }\n\t\t\thelp={ description }\n\t\t\tplaceholder={ placeholder }\n\t\t\toptions={ elements }\n\t\t\tonChange={ onChangeControl }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tallowReset\n\t\t\texpandOnFocus\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport { format } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { useCallback, useEffect, useRef, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { getSettings } from '@wordpress/date';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps, FormatDatetime } from '../../types';\nimport { OPERATOR_IN_THE_PAST, OPERATOR_OVER } from '../../constants';\nimport RelativeDateControl from './utils/relative-date-control';\nimport getCustomValidity from './utils/get-custom-validity';\nimport parseDateTime from '../../field-types/utils/parse-date-time';\nimport { unlock } from '../../lock-unlock';\n\nconst { DateCalendar, ValidatedInputControl } = unlock( componentsPrivateApis );\n\nconst formatDateTime = ( date?: Date | string ): string => {\n\tif ( ! date ) {\n\t\treturn '';\n\t}\n\tif ( typeof date === 'string' ) {\n\t\treturn date;\n\t}\n\t// Format as datetime-local input expects: YYYY-MM-DDTHH:mm\n\treturn format( date, \"yyyy-MM-dd'T'HH:mm\" );\n};\n\nfunction CalendarDateTimeControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, description, setValue, getValue, isValid } = field;\n\tconst fieldValue = getValue( { item: data } );\n\tconst value = typeof fieldValue === 'string' ? fieldValue : undefined;\n\n\tconst [ calendarMonth, setCalendarMonth ] = useState< Date >( () => {\n\t\tconst parsedDate = parseDateTime( value );\n\t\treturn parsedDate || new Date(); // Default to current month\n\t} );\n\n\tconst inputControlRef = useRef< HTMLInputElement >( null );\n\tconst validationTimeoutRef = useRef< ReturnType< typeof setTimeout > >();\n\tconst previousFocusRef = useRef< Element | null >( null );\n\n\tconst onChangeCallback = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\t// Cleanup timeout on unmount\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( validationTimeoutRef.current ) {\n\t\t\t\tclearTimeout( validationTimeoutRef.current );\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\tconst onSelectDate = useCallback(\n\t\t( newDate: Date | undefined | null ) => {\n\t\t\tlet dateTimeValue: string | undefined;\n\t\t\tif ( newDate ) {\n\t\t\t\t// Preserve time if it exists in current value, otherwise use current time\n\t\t\t\tlet finalDateTime = newDate;\n\n\t\t\t\tif ( value ) {\n\t\t\t\t\tconst currentDateTime = parseDateTime( value );\n\t\t\t\t\tif ( currentDateTime ) {\n\t\t\t\t\t\t// Preserve the time part\n\t\t\t\t\t\tfinalDateTime = new Date( newDate );\n\t\t\t\t\t\tfinalDateTime.setHours( currentDateTime.getHours() );\n\t\t\t\t\t\tfinalDateTime.setMinutes(\n\t\t\t\t\t\t\tcurrentDateTime.getMinutes()\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdateTimeValue = finalDateTime.toISOString();\n\t\t\t\tonChangeCallback( dateTimeValue );\n\n\t\t\t\t// Clear any existing timeout\n\t\t\t\tif ( validationTimeoutRef.current ) {\n\t\t\t\t\tclearTimeout( validationTimeoutRef.current );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonChangeCallback( undefined );\n\t\t\t}\n\t\t\t// Save the currently focused element\n\t\t\tpreviousFocusRef.current =\n\t\t\t\tinputControlRef.current &&\n\t\t\t\tinputControlRef.current.ownerDocument.activeElement;\n\n\t\t\t// Trigger validation display by simulating focus, blur, and changes.\n\t\t\t// Use a timeout to ensure it runs after the value update.\n\t\t\tvalidationTimeoutRef.current = setTimeout( () => {\n\t\t\t\tif ( inputControlRef.current ) {\n\t\t\t\t\tinputControlRef.current.focus();\n\t\t\t\t\tinputControlRef.current.blur();\n\t\t\t\t\tonChangeCallback( dateTimeValue );\n\n\t\t\t\t\t// Restore focus to the previously focused element\n\t\t\t\t\tif (\n\t\t\t\t\t\tpreviousFocusRef.current &&\n\t\t\t\t\t\tpreviousFocusRef.current instanceof HTMLElement\n\t\t\t\t\t) {\n\t\t\t\t\t\tpreviousFocusRef.current.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 0 );\n\t\t},\n\t\t[ onChangeCallback, value ]\n\t);\n\n\tconst handleManualDateTimeChange = useCallback(\n\t\t( newValue?: string ) => {\n\t\t\tif ( newValue ) {\n\t\t\t\t// Convert from datetime-local format to ISO string\n\t\t\t\tconst dateTime = new Date( newValue );\n\t\t\t\tonChangeCallback( dateTime.toISOString() );\n\n\t\t\t\t// Update calendar month to match\n\t\t\t\tconst parsedDate = parseDateTime( dateTime.toISOString() );\n\t\t\t\tif ( parsedDate ) {\n\t\t\t\t\tsetCalendarMonth( parsedDate );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonChangeCallback( undefined );\n\t\t\t}\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst { format: fieldFormat } = field;\n\tconst weekStartsOn =\n\t\t( fieldFormat as FormatDatetime ).weekStartsOn ??\n\t\tgetSettings().l10n.startOfWeek;\n\tconst {\n\t\ttimezone: { string: timezoneString },\n\t} = getSettings();\n\n\tconst displayLabel =\n\t\tisValid?.required && ! hideLabelFromVision\n\t\t\t? `${ label } (${ __( 'Required' ) })`\n\t\t\t: label;\n\n\treturn (\n\t\t<BaseControl\n\t\t\tid={ id }\n\t\t\tlabel={ displayLabel }\n\t\t\thelp={ description }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t>\n\t\t\t<Stack direction=\"column\" gap=\"md\">\n\t\t\t\t{ /* Calendar widget */ }\n\t\t\t\t<DateCalendar\n\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\tselected={\n\t\t\t\t\t\tvalue ? parseDateTime( value ) || undefined : undefined\n\t\t\t\t\t}\n\t\t\t\t\tonSelect={ onSelectDate }\n\t\t\t\t\tmonth={ calendarMonth }\n\t\t\t\t\tonMonthChange={ setCalendarMonth }\n\t\t\t\t\ttimeZone={ timezoneString || undefined }\n\t\t\t\t\tweekStartsOn={ weekStartsOn }\n\t\t\t\t/>\n\t\t\t\t{ /* Manual datetime input */ }\n\t\t\t\t<ValidatedInputControl\n\t\t\t\t\tref={ inputControlRef }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\trequired={ !! isValid?.required }\n\t\t\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\tlabel={ __( 'Date time' ) }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t? formatDateTime(\n\t\t\t\t\t\t\t\t\tparseDateTime( value ) || undefined\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tonChange={ handleManualDateTimeChange }\n\t\t\t\t/>\n\t\t\t</Stack>\n\t\t</BaseControl>\n\t);\n}\n\nexport default function DateTime< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tif ( operator === OPERATOR_IN_THE_PAST || operator === OPERATOR_OVER ) {\n\t\treturn (\n\t\t\t<RelativeDateControl\n\t\t\t\tclassName=\"dataviews-controls__datetime\"\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\toperator={ operator }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<CalendarDateTimeControl\n\t\t\tdata={ data }\n\t\t\tfield={ field }\n\t\t\tonChange={ onChange }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tvalidity={ validity }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tSelectControl,\n\t__experimentalNumberControl as NumberControl,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport { OPERATOR_IN_THE_PAST, OPERATOR_OVER } from '../../../constants';\nimport type { DataFormControlProps } from '../../../types';\n\ntype VALID_OPERATORS = 'inThePast' | 'over';\n\ninterface TimeUnitOption {\n\tvalue: string;\n\tlabel: string;\n}\n\nconst TIME_UNITS_OPTIONS: Record< VALID_OPERATORS, TimeUnitOption[] > = {\n\t[ OPERATOR_IN_THE_PAST ]: [\n\t\t{ value: 'days', label: __( 'Days' ) },\n\t\t{ value: 'weeks', label: __( 'Weeks' ) },\n\t\t{ value: 'months', label: __( 'Months' ) },\n\t\t{ value: 'years', label: __( 'Years' ) },\n\t],\n\t[ OPERATOR_OVER ]: [\n\t\t{ value: 'days', label: __( 'Days ago' ) },\n\t\t{ value: 'weeks', label: __( 'Weeks ago' ) },\n\t\t{ value: 'months', label: __( 'Months ago' ) },\n\t\t{ value: 'years', label: __( 'Years ago' ) },\n\t],\n};\n\nexport default function RelativeDateControl< Item >( {\n\tclassName,\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n}: DataFormControlProps< Item > & {\n\tclassName: string;\n} ) {\n\tconst options: TimeUnitOption[] =\n\t\tTIME_UNITS_OPTIONS[\n\t\t\toperator === OPERATOR_IN_THE_PAST ? 'inThePast' : 'over'\n\t\t];\n\n\tconst { id, label, getValue, setValue } = field;\n\tconst fieldValue = getValue( { item: data } );\n\tconst { value: relValue = '', unit = options[ 0 ].value } =\n\t\tfieldValue && typeof fieldValue === 'object' ? fieldValue : {};\n\n\tconst onChangeValue = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: { value: Number( newValue ), unit },\n\t\t\t\t} )\n\t\t\t),\n\t\t[ onChange, setValue, data, unit ]\n\t);\n\n\tconst onChangeUnit = useCallback(\n\t\t( newUnit: string | undefined ) =>\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: { value: relValue, unit: newUnit },\n\t\t\t\t} )\n\t\t\t),\n\t\t[ onChange, setValue, data, relValue ]\n\t);\n\n\treturn (\n\t\t<BaseControl\n\t\t\tid={ id }\n\t\t\tclassName={ clsx( className, 'dataviews-controls__relative-date' ) }\n\t\t\tlabel={ label }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t>\n\t\t\t<Stack direction=\"row\" gap=\"xs\">\n\t\t\t\t<NumberControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tclassName=\"dataviews-controls__relative-date-number\"\n\t\t\t\t\tspinControls=\"none\"\n\t\t\t\t\tmin={ 1 }\n\t\t\t\t\tstep={ 1 }\n\t\t\t\t\tvalue={ relValue }\n\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t/>\n\t\t\t\t<SelectControl\n\t\t\t\t\tclassName=\"dataviews-controls__relative-date-unit\"\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Unit' ) }\n\t\t\t\t\tvalue={ unit }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ onChangeUnit }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t/>\n\t\t\t</Stack>\n\t\t</BaseControl>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport { isValid as isValidDate } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport { getDate } from '@wordpress/date';\n\nexport default function parseDateTime( dateTimeString?: string ): Date | null {\n\tif ( ! dateTimeString ) {\n\t\treturn null;\n\t}\n\tconst parsed = getDate( dateTimeString );\n\treturn parsed && isValidDate( parsed ) ? parsed : null;\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport {\n\tformat,\n\tisValid as isValidDate,\n\tsubMonths,\n\tsubDays,\n\tsubYears,\n\tstartOfMonth,\n\tstartOfYear,\n} from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tButton,\n\tIcon,\n\tprivateApis as componentsPrivateApis,\n\t__experimentalInputControl as InputControl,\n} from '@wordpress/components';\nimport {\n\tuseCallback,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { getDate, getSettings } from '@wordpress/date';\nimport { error as errorIcon } from '@wordpress/icons';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport RelativeDateControl from './utils/relative-date-control';\nimport {\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n\tOPERATOR_BETWEEN,\n} from '../../constants';\nimport { unlock } from '../../lock-unlock';\nimport type {\n\tDataFormControlProps,\n\tFieldValidity,\n\tFormatDate,\n\tNormalizedField,\n} from '../../types';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { DateCalendar, DateRangeCalendar } = unlock( componentsPrivateApis );\n\ntype DateRange = [ string, string ] | undefined;\n\nconst DATE_PRESETS: {\n\tid: string;\n\tlabel: string;\n\tgetValue: () => Date;\n}[] = [\n\t{\n\t\tid: 'today',\n\t\tlabel: __( 'Today' ),\n\t\tgetValue: () => getDate( null ),\n\t},\n\t{\n\t\tid: 'yesterday',\n\t\tlabel: __( 'Yesterday' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn subDays( today, 1 );\n\t\t},\n\t},\n\t{\n\t\tid: 'past-week',\n\t\tlabel: __( 'Past week' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn subDays( today, 7 );\n\t\t},\n\t},\n\t{\n\t\tid: 'past-month',\n\t\tlabel: __( 'Past month' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn subMonths( today, 1 );\n\t\t},\n\t},\n];\n\nconst DATE_RANGE_PRESETS = [\n\t{\n\t\tid: 'last-7-days',\n\t\tlabel: __( 'Last 7 days' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ subDays( today, 7 ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'last-30-days',\n\t\tlabel: __( 'Last 30 days' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ subDays( today, 30 ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'month-to-date',\n\t\tlabel: __( 'Month to date' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ startOfMonth( today ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'last-year',\n\t\tlabel: __( 'Last year' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ subYears( today, 1 ), today ];\n\t\t},\n\t},\n\t{\n\t\tid: 'year-to-date',\n\t\tlabel: __( 'Year to date' ),\n\t\tgetValue: () => {\n\t\t\tconst today = getDate( null );\n\t\t\treturn [ startOfYear( today ), today ];\n\t\t},\n\t},\n];\n\nconst parseDate = ( dateString?: string ): Date | null => {\n\tif ( ! dateString ) {\n\t\treturn null;\n\t}\n\tconst parsed = getDate( dateString );\n\treturn parsed && isValidDate( parsed ) ? parsed : null;\n};\n\nconst formatDate = ( date?: Date | string ): string => {\n\tif ( ! date ) {\n\t\treturn '';\n\t}\n\treturn typeof date === 'string' ? date : format( date, 'yyyy-MM-dd' );\n};\n\nfunction ValidatedDateControl< Item >( {\n\tfield,\n\tvalidity,\n\tinputRefs,\n\tisTouched,\n\tsetIsTouched,\n\tchildren,\n}: {\n\tfield: NormalizedField< Item >;\n\tvalidity?: FieldValidity;\n\tinputRefs:\n\t\t| React.RefObject< HTMLInputElement >\n\t\t| React.RefObject< HTMLInputElement >[];\n\tisTouched: boolean;\n\tsetIsTouched: ( touched: boolean ) => void;\n\tchildren: React.ReactNode;\n} ) {\n\tconst { isValid } = field;\n\tconst [ customValidity, setCustomValidity ] = useState<\n\t\t| { type: 'valid' | 'validating' | 'invalid'; message?: string }\n\t\t| undefined\n\t>( undefined );\n\n\tconst validateRefs = useCallback( () => {\n\t\t// Check HTML5 validity on all refs\n\t\tconst refs = Array.isArray( inputRefs ) ? inputRefs : [ inputRefs ];\n\t\tfor ( const ref of refs ) {\n\t\t\tconst input = ref.current;\n\t\t\tif ( input && ! input.validity.valid ) {\n\t\t\t\tsetCustomValidity( {\n\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\tmessage: input.validationMessage,\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// No errors\n\t\tsetCustomValidity( undefined );\n\t}, [ inputRefs ] );\n\n\t// Sync React-level validation to native inputs.\n\tuseEffect( () => {\n\t\tconst refs = Array.isArray( inputRefs ) ? inputRefs : [ inputRefs ];\n\t\tconst result = validity\n\t\t\t? getCustomValidity( isValid, validity )\n\t\t\t: undefined;\n\t\tfor ( const ref of refs ) {\n\t\t\tconst input = ref.current;\n\t\t\tif ( input ) {\n\t\t\t\tinput.setCustomValidity(\n\t\t\t\t\tresult?.type === 'invalid' && result.message\n\t\t\t\t\t\t? result.message\n\t\t\t\t\t\t: ''\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}, [ inputRefs, isValid, validity ] );\n\n\t// Listen for 'invalid' events (e.g., from reportValidity() on card re-expand).\n\tuseEffect( () => {\n\t\tconst refs = Array.isArray( inputRefs ) ? inputRefs : [ inputRefs ];\n\t\tconst handleInvalid = ( event: Event ) => {\n\t\t\tevent.preventDefault();\n\t\t\tsetIsTouched( true );\n\t\t};\n\t\tfor ( const ref of refs ) {\n\t\t\tref.current?.addEventListener( 'invalid', handleInvalid );\n\t\t}\n\t\treturn () => {\n\t\t\tfor ( const ref of refs ) {\n\t\t\t\tref.current?.removeEventListener( 'invalid', handleInvalid );\n\t\t\t}\n\t\t};\n\t}, [ inputRefs, setIsTouched ] );\n\n\tuseEffect( () => {\n\t\tif ( ! isTouched ) {\n\t\t\treturn;\n\t\t}\n\t\tconst result = validity\n\t\t\t? getCustomValidity( isValid, validity )\n\t\t\t: undefined;\n\t\tif ( result ) {\n\t\t\tsetCustomValidity( result );\n\t\t} else {\n\t\t\tvalidateRefs();\n\t\t}\n\t}, [ isTouched, isValid, validity, validateRefs ] );\n\n\tconst onBlur = ( event: React.FocusEvent< HTMLDivElement > ) => {\n\t\tif ( isTouched ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Only consider \"blurred from the component\" if focus has fully left the wrapping div.\n\t\t// This prevents unnecessary blurs from components with multiple focusable elements.\n\t\tif (\n\t\t\t! event.relatedTarget ||\n\t\t\t! event.currentTarget.contains( event.relatedTarget )\n\t\t) {\n\t\t\tsetIsTouched( true );\n\t\t}\n\t};\n\n\treturn (\n\t\t<div onBlur={ onBlur }>\n\t\t\t{ children }\n\t\t\t<div aria-live=\"polite\">\n\t\t\t\t{ customValidity && (\n\t\t\t\t\t<p\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t'components-validated-control__indicator',\n\t\t\t\t\t\t\tcustomValidity.type === 'invalid'\n\t\t\t\t\t\t\t\t? 'is-invalid'\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName=\"components-validated-control__indicator-icon\"\n\t\t\t\t\t\t\ticon={ errorIcon }\n\t\t\t\t\t\t\tsize={ 16 }\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ customValidity.message }\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction CalendarDateControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst {\n\t\tid,\n\t\tlabel,\n\t\tsetValue,\n\t\tgetValue,\n\t\tisValid,\n\t\tformat: fieldFormat,\n\t} = field;\n\tconst [ selectedPresetId, setSelectedPresetId ] = useState< string | null >(\n\t\tnull\n\t);\n\n\tconst weekStartsOn =\n\t\t( fieldFormat as FormatDate ).weekStartsOn ??\n\t\tgetSettings().l10n.startOfWeek;\n\n\tconst fieldValue = getValue( { item: data } );\n\tconst value = typeof fieldValue === 'string' ? fieldValue : undefined;\n\tconst [ calendarMonth, setCalendarMonth ] = useState< Date >( () => {\n\t\tconst parsedDate = parseDate( value );\n\t\treturn parsedDate || new Date(); // Default to current month\n\t} );\n\n\tconst [ isTouched, setIsTouched ] = useState( false );\n\tconst validityTargetRef = useRef< HTMLInputElement >( null );\n\n\tconst onChangeCallback = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst onSelectDate = useCallback(\n\t\t( newDate: Date | undefined | null ) => {\n\t\t\tconst dateValue = newDate\n\t\t\t\t? format( newDate, 'yyyy-MM-dd' )\n\t\t\t\t: undefined;\n\t\t\tonChangeCallback( dateValue );\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst handlePresetClick = useCallback(\n\t\t( preset: ( typeof DATE_PRESETS )[ 0 ] ) => {\n\t\t\tconst presetDate = preset.getValue();\n\t\t\tconst dateValue = formatDate( presetDate );\n\n\t\t\tsetCalendarMonth( presetDate );\n\t\t\tonChangeCallback( dateValue );\n\t\t\tsetSelectedPresetId( preset.id );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst handleManualDateChange = useCallback(\n\t\t( newValue?: string ) => {\n\t\t\tonChangeCallback( newValue );\n\t\t\tif ( newValue ) {\n\t\t\t\tconst parsedDate = parseDate( newValue );\n\t\t\t\tif ( parsedDate ) {\n\t\t\t\t\tsetCalendarMonth( parsedDate );\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst {\n\t\ttimezone: { string: timezoneString },\n\t} = getSettings();\n\n\tconst displayLabel = isValid?.required\n\t\t? `${ label } (${ __( 'Required' ) })`\n\t\t: label;\n\n\treturn (\n\t\t<ValidatedDateControl\n\t\t\tfield={ field }\n\t\t\tvalidity={ validity }\n\t\t\tinputRefs={ validityTargetRef }\n\t\t\tisTouched={ isTouched }\n\t\t\tsetIsTouched={ setIsTouched }\n\t\t>\n\t\t\t<BaseControl\n\t\t\t\tid={ id }\n\t\t\t\tclassName=\"dataviews-controls__date\"\n\t\t\t\tlabel={ displayLabel }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t>\n\t\t\t\t<Stack direction=\"column\" gap=\"md\">\n\t\t\t\t\t{ /* Preset buttons */ }\n\t\t\t\t\t<Stack\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tgap=\"xs\"\n\t\t\t\t\t\twrap=\"wrap\"\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ DATE_PRESETS.map( ( preset ) => {\n\t\t\t\t\t\t\tconst isSelected = selectedPresetId === preset.id;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\t\t\tkey={ preset.id }\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tisPressed={ isSelected }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\thandlePresetClick( preset )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ preset.label }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tisPressed={ ! selectedPresetId }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tdisabled={ !! selectedPresetId }\n\t\t\t\t\t\t\taccessibleWhenDisabled={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Custom' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Stack>\n\n\t\t\t\t\t{ /* Manual date input */ }\n\t\t\t\t\t<InputControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tref={ validityTargetRef }\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tlabel={ __( 'Date' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ handleManualDateChange }\n\t\t\t\t\t\trequired={ !! field.isValid?.required }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ /* Calendar widget */ }\n\t\t\t\t\t<DateCalendar\n\t\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\tvalue ? parseDate( value ) || undefined : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={ onSelectDate }\n\t\t\t\t\t\tmonth={ calendarMonth }\n\t\t\t\t\t\tonMonthChange={ setCalendarMonth }\n\t\t\t\t\t\ttimeZone={ timezoneString || undefined }\n\t\t\t\t\t\tweekStartsOn={ weekStartsOn }\n\t\t\t\t\t/>\n\t\t\t\t</Stack>\n\t\t\t</BaseControl>\n\t\t</ValidatedDateControl>\n\t);\n}\n\nfunction CalendarDateRangeControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, getValue, setValue, format: fieldFormat } = field;\n\tlet value: DateRange;\n\tconst fieldValue = getValue( { item: data } );\n\tif (\n\t\tArray.isArray( fieldValue ) &&\n\t\tfieldValue.length === 2 &&\n\t\tfieldValue.every( ( date ) => typeof date === 'string' )\n\t) {\n\t\tvalue = fieldValue as DateRange;\n\t}\n\n\tconst weekStartsOn =\n\t\t( fieldFormat as FormatDate ).weekStartsOn ??\n\t\tgetSettings().l10n.startOfWeek;\n\n\tconst onChangeCallback = useCallback(\n\t\t( newValue: DateRange ) => {\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst [ selectedPresetId, setSelectedPresetId ] = useState< string | null >(\n\t\tnull\n\t);\n\n\tconst selectedRange = useMemo( () => {\n\t\tif ( ! value ) {\n\t\t\treturn { from: undefined, to: undefined };\n\t\t}\n\n\t\tconst [ from, to ] = value;\n\t\treturn {\n\t\t\tfrom: parseDate( from ) || undefined,\n\t\t\tto: parseDate( to ) || undefined,\n\t\t};\n\t}, [ value ] );\n\n\tconst [ calendarMonth, setCalendarMonth ] = useState< Date >( () => {\n\t\treturn selectedRange.from || new Date();\n\t} );\n\n\tconst [ isTouched, setIsTouched ] = useState( false );\n\tconst fromInputRef = useRef< HTMLInputElement >( null );\n\tconst toInputRef = useRef< HTMLInputElement >( null );\n\n\tconst updateDateRange = useCallback(\n\t\t( fromDate?: Date | string, toDate?: Date | string ) => {\n\t\t\tif ( fromDate && toDate ) {\n\t\t\t\tonChangeCallback( [\n\t\t\t\t\tformatDate( fromDate ),\n\t\t\t\t\tformatDate( toDate ),\n\t\t\t\t] );\n\t\t\t} else if ( ! fromDate && ! toDate ) {\n\t\t\t\tonChangeCallback( undefined );\n\t\t\t}\n\t\t\t// Do nothing if only one date is set - wait for both\n\t\t},\n\t\t[ onChangeCallback ]\n\t);\n\n\tconst onSelectCalendarRange = useCallback(\n\t\t(\n\t\t\tnewRange:\n\t\t\t\t| { from: Date | undefined; to?: Date | undefined }\n\t\t\t\t| undefined\n\t\t) => {\n\t\t\tupdateDateRange( newRange?.from, newRange?.to );\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ updateDateRange ]\n\t);\n\n\tconst handlePresetClick = useCallback(\n\t\t( preset: ( typeof DATE_RANGE_PRESETS )[ 0 ] ) => {\n\t\t\tconst [ startDate, endDate ] = preset.getValue();\n\t\t\tsetCalendarMonth( startDate );\n\t\t\tupdateDateRange( startDate, endDate );\n\t\t\tsetSelectedPresetId( preset.id );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ updateDateRange ]\n\t);\n\n\tconst handleManualDateChange = useCallback(\n\t\t( fromOrTo: 'from' | 'to', newValue?: string ) => {\n\t\t\tconst [ currentFrom, currentTo ] = value || [\n\t\t\t\tundefined,\n\t\t\t\tundefined,\n\t\t\t];\n\t\t\tconst updatedFrom = fromOrTo === 'from' ? newValue : currentFrom;\n\t\t\tconst updatedTo = fromOrTo === 'to' ? newValue : currentTo;\n\n\t\t\tupdateDateRange( updatedFrom, updatedTo );\n\n\t\t\tif ( newValue ) {\n\t\t\t\tconst parsedDate = parseDate( newValue );\n\t\t\t\tif ( parsedDate ) {\n\t\t\t\t\tsetCalendarMonth( parsedDate );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetSelectedPresetId( null );\n\t\t\tsetIsTouched( true );\n\t\t},\n\t\t[ value, updateDateRange ]\n\t);\n\n\tconst { timezone } = getSettings();\n\n\tconst displayLabel = field.isValid?.required\n\t\t? `${ label } (${ __( 'Required' ) })`\n\t\t: label;\n\n\treturn (\n\t\t<ValidatedDateControl\n\t\t\tfield={ field }\n\t\t\tvalidity={ validity }\n\t\t\tinputRefs={ [ fromInputRef, toInputRef ] }\n\t\t\tisTouched={ isTouched }\n\t\t\tsetIsTouched={ setIsTouched }\n\t\t>\n\t\t\t<BaseControl\n\t\t\t\tid={ id }\n\t\t\t\tclassName=\"dataviews-controls__date\"\n\t\t\t\tlabel={ displayLabel }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t>\n\t\t\t\t<Stack direction=\"column\" gap=\"md\">\n\t\t\t\t\t{ /* Preset buttons */ }\n\t\t\t\t\t<Stack\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tgap=\"xs\"\n\t\t\t\t\t\twrap=\"wrap\"\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ DATE_RANGE_PRESETS.map( ( preset ) => {\n\t\t\t\t\t\t\tconst isSelected = selectedPresetId === preset.id;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\t\t\tkey={ preset.id }\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tisPressed={ isSelected }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\thandlePresetClick( preset )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ preset.label }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"dataviews-controls__date-preset\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tisPressed={ ! selectedPresetId }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\taccessibleWhenDisabled={ false }\n\t\t\t\t\t\t\tdisabled={ !! selectedPresetId }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Custom' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Stack>\n\n\t\t\t\t\t{ /* Manual date range inputs */ }\n\t\t\t\t\t<Stack\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tgap=\"xs\"\n\t\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\t\tclassName=\"dataviews-controls__date-range-inputs\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tref={ fromInputRef }\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tlabel={ __( 'From' ) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalue={ value?.[ 0 ] }\n\t\t\t\t\t\t\tonChange={ ( newValue ) =>\n\t\t\t\t\t\t\t\thandleManualDateChange( 'from', newValue )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trequired={ !! field.isValid?.required }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tref={ toInputRef }\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tlabel={ __( 'To' ) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalue={ value?.[ 1 ] }\n\t\t\t\t\t\t\tonChange={ ( newValue ) =>\n\t\t\t\t\t\t\t\thandleManualDateChange( 'to', newValue )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trequired={ !! field.isValid?.required }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Stack>\n\n\t\t\t\t\t<DateRangeCalendar\n\t\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\t\tselected={ selectedRange }\n\t\t\t\t\t\tonSelect={ onSelectCalendarRange }\n\t\t\t\t\t\tmonth={ calendarMonth }\n\t\t\t\t\t\tonMonthChange={ setCalendarMonth }\n\t\t\t\t\t\ttimeZone={ timezone.string || undefined }\n\t\t\t\t\t\tweekStartsOn={ weekStartsOn }\n\t\t\t\t\t/>\n\t\t\t\t</Stack>\n\t\t\t</BaseControl>\n\t\t</ValidatedDateControl>\n\t);\n}\n\nexport default function DateControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tif ( operator === OPERATOR_IN_THE_PAST || operator === OPERATOR_OVER ) {\n\t\treturn (\n\t\t\t<RelativeDateControl\n\t\t\t\tclassName=\"dataviews-controls__date\"\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\toperator={ operator }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( operator === OPERATOR_BETWEEN ) {\n\t\treturn (\n\t\t\t<CalendarDateRangeControl\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tvalidity={ validity }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<CalendarDateControl\n\t\t\tdata={ data }\n\t\t\tfield={ field }\n\t\t\tonChange={ onChange }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tvalidity={ validity }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { envelope } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Email< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: 'email',\n\t\t\t\tprefix: (\n\t\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t\t<Icon icon={ envelope } />\n\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../../types';\nimport { unlock } from '../../../lock-unlock';\nimport getCustomValidity from './get-custom-validity';\n\nconst { ValidatedInputControl } = unlock( privateApis );\n\nexport type DataFormValidatedTextControlProps< Item > =\n\tDataFormControlProps< Item > & {\n\t\t/**\n\t\t * The input type of the control.\n\t\t */\n\t\ttype?: 'text' | 'email' | 'tel' | 'url' | 'password';\n\t\t/**\n\t\t * Optional prefix element to display before the input.\n\t\t */\n\t\tprefix?: React.ReactElement;\n\t\t/**\n\t\t * Optional suffix element to display after the input.\n\t\t */\n\t\tsuffix?: React.ReactElement;\n\t};\n\nexport default function ValidatedText< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\ttype,\n\tprefix,\n\tsuffix,\n\tvalidity,\n}: DataFormValidatedTextControlProps< Item > ) {\n\tconst { label, placeholder, description, getValue, setValue, isValid } =\n\t\tfield;\n\tconst value = getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t} )\n\t\t\t),\n\t\t[ data, setValue, onChange ]\n\t);\n\n\treturn (\n\t\t<ValidatedInputControl\n\t\t\trequired={ !! isValid.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value ?? '' }\n\t\t\thelp={ description }\n\t\t\tonChange={ onChangeControl }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\ttype={ type }\n\t\t\tprefix={ prefix }\n\t\t\tsuffix={ suffix }\n\t\t\tpattern={ isValid.pattern ? isValid.pattern.constraint : undefined }\n\t\t\tminLength={\n\t\t\t\tisValid.minLength ? isValid.minLength.constraint : undefined\n\t\t\t}\n\t\t\tmaxLength={\n\t\t\t\tisValid.maxLength ? isValid.maxLength.constraint : undefined\n\t\t\t}\n\t\t\t__next40pxDefaultSize\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { mobile } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Telephone< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: 'tel',\n\t\t\t\tprefix: (\n\t\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t\t<Icon icon={ mobile } />\n\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { link } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Url< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: 'url',\n\t\t\t\tprefix: (\n\t\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t\t<Icon icon={ link } />\n\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tFlex,\n\tBaseControl,\n\t__experimentalNumberControl as NumberControl,\n\tprivateApis,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { OPERATOR_BETWEEN } from '../../../constants';\nimport type { DataFormControlProps, FormatNumber } from '../../../types';\nimport { unlock } from '../../../lock-unlock';\nimport getCustomValidity from './get-custom-validity';\n\nconst { ValidatedNumberControl } = unlock( privateApis );\n\ntype NumberBetween = [ number | string, number | string ];\n\nfunction toNumberOrEmpty( value?: string ) {\n\tif ( value === '' || value === undefined ) {\n\t\treturn '';\n\t}\n\tconst number = Number( value );\n\treturn Number.isFinite( number ) ? number : '';\n}\n\nfunction BetweenControls( {\n\tvalue,\n\tonChange,\n\thideLabelFromVision,\n\tstep,\n}: {\n\tvalue: NumberBetween;\n\tonChange: ( [ min, max ]: NumberBetween ) => void;\n\thideLabelFromVision?: boolean;\n\tstep: number;\n} ) {\n\tconst [ min = '', max = '' ] = value;\n\n\tconst onChangeMin = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( [ toNumberOrEmpty( newValue ), max ] ),\n\t\t[ onChange, max ]\n\t);\n\n\tconst onChangeMax = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( [ min, toNumberOrEmpty( newValue ) ] ),\n\t\t[ onChange, min ]\n\t);\n\n\treturn (\n\t\t<BaseControl\n\t\t\thelp={ __( 'The max. value must be greater than the min. value.' ) }\n\t\t>\n\t\t\t<Flex direction=\"row\" gap={ 4 }>\n\t\t\t\t<NumberControl\n\t\t\t\t\tlabel={ __( 'Min.' ) }\n\t\t\t\t\tvalue={ min }\n\t\t\t\t\tmax={ max ? Number( max ) - step : undefined }\n\t\t\t\t\tonChange={ onChangeMin }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\t\tstep={ step }\n\t\t\t\t/>\n\t\t\t\t<NumberControl\n\t\t\t\t\tlabel={ __( 'Max.' ) }\n\t\t\t\t\tvalue={ max }\n\t\t\t\t\tmin={ min ? Number( min ) + step : undefined }\n\t\t\t\t\tonChange={ onChangeMax }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\t\tstep={ step }\n\t\t\t\t/>\n\t\t\t</Flex>\n\t\t</BaseControl>\n\t);\n}\n\nexport default function ValidatedNumber< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\toperator,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst decimals = ( field.format as FormatNumber )?.decimals ?? 0;\n\tconst step = Math.pow( 10, Math.abs( decimals ) * -1 );\n\tconst { label, description, getValue, setValue, isValid } = field;\n\tconst value = getValue( { item: data } ) ?? '';\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string | undefined ) => {\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\t// Do not convert an empty string or undefined to a number,\n\t\t\t\t\t// otherwise there's a mismatch between the UI control (empty)\n\t\t\t\t\t// and the data relied by onChange (0).\n\t\t\t\t\tvalue: [ '', undefined ].includes( newValue )\n\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t: Number( newValue ),\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst onChangeBetweenControls = useCallback(\n\t\t( newValue: NumberBetween ) => {\n\t\t\tonChange(\n\t\t\t\tsetValue( {\n\t\t\t\t\titem: data,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tif ( operator === OPERATOR_BETWEEN ) {\n\t\tlet valueBetween: NumberBetween = [ '', '' ];\n\t\tif (\n\t\t\tArray.isArray( value ) &&\n\t\t\tvalue.length === 2 &&\n\t\t\tvalue.every(\n\t\t\t\t( element ) => typeof element === 'number' || element === ''\n\t\t\t)\n\t\t) {\n\t\t\tvalueBetween = value as NumberBetween;\n\t\t}\n\t\treturn (\n\t\t\t<BetweenControls\n\t\t\t\tvalue={ valueBetween }\n\t\t\t\tonChange={ onChangeBetweenControls }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tstep={ step }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<ValidatedNumberControl\n\t\t\trequired={ !! isValid.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tvalue={ value }\n\t\t\tonChange={ onChangeControl }\n\t\t\t__next40pxDefaultSize\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tstep={ step }\n\t\t\tmin={ isValid.min ? isValid.min.constraint : undefined }\n\t\t\tmax={ isValid.max ? isValid.max.constraint : undefined }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport ValidatedNumber from './utils/validated-number';\n\nexport default function Integer< Item >( props: DataFormControlProps< Item > ) {\n\treturn <ValidatedNumber { ...props } />;\n}\n", "/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport ValidatedNumber from './utils/validated-number';\n\nexport default function Number< Item >( props: DataFormControlProps< Item > ) {\n\treturn <ValidatedNumber { ...props } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\nimport useElements from '../../hooks/use-elements';\n\nconst { ValidatedRadioControl } = unlock( privateApis );\n\nexport default function Radio< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, description, getValue, setValue, isValid } = field;\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\tconst value = getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedRadioControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tonChange={ onChangeControl }\n\t\t\toptions={ elements }\n\t\t\tselected={ value }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport useElements from '../../hooks/use-elements';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedSelectControl } = unlock( privateApis );\n\nexport default function Select< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { type, label, description, getValue, setValue, isValid } = field;\n\n\tconst isMultiple = type === 'array';\n\tconst value = getValue( { item: data } ) ?? ( isMultiple ? [] : '' );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: any ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedSelectControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tvalue={ value }\n\t\t\thelp={ description }\n\t\t\toptions={ elements }\n\t\t\tonChange={ onChangeControl }\n\t\t\t__next40pxDefaultSize\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tmultiple={ isMultiple }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport ValidatedText from './utils/validated-input';\n\nexport default function Text< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tconfig,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { prefix, suffix } = config || {};\n\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\tprefix: prefix ? createElement( prefix ) : undefined,\n\t\t\t\tsuffix: suffix ? createElement( suffix ) : undefined,\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedToggleControl } = unlock( privateApis );\n\nexport default function Toggle< Item >( {\n\tfield,\n\tonChange,\n\tdata,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, description, getValue, setValue, isValid } = field;\n\n\tconst onChangeControl = useCallback( () => {\n\t\tonChange(\n\t\t\tsetValue( { item: data, value: ! getValue( { item: data } ) } )\n\t\t);\n\t}, [ onChange, setValue, data, getValue ] );\n\n\treturn (\n\t\t<ValidatedToggleControl\n\t\t\trequired={ !! isValid.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\thidden={ hideLabelFromVision }\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tchecked={ getValue( { item: data } ) }\n\t\t\tonChange={ onChangeControl }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedTextareaControl } = unlock( privateApis );\n\nexport default function Textarea< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tconfig,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { rows = 4 } = config || {};\n\tconst { label, placeholder, description, setValue, isValid } = field;\n\tconst value = field.getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\treturn (\n\t\t<ValidatedTextareaControl\n\t\t\trequired={ !! isValid.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value ?? '' }\n\t\t\thelp={ description }\n\t\t\tonChange={ onChangeControl }\n\t\t\trows={ rows }\n\t\t\tminLength={\n\t\t\t\tisValid.minLength ? isValid.minLength.constraint : undefined\n\t\t\t}\n\t\t\tmaxLength={\n\t\t\t\tisValid.maxLength ? isValid.maxLength.constraint : undefined\n\t\t\t}\n\t\t\t__next40pxDefaultSize\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tprivateApis,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\tSpinner,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\nimport useElements from '../../hooks/use-elements';\n\nconst { ValidatedToggleGroupControl } = unlock( privateApis );\n\nexport default function ToggleGroup< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { getValue, setValue, isValid } = field;\n\tconst value = getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string | number | undefined ) =>\n\t\t\tonChange( setValue( { item: data, value: newValue } ) ),\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\tif ( elements.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst selectedOption = elements.find( ( el ) => el.value === value );\n\treturn (\n\t\t<ValidatedToggleGroupControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\t__next40pxDefaultSize\n\t\t\tisBlock\n\t\t\tlabel={ field.label }\n\t\t\thelp={ selectedOption?.description || field.description }\n\t\t\tonChange={ onChangeControl }\n\t\t\tvalue={ value }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t>\n\t\t\t{ elements.map( ( el ) => (\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tkey={ el.value }\n\t\t\t\t\tlabel={ el.label }\n\t\t\t\t\tvalue={ el.value }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</ValidatedToggleGroupControl>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis, Spinner } from '@wordpress/components';\nimport { useCallback, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\nimport useElements from '../../hooks/use-elements';\n\nconst { ValidatedFormTokenField } = unlock( privateApis );\n\nexport default function ArrayControl< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, placeholder, getValue, setValue, isValid } = field;\n\tconst value = getValue( { item: data } );\n\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\t// Convert stored values to element objects for the token field\n\tconst arrayValueAsElements = useMemo(\n\t\t() =>\n\t\t\tArray.isArray( value )\n\t\t\t\t? value.map( ( token ) => {\n\t\t\t\t\t\tconst element = elements?.find(\n\t\t\t\t\t\t\t( suggestion ) => suggestion.value === token\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn element || { value: token, label: token };\n\t\t\t\t  } )\n\t\t\t\t: [],\n\t\t[ value, elements ]\n\t);\n\n\tconst onChangeControl = useCallback(\n\t\t( tokens: ( string | { value: string; label?: string } )[] ) => {\n\t\t\tconst valueTokens = tokens.map( ( token ) => {\n\t\t\t\tif ( typeof token === 'object' && 'value' in token ) {\n\t\t\t\t\treturn token.value;\n\t\t\t\t}\n\t\t\t\t// If it's a string, it's either a new suggestion value or user input\n\t\t\t\treturn token;\n\t\t\t} );\n\n\t\t\tonChange( setValue( { item: data, value: valueTokens } ) );\n\t\t},\n\t\t[ onChange, setValue, data ]\n\t);\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<ValidatedFormTokenField\n\t\t\trequired={ !! isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ hideLabelFromVision ? undefined : label }\n\t\t\tvalue={ arrayValueAsElements }\n\t\t\tonChange={ onChangeControl }\n\t\t\tplaceholder={ placeholder }\n\t\t\tsuggestions={ elements?.map( ( element ) => element.value ) }\n\t\t\t__experimentalValidateInput={ ( token: string ) => {\n\t\t\t\t// If elements validation is required, check if token is valid\n\t\t\t\tif ( field.isValid?.elements && elements ) {\n\t\t\t\t\treturn elements.some(\n\t\t\t\t\t\t( element ) =>\n\t\t\t\t\t\t\telement.value === token || element.label === token\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// For non-elements validation, allow all tokens\n\t\t\t\treturn true;\n\t\t\t} }\n\t\t\t__experimentalExpandOnFocus={ elements && elements.length > 0 }\n\t\t\t__experimentalShowHowTo={ ! field.isValid?.elements }\n\t\t\tdisplayTransform={ ( token: any ) => {\n\t\t\t\t// For existing tokens (element objects), display their label\n\t\t\t\tif ( typeof token === 'object' && 'label' in token ) {\n\t\t\t\t\treturn token.label;\n\t\t\t\t}\n\t\t\t\t// For suggestions (value strings), find the corresponding element and show its label\n\t\t\t\tif ( typeof token === 'string' && elements ) {\n\t\t\t\t\tconst element = elements.find(\n\t\t\t\t\t\t( el ) => el.value === token\n\t\t\t\t\t);\n\t\t\t\t\treturn element?.label || token;\n\t\t\t\t}\n\t\t\t\treturn token;\n\t\t\t} }\n\t\t\t__experimentalRenderItem={ ( { item }: { item: any } ) => {\n\t\t\t\t// Custom rendering for suggestion items (item is a value string)\n\t\t\t\tif ( typeof item === 'string' && elements ) {\n\t\t\t\t\tconst element = elements.find(\n\t\t\t\t\t\t( el ) => el.value === item\n\t\t\t\t\t);\n\t\t\t\t\treturn <span>{ element?.label || item }</span>;\n\t\t\t\t}\n\t\t\t\treturn <span>{ item }</span>;\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport { colord } from 'colord';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tDropdown,\n\tprivateApis,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../../types';\nimport { unlock } from '../../lock-unlock';\nimport getCustomValidity from './utils/get-custom-validity';\n\nconst { ValidatedInputControl, Picker } = unlock( privateApis );\n\nconst ColorPicker = ( {\n\tcolor,\n\tonColorChange,\n}: {\n\tcolor: string;\n\tonColorChange: ( colorObject: any ) => void;\n} ) => {\n\tconst validColor = color && colord( color ).isValid() ? color : '#ffffff';\n\n\treturn (\n\t\t<Dropdown\n\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\n\t\t\t\t<InputControlPrefixWrapper variant=\"icon\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\twidth: '24px',\n\t\t\t\t\t\t\theight: '24px',\n\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\tbackgroundColor: validColor,\n\t\t\t\t\t\t\tborder: '1px solid #ddd',\n\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\toutline: isOpen ? '2px solid #007cba' : 'none',\n\t\t\t\t\t\t\toutlineOffset: '2px',\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\tmargin: 0,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taria-label=\"Open color picker\"\n\t\t\t\t\t/>\n\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t) }\n\t\t\trenderContent={ () => (\n\t\t\t\t<div style={ { padding: '16px' } }>\n\t\t\t\t\t<Picker\n\t\t\t\t\t\tcolor={ colord( validColor ) }\n\t\t\t\t\t\tonChange={ onColorChange }\n\t\t\t\t\t\tenableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t/>\n\t);\n};\n\nexport default function Color< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst { label, placeholder, description, setValue, isValid } = field;\n\tconst value = field.getValue( { item: data } ) || '';\n\n\tconst handleColorChange = useCallback(\n\t\t( colorObject: any ) => {\n\t\t\tonChange( setValue( { item: data, value: colorObject.toHex() } ) );\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\tconst handleInputChange = useCallback(\n\t\t( newValue: string | undefined ) => {\n\t\t\tonChange( setValue( { item: data, value: newValue || '' } ) );\n\t\t},\n\t\t[ data, onChange, setValue ]\n\t);\n\n\treturn (\n\t\t<ValidatedInputControl\n\t\t\trequired={ !! field.isValid?.required }\n\t\t\tcustomValidity={ getCustomValidity( isValid, validity ) }\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value }\n\t\t\thelp={ description }\n\t\t\tonChange={ handleInputChange }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\ttype=\"text\"\n\t\t\tprefix={\n\t\t\t\t<ColorPicker\n\t\t\t\t\tcolor={ value }\n\t\t\t\t\tonColorChange={ handleColorChange }\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalInputControlSuffixWrapper as InputControlSuffixWrapper,\n\tButton,\n} from '@wordpress/components';\nimport { useCallback, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { seen, unseen } from '@wordpress/icons';\n/**\n * Internal dependencies\n */\nimport ValidatedText from './utils/validated-input';\nimport type { DataFormControlProps } from '../../types';\n\nexport default function Password< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: DataFormControlProps< Item > ) {\n\tconst [ isVisible, setIsVisible ] = useState( false );\n\n\tconst toggleVisibility = useCallback( () => {\n\t\tsetIsVisible( ( prev ) => ! prev );\n\t}, [] );\n\n\treturn (\n\t\t<ValidatedText\n\t\t\t{ ...{\n\t\t\t\tdata,\n\t\t\t\tfield,\n\t\t\t\tonChange,\n\t\t\t\thideLabelFromVision,\n\t\t\t\tvalidity,\n\t\t\t\ttype: isVisible ? 'text' : 'password',\n\t\t\t\tsuffix: (\n\t\t\t\t\t<InputControlSuffixWrapper variant=\"control\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={ isVisible ? unseen : seen }\n\t\t\t\t\t\t\tonClick={ toggleVisibility }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\tisVisible\n\t\t\t\t\t\t\t\t\t? __( 'Hide password' )\n\t\t\t\t\t\t\t\t\t: __( 'Show password' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputControlSuffixWrapper>\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { Field } from '../../types/field-api';\n\nexport default function hasElements< Item >( field: Field< Item > ): boolean {\n\treturn (\n\t\t( Array.isArray( field.elements ) && field.elements.length > 0 ) ||\n\t\ttypeof field.getElements === 'function'\n\t);\n}\n", "/**\n * External dependencies\n */\nimport type { ComponentType } from 'react';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps, Field, EditConfig } from '../../types';\nimport checkbox from './checkbox';\nimport combobox from './combobox';\nimport datetime from './datetime';\nimport date from './date';\nimport email from './email';\nimport telephone from './telephone';\nimport url from './url';\nimport integer from './integer';\nimport number from './number';\nimport radio from './radio';\nimport select from './select';\nimport text from './text';\nimport toggle from './toggle';\nimport textarea from './textarea';\nimport toggleGroup from './toggle-group';\nimport array from './array';\nimport color from './color';\nimport password from './password';\nimport hasElements from '../../field-types/utils/has-elements';\n\ninterface FormControls {\n\t[ key: string ]: ComponentType< DataFormControlProps< any > >;\n}\n\nconst FORM_CONTROLS: FormControls = {\n\tarray,\n\tcheckbox,\n\tcolor,\n\tcombobox,\n\tdatetime,\n\tdate,\n\temail,\n\ttelephone,\n\turl,\n\tinteger,\n\tnumber,\n\tpassword,\n\tradio,\n\tselect,\n\ttext,\n\ttoggle,\n\ttextarea,\n\ttoggleGroup,\n};\n\nfunction isEditConfig( value: any ): value is EditConfig {\n\treturn (\n\t\tvalue && typeof value === 'object' && typeof value.control === 'string'\n\t);\n}\n\nfunction createConfiguredControl( config: EditConfig ) {\n\tconst { control, ...controlConfig } = config;\n\tconst BaseControlType = getControlByType( control );\n\tif ( BaseControlType === null ) {\n\t\treturn null;\n\t}\n\n\treturn function ConfiguredControl< Item >(\n\t\tprops: DataFormControlProps< Item >\n\t) {\n\t\treturn <BaseControlType { ...props } config={ controlConfig } />;\n\t};\n}\n\nexport function getControl< Item >(\n\tfield: Field< Item >,\n\tfallback: string | null\n): ComponentType< DataFormControlProps< Item > > | null {\n\tif ( typeof field.Edit === 'function' ) {\n\t\treturn field.Edit;\n\t}\n\n\tif ( typeof field.Edit === 'string' ) {\n\t\treturn getControlByType( field.Edit );\n\t}\n\n\tif ( isEditConfig( field.Edit ) ) {\n\t\treturn createConfiguredControl( field.Edit );\n\t}\n\n\tif ( hasElements( field ) && field.type !== 'array' ) {\n\t\treturn getControlByType( 'select' );\n\t}\n\n\tif ( fallback === null ) {\n\t\treturn null;\n\t}\n\n\treturn getControlByType( fallback );\n}\n\nexport function getControlByType( type: string ) {\n\tif ( Object.keys( FORM_CONTROLS ).includes( type ) ) {\n\t\treturn FORM_CONTROLS[ type ];\n\t}\n\n\treturn null;\n}\n", "/**\n * Internal dependencies\n */\nimport type { Field, FilterByConfig, Operator } from '../../types';\n\nfunction getFilterBy< Item >(\n\tfield: Field< Item >,\n\tdefaultOperators: Operator[],\n\tvalidOperators: Operator[]\n): Required< FilterByConfig > | false {\n\tif ( field.filterBy === false ) {\n\t\treturn false;\n\t}\n\n\tconst operators =\n\t\tfield.filterBy?.operators?.filter( ( op ) =>\n\t\t\tvalidOperators.includes( op )\n\t\t) ?? defaultOperators;\n\n\t// If no operators are left at this point,\n\t// the filters should be disabled.\n\tif ( operators.length === 0 ) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tisPrimary: !! field.filterBy?.isPrimary,\n\t\toperators,\n\t};\n}\n\nexport default getFilterBy;\n", "const getValueFromId =\n\t( id: string ) =>\n\t( { item }: { item: any } ) => {\n\t\tconst path = id.split( '.' );\n\t\tlet value = item;\n\t\tfor ( const segment of path ) {\n\t\t\tif ( value.hasOwnProperty( segment ) ) {\n\t\t\t\tvalue = value[ segment ];\n\t\t\t} else {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t};\n\nexport default getValueFromId;\n", "const setValueFromId =\n\t( id: string ) =>\n\t( { value }: { value: any } ) => {\n\t\tconst path = id.split( '.' );\n\t\tconst result: any = {};\n\t\tlet current = result;\n\n\t\tfor ( const segment of path.slice( 0, -1 ) ) {\n\t\t\tcurrent[ segment ] = {};\n\t\t\tcurrent = current[ segment ];\n\t\t}\n\n\t\tcurrent[ path.at( -1 )! ] = value;\n\t\treturn result;\n\t};\n\nexport default setValueFromId;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../types';\nimport type { FieldType } from '../types/private';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\nimport render from './utils/render-default';\nimport sort from './utils/sort-text';\nimport isValidRequired from './utils/is-valid-required';\nimport isValidMinLength from './utils/is-valid-min-length';\nimport isValidMaxLength from './utils/is-valid-max-length';\nimport isValidPattern from './utils/is-valid-pattern';\nimport isValidElements from './utils/is-valid-elements';\nimport getValueFormatted from './utils/get-value-formatted-default';\n\n// Email validation regex based on HTML5 spec\n// https://html.spec.whatwg.org/multipage/input.html#valid-e-mail-address\nconst emailRegex =\n\t/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\nfunction isValidCustom< Item >( item: Item, field: NormalizedField< Item > ) {\n\tconst value = field.getValue( { item } );\n\n\tif (\n\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t! emailRegex.test( value )\n\t) {\n\t\treturn __( 'Value must be a valid email address.' );\n\t}\n\n\treturn null;\n}\n\nexport default {\n\ttype: 'email',\n\trender,\n\tEdit: 'email',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\tvalidOperators: [\n\t\tOPERATOR_IS,\n\t\tOPERATOR_IS_NOT,\n\t\tOPERATOR_CONTAINS,\n\t\tOPERATOR_NOT_CONTAINS,\n\t\tOPERATOR_STARTS_WITH,\n\t\t// Multiple selection\n\t\tOPERATOR_IS_ANY,\n\t\tOPERATOR_IS_NONE,\n\t\tOPERATOR_IS_ALL,\n\t\tOPERATOR_IS_NOT_ALL,\n\t],\n\tformat: {},\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\tpattern: isValidPattern,\n\t\tminLength: isValidMinLength,\n\t\tmaxLength: isValidMaxLength,\n\t\telements: isValidElements,\n\t\tcustom: isValidCustom,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * Internal dependencies\n */\nimport type { DataViewRenderFieldProps } from '../../types';\nimport useElements from '../../hooks/use-elements';\n\nexport default function RenderFromElements< Item >( {\n\titem,\n\tfield,\n}: DataViewRenderFieldProps< Item > ) {\n\tconst { elements, isLoading } = useElements( {\n\t\telements: field.elements,\n\t\tgetElements: field.getElements,\n\t} );\n\n\tconst value = field.getValue( { item } );\n\tif ( isLoading ) {\n\t\treturn value;\n\t}\n\n\tif ( elements.length === 0 ) {\n\t\treturn value;\n\t}\n\n\treturn (\n\t\telements?.find( ( element ) => element.value === value )?.label ||\n\t\tfield.getValue( { item } )\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { DataViewRenderFieldProps } from '../../types';\nimport RenderFromElements from './render-from-elements';\n\nexport default function render( {\n\titem,\n\tfield,\n}: DataViewRenderFieldProps< any > ) {\n\tif ( field.hasElements ) {\n\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t}\n\n\treturn field.getValueFormatted( { item, field } );\n}\n", "/**\n * Internal dependencies\n */\nimport type { SortDirection } from '../../types';\n\nexport default ( a: any, b: any, direction: SortDirection ) => {\n\treturn direction === 'asc' ? a.localeCompare( b ) : b.localeCompare( a );\n};\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function isValidRequired< Item >(\n\titem: Item,\n\tfield: NormalizedField< Item >\n) {\n\tconst value = field.getValue( { item } );\n\n\treturn ! [ undefined, '', null ].includes( value );\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function isValidMinLength< Item >(\n\titem: Item,\n\tfield: NormalizedField< Item >\n): boolean {\n\tif ( typeof field.isValid.minLength?.constraint !== 'number' ) {\n\t\treturn false;\n\t}\n\n\tconst value = field.getValue( { item } );\n\n\t// Empty values are considered valid for minLength validation\n\t// (use required validation to enforce non-empty values)\n\tif ( [ undefined, '', null ].includes( value ) ) {\n\t\treturn true;\n\t}\n\n\treturn String( value ).length >= field.isValid.minLength.constraint;\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function isValidMaxLength< Item >(\n\titem: Item,\n\tfield: NormalizedField< Item >\n): boolean {\n\tif ( typeof field.isValid.maxLength?.constraint !== 'number' ) {\n\t\treturn false;\n\t}\n\n\tconst value = field.getValue( { item } );\n\n\t// Empty values are considered valid for maxLength validation\n\t// (use required validation to enforce non-empty values)\n\tif ( [ undefined, '', null ].includes( value ) ) {\n\t\treturn true;\n\t}\n\n\treturn String( value ).length <= field.isValid.maxLength.constraint;\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function isValidPattern< Item >(\n\titem: Item,\n\tfield: NormalizedField< Item >\n): boolean {\n\tif ( field.isValid.pattern?.constraint === undefined ) {\n\t\treturn true;\n\t}\n\n\ttry {\n\t\tconst regexp = new RegExp( field.isValid.pattern.constraint );\n\n\t\tconst value = field.getValue( { item } );\n\n\t\t// Empty values are considered valid for pattern validation\n\t\t// (use required validation to enforce non-empty values)\n\t\tif ( [ undefined, '', null ].includes( value ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn regexp.test( String( value ) );\n\t} catch {\n\t\treturn false;\n\t}\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function isValidElements< Item >(\n\titem: Item,\n\tfield: NormalizedField< Item >\n): boolean {\n\tconst elements = field.elements ?? [];\n\tconst validValues = elements.map( ( el ) => el.value );\n\tif ( validValues.length === 0 ) {\n\t\treturn true;\n\t}\n\n\tconst value = field.getValue( { item } );\n\n\t// Covers both array and non-array values.\n\treturn [].concat( value ).every( ( v ) => validValues.includes( v ) );\n}\n", "import type { NormalizedField } from '../../types';\n\nfunction getValueFormatted< Item >( {\n\titem,\n\tfield,\n}: {\n\titem: Item;\n\tfield: NormalizedField< Item >;\n} ): string {\n\treturn field.getValue( { item } );\n}\n\nexport default getValueFormatted;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { FormatInteger, NormalizedField } from '../types';\nimport type { FieldType } from '../types/private';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_BETWEEN,\n} from '../constants';\nimport sort from './utils/sort-number';\nimport isValidRequired from './utils/is-valid-required';\nimport isValidMin from './utils/is-valid-min';\nimport isValidMax from './utils/is-valid-max';\nimport isValidElements from './utils/is-valid-elements';\nimport render from './utils/render-default';\n\nconst format = {\n\tseparatorThousand: ',',\n};\n\nfunction getValueFormatted< Item >( {\n\titem,\n\tfield,\n}: {\n\titem: Item;\n\tfield: NormalizedField< Item >;\n} ): string {\n\tlet value = field.getValue( { item } );\n\tif ( value === null || value === undefined ) {\n\t\treturn '';\n\t}\n\n\tvalue = Number( value );\n\tif ( ! Number.isFinite( value ) ) {\n\t\treturn String( value );\n\t}\n\n\tlet formatInteger: Required< FormatInteger >;\n\tif ( field.type !== 'integer' ) {\n\t\tformatInteger = format;\n\t} else {\n\t\tformatInteger = field.format as Required< FormatInteger >;\n\t}\n\n\tconst { separatorThousand } = formatInteger;\n\tconst integerValue = Math.trunc( value );\n\tif ( ! separatorThousand ) {\n\t\treturn String( integerValue );\n\t}\n\n\treturn String( integerValue ).replace(\n\t\t/\\B(?=(\\d{3})+(?!\\d))/g,\n\t\tseparatorThousand\n\t);\n}\n\nfunction isValidCustom< Item >( item: Item, field: NormalizedField< Item > ) {\n\tconst value = field.getValue( { item } );\n\tif (\n\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t! Number.isInteger( value )\n\t) {\n\t\treturn __( 'Value must be an integer.' );\n\t}\n\treturn null;\n}\n\nexport default {\n\ttype: 'integer',\n\trender,\n\tEdit: 'integer',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [\n\t\tOPERATOR_IS,\n\t\tOPERATOR_IS_NOT,\n\t\tOPERATOR_LESS_THAN,\n\t\tOPERATOR_GREATER_THAN,\n\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\tOPERATOR_BETWEEN,\n\t],\n\tvalidOperators: [\n\t\t// Single-selection\n\t\tOPERATOR_IS,\n\t\tOPERATOR_IS_NOT,\n\t\tOPERATOR_LESS_THAN,\n\t\tOPERATOR_GREATER_THAN,\n\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\tOPERATOR_BETWEEN,\n\t\t// Multiple-selection\n\t\tOPERATOR_IS_ANY,\n\t\tOPERATOR_IS_NONE,\n\t\tOPERATOR_IS_ALL,\n\t\tOPERATOR_IS_NOT_ALL,\n\t],\n\tformat,\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\tmin: isValidMin,\n\t\tmax: isValidMax,\n\t\telements: isValidElements,\n\t\tcustom: isValidCustom,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * Internal dependencies\n */\nimport type { SortDirection } from '../../types';\n\nexport default ( a: any, b: any, direction: SortDirection ) => {\n\treturn direction === 'asc' ? a - b : b - a;\n};\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function isValidMin< Item >(\n\titem: Item,\n\tfield: NormalizedField< Item >\n): boolean {\n\tif ( typeof field.isValid.min?.constraint !== 'number' ) {\n\t\treturn false;\n\t}\n\n\tconst value = field.getValue( { item } );\n\n\t// Empty values are considered valid for min validation\n\t// (use required validation to enforce non-empty values)\n\tif ( [ undefined, '', null ].includes( value ) ) {\n\t\treturn true;\n\t}\n\n\treturn Number( value ) >= field.isValid.min.constraint;\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function isValidMax< Item >(\n\titem: Item,\n\tfield: NormalizedField< Item >\n): boolean {\n\tif ( typeof field.isValid.max?.constraint !== 'number' ) {\n\t\treturn false;\n\t}\n\n\tconst value = field.getValue( { item } );\n\n\t// Empty values are considered valid for max validation\n\t// (use required validation to enforce non-empty values)\n\tif ( [ undefined, '', null ].includes( value ) ) {\n\t\treturn true;\n\t}\n\n\treturn Number( value ) <= field.isValid.max.constraint;\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { FormatNumber, NormalizedField } from '../types';\nimport type { FieldType } from '../types/private';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_LESS_THAN,\n\tOPERATOR_GREATER_THAN,\n\tOPERATOR_LESS_THAN_OR_EQUAL,\n\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_BETWEEN,\n} from '../constants';\nimport sort from './utils/sort-number';\nimport isValidRequired from './utils/is-valid-required';\nimport isValidMin from './utils/is-valid-min';\nimport isValidMax from './utils/is-valid-max';\nimport isValidElements from './utils/is-valid-elements';\nimport render from './utils/render-default';\n\nconst format = {\n\tseparatorThousand: ',',\n\tseparatorDecimal: '.',\n\tdecimals: 2,\n};\n\nfunction getValueFormatted< Item >( {\n\titem,\n\tfield,\n}: {\n\titem: Item;\n\tfield: NormalizedField< Item >;\n} ): string {\n\tlet value = field.getValue( { item } );\n\tif ( value === null || value === undefined ) {\n\t\treturn '';\n\t}\n\n\tvalue = Number( value );\n\tif ( ! Number.isFinite( value ) ) {\n\t\treturn String( value );\n\t}\n\n\tlet formatNumber: Required< FormatNumber >;\n\tif ( field.type !== 'number' ) {\n\t\tformatNumber = format;\n\t} else {\n\t\tformatNumber = field.format as Required< FormatNumber >;\n\t}\n\n\tconst { separatorThousand, separatorDecimal, decimals } = formatNumber;\n\tconst fixedValue = value.toFixed( decimals );\n\tconst [ integerPart, decimalPart ] = fixedValue.split( '.' );\n\tconst formattedInteger = separatorThousand\n\t\t? integerPart.replace( /\\B(?=(\\d{3})+(?!\\d))/g, separatorThousand )\n\t\t: integerPart;\n\treturn decimals === 0\n\t\t? formattedInteger\n\t\t: formattedInteger + separatorDecimal + decimalPart;\n}\n\nfunction isEmpty( value: unknown ): value is '' | undefined | null {\n\treturn value === '' || value === undefined || value === null;\n}\n\nfunction isValidCustom< Item >( item: Item, field: NormalizedField< Item > ) {\n\tconst value = field.getValue( { item } );\n\n\tif ( ! isEmpty( value ) && ! Number.isFinite( value ) ) {\n\t\treturn __( 'Value must be a number.' );\n\t}\n\n\treturn null;\n}\n\nexport default {\n\ttype: 'number',\n\trender,\n\tEdit: 'number',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [\n\t\tOPERATOR_IS,\n\t\tOPERATOR_IS_NOT,\n\t\tOPERATOR_LESS_THAN,\n\t\tOPERATOR_GREATER_THAN,\n\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\tOPERATOR_BETWEEN,\n\t],\n\tvalidOperators: [\n\t\t// Single-selection\n\t\tOPERATOR_IS,\n\t\tOPERATOR_IS_NOT,\n\t\tOPERATOR_LESS_THAN,\n\t\tOPERATOR_GREATER_THAN,\n\t\tOPERATOR_LESS_THAN_OR_EQUAL,\n\t\tOPERATOR_GREATER_THAN_OR_EQUAL,\n\t\tOPERATOR_BETWEEN,\n\t\t// Multiple-selection\n\t\tOPERATOR_IS_ANY,\n\t\tOPERATOR_IS_NONE,\n\t\tOPERATOR_IS_ALL,\n\t\tOPERATOR_IS_NOT_ALL,\n\t],\n\tformat,\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\tmin: isValidMin,\n\t\tmax: isValidMax,\n\t\telements: isValidElements,\n\t\tcustom: isValidCustom,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * Internal dependencies\n */\nimport type { FieldType } from '../types/private';\nimport {\n\tOPERATOR_CONTAINS,\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\nimport render from './utils/render-default';\nimport sort from './utils/sort-text';\nimport isValidRequired from './utils/is-valid-required';\nimport isValidMinLength from './utils/is-valid-min-length';\nimport isValidMaxLength from './utils/is-valid-max-length';\nimport isValidPattern from './utils/is-valid-pattern';\nimport isValidElements from './utils/is-valid-elements';\nimport getValueFormatted from './utils/get-value-formatted-default';\n\nexport default {\n\ttype: 'text',\n\trender,\n\tEdit: 'text',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\tvalidOperators: [\n\t\t// Single selection\n\t\tOPERATOR_IS,\n\t\tOPERATOR_IS_NOT,\n\t\tOPERATOR_CONTAINS,\n\t\tOPERATOR_NOT_CONTAINS,\n\t\tOPERATOR_STARTS_WITH,\n\t\t// Multiple selection\n\t\tOPERATOR_IS_ANY,\n\t\tOPERATOR_IS_NONE,\n\t\tOPERATOR_IS_ALL,\n\t\tOPERATOR_IS_NOT_ALL,\n\t],\n\tformat: {},\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\tpattern: isValidPattern,\n\t\tminLength: isValidMinLength,\n\t\tmaxLength: isValidMaxLength,\n\t\telements: isValidElements,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * WordPress dependencies\n */\nimport { dateI18n, getDate, getSettings } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport type { FormatDatetime, NormalizedField, SortDirection } from '../types';\nimport type { FieldType } from '../types/private';\nimport isValidElements from './utils/is-valid-elements';\nimport {\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n} from '../constants';\nimport isValidRequired from './utils/is-valid-required';\nimport render from './utils/render-default';\n\nconst format = {\n\tdatetime: getSettings().formats.datetime,\n\tweekStartsOn: getSettings().l10n.startOfWeek,\n};\n\nfunction getValueFormatted< Item >( {\n\titem,\n\tfield,\n}: {\n\titem: Item;\n\tfield: NormalizedField< Item >;\n} ): string {\n\tconst value = field.getValue( { item } );\n\tif ( [ '', undefined, null ].includes( value ) ) {\n\t\treturn '';\n\t}\n\n\tlet formatDatetime: Required< FormatDatetime >;\n\tif ( field.type !== 'datetime' ) {\n\t\tformatDatetime = format;\n\t} else {\n\t\tformatDatetime = field.format as Required< FormatDatetime >;\n\t}\n\n\treturn dateI18n( formatDatetime.datetime, getDate( value ) );\n}\n\nconst sort = ( a: any, b: any, direction: SortDirection ) => {\n\tconst timeA = new Date( a ).getTime();\n\tconst timeB = new Date( b ).getTime();\n\n\treturn direction === 'asc' ? timeA - timeB : timeB - timeA;\n};\n\nexport default {\n\ttype: 'datetime',\n\trender,\n\tEdit: 'datetime',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [\n\t\tOPERATOR_ON,\n\t\tOPERATOR_NOT_ON,\n\t\tOPERATOR_BEFORE,\n\t\tOPERATOR_AFTER,\n\t\tOPERATOR_BEFORE_INC,\n\t\tOPERATOR_AFTER_INC,\n\t\tOPERATOR_IN_THE_PAST,\n\t\tOPERATOR_OVER,\n\t],\n\tvalidOperators: [\n\t\tOPERATOR_ON,\n\t\tOPERATOR_NOT_ON,\n\t\tOPERATOR_BEFORE,\n\t\tOPERATOR_AFTER,\n\t\tOPERATOR_BEFORE_INC,\n\t\tOPERATOR_AFTER_INC,\n\t\tOPERATOR_IN_THE_PAST,\n\t\tOPERATOR_OVER,\n\t],\n\tformat,\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\telements: isValidElements,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * WordPress dependencies\n */\nimport { dateI18n, getDate, getSettings } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport type { FormatDate, NormalizedField, SortDirection } from '../types';\nimport type { FieldType } from '../types/private';\nimport isValidElements from './utils/is-valid-elements';\nimport {\n\tOPERATOR_ON,\n\tOPERATOR_NOT_ON,\n\tOPERATOR_BEFORE,\n\tOPERATOR_AFTER,\n\tOPERATOR_BEFORE_INC,\n\tOPERATOR_AFTER_INC,\n\tOPERATOR_IN_THE_PAST,\n\tOPERATOR_OVER,\n\tOPERATOR_BETWEEN,\n} from '../constants';\nimport isValidRequired from './utils/is-valid-required';\nimport render from './utils/render-default';\n\nconst format = {\n\tdate: getSettings().formats.date,\n\tweekStartsOn: getSettings().l10n.startOfWeek,\n};\n\nfunction getValueFormatted< Item >( {\n\titem,\n\tfield,\n}: {\n\titem: Item;\n\tfield: NormalizedField< Item >;\n} ): string {\n\tconst value = field.getValue( { item } );\n\tif ( [ '', undefined, null ].includes( value ) ) {\n\t\treturn '';\n\t}\n\n\tlet formatDate: Required< FormatDate >;\n\tif ( field.type !== 'date' ) {\n\t\tformatDate = format;\n\t} else {\n\t\tformatDate = field.format as Required< FormatDate >;\n\t}\n\n\treturn dateI18n( formatDate.date, getDate( value ) );\n}\n\nconst sort = ( a: any, b: any, direction: SortDirection ) => {\n\tconst timeA = new Date( a ).getTime();\n\tconst timeB = new Date( b ).getTime();\n\n\treturn direction === 'asc' ? timeA - timeB : timeB - timeA;\n};\n\nexport default {\n\ttype: 'date',\n\trender,\n\tEdit: 'date',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [\n\t\tOPERATOR_ON,\n\t\tOPERATOR_NOT_ON,\n\t\tOPERATOR_BEFORE,\n\t\tOPERATOR_AFTER,\n\t\tOPERATOR_BEFORE_INC,\n\t\tOPERATOR_AFTER_INC,\n\t\tOPERATOR_IN_THE_PAST,\n\t\tOPERATOR_OVER,\n\t\tOPERATOR_BETWEEN,\n\t],\n\tvalidOperators: [\n\t\tOPERATOR_ON,\n\t\tOPERATOR_NOT_ON,\n\t\tOPERATOR_BEFORE,\n\t\tOPERATOR_AFTER,\n\t\tOPERATOR_BEFORE_INC,\n\t\tOPERATOR_AFTER_INC,\n\t\tOPERATOR_IN_THE_PAST,\n\t\tOPERATOR_OVER,\n\t\tOPERATOR_BETWEEN,\n\t],\n\tformat,\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\telements: isValidElements,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField, SortDirection } from '../types';\nimport type { FieldType } from '../types/private';\nimport { OPERATOR_IS, OPERATOR_IS_NOT } from '../constants';\nimport isValidElements from './utils/is-valid-elements';\nimport isValidRequiredForBool from './utils/is-valid-required-for-bool';\nimport render from './utils/render-default';\n\nfunction getValueFormatted< Item >( {\n\titem,\n\tfield,\n}: {\n\titem: Item;\n\tfield: NormalizedField< Item >;\n} ): string {\n\tconst value = field.getValue( { item } );\n\n\tif ( value === true ) {\n\t\treturn __( 'True' );\n\t}\n\n\tif ( value === false ) {\n\t\treturn __( 'False' );\n\t}\n\n\treturn '';\n}\n\nfunction isValidCustom< Item >( item: Item, field: NormalizedField< Item > ) {\n\tconst value = field.getValue( { item } );\n\n\tif (\n\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t! [ true, false ].includes( value )\n\t) {\n\t\treturn __( 'Value must be true, false, or undefined' );\n\t}\n\n\treturn null;\n}\n\nconst sort = ( a: any, b: any, direction: SortDirection ) => {\n\tconst boolA = Boolean( a );\n\tconst boolB = Boolean( b );\n\n\tif ( boolA === boolB ) {\n\t\treturn 0;\n\t}\n\n\t// In ascending order, false comes before true\n\tif ( direction === 'asc' ) {\n\t\treturn boolA ? 1 : -1;\n\t}\n\n\t// In descending order, true comes before false\n\treturn boolA ? -1 : 1;\n};\n\nexport default {\n\ttype: 'boolean',\n\trender,\n\tEdit: 'checkbox',\n\tsort,\n\tvalidate: {\n\t\trequired: isValidRequiredForBool,\n\t\telements: isValidElements,\n\t\tcustom: isValidCustom,\n\t},\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\tvalidOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\tformat: {},\n\tgetValueFormatted,\n} satisfies FieldType< any >;\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function isValidRequiredForBool< Item >(\n\titem: Item,\n\tfield: NormalizedField< Item >\n) {\n\tconst value = field.getValue( { item } );\n\n\treturn value === true;\n}\n", "/**\n * Internal dependencies\n */\nimport type { FieldType } from '../types/private';\nimport getValueFormatted from './utils/get-value-formatted-default';\n\nexport default {\n\ttype: 'media',\n\trender: () => null,\n\tEdit: null,\n\tsort: () => 0,\n\tenableSorting: false,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [],\n\tvalidOperators: [],\n\tformat: {},\n\tgetValueFormatted,\n\t// cannot validate any constraint, so\n\t// the only available validation for the field author\n\t// would be providing a custom validator.\n\tvalidate: {},\n} satisfies FieldType< any >;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tNormalizedField,\n\tSortDirection,\n} from '../types';\nimport type { FieldType } from '../types/private';\nimport {\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT_ALL,\n} from '../constants';\nimport isValidRequiredForArray from './utils/is-valid-required-for-array';\nimport isValidElements from './utils/is-valid-elements';\n\nfunction getValueFormatted< Item >( {\n\titem,\n\tfield,\n}: {\n\titem: Item;\n\tfield: NormalizedField< Item >;\n} ): string {\n\tconst value = field.getValue( { item } );\n\tconst arr = Array.isArray( value ) ? value : [];\n\treturn arr.join( ', ' );\n}\n\nfunction render( { item, field }: DataViewRenderFieldProps< any > ) {\n\treturn getValueFormatted( { item, field } );\n}\n\nfunction isValidCustom< Item >( item: Item, field: NormalizedField< Item > ) {\n\tconst value = field.getValue( { item } );\n\n\tif (\n\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t! Array.isArray( value )\n\t) {\n\t\treturn __( 'Value must be an array.' );\n\t}\n\n\t// Only allow strings for now. Can be extended to other types in the future.\n\tif ( ! value.every( ( v: any ) => typeof v === 'string' ) ) {\n\t\treturn __( 'Every value must be a string.' );\n\t}\n\n\treturn null;\n}\n\nconst sort = ( a: any, b: any, direction: SortDirection ) => {\n\t// Sort arrays by length, then alphabetically by joined string\n\tconst arrA = Array.isArray( a ) ? a : [];\n\tconst arrB = Array.isArray( b ) ? b : [];\n\tif ( arrA.length !== arrB.length ) {\n\t\treturn direction === 'asc'\n\t\t\t? arrA.length - arrB.length\n\t\t\t: arrB.length - arrA.length;\n\t}\n\n\tconst joinedA = arrA.join( ',' );\n\tconst joinedB = arrB.join( ',' );\n\treturn direction === 'asc'\n\t\t? joinedA.localeCompare( joinedB )\n\t\t: joinedB.localeCompare( joinedA );\n};\n\nexport default {\n\ttype: 'array',\n\trender,\n\tEdit: 'array',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\tvalidOperators: [\n\t\tOPERATOR_IS_ANY,\n\t\tOPERATOR_IS_NONE,\n\t\tOPERATOR_IS_ALL,\n\t\tOPERATOR_IS_NOT_ALL,\n\t],\n\tformat: {},\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequiredForArray,\n\t\telements: isValidElements,\n\t\tcustom: isValidCustom,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\nexport default function isValidRequiredForArray< Item >(\n\titem: Item,\n\tfield: NormalizedField< Item >\n) {\n\tconst value = field.getValue( { item } );\n\treturn (\n\t\tArray.isArray( value ) &&\n\t\tvalue.length > 0 &&\n\t\tvalue.every(\n\t\t\t( element: any ) => ! [ undefined, '', null ].includes( element )\n\t\t)\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../types';\nimport type { FieldType } from '../types/private';\nimport isValidRequired from './utils/is-valid-required';\nimport isValidMinLength from './utils/is-valid-min-length';\nimport isValidMaxLength from './utils/is-valid-max-length';\nimport isValidPattern from './utils/is-valid-pattern';\nimport isValidElements from './utils/is-valid-elements';\nimport render from './utils/render-default';\n\nfunction getValueFormatted< Item >( {\n\titem,\n\tfield,\n}: {\n\titem: Item;\n\tfield: NormalizedField< Item >;\n} ): string {\n\treturn field.getValue( { item } ) ? '\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022' : '';\n}\n\nexport default {\n\ttype: 'password',\n\trender,\n\tEdit: 'password',\n\tsort: () => 0, // Passwords should not be sortable for security reasons\n\tenableSorting: false,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [],\n\tvalidOperators: [],\n\tformat: {},\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\tpattern: isValidPattern,\n\t\tminLength: isValidMinLength,\n\t\tmaxLength: isValidMaxLength,\n\t\telements: isValidElements,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * Internal dependencies\n */\nimport type { FieldType } from '../types/private';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\nimport render from './utils/render-default';\nimport sort from './utils/sort-text';\nimport isValidRequired from './utils/is-valid-required';\nimport isValidMinLength from './utils/is-valid-min-length';\nimport isValidMaxLength from './utils/is-valid-max-length';\nimport isValidPattern from './utils/is-valid-pattern';\nimport isValidElements from './utils/is-valid-elements';\nimport getValueFormatted from './utils/get-value-formatted-default';\n\nexport default {\n\ttype: 'telephone',\n\trender,\n\tEdit: 'telephone',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\tvalidOperators: [\n\t\tOPERATOR_IS,\n\t\tOPERATOR_IS_NOT,\n\t\tOPERATOR_CONTAINS,\n\t\tOPERATOR_NOT_CONTAINS,\n\t\tOPERATOR_STARTS_WITH,\n\t\t// Multiple selection\n\t\tOPERATOR_IS_ANY,\n\t\tOPERATOR_IS_NONE,\n\t\tOPERATOR_IS_ALL,\n\t\tOPERATOR_IS_NOT_ALL,\n\t],\n\tformat: {},\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\tpattern: isValidPattern,\n\t\tminLength: isValidMinLength,\n\t\tmaxLength: isValidMaxLength,\n\t\telements: isValidElements,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * External dependencies\n */\nimport { colord } from 'colord';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataViewRenderFieldProps,\n\tNormalizedField,\n\tSortDirection,\n} from '../types';\nimport type { FieldType } from '../types/private';\nimport RenderFromElements from './utils/render-from-elements';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n} from '../constants';\nimport isValidElements from './utils/is-valid-elements';\nimport isValidRequired from './utils/is-valid-required';\nimport getValueFormatted from './utils/get-value-formatted-default';\n\nfunction render( { item, field }: DataViewRenderFieldProps< any > ) {\n\tif ( field.hasElements ) {\n\t\treturn <RenderFromElements item={ item } field={ field } />;\n\t}\n\n\tconst value = getValueFormatted( { item, field } );\n\tif ( ! value || ! colord( value ).isValid() ) {\n\t\treturn value;\n\t}\n\n\t// Render color with visual preview\n\treturn (\n\t\t<div style={ { display: 'flex', alignItems: 'center', gap: '8px' } }>\n\t\t\t<div\n\t\t\t\tstyle={ {\n\t\t\t\t\twidth: '16px',\n\t\t\t\t\theight: '16px',\n\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\tbackgroundColor: value,\n\t\t\t\t\tborder: '1px solid #ddd',\n\t\t\t\t\tflexShrink: 0,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<span>{ value }</span>\n\t\t</div>\n\t);\n}\n\nfunction isValidCustom< Item >( item: Item, field: NormalizedField< Item > ) {\n\tconst value = field.getValue( { item } );\n\n\tif (\n\t\t! [ undefined, '', null ].includes( value ) &&\n\t\t! colord( value ).isValid()\n\t) {\n\t\treturn __( 'Value must be a valid color.' );\n\t}\n\n\treturn null;\n}\n\nconst sort = ( a: any, b: any, direction: SortDirection ) => {\n\t// Convert colors to HSL for better sorting\n\tconst colorA = colord( a );\n\tconst colorB = colord( b );\n\n\tif ( ! colorA.isValid() && ! colorB.isValid() ) {\n\t\treturn 0;\n\t}\n\tif ( ! colorA.isValid() ) {\n\t\treturn direction === 'asc' ? 1 : -1;\n\t}\n\tif ( ! colorB.isValid() ) {\n\t\treturn direction === 'asc' ? -1 : 1;\n\t}\n\n\t// Sort by hue, then saturation, then lightness\n\tconst hslA = colorA.toHsl();\n\tconst hslB = colorB.toHsl();\n\n\tif ( hslA.h !== hslB.h ) {\n\t\treturn direction === 'asc' ? hslA.h - hslB.h : hslB.h - hslA.h;\n\t}\n\tif ( hslA.s !== hslB.s ) {\n\t\treturn direction === 'asc' ? hslA.s - hslB.s : hslB.s - hslA.s;\n\t}\n\treturn direction === 'asc' ? hslA.l - hslB.l : hslB.l - hslA.l;\n};\n\nexport default {\n\ttype: 'color',\n\trender,\n\tEdit: 'color',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\tvalidOperators: [\n\t\tOPERATOR_IS,\n\t\tOPERATOR_IS_NOT,\n\t\tOPERATOR_IS_ANY,\n\t\tOPERATOR_IS_NONE,\n\t],\n\tformat: {},\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\telements: isValidElements,\n\t\tcustom: isValidCustom,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * Internal dependencies\n */\nimport type { FieldType } from '../types/private';\nimport {\n\tOPERATOR_IS,\n\tOPERATOR_IS_ALL,\n\tOPERATOR_IS_NOT_ALL,\n\tOPERATOR_IS_ANY,\n\tOPERATOR_IS_NONE,\n\tOPERATOR_IS_NOT,\n\tOPERATOR_CONTAINS,\n\tOPERATOR_NOT_CONTAINS,\n\tOPERATOR_STARTS_WITH,\n} from '../constants';\nimport render from './utils/render-default';\nimport sort from './utils/sort-text';\nimport isValidRequired from './utils/is-valid-required';\nimport isValidMinLength from './utils/is-valid-min-length';\nimport isValidMaxLength from './utils/is-valid-max-length';\nimport isValidPattern from './utils/is-valid-pattern';\nimport isValidElements from './utils/is-valid-elements';\nimport getValueFormatted from './utils/get-value-formatted-default';\n\nexport default {\n\ttype: 'url',\n\trender,\n\tEdit: 'url',\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [ OPERATOR_IS_ANY, OPERATOR_IS_NONE ],\n\tvalidOperators: [\n\t\tOPERATOR_IS,\n\t\tOPERATOR_IS_NOT,\n\t\tOPERATOR_CONTAINS,\n\t\tOPERATOR_NOT_CONTAINS,\n\t\tOPERATOR_STARTS_WITH,\n\t\t// Multiple selection\n\t\tOPERATOR_IS_ANY,\n\t\tOPERATOR_IS_NONE,\n\t\tOPERATOR_IS_ALL,\n\t\tOPERATOR_IS_NOT_ALL,\n\t],\n\tformat: {},\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\tpattern: isValidPattern,\n\t\tminLength: isValidMinLength,\n\t\tmaxLength: isValidMaxLength,\n\t\telements: isValidElements,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * Internal dependencies\n */\nimport type { SortDirection } from '../types';\nimport type { FieldType } from '../types/private';\nimport { OPERATOR_IS, OPERATOR_IS_NOT } from '../constants';\nimport { getAllOperatorNames } from '../utils/operators';\nimport render from './utils/render-default';\nimport sortText from './utils/sort-text';\nimport sortNumber from './utils/sort-number';\nimport isValidRequired from './utils/is-valid-required';\nimport isValidElements from './utils/is-valid-elements';\nimport getValueFormatted from './utils/get-value-formatted-default';\n\nconst sort = ( a: any, b: any, direction: SortDirection ) => {\n\tif ( typeof a === 'number' && typeof b === 'number' ) {\n\t\treturn sortNumber( a, b, direction );\n\t}\n\n\treturn sortText( a, b, direction );\n};\n\nexport default {\n\t// type: no type for this one\n\trender,\n\tEdit: null,\n\tsort,\n\tenableSorting: true,\n\tenableGlobalSearch: false,\n\tdefaultOperators: [ OPERATOR_IS, OPERATOR_IS_NOT ],\n\tvalidOperators: getAllOperatorNames(),\n\tformat: {},\n\tgetValueFormatted,\n\tvalidate: {\n\t\trequired: isValidRequired,\n\t\telements: isValidElements,\n\t},\n} satisfies FieldType< any >;\n", "/**\n * Internal dependencies\n */\nimport type { Field, NormalizedRules } from '../../types';\nimport type { FieldType } from '../../types/private';\n\nexport default function getIsValid< Item >(\n\tfield: Field< Item >,\n\tfieldType: FieldType< Item >\n): NormalizedRules< Item > {\n\tlet required;\n\tif (\n\t\tfield.isValid?.required === true &&\n\t\tfieldType.validate.required !== undefined\n\t) {\n\t\trequired = {\n\t\t\tconstraint: true,\n\t\t\tvalidate: fieldType.validate.required,\n\t\t};\n\t}\n\n\tlet elements;\n\tif (\n\t\t( field.isValid?.elements === true ||\n\t\t\t// elements is enabled unless the field opts-out\n\t\t\t( field.isValid?.elements === undefined &&\n\t\t\t\t( !! field.elements || !! field.getElements ) ) ) &&\n\t\tfieldType.validate.elements !== undefined\n\t) {\n\t\telements = {\n\t\t\tconstraint: true,\n\t\t\tvalidate: fieldType.validate.elements,\n\t\t};\n\t}\n\n\tlet min;\n\tif (\n\t\ttypeof field.isValid?.min === 'number' &&\n\t\tfieldType.validate.min !== undefined\n\t) {\n\t\tmin = {\n\t\t\tconstraint: field.isValid.min,\n\t\t\tvalidate: fieldType.validate.min,\n\t\t};\n\t}\n\n\tlet max;\n\tif (\n\t\ttypeof field.isValid?.max === 'number' &&\n\t\tfieldType.validate.max !== undefined\n\t) {\n\t\tmax = {\n\t\t\tconstraint: field.isValid.max,\n\t\t\tvalidate: fieldType.validate.max,\n\t\t};\n\t}\n\n\tlet minLength;\n\tif (\n\t\ttypeof field.isValid?.minLength === 'number' &&\n\t\tfieldType.validate.minLength !== undefined\n\t) {\n\t\tminLength = {\n\t\t\tconstraint: field.isValid.minLength,\n\t\t\tvalidate: fieldType.validate.minLength,\n\t\t};\n\t}\n\n\tlet maxLength;\n\tif (\n\t\ttypeof field.isValid?.maxLength === 'number' &&\n\t\tfieldType.validate.maxLength !== undefined\n\t) {\n\t\tmaxLength = {\n\t\t\tconstraint: field.isValid.maxLength,\n\t\t\tvalidate: fieldType.validate.maxLength,\n\t\t};\n\t}\n\n\tlet pattern;\n\tif (\n\t\tfield.isValid?.pattern !== undefined &&\n\t\tfieldType.validate.pattern !== undefined\n\t) {\n\t\tpattern = {\n\t\t\tconstraint: field.isValid?.pattern,\n\t\t\tvalidate: fieldType.validate.pattern,\n\t\t};\n\t}\n\n\tconst custom = field.isValid?.custom ?? fieldType.validate.custom;\n\n\treturn {\n\t\trequired,\n\t\telements,\n\t\tmin,\n\t\tmax,\n\t\tminLength,\n\t\tmaxLength,\n\t\tpattern,\n\t\tcustom,\n\t};\n}\n", "/**\n * Internal dependencies\n */\nimport type { FilterOperatorMap } from '../../types';\nimport type { FieldType } from '../../types/private';\nimport { getOperatorByName } from '../../utils/operators';\n\nexport default function getFilter< Item >(\n\tfieldType: FieldType< Item >\n): FilterOperatorMap< Item > {\n\treturn fieldType.validOperators.reduce( ( accumulator, operator ) => {\n\t\tconst operatorObj = getOperatorByName( operator );\n\t\tif ( operatorObj?.filter ) {\n\t\t\taccumulator[ operator ] = operatorObj.filter;\n\t\t}\n\t\treturn accumulator;\n\t}, {} as FilterOperatorMap< Item > );\n}\n", "import type { Field } from '../../types';\nimport type { FieldType } from '../../types/private';\n\nfunction getFormat< Item >(\n\tfield: Field< Item >,\n\tfieldType: FieldType< Item >\n) {\n\treturn {\n\t\t...fieldType.format,\n\t\t...field.format,\n\t};\n}\n\nexport default getFormat;\n", "/**\n * Internal dependencies\n */\nimport type {\n\tField,\n\tFieldTypeName,\n\tNormalizedField,\n\tSortDirection,\n} from '../types';\nimport type { FieldType } from '../types/private';\nimport { getControl } from '../components/dataform-controls';\nimport getFilterBy from './utils/get-filter-by';\nimport getValueFromId from './utils/get-value-from-id';\nimport hasElements from './utils/has-elements';\nimport setValueFromId from './utils/set-value-from-id';\nimport { default as email } from './email';\nimport { default as integer } from './integer';\nimport { default as number } from './number';\nimport { default as text } from './text';\nimport { default as datetime } from './datetime';\nimport { default as date } from './date';\nimport { default as boolean } from './boolean';\nimport { default as media } from './media';\nimport { default as array } from './array';\nimport { default as password } from './password';\nimport { default as telephone } from './telephone';\nimport { default as color } from './color';\nimport { default as url } from './url';\nimport { default as noType } from './no-type';\nimport getIsValid from './utils/get-is-valid';\nimport getFilter from './utils/get-filter';\nimport getFormat from './utils/get-format';\n\n/**\n *\n * @param {FieldTypeName} type The field type definition to get.\n *\n * @return A field type definition.\n */\nfunction getFieldTypeByName< Item >( type?: FieldTypeName ): FieldType< Item > {\n\tconst found = [\n\t\temail,\n\t\tinteger,\n\t\tnumber,\n\t\ttext,\n\t\tdatetime,\n\t\tdate,\n\t\tboolean,\n\t\tmedia,\n\t\tarray,\n\t\tpassword,\n\t\ttelephone,\n\t\tcolor,\n\t\turl,\n\t].find( ( fieldType ) => fieldType?.type === type );\n\n\tif ( !! found ) {\n\t\treturn found;\n\t}\n\n\t// This is a fallback for fields that don't provide a type.\n\t// It can be removed when/if the field.type becomes mandatory.\n\treturn noType;\n}\n\n/**\n * Apply default values and normalize the fields config.\n *\n * @param fields Fields config.\n * @return Normalized fields config.\n */\nexport default function normalizeFields< Item >(\n\tfields: Field< Item >[]\n): NormalizedField< Item >[] {\n\treturn fields.map( ( field ) => {\n\t\tconst fieldType = getFieldTypeByName< Item >( field.type );\n\n\t\tconst getValue = field.getValue || getValueFromId( field.id );\n\t\tconst sort = function ( a: any, b: any, direction: SortDirection ) {\n\t\t\tconst aValue = getValue( { item: a } );\n\t\t\tconst bValue = getValue( { item: b } );\n\t\t\treturn field.sort\n\t\t\t\t? field.sort( aValue, bValue, direction )\n\t\t\t\t: fieldType.sort( aValue, bValue, direction );\n\t\t};\n\n\t\treturn {\n\t\t\tid: field.id,\n\t\t\tlabel: field.label || field.id,\n\t\t\theader: field.header || field.label || field.id,\n\t\t\tdescription: field.description,\n\t\t\tplaceholder: field.placeholder,\n\t\t\tgetValue,\n\t\t\tsetValue: field.setValue || setValueFromId( field.id ),\n\t\t\telements: field.elements,\n\t\t\tgetElements: field.getElements,\n\t\t\thasElements: hasElements( field ),\n\t\t\tisVisible: field.isVisible,\n\t\t\tenableHiding: field.enableHiding ?? true,\n\t\t\treadOnly: field.readOnly ?? false,\n\t\t\t// The type provides defaults for the following props\n\t\t\ttype: fieldType.type,\n\t\t\trender: field.render ?? fieldType.render,\n\t\t\tEdit: getControl( field, fieldType.Edit ),\n\t\t\tsort,\n\t\t\tenableSorting: field.enableSorting ?? fieldType.enableSorting,\n\t\t\tenableGlobalSearch:\n\t\t\t\tfield.enableGlobalSearch ?? fieldType.enableGlobalSearch,\n\t\t\tisValid: getIsValid( field, fieldType ),\n\t\t\tfilterBy: getFilterBy(\n\t\t\t\tfield,\n\t\t\t\tfieldType.defaultOperators,\n\t\t\t\tfieldType.validOperators\n\t\t\t),\n\t\t\tfilter: getFilter( fieldType ),\n\t\t\tformat: getFormat( field, fieldType ),\n\t\t\tgetValueFormatted:\n\t\t\t\tfield.getValueFormatted ?? fieldType.getValueFormatted,\n\t\t};\n\t} );\n}\n", "/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormProps } from '../types';\nimport normalizeFields from '../field-types';\nimport { DataFormProvider } from '../components/dataform-context';\nimport { DataFormLayout } from '../components/dataform-layouts/data-form-layout';\nimport normalizeForm from '../components/dataform-layouts/normalize-form';\n\nexport default function DataForm< Item >( {\n\tdata,\n\tform,\n\tfields,\n\tonChange,\n\tvalidity,\n}: DataFormProps< Item > ) {\n\tconst normalizedForm = useMemo( () => normalizeForm( form ), [ form ] );\n\tconst normalizedFields = useMemo(\n\t\t() => normalizeFields( fields ),\n\t\t[ fields ]\n\t);\n\n\tif ( ! form.fields ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DataFormProvider fields={ normalizedFields }>\n\t\t\t<DataFormLayout\n\t\t\t\tdata={ data }\n\t\t\t\tform={ normalizedForm }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tvalidity={ validity }\n\t\t\t/>\n\t\t</DataFormProvider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../types';\n\ntype DataFormContextType< Item > = {\n\tfields: NormalizedField< Item >[];\n};\n\nconst DataFormContext = createContext< DataFormContextType< any > >( {\n\tfields: [],\n} );\nDataFormContext.displayName = 'DataFormContext';\n\nexport function DataFormProvider< Item >( {\n\tfields,\n\tchildren,\n}: React.PropsWithChildren< {\n\tfields: NormalizedField< Item >[];\n} > ) {\n\treturn (\n\t\t<DataFormContext.Provider value={ { fields } }>\n\t\t\t{ children }\n\t\t</DataFormContext.Provider>\n\t);\n}\n\nexport default DataFormContext;\n", "/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldValidity,\n\tFormValidity,\n\tNormalizedForm,\n\tNormalizedFormField,\n} from '../../types';\nimport { getFormFieldLayout } from './index';\nimport DataFormContext from '../dataform-context';\n\nconst DEFAULT_WRAPPER = ( { children }: { children: React.ReactNode } ) => (\n\t<Stack direction=\"column\" className=\"dataforms-layouts__wrapper\" gap=\"md\">\n\t\t{ children }\n\t</Stack>\n);\n\nexport function DataFormLayout< Item >( {\n\tdata,\n\tform,\n\tonChange,\n\tvalidity,\n\tchildren,\n\tas,\n}: {\n\tdata: Item;\n\tform: NormalizedForm;\n\tonChange: ( value: any ) => void;\n\tvalidity?: FormValidity;\n\tchildren?: (\n\t\tFieldLayout: ( props: {\n\t\t\tdata: Item;\n\t\t\tfield: NormalizedFormField;\n\t\t\tonChange: ( value: any ) => void;\n\t\t\thideLabelFromVision?: boolean;\n\t\t\tvalidity?: FieldValidity;\n\t\t} ) => React.JSX.Element | null,\n\t\tchildField: NormalizedFormField,\n\t\tchildFieldValidity?: FieldValidity\n\t) => React.JSX.Element;\n\tas?: React.ComponentType< { children: React.ReactNode } >;\n} ) {\n\tconst { fields: fieldDefinitions } = useContext( DataFormContext );\n\n\tfunction getFieldDefinition( field: NormalizedFormField ) {\n\t\treturn fieldDefinitions.find(\n\t\t\t( fieldDefinition ) => fieldDefinition.id === field.id\n\t\t);\n\t}\n\n\tconst Wrapper =\n\t\tas ??\n\t\tgetFormFieldLayout( form.layout.type )?.wrapper ??\n\t\tDEFAULT_WRAPPER;\n\n\treturn (\n\t\t<Wrapper layout={ form.layout }>\n\t\t\t{ form.fields.map( ( formField ) => {\n\t\t\t\tconst FieldLayout = getFormFieldLayout( formField.layout.type )\n\t\t\t\t\t?.component;\n\n\t\t\t\tif ( ! FieldLayout ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst fieldDefinition = ! formField.children\n\t\t\t\t\t? getFieldDefinition( formField )\n\t\t\t\t\t: undefined;\n\n\t\t\t\tif (\n\t\t\t\t\tfieldDefinition &&\n\t\t\t\t\tfieldDefinition.isVisible &&\n\t\t\t\t\t! fieldDefinition.isVisible( data )\n\t\t\t\t) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tif ( children ) {\n\t\t\t\t\treturn children(\n\t\t\t\t\t\tFieldLayout,\n\t\t\t\t\t\tformField,\n\t\t\t\t\t\tvalidity?.[ formField.id ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<FieldLayout\n\t\t\t\t\t\tkey={ formField.id }\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tfield={ formField }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\tvalidity={ validity?.[ formField.id ] }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Wrapper>\n\t);\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useContext, useMemo } from '@wordpress/element';\nimport {\n\t__experimentalHeading as Heading,\n\tBaseControl,\n} from '@wordpress/components';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldLayoutProps,\n\tNormalizedForm,\n\tNormalizedRegularLayout,\n} from '../../../types';\nimport DataFormContext from '../../dataform-context';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\n\nfunction Header( { title }: { title: string } ) {\n\treturn (\n\t\t<Stack\n\t\t\tdirection=\"column\"\n\t\t\tclassName=\"dataforms-layouts-regular__header\"\n\t\t\tgap=\"md\"\n\t\t>\n\t\t\t<Stack direction=\"row\" align=\"center\">\n\t\t\t\t<Heading level={ 2 } size={ 13 }>\n\t\t\t\t\t{ title }\n\t\t\t\t</Heading>\n\t\t\t</Stack>\n\t\t</Stack>\n\t);\n}\n\nexport default function FormRegularField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: FieldLayoutProps< Item > ) {\n\tconst { fields } = useContext( DataFormContext );\n\tconst layout = field.layout as NormalizedRegularLayout;\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\tfields: !! field.children ? field.children : [],\n\t\t} ),\n\t\t[ field ]\n\t);\n\n\tif ( !! field.children ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ ! hideLabelFromVision && field.label && (\n\t\t\t\t\t<Header title={ field.label } />\n\t\t\t\t) }\n\t\t\t\t<DataFormLayout\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tform={ form }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tvalidity={ validity?.children }\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst labelPosition = layout.labelPosition;\n\tconst fieldDefinition = fields.find(\n\t\t( fieldDef ) => fieldDef.id === field.id\n\t);\n\n\tif ( ! fieldDefinition || ! fieldDefinition.Edit ) {\n\t\treturn null;\n\t}\n\n\tif ( labelPosition === 'side' ) {\n\t\treturn (\n\t\t\t<Stack\n\t\t\t\tdirection=\"row\"\n\t\t\t\tclassName=\"dataforms-layouts-regular__field\"\n\t\t\t\tgap=\"xs\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t'dataforms-layouts-regular__field-label',\n\t\t\t\t\t\t`dataforms-layouts-regular__field-label--label-position-${ labelPosition }`\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ fieldDefinition.label }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"dataforms-layouts-regular__field-control\">\n\t\t\t\t\t{ fieldDefinition.readOnly === true ? (\n\t\t\t\t\t\t<fieldDefinition.render\n\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\tfield={ fieldDefinition }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<fieldDefinition.Edit\n\t\t\t\t\t\t\tkey={ fieldDefinition.id }\n\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\tfield={ fieldDefinition }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalidity={ validity }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</Stack>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"dataforms-layouts-regular__field\">\n\t\t\t{ fieldDefinition.readOnly === true ? (\n\t\t\t\t<>\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ ! hideLabelFromVision && labelPosition !== 'none' && (\n\t\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t\t{ fieldDefinition.label }\n\t\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<fieldDefinition.render\n\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\tfield={ fieldDefinition }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<fieldDefinition.Edit\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tfield={ fieldDefinition }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\thideLabelFromVision={\n\t\t\t\t\t\tlabelPosition === 'none' ? true : hideLabelFromVision\n\t\t\t\t\t}\n\t\t\t\t\tvalidity={ validity }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n", "/**\n * Internal dependencies\n */\nimport type {\n\tForm,\n\tLayout,\n\tNormalizedForm,\n\tNormalizedFormField,\n\tNormalizedLayout,\n\tNormalizedRegularLayout,\n\tNormalizedPanelLayout,\n\tNormalizedCardLayout,\n\tNormalizedRowLayout,\n\tNormalizedDetailsLayout,\n\tNormalizedCardSummaryField,\n\tCardSummaryField,\n} from '../../types';\n\nexport const DEFAULT_LAYOUT: NormalizedLayout = {\n\ttype: 'regular',\n\tlabelPosition: 'top',\n} as NormalizedRegularLayout;\n\nconst normalizeCardSummaryField = (\n\tsum: CardSummaryField\n): NormalizedCardSummaryField => {\n\tif ( typeof sum === 'string' ) {\n\t\treturn [ { id: sum, visibility: 'when-collapsed' } ];\n\t}\n\treturn sum.map( ( item ) => {\n\t\tif ( typeof item === 'string' ) {\n\t\t\treturn { id: item, visibility: 'when-collapsed' };\n\t\t}\n\t\treturn { id: item.id, visibility: item.visibility };\n\t} );\n};\n\n/**\n * Normalizes a layout configuration based on its type.\n *\n * @param layout The layout object to normalize.\n * @return The normalized layout object.\n */\nfunction normalizeLayout( layout?: Layout ): NormalizedLayout {\n\tlet normalizedLayout = DEFAULT_LAYOUT;\n\n\tif ( layout?.type === 'regular' ) {\n\t\tnormalizedLayout = {\n\t\t\ttype: 'regular',\n\t\t\tlabelPosition: layout?.labelPosition ?? 'top',\n\t\t} satisfies NormalizedRegularLayout;\n\t} else if ( layout?.type === 'panel' ) {\n\t\tconst summary = layout.summary ?? [];\n\t\tconst normalizedSummary = Array.isArray( summary )\n\t\t\t? summary\n\t\t\t: [ summary ];\n\n\t\tnormalizedLayout = {\n\t\t\ttype: 'panel',\n\t\t\tlabelPosition: layout?.labelPosition ?? 'side',\n\t\t\topenAs: layout?.openAs ?? 'dropdown',\n\t\t\tsummary: normalizedSummary,\n\t\t} satisfies NormalizedPanelLayout;\n\t} else if ( layout?.type === 'card' ) {\n\t\tif ( layout.withHeader === false ) {\n\t\t\t// Don't let isOpened be false if withHeader is false.\n\t\t\t// Otherwise, the card will not be visible.\n\t\t\tnormalizedLayout = {\n\t\t\t\ttype: 'card',\n\t\t\t\twithHeader: false,\n\t\t\t\tisOpened: true,\n\t\t\t\tsummary: [],\n\t\t\t\tisCollapsible: false,\n\t\t\t} satisfies NormalizedCardLayout;\n\t\t} else {\n\t\t\tconst summary = layout.summary ?? [];\n\n\t\t\tnormalizedLayout = {\n\t\t\t\ttype: 'card',\n\t\t\t\twithHeader: true,\n\t\t\t\tisOpened:\n\t\t\t\t\ttypeof layout.isOpened === 'boolean'\n\t\t\t\t\t\t? layout.isOpened\n\t\t\t\t\t\t: true,\n\t\t\t\tsummary: normalizeCardSummaryField( summary ),\n\t\t\t\tisCollapsible:\n\t\t\t\t\tlayout.isCollapsible === undefined\n\t\t\t\t\t\t? true\n\t\t\t\t\t\t: layout.isCollapsible,\n\t\t\t} satisfies NormalizedCardLayout;\n\t\t}\n\t} else if ( layout?.type === 'row' ) {\n\t\tnormalizedLayout = {\n\t\t\ttype: 'row',\n\t\t\talignment: layout?.alignment ?? 'center',\n\t\t\tstyles: layout?.styles ?? {},\n\t\t} satisfies NormalizedRowLayout;\n\t} else if ( layout?.type === 'details' ) {\n\t\tnormalizedLayout = {\n\t\t\ttype: 'details',\n\t\t\tsummary: layout?.summary ?? '',\n\t\t} satisfies NormalizedDetailsLayout;\n\t}\n\n\treturn normalizedLayout;\n}\n\nfunction normalizeForm( form: Form ): NormalizedForm {\n\tconst normalizedFormLayout = normalizeLayout( form?.layout );\n\n\tconst normalizedFields: NormalizedFormField[] = ( form.fields ?? [] ).map(\n\t\t( field ) => {\n\t\t\tif ( typeof field === 'string' ) {\n\t\t\t\treturn {\n\t\t\t\t\tid: field,\n\t\t\t\t\tlayout: normalizedFormLayout,\n\t\t\t\t} satisfies NormalizedFormField;\n\t\t\t}\n\n\t\t\tconst fieldLayout = field.layout\n\t\t\t\t? normalizeLayout( field.layout )\n\t\t\t\t: normalizedFormLayout;\n\n\t\t\treturn {\n\t\t\t\tid: field.id,\n\t\t\t\tlayout: fieldLayout,\n\t\t\t\t...( !! field.label && { label: field.label } ),\n\t\t\t\t...( !! field.description && {\n\t\t\t\t\tdescription: field.description,\n\t\t\t\t} ),\n\t\t\t\t...( 'children' in field &&\n\t\t\t\t\tArray.isArray( field.children ) && {\n\t\t\t\t\t\tchildren: normalizeForm( {\n\t\t\t\t\t\t\tfields: field.children,\n\t\t\t\t\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\t\t\t\t} ).fields,\n\t\t\t\t\t} ),\n\t\t\t} satisfies NormalizedFormField;\n\t\t}\n\t);\n\n\treturn {\n\t\tlayout: normalizedFormLayout,\n\t\tfields: normalizedFields,\n\t};\n}\n\nexport default normalizeForm;\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Icon, Tooltip } from '@wordpress/components';\nimport { useState, useContext } from '@wordpress/element';\nimport { error as errorIcon } from '@wordpress/icons';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldLayoutProps,\n\tFieldValidity,\n\tNormalizedField,\n\tNormalizedFormField,\n\tNormalizedPanelLayout,\n} from '../../../types';\nimport DataFormContext from '../../dataform-context';\nimport PanelDropdown from './dropdown';\nimport PanelModal from './modal';\nimport { getSummaryFields } from '../get-summary-fields';\n\nfunction getFirstValidationError(\n\tvalidity: FieldValidity | undefined\n): string | undefined {\n\tif ( ! validity ) {\n\t\treturn undefined;\n\t}\n\n\tconst validityRules = Object.keys( validity ).filter(\n\t\t( key ) => key !== 'children'\n\t);\n\n\tfor ( const key of validityRules ) {\n\t\tconst rule = validity[ key as keyof Omit< FieldValidity, 'children' > ];\n\t\tif ( rule === undefined ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( rule.type === 'invalid' ) {\n\t\t\tif ( rule.message ) {\n\t\t\t\treturn rule.message;\n\t\t\t}\n\n\t\t\t// Provide default message for required validation (message is optional)\n\t\t\tif ( key === 'required' ) {\n\t\t\t\treturn 'A required field is empty';\n\t\t\t}\n\n\t\t\treturn 'Unidentified validation error';\n\t\t}\n\t}\n\n\t// Check children recursively\n\tif ( validity.children ) {\n\t\tfor ( const childValidity of Object.values( validity.children ) ) {\n\t\t\tconst childError = getFirstValidationError( childValidity );\n\t\t\tif ( childError ) {\n\t\t\t\treturn childError;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\nconst getFieldDefinition = < Item, >(\n\tfield: NormalizedFormField,\n\tfields: NormalizedField< Item >[]\n) => {\n\tconst fieldDefinition = fields.find( ( _field ) => _field.id === field.id );\n\n\tif ( ! fieldDefinition ) {\n\t\treturn fields.find( ( _field ) => {\n\t\t\tif ( !! field.children ) {\n\t\t\t\tconst simpleChildren = field.children.filter(\n\t\t\t\t\t( child ) => ! child.children\n\t\t\t\t);\n\n\t\t\t\tif ( simpleChildren.length === 0 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn _field.id === simpleChildren[ 0 ].id;\n\t\t\t}\n\n\t\t\treturn _field.id === field.id;\n\t\t} );\n\t}\n\n\treturn fieldDefinition;\n};\n\n/**\n * Determines the field definition and summary fields for a panel layout.\n *\n * Summary fields are determined with the following priority:\n * 1. Use layout.summary fields if they exist\n * 2. Fall back to the field definition that matches the form field's id\n * 3. If the form field id doesn't exist, pick the first child field\n * 4. If no field definition is found, return empty summary fields\n *\n * @param layout - The normalized panel layout configuration\n * @param field  - The form field to get definition for\n * @param fields - Array of normalized field definitions\n * @return Object containing fieldDefinition and summaryFields\n */\nconst getFieldDefinitionAndSummaryFields = < Item, >(\n\tlayout: NormalizedPanelLayout,\n\tfield: NormalizedFormField,\n\tfields: NormalizedField< Item >[]\n) => {\n\tconst summaryFields = getSummaryFields( layout.summary, fields );\n\tconst fieldDefinition = getFieldDefinition( field, fields );\n\n\tif ( summaryFields.length === 0 ) {\n\t\treturn {\n\t\t\tsummaryFields: fieldDefinition ? [ fieldDefinition ] : [],\n\t\t\tfieldDefinition,\n\t\t};\n\t}\n\n\treturn {\n\t\tsummaryFields,\n\t\tfieldDefinition,\n\t};\n};\n\nexport default function FormPanelField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\tvalidity,\n}: FieldLayoutProps< Item > ) {\n\tconst { fields } = useContext( DataFormContext );\n\tconst layout = field.layout as NormalizedPanelLayout;\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState< HTMLElement | null >(\n\t\tnull\n\t);\n\n\t// Track if the panel has been closed (touched) to only show errors after interaction.\n\tconst [ touched, setTouched ] = useState( false );\n\tconst handleClose = () => setTouched( true );\n\n\tconst { fieldDefinition, summaryFields } =\n\t\tgetFieldDefinitionAndSummaryFields( layout, field, fields );\n\n\tif ( ! fieldDefinition ) {\n\t\treturn null;\n\t}\n\n\tconst labelPosition = layout.labelPosition;\n\tconst errorMessage = getFirstValidationError( validity );\n\tconst showError = touched && !! errorMessage;\n\tconst labelClassName = clsx(\n\t\t'dataforms-layouts-panel__field-label',\n\t\t`dataforms-layouts-panel__field-label--label-position-${ labelPosition }`,\n\t\t{ 'has-error': showError }\n\t);\n\tconst fieldLabel = !! field.children ? field.label : fieldDefinition?.label;\n\n\tconst labelContent = showError ? (\n\t\t<Tooltip text={ errorMessage } placement=\"top\">\n\t\t\t<Stack\n\t\t\t\tdirection=\"row\"\n\t\t\t\tgap=\"xs\"\n\t\t\t\tclassName=\"dataforms-layouts-panel__field-label-error-content\"\n\t\t\t\tjustify=\"flex-start\"\n\t\t\t>\n\t\t\t\t<Icon icon={ errorIcon } size={ 16 } />\n\t\t\t\t<>{ fieldLabel }</>\n\t\t\t</Stack>\n\t\t</Tooltip>\n\t) : (\n\t\tfieldLabel\n\t);\n\n\tconst renderedControl =\n\t\tlayout.openAs === 'modal' ? (\n\t\t\t<PanelModal\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tlabelPosition={ labelPosition }\n\t\t\t\tsummaryFields={ summaryFields }\n\t\t\t\tfieldDefinition={ fieldDefinition }\n\t\t\t\tonClose={ handleClose }\n\t\t\t\ttouched={ touched }\n\t\t\t/>\n\t\t) : (\n\t\t\t<PanelDropdown\n\t\t\t\tdata={ data }\n\t\t\t\tfield={ field }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tvalidity={ validity }\n\t\t\t\tlabelPosition={ labelPosition }\n\t\t\t\tsummaryFields={ summaryFields }\n\t\t\t\tfieldDefinition={ fieldDefinition }\n\t\t\t\tpopoverAnchor={ popoverAnchor }\n\t\t\t\tonClose={ handleClose }\n\t\t\t\ttouched={ touched }\n\t\t\t/>\n\t\t);\n\n\tif ( labelPosition === 'top' ) {\n\t\treturn (\n\t\t\t<Stack\n\t\t\t\tdirection=\"column\"\n\t\t\t\tclassName=\"dataforms-layouts-panel__field\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ labelClassName }\n\t\t\t\t\tstyle={ { paddingBottom: 0 } }\n\t\t\t\t>\n\t\t\t\t\t{ labelContent }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"dataforms-layouts-panel__field-control\">\n\t\t\t\t\t{ renderedControl }\n\t\t\t\t</div>\n\t\t\t</Stack>\n\t\t);\n\t}\n\n\tif ( labelPosition === 'none' ) {\n\t\treturn (\n\t\t\t<Stack\n\t\t\t\tdirection=\"row\"\n\t\t\t\tgap=\"xs\"\n\t\t\t\tclassName=\"dataforms-layouts-panel__field dataforms-layouts-panel__field--label-position-none\"\n\t\t\t>\n\t\t\t\t{ showError && (\n\t\t\t\t\t<Tooltip text={ errorMessage } placement=\"top\">\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName=\"dataforms-layouts-panel__field-label-error-content\"\n\t\t\t\t\t\t\ticon={ errorIcon }\n\t\t\t\t\t\t\tsize={ 16 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) }\n\t\t\t\t<div className=\"dataforms-layouts-panel__field-control\">\n\t\t\t\t\t{ renderedControl }\n\t\t\t\t</div>\n\t\t\t</Stack>\n\t\t);\n\t}\n\n\t// Defaults to label position side.\n\treturn (\n\t\t<Stack\n\t\t\tdirection=\"row\"\n\t\t\tgap=\"xs\"\n\t\t\tref={ setPopoverAnchor }\n\t\t\tclassName=\"dataforms-layouts-panel__field\"\n\t\t>\n\t\t\t<div className={ labelClassName }>{ labelContent }</div>\n\t\t\t<div className=\"dataforms-layouts-panel__field-control\">\n\t\t\t\t{ renderedControl }\n\t\t\t</div>\n\t\t</Stack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHeading as Heading,\n\t__experimentalSpacer as Spacer,\n\tDropdown,\n\tButton,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useMemo, useRef } from '@wordpress/element';\nimport { closeSmall } from '@wordpress/icons';\nimport { useFocusOnMount } from '@wordpress/compose';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldValidity,\n\tNormalizedForm,\n\tNormalizedFormField,\n\tFormValidity,\n\tNormalizedField,\n} from '../../../types';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\nimport SummaryButton from './summary-button';\nimport useReportValidity from '../../../hooks/use-report-validity';\n\nfunction DropdownHeader( {\n\ttitle,\n\tonClose,\n}: {\n\ttitle?: string;\n\tonClose: () => void;\n} ) {\n\treturn (\n\t\t<Stack\n\t\t\tdirection=\"column\"\n\t\t\tclassName=\"dataforms-layouts-panel__dropdown-header\"\n\t\t\tgap=\"md\"\n\t\t>\n\t\t\t<Stack direction=\"row\" gap=\"xs\" align=\"center\">\n\t\t\t\t{ title && (\n\t\t\t\t\t<Heading level={ 2 } size={ 13 }>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</Heading>\n\t\t\t\t) }\n\t\t\t\t<Spacer style={ { flex: 1 } } />\n\t\t\t\t{ onClose && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlabel={ __( 'Close' ) }\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Stack>\n\t\t</Stack>\n\t);\n}\n\nfunction DropdownContentWithValidation( {\n\ttouched,\n\tchildren,\n}: {\n\ttouched: boolean;\n\tchildren: React.ReactNode;\n} ) {\n\tconst ref = useRef< HTMLDivElement >( null );\n\tuseReportValidity( ref, touched );\n\treturn <div ref={ ref }>{ children }</div>;\n}\n\nfunction PanelDropdown< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\tvalidity,\n\tlabelPosition = 'side',\n\tsummaryFields,\n\tfieldDefinition,\n\tpopoverAnchor,\n\tonClose: onCloseCallback,\n\ttouched,\n}: {\n\tdata: Item;\n\tfield: NormalizedFormField;\n\tonChange: ( value: any ) => void;\n\tvalidity?: FieldValidity;\n\tlabelPosition: 'side' | 'top' | 'none';\n\tsummaryFields: NormalizedField< Item >[];\n\tfieldDefinition: NormalizedField< Item >;\n\tpopoverAnchor: HTMLElement | null;\n\tonClose?: () => void;\n\ttouched: boolean;\n} ) {\n\tconst fieldLabel = !! field.children ? field.label : fieldDefinition?.label;\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\tfields: !! field.children\n\t\t\t\t? field.children\n\t\t\t\t: // If not explicit children return the field id itself.\n\t\t\t\t  [ { id: field.id, layout: DEFAULT_LAYOUT } ],\n\t\t} ),\n\t\t[ field ]\n\t);\n\tconst formValidity = useMemo( (): FormValidity => {\n\t\tif ( validity === undefined ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif ( !! field.children ) {\n\t\t\treturn validity?.children;\n\t\t}\n\n\t\treturn { [ field.id ]: validity };\n\t}, [ validity, field ] );\n\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstInputElement' );\n\n\treturn (\n\t\t<Dropdown\n\t\t\tcontentClassName=\"dataforms-layouts-panel__field-dropdown\"\n\t\t\tpopoverProps={ popoverProps }\n\t\t\tfocusOnMount={ false }\n\t\t\tonToggle={ ( willOpen ) => {\n\t\t\t\tif ( ! willOpen ) {\n\t\t\t\t\tonCloseCallback?.();\n\t\t\t\t}\n\t\t\t} }\n\t\t\ttoggleProps={ {\n\t\t\t\tsize: 'compact',\n\t\t\t\tvariant: 'tertiary',\n\t\t\t\ttooltipPosition: 'middle left',\n\t\t\t} }\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<SummaryButton\n\t\t\t\t\tsummaryFields={ summaryFields }\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tlabelPosition={ labelPosition }\n\t\t\t\t\tfieldLabel={ fieldLabel }\n\t\t\t\t\tdisabled={ fieldDefinition.readOnly === true }\n\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<DropdownContentWithValidation touched={ touched }>\n\t\t\t\t\t<DropdownHeader title={ fieldLabel } onClose={ onClose } />\n\t\t\t\t\t<div ref={ focusOnMountRef }>\n\t\t\t\t\t\t<DataFormLayout\n\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\tform={ form }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\tvalidity={ formValidity }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ (\n\t\t\t\t\t\t\t\tFieldLayout,\n\t\t\t\t\t\t\t\tchildField,\n\t\t\t\t\t\t\t\tchildFieldValidity\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<FieldLayout\n\t\t\t\t\t\t\t\t\tkey={ childField.id }\n\t\t\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\t\t\tfield={ childField }\n\t\t\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\t\t\thideLabelFromVision={\n\t\t\t\t\t\t\t\t\t\t( form?.fields ?? [] ).length < 2\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalidity={ childFieldValidity }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</DataFormLayout>\n\t\t\t\t\t</div>\n\t\t\t\t</DropdownContentWithValidation>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default PanelDropdown;\n", "/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { sprintf, _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedField } from '../../../types';\n\nfunction SummaryButton< Item >( {\n\tsummaryFields,\n\tdata,\n\tlabelPosition,\n\tfieldLabel,\n\tdisabled,\n\tonClick,\n\t'aria-expanded': ariaExpanded,\n}: {\n\tsummaryFields: NormalizedField< Item >[];\n\tdata: Item;\n\tlabelPosition: 'side' | 'top' | 'none';\n\tfieldLabel?: string;\n\tdisabled?: boolean;\n\tonClick: () => void;\n\t'aria-expanded'?: boolean;\n} ) {\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"dataforms-layouts-panel__summary-button\"\n\t\t\tsize=\"compact\"\n\t\t\tvariant={\n\t\t\t\t[ 'none', 'top' ].includes( labelPosition )\n\t\t\t\t\t? 'link'\n\t\t\t\t\t: 'tertiary'\n\t\t\t}\n\t\t\taria-expanded={ ariaExpanded }\n\t\t\taria-label={ sprintf(\n\t\t\t\t// translators: %s: Field name.\n\t\t\t\t_x( 'Edit %s', 'field' ),\n\t\t\t\tfieldLabel || ''\n\t\t\t) }\n\t\t\tonClick={ onClick }\n\t\t\tdisabled={ disabled }\n\t\t\taccessibleWhenDisabled\n\t\t\tstyle={\n\t\t\t\tsummaryFields.length > 1\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tminHeight: 'auto',\n\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\talignItems: 'flex-start',\n\t\t\t\t\t  }\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t>\n\t\t\t{ summaryFields.length > 1 ? (\n\t\t\t\t<div\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'flex-start',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tgap: '2px',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ summaryFields.map( ( summaryField ) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={ summaryField.id }\n\t\t\t\t\t\t\tstyle={ { width: '100%' } }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<summaryField.render\n\t\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\t\tfield={ summaryField }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) ) }\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\tsummaryFields.map( ( summaryField ) => (\n\t\t\t\t\t<summaryField.render\n\t\t\t\t\t\tkey={ summaryField.id }\n\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\tfield={ summaryField }\n\t\t\t\t\t/>\n\t\t\t\t) )\n\t\t\t) }\n\t\t</Button>\n\t);\n}\n\nexport default SummaryButton;\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Triggers `reportValidity()` on all form inputs within a container element.\n * This fires the browser's `invalid` event on each input, which validated\n * controls listen to in order to display their error states.\n *\n * Used by panel and card layouts to show validation errors\n * immediately when their content becomes visible after prior interaction.\n *\n * @param ref          A ref to the container element.\n * @param shouldReport Whether to trigger reportValidity. Typically\n *                     derived from `touched` state and open/visible state.\n */\nexport default function useReportValidity(\n\tref: React.RefObject< HTMLElement | null >,\n\tshouldReport: boolean\n) {\n\tuseEffect( () => {\n\t\tif ( shouldReport && ref.current ) {\n\t\t\tconst inputs = ref.current.querySelectorAll(\n\t\t\t\t'input, textarea, select'\n\t\t\t);\n\t\t\tinputs.forEach( ( input ) => {\n\t\t\t\t( input as HTMLInputElement ).reportValidity();\n\t\t\t} );\n\t\t}\n\t}, [ shouldReport, ref ] );\n}\n", "/**\n * External dependencies\n */\nimport deepMerge from 'deepmerge';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalSpacer as Spacer,\n\tButton,\n\tModal,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useContext, useMemo, useRef, useState } from '@wordpress/element';\nimport { useFocusOnMount, useMergeRefs } from '@wordpress/compose';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tField,\n\tNormalizedForm,\n\tNormalizedFormField,\n\tNormalizedField,\n} from '../../../types';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\nimport SummaryButton from './summary-button';\nimport useFormValidity from '../../../hooks/use-form-validity';\nimport useReportValidity from '../../../hooks/use-report-validity';\nimport DataFormContext from '../../dataform-context';\n\nfunction ModalContent< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\tfieldLabel,\n\tonClose,\n\ttouched,\n}: {\n\tdata: Item;\n\tfield: NormalizedFormField;\n\tonChange: ( data: Partial< Item > ) => void;\n\tonClose: () => void;\n\tfieldLabel: string;\n\ttouched: boolean;\n} ) {\n\tconst { fields } = useContext( DataFormContext );\n\tconst [ changes, setChanges ] = useState< Partial< Item > >( {} );\n\tconst modalData = useMemo( () => {\n\t\treturn deepMerge( data, changes, {\n\t\t\tarrayMerge: ( target, source ) => source,\n\t\t} );\n\t}, [ data, changes ] );\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\tfields: !! field.children\n\t\t\t\t? field.children\n\t\t\t\t: // If not explicit children return the field id itself.\n\t\t\t\t  [ { id: field.id, layout: DEFAULT_LAYOUT } ],\n\t\t} ),\n\t\t[ field ]\n\t);\n\n\tconst fieldsAsFieldType: Field< Item >[] = fields.map( ( f ) => ( {\n\t\t...f,\n\t\tEdit: f.Edit === null ? undefined : f.Edit,\n\t\tisValid: {\n\t\t\trequired: f.isValid.required?.constraint,\n\t\t\telements: f.isValid.elements?.constraint,\n\t\t\tmin: f.isValid.min?.constraint,\n\t\t\tmax: f.isValid.max?.constraint,\n\t\t\tpattern: f.isValid.pattern?.constraint,\n\t\t\tminLength: f.isValid.minLength?.constraint,\n\t\t\tmaxLength: f.isValid.maxLength?.constraint,\n\t\t},\n\t} ) );\n\tconst { validity } = useFormValidity( modalData, fieldsAsFieldType, form );\n\n\tconst onApply = () => {\n\t\tonChange( changes );\n\t\tonClose();\n\t};\n\n\tconst handleOnChange = ( newValue: Partial< Item > ) => {\n\t\tsetChanges( ( prev ) =>\n\t\t\tdeepMerge( prev, newValue, {\n\t\t\t\tarrayMerge: ( target, source ) => source,\n\t\t\t} )\n\t\t);\n\t};\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstInputElement' );\n\tconst contentRef = useRef< HTMLDivElement >( null );\n\tconst mergedRef = useMergeRefs( [ focusOnMountRef, contentRef ] );\n\n\t// When the modal is opened after being previously closed (touched),\n\t// trigger reportValidity to show field-level errors.\n\tuseReportValidity( contentRef, touched );\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"dataforms-layouts-panel__modal\"\n\t\t\tonRequestClose={ onClose }\n\t\t\tisFullScreen={ false }\n\t\t\ttitle={ fieldLabel }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<div ref={ mergedRef }>\n\t\t\t\t<DataFormLayout\n\t\t\t\t\tdata={ modalData }\n\t\t\t\t\tform={ form }\n\t\t\t\t\tonChange={ handleOnChange }\n\t\t\t\t\tvalidity={ validity }\n\t\t\t\t>\n\t\t\t\t\t{ ( FieldLayout, childField, childFieldValidity ) => (\n\t\t\t\t\t\t<FieldLayout\n\t\t\t\t\t\t\tkey={ childField.id }\n\t\t\t\t\t\t\tdata={ modalData }\n\t\t\t\t\t\t\tfield={ childField }\n\t\t\t\t\t\t\tonChange={ handleOnChange }\n\t\t\t\t\t\t\thideLabelFromVision={ form.fields.length < 2 }\n\t\t\t\t\t\t\tvalidity={ childFieldValidity }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</DataFormLayout>\n\t\t\t</div>\n\t\t\t<Stack\n\t\t\t\tdirection=\"row\"\n\t\t\t\tclassName=\"dataforms-layouts-panel__modal-footer\"\n\t\t\t\tgap=\"sm\"\n\t\t\t>\n\t\t\t\t<Spacer style={ { flex: 1 } } />\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tonClick={ onApply }\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Apply' ) }\n\t\t\t\t</Button>\n\t\t\t</Stack>\n\t\t</Modal>\n\t);\n}\n\nfunction PanelModal< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\tlabelPosition,\n\tsummaryFields,\n\tfieldDefinition,\n\tonClose: onCloseCallback,\n\ttouched,\n}: {\n\tdata: Item;\n\tfield: NormalizedFormField;\n\tonChange: ( value: any ) => void;\n\tlabelPosition: 'side' | 'top' | 'none';\n\tsummaryFields: NormalizedField< Item >[];\n\tfieldDefinition: NormalizedField< Item >;\n\tonClose?: () => void;\n\ttouched: boolean;\n} ) {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\n\tconst fieldLabel = !! field.children ? field.label : fieldDefinition?.label;\n\n\tconst handleClose = () => {\n\t\tsetIsOpen( false );\n\t\tonCloseCallback?.();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<SummaryButton\n\t\t\t\tsummaryFields={ summaryFields }\n\t\t\t\tdata={ data }\n\t\t\t\tlabelPosition={ labelPosition }\n\t\t\t\tfieldLabel={ fieldLabel }\n\t\t\t\tdisabled={ fieldDefinition.readOnly === true }\n\t\t\t\tonClick={ () => setIsOpen( true ) }\n\t\t\t\taria-expanded={ isOpen }\n\t\t\t/>\n\t\t\t{ isOpen && (\n\t\t\t\t<ModalContent\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tfield={ field }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tfieldLabel={ fieldLabel ?? '' }\n\t\t\t\t\tonClose={ handleClose }\n\t\t\t\t\ttouched={ touched }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default PanelModal;\n", "/**\n * External dependencies\n */\nimport deepMerge from 'deepmerge';\nimport fastDeepEqual from 'fast-deep-equal/es6/index.js';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useRef, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport normalizeFields from '../field-types';\nimport normalizeForm from '../components/dataform-layouts/normalize-form';\nimport type {\n\tField,\n\tFieldValidity,\n\tForm,\n\tFormValidity,\n\tNormalizedField,\n\tNormalizedFormField,\n} from '../types';\n\nfunction isFormValid( formValidity: FormValidity | undefined ): boolean {\n\tif ( ! formValidity ) {\n\t\treturn true;\n\t}\n\n\treturn Object.values( formValidity ).every( ( fieldValidation ) => {\n\t\treturn Object.entries( fieldValidation ).every(\n\t\t\t( [ key, validation ] ) => {\n\t\t\t\tif (\n\t\t\t\t\tkey === 'children' &&\n\t\t\t\t\tvalidation &&\n\t\t\t\t\ttypeof validation === 'object'\n\t\t\t\t) {\n\t\t\t\t\t// Recursively check children validations\n\t\t\t\t\treturn isFormValid( validation as FormValidity );\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\tvalidation.type !== 'invalid' &&\n\t\t\t\t\tvalidation.type !== 'validating'\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t} );\n}\n\ntype FormFieldToValidate< Item > = {\n\tid: string;\n\tchildren: FormFieldToValidate< Item >[];\n\tfield?: NormalizedField< Item >;\n};\n\nfunction getFormFieldsToValidate< Item >(\n\tform: Form,\n\tfields: Field< Item >[]\n): FormFieldToValidate< Item >[] {\n\tconst normalizedForm = normalizeForm( form );\n\tif ( normalizedForm.fields.length === 0 ) {\n\t\treturn [];\n\t}\n\n\t// Create a map of field IDs to Field definitions for fast lookup\n\tconst fieldsMap = new Map< string, Field< Item > >();\n\tfields.forEach( ( field ) => {\n\t\tfieldsMap.set( field.id, field );\n\t} );\n\n\t// Recursive function to process form fields and their children\n\tfunction processFormField(\n\t\tformField: NormalizedFormField\n\t): FormFieldToValidate< Item > | null {\n\t\t// Handle combined fields (fields with children)\n\t\tif ( 'children' in formField && Array.isArray( formField.children ) ) {\n\t\t\tconst processedChildren = formField.children\n\t\t\t\t.map( processFormField )\n\t\t\t\t.filter( ( child ) => child !== null );\n\n\t\t\tif ( processedChildren.length === 0 ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst fieldDef = fieldsMap.get( formField.id );\n\t\t\tif ( fieldDef ) {\n\t\t\t\tconst [ normalizedField ] = normalizeFields< Item >( [\n\t\t\t\t\tfieldDef,\n\t\t\t\t] );\n\n\t\t\t\treturn {\n\t\t\t\t\tid: formField.id,\n\t\t\t\t\tchildren: processedChildren,\n\t\t\t\t\tfield: normalizedField,\n\t\t\t\t} satisfies FormFieldToValidate< Item >;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: formField.id,\n\t\t\t\tchildren: processedChildren,\n\t\t\t} satisfies FormFieldToValidate< Item >;\n\t\t}\n\n\t\t// Handle leaf fields (fields without children)\n\t\tconst fieldDef = fieldsMap.get( formField.id );\n\t\tif ( ! fieldDef ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst [ normalizedField ] = normalizeFields< Item >( [ fieldDef ] );\n\t\treturn {\n\t\t\tid: formField.id,\n\t\t\tchildren: [],\n\t\t\tfield: normalizedField,\n\t\t} as FormFieldToValidate< Item >;\n\t}\n\n\tconst toValidate = normalizedForm.fields\n\t\t.map( processFormField )\n\t\t.filter( ( field ) => field !== null );\n\n\treturn toValidate;\n}\n\nfunction setValidityAtPath(\n\tformValidity: FormValidity | undefined,\n\tfieldValidity: FieldValidity,\n\tpath: string[]\n): FormValidity {\n\t// Handle empty validity or empty path\n\tif ( ! formValidity ) {\n\t\tformValidity = {};\n\t}\n\n\tif ( path.length === 0 ) {\n\t\treturn formValidity;\n\t}\n\n\t// Clone the root to avoid mutations\n\tconst result = { ...formValidity };\n\n\t// Navigate through the result tree,\n\t// setting up empty paths if they don't exist.\n\tlet current: any = result;\n\tfor ( let i = 0; i < path.length - 1; i++ ) {\n\t\tconst segment = path[ i ];\n\t\tif ( ! current[ segment ] ) {\n\t\t\tcurrent[ segment ] = {};\n\t\t}\n\n\t\tcurrent[ segment ] = { ...current[ segment ] };\n\t\tcurrent = current[ segment ];\n\t}\n\n\t// At the final destination, merge the new validity with the existing.\n\tconst finalKey = path[ path.length - 1 ];\n\tcurrent[ finalKey ] = {\n\t\t...( current[ finalKey ] || {} ),\n\t\t...fieldValidity,\n\t};\n\n\treturn result;\n}\n\nfunction removeValidationProperty(\n\tformValidity: FormValidity | undefined,\n\tpath: string[],\n\tproperty: keyof FieldValidity\n): FormValidity | undefined {\n\tif ( ! formValidity || path.length === 0 ) {\n\t\treturn formValidity;\n\t}\n\tconst result = { ...formValidity };\n\t// Navigate to parent of target.\n\tlet current: any = result;\n\tfor ( let i = 0; i < path.length - 1; i++ ) {\n\t\tconst segment = path[ i ];\n\t\tif ( ! current[ segment ] ) {\n\t\t\treturn formValidity; // Path doesn't exist\n\t\t}\n\t\tcurrent[ segment ] = { ...current[ segment ] };\n\t\tcurrent = current[ segment ];\n\t}\n\tconst finalKey = path[ path.length - 1 ];\n\tif ( ! current[ finalKey ] ) {\n\t\treturn formValidity;\n\t}\n\tconst fieldValidity = { ...current[ finalKey ] };\n\tdelete fieldValidity[ property ];\n\t// If field has no more validations, remove it entirely.\n\tif ( Object.keys( fieldValidity ).length === 0 ) {\n\t\tdelete current[ finalKey ];\n\t} else {\n\t\t// Keep the field if it has other validations (including children).\n\t\tcurrent[ finalKey ] = fieldValidity;\n\t}\n\t// If root is empty, return undefined\n\tif ( Object.keys( result ).length === 0 ) {\n\t\treturn undefined;\n\t}\n\treturn result;\n}\n\nfunction handleElementsValidationAsync< Item >(\n\tpromise: Promise< any >,\n\tformField: FormFieldToValidate< Item >,\n\tpromiseHandler: PromiseHandler< Item >\n) {\n\tconst { elementsCounterRef, setFormValidity, path, item } = promiseHandler;\n\tconst currentToken =\n\t\t( elementsCounterRef.current[ formField.id ] || 0 ) + 1;\n\telementsCounterRef.current[ formField.id ] = currentToken;\n\n\tpromise\n\t\t.then( ( result ) => {\n\t\t\tif ( currentToken !== elementsCounterRef.current[ formField.id ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! Array.isArray( result ) ) {\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\telements: {\n\t\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\t\tmessage: __( 'Could not validate elements.' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t\t);\n\t\t\t\t\treturn newFormValidity;\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tformField.field?.isValid.elements &&\n\t\t\t\t! formField.field.isValid.elements.validate( item, {\n\t\t\t\t\t...formField.field,\n\t\t\t\t\telements: result,\n\t\t\t\t} )\n\t\t\t) {\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\telements: {\n\t\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\t\tmessage: __(\n\t\t\t\t\t\t\t\t\t'Value must be one of the elements.'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t\t);\n\t\t\t\t\treturn newFormValidity;\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\t// Validation passed so we need to remove `elements` from validity.\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\treturn removeValidationProperty(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t[ ...path, formField.id ],\n\t\t\t\t\t\t'elements'\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t}\n\t\t} )\n\t\t.catch( ( error ) => {\n\t\t\tif ( currentToken !== elementsCounterRef.current[ formField.id ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet errorMessage;\n\t\t\tif ( error instanceof Error ) {\n\t\t\t\terrorMessage = error.message;\n\t\t\t} else {\n\t\t\t\terrorMessage =\n\t\t\t\t\tString( error ) ||\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Unknown error when running elements validation asynchronously.'\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\tprev,\n\t\t\t\t\t{\n\t\t\t\t\t\telements: {\n\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\tmessage: errorMessage,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t);\n\t\t\t\treturn newFormValidity;\n\t\t\t} );\n\t\t} );\n}\n\nfunction handleCustomValidationAsync< Item >(\n\tpromise: Promise< any >,\n\tformField: FormFieldToValidate< Item >,\n\tpromiseHandler: PromiseHandler< Item >\n) {\n\tconst { customCounterRef, setFormValidity, path } = promiseHandler;\n\tconst currentToken = ( customCounterRef.current[ formField.id ] || 0 ) + 1;\n\tcustomCounterRef.current[ formField.id ] = currentToken;\n\n\tpromise\n\t\t.then( ( result ) => {\n\t\t\tif ( currentToken !== customCounterRef.current[ formField.id ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( result === null ) {\n\t\t\t\t// Validation passed so we need to remove `custom` from validity.\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\treturn removeValidationProperty(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t[ ...path, formField.id ],\n\t\t\t\t\t\t'custom'\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( typeof result === 'string' ) {\n\t\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\t\tprev,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcustom: {\n\t\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\t\tmessage: result,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t\t);\n\t\t\t\t\treturn newFormValidity;\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\tprev,\n\t\t\t\t\t{\n\t\t\t\t\t\tcustom: {\n\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\tmessage: __( 'Validation could not be processed.' ),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t);\n\t\t\t\treturn newFormValidity;\n\t\t\t} );\n\t\t} )\n\t\t.catch( ( error ) => {\n\t\t\tif ( currentToken !== customCounterRef.current[ formField.id ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet errorMessage;\n\t\t\tif ( error instanceof Error ) {\n\t\t\t\terrorMessage = error.message;\n\t\t\t} else {\n\t\t\t\terrorMessage =\n\t\t\t\t\tString( error ) ||\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Unknown error when running custom validation asynchronously.'\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tsetFormValidity( ( prev ) => {\n\t\t\t\tconst newFormValidity = setValidityAtPath(\n\t\t\t\t\tprev,\n\t\t\t\t\t{\n\t\t\t\t\t\tcustom: {\n\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\tmessage: errorMessage,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t[ ...path, formField.id ]\n\t\t\t\t);\n\t\t\t\treturn newFormValidity;\n\t\t\t} );\n\t\t} );\n}\n\ntype PromiseHandler< Item > = {\n\tcustomCounterRef: React.MutableRefObject< Record< string, number > >;\n\telementsCounterRef: React.MutableRefObject< Record< string, number > >;\n\tsetFormValidity: React.Dispatch< React.SetStateAction< FormValidity > >;\n\tpath: string[];\n\titem: Item;\n};\n\nfunction validateFormField< Item >(\n\titem: Item,\n\tformField: FormFieldToValidate< Item >,\n\tpromiseHandler: PromiseHandler< Item >\n): FieldValidity | undefined {\n\t// Validate the field: isValid.required\n\tif (\n\t\tformField.field?.isValid.required &&\n\t\t! formField.field.isValid.required.validate( item, formField.field )\n\t) {\n\t\treturn {\n\t\t\trequired: { type: 'invalid' },\n\t\t};\n\t}\n\n\t// Validate the field: isValid.pattern\n\tif (\n\t\tformField.field?.isValid.pattern &&\n\t\t! formField.field.isValid.pattern.validate( item, formField.field )\n\t) {\n\t\treturn {\n\t\t\tpattern: {\n\t\t\t\ttype: 'invalid',\n\t\t\t\tmessage: __( 'Value does not match the required pattern.' ),\n\t\t\t},\n\t\t};\n\t}\n\n\t// Validate the field: isValid.min\n\tif (\n\t\tformField.field?.isValid.min &&\n\t\t! formField.field.isValid.min.validate( item, formField.field )\n\t) {\n\t\treturn {\n\t\t\tmin: {\n\t\t\t\ttype: 'invalid',\n\t\t\t\tmessage: __( 'Value is below the minimum.' ),\n\t\t\t},\n\t\t};\n\t}\n\n\t// Validate the field: isValid.max\n\tif (\n\t\tformField.field?.isValid.max &&\n\t\t! formField.field.isValid.max.validate( item, formField.field )\n\t) {\n\t\treturn {\n\t\t\tmax: {\n\t\t\t\ttype: 'invalid',\n\t\t\t\tmessage: __( 'Value is above the maximum.' ),\n\t\t\t},\n\t\t};\n\t}\n\n\t// Validate the field: isValid.minLength\n\tif (\n\t\tformField.field?.isValid.minLength &&\n\t\t! formField.field.isValid.minLength.validate( item, formField.field )\n\t) {\n\t\treturn {\n\t\t\tminLength: {\n\t\t\t\ttype: 'invalid',\n\t\t\t\tmessage: __( 'Value is too short.' ),\n\t\t\t},\n\t\t};\n\t}\n\n\t// Validate the field: isValid.maxLength\n\tif (\n\t\tformField.field?.isValid.maxLength &&\n\t\t! formField.field.isValid.maxLength.validate( item, formField.field )\n\t) {\n\t\treturn {\n\t\t\tmaxLength: {\n\t\t\t\ttype: 'invalid',\n\t\t\t\tmessage: __( 'Value is too long.' ),\n\t\t\t},\n\t\t};\n\t}\n\n\t// Validate the field: isValid.elements (static)\n\tif (\n\t\tformField.field?.isValid.elements &&\n\t\tformField.field.hasElements &&\n\t\t! formField.field.getElements &&\n\t\tArray.isArray( formField.field.elements ) &&\n\t\t! formField.field.isValid.elements.validate( item, formField.field )\n\t) {\n\t\treturn {\n\t\t\telements: {\n\t\t\t\ttype: 'invalid',\n\t\t\t\tmessage: __( 'Value must be one of the elements.' ),\n\t\t\t},\n\t\t};\n\t}\n\n\t// Validate the field: isValid.custom (sync)\n\tlet customError;\n\tif ( !! formField.field && formField.field.isValid.custom ) {\n\t\ttry {\n\t\t\tconst value = formField.field.getValue( { item } );\n\t\t\tcustomError = formField.field.isValid.custom(\n\t\t\t\tdeepMerge(\n\t\t\t\t\titem,\n\t\t\t\t\tformField.field.setValue( {\n\t\t\t\t\t\titem,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t} ) as Partial< Item >\n\t\t\t\t),\n\t\t\t\tformField.field\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tlet errorMessage;\n\t\t\tif ( error instanceof Error ) {\n\t\t\t\terrorMessage = error.message;\n\t\t\t} else {\n\t\t\t\terrorMessage =\n\t\t\t\t\tString( error ) ||\n\t\t\t\t\t__( 'Unknown error when running custom validation.' );\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tcustom: {\n\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\tmessage: errorMessage,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\n\tif ( typeof customError === 'string' ) {\n\t\treturn {\n\t\t\tcustom: {\n\t\t\t\ttype: 'invalid',\n\t\t\t\tmessage: customError,\n\t\t\t},\n\t\t};\n\t}\n\n\t// Aggregate async validations (`elements` and `custom`).\n\tconst fieldValidity: FieldValidity = {};\n\t// Validate the field: isValid.elements (async)\n\tif (\n\t\t!! formField.field &&\n\t\tformField.field.isValid.elements &&\n\t\tformField.field.hasElements &&\n\t\ttypeof formField.field.getElements === 'function'\n\t) {\n\t\thandleElementsValidationAsync(\n\t\t\tformField.field.getElements(),\n\t\t\tformField,\n\t\t\tpromiseHandler\n\t\t);\n\t\tfieldValidity.elements = {\n\t\t\ttype: 'validating',\n\t\t\tmessage: __( 'Validating\u2026' ),\n\t\t};\n\t}\n\n\t// Validate the field: isValid.custom (async)\n\tif ( customError instanceof Promise ) {\n\t\thandleCustomValidationAsync( customError, formField, promiseHandler );\n\n\t\tfieldValidity.custom = {\n\t\t\ttype: 'validating',\n\t\t\tmessage: __( 'Validating\u2026' ),\n\t\t};\n\t}\n\n\t// Return aggregated validations if any exist\n\tif ( Object.keys( fieldValidity ).length > 0 ) {\n\t\treturn fieldValidity;\n\t}\n\n\t// Validate its children.\n\tif ( formField.children.length > 0 ) {\n\t\tconst result: Record< string, FieldValidity | undefined > = {};\n\t\tformField.children.forEach( ( child ) => {\n\t\t\tresult[ child.id ] = validateFormField( item, child, {\n\t\t\t\t...promiseHandler,\n\t\t\t\tpath: [ ...promiseHandler.path, formField.id, 'children' ],\n\t\t\t} );\n\t\t} );\n\n\t\tconst filteredResult: Record< string, FieldValidity > = {};\n\t\tObject.entries( result ).forEach( ( [ key, value ] ) => {\n\t\t\tif ( value !== undefined ) {\n\t\t\t\tfilteredResult[ key ] = value;\n\t\t\t}\n\t\t} );\n\n\t\tif ( Object.keys( filteredResult ).length === 0 ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\tchildren: filteredResult,\n\t\t};\n\t}\n\n\t// No errors for this field or its children.\n\treturn undefined;\n}\n\nfunction getFormFieldValue< Item >(\n\tformField: FormFieldToValidate< Item >,\n\titem: Item\n): any {\n\tconst fieldValue = formField?.field?.getValue( { item } );\n\tif ( formField.children.length === 0 ) {\n\t\treturn fieldValue;\n\t}\n\n\tconst childrenValues = formField.children.map( ( child ) =>\n\t\tgetFormFieldValue( child, item )\n\t);\n\tif ( ! childrenValues ) {\n\t\treturn fieldValue;\n\t}\n\n\treturn {\n\t\tvalue: fieldValue,\n\t\tchildren: childrenValues,\n\t};\n}\n\n/**\n * Hook that validates a form item and returns an object with error messages for each field.\n *\n * @param item   The item to validate.\n * @param fields Fields config.\n * @param form   Form config.\n *\n * @return Record of field IDs to error messages (undefined means no error).\n */\nexport function useFormValidity< Item >(\n\titem: Item,\n\tfields: Field< Item >[],\n\tform: Form\n): { validity: FormValidity; isValid: boolean } {\n\tconst [ formValidity, setFormValidity ] = useState< FormValidity >();\n\tconst customCounterRef = useRef< Record< string, number > >( {} );\n\tconst elementsCounterRef = useRef< Record< string, number > >( {} );\n\tconst previousValuesRef = useRef< Record< string, any > >( {} );\n\n\tconst validate = useCallback( () => {\n\t\tconst promiseHandler = {\n\t\t\tcustomCounterRef,\n\t\t\telementsCounterRef,\n\t\t\tsetFormValidity,\n\t\t\tpath: [],\n\t\t\titem,\n\t\t};\n\n\t\tconst formFieldsToValidate = getFormFieldsToValidate( form, fields );\n\t\tif ( formFieldsToValidate.length === 0 ) {\n\t\t\tsetFormValidity( undefined );\n\t\t\treturn;\n\t\t}\n\n\t\tconst newFormValidity: FormValidity = {};\n\t\tconst untouchedFields: string[] = [];\n\t\tformFieldsToValidate.forEach( ( formField ) => {\n\t\t\t// Skip fields that did not change.\n\t\t\tconst value = getFormFieldValue< Item >( formField, item );\n\t\t\tif (\n\t\t\t\tpreviousValuesRef.current.hasOwnProperty( formField.id ) &&\n\t\t\t\tfastDeepEqual(\n\t\t\t\t\tpreviousValuesRef.current[ formField.id ],\n\t\t\t\t\tvalue\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tuntouchedFields.push( formField.id );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tpreviousValuesRef.current[ formField.id ] = value;\n\n\t\t\t// Calculate validity for those fields that changed.\n\t\t\tconst fieldValidity = validateFormField(\n\t\t\t\titem,\n\t\t\t\tformField,\n\t\t\t\tpromiseHandler\n\t\t\t);\n\t\t\tif ( fieldValidity !== undefined ) {\n\t\t\t\tnewFormValidity[ formField.id ] = fieldValidity;\n\t\t\t}\n\t\t} );\n\n\t\tsetFormValidity( ( existingFormValidity ) => {\n\t\t\tlet validity: FormValidity = {\n\t\t\t\t...existingFormValidity,\n\t\t\t\t...newFormValidity,\n\t\t\t};\n\n\t\t\tconst fieldsToKeep = [\n\t\t\t\t...untouchedFields,\n\t\t\t\t...Object.keys( newFormValidity ),\n\t\t\t];\n\t\t\tObject.keys( validity ).forEach( ( key ) => {\n\t\t\t\tif ( validity && ! fieldsToKeep.includes( key ) ) {\n\t\t\t\t\tdelete validity[ key ];\n\t\t\t\t}\n\t\t\t} );\n\t\t\tif ( Object.keys( validity ).length === 0 ) {\n\t\t\t\tvalidity = undefined;\n\t\t\t}\n\n\t\t\tconst areEqual = fastDeepEqual( existingFormValidity, validity );\n\t\t\tif ( areEqual ) {\n\t\t\t\treturn existingFormValidity;\n\t\t\t}\n\n\t\t\treturn validity;\n\t\t} );\n\t}, [ item, fields, form ] );\n\n\tuseEffect( () => {\n\t\tvalidate();\n\t}, [ validate ] );\n\n\treturn {\n\t\tvalidity: formValidity,\n\t\tisValid: isFormValid( formValidity ),\n\t};\n}\n\nexport default useFormValidity;\n", "/**\n * Internal dependencies\n */\nimport type { NormalizedField, NormalizedSummaryField } from '../../types';\n\n/**\n * Extracts field IDs from various summary field formats.\n *\n * @param summary The summary field configuration.\n * @return Array of field IDs.\n */\nfunction extractSummaryIds( summary: NormalizedSummaryField ): string[] {\n\tif ( Array.isArray( summary ) ) {\n\t\treturn summary.map( ( item ) =>\n\t\t\ttypeof item === 'string' ? item : item.id\n\t\t);\n\t}\n\n\treturn [];\n}\n\n/**\n * Returns the summary fields for a given field.\n * @param summaryField - The summary field configuration.\n * @param fields       - The fields to get the summary fields from.\n * @return The summary fields.\n */\nexport const getSummaryFields = < Item >(\n\tsummaryField: NormalizedSummaryField,\n\tfields: NormalizedField< Item >[]\n): NormalizedField< Item >[] => {\n\tif ( Array.isArray( summaryField ) && summaryField.length > 0 ) {\n\t\tconst summaryIds = extractSummaryIds( summaryField );\n\t\treturn summaryIds\n\t\t\t.map( ( summaryId ) =>\n\t\t\t\tfields.find( ( _field ) => _field.id === summaryId )\n\t\t\t)\n\t\t\t.filter( ( _field ) => _field !== undefined );\n\t}\n\n\treturn [];\n};\n", "/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCard,\n\tCardBody,\n\tCardHeader as OriginalCardHeader,\n} from '@wordpress/components';\nimport {\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { chevronDown, chevronUp } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getFormFieldLayout } from '..';\nimport DataFormContext from '../../dataform-context';\nimport type {\n\tFieldLayoutProps,\n\tNormalizedCardLayout,\n\tNormalizedField,\n\tNormalizedForm,\n\tNormalizedLayout,\n} from '../../../types';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\nimport { getSummaryFields } from '../get-summary-fields';\nimport useReportValidity from '../../../hooks/use-report-validity';\nimport ValidationBadge from '../validation-badge';\n\nconst NonCollapsibleCardHeader = ( {\n\tchildren,\n\t...props\n}: {\n\tchildren: React.ReactNode;\n} ) => (\n\t<OriginalCardHeader isBorderless { ...props }>\n\t\t<div\n\t\t\tstyle={ {\n\t\t\t\theight: '40px', // This is to match the chevron's __next40pxDefaultSize\n\t\t\t\twidth: '100%',\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\talignItems: 'center',\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</div>\n\t</OriginalCardHeader>\n);\n\nexport function useCardHeader( layout: NormalizedCardLayout ) {\n\tconst { isOpened, isCollapsible } = layout;\n\tconst [ isOpen, setIsOpen ] = useState( isOpened );\n\tconst [ touched, setTouched ] = useState( false );\n\n\t// Sync internal state when the isOpened prop changes.\n\t// This is unlikely to happen in production, but it helps with storybook controls.\n\tuseEffect( () => {\n\t\tsetIsOpen( isOpened );\n\t}, [ isOpened ] );\n\n\tconst toggle = useCallback( () => {\n\t\t// Mark as touched when collapsing (going from open to closed)\n\t\tif ( isOpen ) {\n\t\t\tsetTouched( true );\n\t\t}\n\t\tsetIsOpen( ( prev ) => ! prev );\n\t}, [ isOpen ] );\n\n\tconst CollapsibleCardHeader = useCallback(\n\t\t( {\n\t\t\tchildren,\n\t\t\t...props\n\t\t}: {\n\t\t\tchildren: React.ReactNode;\n\t\t\t[ key: string ]: any;\n\t\t} ) => (\n\t\t\t<OriginalCardHeader\n\t\t\t\t{ ...props }\n\t\t\t\tonClick={ toggle }\n\t\t\t\tstyle={ {\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t...props.style,\n\t\t\t\t} }\n\t\t\t\tisBorderless\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ children }\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\ticon={ isOpen ? chevronUp : chevronDown }\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\taria-label={ isOpen ? 'Collapse' : 'Expand' }\n\t\t\t\t/>\n\t\t\t</OriginalCardHeader>\n\t\t),\n\t\t[ toggle, isOpen ]\n\t);\n\n\tconst effectiveIsOpen = isCollapsible ? isOpen : true;\n\tconst CardHeaderComponent = isCollapsible\n\t\t? CollapsibleCardHeader\n\t\t: NonCollapsibleCardHeader;\n\n\treturn {\n\t\tisOpen: effectiveIsOpen,\n\t\tCardHeader: CardHeaderComponent,\n\t\ttouched,\n\t\tsetTouched,\n\t};\n}\n\nfunction isSummaryFieldVisible< Item >(\n\tsummaryField: NormalizedField< Item >,\n\tsummaryConfig: NormalizedCardLayout[ 'summary' ],\n\tisOpen: boolean\n) {\n\t// If no summary config, dont't show any fields\n\tif (\n\t\t! summaryConfig ||\n\t\t( Array.isArray( summaryConfig ) && summaryConfig.length === 0 )\n\t) {\n\t\treturn false;\n\t}\n\n\t// Convert to array for consistent handling\n\tconst summaryConfigArray = Array.isArray( summaryConfig )\n\t\t? summaryConfig\n\t\t: [ summaryConfig ];\n\n\t// Find the config for this specific field\n\tconst fieldConfig = summaryConfigArray.find( ( config ) => {\n\t\tif ( typeof config === 'string' ) {\n\t\t\treturn config === summaryField.id;\n\t\t}\n\t\tif ( typeof config === 'object' && 'id' in config ) {\n\t\t\treturn config.id === summaryField.id;\n\t\t}\n\t\treturn false;\n\t} );\n\n\t// If field is not in summary config, don't show it\n\tif ( ! fieldConfig ) {\n\t\treturn false;\n\t}\n\n\t// If it's a string, always show it\n\tif ( typeof fieldConfig === 'string' ) {\n\t\treturn true;\n\t}\n\n\t// If it has visibility rules, respect them\n\tif ( typeof fieldConfig === 'object' && 'visibility' in fieldConfig ) {\n\t\treturn (\n\t\t\tfieldConfig.visibility === 'always' ||\n\t\t\t( fieldConfig.visibility === 'when-collapsed' && ! isOpen )\n\t\t);\n\t}\n\n\t// Default to always show\n\treturn true;\n}\n\nexport default function FormCardField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: FieldLayoutProps< Item > ) {\n\tconst { fields } = useContext( DataFormContext );\n\tconst layout = field.layout as NormalizedCardLayout;\n\tconst cardBodyRef = useRef< HTMLDivElement >( null );\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT as NormalizedLayout,\n\t\t\tfields: field.children ?? [],\n\t\t} ),\n\t\t[ field ]\n\t);\n\n\tconst { isOpen, CardHeader, touched, setTouched } = useCardHeader( layout );\n\n\t// Mark the card as touched when any field inside it is blurred.\n\t// This aligns with how validated controls show errors on blur.\n\tconst handleBlur = useCallback( () => {\n\t\tsetTouched( true );\n\t}, [ setTouched ] );\n\n\t// When the card is expanded after being touched (collapsed with errors),\n\t// trigger reportValidity to show field-level errors.\n\tuseReportValidity( cardBodyRef, isOpen && touched );\n\n\tconst summaryFields = getSummaryFields< Item >( layout.summary, fields );\n\n\tconst visibleSummaryFields = summaryFields.filter( ( summaryField ) =>\n\t\tisSummaryFieldVisible( summaryField, layout.summary, isOpen )\n\t);\n\n\tconst validationBadge =\n\t\ttouched && layout.isCollapsible ? (\n\t\t\t<ValidationBadge validity={ validity } />\n\t\t) : null;\n\n\tconst sizeCard = {\n\t\tblockStart: 'medium' as const,\n\t\tblockEnd: 'medium' as const,\n\t\tinlineStart: 'medium' as const,\n\t\tinlineEnd: 'medium' as const,\n\t};\n\n\tif ( !! field.children ) {\n\t\tconst withHeader = !! field.label && layout.withHeader;\n\n\t\tconst sizeCardBody = {\n\t\t\tblockStart: withHeader\n\t\t\t\t? ( 'none' as const )\n\t\t\t\t: ( 'medium' as const ),\n\t\t\tblockEnd: 'medium' as const,\n\t\t\tinlineStart: 'medium' as const,\n\t\t\tinlineEnd: 'medium' as const,\n\t\t};\n\n\t\treturn (\n\t\t\t<Card className=\"dataforms-layouts-card__field\" size={ sizeCard }>\n\t\t\t\t{ withHeader && (\n\t\t\t\t\t<CardHeader className=\"dataforms-layouts-card__field-header\">\n\t\t\t\t\t\t<span className=\"dataforms-layouts-card__field-header-label\">\n\t\t\t\t\t\t\t{ field.label }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{ validationBadge }\n\t\t\t\t\t\t{ visibleSummaryFields.length > 0 &&\n\t\t\t\t\t\t\tlayout.withHeader && (\n\t\t\t\t\t\t\t\t<div className=\"dataforms-layouts-card__field-summary\">\n\t\t\t\t\t\t\t\t\t{ visibleSummaryFields.map(\n\t\t\t\t\t\t\t\t\t\t( summaryField ) => (\n\t\t\t\t\t\t\t\t\t\t\t<summaryField.render\n\t\t\t\t\t\t\t\t\t\t\t\tkey={ summaryField.id }\n\t\t\t\t\t\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\t\t\t\t\t\tfield={ summaryField }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</CardHeader>\n\t\t\t\t) }\n\t\t\t\t{ ( isOpen || ! withHeader ) && (\n\t\t\t\t\t// If it doesn't have a header, keep it open.\n\t\t\t\t\t// Otherwise, the card will not be visible.\n\t\t\t\t\t<CardBody\n\t\t\t\t\t\tsize={ sizeCardBody }\n\t\t\t\t\t\tclassName=\"dataforms-layouts-card__field-control\"\n\t\t\t\t\t\tref={ cardBodyRef }\n\t\t\t\t\t\tonBlur={ handleBlur }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ field.description && (\n\t\t\t\t\t\t\t<div className=\"dataforms-layouts-card__field-description\">\n\t\t\t\t\t\t\t\t{ field.description }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<DataFormLayout\n\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\tform={ form }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\tvalidity={ validity?.children }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</CardBody>\n\t\t\t\t) }\n\t\t\t</Card>\n\t\t);\n\t}\n\n\tconst fieldDefinition = fields.find(\n\t\t( fieldDef ) => fieldDef.id === field.id\n\t);\n\n\tif ( ! fieldDefinition || ! fieldDefinition.Edit ) {\n\t\treturn null;\n\t}\n\n\tconst RegularLayout = getFormFieldLayout( 'regular' )?.component;\n\tif ( ! RegularLayout ) {\n\t\treturn null;\n\t}\n\tconst withHeader = !! fieldDefinition.label && layout.withHeader;\n\n\tconst sizeCardBody = {\n\t\tblockStart: withHeader ? ( 'none' as const ) : ( 'medium' as const ),\n\t\tblockEnd: 'medium' as const,\n\t\tinlineStart: 'medium' as const,\n\t\tinlineEnd: 'medium' as const,\n\t};\n\n\treturn (\n\t\t<Card className=\"dataforms-layouts-card__field\" size={ sizeCard }>\n\t\t\t{ withHeader && (\n\t\t\t\t<CardHeader className=\"dataforms-layouts-card__field-header\">\n\t\t\t\t\t<span className=\"dataforms-layouts-card__field-header-label\">\n\t\t\t\t\t\t{ fieldDefinition.label }\n\t\t\t\t\t</span>\n\t\t\t\t\t{ validationBadge }\n\t\t\t\t\t{ visibleSummaryFields.length > 0 && layout.withHeader && (\n\t\t\t\t\t\t<div className=\"dataforms-layouts-card__field-summary\">\n\t\t\t\t\t\t\t{ visibleSummaryFields.map( ( summaryField ) => (\n\t\t\t\t\t\t\t\t<summaryField.render\n\t\t\t\t\t\t\t\t\tkey={ summaryField.id }\n\t\t\t\t\t\t\t\t\titem={ data }\n\t\t\t\t\t\t\t\t\tfield={ summaryField }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</CardHeader>\n\t\t\t) }\n\t\t\t{ ( isOpen || ! withHeader ) && (\n\t\t\t\t// If it doesn't have a header, keep it open.\n\t\t\t\t// Otherwise, the card will not be visible.\n\t\t\t\t<CardBody\n\t\t\t\t\tsize={ sizeCardBody }\n\t\t\t\t\tclassName=\"dataforms-layouts-card__field-control\"\n\t\t\t\t\tref={ cardBodyRef }\n\t\t\t\t\tonBlur={ handleBlur }\n\t\t\t\t>\n\t\t\t\t\t<RegularLayout\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\thideLabelFromVision={\n\t\t\t\t\t\t\thideLabelFromVision || withHeader\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalidity={ validity }\n\t\t\t\t\t/>\n\t\t\t\t</CardBody>\n\t\t\t) }\n\t\t</Card>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Badge } from '@wordpress/ui';\nimport { sprintf, _n } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { FieldValidity } from '../../types';\n\nfunction countInvalidFields( validity: FieldValidity | undefined ): number {\n\tif ( ! validity ) {\n\t\treturn 0;\n\t}\n\n\tlet count = 0;\n\tconst validityRules = Object.keys( validity ).filter(\n\t\t( key ) => key !== 'children'\n\t);\n\n\tfor ( const key of validityRules ) {\n\t\tconst rule = validity[ key as keyof Omit< FieldValidity, 'children' > ];\n\t\tif ( rule?.type === 'invalid' ) {\n\t\t\tcount++;\n\t\t}\n\t}\n\n\t// Count children recursively\n\tif ( validity.children ) {\n\t\tfor ( const childValidity of Object.values( validity.children ) ) {\n\t\t\tcount += countInvalidFields( childValidity );\n\t\t}\n\t}\n\n\treturn count;\n}\n\nexport default function ValidationBadge( {\n\tvalidity,\n}: {\n\tvalidity: FieldValidity | undefined;\n} ) {\n\tconst invalidCount = countInvalidFields( validity );\n\n\tif ( invalidCount === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Badge intent=\"high\">\n\t\t\t{ sprintf(\n\t\t\t\t/* translators: %d: Number of fields that need attention */\n\t\t\t\t_n(\n\t\t\t\t\t'%d field needs attention',\n\t\t\t\t\t'%d fields need attention',\n\t\t\t\t\tinvalidCount\n\t\t\t\t),\n\t\t\t\tinvalidCount\n\t\t\t) }\n\t\t</Badge>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalHeading as Heading } from '@wordpress/components';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tFieldLayoutProps,\n\tNormalizedForm,\n\tNormalizedLayout,\n\tNormalizedRowLayout,\n} from '../../../types';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\nimport { getFormFieldLayout } from '..';\n\nfunction Header( { title }: { title: string } ) {\n\treturn (\n\t\t<Stack\n\t\t\tdirection=\"column\"\n\t\t\tclassName=\"dataforms-layouts-row__header\"\n\t\t\tgap=\"md\"\n\t\t>\n\t\t\t<Stack direction=\"row\" align=\"center\">\n\t\t\t\t<Heading level={ 2 } size={ 13 }>\n\t\t\t\t\t{ title }\n\t\t\t\t</Heading>\n\t\t\t</Stack>\n\t\t</Stack>\n\t);\n}\n\nconst EMPTY_WRAPPER = ( { children }: { children: React.ReactNode } ) => (\n\t<>{ children }</>\n);\n\nexport default function FormRowField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n\tvalidity,\n}: FieldLayoutProps< Item > ) {\n\tconst layout = field.layout as NormalizedRowLayout;\n\n\tif ( !! field.children ) {\n\t\tconst form: NormalizedForm = {\n\t\t\tlayout: DEFAULT_LAYOUT as NormalizedLayout,\n\t\t\tfields: field.children,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"dataforms-layouts-row__field\">\n\t\t\t\t{ ! hideLabelFromVision && field.label && (\n\t\t\t\t\t<Header title={ field.label } />\n\t\t\t\t) }\n\t\t\t\t<Stack direction=\"row\" align={ layout.alignment } gap=\"md\">\n\t\t\t\t\t<DataFormLayout\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tform={ form }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\tvalidity={ validity?.children }\n\t\t\t\t\t\tas={ EMPTY_WRAPPER }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( FieldLayout, childField, childFieldValidity ) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={ childField.id }\n\t\t\t\t\t\t\t\tclassName=\"dataforms-layouts-row__field-control\"\n\t\t\t\t\t\t\t\tstyle={ layout.styles[ childField.id ] }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FieldLayout\n\t\t\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\t\t\tfield={ childField }\n\t\t\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\t\t\t\t\t\tvalidity={ childFieldValidity }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</DataFormLayout>\n\t\t\t\t</Stack>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst RegularLayout = getFormFieldLayout( 'regular' )?.component;\n\tif ( ! RegularLayout ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"dataforms-layouts-row__field-control\">\n\t\t\t\t<RegularLayout\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tfield={ field }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tvalidity={ validity }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tNormalizedForm,\n\tNormalizedDetailsLayout,\n\tFieldLayoutProps,\n} from '../../../types';\nimport DataFormContext from '../../dataform-context';\nimport { DataFormLayout } from '../data-form-layout';\nimport { DEFAULT_LAYOUT } from '../normalize-form';\nimport useReportValidity from '../../../hooks/use-report-validity';\nimport ValidationBadge from '../validation-badge';\n\nexport default function FormDetailsField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\tvalidity,\n}: FieldLayoutProps< Item > ) {\n\tconst { fields } = useContext( DataFormContext );\n\tconst detailsRef = useRef< HTMLDetailsElement >( null );\n\tconst contentRef = useRef< HTMLDivElement >( null );\n\tconst [ touched, setTouched ] = useState( false );\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\n\tconst form: NormalizedForm = useMemo(\n\t\t() => ( {\n\t\t\tlayout: DEFAULT_LAYOUT,\n\t\t\tfields: field.children ?? [],\n\t\t} ),\n\t\t[ field ]\n\t);\n\n\t// Track the open/close state of the native details element.\n\tuseEffect( () => {\n\t\tconst details = detailsRef.current;\n\t\tif ( ! details ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handleToggle = () => {\n\t\t\tconst nowOpen = details.open;\n\t\t\t// Mark as touched when collapsing (going from open to closed).\n\t\t\tif ( ! nowOpen ) {\n\t\t\t\tsetTouched( true );\n\t\t\t}\n\t\t\tsetIsOpen( nowOpen );\n\t\t};\n\n\t\tdetails.addEventListener( 'toggle', handleToggle );\n\t\treturn () => {\n\t\t\tdetails.removeEventListener( 'toggle', handleToggle );\n\t\t};\n\t}, [] );\n\n\t// When expanded after being touched, trigger reportValidity to show\n\t// field-level errors.\n\tuseReportValidity( contentRef, isOpen && touched );\n\n\t// Mark as touched when any field inside is blurred.\n\tconst handleBlur = useCallback( () => {\n\t\tsetTouched( true );\n\t}, [] );\n\n\tif ( ! field.children ) {\n\t\treturn null;\n\t}\n\n\t// Find the summary field definition if specified\n\tconst summaryFieldId =\n\t\t( field.layout as NormalizedDetailsLayout ).summary ?? '';\n\tconst summaryField = summaryFieldId\n\t\t? fields.find( ( fieldDef ) => fieldDef.id === summaryFieldId )\n\t\t: undefined;\n\n\t// Render the summary content\n\tlet summaryContent;\n\tif ( summaryField && summaryField.render ) {\n\t\t// Use the field's render function to display the current value\n\t\tsummaryContent = (\n\t\t\t<summaryField.render item={ data } field={ summaryField } />\n\t\t);\n\t} else {\n\t\t// Fall back to the label\n\t\tsummaryContent = field.label || __( 'More details' );\n\t}\n\n\treturn (\n\t\t<details\n\t\t\tref={ detailsRef }\n\t\t\tclassName=\"dataforms-layouts-details__details\"\n\t\t>\n\t\t\t<summary className=\"dataforms-layouts-details__summary\">\n\t\t\t\t<Stack\n\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\talign=\"center\"\n\t\t\t\t\tgap=\"sm\"\n\t\t\t\t\tclassName=\"dataforms-layouts-details__summary-content\"\n\t\t\t\t>\n\t\t\t\t\t{ summaryContent }\n\t\t\t\t\t{ touched && <ValidationBadge validity={ validity } /> }\n\t\t\t\t</Stack>\n\t\t\t</summary>\n\t\t\t<div\n\t\t\t\tref={ contentRef }\n\t\t\t\tclassName=\"dataforms-layouts-details__content\"\n\t\t\t\tonBlur={ handleBlur }\n\t\t\t>\n\t\t\t\t<DataFormLayout\n\t\t\t\t\tdata={ data }\n\t\t\t\t\tform={ form }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tvalidity={ validity?.children }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</details>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Stack } from '@wordpress/ui';\n\n/**\n * Internal dependencies\n */\nimport type { NormalizedLayout, NormalizedRowLayout } from '../../types';\nimport FormRegularField from './regular';\nimport FormPanelField from './panel';\nimport FormCardField from './card';\nimport FormRowField from './row';\nimport FormDetailsField from './details';\n\nconst FORM_FIELD_LAYOUTS = [\n\t{\n\t\ttype: 'regular',\n\t\tcomponent: FormRegularField,\n\t\twrapper: ( { children }: { children: React.ReactNode } ) => (\n\t\t\t<Stack\n\t\t\t\tdirection=\"column\"\n\t\t\t\tclassName=\"dataforms-layouts__wrapper\"\n\t\t\t\tgap=\"md\"\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Stack>\n\t\t),\n\t},\n\t{\n\t\ttype: 'panel',\n\t\tcomponent: FormPanelField,\n\t\twrapper: ( { children }: { children: React.ReactNode } ) => (\n\t\t\t<Stack\n\t\t\t\tdirection=\"column\"\n\t\t\t\tclassName=\"dataforms-layouts__wrapper\"\n\t\t\t\tgap=\"xs\"\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Stack>\n\t\t),\n\t},\n\t{\n\t\ttype: 'card',\n\t\tcomponent: FormCardField,\n\t\twrapper: ( { children }: { children: React.ReactNode } ) => (\n\t\t\t<Stack\n\t\t\t\tdirection=\"column\"\n\t\t\t\tclassName=\"dataforms-layouts__wrapper\"\n\t\t\t\tgap=\"lg\"\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Stack>\n\t\t),\n\t},\n\t{\n\t\ttype: 'row',\n\t\tcomponent: FormRowField,\n\t\twrapper: ( {\n\t\t\tchildren,\n\t\t\tlayout,\n\t\t}: {\n\t\t\tchildren: React.ReactNode;\n\t\t\tlayout: NormalizedLayout;\n\t\t} ) => (\n\t\t\t<Stack\n\t\t\t\tdirection=\"column\"\n\t\t\t\tclassName=\"dataforms-layouts__wrapper\"\n\t\t\t\tgap=\"md\"\n\t\t\t>\n\t\t\t\t<div className=\"dataforms-layouts-row__field\">\n\t\t\t\t\t<Stack\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tgap=\"md\"\n\t\t\t\t\t\talign={ ( layout as NormalizedRowLayout ).alignment }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t</Stack>\n\t\t\t\t</div>\n\t\t\t</Stack>\n\t\t),\n\t},\n\t{\n\t\ttype: 'details',\n\t\tcomponent: FormDetailsField,\n\t},\n];\n\nexport function getFormFieldLayout( type: string ) {\n\treturn FORM_FIELD_LAYOUTS.find( ( layout ) => layout.type === type );\n}\n", "/**\n * WordPress dependencies\n */\nimport { DataForm } from '@wordpress/dataviews';\nimport type { Form, Field } from '@wordpress/dataviews';\nimport { Spinner, __experimentalVStack as VStack } from '@wordpress/components';\nimport type { ReactNode } from 'react';\n\n/**\n * Internal dependencies\n */\nimport { useMediaEditorContext } from '../media-editor-provider';\nimport type { Media } from '../media-editor-provider';\n\n/**\n * Props for MediaForm component.\n */\nexport interface MediaFormProps {\n\tform?: Form;\n\theader?: ReactNode;\n}\n\n/**\n * MediaForm component for editing media metadata.\n *\n * Renders a DataForm with fields for editing media properties like\n * title, alt text, caption, description, etc.\n *\n * @param props        - Component props.\n * @param props.form   - Optional form configuration.\n * @param props.header - Optional header content to display above the form.\n * @return The MediaForm component.\n */\nexport default function MediaForm( {\n\tform: formOverrides,\n\theader,\n}: MediaFormProps ) {\n\tconst { media, fields, onChange } = useMediaEditorContext();\n\n\tif ( ! media || ! onChange ) {\n\t\treturn (\n\t\t\t<div className=\"media-editor-form media-editor-form--loading\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Default form structure with panel layout\n\tconst defaultForm: Form = {\n\t\tlayout: {\n\t\t\ttype: 'panel',\n\t\t},\n\t\tfields: fields.map( ( field: Field< Media > ) => {\n\t\t\t// Use regular layout for main editable fields\n\t\t\tif (\n\t\t\t\t[ 'title', 'alt_text', 'caption', 'description' ].includes(\n\t\t\t\t\tfield.id\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn {\n\t\t\t\t\tid: field.id,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: 'regular',\n\t\t\t\t\t\tlabelPosition: 'top',\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn field.id;\n\t\t} ),\n\t};\n\n\tconst form = formOverrides || defaultForm;\n\n\treturn (\n\t\t<div className=\"media-editor-form\">\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t{ header }\n\t\t\t\t<DataForm\n\t\t\t\t\tdata={ media }\n\t\t\t\t\tfields={ fields }\n\t\t\t\t\tform={ form }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t/>\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tMediaEditorProvider,\n\tMediaPreview as BaseMediaPreview,\n} from '@wordpress/media-editor';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Media preview component for the editor.\n * Connects the base MediaPreview component to the editor store.\n *\n * @param {Object} props - Additional props to spread on MediaPreview.\n * @return {Element} The MediaPreview component.\n */\nexport default function MediaPreview( props ) {\n\tconst { media } = useSelect( ( select ) => {\n\t\tconst currentPost = select( editorStore ).getCurrentPost();\n\t\treturn {\n\t\t\tmedia: currentPost,\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<MediaEditorProvider value={ media }>\n\t\t\t<BaseMediaPreview { ...props } />\n\t\t</MediaEditorProvider>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { MediaEditorProvider, MediaForm } from '@wordpress/media-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport usePostFields from '../post-fields';\nimport PostCardPanel from '../post-card-panel';\nimport PostPanelSection from '../post-panel-section';\n\n/**\n * Media metadata panel for the editor sidebar.\n * Displays a form for editing media properties with PostCardPanel header.\n *\n * @param {Object}   props                   - Component props.\n * @param {Function} props.onActionPerformed - Callback when an action is performed.\n * @return {Element} The MediaMetadataPanel component.\n */\nexport default function MediaMetadataPanel( { onActionPerformed } ) {\n\tconst { media, postType, postId } = useSelect( ( select ) => {\n\t\tconst _postType = select( editorStore ).getCurrentPostType();\n\t\tconst _postId = select( editorStore ).getCurrentPostId();\n\t\tconst currentPost = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\t_postType,\n\t\t\t_postId,\n\t\t\t{\n\t\t\t\t_embed: 'author,wp:attached-to',\n\t\t\t}\n\t\t);\n\t\treturn {\n\t\t\tmedia: currentPost,\n\t\t\tpostType: _postType,\n\t\t\tpostId: _postId,\n\t\t};\n\t}, [] );\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst fields = usePostFields( { postType: 'attachment' } );\n\n\tconst settings = useMemo(\n\t\t() => ( {\n\t\t\tfields,\n\t\t} ),\n\t\t[ fields ]\n\t);\n\n\tconst handleUpdate = ( updates ) => {\n\t\teditPost( updates );\n\t};\n\n\treturn (\n\t\t<PostPanelSection className=\"editor-media-metadata-panel\">\n\t\t\t<MediaEditorProvider\n\t\t\t\tvalue={ media }\n\t\t\t\tsettings={ settings }\n\t\t\t\tonChange={ handleUpdate }\n\t\t\t>\n\t\t\t\t<MediaForm\n\t\t\t\t\theader={\n\t\t\t\t\t\t<PostCardPanel\n\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\tpostId={ postId }\n\t\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</MediaEditorProvider>\n\t\t</PostPanelSection>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport type { Field } from '@wordpress/dataviews';\nimport type { BasePostWithEmbeddedAuthor } from '@wordpress/fields';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nfunction usePostFields( {\n\tpostType,\n}: {\n\tpostType: string;\n} ): Field< BasePostWithEmbeddedAuthor >[] {\n\tconst { registerPostTypeSchema } = unlock( useDispatch( editorStore ) );\n\tuseEffect( () => {\n\t\tregisterPostTypeSchema( postType );\n\t}, [ registerPostTypeSchema, postType ] );\n\n\tconst { fields } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityFields } = unlock( select( editorStore ) );\n\t\t\treturn {\n\t\t\t\tfields: getEntityFields( 'postType', postType ),\n\t\t\t};\n\t\t},\n\t\t[ postType ]\n\t);\n\n\treturn fields;\n}\n\n/**\n * Hook to get the fields for a post (BasePost or BasePostWithEmbeddedAuthor).\n */\nexport default usePostFields;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n} from '../../store/constants';\nimport { unlock } from '../../lock-unlock';\nimport PostActions from '../post-actions';\nimport usePageTypeBadge from '../../utils/pageTypeBadge';\nimport { getTemplateInfo } from '../../utils/get-template-info';\nconst { Badge } = unlock( componentsPrivateApis );\n\n/**\n * Renders a title of the post type and the available quick actions available within a 3-dot dropdown.\n *\n * @param {Object}          props                     - Component props.\n * @param {string}          [props.postType]          - The post type string.\n * @param {string|string[]} [props.postId]            - The post id or list of post ids.\n * @param {Function}        [props.onActionPerformed] - A callback function for when a quick action is performed.\n * @return {React.ReactNode} The rendered component.\n */\nexport default function PostCardPanel( {\n\tpostType,\n\tpostId,\n\tonActionPerformed,\n} ) {\n\tconst postIds = useMemo(\n\t\t() => ( Array.isArray( postId ) ? postId : [ postId ] ),\n\t\t[ postId ]\n\t);\n\tconst { postTitle, icon, labels, isRevision } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedEntityRecord, getCurrentTheme, getPostType } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst {\n\t\t\t\tgetPostIcon,\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tisRevisionsMode,\n\t\t\t\tgetCurrentRevision,\n\t\t\t} = unlock( select( editorStore ) );\n\t\t\tlet _title = '';\n\n\t\t\t// In revisions mode, use the current revision.\n\t\t\tif ( isRevisionsMode() ) {\n\t\t\t\tconst parentPostType = getCurrentPostType();\n\t\t\t\tconst _record = getCurrentRevision();\n\t\t\t\t_title = _record?.title?.rendered || _record?.title?.raw || '';\n\t\t\t\treturn {\n\t\t\t\t\tpostTitle: _title,\n\t\t\t\t\ticon: getPostIcon( parentPostType, {\n\t\t\t\t\t\tarea: _record?.area,\n\t\t\t\t\t} ),\n\t\t\t\t\tlabels: getPostType( parentPostType )?.labels,\n\t\t\t\t\tisRevision: true,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst _record = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostIds[ 0 ]\n\t\t\t);\n\t\t\tif ( postIds.length === 1 ) {\n\t\t\t\tconst { default_template_types: templateTypes = [] } =\n\t\t\t\t\tgetCurrentTheme() ?? {};\n\n\t\t\t\tconst _templateInfo = [\n\t\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t\t].includes( postType )\n\t\t\t\t\t? getTemplateInfo( {\n\t\t\t\t\t\t\ttemplate: _record,\n\t\t\t\t\t\t\ttemplateTypes,\n\t\t\t\t\t  } )\n\t\t\t\t\t: {};\n\t\t\t\t_title = _templateInfo?.title || _record?.title;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tpostTitle: _title,\n\t\t\t\ticon: getPostIcon( postType, {\n\t\t\t\t\tarea: _record?.area,\n\t\t\t\t} ),\n\t\t\t\tlabels: getPostType( postType )?.labels,\n\t\t\t};\n\t\t},\n\t\t[ postIds, postType ]\n\t);\n\n\tconst pageTypeBadge = usePageTypeBadge( postId );\n\tlet title = __( 'No title' );\n\tif ( labels?.name && postIds.length > 1 ) {\n\t\ttitle = sprintf(\n\t\t\t// translators: %1$d number of selected items %2$s: Name of the plural post type e.g: \"Posts\".\n\t\t\t__( '%1$d %2$s' ),\n\t\t\tpostIds.length,\n\t\t\tlabels?.name\n\t\t);\n\t} else if ( postTitle ) {\n\t\ttitle = stripHTML( postTitle );\n\t}\n\n\treturn (\n\t\t<VStack spacing={ 1 } className=\"editor-post-card-panel\">\n\t\t\t<HStack\n\t\t\t\tspacing={ 2 }\n\t\t\t\tclassName=\"editor-post-card-panel__header\"\n\t\t\t\talignment=\"flex-start\"\n\t\t\t>\n\t\t\t\t<Icon className=\"editor-post-card-panel__icon\" icon={ icon } />\n\t\t\t\t<Text\n\t\t\t\t\tnumberOfLines={ 2 }\n\t\t\t\t\ttruncate\n\t\t\t\t\tclassName=\"editor-post-card-panel__title\"\n\t\t\t\t\tas=\"h2\"\n\t\t\t\t>\n\t\t\t\t\t<span className=\"editor-post-card-panel__title-name\">\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</span>\n\t\t\t\t\t{ pageTypeBadge && postIds.length === 1 && (\n\t\t\t\t\t\t<Badge>{ pageTypeBadge }</Badge>\n\t\t\t\t\t) }\n\t\t\t\t</Text>\n\t\t\t\t{ postIds.length === 1 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ isRevision ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\tclassName=\"editor-all-actions-button\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<PostActions\n\t\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\t\tpostId={ postIds[ 0 ] }\n\t\t\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</HStack>\n\t\t\t{ postIds.length > 1 && (\n\t\t\t\t<Text className=\"editor-post-card-panel__description\">\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t// translators: %s: Name of the plural post type e.g: \"Posts\".\n\t\t\t\t\t\t__( 'Changes will be applied to all selected %s.' ),\n\t\t\t\t\t\tlabels?.name.toLowerCase()\n\t\t\t\t\t) }\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useRegistry, useSelect } from '@wordpress/data';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tprivateApis as componentsPrivateApis,\n\tButton,\n\tModal,\n} from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { usePostActions } from './actions';\n\nconst { Menu, kebabCase } = unlock( componentsPrivateApis );\n\nexport default function PostActions( { postType, postId, onActionPerformed } ) {\n\tconst [ activeModalAction, setActiveModalAction ] = useState( null );\n\n\tconst { item, permissions } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedEntityRecord, getEntityRecordPermissions } =\n\t\t\t\tunlock( select( coreStore ) );\n\t\t\treturn {\n\t\t\t\titem: getEditedEntityRecord( 'postType', postType, postId ),\n\t\t\t\tpermissions: getEntityRecordPermissions(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ postId, postType ]\n\t);\n\tconst itemWithPermissions = useMemo( () => {\n\t\treturn {\n\t\t\t...item,\n\t\t\tpermissions,\n\t\t};\n\t}, [ item, permissions ] );\n\tconst allActions = usePostActions( { postType, onActionPerformed } );\n\n\tconst actions = useMemo( () => {\n\t\treturn allActions.filter( ( action ) => {\n\t\t\treturn (\n\t\t\t\t! action.isEligible || action.isEligible( itemWithPermissions )\n\t\t\t);\n\t\t} );\n\t}, [ allActions, itemWithPermissions ] );\n\n\treturn (\n\t\t<>\n\t\t\t<Menu placement=\"bottom-end\">\n\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\trender={\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\t\t\t\tdisabled={ ! actions.length }\n\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\tclassName=\"editor-all-actions-button\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Menu.Popover>\n\t\t\t\t\t<ActionsDropdownMenuGroup\n\t\t\t\t\t\tactions={ actions }\n\t\t\t\t\t\titems={ [ itemWithPermissions ] }\n\t\t\t\t\t\tsetActiveModalAction={ setActiveModalAction }\n\t\t\t\t\t/>\n\t\t\t\t</Menu.Popover>\n\t\t\t</Menu>\n\t\t\t{ !! activeModalAction && (\n\t\t\t\t<ActionModal\n\t\t\t\t\taction={ activeModalAction }\n\t\t\t\t\titems={ [ itemWithPermissions ] }\n\t\t\t\t\tcloseModal={ () => setActiveModalAction( null ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\n// From now on all the functions on this file are copied as from the dataviews packages,\n// The editor packages should not be using the dataviews packages directly,\n// and the dataviews package should not be using the editor packages directly,\n// so duplicating the code here seems like the least bad option.\n\nfunction DropdownMenuItemTrigger( { action, onClick, items } ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\treturn (\n\t\t<Menu.Item onClick={ onClick }>\n\t\t\t<Menu.ItemLabel>{ label }</Menu.ItemLabel>\n\t\t</Menu.Item>\n\t);\n}\n\nexport function ActionModal( { action, items, closeModal } ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ action.modalHeader || label }\n\t\t\t__experimentalHideHeader={ !! action.hideModalHeader }\n\t\t\tonRequestClose={ closeModal ?? ( () => {} ) }\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\tsize=\"medium\"\n\t\t\toverlayClassName={ `editor-action-modal editor-action-modal__${ kebabCase(\n\t\t\t\taction.id\n\t\t\t) }` }\n\t\t>\n\t\t\t<action.RenderModal items={ items } closeModal={ closeModal } />\n\t\t</Modal>\n\t);\n}\n\nfunction ActionsDropdownMenuGroup( { actions, items, setActiveModalAction } ) {\n\tconst registry = useRegistry();\n\treturn (\n\t\t<Menu.Group>\n\t\t\t{ actions.map( ( action ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<DropdownMenuItemTrigger\n\t\t\t\t\t\tkey={ action.id }\n\t\t\t\t\t\taction={ action }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tif ( 'RenderModal' in action ) {\n\t\t\t\t\t\t\t\tsetActiveModalAction( action );\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taction.callback( items, { registry } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\titems={ items }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Menu.Group>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useMemo, useEffect } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport { useSetAsHomepageAction } from './set-as-homepage';\nimport { useSetAsPostsPageAction } from './set-as-posts-page';\n\nexport function usePostActions( { postType, onActionPerformed, context } ) {\n\tconst { defaultActions } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityActions } = unlock( select( editorStore ) );\n\t\t\treturn {\n\t\t\t\tdefaultActions: getEntityActions( 'postType', postType ),\n\t\t\t};\n\t\t},\n\t\t[ postType ]\n\t);\n\n\tconst shouldShowHomepageActions = useSelect(\n\t\t( select ) => {\n\t\t\tif ( postType !== 'page' ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst { getDefaultTemplateId, getEntityRecord, canUser } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst canUpdateSettings = canUser( 'update', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} );\n\n\t\t\tif ( ! canUpdateSettings ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Note that resolved template for `front-page` is not necessarily a\n\t\t\t// `front-page` template.\n\t\t\tconst frontPageTemplateId = getDefaultTemplateId( {\n\t\t\t\tslug: 'front-page',\n\t\t\t} );\n\n\t\t\tif ( ! frontPageTemplateId ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// This won't trigger a second network request, getDefaultTemplateId\n\t\t\t// will have received the whole template from the REST API.\n\t\t\tconst frontPageTemplate = getEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template',\n\t\t\t\tfrontPageTemplateId\n\t\t\t);\n\n\t\t\tif ( ! frontPageTemplate ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// When there is a front page template, the front page cannot be\n\t\t\t// changed. See\n\t\t\t// https://developer.wordpress.org/themes/basics/template-hierarchy/\n\t\t\treturn frontPageTemplate.slug !== 'front-page';\n\t\t},\n\t\t[ postType ]\n\t);\n\n\tconst setAsHomepageAction = useSetAsHomepageAction();\n\tconst setAsPostsPageAction = useSetAsPostsPageAction();\n\n\tconst { registerPostTypeSchema } = unlock( useDispatch( editorStore ) );\n\tuseEffect( () => {\n\t\tregisterPostTypeSchema( postType );\n\t}, [ registerPostTypeSchema, postType ] );\n\n\treturn useMemo( () => {\n\t\tlet actions = [ ...defaultActions ];\n\t\tif ( shouldShowHomepageActions ) {\n\t\t\tactions.push( setAsHomepageAction, setAsPostsPageAction );\n\t\t}\n\n\t\t// Ensure \"Move to trash\" is always the last action.\n\t\tactions = actions.sort( ( a, b ) =>\n\t\t\tb.id === 'move-to-trash' ? -1 : 0\n\t\t);\n\n\t\t// Filter actions based on provided context. If not provided\n\t\t// all actions are returned. We'll have a single entry for getting the actions\n\t\t// and the consumer should provide the context to filter the actions, if needed.\n\t\t// Actions should also provide the `context` they support, if it's specific, to\n\t\t// compare with the provided context to get all the actions.\n\t\t// Right now the only supported context is `list`.\n\t\tactions = actions.filter( ( action ) => {\n\t\t\tif ( ! action.context ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn action.context === context;\n\t\t} );\n\n\t\tif ( onActionPerformed ) {\n\t\t\tfor ( let i = 0; i < actions.length; ++i ) {\n\t\t\t\tif ( actions[ i ].callback ) {\n\t\t\t\t\tconst existingCallback = actions[ i ].callback;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tcallback: ( items, argsObject ) => {\n\t\t\t\t\t\t\texistingCallback( items, {\n\t\t\t\t\t\t\t\t...argsObject,\n\t\t\t\t\t\t\t\tonActionPerformed: ( _items ) => {\n\t\t\t\t\t\t\t\t\tif ( argsObject?.onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t\targsObject.onActionPerformed( _items );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonActionPerformed(\n\t\t\t\t\t\t\t\t\t\tactions[ i ].id,\n\t\t\t\t\t\t\t\t\t\t_items\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif ( actions[ i ].RenderModal ) {\n\t\t\t\t\tconst ExistingRenderModal = actions[ i ].RenderModal;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tRenderModal: ( props ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ExistingRenderModal\n\t\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t\t\tonActionPerformed={ ( _items ) => {\n\t\t\t\t\t\t\t\t\t\tif ( props.onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t\t\tprops.onActionPerformed( _items );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonActionPerformed(\n\t\t\t\t\t\t\t\t\t\t\tactions[ i ].id,\n\t\t\t\t\t\t\t\t\t\t\t_items\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn actions;\n\t}, [\n\t\tcontext,\n\t\tdefaultActions,\n\t\tonActionPerformed,\n\t\tsetAsHomepageAction,\n\t\tsetAsPostsPageAction,\n\t\tshouldShowHomepageActions,\n\t] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle } from '../../utils/get-item-title';\n\nconst SetAsHomepageModal = ( { items, closeModal } ) => {\n\tconst [ item ] = items;\n\tconst pageTitle = getItemTitle( item );\n\tconst { showOnFront, currentHomePage, isSaving } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, isSavingEntityRecord } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst siteSettings = getEntityRecord( 'root', 'site' );\n\t\t\tconst currentHomePageItem = getEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'page',\n\t\t\t\tsiteSettings?.page_on_front\n\t\t\t);\n\t\t\treturn {\n\t\t\t\tshowOnFront: siteSettings?.show_on_front,\n\t\t\t\tcurrentHomePage: currentHomePageItem,\n\t\t\t\tisSaving: isSavingEntityRecord( 'root', 'site' ),\n\t\t\t};\n\t\t}\n\t);\n\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tasync function onSetPageAsHomepage( event ) {\n\t\tevent.preventDefault();\n\n\t\ttry {\n\t\t\tawait saveEntityRecord( 'root', 'site', {\n\t\t\t\tpage_on_front: item.id,\n\t\t\t\tshow_on_front: 'page',\n\t\t\t} );\n\n\t\t\tcreateSuccessNotice( __( 'Homepage updated.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while setting the homepage.' );\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t} finally {\n\t\t\tcloseModal?.();\n\t\t}\n\t}\n\n\tlet modalWarning = '';\n\tif ( 'posts' === showOnFront ) {\n\t\tmodalWarning = __(\n\t\t\t'This will replace the current homepage which is set to display latest posts.'\n\t\t);\n\t} else if ( currentHomePage ) {\n\t\tmodalWarning = sprintf(\n\t\t\t// translators: %s: title of the current home page.\n\t\t\t__( 'This will replace the current homepage: \"%s\"' ),\n\t\t\tgetItemTitle( currentHomePage )\n\t\t);\n\t}\n\n\tconst modalText = sprintf(\n\t\t// translators: %1$s: title of the page to be set as the homepage, %2$s: homepage replacement warning message.\n\t\t__( 'Set \"%1$s\" as the site homepage? %2$s' ),\n\t\tpageTitle,\n\t\tmodalWarning\n\t).trim();\n\n\t// translators: Button label to confirm setting the specified page as the homepage.\n\tconst modalButtonLabel = __( 'Set homepage' );\n\n\treturn (\n\t\t<form onSubmit={ onSetPageAsHomepage }>\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>{ modalText }</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tdisabled={ isSaving }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={ isSaving }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ modalButtonLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n};\n\nexport const useSetAsHomepageAction = () => {\n\tconst { pageOnFront, pageForPosts } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord, canUser } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\treturn {\n\t\t\tpageOnFront: siteSettings?.page_on_front,\n\t\t\tpageForPosts: siteSettings?.page_for_posts,\n\t\t};\n\t} );\n\n\treturn useMemo(\n\t\t() => ( {\n\t\t\tid: 'set-as-homepage',\n\t\t\tlabel: __( 'Set as homepage' ),\n\t\t\tisEligible( post ) {\n\t\t\t\tif ( post.status !== 'publish' ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( post.type !== 'page' ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Don't show the action if the page is already set as the homepage.\n\t\t\t\tif ( pageOnFront === post.id ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Don't show the action if the page is already set as the page for posts.\n\t\t\t\tif ( pageForPosts === post.id ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tmodalFocusOnMount: 'firstContentElement',\n\t\t\tRenderModal: SetAsHomepageModal,\n\t\t} ),\n\t\t[ pageForPosts, pageOnFront ]\n\t);\n};\n", "/**\n * WordPress dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Helper function to get the title of a post item.\n * This is duplicated from the `@wordpress/fields` package.\n * `packages/fields/src/actions/utils.ts`\n *\n * @param {Object} item The post item.\n * @return {string} The title of the item, or an empty string if the title is not found.\n */\nexport function getItemTitle( item ) {\n\tif ( typeof item.title === 'string' ) {\n\t\treturn decodeEntities( item.title );\n\t}\n\tif ( item.title && 'rendered' in item.title ) {\n\t\treturn decodeEntities( item.title.rendered );\n\t}\n\tif ( item.title && 'raw' in item.title ) {\n\t\treturn decodeEntities( item.title.raw );\n\t}\n\treturn '';\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle } from '../../utils/get-item-title';\n\nconst SetAsPostsPageModal = ( { items, closeModal } ) => {\n\tconst [ item ] = items;\n\tconst pageTitle = getItemTitle( item );\n\tconst { currentPostsPage, isPageForPostsSet, isSaving } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, isSavingEntityRecord } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst siteSettings = getEntityRecord( 'root', 'site' );\n\t\t\tconst currentPostsPageItem = getEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'page',\n\t\t\t\tsiteSettings?.page_for_posts\n\t\t\t);\n\t\t\treturn {\n\t\t\t\tcurrentPostsPage: currentPostsPageItem,\n\t\t\t\tisPageForPostsSet: siteSettings?.page_for_posts !== 0,\n\t\t\t\tisSaving: isSavingEntityRecord( 'root', 'site' ),\n\t\t\t};\n\t\t}\n\t);\n\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tasync function onSetPageAsPostsPage( event ) {\n\t\tevent.preventDefault();\n\n\t\ttry {\n\t\t\tawait saveEntityRecord( 'root', 'site', {\n\t\t\t\tpage_for_posts: item.id,\n\t\t\t\tshow_on_front: 'page',\n\t\t\t} );\n\n\t\t\tcreateSuccessNotice( __( 'Posts page updated.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while setting the posts page.' );\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t} finally {\n\t\t\tcloseModal?.();\n\t\t}\n\t}\n\n\tconst modalWarning =\n\t\tisPageForPostsSet && currentPostsPage\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %s: title of the current posts page.\n\t\t\t\t\t__( 'This will replace the current posts page: \"%s\"' ),\n\t\t\t\t\tgetItemTitle( currentPostsPage )\n\t\t\t  )\n\t\t\t: __( 'This page will show the latest posts.' );\n\n\tconst modalText = sprintf(\n\t\t// translators: %1$s: title of the page to be set as the posts page, %2$s: posts page replacement warning message.\n\t\t__( 'Set \"%1$s\" as the posts page? %2$s' ),\n\t\tpageTitle,\n\t\tmodalWarning\n\t);\n\n\t// translators: Button label to confirm setting the specified page as the posts page.\n\tconst modalButtonLabel = __( 'Set posts page' );\n\n\treturn (\n\t\t<form onSubmit={ onSetPageAsPostsPage }>\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>{ modalText }</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tdisabled={ isSaving }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={ isSaving }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ modalButtonLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n};\n\nexport const useSetAsPostsPageAction = () => {\n\tconst { pageOnFront, pageForPosts } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord, canUser } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\n\t\treturn {\n\t\t\tpageOnFront: siteSettings?.page_on_front,\n\t\t\tpageForPosts: siteSettings?.page_for_posts,\n\t\t};\n\t} );\n\n\treturn useMemo(\n\t\t() => ( {\n\t\t\tid: 'set-as-posts-page',\n\t\t\tlabel: __( 'Set as posts page' ),\n\t\t\tisEligible( post ) {\n\t\t\t\tif ( post.status !== 'publish' ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( post.type !== 'page' ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Don't show the action if the page is already set as the homepage.\n\t\t\t\tif ( pageOnFront === post.id ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Don't show the action if the page is already set as the page for posts.\n\t\t\t\tif ( pageForPosts === post.id ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tmodalFocusOnMount: 'firstContentElement',\n\t\t\tRenderModal: SetAsPostsPageModal,\n\t\t} ),\n\t\t[ pageForPosts, pageOnFront ]\n\t);\n};\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalVStack as VStack } from '@wordpress/components';\n\nfunction PostPanelSection( { className, children } ) {\n\treturn (\n\t\t<VStack className={ clsx( 'editor-post-panel__section', className ) }>\n\t\t\t{ children }\n\t\t</VStack>\n\t);\n}\n\nexport default PostPanelSection;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tBlockInspector,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tPlatform,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseRef,\n} from '@wordpress/element';\nimport { isRTL, __, _x } from '@wordpress/i18n';\nimport { drawerLeft, drawerRight } from '@wordpress/icons';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport PatternOverridesPanel from '../pattern-overrides-panel';\nimport PluginDocumentSettingPanel from '../plugin-document-setting-panel';\nimport PluginSidebar from '../plugin-sidebar';\nimport PostSummary from './post-summary';\nimport PostTaxonomiesPanel from '../post-taxonomies/panel';\nimport PostTransformPanel from '../post-transform-panel';\nimport SidebarHeader from './header';\nimport TemplateContentPanel from '../template-content-panel';\nimport TemplatePartContentPanel from '../template-part-content-panel';\nimport { MediaMetadataPanel } from '../media';\nimport useAutoSwitchEditorSidebars from '../provider/use-auto-switch-editor-sidebars';\nimport { sidebars } from './constants';\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport {\n\tATTACHMENT_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n} from '../../store/constants';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nconst SIDEBAR_ACTIVE_BY_DEFAULT = Platform.select( {\n\tweb: true,\n\tnative: false,\n} );\n\nconst SidebarContent = ( {\n\ttabName,\n\tkeyboardShortcut,\n\tonActionPerformed,\n\textraPanels,\n\tpostType,\n} ) => {\n\tconst tabListRef = useRef( null );\n\t// Because `PluginSidebar` renders a `ComplementaryArea`, we\n\t// need to forward the `Tabs` context so it can be passed through the\n\t// underlying slot/fill.\n\tconst tabsContextValue = useContext( Tabs.Context );\n\tconst isAttachment = postType === ATTACHMENT_POST_TYPE;\n\tconst isRevisionsMode = useSelect( ( select ) => {\n\t\treturn unlock( select( editorStore ) ).isRevisionsMode();\n\t} );\n\n\t// This effect addresses a race condition caused by tabbing from the last\n\t// block in the editor into the settings sidebar. Without this effect, the\n\t// selected tab and browser focus can become separated in an unexpected way\n\t// (e.g the \"block\" tab is focused, but the \"post\" tab is selected).\n\tuseEffect( () => {\n\t\tconst tabsElements = Array.from(\n\t\t\ttabListRef.current?.querySelectorAll( '[role=\"tab\"]' ) || []\n\t\t);\n\t\tconst selectedTabElement = tabsElements.find(\n\t\t\t// We are purposefully using a custom `data-tab-id` attribute here\n\t\t\t// because we don't want rely on any assumptions about `Tabs`\n\t\t\t// component internals.\n\t\t\t( element ) => element.getAttribute( 'data-tab-id' ) === tabName\n\t\t);\n\t\tconst activeElement = selectedTabElement?.ownerDocument.activeElement;\n\t\tconst tabsHasFocus = tabsElements.some( ( element ) => {\n\t\t\treturn activeElement && activeElement.id === element.id;\n\t\t} );\n\t\tif (\n\t\t\ttabsHasFocus &&\n\t\t\tselectedTabElement &&\n\t\t\tselectedTabElement.id !== activeElement?.id\n\t\t) {\n\t\t\tselectedTabElement?.focus();\n\t\t}\n\t}, [ tabName ] );\n\n\treturn (\n\t\t<PluginSidebar\n\t\t\tidentifier={ tabName }\n\t\t\theader={\n\t\t\t\t<Tabs.Context.Provider value={ tabsContextValue }>\n\t\t\t\t\t<SidebarHeader ref={ tabListRef } />\n\t\t\t\t</Tabs.Context.Provider>\n\t\t\t}\n\t\t\tcloseLabel={ __( 'Close Settings' ) }\n\t\t\t// This classname is added so we can apply a corrective negative\n\t\t\t// margin to the panel.\n\t\t\t// see https://github.com/WordPress/gutenberg/pull/55360#pullrequestreview-1737671049\n\t\t\tclassName=\"editor-sidebar__panel\"\n\t\t\theaderClassName=\"editor-sidebar__panel-tabs\"\n\t\t\ttitle={\n\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t_x( 'Settings', 'panel button label' )\n\t\t\t}\n\t\t\ttoggleShortcut={ keyboardShortcut }\n\t\t\ticon={ isRTL() ? drawerLeft : drawerRight }\n\t\t\tisActiveByDefault={ SIDEBAR_ACTIVE_BY_DEFAULT }\n\t\t>\n\t\t\t<Tabs.Context.Provider value={ tabsContextValue }>\n\t\t\t\t<Tabs.TabPanel tabId={ sidebars.document } focusable={ false }>\n\t\t\t\t\t{ isAttachment ? (\n\t\t\t\t\t\t<MediaMetadataPanel\n\t\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PostSummary\n\t\t\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ ! isRevisionsMode && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<PluginDocumentSettingPanel.Slot />\n\t\t\t\t\t\t\t\t\t<TemplateContentPanel />\n\t\t\t\t\t\t\t\t\t<TemplatePartContentPanel />\n\t\t\t\t\t\t\t\t\t<PostTransformPanel />\n\t\t\t\t\t\t\t\t\t<PostTaxonomiesPanel />\n\t\t\t\t\t\t\t\t\t<PatternOverridesPanel />\n\t\t\t\t\t\t\t\t\t{ extraPanels }\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t{ ! isAttachment && (\n\t\t\t\t\t<Tabs.TabPanel tabId={ sidebars.block } focusable={ false }>\n\t\t\t\t\t\t<BlockInspector />\n\t\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t) }\n\t\t\t</Tabs.Context.Provider>\n\t\t</PluginSidebar>\n\t);\n};\n\nconst Sidebar = ( { extraPanels, onActionPerformed } ) => {\n\tuseAutoSwitchEditorSidebars();\n\tconst { tabName, keyboardShortcut, showSummary, postType } = useSelect(\n\t\t( select ) => {\n\t\t\tconst shortcut = select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getShortcutRepresentation( 'core/editor/toggle-sidebar' );\n\n\t\t\tconst sidebar =\n\t\t\t\tselect( interfaceStore ).getActiveComplementaryArea( 'core' );\n\t\t\tconst _isEditorSidebarOpened = [\n\t\t\t\tsidebars.block,\n\t\t\t\tsidebars.document,\n\t\t\t].includes( sidebar );\n\t\t\tlet _tabName = sidebar;\n\t\t\tif ( ! _isEditorSidebarOpened ) {\n\t\t\t\t_tabName = !! select(\n\t\t\t\t\tblockEditorStore\n\t\t\t\t).getBlockSelectionStart()\n\t\t\t\t\t? sidebars.block\n\t\t\t\t\t: sidebars.document;\n\t\t\t}\n\n\t\t\tconst _postType = select( editorStore ).getCurrentPostType();\n\n\t\t\treturn {\n\t\t\t\ttabName: _tabName,\n\t\t\t\tkeyboardShortcut: shortcut,\n\t\t\t\tshowSummary: ! [\n\t\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t\t\tNAVIGATION_POST_TYPE,\n\t\t\t\t].includes( _postType ),\n\t\t\t\tpostType: _postType,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\tconst onTabSelect = useCallback(\n\t\t( newSelectedTabId ) => {\n\t\t\tif ( !! newSelectedTabId ) {\n\t\t\t\tenableComplementaryArea( 'core', newSelectedTabId );\n\t\t\t}\n\t\t},\n\t\t[ enableComplementaryArea ]\n\t);\n\n\treturn (\n\t\t<Tabs\n\t\t\tselectedTabId={ tabName }\n\t\t\tonSelect={ onTabSelect }\n\t\t\tselectOnMove={ false }\n\t\t>\n\t\t\t<SidebarContent\n\t\t\t\ttabName={ tabName }\n\t\t\t\tkeyboardShortcut={ keyboardShortcut }\n\t\t\t\tshowSummary={ showSummary }\n\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\textraPanels={ extraPanels }\n\t\t\t\tpostType={ postType }\n\t\t\t/>\n\t\t</Tabs>\n\t);\n};\n\nexport default Sidebar;\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst { OverridesPanel } = unlock( patternsPrivateApis );\n\nexport default function PatternOverridesPanel() {\n\tconst supportsPatternOverridesPanel = useSelect(\n\t\t( select ) => select( editorStore ).getCurrentPostType() === 'wp_block',\n\t\t[]\n\t);\n\n\tif ( ! supportsPatternOverridesPanel ) {\n\t\treturn null;\n\t}\n\n\treturn <OverridesPanel />;\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalVStack as VStack,\n\tExternalLink,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport PluginPostStatusInfo from '../plugin-post-status-info';\nimport PostAuthorPanel from '../post-author/panel';\nimport PostCardPanel from '../post-card-panel';\nimport PostContentInformation from '../post-content-information';\nimport PageAttributesPanel from '../page-attributes/panel';\nimport PostDiscussionPanel from '../post-discussion/panel';\nimport { PrivatePostExcerptPanel as PostExcerptPanel } from '../post-excerpt/panel';\nimport PostFeaturedImagePanel from '../post-featured-image/panel';\nimport PostFormatPanel from '../post-format/panel';\nimport PostLastEditedPanel from '../post-last-edited-panel';\nimport RevisionCreatedPanel from '../revision-created-panel';\nimport PostPanelSection from '../post-panel-section';\nimport PostSchedulePanel from '../post-schedule/panel';\nimport PostStatusPanel from '../post-status';\nimport PostSyncStatus from '../post-sync-status';\nimport PostTemplatePanel from '../post-template/panel';\nimport PostURLPanel from '../post-url/panel';\nimport BlogTitle from '../blog-title';\nimport PostsPerPage from '../posts-per-page';\nimport SiteDiscussion from '../site-discussion';\nimport { store as editorStore } from '../../store';\nimport { PrivatePostLastRevision } from '../post-last-revision';\nimport PostTrash from '../post-trash';\nimport RevisionAuthorPanel from '../revision-author-panel';\nimport { unlock } from '../../lock-unlock';\n\n/**\n * Module Constants\n */\nconst PANEL_NAME = 'post-status';\n\nexport default function PostSummary( { onActionPerformed } ) {\n\tconst { isRemovedPostStatusPanel, postType, postId, revisionId } =\n\t\tuseSelect( ( select ) => {\n\t\t\t// We use isEditorPanelRemoved to hide the panel if it was programmatically removed. We do\n\t\t\t// not use isEditorPanelEnabled since this panel should not be disabled through the UI.\n\t\t\tconst {\n\t\t\t\tisEditorPanelRemoved,\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tgetCurrentPostId,\n\t\t\t\tgetCurrentRevisionId,\n\t\t\t} = unlock( select( editorStore ) );\n\t\t\treturn {\n\t\t\t\tisRemovedPostStatusPanel: isEditorPanelRemoved( PANEL_NAME ),\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t\tpostId: getCurrentPostId(),\n\t\t\t\trevisionId: getCurrentRevisionId(),\n\t\t\t};\n\t\t}, [] );\n\n\tconst isRevisionsMode = !! revisionId;\n\tconst shouldShowPostStatusPanel =\n\t\t! isRemovedPostStatusPanel && ! isRevisionsMode;\n\n\treturn (\n\t\t<PostPanelSection className=\"editor-post-summary\">\n\t\t\t<PluginPostStatusInfo.Slot>\n\t\t\t\t{ ( fills ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t<PostCardPanel\n\t\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\t\tpostId={ postId }\n\t\t\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ ! isRevisionsMode && (\n\t\t\t\t\t\t\t\t<PostFeaturedImagePanel\n\t\t\t\t\t\t\t\t\twithPanelBody={ false }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ ! isRevisionsMode && <PostExcerptPanel /> }\n\t\t\t\t\t\t\t<VStack spacing={ 1 }>\n\t\t\t\t\t\t\t\t<PostContentInformation />\n\t\t\t\t\t\t\t\t{ isRevisionsMode ? (\n\t\t\t\t\t\t\t\t\t<RevisionCreatedPanel />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<PostLastEditedPanel />\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t{ isRevisionsMode && revisionId && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\thref={ addQueryArgs( 'revision.php', {\n\t\t\t\t\t\t\t\t\t\t\trevision: revisionId,\n\t\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'Open classic revisions screen'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t<RevisionAuthorPanel />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ shouldShowPostStatusPanel && (\n\t\t\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t\t\t<VStack spacing={ 1 }>\n\t\t\t\t\t\t\t\t\t\t<PostStatusPanel />\n\t\t\t\t\t\t\t\t\t\t<PostSchedulePanel />\n\t\t\t\t\t\t\t\t\t\t<PostURLPanel />\n\t\t\t\t\t\t\t\t\t\t<PostAuthorPanel />\n\t\t\t\t\t\t\t\t\t\t<PostTemplatePanel />\n\t\t\t\t\t\t\t\t\t\t<PostDiscussionPanel />\n\t\t\t\t\t\t\t\t\t\t<PrivatePostLastRevision />\n\t\t\t\t\t\t\t\t\t\t<PageAttributesPanel />\n\t\t\t\t\t\t\t\t\t\t<PostSyncStatus />\n\t\t\t\t\t\t\t\t\t\t<BlogTitle />\n\t\t\t\t\t\t\t\t\t\t<PostsPerPage />\n\t\t\t\t\t\t\t\t\t\t<SiteDiscussion />\n\t\t\t\t\t\t\t\t\t\t<PostFormatPanel />\n\t\t\t\t\t\t\t\t\t\t{ fills }\n\t\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t\t<PostTrash\n\t\t\t\t\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</PluginPostStatusInfo.Slot>\n\t\t</PostPanelSection>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { __, _x, _n, sprintf } from '@wordpress/i18n';\nimport { count as wordCount } from '@wordpress/wordcount';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n} from '../../store/constants';\n\n// Taken from packages/editor/src/components/time-to-read/index.js.\nconst AVERAGE_READING_RATE = 189;\n\n// This component renders the wordcount and reading time for the post.\nexport default function PostContentInformation() {\n\tconst { postContent } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getCurrentPostType, getCurrentPostId } =\n\t\t\tselect( editorStore );\n\t\tconst { getCurrentRevision, isRevisionsMode } = unlock(\n\t\t\tselect( editorStore )\n\t\t);\n\n\t\tif ( isRevisionsMode() ) {\n\t\t\treturn {\n\t\t\t\tpostContent: getCurrentRevision()?.content?.raw,\n\t\t\t};\n\t\t}\n\n\t\tconst { canUser } = select( coreStore );\n\t\tconst { getEntityRecord } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\tconst postType = getCurrentPostType();\n\t\tconst _id = getCurrentPostId();\n\t\tconst isPostsPage = +_id === siteSettings?.page_for_posts;\n\t\tconst showPostContentInfo =\n\t\t\t! isPostsPage &&\n\t\t\t! [ TEMPLATE_POST_TYPE, TEMPLATE_PART_POST_TYPE ].includes(\n\t\t\t\tpostType\n\t\t\t);\n\t\treturn {\n\t\t\tpostContent:\n\t\t\t\tshowPostContentInfo && getEditedPostAttribute( 'content' ),\n\t\t};\n\t}, [] );\n\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\tconst wordsCounted = useMemo(\n\t\t() => ( postContent ? wordCount( postContent, wordCountType ) : 0 ),\n\t\t[ postContent, wordCountType ]\n\t);\n\tif ( ! wordsCounted ) {\n\t\treturn null;\n\t}\n\tconst readingTime = Math.round( wordsCounted / AVERAGE_READING_RATE );\n\tconst wordsCountText = sprintf(\n\t\t// translators: %s: the number of words in the post.\n\t\t_n( '%s word', '%s words', wordsCounted ),\n\t\twordsCounted.toLocaleString()\n\t);\n\tconst minutesText =\n\t\treadingTime <= 1\n\t\t\t? __( '1 minute' )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %s: the number of minutes to read the post. */\n\t\t\t\t\t_n( '%s minute', '%s minutes', readingTime ),\n\t\t\t\t\treadingTime.toLocaleString()\n\t\t\t  );\n\treturn (\n\t\t<div className=\"editor-post-content-information\">\n\t\t\t<Text>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t/* translators: 1: How many words a post has. 2: the number of minutes to read the post (e.g. 130 words, 2 minutes read time.) */\n\t\t\t\t\t__( '%1$s, %2$s read time.' ),\n\t\t\t\t\twordsCountText,\n\t\t\t\t\tminutesText\n\t\t\t\t) }\n\t\t\t</Text>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { Button, Dropdown } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { default as PostFormatForm, POST_FORMATS } from './';\nimport PostFormatCheck from './check';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the Post Author Panel component.\n *\n * @return {React.ReactNode} The rendered component.\n */\nfunction PostFormat() {\n\tconst { postFormat } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst _postFormat = getEditedPostAttribute( 'format' );\n\t\treturn {\n\t\t\tpostFormat: _postFormat ?? 'standard',\n\t\t};\n\t}, [] );\n\tconst activeFormat = POST_FORMATS.find(\n\t\t( format ) => format.id === postFormat\n\t);\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\treturn (\n\t\t<PostFormatCheck>\n\t\t\t<PostPanelRow label={ __( 'Format' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tcontentClassName=\"editor-post-format__dialog\"\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Current post format.\n\t\t\t\t\t\t\t\t__( 'Change format: %s' ),\n\t\t\t\t\t\t\t\tactiveFormat?.caption\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ activeFormat?.caption }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<div className=\"editor-post-format__dialog-content\">\n\t\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\t\ttitle={ __( 'Format' ) }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PostFormatForm />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostFormatCheck>\n\t);\n}\n\nexport default PostFormat;\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { humanTimeDiff } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostLastEditedPanel() {\n\tconst modified = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'modified' ),\n\t\t[]\n\t);\n\tif ( ! modified ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className=\"editor-post-last-edited-panel\">\n\t\t\t<Text>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: %s: Human-readable time difference, e.g. \"2 days ago\".\n\t\t\t\t\t__( 'Last edited %s.' ),\n\t\t\t\t\thumanTimeDiff( modified )\n\t\t\t\t) }\n\t\t\t</Text>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { humanTimeDiff } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nexport default function RevisionCreatedPanel() {\n\tconst date = useSelect( ( select ) => {\n\t\tconst { getCurrentRevision } = unlock( select( editorStore ) );\n\t\treturn getCurrentRevision()?.date;\n\t}, [] );\n\n\tif ( ! date ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"editor-post-last-edited-panel\">\n\t\t\t<Text>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: %s: Human-readable time difference, e.g. \"2 days ago\".\n\t\t\t\t\t__( 'Created %s.' ),\n\t\t\t\t\thumanTimeDiff( date )\n\t\t\t\t) }\n\t\t\t</Text>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { debounce } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport {\n\tButton,\n\tDropdown,\n\t__experimentalInputControl as InputControl,\n} from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\nconst EMPTY_OBJECT = {};\n\nexport default function BlogTitle() {\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst { postsPageTitle, postsPageId, isTemplate, postSlug } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, getEditedEntityRecord, canUser } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\t\t\tconst _postsPageRecord = siteSettings?.page_for_posts\n\t\t\t\t? getEditedEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t'page',\n\t\t\t\t\t\tsiteSettings?.page_for_posts\n\t\t\t\t  )\n\t\t\t\t: EMPTY_OBJECT;\n\t\t\tconst { getEditedPostAttribute, getCurrentPostType } =\n\t\t\t\tselect( editorStore );\n\t\t\treturn {\n\t\t\t\tpostsPageId: _postsPageRecord?.id,\n\t\t\t\tpostsPageTitle: _postsPageRecord?.title,\n\t\t\t\tisTemplate: getCurrentPostType() === TEMPLATE_POST_TYPE,\n\t\t\t\tpostSlug: getEditedPostAttribute( 'slug' ),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif (\n\t\t! isTemplate ||\n\t\t! [ 'home', 'index' ].includes( postSlug ) ||\n\t\t! postsPageId\n\t) {\n\t\treturn null;\n\t}\n\n\tconst setPostsPageTitle = ( newValue ) => {\n\t\teditEntityRecord( 'postType', 'page', postsPageId, {\n\t\t\ttitle: newValue,\n\t\t} );\n\t};\n\tconst decodedTitle = decodeEntities( postsPageTitle );\n\treturn (\n\t\t<PostPanelRow label={ __( 'Blog title' ) } ref={ setPopoverAnchor }>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tcontentClassName=\"editor-blog-title-dropdown__content\"\n\t\t\t\tfocusOnMount\n\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t// translators: %s: Current post link.\n\t\t\t\t\t\t\t__( 'Change blog title: %s' ),\n\t\t\t\t\t\t\tdecodedTitle\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ decodedTitle }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ __( 'Blog title' ) }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\tplaceholder={ __( 'No title' ) }\n\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\tvalue={ postsPageTitle }\n\t\t\t\t\t\t\tonChange={ debounce( setPostsPageTitle, 300 ) }\n\t\t\t\t\t\t\tlabel={ __( 'Blog title' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Set the Posts Page title. Appears in search results, and when the page is shared on social media.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostPanelRow>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tButton,\n\tDropdown,\n\t__experimentalNumberControl as NumberControl,\n} from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport { store as editorStore } from '../../store';\nimport PostPanelRow from '../post-panel-row';\n\nexport default function PostsPerPage() {\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst { postsPerPage, isTemplate, postSlug } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getCurrentPostType } =\n\t\t\tselect( editorStore );\n\t\tconst { getEditedEntityRecord, canUser } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\treturn {\n\t\t\tisTemplate: getCurrentPostType() === TEMPLATE_POST_TYPE,\n\t\t\tpostSlug: getEditedPostAttribute( 'slug' ),\n\t\t\tpostsPerPage: siteSettings?.posts_per_page || 1,\n\t\t};\n\t}, [] );\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif ( ! isTemplate || ! [ 'home', 'index' ].includes( postSlug ) ) {\n\t\treturn null;\n\t}\n\tconst setPostsPerPage = ( newValue ) => {\n\t\teditEntityRecord( 'root', 'site', undefined, {\n\t\t\tposts_per_page: newValue,\n\t\t} );\n\t};\n\treturn (\n\t\t<PostPanelRow label={ __( 'Posts per page' ) } ref={ setPopoverAnchor }>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tcontentClassName=\"editor-posts-per-page-dropdown__content\"\n\t\t\t\tfocusOnMount\n\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\taria-label={ __( 'Change posts per page' ) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ postsPerPage }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ __( 'Posts per page' ) }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<NumberControl\n\t\t\t\t\t\t\tplaceholder={ 0 }\n\t\t\t\t\t\t\tvalue={ postsPerPage }\n\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\tspinControls=\"custom\"\n\t\t\t\t\t\t\tstep=\"1\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tonChange={ setPostsPerPage }\n\t\t\t\t\t\t\tlabel={ __( 'Posts per page' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Set the default number of posts to display on blog pages, including categories and tags. Some templates may override this setting.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostPanelRow>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tButton,\n\tDropdown,\n\tRadioControl,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\nconst COMMENT_OPTIONS = [\n\t{\n\t\tlabel: _x( 'Open', 'Adjective: e.g. \"Comments are open\"' ),\n\t\tvalue: 'open',\n\t\tdescription: __( 'Visitors can add new comments and replies.' ),\n\t},\n\t{\n\t\tlabel: __( 'Closed' ),\n\t\tvalue: '',\n\t\tdescription: [\n\t\t\t__( 'Visitors cannot add new comments or replies.' ),\n\t\t\t__( 'Existing comments remain visible.' ),\n\t\t].join( ' ' ),\n\t},\n];\n\nexport default function SiteDiscussion() {\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst { allowCommentsOnNewPosts, isTemplate, postSlug } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedPostAttribute, getCurrentPostType } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getEditedEntityRecord, canUser } = select( coreStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\t\t\treturn {\n\t\t\t\tisTemplate: getCurrentPostType() === TEMPLATE_POST_TYPE,\n\t\t\t\tpostSlug: getEditedPostAttribute( 'slug' ),\n\t\t\t\tallowCommentsOnNewPosts:\n\t\t\t\t\tsiteSettings?.default_comment_status || '',\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif ( ! isTemplate || ! [ 'home', 'index' ].includes( postSlug ) ) {\n\t\treturn null;\n\t}\n\tconst setAllowCommentsOnNewPosts = ( newValue ) => {\n\t\teditEntityRecord( 'root', 'site', undefined, {\n\t\t\tdefault_comment_status: newValue ? 'open' : null,\n\t\t} );\n\t};\n\treturn (\n\t\t<PostPanelRow label={ __( 'Discussion' ) } ref={ setPopoverAnchor }>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tcontentClassName=\"editor-site-discussion-dropdown__content\"\n\t\t\t\tfocusOnMount\n\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\taria-label={ __( 'Change discussion settings' ) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ allowCommentsOnNewPosts\n\t\t\t\t\t\t\t? __( 'Comments open' )\n\t\t\t\t\t\t\t: __( 'Comments closed' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ __( 'Discussion' ) }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Changes will apply to new posts only. Individual posts may override these settings.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\tclassName=\"editor-site-discussion__options\"\n\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\tlabel={ __( 'Comment status' ) }\n\t\t\t\t\t\t\t\toptions={ COMMENT_OPTIONS }\n\t\t\t\t\t\t\t\tonChange={ setAllowCommentsOnNewPosts }\n\t\t\t\t\t\t\t\tselected={ allowCommentsOnNewPosts }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostPanelRow>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nexport default function RevisionAuthorPanel() {\n\tconst authorName = useSelect( ( select ) => {\n\t\tconst { getCurrentRevision } = unlock( select( editorStore ) );\n\t\tconst revision = getCurrentRevision();\n\t\tif ( ! revision?.author ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst author = select( coreStore ).getUser( revision.author );\n\t\treturn author?.name;\n\t}, [] );\n\n\tif ( ! authorName ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostPanelRow label={ __( 'Author' ) }>\n\t\t\t{ decodeEntities( authorName ) }\n\t\t</PostPanelRow>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalBlockPatternsList as BlockPatternsList } from '@wordpress/block-editor';\nimport { serialize } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { useAvailablePatterns } from './hooks';\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n} from '../../store/constants';\n\nfunction TemplatesList( { availableTemplates, onSelect } ) {\n\tif ( ! availableTemplates || availableTemplates?.length === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockPatternsList\n\t\t\tlabel={ __( 'Templates' ) }\n\t\t\tblockPatterns={ availableTemplates }\n\t\t\tonClickPattern={ onSelect }\n\t\t\tshowTitlesAsTooltip\n\t\t/>\n\t);\n}\n\nfunction PostTransform() {\n\tconst { area, name, slug, postType, postId } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst type = getCurrentPostType();\n\t\tconst id = getCurrentPostId();\n\t\tconst record = getEditedEntityRecord( 'postType', type, id );\n\n\t\treturn {\n\t\t\tarea: record?.area,\n\t\t\tname: record?.name,\n\t\t\tslug: record?.slug,\n\t\t\tpostType: type,\n\t\t\tpostId: id,\n\t\t};\n\t}, [] );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst availablePatterns = useAvailablePatterns( { area, name, slug } );\n\tconst onTemplateSelect = async ( selectedTemplate ) => {\n\t\tawait editEntityRecord( 'postType', postType, postId, {\n\t\t\tblocks: selectedTemplate.blocks,\n\t\t\tcontent: serialize( selectedTemplate.blocks ),\n\t\t} );\n\t};\n\tif ( ! availablePatterns?.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\ttitle={ __( 'Design' ) }\n\t\t\tinitialOpen={ postType === TEMPLATE_PART_POST_TYPE }\n\t\t>\n\t\t\t<TemplatesList\n\t\t\t\tavailableTemplates={ availablePatterns }\n\t\t\t\tonSelect={ onTemplateSelect }\n\t\t\t/>\n\t\t</PanelBody>\n\t);\n}\n\nexport default function PostTransformPanel() {\n\tconst { postType } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType } = select( editorStore );\n\t\treturn {\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t}, [] );\n\n\tif (\n\t\t! [ TEMPLATE_PART_POST_TYPE, TEMPLATE_POST_TYPE ].includes( postType )\n\t) {\n\t\treturn null;\n\t}\n\n\treturn <PostTransform />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { parse } from '@wordpress/blocks';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { EXCLUDED_PATTERN_SOURCES, PATTERN_TYPES } =\n\tunlock( patternsPrivateApis );\n\nfunction injectThemeAttributeInBlockTemplateContent(\n\tblock,\n\tcurrentThemeStylesheet\n) {\n\tblock.innerBlocks = block.innerBlocks.map( ( innerBlock ) => {\n\t\treturn injectThemeAttributeInBlockTemplateContent(\n\t\t\tinnerBlock,\n\t\t\tcurrentThemeStylesheet\n\t\t);\n\t} );\n\n\tif (\n\t\tblock.name === 'core/template-part' &&\n\t\tblock.attributes.theme === undefined\n\t) {\n\t\tblock.attributes.theme = currentThemeStylesheet;\n\t}\n\treturn block;\n}\n\n/**\n * Filter all patterns and return only the ones that are compatible with the current template.\n *\n * @param {Array}  patterns An array of patterns.\n * @param {Object} template The current template. Required values are `area`, `name`, and `slug`.\n * @return {Array} Array of patterns that are compatible with the current template.\n */\nfunction filterPatterns( patterns, template ) {\n\t// Filter out duplicates.\n\tconst filterOutDuplicatesByName = ( currentItem, index, items ) =>\n\t\tindex === items.findIndex( ( item ) => currentItem.name === item.name );\n\n\t// Filter out core/directory patterns not included in theme.json.\n\tconst filterOutExcludedPatternSources = ( pattern ) =>\n\t\t! EXCLUDED_PATTERN_SOURCES.includes( pattern.source );\n\n\t// Looks for patterns that have the same template type as the current template,\n\t// or have a block type that matches the current template area.\n\tconst filterCompatiblePatterns = ( pattern ) =>\n\t\tpattern.templateTypes?.includes( template.slug ) ||\n\t\tpattern.blockTypes?.includes( 'core/template-part/' + template.area );\n\n\treturn patterns.filter( ( pattern, index, items ) => {\n\t\treturn (\n\t\t\tfilterOutDuplicatesByName( pattern, index, items ) &&\n\t\t\tfilterOutExcludedPatternSources( pattern ) &&\n\t\t\tfilterCompatiblePatterns( pattern )\n\t\t);\n\t} );\n}\n\nfunction preparePatterns( patterns, currentThemeStylesheet ) {\n\treturn patterns.map( ( pattern ) => ( {\n\t\t...pattern,\n\t\tkeywords: pattern.keywords || [],\n\t\ttype: PATTERN_TYPES.theme,\n\t\tblocks: parse( pattern.content, {\n\t\t\t__unstableSkipMigrationLogs: true,\n\t\t} ).map( ( block ) =>\n\t\t\tinjectThemeAttributeInBlockTemplateContent(\n\t\t\t\tblock,\n\t\t\t\tcurrentThemeStylesheet\n\t\t\t)\n\t\t),\n\t} ) );\n}\n\nexport function useAvailablePatterns( { area, name, slug } ) {\n\tconst { blockPatterns, restBlockPatterns, currentThemeStylesheet } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst { getEditorSettings } = select( editorStore );\n\t\t\tconst settings = getEditorSettings();\n\n\t\t\treturn {\n\t\t\t\tblockPatterns:\n\t\t\t\t\tsettings.__experimentalAdditionalBlockPatterns ??\n\t\t\t\t\tsettings.__experimentalBlockPatterns,\n\t\t\t\trestBlockPatterns: select( coreStore ).getBlockPatterns(),\n\t\t\t\tcurrentThemeStylesheet:\n\t\t\t\t\tselect( coreStore ).getCurrentTheme().stylesheet,\n\t\t\t};\n\t\t}, [] );\n\n\treturn useMemo( () => {\n\t\tconst mergedPatterns = [\n\t\t\t...( blockPatterns || [] ),\n\t\t\t...( restBlockPatterns || [] ),\n\t\t];\n\t\tconst filteredPatterns = filterPatterns( mergedPatterns, {\n\t\t\tarea,\n\t\t\tname,\n\t\t\tslug,\n\t\t} );\n\t\treturn preparePatterns( filteredPatterns, currentThemeStylesheet );\n\t}, [\n\t\tarea,\n\t\tname,\n\t\tslug,\n\t\tblockPatterns,\n\t\trestBlockPatterns,\n\t\tcurrentThemeStylesheet,\n\t] );\n}\n", "/**\n * WordPress dependencies\n */\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { forwardRef } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { ATTACHMENT_POST_TYPE } from '../../store/constants';\nimport { unlock } from '../../lock-unlock';\nimport { sidebars } from './constants';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nconst SidebarHeader = ( _, ref ) => {\n\tconst { postTypeLabel, isAttachment, isRevisionsMode } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostTypeLabel, getCurrentPostType } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { isRevisionsMode: _isRevisionsMode } = unlock(\n\t\t\t\tselect( editorStore )\n\t\t\t);\n\t\t\treturn {\n\t\t\t\tpostTypeLabel: getPostTypeLabel(),\n\t\t\t\tisAttachment:\n\t\t\t\t\tgetCurrentPostType() === ATTACHMENT_POST_TYPE &&\n\t\t\t\t\twindow?.__experimentalMediaEditor,\n\t\t\t\tisRevisionsMode: _isRevisionsMode(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tlet documentLabel;\n\tif ( isRevisionsMode ) {\n\t\tdocumentLabel = __( 'Revision' );\n\t} else if ( postTypeLabel ) {\n\t\tdocumentLabel = decodeEntities( postTypeLabel );\n\t} else {\n\t\t// translators: Default label for the Document sidebar tab, not selected.\n\t\tdocumentLabel = _x( 'Document', 'noun, panel' );\n\t}\n\n\treturn (\n\t\t<Tabs.TabList ref={ ref }>\n\t\t\t<Tabs.Tab\n\t\t\t\ttabId={ sidebars.document }\n\t\t\t\t// Used for focus management in the SettingsSidebar component.\n\t\t\t\tdata-tab-id={ sidebars.document }\n\t\t\t>\n\t\t\t\t{ documentLabel }\n\t\t\t</Tabs.Tab>\n\t\t\t{ ! isAttachment && ! isRevisionsMode && (\n\t\t\t\t<Tabs.Tab\n\t\t\t\t\ttabId={ sidebars.block }\n\t\t\t\t\t// Used for focus management in the SettingsSidebar component.\n\t\t\t\t\tdata-tab-id={ sidebars.block }\n\t\t\t\t>\n\t\t\t\t\t{ /* translators: Text label for the Block Settings Sidebar tab. */ }\n\t\t\t\t\t{ __( 'Block' ) }\n\t\t\t\t</Tabs.Tab>\n\t\t\t) }\n\t\t</Tabs.TabList>\n\t);\n};\n\nexport default forwardRef( SidebarHeader );\n", "export const sidebars = {\n\tdocument: 'edit-post/document',\n\tblock: 'edit-post/block',\n};\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { applyFilters } from '@wordpress/hooks';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport { store as editorStore } from '../../store';\n\nconst { BlockQuickNavigation } = unlock( blockEditorPrivateApis );\n\nconst POST_CONTENT_BLOCK_TYPES = [\n\t'core/post-title',\n\t'core/post-featured-image',\n\t'core/post-content',\n];\n\nconst TEMPLATE_PART_BLOCK = 'core/template-part';\n\nexport default function TemplateContentPanel() {\n\tconst postContentBlockTypes = useMemo(\n\t\t() =>\n\t\t\tapplyFilters(\n\t\t\t\t'editor.postContentBlockTypes',\n\t\t\t\tPOST_CONTENT_BLOCK_TYPES\n\t\t\t),\n\t\t[]\n\t);\n\n\tconst { clientIds, postType, renderingMode } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tgetPostBlocksByName,\n\t\t\t\tgetRenderingMode,\n\t\t\t} = unlock( select( editorStore ) );\n\t\t\tconst _postType = getCurrentPostType();\n\t\t\treturn {\n\t\t\t\tpostType: _postType,\n\t\t\t\tclientIds: getPostBlocksByName(\n\t\t\t\t\tTEMPLATE_POST_TYPE === _postType\n\t\t\t\t\t\t? TEMPLATE_PART_BLOCK\n\t\t\t\t\t\t: postContentBlockTypes\n\t\t\t\t),\n\t\t\t\trenderingMode: getRenderingMode(),\n\t\t\t};\n\t\t},\n\t\t[ postContentBlockTypes ]\n\t);\n\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\tif (\n\t\t( renderingMode === 'post-only' && postType !== TEMPLATE_POST_TYPE ) ||\n\t\tclientIds.length === 0\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody title={ __( 'Content' ) }>\n\t\t\t<BlockQuickNavigation\n\t\t\t\tclientIds={ clientIds }\n\t\t\t\tonSelect={ () => {\n\t\t\t\t\tenableComplementaryArea( 'core', 'edit-post/document' );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</PanelBody>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as blocksStore } from '@wordpress/blocks';\nimport {\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { TEMPLATE_PART_POST_TYPE } from '../../store/constants';\nimport { store as editorStore } from '../../store';\n\nconst { BlockQuickNavigation } = unlock( blockEditorPrivateApis );\n\nfunction TemplatePartContentPanelInner() {\n\tconst blockTypes = useSelect( ( select ) => {\n\t\tconst { getBlockTypes } = select( blocksStore );\n\t\treturn getBlockTypes();\n\t}, [] );\n\tconst themeBlockNames = useMemo( () => {\n\t\treturn blockTypes\n\t\t\t.filter( ( blockType ) => {\n\t\t\t\treturn blockType.category === 'theme';\n\t\t\t} )\n\t\t\t.map( ( { name } ) => name );\n\t}, [ blockTypes ] );\n\tconst themeBlocks = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlocksByName } = select( blockEditorStore );\n\t\t\treturn getBlocksByName( themeBlockNames );\n\t\t},\n\t\t[ themeBlockNames ]\n\t);\n\tif ( themeBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<PanelBody title={ __( 'Content' ) }>\n\t\t\t<BlockQuickNavigation clientIds={ themeBlocks } />\n\t\t</PanelBody>\n\t);\n}\n\nexport default function TemplatePartContentPanel() {\n\tconst postType = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType } = select( editorStore );\n\t\treturn getCurrentPostType();\n\t}, [] );\n\tif ( postType !== TEMPLATE_PART_POST_TYPE ) {\n\t\treturn null;\n\t}\n\n\treturn <TemplatePartContentPanelInner />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * This listener hook monitors for block selection and triggers the appropriate\n * sidebar state.\n */\nfunction useAutoSwitchEditorSidebars() {\n\tconst { hasBlockSelection } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\thasBlockSelection:\n\t\t\t\t!! select( blockEditorStore ).getBlockSelectionStart(),\n\t\t};\n\t}, [] );\n\n\tconst { getActiveComplementaryArea } = useSelect( interfaceStore );\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\tconst { get: getPreference } = useSelect( preferencesStore );\n\n\tuseEffect( () => {\n\t\tconst activeGeneralSidebar = getActiveComplementaryArea( 'core' );\n\t\tconst isEditorSidebarOpened = [\n\t\t\t'edit-post/document',\n\t\t\t'edit-post/block',\n\t\t].includes( activeGeneralSidebar );\n\t\tconst isDistractionFree = getPreference( 'core', 'distractionFree' );\n\t\tif ( ! isEditorSidebarOpened || isDistractionFree ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( hasBlockSelection ) {\n\t\t\tenableComplementaryArea( 'core', 'edit-post/block' );\n\t\t} else {\n\t\t\tenableComplementaryArea( 'core', 'edit-post/document' );\n\t\t}\n\t}, [\n\t\thasBlockSelection,\n\t\tgetActiveComplementaryArea,\n\t\tenableComplementaryArea,\n\t\tgetPreference,\n\t] );\n}\n\nexport default useAutoSwitchEditorSidebars;\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\nimport { useState, useRef } from '@wordpress/element';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { comment as commentIcon } from '@wordpress/icons';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport PluginSidebar from '../plugin-sidebar';\nimport {\n\tcollabHistorySidebarName,\n\tcollabSidebarName,\n\tSIDEBARS,\n} from './constants';\nimport { Comments } from './comments';\nimport { store as editorStore } from '../../store';\nimport AddCommentMenuItem from './comment-menu-item';\nimport CommentAvatarIndicator from './comment-indicator-toolbar';\nimport { useGlobalStylesContext } from '../global-styles-provider';\nimport {\n\tuseBlockComments,\n\tuseBlockCommentsActions,\n\tuseEnableFloatingSidebar,\n} from './hooks';\nimport { focusCommentThread } from './utils';\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { unlock } from '../../lock-unlock';\n\nfunction NotesSidebarContent( {\n\tnewNoteFormState,\n\tsetNewNoteFormState,\n\tstyles,\n\tcomments,\n\tcommentSidebarRef,\n\treflowComments,\n\tcommentLastUpdated,\n\tisFloating = false,\n} ) {\n\tconst { onCreate, onEdit, onDelete } =\n\t\tuseBlockCommentsActions( reflowComments );\n\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"editor-collab-sidebar-panel\"\n\t\t\tstyle={ styles }\n\t\t\trole=\"tree\"\n\t\t\tspacing=\"3\"\n\t\t\tjustify=\"flex-start\"\n\t\t\tref={ ( node ) => {\n\t\t\t\t// Sometimes previous sidebar unmounts after the new one mounts.\n\t\t\t\t// This ensures we always have the latest reference.\n\t\t\t\tif ( node ) {\n\t\t\t\t\tcommentSidebarRef.current = node;\n\t\t\t\t}\n\t\t\t} }\n\t\t\taria-label={\n\t\t\t\tisFloating ? __( 'Unresolved notes' ) : __( 'All notes' )\n\t\t\t}\n\t\t>\n\t\t\t<Comments\n\t\t\t\tthreads={ comments }\n\t\t\t\tonEditComment={ onEdit }\n\t\t\t\tonAddReply={ onCreate }\n\t\t\t\tonCommentDelete={ onDelete }\n\t\t\t\tnewNoteFormState={ newNoteFormState }\n\t\t\t\tsetNewNoteFormState={ setNewNoteFormState }\n\t\t\t\tcommentSidebarRef={ commentSidebarRef }\n\t\t\t\treflowComments={ reflowComments }\n\t\t\t\tcommentLastUpdated={ commentLastUpdated }\n\t\t\t\tisFloating={ isFloating }\n\t\t\t/>\n\t\t</VStack>\n\t);\n}\n\nfunction NotesSidebar( { postId } ) {\n\t// Enum: 'closed' | 'creating' | 'open'\n\tconst [ newNoteFormState, setNewNoteFormState ] = useState( 'closed' );\n\tconst { getActiveComplementaryArea } = useSelect( interfaceStore );\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\tconst { toggleBlockSpotlight } = unlock( useDispatch( blockEditorStore ) );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst commentSidebarRef = useRef( null );\n\n\tconst showFloatingSidebar = isLargeViewport;\n\n\tconst { clientId, blockCommentId } = useSelect( ( select ) => {\n\t\tconst { getBlockAttributes, getSelectedBlockClientId } =\n\t\t\tselect( blockEditorStore );\n\t\tconst _clientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\tclientId: _clientId,\n\t\t\tblockCommentId: _clientId\n\t\t\t\t? getBlockAttributes( _clientId )?.metadata?.noteId\n\t\t\t\t: null,\n\t\t};\n\t}, [] );\n\tconst { isDistractionFree } = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\treturn {\n\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t};\n\t}, [] );\n\n\tconst {\n\t\tresultComments,\n\t\tunresolvedSortedThreads,\n\t\treflowComments,\n\t\tcommentLastUpdated,\n\t} = useBlockComments( postId );\n\tuseEnableFloatingSidebar(\n\t\tshowFloatingSidebar &&\n\t\t\t( unresolvedSortedThreads.length > 0 ||\n\t\t\t\tnewNoteFormState !== 'closed' )\n\t);\n\n\t// Get the global styles to set the background color of the sidebar.\n\tconst { merged: GlobalStyles } = useGlobalStylesContext();\n\tconst backgroundColor = GlobalStyles?.styles?.color?.background;\n\n\t// Find the current thread for the selected block.\n\tconst currentThread = blockCommentId\n\t\t? resultComments.find( ( thread ) => thread.id === blockCommentId )\n\t\t: null;\n\tconst showAllNotesSidebar = resultComments.length > 0;\n\n\tasync function openTheSidebar() {\n\t\tconst prevArea = await getActiveComplementaryArea( 'core' );\n\t\tconst activeNotesArea = SIDEBARS.find( ( name ) => name === prevArea );\n\n\t\tif ( currentThread?.status === 'approved' ) {\n\t\t\tenableComplementaryArea( 'core', collabHistorySidebarName );\n\t\t} else if ( ! activeNotesArea || ! showAllNotesSidebar ) {\n\t\t\tenableComplementaryArea(\n\t\t\t\t'core',\n\t\t\t\tshowFloatingSidebar\n\t\t\t\t\t? collabSidebarName\n\t\t\t\t\t: collabHistorySidebarName\n\t\t\t);\n\t\t}\n\n\t\tconst currentArea = await getActiveComplementaryArea( 'core' );\n\t\t// Bail out if the current active area is not one of note sidebars.\n\t\tif ( ! SIDEBARS.includes( currentArea ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetNewNoteFormState( ! currentThread ? 'open' : 'closed' );\n\t\tfocusCommentThread(\n\t\t\tcurrentThread?.id,\n\t\t\tcommentSidebarRef.current,\n\t\t\t// Focus a comment thread when there's a selected block with a comment.\n\t\t\t! currentThread ? 'textarea' : undefined\n\t\t);\n\t\ttoggleBlockSpotlight( clientId, true );\n\t}\n\n\tif ( isDistractionFree ) {\n\t\treturn <AddCommentMenuItem isDistractionFree />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ !! currentThread && (\n\t\t\t\t<CommentAvatarIndicator\n\t\t\t\t\tthread={ currentThread }\n\t\t\t\t\tonClick={ openTheSidebar }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<AddCommentMenuItem onClick={ openTheSidebar } />\n\t\t\t{ showAllNotesSidebar && (\n\t\t\t\t<PluginSidebar\n\t\t\t\t\tidentifier={ collabHistorySidebarName }\n\t\t\t\t\tname={ collabHistorySidebarName }\n\t\t\t\t\ttitle={ __( 'All notes' ) }\n\t\t\t\t\theader={\n\t\t\t\t\t\t<h2 className=\"interface-complementary-area-header__title\">\n\t\t\t\t\t\t\t{ __( 'All notes' ) }\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t}\n\t\t\t\t\ticon={ commentIcon }\n\t\t\t\t\tcloseLabel={ __( 'Close Notes' ) }\n\t\t\t\t>\n\t\t\t\t\t<NotesSidebarContent\n\t\t\t\t\t\tcomments={ resultComments }\n\t\t\t\t\t\tnewNoteFormState={ newNoteFormState }\n\t\t\t\t\t\tsetNewNoteFormState={ setNewNoteFormState }\n\t\t\t\t\t\tcommentSidebarRef={ commentSidebarRef }\n\t\t\t\t\t/>\n\t\t\t\t</PluginSidebar>\n\t\t\t) }\n\t\t\t{ isLargeViewport && (\n\t\t\t\t<PluginSidebar\n\t\t\t\t\tisPinnable={ false }\n\t\t\t\t\theader={ false }\n\t\t\t\t\tidentifier={ collabSidebarName }\n\t\t\t\t\tclassName=\"editor-collab-sidebar\"\n\t\t\t\t\theaderClassName=\"editor-collab-sidebar__header\"\n\t\t\t\t\tbackgroundColor={ backgroundColor }\n\t\t\t\t>\n\t\t\t\t\t<NotesSidebarContent\n\t\t\t\t\t\tcomments={ unresolvedSortedThreads }\n\t\t\t\t\t\tnewNoteFormState={ newNoteFormState }\n\t\t\t\t\t\tsetNewNoteFormState={ setNewNoteFormState }\n\t\t\t\t\t\tcommentSidebarRef={ commentSidebarRef }\n\t\t\t\t\t\treflowComments={ reflowComments }\n\t\t\t\t\t\tcommentLastUpdated={ commentLastUpdated }\n\t\t\t\t\t\tstyles={ {\n\t\t\t\t\t\t\tbackgroundColor,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisFloating\n\t\t\t\t\t/>\n\t\t\t\t</PluginSidebar>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default function NotesSidebarContainer() {\n\tconst { postId, editorMode } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostId, getEditorMode } = select( editorStore );\n\t\treturn {\n\t\t\tpostId: getCurrentPostId(),\n\t\t\teditorMode: getEditorMode(),\n\t\t};\n\t}, [] );\n\n\tif ( ! postId || typeof postId !== 'number' ) {\n\t\treturn null;\n\t}\n\n\t// Hide Notes sidebar in Code Editor mode since block-level commenting.\n\tif ( editorMode === 'text' ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"editor.notes\">\n\t\t\t<NotesSidebar postId={ postId } />\n\t\t</PostTypeSupportCheck>\n\t);\n}\n", "export const collabHistorySidebarName = 'edit-post/collab-history-sidebar';\nexport const collabSidebarName = 'edit-post/collab-sidebar';\nexport const SIDEBARS = [ collabHistorySidebarName, collabSidebarName ];\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseState,\n\tRawHTML,\n\tuseEffect,\n\tuseCallback,\n\tuseMemo,\n\tuseRef,\n} from '@wordpress/element';\nimport {\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalConfirmDialog as ConfirmDialog,\n\tButton,\n\tFlexItem,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { useDebounce } from '@wordpress/compose';\n\nimport { published, moreVertical } from '@wordpress/icons';\nimport { __, _x, sprintf, _n } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\nimport {\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport CommentAuthorInfo from './comment-author-info';\nimport CommentForm from './comment-form';\nimport { focusCommentThread, getCommentExcerpt } from './utils';\nimport { useFloatingThread } from './hooks';\nimport { AddComment } from './add-comment';\nimport { store as editorStore } from '../../store';\n\nconst { useBlockElement } = unlock( blockEditorPrivateApis );\nconst { Menu } = unlock( componentsPrivateApis );\n\nexport function Comments( {\n\tthreads: noteThreads,\n\tonEditComment,\n\tonAddReply,\n\tonCommentDelete,\n\tnewNoteFormState,\n\tsetNewNoteFormState,\n\tcommentSidebarRef,\n\treflowComments,\n\tisFloating = false,\n\tcommentLastUpdated,\n} ) {\n\tconst [ heights, setHeights ] = useState( {} );\n\tconst [ selectedThread, setSelectedThread ] = useState( null );\n\tconst [ boardOffsets, setBoardOffsets ] = useState( {} );\n\tconst [ blockRefs, setBlockRefs ] = useState( {} );\n\n\tconst { setCanvasMinHeight } = unlock( useDispatch( editorStore ) );\n\tconst { selectBlock, toggleBlockSpotlight } = unlock(\n\t\tuseDispatch( blockEditorStore )\n\t);\n\n\tconst { blockCommentId, selectedBlockClientId, orderedBlockIds } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockAttributes,\n\t\t\t\tgetSelectedBlockClientId,\n\t\t\t\tgetClientIdsWithDescendants,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst clientId = getSelectedBlockClientId();\n\t\t\treturn {\n\t\t\t\tblockCommentId: clientId\n\t\t\t\t\t? getBlockAttributes( clientId )?.metadata?.noteId\n\t\t\t\t\t: null,\n\t\t\t\tselectedBlockClientId: clientId,\n\t\t\t\torderedBlockIds: getClientIdsWithDescendants(),\n\t\t\t};\n\t\t}, [] );\n\n\tconst relatedBlockElement = useBlockElement( selectedBlockClientId );\n\n\tconst threads = useMemo( () => {\n\t\tconst t = [ ...noteThreads ];\n\t\tconst orderedThreads = [];\n\t\t// In floating mode, when the note board is shown, and as long\n\t\t// as the selected block doesn't have an existing note attached -\n\t\t// add a \"new note\" entry to the threads. This special thread type\n\t\t// gets sorted and floated like regular threads, but shows an AddComment\n\t\t// component instead of a regular comment thread.\n\t\tif ( isFloating && newNoteFormState === 'open' ) {\n\t\t\t// Insert the new note entry at the correct location for its blockId.\n\t\t\tconst newNoteThread = {\n\t\t\t\tid: 'new-note-thread',\n\t\t\t\tblockClientId: selectedBlockClientId,\n\t\t\t\tcontent: { rendered: '' },\n\t\t\t};\n\t\t\t// Insert the new comment block at the right order within the threads.\n\t\t\torderedBlockIds.forEach( ( blockId ) => {\n\t\t\t\tif ( blockId === selectedBlockClientId ) {\n\t\t\t\t\torderedThreads.push( newNoteThread );\n\t\t\t\t} else {\n\t\t\t\t\tconst threadForBlock = t.find(\n\t\t\t\t\t\t( thread ) => thread.blockClientId === blockId\n\t\t\t\t\t);\n\t\t\t\t\tif ( threadForBlock ) {\n\t\t\t\t\t\torderedThreads.push( threadForBlock );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t\treturn orderedThreads;\n\t\t}\n\t\treturn t;\n\t}, [\n\t\tnoteThreads,\n\t\tisFloating,\n\t\tnewNoteFormState,\n\t\tselectedBlockClientId,\n\t\torderedBlockIds,\n\t] );\n\n\tconst handleDelete = async ( comment ) => {\n\t\tconst currentIndex = threads.findIndex( ( t ) => t.id === comment.id );\n\t\tconst nextThread = threads[ currentIndex + 1 ];\n\t\tconst prevThread = threads[ currentIndex - 1 ];\n\n\t\tawait onCommentDelete( comment );\n\n\t\tif ( comment.parent !== 0 ) {\n\t\t\t// Move focus to the parent thread when a reply was deleted.\n\t\t\tsetSelectedThread( comment.parent );\n\t\t\tfocusCommentThread( comment.parent, commentSidebarRef.current );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nextThread ) {\n\t\t\tsetSelectedThread( nextThread.id );\n\t\t\tfocusCommentThread( nextThread.id, commentSidebarRef.current );\n\t\t} else if ( prevThread ) {\n\t\t\tsetSelectedThread( prevThread.id );\n\t\t\tfocusCommentThread( prevThread.id, commentSidebarRef.current );\n\t\t} else {\n\t\t\tsetSelectedThread( null );\n\t\t\tsetNewNoteFormState( 'closed' );\n\t\t\t// Move focus to the related block.\n\t\t\trelatedBlockElement?.focus();\n\t\t}\n\t};\n\n\t// Auto-select the related comment thread when a block is selected.\n\tuseEffect( () => {\n\t\t// Fallback to 'new-note-thread' when showing the comment board for a new note.\n\t\tsetSelectedThread(\n\t\t\tnewNoteFormState === 'open' ? 'new-note-thread' : blockCommentId\n\t\t);\n\t}, [ blockCommentId, newNoteFormState ] );\n\n\tconst setBlockRef = useCallback( ( id, blockRef ) => {\n\t\tsetBlockRefs( ( prev ) => ( { ...prev, [ id ]: blockRef } ) );\n\t}, [] );\n\n\t// Recalculate floating comment thread offsets whenever the heights change.\n\tuseEffect( () => {\n\t\t/**\n\t\t * Calculate the y offsets for all comment threads. Account for potentially\n\t\t * overlapping threads and adjust their positions accordingly.\n\t\t */\n\t\tconst calculateAllOffsets = () => {\n\t\t\tconst offsets = {};\n\n\t\t\tif ( ! isFloating ) {\n\t\t\t\treturn { offsets, minHeight: 0 };\n\t\t\t}\n\n\t\t\t// Find the index of the selected thread.\n\t\t\tconst selectedThreadIndex = threads.findIndex(\n\t\t\t\t( t ) => t.id === selectedThread\n\t\t\t);\n\n\t\t\tconst breakIndex =\n\t\t\t\tselectedThreadIndex === -1 ? 0 : selectedThreadIndex;\n\n\t\t\t// If there is a selected thread, push threads above up and threads below down.\n\t\t\tconst selectedThreadData = threads[ breakIndex ];\n\n\t\t\tif (\n\t\t\t\t! selectedThreadData ||\n\t\t\t\t! blockRefs[ selectedThreadData.id ]\n\t\t\t) {\n\t\t\t\treturn { offsets, minHeight: 0 };\n\t\t\t}\n\n\t\t\tlet blockElement = blockRefs[ selectedThreadData.id ];\n\t\t\tlet blockRect = blockElement?.getBoundingClientRect();\n\t\t\tconst selectedThreadTop = blockRect?.top || 0;\n\t\t\tconst selectedThreadHeight = heights[ selectedThreadData.id ] || 0;\n\n\t\t\toffsets[ selectedThreadData.id ] = -16;\n\n\t\t\tlet previousThreadData = {\n\t\t\t\tthreadTop: selectedThreadTop - 16,\n\t\t\t\tthreadHeight: selectedThreadHeight,\n\t\t\t};\n\n\t\t\t// Process threads after the selected thread, offsetting any overlapping\n\t\t\t// threads downward.\n\t\t\tfor ( let i = breakIndex + 1; i < threads.length; i++ ) {\n\t\t\t\tconst thread = threads[ i ];\n\t\t\t\tif ( ! blockRefs[ thread.id ] ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tblockElement = blockRefs[ thread.id ];\n\t\t\t\tblockRect = blockElement?.getBoundingClientRect();\n\t\t\t\tconst threadTop = blockRect?.top || 0;\n\t\t\t\tconst threadHeight = heights[ thread.id ] || 0;\n\n\t\t\t\tlet additionalOffset = -16;\n\n\t\t\t\t// Check if the thread overlaps with the previous one.\n\t\t\t\tconst previousBottom =\n\t\t\t\t\tpreviousThreadData.threadTop +\n\t\t\t\t\tpreviousThreadData.threadHeight;\n\t\t\t\tif ( threadTop < previousBottom + 16 ) {\n\t\t\t\t\t// Shift down by the difference plus a margin to avoid overlap.\n\t\t\t\t\tadditionalOffset = previousBottom - threadTop + 20;\n\t\t\t\t}\n\n\t\t\t\toffsets[ thread.id ] = additionalOffset;\n\n\t\t\t\t// Update for next iteration.\n\t\t\t\tpreviousThreadData = {\n\t\t\t\t\tthreadTop: threadTop + additionalOffset,\n\t\t\t\t\tthreadHeight,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Process threads before the selected thread, offsetting any overlapping\n\t\t\t// threads upward.\n\t\t\tlet nextThreadData = {\n\t\t\t\tthreadTop: selectedThreadTop - 16,\n\t\t\t};\n\n\t\t\tfor ( let i = selectedThreadIndex - 1; i >= 0; i-- ) {\n\t\t\t\tconst thread = threads[ i ];\n\t\t\t\tif ( ! blockRefs[ thread.id ] ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tblockElement = blockRefs[ thread.id ];\n\t\t\t\tblockRect = blockElement?.getBoundingClientRect();\n\t\t\t\tconst threadTop = blockRect?.top || 0;\n\t\t\t\tconst threadHeight = heights[ thread.id ] || 0;\n\n\t\t\t\tlet additionalOffset = -16;\n\n\t\t\t\t// Calculate the bottom position of this thread with default offset.\n\t\t\t\tconst threadBottom = threadTop + threadHeight;\n\n\t\t\t\t// Check if this thread's bottom would overlap with the next thread's top.\n\t\t\t\tif ( threadBottom > nextThreadData.threadTop ) {\n\t\t\t\t\t// Shift up by the difference plus a margin to avoid overlap.\n\t\t\t\t\tadditionalOffset =\n\t\t\t\t\t\tnextThreadData.threadTop -\n\t\t\t\t\t\tthreadTop -\n\t\t\t\t\t\tthreadHeight -\n\t\t\t\t\t\t20;\n\t\t\t\t}\n\n\t\t\t\toffsets[ thread.id ] = additionalOffset;\n\n\t\t\t\t// Update for next iteration (going upward).\n\t\t\t\tnextThreadData = {\n\t\t\t\t\tthreadTop: threadTop + additionalOffset,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tlet editorMinHeight = 0;\n\t\t\t// Take the calculated top of the final note plus its height as the editor min height.\n\t\t\tconst lastThread = threads[ threads.length - 1 ];\n\t\t\tif ( blockRefs[ lastThread.id ] ) {\n\t\t\t\tconst lastBlockElement = blockRefs[ lastThread.id ];\n\t\t\t\tconst lastBlockRect = lastBlockElement?.getBoundingClientRect();\n\t\t\t\tconst lastThreadTop = lastBlockRect?.top || 0;\n\t\t\t\tconst lastThreadHeight = heights[ lastThread.id ] || 0;\n\t\t\t\tconst lastThreadOffset = offsets[ lastThread.id ] || 0;\n\t\t\t\teditorMinHeight =\n\t\t\t\t\tlastThreadTop + lastThreadHeight + lastThreadOffset + 32;\n\t\t\t}\n\n\t\t\treturn { offsets, minHeight: editorMinHeight };\n\t\t};\n\t\tconst { offsets: newOffsets, minHeight } = calculateAllOffsets();\n\t\tif ( Object.keys( newOffsets ).length > 0 ) {\n\t\t\tsetBoardOffsets( newOffsets );\n\t\t}\n\t\t// Ensure the editor has enough height to scroll to all notes.\n\t\tsetCanvasMinHeight( minHeight );\n\t}, [\n\t\theights,\n\t\tblockRefs,\n\t\tisFloating,\n\t\tthreads,\n\t\tselectedThread,\n\t\tsetCanvasMinHeight,\n\t] );\n\n\tconst handleThreadNavigation = ( event, thread, isSelected ) => {\n\t\tif ( event.defaultPrevented ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentIndex = threads.findIndex( ( t ) => t.id === thread.id );\n\n\t\tif (\n\t\t\t( event.key === 'Enter' || event.key === 'ArrowRight' ) &&\n\t\t\tevent.currentTarget === event.target &&\n\t\t\t! isSelected\n\t\t) {\n\t\t\t// Expand thread.\n\t\t\tsetNewNoteFormState( 'closed' );\n\t\t\tsetSelectedThread( thread.id );\n\t\t\tif ( !! thread.blockClientId ) {\n\t\t\t\t// Pass `null` as the second parameter to prevent focusing the block.\n\t\t\t\tselectBlock( thread.blockClientId, null );\n\t\t\t\ttoggleBlockSpotlight( thread.blockClientId, true );\n\t\t\t}\n\t\t} else if (\n\t\t\t( ( event.key === 'Enter' || event.key === 'ArrowLeft' ) &&\n\t\t\t\tevent.currentTarget === event.target &&\n\t\t\t\tisSelected ) ||\n\t\t\tevent.key === 'Escape'\n\t\t) {\n\t\t\t// Collapse thread.\n\t\t\tsetSelectedThread( null );\n\t\t\tsetNewNoteFormState( 'closed' );\n\t\t\tif ( thread.blockClientId ) {\n\t\t\t\ttoggleBlockSpotlight( thread.blockClientId, false );\n\t\t\t}\n\t\t\tfocusCommentThread( thread.id, commentSidebarRef.current );\n\t\t} else if (\n\t\t\tevent.key === 'ArrowDown' &&\n\t\t\tcurrentIndex < threads.length - 1 &&\n\t\t\tevent.currentTarget === event.target\n\t\t) {\n\t\t\t// Move to the next thread.\n\t\t\tconst nextThread = threads[ currentIndex + 1 ];\n\t\t\tfocusCommentThread( nextThread.id, commentSidebarRef.current );\n\t\t} else if (\n\t\t\tevent.key === 'ArrowUp' &&\n\t\t\tcurrentIndex > 0 &&\n\t\t\tevent.currentTarget === event.target\n\t\t) {\n\t\t\t// Move to the previous thread.\n\t\t\tconst prevThread = threads[ currentIndex - 1 ];\n\t\t\tfocusCommentThread( prevThread.id, commentSidebarRef.current );\n\t\t} else if (\n\t\t\tevent.key === 'Home' &&\n\t\t\tevent.currentTarget === event.target\n\t\t) {\n\t\t\t// Move to the first thread.\n\t\t\tfocusCommentThread( threads[ 0 ].id, commentSidebarRef.current );\n\t\t} else if (\n\t\t\tevent.key === 'End' &&\n\t\t\tevent.currentTarget === event.target\n\t\t) {\n\t\t\t// Move to the last thread.\n\t\t\tfocusCommentThread(\n\t\t\t\tthreads[ threads.length - 1 ].id,\n\t\t\t\tcommentSidebarRef.current\n\t\t\t);\n\t\t}\n\t};\n\n\tconst hasThreads = Array.isArray( threads ) && threads.length > 0;\n\t// A special case for `template-locked` mode - https://github.com/WordPress/gutenberg/pull/72646.\n\tif ( ! hasThreads && ! isFloating ) {\n\t\treturn (\n\t\t\t<AddComment\n\t\t\t\tonSubmit={ onAddReply }\n\t\t\t\tnewNoteFormState={ newNoteFormState }\n\t\t\t\tsetNewNoteFormState={ setNewNoteFormState }\n\t\t\t\tcommentSidebarRef={ commentSidebarRef }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ ! isFloating && newNoteFormState === 'open' && (\n\t\t\t\t<AddComment\n\t\t\t\t\tonSubmit={ onAddReply }\n\t\t\t\t\tnewNoteFormState={ newNoteFormState }\n\t\t\t\t\tsetNewNoteFormState={ setNewNoteFormState }\n\t\t\t\t\tcommentSidebarRef={ commentSidebarRef }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ threads.map( ( thread ) => (\n\t\t\t\t<Thread\n\t\t\t\t\tkey={ thread.id }\n\t\t\t\t\tthread={ thread }\n\t\t\t\t\tonAddReply={ onAddReply }\n\t\t\t\t\tonCommentDelete={ handleDelete }\n\t\t\t\t\tonEditComment={ onEditComment }\n\t\t\t\t\tisSelected={ selectedThread === thread.id }\n\t\t\t\t\tsetSelectedThread={ setSelectedThread }\n\t\t\t\t\tsetNewNoteFormState={ setNewNoteFormState }\n\t\t\t\t\tcommentSidebarRef={ commentSidebarRef }\n\t\t\t\t\treflowComments={ reflowComments }\n\t\t\t\t\tisFloating={ isFloating }\n\t\t\t\t\tcalculatedOffset={ boardOffsets[ thread.id ] ?? 0 }\n\t\t\t\t\tsetHeights={ setHeights }\n\t\t\t\t\tsetBlockRef={ setBlockRef }\n\t\t\t\t\tselectedThread={ selectedThread }\n\t\t\t\t\tcommentLastUpdated={ commentLastUpdated }\n\t\t\t\t\tnewNoteFormState={ newNoteFormState }\n\t\t\t\t\tonKeyDown={ ( event ) =>\n\t\t\t\t\t\thandleThreadNavigation(\n\t\t\t\t\t\t\tevent,\n\t\t\t\t\t\t\tthread,\n\t\t\t\t\t\t\tselectedThread === thread.id\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</>\n\t);\n}\n\nfunction Thread( {\n\tthread,\n\tonEditComment,\n\tonAddReply,\n\tonCommentDelete,\n\tisSelected,\n\tsetNewNoteFormState,\n\tcommentSidebarRef,\n\treflowComments,\n\tisFloating,\n\tcalculatedOffset,\n\tsetHeights,\n\tsetBlockRef,\n\tsetSelectedThread,\n\tselectedThread,\n\tcommentLastUpdated,\n\tnewNoteFormState,\n\tonKeyDown,\n} ) {\n\tconst { toggleBlockHighlight, selectBlock, toggleBlockSpotlight } = unlock(\n\t\tuseDispatch( blockEditorStore )\n\t);\n\tconst relatedBlockElement = useBlockElement( thread.blockClientId );\n\tconst debouncedToggleBlockHighlight = useDebounce(\n\t\ttoggleBlockHighlight,\n\t\t50\n\t);\n\tconst { y, refs } = useFloatingThread( {\n\t\tthread,\n\t\tcalculatedOffset,\n\t\tsetHeights,\n\t\tsetBlockRef,\n\t\tselectedThread,\n\t\tcommentLastUpdated,\n\t} );\n\tconst isKeyboardTabbingRef = useRef( false );\n\n\tconst onMouseEnter = () => {\n\t\tdebouncedToggleBlockHighlight( thread.blockClientId, true );\n\t};\n\n\tconst onMouseLeave = () => {\n\t\tdebouncedToggleBlockHighlight( thread.blockClientId, false );\n\t};\n\n\tconst onFocus = () => {\n\t\ttoggleBlockHighlight( thread.blockClientId, true );\n\t};\n\n\tconst onBlur = ( event ) => {\n\t\tconst isNoteFocused = event.relatedTarget?.closest(\n\t\t\t'.editor-collab-sidebar-panel__thread'\n\t\t);\n\t\tconst isDialogFocused =\n\t\t\tevent.relatedTarget?.closest( '[role=\"dialog\"]' );\n\t\tconst isTabbing = isKeyboardTabbingRef.current;\n\n\t\t// When another note is clicked, do nothing because the current note is automatically closed.\n\t\tif ( isNoteFocused && ! isTabbing ) {\n\t\t\treturn;\n\t\t}\n\t\t// When deleting a note, a dialog appears, but the note should not be collapsed.\n\t\tif ( isDialogFocused ) {\n\t\t\treturn;\n\t\t}\n\t\t// When tabbing, do nothing if the focus is within the current note.\n\t\tif (\n\t\t\tisTabbing &&\n\t\t\tevent.currentTarget.contains( event.relatedTarget )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Closes a note that has lost focus when any of the following conditions are met:\n\t\t// - An element other than a note is clicked.\n\t\t// - Focus was lost by tabbing.\n\t\ttoggleBlockHighlight( thread.blockClientId, false );\n\t\tunselectThread();\n\t};\n\n\tconst handleCommentSelect = () => {\n\t\tsetNewNoteFormState( 'closed' );\n\t\tsetSelectedThread( thread.id );\n\t\ttoggleBlockSpotlight( thread.blockClientId, true );\n\t\tif ( !! thread.blockClientId ) {\n\t\t\t// Pass `null` as the second parameter to prevent focusing the block.\n\t\t\tselectBlock( thread.blockClientId, null );\n\t\t}\n\t};\n\n\tconst unselectThread = () => {\n\t\tsetSelectedThread( null );\n\t\tsetNewNoteFormState( 'closed' );\n\t\ttoggleBlockSpotlight( thread.blockClientId, false );\n\t};\n\n\tconst allReplies = thread?.reply || [];\n\n\tconst lastReply =\n\t\tallReplies.length > 0 ? allReplies[ allReplies.length - 1 ] : undefined;\n\tconst restReplies = allReplies.length > 0 ? allReplies.slice( 0, -1 ) : [];\n\n\tconst commentExcerpt = getCommentExcerpt(\n\t\tstripHTML( thread.content?.rendered ),\n\t\t10\n\t);\n\tconst ariaLabel = !! thread.blockClientId\n\t\t? sprintf(\n\t\t\t\t// translators: %s: note excerpt\n\t\t\t\t__( 'Note: %s' ),\n\t\t\t\tcommentExcerpt\n\t\t  )\n\t\t: sprintf(\n\t\t\t\t// translators: %s: note excerpt\n\t\t\t\t__( 'Original block deleted. Note: %s' ),\n\t\t\t\tcommentExcerpt\n\t\t  );\n\n\tif (\n\t\tthread.id === 'new-note-thread' &&\n\t\tnewNoteFormState === 'open' &&\n\t\tisFloating\n\t) {\n\t\treturn (\n\t\t\t<AddComment\n\t\t\t\tonSubmit={ onAddReply }\n\t\t\t\tnewNoteFormState={ newNoteFormState }\n\t\t\t\tsetNewNoteFormState={ setNewNoteFormState }\n\t\t\t\tcommentSidebarRef={ commentSidebarRef }\n\t\t\t\treflowComments={ reflowComments }\n\t\t\t\tisFloating={ isFloating }\n\t\t\t\ty={ y }\n\t\t\t\trefs={ refs }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<VStack\n\t\t\tclassName={ clsx( 'editor-collab-sidebar-panel__thread', {\n\t\t\t\t'is-selected': isSelected,\n\t\t\t\t'is-floating': isFloating,\n\t\t\t} ) }\n\t\t\tid={ `comment-thread-${ thread.id }` }\n\t\t\tspacing=\"3\"\n\t\t\tonClick={ handleCommentSelect }\n\t\t\tonMouseEnter={ onMouseEnter }\n\t\t\tonMouseLeave={ onMouseLeave }\n\t\t\tonFocus={ onFocus }\n\t\t\tonBlur={ onBlur }\n\t\t\tonKeyUp={ ( event ) => {\n\t\t\t\tif ( event.key === 'Tab' ) {\n\t\t\t\t\tisKeyboardTabbingRef.current = false;\n\t\t\t\t}\n\t\t\t} }\n\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\tif ( event.key === 'Tab' ) {\n\t\t\t\t\tisKeyboardTabbingRef.current = true;\n\t\t\t\t} else {\n\t\t\t\t\tonKeyDown( event );\n\t\t\t\t}\n\t\t\t} }\n\t\t\ttabIndex={ 0 }\n\t\t\trole=\"treeitem\"\n\t\t\taria-label={ ariaLabel }\n\t\t\taria-expanded={ isSelected }\n\t\t\tref={ isFloating ? refs.setFloating : undefined }\n\t\t\tstyle={ isFloating ? { top: y } : undefined }\n\t\t>\n\t\t\t<Button\n\t\t\t\tclassName=\"editor-collab-sidebar-panel__skip-to-comment\"\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tsize=\"compact\"\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tfocusCommentThread(\n\t\t\t\t\t\tthread.id,\n\t\t\t\t\t\tcommentSidebarRef.current,\n\t\t\t\t\t\t'textarea'\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Add new reply' ) }\n\t\t\t</Button>\n\t\t\t{ ! thread.blockClientId && (\n\t\t\t\t<Text as=\"p\" weight={ 500 } variant=\"muted\">\n\t\t\t\t\t{ __( 'Original block deleted.' ) }\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t\t<CommentBoard\n\t\t\t\tthread={ thread }\n\t\t\t\tisExpanded={ isSelected }\n\t\t\t\tonEdit={ ( params = {} ) => {\n\t\t\t\t\tonEditComment( params );\n\t\t\t\t\tif ( params.status === 'approved' ) {\n\t\t\t\t\t\tunselectThread();\n\t\t\t\t\t\tif ( isFloating ) {\n\t\t\t\t\t\t\trelatedBlockElement?.focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfocusCommentThread(\n\t\t\t\t\t\t\t\tthread.id,\n\t\t\t\t\t\t\t\tcommentSidebarRef.current\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tonDelete={ onCommentDelete }\n\t\t\t\treflowComments={ reflowComments }\n\t\t\t/>\n\t\t\t{ isSelected &&\n\t\t\t\tallReplies.map( ( reply ) => (\n\t\t\t\t\t<CommentBoard\n\t\t\t\t\t\tkey={ reply.id }\n\t\t\t\t\t\tthread={ reply }\n\t\t\t\t\t\tparent={ thread }\n\t\t\t\t\t\tisExpanded={ isSelected }\n\t\t\t\t\t\tonEdit={ onEditComment }\n\t\t\t\t\t\tonDelete={ onCommentDelete }\n\t\t\t\t\t\treflowComments={ reflowComments }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t{ ! isSelected && restReplies.length > 0 && (\n\t\t\t\t<HStack className=\"editor-collab-sidebar-panel__more-reply-separator\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__more-reply-button\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetSelectedThread( thread.id );\n\t\t\t\t\t\t\tfocusCommentThread(\n\t\t\t\t\t\t\t\tthread.id,\n\t\t\t\t\t\t\t\tcommentSidebarRef.current\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t// translators: %s: number of replies.\n\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t'%s more reply',\n\t\t\t\t\t\t\t\t'%s more replies',\n\t\t\t\t\t\t\t\trestReplies.length\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\trestReplies.length\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t{ ! isSelected && lastReply && (\n\t\t\t\t<CommentBoard\n\t\t\t\t\tthread={ lastReply }\n\t\t\t\t\tparent={ thread }\n\t\t\t\t\tisExpanded={ isSelected }\n\t\t\t\t\tonEdit={ onEditComment }\n\t\t\t\t\tonDelete={ onCommentDelete }\n\t\t\t\t\treflowComments={ reflowComments }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isSelected && (\n\t\t\t\t<VStack spacing=\"2\" role=\"treeitem\">\n\t\t\t\t\t<HStack alignment=\"left\" spacing=\"3\" justify=\"flex-start\">\n\t\t\t\t\t\t<CommentAuthorInfo />\n\t\t\t\t\t</HStack>\n\t\t\t\t\t<VStack spacing=\"2\">\n\t\t\t\t\t\t<CommentForm\n\t\t\t\t\t\t\tonSubmit={ ( inputComment ) => {\n\t\t\t\t\t\t\t\tif ( 'approved' === thread.status ) {\n\t\t\t\t\t\t\t\t\t// For reopening, include the content in the reopen action.\n\t\t\t\t\t\t\t\t\tonEditComment( {\n\t\t\t\t\t\t\t\t\t\tid: thread.id,\n\t\t\t\t\t\t\t\t\t\tstatus: 'hold',\n\t\t\t\t\t\t\t\t\t\tcontent: inputComment,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// For regular replies, add as separate comment.\n\t\t\t\t\t\t\t\t\tonAddReply( {\n\t\t\t\t\t\t\t\t\t\tcontent: inputComment,\n\t\t\t\t\t\t\t\t\t\tparent: thread.id,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonCancel={ ( event ) => {\n\t\t\t\t\t\t\t\t// Prevent the parent onClick from being triggered.\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\tunselectThread();\n\t\t\t\t\t\t\t\tfocusCommentThread(\n\t\t\t\t\t\t\t\t\tthread.id,\n\t\t\t\t\t\t\t\t\tcommentSidebarRef.current\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tsubmitButtonText={\n\t\t\t\t\t\t\t\t'approved' === thread.status\n\t\t\t\t\t\t\t\t\t? __( 'Reopen & Reply' )\n\t\t\t\t\t\t\t\t\t: __( 'Reply' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trows={ 'approved' === thread.status ? 2 : 4 }\n\t\t\t\t\t\t\tlabelText={ sprintf(\n\t\t\t\t\t\t\t\t// translators: %1$s: note identifier, %2$s: author name\n\t\t\t\t\t\t\t\t__( 'Reply to note %1$s by %2$s' ),\n\t\t\t\t\t\t\t\tthread.id,\n\t\t\t\t\t\t\t\tthread.author_name\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\treflowComments={ reflowComments }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</VStack>\n\t\t\t\t</VStack>\n\t\t\t) }\n\t\t\t{ !! thread.blockClientId && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__skip-to-block\"\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\trelatedBlockElement?.focus();\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Back to block' ) }\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nconst CommentBoard = ( {\n\tthread,\n\tparent,\n\tisExpanded,\n\tonEdit,\n\tonDelete,\n\treflowComments,\n} ) => {\n\tconst [ actionState, setActionState ] = useState( false );\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\tconst actionButtonRef = useRef( null );\n\tconst handleConfirmDelete = () => {\n\t\tonDelete( thread );\n\t\tsetActionState( false );\n\t\tsetShowConfirmDialog( false );\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetActionState( false );\n\t\tsetShowConfirmDialog( false );\n\t\tactionButtonRef.current?.focus();\n\t};\n\n\t// Check if this is a resolution comment by checking metadata.\n\tconst isResolutionComment =\n\t\tthread.type === 'note' &&\n\t\tthread.meta &&\n\t\t( thread.meta._wp_note_status === 'resolved' ||\n\t\t\tthread.meta._wp_note_status === 'reopen' );\n\n\tconst actions = [\n\t\t{\n\t\t\tid: 'edit',\n\t\t\ttitle: __( 'Edit' ),\n\t\t\tisEligible: ( { status } ) => status !== 'approved',\n\t\t\tonClick: () => {\n\t\t\t\tsetActionState( 'edit' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tid: 'reopen',\n\t\t\ttitle: _x( 'Reopen', 'Reopen note' ),\n\t\t\tisEligible: ( { status } ) => status === 'approved',\n\t\t\tonClick: () => {\n\t\t\t\tonEdit( { id: thread.id, status: 'hold' } );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tid: 'delete',\n\t\t\ttitle: __( 'Delete' ),\n\t\t\tisEligible: () => true,\n\t\t\tonClick: () => {\n\t\t\t\tsetActionState( 'delete' );\n\t\t\t\tsetShowConfirmDialog( true );\n\t\t\t},\n\t\t},\n\t];\n\n\tconst canResolve = thread.parent === 0;\n\tconst moreActions =\n\t\tparent?.status !== 'approved'\n\t\t\t? actions.filter( ( item ) => item.isEligible( thread ) )\n\t\t\t: [];\n\n\tconst deleteConfirmMessage =\n\t\t// When deleting a top level note, descendants will also be deleted.\n\t\tthread.parent === 0\n\t\t\t? __(\n\t\t\t\t\t\"Are you sure you want to delete this note? This will also delete all of this note's replies.\"\n\t\t\t  )\n\t\t\t: __( 'Are you sure you want to delete this reply?' );\n\n\treturn (\n\t\t<VStack\n\t\t\tspacing=\"2\"\n\t\t\trole={ thread.parent !== 0 ? 'treeitem' : undefined }\n\t\t>\n\t\t\t<HStack alignment=\"left\" spacing=\"3\" justify=\"flex-start\">\n\t\t\t\t<CommentAuthorInfo\n\t\t\t\t\tavatar={ thread?.author_avatar_urls?.[ 48 ] }\n\t\t\t\t\tname={ thread?.author_name }\n\t\t\t\t\tdate={ thread?.date }\n\t\t\t\t\tuserId={ thread?.author }\n\t\t\t\t/>\n\t\t\t\t{ isExpanded && (\n\t\t\t\t\t<FlexItem\n\t\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__comment-status\"\n\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t// Prevent the thread from being selected.\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<HStack spacing=\"0\">\n\t\t\t\t\t\t\t{ canResolve && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t\t\t'Resolve',\n\t\t\t\t\t\t\t\t\t\t'Mark note as resolved'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\ticon={ published }\n\t\t\t\t\t\t\t\t\tdisabled={ thread.status === 'approved' }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled={\n\t\t\t\t\t\t\t\t\t\tthread.status === 'approved'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tonEdit( {\n\t\t\t\t\t\t\t\t\t\t\tid: thread.id,\n\t\t\t\t\t\t\t\t\t\t\tstatus: 'approved',\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<Menu placement=\"bottom-end\">\n\t\t\t\t\t\t\t\t<Menu.TriggerButton\n\t\t\t\t\t\t\t\t\trender={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tref={ actionButtonRef }\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\t\t\t\t\t\t\t\tdisabled={ ! moreActions.length }\n\t\t\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Menu.Popover\n\t\t\t\t\t\t\t\t\t// The menu popover is rendered in a portal, which causes focus to be\n\t\t\t\t\t\t\t\t\t// lost and the note to be collapsed unintentionally. To prevent this,\n\t\t\t\t\t\t\t\t\t// the popover should be rendered as an inline.\n\t\t\t\t\t\t\t\t\tmodal={ false }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ moreActions.map( ( action ) => (\n\t\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\t\tkey={ action.id }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => action.onClick() }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{ action.title }\n\t\t\t\t\t\t\t\t\t\t\t</Menu.ItemLabel>\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t\t</Menu.Popover>\n\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t) }\n\t\t\t</HStack>\n\t\t\t{ 'edit' === actionState ? (\n\t\t\t\t<CommentForm\n\t\t\t\t\tonSubmit={ ( value ) => {\n\t\t\t\t\t\tonEdit( {\n\t\t\t\t\t\t\tid: thread.id,\n\t\t\t\t\t\t\tcontent: value,\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tsetActionState( false );\n\t\t\t\t\t\tactionButtonRef.current?.focus();\n\t\t\t\t\t} }\n\t\t\t\t\tonCancel={ () => handleCancel() }\n\t\t\t\t\tthread={ thread }\n\t\t\t\t\tsubmitButtonText={ _x( 'Update', 'verb' ) }\n\t\t\t\t\tlabelText={ sprintf(\n\t\t\t\t\t\t// translators: %1$s: note identifier, %2$s: author name.\n\t\t\t\t\t\t__( 'Edit note %1$s by %2$s' ),\n\t\t\t\t\t\tthread.id,\n\t\t\t\t\t\tthread.author_name\n\t\t\t\t\t) }\n\t\t\t\t\treflowComments={ reflowComments }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<RawHTML\n\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t'editor-collab-sidebar-panel__user-comment',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'editor-collab-sidebar-panel__resolution-text':\n\t\t\t\t\t\t\t\tisResolutionComment,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ isResolutionComment\n\t\t\t\t\t\t? ( () => {\n\t\t\t\t\t\t\t\tconst actionText =\n\t\t\t\t\t\t\t\t\tthread.meta._wp_note_status === 'resolved'\n\t\t\t\t\t\t\t\t\t\t? __( 'Marked as resolved' )\n\t\t\t\t\t\t\t\t\t\t: __( 'Reopened' );\n\t\t\t\t\t\t\t\tconst content = thread?.content?.raw;\n\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tcontent &&\n\t\t\t\t\t\t\t\t\ttypeof content === 'string' &&\n\t\t\t\t\t\t\t\t\tcontent.trim() !== ''\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn sprintf(\n\t\t\t\t\t\t\t\t\t\t// translators: %1$s: action label (\"Marked as resolved\" or \"Reopened\"); %2$s: note text.\n\t\t\t\t\t\t\t\t\t\t__( '%1$s: %2$s' ),\n\t\t\t\t\t\t\t\t\t\tactionText,\n\t\t\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// If no content, just show the action.\n\t\t\t\t\t\t\t\treturn actionText;\n\t\t\t\t\t\t  } )()\n\t\t\t\t\t\t: thread?.content?.rendered }\n\t\t\t\t</RawHTML>\n\t\t\t) }\n\t\t\t{ 'delete' === actionState && (\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\t\tonConfirm={ handleConfirmDelete }\n\t\t\t\t\tonCancel={ handleCancel }\n\t\t\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\t\t>\n\t\t\t\t\t{ deleteConfirmMessage }\n\t\t\t\t</ConfirmDialog>\n\t\t\t) }\n\t\t</VStack>\n\t);\n};\n\nexport default Comments;\n", "/**\n * WordPress dependencies\n */\nimport { Tooltip, __experimentalVStack as VStack } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tdateI18n,\n\tgetSettings as getDateSettings,\n\thumanTimeDiff,\n\tgetDate,\n} from '@wordpress/date';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { getAvatarBorderColor } from './utils';\n\nfunction CommentAuthorInfo( { avatar, name, date, userId } ) {\n\tconst hasAvatar = !! avatar;\n\tconst dateSettings = getDateSettings();\n\tconst {\n\t\tcurrentUserAvatar,\n\t\tcurrentUserName,\n\t\tcurrentUserId,\n\t\tdateFormat = dateSettings.formats.date,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser, getCurrentUser, getEntityRecord } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\n\t\t\tif ( hasAvatar ) {\n\t\t\t\treturn {\n\t\t\t\t\tdateFormat: siteSettings?.date_format,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst { getSettings } = select( blockEditorStore );\n\t\t\tconst { __experimentalDiscussionSettings } = getSettings();\n\t\t\tconst defaultAvatar = __experimentalDiscussionSettings?.avatarURL;\n\t\t\tconst userData = getCurrentUser();\n\t\t\treturn {\n\t\t\t\tcurrentUserAvatar:\n\t\t\t\t\tuserData?.avatar_urls?.[ 48 ] ?? defaultAvatar,\n\t\t\t\tcurrentUserName: userData?.name,\n\t\t\t\tcurrentUserId: userData?.id,\n\t\t\t\tdateFormat: siteSettings?.date_format,\n\t\t\t};\n\t\t},\n\t\t[ hasAvatar ]\n\t);\n\n\tconst commentDate = getDate( date );\n\tconst commentDateTime = dateI18n( 'c', commentDate );\n\tconst shouldShowHumanTimeDiff =\n\t\tMath.floor( ( new Date() - commentDate ) / ( 1000 * 60 * 60 * 24 ) ) <\n\t\t30;\n\n\tconst commentDateText = shouldShowHumanTimeDiff\n\t\t? humanTimeDiff( commentDate )\n\t\t: dateI18n( dateFormat, commentDate );\n\n\tconst tooltipText = dateI18n(\n\t\t// translators: Use a non-breaking space between 'g:i' and 'a' if appropriate.\n\t\t_x( 'F j, Y g:i\\xa0a', 'Note date full date format' ),\n\t\tdate\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<img\n\t\t\t\tsrc={ avatar || currentUserAvatar }\n\t\t\t\tclassName=\"editor-collab-sidebar-panel__user-avatar\"\n\t\t\t\t// translators: alt text for user avatar image\n\t\t\t\talt={ __( 'User avatar' ) }\n\t\t\t\twidth={ 32 }\n\t\t\t\theight={ 32 }\n\t\t\t\tstyle={ {\n\t\t\t\t\tborderColor: getAvatarBorderColor(\n\t\t\t\t\t\tuserId ?? currentUserId\n\t\t\t\t\t),\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<VStack spacing=\"0\">\n\t\t\t\t<span className=\"editor-collab-sidebar-panel__user-name\">\n\t\t\t\t\t{ name ?? currentUserName }\n\t\t\t\t</span>\n\t\t\t\t{ date && (\n\t\t\t\t\t<Tooltip text={ tooltipText }>\n\t\t\t\t\t\t<time\n\t\t\t\t\t\t\tdateTime={ commentDateTime }\n\t\t\t\t\t\t\tclassName=\"editor-collab-sidebar-panel__user-time\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ commentDateText }\n\t\t\t\t\t\t</time>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) }\n\t\t\t</VStack>\n\t\t</>\n\t);\n}\n\nexport default CommentAuthorInfo;\n", "/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\n\n/**\n * Sanitizes a comment string by removing non-printable ASCII characters.\n *\n * @param {string} str - The comment string to sanitize.\n * @return {string} - The sanitized comment string.\n */\nexport function sanitizeCommentString( str ) {\n\treturn str.trim();\n}\n\n/**\n * A no-operation function that does nothing.\n */\nexport function noop() {}\n\n/**\n * These colors are picked from the WordPress.org design library.\n * @see https://www.figma.com/design/HOJTpCFfa3tR0EccUlu0CM/WordPress.org-Design-Library?node-id=1-2193&t=M6WdRvTpt0mh8n6T-1\n */\nconst AVATAR_BORDER_COLORS = [\n\t'#3858E9', // Blueberry\n\t'#9fB1FF', // Blueberry 2\n\t'#1D35B4', // Dark Blueberry\n\t'#1A1919', // Charcoal 0\n\t'#E26F56', // Pomegranate\n\t'#33F078', // Acid Green\n\t'#FFF972', // Lemon\n\t'#7A00DF', // Purple\n];\n\n/**\n * Gets the border color for an avatar based on the user ID.\n *\n * @param {number} userId - The user ID.\n * @return {string} - The border color.\n */\nexport function getAvatarBorderColor( userId ) {\n\treturn AVATAR_BORDER_COLORS[ userId % AVATAR_BORDER_COLORS.length ];\n}\n\n/**\n * Generates a comment excerpt from text based on word count type and length.\n *\n * @param {string} text          - The comment text to generate excerpt from.\n * @param {number} excerptLength - The maximum length for the commentexcerpt.\n * @return {string} - The generated comment excerpt.\n */\nexport function getCommentExcerpt( text, excerptLength = 10 ) {\n\tif ( ! text ) {\n\t\treturn '';\n\t}\n\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\n\tconst rawText = text.trim();\n\tlet trimmedExcerpt = '';\n\n\tif ( wordCountType === 'words' ) {\n\t\ttrimmedExcerpt = rawText.split( ' ', excerptLength ).join( ' ' );\n\t} else if ( wordCountType === 'characters_excluding_spaces' ) {\n\t\t/*\n\t\t * 1. Split the text at the character limit,\n\t\t * then join the substrings back into one string.\n\t\t * 2. Count the number of spaces in the text\n\t\t * by comparing the lengths of the string with and without spaces.\n\t\t * 3. Add the number to the length of the visible excerpt,\n\t\t * so that the spaces are excluded from the word count.\n\t\t */\n\t\tconst textWithSpaces = rawText.split( '', excerptLength ).join( '' );\n\n\t\tconst numberOfSpaces =\n\t\t\ttextWithSpaces.length - textWithSpaces.replaceAll( ' ', '' ).length;\n\n\t\ttrimmedExcerpt = rawText\n\t\t\t.split( '', excerptLength + numberOfSpaces )\n\t\t\t.join( '' );\n\t} else if ( wordCountType === 'characters_including_spaces' ) {\n\t\ttrimmedExcerpt = rawText.split( '', excerptLength ).join( '' );\n\t}\n\n\tconst isTrimmed = trimmedExcerpt !== rawText;\n\treturn isTrimmed ? trimmedExcerpt + '\u2026' : trimmedExcerpt;\n}\n\n/**\n * Shift focus to the comment thread associated with a particular comment ID.\n * If an additional selector is provided, the focus will be shifted to the element matching the selector.\n *\n * @typedef {import('@wordpress/element').RefObject} RefObject\n *\n * @param {string}       commentId          The ID of the comment thread to focus.\n * @param {?HTMLElement} container          The container element to search within.\n * @param {string}       additionalSelector The additional selector to focus on.\n */\nexport function focusCommentThread( commentId, container, additionalSelector ) {\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\t// A thread without a commentId is a new comment thread.\n\tconst threadSelector = commentId\n\t\t? `[role=treeitem][id=\"comment-thread-${ commentId }\"]`\n\t\t: '[role=treeitem]:not([id])';\n\tconst selector = additionalSelector\n\t\t? `${ threadSelector } ${ additionalSelector }`\n\t\t: threadSelector;\n\n\treturn new Promise( ( resolve ) => {\n\t\tif ( container.querySelector( selector ) ) {\n\t\t\treturn resolve( container.querySelector( selector ) );\n\t\t}\n\n\t\tlet timer = null;\n\t\t// Wait for the element to be added to the DOM.\n\t\tconst observer = new window.MutationObserver( () => {\n\t\t\tif ( container.querySelector( selector ) ) {\n\t\t\t\tclearTimeout( timer );\n\t\t\t\tobserver.disconnect();\n\t\t\t\tresolve( container.querySelector( selector ) );\n\t\t\t}\n\t\t} );\n\n\t\tobserver.observe( container, {\n\t\t\tchildList: true,\n\t\t\tsubtree: true,\n\t\t} );\n\n\t\t// Stop trying after 3 seconds.\n\t\ttimer = setTimeout( () => {\n\t\t\tobserver.disconnect();\n\t\t\tresolve( null );\n\t\t}, 3000 );\n\t} ).then( ( element ) => element?.focus() );\n}\n", "/**\n * External dependencies\n */\nimport TextareaAutosize from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\t__experimentalTruncate as Truncate,\n\tButton,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useInstanceId, useDebounce } from '@wordpress/compose';\nimport { isKeyboardEvent } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { sanitizeCommentString, noop } from './utils';\n\nfunction CommentForm( {\n\tonSubmit,\n\tonCancel,\n\tthread,\n\tsubmitButtonText,\n\tlabelText,\n\treflowComments = noop,\n} ) {\n\tconst [ inputComment, setInputComment ] = useState(\n\t\tthread?.content?.raw ?? ''\n\t);\n\n\t// Regularly trigger a reflow as the user types since the textarea may grow or shrink.\n\tconst debouncedCommentUpdated = useDebounce( reflowComments, 100 );\n\n\tconst updateComment = ( value ) => {\n\t\tsetInputComment( value );\n\t};\n\n\tconst inputId = useInstanceId( CommentForm, 'comment-input' );\n\tconst isDisabled =\n\t\tinputComment === thread?.content?.raw ||\n\t\t! sanitizeCommentString( inputComment ).length;\n\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"editor-collab-sidebar-panel__comment-form\"\n\t\t\tspacing=\"4\"\n\t\t\tas=\"form\"\n\t\t\tonSubmit={ ( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tonSubmit( inputComment );\n\t\t\t\tsetInputComment( '' );\n\t\t\t} }\n\t\t>\n\t\t\t<VisuallyHidden as=\"label\" htmlFor={ inputId }>\n\t\t\t\t{ labelText ?? __( 'Note' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t<TextareaAutosize\n\t\t\t\tid={ inputId }\n\t\t\t\tvalue={ inputComment ?? '' }\n\t\t\t\tonChange={ ( comment ) => {\n\t\t\t\t\tupdateComment( comment.target.value );\n\t\t\t\t\tdebouncedCommentUpdated();\n\t\t\t\t} }\n\t\t\t\trows={ 1 }\n\t\t\t\tmaxRows={ 20 }\n\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tisKeyboardEvent.primary( event, 'Enter' ) &&\n\t\t\t\t\t\t! isDisabled\n\t\t\t\t\t) {\n\t\t\t\t\t\tevent.target.parentNode.requestSubmit();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<HStack spacing=\"2\" justify=\"flex-end\" wrap>\n\t\t\t\t<Button size=\"compact\" variant=\"tertiary\" onClick={ onCancel }>\n\t\t\t\t\t<Truncate>{ __( 'Cancel' ) }</Truncate>\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tdisabled={ isDisabled }\n\t\t\t\t>\n\t\t\t\t\t<Truncate>{ submitButtonText }</Truncate>\n\t\t\t\t</Button>\n\t\t\t</HStack>\n\t\t</VStack>\n\t);\n}\n\nexport default CommentForm;\n", "import { arrow as arrow$1, computePosition } from '@floating-ui/dom';\nexport { autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$1({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$1({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // biome-ignore lint/suspicious/noSelfCompare: in source\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        isPositioned: true\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: `hasWhileElementsMounted` is intentionally included.\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\nexport { arrow, useFloating };\n", "/**\n * External dependencies\n */\nimport {\n\tuseFloating,\n\toffset as offsetMiddleware,\n\tautoUpdate,\n} from '@floating-ui/react-dom';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n\tuseReducer,\n} from '@wordpress/element';\nimport { useEntityRecords, store as coreStore } from '@wordpress/core-data';\nimport { useDispatch, useRegistry, useSelect } from '@wordpress/data';\nimport {\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { collabSidebarName } from './constants';\nimport { unlock } from '../../lock-unlock';\nimport { noop } from './utils';\n\nconst { useBlockElement, cleanEmptyObject } = unlock( blockEditorPrivateApis );\n\nexport function useBlockComments( postId ) {\n\tconst [ commentLastUpdated, reflowComments ] = useReducer(\n\t\t() => Date.now(),\n\t\t0\n\t);\n\n\tconst queryArgs = {\n\t\tpost: postId,\n\t\ttype: 'note',\n\t\tstatus: 'all',\n\t\tper_page: -1,\n\t};\n\n\tconst { records: threads } = useEntityRecords(\n\t\t'root',\n\t\t'comment',\n\t\tqueryArgs,\n\t\t{ enabled: !! postId && typeof postId === 'number' }\n\t);\n\n\tconst { getBlockAttributes } = useSelect( blockEditorStore );\n\tconst { clientIds } = useSelect( ( select ) => {\n\t\tconst { getClientIdsWithDescendants } = select( blockEditorStore );\n\t\treturn {\n\t\t\tclientIds: getClientIdsWithDescendants(),\n\t\t};\n\t}, [] );\n\n\t// Process comments to build the tree structure.\n\tconst { resultComments, unresolvedSortedThreads } = useMemo( () => {\n\t\tif ( ! threads || threads.length === 0 ) {\n\t\t\treturn { resultComments: [], unresolvedSortedThreads: [] };\n\t\t}\n\n\t\tconst blocksWithComments = clientIds.reduce( ( results, clientId ) => {\n\t\t\tconst commentId = getBlockAttributes( clientId )?.metadata?.noteId;\n\t\t\tif ( commentId ) {\n\t\t\t\tresults[ clientId ] = commentId;\n\t\t\t}\n\t\t\treturn results;\n\t\t}, {} );\n\n\t\t// Create a compare to store the references to all objects by id.\n\t\tconst compare = {};\n\t\tconst result = [];\n\n\t\t// Create a reverse map for faster lookup.\n\t\tconst commentIdToBlockClientId = Object.keys(\n\t\t\tblocksWithComments\n\t\t).reduce( ( mapping, clientId ) => {\n\t\t\tmapping[ blocksWithComments[ clientId ] ] = clientId;\n\t\t\treturn mapping;\n\t\t}, {} );\n\n\t\t// Initialize each object with an empty `reply` array and map blockClientId.\n\t\tthreads.forEach( ( item ) => {\n\t\t\tconst itemBlock = commentIdToBlockClientId[ item.id ];\n\n\t\t\tcompare[ item.id ] = {\n\t\t\t\t...item,\n\t\t\t\treply: [],\n\t\t\t\tblockClientId: item.parent === 0 ? itemBlock : null,\n\t\t\t};\n\t\t} );\n\n\t\t// Iterate over the data to build the tree structure.\n\t\tthreads.forEach( ( item ) => {\n\t\t\tif ( item.parent === 0 ) {\n\t\t\t\t// If parent is 0, it's a root item, push it to the result array.\n\t\t\t\tresult.push( compare[ item.id ] );\n\t\t\t} else if ( compare[ item.parent ] ) {\n\t\t\t\t// Otherwise, find its parent and push it to the parent's `reply` array.\n\t\t\t\tcompare[ item.parent ].reply.push( compare[ item.id ] );\n\t\t\t}\n\t\t} );\n\n\t\tif ( 0 === result?.length ) {\n\t\t\treturn { resultComments: [], unresolvedSortedThreads: [] };\n\t\t}\n\n\t\tconst updatedResult = result.map( ( item ) => ( {\n\t\t\t...item,\n\t\t\treply: [ ...item.reply ].reverse(),\n\t\t} ) );\n\n\t\tconst threadIdMap = new Map(\n\t\t\tupdatedResult.map( ( thread ) => [ String( thread.id ), thread ] )\n\t\t);\n\n\t\t// Prepare sets to determine which threads are linked to existing blocks.\n\t\tconst mappedIds = new Set(\n\t\t\tObject.values( blocksWithComments ).map( ( id ) => String( id ) )\n\t\t);\n\n\t\t// Get comments by block order, first unresolved, then resolved.\n\t\tconst unresolvedSortedComments = Object.values( blocksWithComments )\n\t\t\t.map( ( commentId ) => threadIdMap.get( String( commentId ) ) )\n\t\t\t.filter(\n\t\t\t\t( thread ) => thread !== undefined && thread.status === 'hold'\n\t\t\t);\n\n\t\tconst resolvedSortedComments = Object.values( blocksWithComments )\n\t\t\t.map( ( commentId ) => threadIdMap.get( String( commentId ) ) )\n\t\t\t.filter(\n\t\t\t\t( thread ) =>\n\t\t\t\t\tthread !== undefined && thread.status === 'approved'\n\t\t\t);\n\n\t\t// Append orphaned notes (whose related block was deleted or missing).\n\t\tconst orphanedComments = updatedResult.filter(\n\t\t\t( thread ) => ! mappedIds.has( String( thread.id ) )\n\t\t);\n\n\t\tconst allSortedComments = [\n\t\t\t...unresolvedSortedComments,\n\t\t\t...resolvedSortedComments,\n\t\t\t...orphanedComments,\n\t\t];\n\n\t\treturn {\n\t\t\tresultComments: allSortedComments,\n\t\t\tunresolvedSortedThreads: unresolvedSortedComments,\n\t\t};\n\t}, [ clientIds, threads, getBlockAttributes ] );\n\n\treturn {\n\t\tresultComments,\n\t\tunresolvedSortedThreads,\n\t\treflowComments,\n\t\tcommentLastUpdated,\n\t};\n}\n\nexport function useBlockCommentsActions( reflowComments = noop ) {\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst { saveEntityRecord, deleteEntityRecord } = useDispatch( coreStore );\n\tconst { getCurrentPostId } = useSelect( editorStore );\n\tconst { getBlockAttributes, getSelectedBlockClientId } =\n\t\tuseSelect( blockEditorStore );\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\tconst onError = ( error ) => {\n\t\tconst errorMessage =\n\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t? decodeEntities( error.message )\n\t\t\t\t: __( 'An error occurred while performing an update.' );\n\t\tcreateNotice( 'error', errorMessage, {\n\t\t\ttype: 'snackbar',\n\t\t\tisDismissible: true,\n\t\t} );\n\t};\n\n\tconst onCreate = async ( { content, parent } ) => {\n\t\ttry {\n\t\t\tconst savedRecord = await saveEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'comment',\n\t\t\t\t{\n\t\t\t\t\tpost: getCurrentPostId(),\n\t\t\t\t\tcontent,\n\t\t\t\t\tstatus: 'hold',\n\t\t\t\t\ttype: 'note',\n\t\t\t\t\tparent: parent || 0,\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\t// If it's a main comment, update the block attributes with the comment id.\n\t\t\tif ( ! parent && savedRecord?.id ) {\n\t\t\t\tconst clientId = getSelectedBlockClientId();\n\t\t\t\tconst metadata = getBlockAttributes( clientId )?.metadata;\n\t\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t...metadata,\n\t\t\t\t\t\tnoteId: savedRecord.id,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tcreateNotice(\n\t\t\t\t'snackbar',\n\t\t\t\tparent ? __( 'Reply added.' ) : __( 'Note added.' ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tisDismissible: true,\n\t\t\t\t}\n\t\t\t);\n\t\t\tsetTimeout( reflowComments, 300 );\n\t\t\treturn savedRecord;\n\t\t} catch ( error ) {\n\t\t\treflowComments();\n\t\t\tonError( error );\n\t\t}\n\t};\n\n\tconst onEdit = async ( { id, content, status } ) => {\n\t\tconst messageType = status ? status : 'updated';\n\t\tconst messages = {\n\t\t\tapproved: __( 'Note marked as resolved.' ),\n\t\t\thold: __( 'Note reopened.' ),\n\t\t\tupdated: __( 'Note updated.' ),\n\t\t};\n\n\t\ttry {\n\t\t\t// For resolution or reopen actions, create a new note with metadata.\n\t\t\tif ( status === 'approved' || status === 'hold' ) {\n\t\t\t\t// First, update the thread status.\n\t\t\t\tawait saveEntityRecord(\n\t\t\t\t\t'root',\n\t\t\t\t\t'comment',\n\t\t\t\t\t{\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tstatus,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tthrowOnError: true,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// Then create a new comment with the metadata.\n\t\t\t\tconst newCommentData = {\n\t\t\t\t\tpost: getCurrentPostId(),\n\t\t\t\t\tcontent: content || '', // Empty content for resolve, content for reopen.\n\t\t\t\t\ttype: 'note',\n\t\t\t\t\tstatus,\n\t\t\t\t\tparent: id,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\t_wp_note_status:\n\t\t\t\t\t\t\tstatus === 'approved' ? 'resolved' : 'reopen',\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\t\tawait saveEntityRecord( 'root', 'comment', newCommentData, {\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tconst updateData = {\n\t\t\t\t\tid,\n\t\t\t\t\tcontent,\n\t\t\t\t\tstatus,\n\t\t\t\t};\n\n\t\t\t\tawait saveEntityRecord( 'root', 'comment', updateData, {\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tcreateNotice(\n\t\t\t\t'snackbar',\n\t\t\t\tmessages[ messageType ] ?? __( 'Note updated.' ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tisDismissible: true,\n\t\t\t\t}\n\t\t\t);\n\t\t\treflowComments();\n\t\t} catch ( error ) {\n\t\t\treflowComments();\n\t\t\tonError( error );\n\t\t}\n\t};\n\n\tconst onDelete = async ( comment ) => {\n\t\ttry {\n\t\t\tawait deleteEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'comment',\n\t\t\t\tcomment.id,\n\t\t\t\tundefined,\n\t\t\t\t{\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif ( ! comment.parent ) {\n\t\t\t\tconst clientId = getSelectedBlockClientId();\n\t\t\t\tconst metadata = getBlockAttributes( clientId )?.metadata;\n\t\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\t\tmetadata: cleanEmptyObject( {\n\t\t\t\t\t\t...metadata,\n\t\t\t\t\t\tnoteId: undefined,\n\t\t\t\t\t} ),\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tcreateNotice( 'snackbar', __( 'Note deleted.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t\tisDismissible: true,\n\t\t\t} );\n\t\t\treflowComments();\n\t\t} catch ( error ) {\n\t\t\treflowComments();\n\t\t\tonError( error );\n\t\t}\n\t};\n\n\treturn { onCreate, onEdit, onDelete };\n}\n\nexport function useEnableFloatingSidebar( enabled = false ) {\n\tconst registry = useRegistry();\n\tuseEffect( () => {\n\t\tif ( ! enabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { getActiveComplementaryArea } =\n\t\t\tregistry.select( interfaceStore );\n\t\tconst { disableComplementaryArea, enableComplementaryArea } =\n\t\t\tregistry.dispatch( interfaceStore );\n\n\t\tconst unsubscribe = registry.subscribe( () => {\n\t\t\t// Return `null` to indicate the user hid the complementary area.\n\t\t\tif ( getActiveComplementaryArea( 'core' ) === null ) {\n\t\t\t\tenableComplementaryArea( 'core', collabSidebarName );\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tunsubscribe();\n\t\t\tif ( getActiveComplementaryArea( 'core' ) === collabSidebarName ) {\n\t\t\t\tdisableComplementaryArea( 'core', collabSidebarName );\n\t\t\t}\n\t\t};\n\t}, [ enabled, registry ] );\n}\n\nexport function useFloatingThread( {\n\tthread,\n\tcalculatedOffset,\n\tsetHeights,\n\tselectedThread,\n\tsetBlockRef,\n\tcommentLastUpdated,\n} ) {\n\tconst blockElement = useBlockElement( thread.blockClientId );\n\tconst updateHeight = useCallback(\n\t\t( id, newHeight ) => {\n\t\t\tsetHeights( ( prev ) => {\n\t\t\t\tif ( prev[ id ] !== newHeight ) {\n\t\t\t\t\treturn { ...prev, [ id ]: newHeight };\n\t\t\t\t}\n\t\t\t\treturn prev;\n\t\t\t} );\n\t\t},\n\t\t[ setHeights ]\n\t);\n\n\t// Use floating-ui to track the block element's position with the calculated offset.\n\tconst { y, refs } = useFloating( {\n\t\tplacement: 'right-start',\n\t\tmiddleware: [\n\t\t\toffsetMiddleware( {\n\t\t\t\tcrossAxis: calculatedOffset || -16,\n\t\t\t} ),\n\t\t],\n\t\twhileElementsMounted: autoUpdate,\n\t} );\n\n\t// Store the block reference for each thread.\n\tuseEffect( () => {\n\t\tif ( blockElement ) {\n\t\t\trefs.setReference( blockElement );\n\t\t}\n\t}, [ blockElement, refs, commentLastUpdated ] );\n\n\t// Track thread heights.\n\tuseEffect( () => {\n\t\tif ( refs.floating?.current ) {\n\t\t\tsetBlockRef( thread.id, blockElement );\n\t\t}\n\t}, [ blockElement, thread.id, refs.floating, setBlockRef ] );\n\n\t// When the selected thread changes, update heights, triggering offset recalculation.\n\tuseEffect( () => {\n\t\tif ( refs.floating?.current ) {\n\t\t\tconst newHeight = refs.floating.current.scrollHeight;\n\t\t\tupdateHeight( thread.id, newHeight );\n\t\t}\n\t}, [\n\t\tthread.id,\n\t\tupdateHeight,\n\t\trefs.floating,\n\t\tselectedThread,\n\t\tcommentLastUpdated,\n\t] );\n\n\treturn {\n\t\ty,\n\t\trefs,\n\t};\n}\n", "/**\n * External dependencies\n */\nimport clsx from 'clsx';\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport {\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport CommentAuthorInfo from './comment-author-info';\nimport CommentForm from './comment-form';\nimport { focusCommentThread, noop } from './utils';\n\nconst { useBlockElement } = unlock( blockEditorPrivateApis );\n\nexport function AddComment( {\n\tonSubmit,\n\tnewNoteFormState,\n\tsetNewNoteFormState,\n\tcommentSidebarRef,\n\treflowComments = noop,\n\tisFloating = false,\n\ty,\n\trefs,\n} ) {\n\tconst { clientId } = useSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientId } = select( blockEditorStore );\n\t\treturn {\n\t\t\tclientId: getSelectedBlockClientId(),\n\t\t};\n\t}, [] );\n\tconst blockElement = useBlockElement( clientId );\n\tconst { toggleBlockSpotlight } = unlock( useDispatch( blockEditorStore ) );\n\n\tconst unselectThread = () => {\n\t\tsetNewNoteFormState( 'closed' );\n\t\tblockElement?.focus();\n\t\ttoggleBlockSpotlight( clientId, false );\n\t};\n\n\tif ( newNoteFormState !== 'open' || ! clientId ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<VStack\n\t\t\tclassName={ clsx(\n\t\t\t\t'editor-collab-sidebar-panel__thread is-selected',\n\t\t\t\t{\n\t\t\t\t\t'is-floating': isFloating,\n\t\t\t\t}\n\t\t\t) }\n\t\t\tspacing=\"3\"\n\t\t\ttabIndex={ 0 }\n\t\t\taria-label={ __( 'New note' ) }\n\t\t\trole=\"treeitem\"\n\t\t\tref={ isFloating ? refs.setFloating : undefined }\n\t\t\tstyle={\n\t\t\t\tisFloating\n\t\t\t\t\t? // Delay showing the floating note box until a Y position is known to prevent blink.\n\t\t\t\t\t  { top: y, opacity: ! y ? 0 : undefined }\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tonBlur={ ( event ) => {\n\t\t\t\tif ( event.currentTarget.contains( event.relatedTarget ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttoggleBlockSpotlight( clientId, false );\n\t\t\t\tsetNewNoteFormState( 'closed' );\n\t\t\t} }\n\t\t>\n\t\t\t<HStack alignment=\"left\" spacing=\"3\">\n\t\t\t\t<CommentAuthorInfo />\n\t\t\t</HStack>\n\t\t\t<CommentForm\n\t\t\t\tonSubmit={ async ( inputComment ) => {\n\t\t\t\t\tconst { id } = await onSubmit( { content: inputComment } );\n\t\t\t\t\tfocusCommentThread( id, commentSidebarRef.current );\n\t\t\t\t\tsetNewNoteFormState( 'creating' );\n\t\t\t\t} }\n\t\t\t\tonCancel={ unselectThread }\n\t\t\t\treflowComments={ reflowComments }\n\t\t\t\tsubmitButtonText={ __( 'Add note' ) }\n\t\t\t\tlabelText={ __( 'New note' ) }\n\t\t\t/>\n\t\t</VStack>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { comment as commentIcon } from '@wordpress/icons';\nimport {\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { getUnregisteredTypeHandlerName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { CommentIconSlotFill } = unlock( blockEditorPrivateApis );\n\nconst AddCommentMenuItem = ( { clientId, onClick, isDistractionFree } ) => {\n\tconst block = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( blockEditorStore ).getBlock( clientId );\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tif (\n\t\t! block?.isValid ||\n\t\tblock?.name === getUnregisteredTypeHandlerName()\n\t) {\n\t\treturn null;\n\t}\n\n\tconst isDisabled = isDistractionFree || block?.name === 'core/freeform';\n\n\tlet infoText;\n\n\tif ( isDistractionFree ) {\n\t\tinfoText = __( 'Notes are disabled in distraction free mode.' );\n\t} else if ( block?.name === 'core/freeform' ) {\n\t\tinfoText = __( 'Convert to blocks to add notes.' );\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\ticon={ commentIcon }\n\t\t\tonClick={ onClick }\n\t\t\taria-haspopup=\"dialog\"\n\t\t\tdisabled={ isDisabled }\n\t\t\tinfo={ infoText }\n\t\t>\n\t\t\t{ __( 'Add note' ) }\n\t\t</MenuItem>\n\t);\n};\n\nconst AddCommentMenuItemFill = ( { onClick, isDistractionFree } ) => {\n\treturn (\n\t\t<CommentIconSlotFill.Fill>\n\t\t\t{ ( { clientId, onClose } ) => (\n\t\t\t\t<AddCommentMenuItem\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tisDistractionFree={ isDistractionFree }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonClick();\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</CommentIconSlotFill.Fill>\n\t);\n};\n\nexport default AddCommentMenuItemFill;\n", "/**\n * WordPress dependencies\n */\nimport {\n\tToolbarButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { getAvatarBorderColor } from './utils';\n\nconst { CommentIconToolbarSlotFill } = unlock( blockEditorPrivateApis );\n\nconst CommentAvatarIndicator = ( { onClick, thread } ) => {\n\tconst threadParticipants = useMemo( () => {\n\t\tif ( ! thread ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst participantsMap = new Map();\n\t\tconst allComments = [ thread, ...thread.reply ];\n\n\t\t// Sort by date to show participants in chronological order.\n\t\tallComments.sort( ( a, b ) => new Date( a.date ) - new Date( b.date ) );\n\n\t\tallComments.forEach( ( comment ) => {\n\t\t\t// Track thread participants (original commenter + repliers).\n\t\t\tif ( comment.author_name && comment.author_avatar_urls ) {\n\t\t\t\tif ( ! participantsMap.has( comment.author ) ) {\n\t\t\t\t\tparticipantsMap.set( comment.author, {\n\t\t\t\t\t\tname: comment.author_name,\n\t\t\t\t\t\tavatar:\n\t\t\t\t\t\t\tcomment.author_avatar_urls?.[ '48' ] ||\n\t\t\t\t\t\t\tcomment.author_avatar_urls?.[ '96' ],\n\t\t\t\t\t\tid: comment.author,\n\t\t\t\t\t\tdate: comment.date,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\treturn Array.from( participantsMap.values() );\n\t}, [ thread ] );\n\n\tif ( ! threadParticipants.length ) {\n\t\treturn null;\n\t}\n\n\t// If there are more than 3 participants, show 2 avatars and a \"+n\" number.\n\tconst maxAvatars = 3;\n\tconst isOverflow = threadParticipants.length > maxAvatars;\n\tconst visibleParticipants = isOverflow\n\t\t? threadParticipants.slice( 0, maxAvatars - 1 )\n\t\t: threadParticipants;\n\tconst overflowCount = Math.max(\n\t\t0,\n\t\tthreadParticipants.length - visibleParticipants.length\n\t);\n\tconst threadHasMoreParticipants = threadParticipants.length > 100;\n\n\t// If we hit the comment limit, show \"100+\" instead of exact overflow count.\n\tconst overflowText =\n\t\tthreadHasMoreParticipants && overflowCount > 0\n\t\t\t? __( '100+' )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %s: Number of participants.\n\t\t\t\t\t__( '+%s' ),\n\t\t\t\t\toverflowCount\n\t\t\t  );\n\n\treturn (\n\t\t<CommentIconToolbarSlotFill.Fill>\n\t\t\t<ToolbarButton\n\t\t\t\tclassName=\"comment-avatar-indicator\"\n\t\t\t\tlabel={ __( 'View notes' ) }\n\t\t\t\tonClick={ onClick }\n\t\t\t\tshowTooltip\n\t\t\t>\n\t\t\t\t<HStack spacing=\"1\">\n\t\t\t\t\t{ visibleParticipants.map( ( participant ) => (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tkey={ participant.id }\n\t\t\t\t\t\t\tsrc={ participant.avatar }\n\t\t\t\t\t\t\talt={ participant.name }\n\t\t\t\t\t\t\tclassName=\"comment-avatar\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tborderColor: getAvatarBorderColor(\n\t\t\t\t\t\t\t\t\tparticipant.id\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t\t{ overflowCount > 0 && (\n\t\t\t\t\t\t<Text weight={ 500 }>{ overflowText }</Text>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t</ToolbarButton>\n\t\t</CommentIconToolbarSlotFill.Fill>\n\t);\n};\n\nexport default CommentAvatarIndicator;\n", "/**\n * WordPress dependencies\n */\nimport { FlexItem, Flex, Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { styles, seen, backup } from '@wordpress/icons';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { useViewportMatch, usePrevious } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport GlobalStylesUI from '../global-styles';\nimport { GlobalStylesActionMenu } from '../global-styles/menu';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport DefaultSidebar from './default-sidebar';\nimport WelcomeGuideStyles from './welcome-guide';\n\nexport default function GlobalStylesSidebar() {\n\tconst {\n\t\tshouldResetNavigation,\n\t\tstylesPath,\n\t\tshowStylebook,\n\t\tshowListViewByDefault,\n\t\thasRevisions,\n\t\tactiveComplementaryArea,\n\t} = useSelect( ( select ) => {\n\t\tconst { getActiveComplementaryArea } = select( interfaceStore );\n\t\tconst { getStylesPath, getShowStylebook } = unlock(\n\t\t\tselect( editorStore )\n\t\t);\n\t\tconst _isVisualEditorMode =\n\t\t\t'visual' === select( editorStore ).getEditorMode();\n\t\tconst _showListViewByDefault = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'showListViewByDefault'\n\t\t);\n\t\tconst { getEntityRecord, __experimentalGetCurrentGlobalStylesId } =\n\t\t\tselect( coreStore );\n\n\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\n\t\tconst globalStyles = globalStylesId\n\t\t\t? getEntityRecord( 'root', 'globalStyles', globalStylesId )\n\t\t\t: undefined;\n\n\t\treturn {\n\t\t\tstylesPath: getStylesPath(),\n\t\t\tshowStylebook: getShowStylebook(),\n\t\t\tshouldResetNavigation:\n\t\t\t\t'edit-site/global-styles' !==\n\t\t\t\t\tgetActiveComplementaryArea( 'core' ) ||\n\t\t\t\t! _isVisualEditorMode,\n\t\t\tshowListViewByDefault: _showListViewByDefault,\n\t\t\thasRevisions:\n\t\t\t\t!! globalStyles?._links?.[ 'version-history' ]?.[ 0 ]?.count,\n\t\t\tactiveComplementaryArea:\n\t\t\t\tselect( interfaceStore ).getActiveComplementaryArea( 'core' ),\n\t\t};\n\t}, [] );\n\tconst { setStylesPath, setShowStylebook, resetStylesNavigation } = unlock(\n\t\tuseDispatch( editorStore )\n\t);\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\n\t// Derive state from path and showStylebook\n\tconst isRevisionsOpened =\n\t\tstylesPath.startsWith( '/revisions' ) && ! showStylebook;\n\tconst isRevisionsStyleBookOpened =\n\t\tstylesPath.startsWith( '/revisions' ) && showStylebook;\n\n\tconst previousActiveArea = usePrevious( activeComplementaryArea );\n\n\t// Reset navigation when sidebar opens\n\tuseEffect( () => {\n\t\tif (\n\t\t\tactiveComplementaryArea === 'edit-site/global-styles' &&\n\t\t\tpreviousActiveArea !== 'edit-site/global-styles'\n\t\t) {\n\t\t\tresetStylesNavigation();\n\t\t}\n\t}, [ activeComplementaryArea, previousActiveArea, resetStylesNavigation ] );\n\n\tuseEffect( () => {\n\t\tif ( shouldResetNavigation ) {\n\t\t\tresetStylesNavigation();\n\t\t}\n\t}, [ shouldResetNavigation, resetStylesNavigation ] );\n\n\tconst { setIsListViewOpened } = useDispatch( editorStore );\n\n\tconst toggleRevisions = () => {\n\t\tsetIsListViewOpened( false );\n\t\tif ( isRevisionsOpened || isRevisionsStyleBookOpened ) {\n\t\t\t// Close revisions, go back to root\n\t\t\tsetStylesPath( '/' );\n\t\t} else {\n\t\t\t// Open revisions\n\t\t\tsetStylesPath( '/revisions' );\n\t\t}\n\t};\n\tconst toggleStyleBook = () => {\n\t\tsetIsListViewOpened( showStylebook && showListViewByDefault );\n\t\tsetShowStylebook( ! showStylebook );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<DefaultSidebar\n\t\t\t\tclassName=\"editor-global-styles-sidebar\"\n\t\t\t\tidentifier=\"edit-site/global-styles\"\n\t\t\t\ttitle={ __( 'Styles' ) }\n\t\t\t\ticon={ styles }\n\t\t\t\tcloseLabel={ __( 'Close Styles' ) }\n\t\t\t\tpanelClassName=\"editor-global-styles-sidebar__panel\"\n\t\t\t\theader={\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tclassName=\"editor-global-styles-sidebar__header\"\n\t\t\t\t\t\tgap={ 1 }\n\t\t\t\t\t>\n\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t<h2 className=\"editor-global-styles-sidebar__header-title\">\n\t\t\t\t\t\t\t\t{ __( 'Styles' ) }\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\tgap={ 1 }\n\t\t\t\t\t\t\tclassName=\"editor-global-styles-sidebar__header-actions\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ ! isMobileViewport && (\n\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ticon={ seen }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Style Book' ) }\n\t\t\t\t\t\t\t\t\t\tisPressed={ showStylebook }\n\t\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\t\tdisabled={ shouldResetNavigation }\n\t\t\t\t\t\t\t\t\t\tonClick={ toggleStyleBook }\n\t\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Revisions' ) }\n\t\t\t\t\t\t\t\t\ticon={ backup }\n\t\t\t\t\t\t\t\t\tonClick={ toggleRevisions }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\tdisabled={ ! hasRevisions }\n\t\t\t\t\t\t\t\t\tisPressed={\n\t\t\t\t\t\t\t\t\t\tisRevisionsOpened ||\n\t\t\t\t\t\t\t\t\t\tisRevisionsStyleBookOpened\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t<GlobalStylesActionMenu\n\t\t\t\t\t\t\t\tonChangePath={ setStylesPath }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</Flex>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<GlobalStylesUI\n\t\t\t\t\tpath={ stylesPath }\n\t\t\t\t\tonPathChange={ setStylesPath }\n\t\t\t\t/>\n\t\t\t</DefaultSidebar>\n\t\t\t<WelcomeGuideStyles />\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { moreVertical } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { useGlobalStyles } from './hooks';\n\n/**\n * Action menu with Reset, Welcome Guide, and Additional CSS.\n *\n * @param {Object}   props                  Component props.\n * @param {boolean}  props.hideWelcomeGuide Whether to hide the Welcome Guide option.\n * @param {Function} props.onChangePath     Callback for navigation to different paths (e.g., '/css').\n * @return {JSX.Element} The Global Styles Action Menu component.\n */\nexport function GlobalStylesActionMenu( {\n\thideWelcomeGuide = false,\n\tonChangePath,\n} ) {\n\tconst { user, setUser } = useGlobalStyles();\n\n\t// Check if there are user customizations that can be reset\n\tconst canReset =\n\t\t!! user &&\n\t\t( Object.keys( user?.styles ?? {} ).length > 0 ||\n\t\t\tObject.keys( user?.settings ?? {} ).length > 0 );\n\n\t// Reset function to clear all user customizations\n\tconst onReset = () => {\n\t\tsetUser( { styles: {}, settings: {} } );\n\t};\n\tconst { toggle } = useDispatch( preferencesStore );\n\tconst { canEditCSS } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord, __experimentalGetCurrentGlobalStylesId } =\n\t\t\tselect( coreStore );\n\n\t\tconst globalStylesId = __experimentalGetCurrentGlobalStylesId();\n\t\tconst globalStyles = globalStylesId\n\t\t\t? getEntityRecord( 'root', 'globalStyles', globalStylesId )\n\t\t\t: undefined;\n\n\t\treturn {\n\t\t\tcanEditCSS: !! globalStyles?._links?.[ 'wp:action-edit-css' ],\n\t\t};\n\t}, [] );\n\tconst loadCustomCSS = () => {\n\t\tonChangePath( '/css' );\n\t};\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ __( 'More' ) }\n\t\t\ttoggleProps={ { size: 'compact' } }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t{ canEditCSS && (\n\t\t\t\t\t\t\t<MenuItem onClick={ loadCustomCSS }>\n\t\t\t\t\t\t\t\t{ __( 'Additional CSS' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! hideWelcomeGuide && (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\ttoggle(\n\t\t\t\t\t\t\t\t\t\t'core/edit-site',\n\t\t\t\t\t\t\t\t\t\t'welcomeGuideStyles'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Welcome Guide' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tonReset();\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tdisabled={ ! canReset }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Reset styles' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport {\n\tComplementaryArea,\n\tComplementaryAreaMoreMenuItem,\n} from '@wordpress/interface';\n\nexport default function DefaultSidebar( {\n\tclassName,\n\tidentifier,\n\ttitle,\n\ticon,\n\tchildren,\n\tcloseLabel,\n\theader,\n\theaderClassName,\n\tpanelClassName,\n\tisActiveByDefault,\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<ComplementaryArea\n\t\t\t\tclassName={ className }\n\t\t\t\tscope=\"core\"\n\t\t\t\tidentifier={ identifier }\n\t\t\t\ttitle={ title }\n\t\t\t\ticon={ icon }\n\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\theader={ header }\n\t\t\t\theaderClassName={ headerClassName }\n\t\t\t\tpanelClassName={ panelClassName }\n\t\t\t\tisActiveByDefault={ isActiveByDefault }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</ComplementaryArea>\n\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\tscope=\"core\"\n\t\t\t\tidentifier={ identifier }\n\t\t\t\ticon={ icon }\n\t\t\t>\n\t\t\t\t{ title }\n\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t</>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { ExternalLink, Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport WelcomeGuideImage from './welcome-guide-image';\n\nexport default function WelcomeGuideStyles() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst { isActive, isStylesOpen } = useSelect( ( select ) => {\n\t\tconst sidebar =\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea( 'core' );\n\n\t\treturn {\n\t\t\tisActive: !! select( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'welcomeGuideStyles'\n\t\t\t),\n\t\t\tisStylesOpen: sidebar === 'edit-site/global-styles',\n\t\t};\n\t}, [] );\n\n\tif ( ! isActive || ! isStylesOpen ) {\n\t\treturn null;\n\t}\n\n\tconst welcomeLabel = __( 'Welcome to Styles' );\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"editor-welcome-guide guide-styles\"\n\t\t\tcontentLabel={ welcomeLabel }\n\t\t\tfinishButtonText={ __( 'Get started' ) }\n\t\t\tonFinish={ () => toggle( 'core/edit-site', 'welcomeGuideStyles' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-to-styles.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-to-styles.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"editor-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ welcomeLabel }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"editor-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Tweak your site, or give it a whole new look! Get creative \u2014 how about a new color palette for your buttons, or choosing a new font? Take a look at what you can do here.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/set-the-design.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/set-the-design.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"editor-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Set the design' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"editor-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'You can customize your site as much as you like with different colors, typography, and layouts. Or if you prefer, just leave it up to your theme to handle!'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/personalize-blocks.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/personalize-blocks.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"editor-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Personalize blocks' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"editor-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'You can adjust your blocks to ensure a cohesive experience across your site \u2014 add your unique colors to a branded Button block, or adjust the Heading block to your preferred size.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.svg\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.gif\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"editor-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Learn more' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"editor-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'New to block themes and styling your site?'\n\t\t\t\t\t\t\t\t) }{ ' ' }\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/styles-overview/'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'Here\u2019s a detailed guide to learn how to make the most of it.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n", "export default function WelcomeGuideImage( { nonAnimatedSrc, animatedSrc } ) {\n\treturn (\n\t\t<picture className=\"editor-welcome-guide__image\">\n\t\t\t<source\n\t\t\t\tsrcSet={ nonAnimatedSrc }\n\t\t\t\tmedia=\"(prefers-reduced-motion: reduce)\"\n\t\t\t/>\n\t\t\t<img src={ animatedSrc } width=\"312\" height=\"240\" alt=\"\" />\n\t\t</picture>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\n\nimport { __ } from '@wordpress/i18n';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport {\n\tstore as preferencesStore,\n\tprivateApis as preferencesPrivateApis,\n} from '@wordpress/preferences';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport EnablePanelOption from './enable-panel';\nimport EnablePluginDocumentSettingPanelOption from './enable-plugin-document-setting-panel';\nimport EnablePublishSidebarOption from './enable-publish-sidebar';\nimport BlockVisibility from '../block-visibility';\nimport PostTaxonomies from '../post-taxonomies';\nimport PostFeaturedImageCheck from '../post-featured-image/check';\nimport PostExcerptCheck from '../post-excerpt/check';\nimport PageAttributesCheck from '../page-attributes/check';\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst {\n\tPreferencesModal,\n\tPreferencesModalTabs,\n\tPreferencesModalSection,\n\tPreferenceToggleControl,\n} = unlock( preferencesPrivateApis );\n\nexport default function EditorPreferencesModal( { extraSections = {} } ) {\n\tconst isActive = useSelect( ( select ) => {\n\t\treturn select( interfaceStore ).isModalActive( 'editor/preferences' );\n\t}, [] );\n\tconst { closeModal } = useDispatch( interfaceStore );\n\n\tif ( ! isActive ) {\n\t\treturn null;\n\t}\n\n\t// Please wrap all contents inside PreferencesModalContents to prevent all\n\t// hooks from executing when the modal is not open.\n\treturn (\n\t\t<PreferencesModal closeModal={ closeModal }>\n\t\t\t<PreferencesModalContents extraSections={ extraSections } />\n\t\t</PreferencesModal>\n\t);\n}\n\nfunction PreferencesModalContents( { extraSections = {} } ) {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst showBlockBreadcrumbsOption = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditorSettings } = select( editorStore );\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\tconst isRichEditingEnabled = getEditorSettings().richEditingEnabled;\n\t\t\tconst isDistractionFreeEnabled = get( 'core', 'distractionFree' );\n\t\t\treturn (\n\t\t\t\t! isDistractionFreeEnabled &&\n\t\t\t\tisLargeViewport &&\n\t\t\t\tisRichEditingEnabled\n\t\t\t);\n\t\t},\n\t\t[ isLargeViewport ]\n\t);\n\tconst { setIsListViewOpened, setIsInserterOpened } =\n\t\tuseDispatch( editorStore );\n\tconst { set: setPreference } = useDispatch( preferencesStore );\n\n\tconst sections = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tname: 'general',\n\t\t\t\t\ttabLabel: __( 'General' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Interface' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"showListViewByDefault\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Opens the List View panel by default.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Always open List View' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ showBlockBreadcrumbsOption && (\n\t\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\t\tfeatureName=\"showBlockBreadcrumbs\"\n\t\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Display the block hierarchy trail at the bottom of the editor.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Show block breadcrumbs' ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"allowRightClickOverrides\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Allows contextual List View menus via right-click, overriding browser defaults.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Allow right-click contextual menus'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"enableChoosePatternModal\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Pick from starter content when creating a new page.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Show starter patterns' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Document settings' ) }\n\t\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t\t'Select what settings are shown in the document panel.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<EnablePluginDocumentSettingPanelOption.Slot />\n\t\t\t\t\t\t\t\t<PostTaxonomies\n\t\t\t\t\t\t\t\t\ttaxonomyWrapper={ ( content, taxonomy ) => (\n\t\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\t\tlabel={ taxonomy.labels.menu_name }\n\t\t\t\t\t\t\t\t\t\t\tpanelName={ `taxonomy-panel-${ taxonomy.slug }` }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PostFeaturedImageCheck>\n\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Featured image' ) }\n\t\t\t\t\t\t\t\t\t\tpanelName=\"featured-image\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PostFeaturedImageCheck>\n\t\t\t\t\t\t\t\t<PostExcerptCheck>\n\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Excerpt' ) }\n\t\t\t\t\t\t\t\t\t\tpanelName=\"post-excerpt\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PostExcerptCheck>\n\t\t\t\t\t\t\t\t<PostTypeSupportCheck\n\t\t\t\t\t\t\t\t\tsupportKeys={ [ 'comments', 'trackbacks' ] }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Discussion' ) }\n\t\t\t\t\t\t\t\t\t\tpanelName=\"discussion-panel\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PostTypeSupportCheck>\n\t\t\t\t\t\t\t\t<PageAttributesCheck>\n\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Page attributes' ) }\n\t\t\t\t\t\t\t\t\t\tpanelName=\"page-attributes\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PageAttributesCheck>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t{ isLargeViewport && (\n\t\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\t\ttitle={ __( 'Publishing' ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EnablePublishSidebarOption\n\t\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Review settings, such as visibility and tags.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Enable pre-publish checks'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ extraSections?.general }\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'appearance',\n\t\t\t\t\ttabLabel: __( 'Appearance' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\ttitle={ __( 'Appearance' ) }\n\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t'Customize the editor interface to suit your needs.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tfeatureName=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tonToggle={ () =>\n\t\t\t\t\t\t\t\t\tsetPreference(\n\t\t\t\t\t\t\t\t\t\t'core',\n\t\t\t\t\t\t\t\t\t\t'distractionFree',\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tfeatureName=\"distractionFree\"\n\t\t\t\t\t\t\t\tonToggle={ () => {\n\t\t\t\t\t\t\t\t\tsetPreference(\n\t\t\t\t\t\t\t\t\t\t'core',\n\t\t\t\t\t\t\t\t\t\t'fixedToolbar',\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tsetIsInserterOpened( false );\n\t\t\t\t\t\t\t\t\tsetIsListViewOpened( false );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Reduce visual distractions by hiding the toolbar and other elements to focus on writing.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Distraction free' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tfeatureName=\"focusMode\"\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Highlights the current block and fades other content.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Spotlight mode' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ extraSections?.appearance }\n\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'accessibility',\n\t\t\t\t\ttabLabel: __( 'Accessibility' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Navigation' ) }\n\t\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t\t'Optimize the editing experience for enhanced control.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"keepCaretInsideBlock\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Keeps the text cursor within blocks while navigating with arrow keys, preventing it from moving to other blocks and enhancing accessibility for keyboard users.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Contain text cursor inside block'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Interface' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"showIconLabels\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Show button text labels' ) }\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Show text instead of icons on buttons across the interface.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'blocks',\n\t\t\t\t\ttabLabel: __( 'Blocks' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PreferencesModalSection title={ __( 'Inserter' ) }>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"mostUsedBlocks\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Adds a category with the most frequently used blocks in the inserter.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Show most used blocks' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Manage block visibility' ) }\n\t\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t\t\"Disable blocks that you don't want to appear in the inserter. They can always be toggled back on later.\"\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BlockVisibility />\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\twindow.__experimentalMediaProcessing && {\n\t\t\t\t\tname: 'media',\n\t\t\t\t\ttabLabel: __( 'Media' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'General' ) }\n\t\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t\t'Customize options related to the media upload flow.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core/media\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"optimizeOnUpload\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Compress media items before uploading to the server.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Pre-upload compression' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core/media\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"requireApproval\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Require approval step when optimizing existing media.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Approval step' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t].filter( Boolean ),\n\t\t[\n\t\t\tshowBlockBreadcrumbsOption,\n\t\t\textraSections,\n\t\t\tsetIsInserterOpened,\n\t\t\tsetIsListViewOpened,\n\t\t\tsetPreference,\n\t\t\tisLargeViewport,\n\t\t]\n\t);\n\n\treturn <PreferencesModalTabs sections={ sections } />;\n}\n", "/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { privateApis as preferencesPrivateApis } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { PreferenceBaseOption } = unlock( preferencesPrivateApis );\n\nexport default function EnablePublishSidebarOption( props ) {\n\tconst isChecked = useSelect( ( select ) => {\n\t\treturn select( editorStore ).isPublishSidebarEnabled();\n\t}, [] );\n\tconst { enablePublishSidebar, disablePublishSidebar } =\n\t\tuseDispatch( editorStore );\n\n\treturn (\n\t\t<PreferenceBaseOption\n\t\t\tisChecked={ isChecked }\n\t\t\tonChange={ ( isEnabled ) =>\n\t\t\t\tisEnabled ? enablePublishSidebar() : disablePublishSidebar()\n\t\t\t}\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { hasBlockSupport, store as blocksStore } from '@wordpress/blocks';\nimport { useMemo } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst { BlockManager } = unlock( blockEditorPrivateApis );\nconst EMPTY_ARRAY = [];\n\nexport default function BlockVisibility() {\n\tconst { showBlockTypes, hideBlockTypes } = unlock(\n\t\tuseDispatch( editorStore )\n\t);\n\n\tconst {\n\t\tblockTypes,\n\t\tallowedBlockTypes: _allowedBlockTypes,\n\t\thiddenBlockTypes: _hiddenBlockTypes,\n\t} = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tblockTypes: select( blocksStore ).getBlockTypes(),\n\t\t\tallowedBlockTypes:\n\t\t\t\tselect( editorStore ).getEditorSettings().allowedBlockTypes,\n\t\t\thiddenBlockTypes:\n\t\t\t\tselect( preferencesStore ).get( 'core', 'hiddenBlockTypes' ) ??\n\t\t\t\tEMPTY_ARRAY,\n\t\t};\n\t}, [] );\n\n\tconst allowedBlockTypes = useMemo( () => {\n\t\tif ( _allowedBlockTypes === true ) {\n\t\t\treturn blockTypes;\n\t\t}\n\t\treturn blockTypes.filter( ( { name } ) => {\n\t\t\treturn _allowedBlockTypes?.includes( name );\n\t\t} );\n\t}, [ _allowedBlockTypes, blockTypes ] );\n\n\tconst filteredBlockTypes = allowedBlockTypes.filter(\n\t\t( blockType ) =>\n\t\t\thasBlockSupport( blockType, 'inserter', true ) &&\n\t\t\t( ! blockType.parent ||\n\t\t\t\tblockType.parent.includes( 'core/post-content' ) )\n\t);\n\n\t// Some hidden blocks become unregistered\n\t// by removing for instance the plugin that registered them, yet\n\t// they're still remain as hidden by the user's action.\n\t// We consider \"hidden\", blocks which were hidden and\n\t// are still registered.\n\tconst hiddenBlockTypes = _hiddenBlockTypes.filter( ( hiddenBlock ) => {\n\t\treturn filteredBlockTypes.some(\n\t\t\t( registeredBlock ) => registeredBlock.name === hiddenBlock\n\t\t);\n\t} );\n\n\tconst selectedBlockTypes = filteredBlockTypes.filter(\n\t\t( blockType ) => ! hiddenBlockTypes.includes( blockType.name )\n\t);\n\n\tconst numberOfHiddenBlocks =\n\t\tfilteredBlockTypes.length - selectedBlockTypes.length;\n\n\tfunction enableAllBlockTypes() {\n\t\tonChangeSelectedBlockTypes( filteredBlockTypes );\n\t}\n\n\tconst onChangeSelectedBlockTypes = ( newSelectedBlockTypes ) => {\n\t\tif ( selectedBlockTypes.length > newSelectedBlockTypes.length ) {\n\t\t\tconst blockTypesToHide = selectedBlockTypes.filter(\n\t\t\t\t( blockType ) =>\n\t\t\t\t\t! newSelectedBlockTypes.find(\n\t\t\t\t\t\t( { name } ) => name === blockType.name\n\t\t\t\t\t)\n\t\t\t);\n\t\t\thideBlockTypes( blockTypesToHide.map( ( { name } ) => name ) );\n\t\t} else if ( selectedBlockTypes.length < newSelectedBlockTypes.length ) {\n\t\t\tconst blockTypesToShow = newSelectedBlockTypes.filter(\n\t\t\t\t( blockType ) =>\n\t\t\t\t\t! selectedBlockTypes.find(\n\t\t\t\t\t\t( { name } ) => name === blockType.name\n\t\t\t\t\t)\n\t\t\t);\n\t\t\tshowBlockTypes( blockTypesToShow.map( ( { name } ) => name ) );\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"editor-block-visibility\">\n\t\t\t{ !! numberOfHiddenBlocks && (\n\t\t\t\t<div className=\"editor-block-visibility__disabled-blocks-count\">\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %d: number of blocks. */\n\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t'%d block is hidden.',\n\t\t\t\t\t\t\t'%d blocks are hidden.',\n\t\t\t\t\t\t\tnumberOfHiddenBlocks\n\t\t\t\t\t\t),\n\t\t\t\t\t\tnumberOfHiddenBlocks\n\t\t\t\t\t) }\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\tonClick={ enableAllBlockTypes }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<BlockManager\n\t\t\t\tblockTypes={ filteredBlockTypes }\n\t\t\t\tselectedBlockTypes={ selectedBlockTypes }\n\t\t\t\tonChange={ onChangeSelectedBlockTypes }\n\t\t\t\tshowSelectAll={ false }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n", "/**\n * WordPress dependencies\n */\nimport { registerBlockBindingsSource } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport patternOverrides from './pattern-overrides';\nimport postData from './post-data';\nimport postMeta from './post-meta';\nimport termData from './term-data';\n\n/**\n * Function to register core block bindings sources provided by the editor.\n *\n * @example\n * ```js\n * import { registerCoreBlockBindingsSources } from '@wordpress/editor';\n *\n * registerCoreBlockBindingsSources();\n * ```\n */\nexport function registerCoreBlockBindingsSources() {\n\tregisterBlockBindingsSource( patternOverrides );\n\tregisterBlockBindingsSource( postData );\n\tregisterBlockBindingsSource( postMeta );\n\tregisterBlockBindingsSource( termData );\n}\n", "/**\n * WordPress dependencies\n */\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nconst CONTENT = 'content';\n\n/**\n * @type {WPBlockBindingsSource}\n */\nexport default {\n\tname: 'core/pattern-overrides',\n\tgetValues( { select, clientId, context, bindings } ) {\n\t\tconst patternOverridesContent = context[ 'pattern/overrides' ];\n\t\tconst { getBlockAttributes } = select( blockEditorStore );\n\t\tconst currentBlockAttributes = getBlockAttributes( clientId );\n\n\t\tconst overridesValues = {};\n\t\tfor ( const attributeName of Object.keys( bindings ) ) {\n\t\t\tconst overridableValue =\n\t\t\t\tpatternOverridesContent?.[\n\t\t\t\t\tcurrentBlockAttributes?.metadata?.name\n\t\t\t\t]?.[ attributeName ];\n\n\t\t\t// If it has not been overridden, return the original value.\n\t\t\t// Check undefined because empty string is a valid value.\n\t\t\tif ( overridableValue === undefined ) {\n\t\t\t\toverridesValues[ attributeName ] =\n\t\t\t\t\tcurrentBlockAttributes[ attributeName ];\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\toverridesValues[ attributeName ] =\n\t\t\t\t\toverridableValue === '' ? undefined : overridableValue;\n\t\t\t}\n\t\t}\n\t\treturn overridesValues;\n\t},\n\tsetValues( { select, dispatch, clientId, bindings } ) {\n\t\tconst { getBlockAttributes, getBlockParentsByBlockName, getBlocks } =\n\t\t\tselect( blockEditorStore );\n\t\tconst currentBlockAttributes = getBlockAttributes( clientId );\n\t\tconst blockName = currentBlockAttributes?.metadata?.name;\n\t\tif ( ! blockName ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst [ patternClientId ] = getBlockParentsByBlockName(\n\t\t\tclientId,\n\t\t\t'core/block',\n\t\t\ttrue\n\t\t);\n\n\t\t// Extract the updated attributes from the source bindings.\n\t\tconst attributes = Object.entries( bindings ).reduce(\n\t\t\t( attrs, [ key, { newValue } ] ) => {\n\t\t\t\tattrs[ key ] = newValue;\n\t\t\t\treturn attrs;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\n\t\t// If there is no pattern client ID, sync blocks with the same name and same attributes.\n\t\tif ( ! patternClientId ) {\n\t\t\tconst syncBlocksWithSameName = ( blocks ) => {\n\t\t\t\tfor ( const block of blocks ) {\n\t\t\t\t\tif ( block.attributes?.metadata?.name === blockName ) {\n\t\t\t\t\t\tdispatch( blockEditorStore ).updateBlockAttributes(\n\t\t\t\t\t\t\tblock.clientId,\n\t\t\t\t\t\t\tattributes\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tsyncBlocksWithSameName( block.innerBlocks );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsyncBlocksWithSameName( getBlocks() );\n\t\t\treturn;\n\t\t}\n\t\tconst currentBindingValue =\n\t\t\tgetBlockAttributes( patternClientId )?.[ CONTENT ];\n\n\t\tdispatch( blockEditorStore ).updateBlockAttributes( patternClientId, {\n\t\t\t[ CONTENT ]: {\n\t\t\t\t...currentBindingValue,\n\t\t\t\t[ blockName ]: {\n\t\t\t\t\t...currentBindingValue?.[ blockName ],\n\t\t\t\t\t...Object.entries( attributes ).reduce(\n\t\t\t\t\t\t( acc, [ key, value ] ) => {\n\t\t\t\t\t\t\t// TODO: We need a way to represent `undefined` in the serialized overrides.\n\t\t\t\t\t\t\t// Also see: https://github.com/WordPress/gutenberg/pull/57249#discussion_r1452987871\n\t\t\t\t\t\t\t// We use an empty string to represent undefined for now until\n\t\t\t\t\t\t\t// we support a richer format for overrides and the block bindings API.\n\t\t\t\t\t\t\tacc[ key ] = value === undefined ? '' : value;\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\t},\n\tcanUserEditValue: () => true,\n};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n// Navigation block types that use special handling for backwards compatibility\nconst NAVIGATION_BLOCK_TYPES = [\n\t'core/navigation-link',\n\t'core/navigation-submenu',\n];\n\nconst postDataFields = [\n\t{\n\t\tlabel: __( 'Post Date' ),\n\t\targs: { field: 'date' },\n\t\ttype: 'string',\n\t},\n\t{\n\t\tlabel: __( 'Post Modified Date' ),\n\t\targs: { field: 'modified' },\n\t\ttype: 'string',\n\t},\n\t{\n\t\tlabel: __( 'Post Link' ),\n\t\targs: { field: 'link' },\n\t\ttype: 'string',\n\t},\n];\n\n/**\n * @type {WPBlockBindingsSource}\n */\nexport default {\n\tname: 'core/post-data',\n\tgetValues( { select, context, bindings, clientId } ) {\n\t\t/*\n\t\t * BACKWARDS COMPATIBILITY: Hardcoded exception for navigation blocks.\n\t\t * Required for WordPress 6.9+ navigation blocks. DO NOT REMOVE.\n\t\t */\n\t\tconst { getBlockAttributes, getBlockName } = select( blockEditorStore );\n\t\tconst blockName = getBlockName( clientId );\n\t\tconst isNavigationBlock = NAVIGATION_BLOCK_TYPES.includes( blockName );\n\n\t\tlet postId, postType;\n\n\t\tif ( isNavigationBlock ) {\n\t\t\t// Navigation blocks: read from block attributes\n\t\t\tconst blockAttributes = getBlockAttributes( clientId );\n\t\t\tpostId = blockAttributes?.id;\n\t\t\tpostType = blockAttributes?.type;\n\t\t} else {\n\t\t\t// All other blocks: use context\n\t\t\tpostId = context?.postId;\n\t\t\tpostType = context?.postType;\n\t\t}\n\n\t\tconst { getEditedEntityRecord } = select( coreDataStore );\n\t\tconst entityDataValues = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\n\t\tconst newValues = {};\n\t\tfor ( const [ attributeName, binding ] of Object.entries( bindings ) ) {\n\t\t\tconst postDataField = postDataFields.find(\n\t\t\t\t( field ) => field.args.field === binding.args.field\n\t\t\t);\n\n\t\t\tif ( ! postDataField ) {\n\t\t\t\t// If the field is unknown, return the field name.\n\t\t\t\tnewValues[ attributeName ] = binding.args.field;\n\t\t\t} else if ( ! entityDataValues ) {\n\t\t\t\t// If the entity data does not exist, return the field label.\n\t\t\t\tnewValues[ attributeName ] = postDataField.label;\n\t\t\t} else {\n\t\t\t\t// If the entity data exists, return the entity value.\n\t\t\t\tnewValues[ attributeName ] =\n\t\t\t\t\tentityDataValues[ binding.args.field ];\n\t\t\t}\n\t\t}\n\t\treturn newValues;\n\t},\n\tsetValues( { dispatch, context, bindings, clientId, select } ) {\n\t\tconst { getBlockName } = select( blockEditorStore );\n\n\t\tconst blockName = getBlockName( clientId );\n\n\t\t// Navigaton block types are read-only.\n\t\t// See https://github.com/WordPress/gutenberg/pull/72165.\n\t\tif ( NAVIGATION_BLOCK_TYPES.includes( blockName ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst newData = {};\n\t\tObject.values( bindings ).forEach( ( { args, newValue } ) => {\n\t\t\tnewData[ args.field ] = newValue;\n\t\t} );\n\n\t\tdispatch( coreDataStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\tcontext?.postType,\n\t\t\tcontext?.postId,\n\t\t\tnewData\n\t\t);\n\t},\n\tcanUserEditValue( { select, context } ) {\n\t\tconst { getBlockName, getSelectedBlockClientId } =\n\t\t\tselect( blockEditorStore );\n\t\tconst clientId = getSelectedBlockClientId();\n\t\tconst blockName = getBlockName( clientId );\n\n\t\t// Navigaton block types are read-only.\n\t\t// See https://github.com/WordPress/gutenberg/pull/72165.\n\t\tif ( NAVIGATION_BLOCK_TYPES.includes( blockName ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Lock editing in query loop.\n\t\tif ( context?.query || context?.queryId ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Lock editing when `postType` is not defined.\n\t\tif ( ! context?.postType ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check that the user has the capability to edit post data.\n\t\tconst canUserEdit = select( coreDataStore ).canUser( 'update', {\n\t\t\tkind: 'postType',\n\t\t\tname: context?.postType,\n\t\t\tid: context?.postId,\n\t\t} );\n\t\tif ( ! canUserEdit ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\tgetFieldsList( { context, select } ) {\n\t\tconst selectedBlock = select( blockEditorStore ).getSelectedBlock();\n\t\tif ( selectedBlock?.name !== 'core/post-date' ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif ( ! context || ! context.postId || ! context.postType ) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn postDataFields;\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { store as coreDataStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../store';\nimport { unlock } from '../lock-unlock';\n\n/**\n * Gets a list of post meta fields with their values and labels\n * to be consumed in the needed callbacks.\n * If the value is not available based on context, like in templates,\n * it falls back to the default value, label, or key.\n *\n * @param {Object} select  The select function from the data store.\n * @param {Object} context The context provided.\n * @return {Object} List of post meta fields with their value and label.\n *\n * @example\n * ```js\n * {\n *     field_1_key: {\n *         label: 'Field 1 Label',\n *         value: 'Field 1 Value',\n *     },\n *     field_2_key: {\n *         label: 'Field 2 Label',\n *         value: 'Field 2 Value',\n *     },\n *     ...\n * }\n * ```\n */\nfunction getPostMetaFields( select, context ) {\n\tconst { getRegisteredPostMeta } = unlock( select( coreDataStore ) );\n\n\tconst registeredFields = getRegisteredPostMeta( context?.postType );\n\tconst metaFields = [];\n\tObject.entries( registeredFields ).forEach( ( [ key, props ] ) => {\n\t\t// Don't include footnotes or private fields.\n\t\tif ( key === 'footnotes' || key.charAt( 0 ) === '_' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tmetaFields.push( {\n\t\t\tlabel: props.title || key,\n\t\t\targs: { key },\n\t\t\tdefault: props.default,\n\t\t\ttype: props.type,\n\t\t} );\n\t} );\n\n\treturn metaFields;\n}\n\nfunction getValue( { select, context, args } ) {\n\tconst metaFields = getPostMetaFields( select, context );\n\tconst metaField = metaFields.find(\n\t\t( field ) => field.args.key === args.key\n\t);\n\n\t// If the meta field was not found, it's either protected, inaccessible, or simply doesn't exist.\n\tif ( ! metaField ) {\n\t\treturn args.key;\n\t}\n\n\t// Without a postId, we cannot look up a meta value.\n\tif ( ! context?.postId ) {\n\t\t// Return the default value for the meta field if available.\n\t\treturn metaField.default || metaField.label || args.key;\n\t}\n\n\tconst { getEditedEntityRecord } = select( coreDataStore );\n\tconst entityMetaValues = getEditedEntityRecord(\n\t\t'postType',\n\t\tcontext?.postType,\n\t\tcontext?.postId\n\t).meta;\n\n\treturn entityMetaValues?.[ args.key ] ?? metaField?.label ?? args.key;\n}\n\n/**\n * @type {WPBlockBindingsSource}\n */\nexport default {\n\tname: 'core/post-meta',\n\tgetValues( { select, context, bindings } ) {\n\t\tconst newValues = {};\n\t\tfor ( const [ attributeName, binding ] of Object.entries( bindings ) ) {\n\t\t\tnewValues[ attributeName ] = getValue( {\n\t\t\t\tselect,\n\t\t\t\tcontext,\n\t\t\t\targs: binding.args,\n\t\t\t} );\n\t\t}\n\t\treturn newValues;\n\t},\n\tsetValues( { dispatch, context, bindings } ) {\n\t\tconst newMeta = {};\n\t\tObject.values( bindings ).forEach( ( { args, newValue } ) => {\n\t\t\tnewMeta[ args.key ] = newValue;\n\t\t} );\n\n\t\tdispatch( coreDataStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\tcontext?.postType,\n\t\t\tcontext?.postId,\n\t\t\t{\n\t\t\t\tmeta: newMeta,\n\t\t\t}\n\t\t);\n\t},\n\tcanUserEditValue( { select, context, args } ) {\n\t\t// Lock editing in query loop.\n\t\tif ( context?.query || context?.queryId ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Lock editing when `postType` is not defined.\n\t\tif ( ! context?.postType ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst metaFields = getPostMetaFields( select, context );\n\t\tconst hasMatchingMetaField = metaFields.some(\n\t\t\t( field ) => field.args.key === args.key\n\t\t);\n\t\tif ( ! hasMatchingMetaField ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check that custom fields metabox is not enabled.\n\t\tconst areCustomFieldsEnabled =\n\t\t\tselect( editorStore ).getEditorSettings().enableCustomFields;\n\t\tif ( areCustomFieldsEnabled ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check that the user has the capability to edit post meta.\n\t\tconst canUserEdit = select( coreDataStore ).canUser( 'update', {\n\t\t\tkind: 'postType',\n\t\t\tname: context?.postType,\n\t\t\tid: context?.postId,\n\t\t} );\n\t\tif ( ! canUserEdit ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\tgetFieldsList( { select, context } ) {\n\t\tconst metaFields = getPostMetaFields( select, context );\n\t\t// Remove 'default' property from meta fields.\n\t\treturn metaFields.map(\n\t\t\t( { default: defaultProp, ...otherProps } ) => ( {\n\t\t\t\t...otherProps,\n\t\t\t} )\n\t\t);\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n// Navigation block types that use special handling for backwards compatibility\nconst NAVIGATION_BLOCK_TYPES = [\n\t'core/navigation-link',\n\t'core/navigation-submenu',\n];\n\nexport const termDataFields = [\n\t{\n\t\tlabel: __( 'Term ID' ),\n\t\targs: { field: 'id' },\n\t\ttype: 'string',\n\t},\n\t{\n\t\tlabel: __( 'Name' ),\n\t\targs: { field: 'name' },\n\t\ttype: 'string',\n\t},\n\t{\n\t\tlabel: __( 'Slug' ),\n\t\targs: { field: 'slug' },\n\t\ttype: 'string',\n\t},\n\t{\n\t\tlabel: __( 'Link' ),\n\t\targs: { field: 'link' },\n\t\ttype: 'string',\n\t},\n\t{\n\t\tlabel: __( 'Description' ),\n\t\targs: { field: 'description' },\n\t\ttype: 'string',\n\t},\n\t{\n\t\tlabel: __( 'Parent ID' ),\n\t\targs: { field: 'parent' },\n\t\ttype: 'string',\n\t},\n\t{\n\t\tlabel: __( 'Count' ),\n\t\targs: { field: 'count' },\n\t\ttype: 'string',\n\t},\n];\n\n/**\n * @type {WPBlockBindingsSource}\n */\nexport default {\n\tname: 'core/term-data',\n\tusesContext: [ 'taxonomy', 'termId', 'termData' ],\n\tgetValues( { select, context, bindings, clientId } ) {\n\t\tconst { getEntityRecord } = select( coreDataStore );\n\n\t\t/*\n\t\t * BACKWARDS COMPATIBILITY: Hardcoded exception for navigation blocks.\n\t\t * Required for WordPress 6.9+ navigation blocks. DO NOT REMOVE.\n\t\t */\n\t\tconst { getBlockAttributes, getBlockName } = select( blockEditorStore );\n\t\tconst blockName = getBlockName( clientId );\n\t\tconst isNavigationBlock = NAVIGATION_BLOCK_TYPES.includes( blockName );\n\n\t\tlet termDataValues;\n\n\t\tif ( isNavigationBlock ) {\n\t\t\t// Navigation blocks: read from block attributes\n\t\t\tconst blockAttributes = getBlockAttributes( clientId );\n\t\t\tconst typeFromAttributes = blockAttributes?.type;\n\t\t\tconst taxonomy =\n\t\t\t\ttypeFromAttributes === 'tag' ? 'post_tag' : typeFromAttributes;\n\t\t\ttermDataValues = getEntityRecord(\n\t\t\t\t'taxonomy',\n\t\t\t\ttaxonomy,\n\t\t\t\tblockAttributes?.id\n\t\t\t);\n\t\t} else if ( context.termId && context.taxonomy ) {\n\t\t\t// All other blocks: use context\n\t\t\ttermDataValues = getEntityRecord(\n\t\t\t\t'taxonomy',\n\t\t\t\tcontext.taxonomy,\n\t\t\t\tcontext.termId\n\t\t\t);\n\t\t}\n\n\t\t// Fall back to context termData if available.\n\t\tif ( ! termDataValues && context?.termData && ! isNavigationBlock ) {\n\t\t\ttermDataValues = context.termData;\n\t\t}\n\n\t\tconst newValues = {};\n\t\tfor ( const [ attributeName, binding ] of Object.entries( bindings ) ) {\n\t\t\tconst termDataField = termDataFields.find(\n\t\t\t\t( field ) => field.args.field === binding.args.field\n\t\t\t);\n\n\t\t\tif ( ! termDataField ) {\n\t\t\t\t// If the field is unknown, return the field name.\n\t\t\t\tnewValues[ attributeName ] = binding.args.field;\n\t\t\t} else if (\n\t\t\t\t! termDataValues ||\n\t\t\t\ttermDataValues[ binding.args.field ] === undefined\n\t\t\t) {\n\t\t\t\t// If the term data does not exist, return the field label.\n\t\t\t\tnewValues[ attributeName ] = termDataField.label;\n\t\t\t} else if ( binding.args.field === 'count' ) {\n\t\t\t\t// Return the term count value in parentheses.\n\t\t\t\tnewValues[ attributeName ] =\n\t\t\t\t\t'(' + termDataValues[ binding.args.field ] + ')';\n\t\t\t} else {\n\t\t\t\t// If the term data exists, return the term data value.\n\t\t\t\tnewValues[ attributeName ] =\n\t\t\t\t\ttermDataValues[ binding.args.field ];\n\t\t\t}\n\t\t}\n\t\treturn newValues;\n\t},\n\t// eslint-disable-next-line no-unused-vars\n\tsetValues( { dispatch, context, bindings } ) {\n\t\t// Terms are typically not editable through block bindings in most contexts.\n\t\treturn false;\n\t},\n\tcanUserEditValue( { select, context } ) {\n\t\tconst { getBlockName, getSelectedBlockClientId } =\n\t\t\tselect( blockEditorStore );\n\n\t\tconst clientId = getSelectedBlockClientId();\n\t\tconst blockName = getBlockName( clientId );\n\n\t\t// Navigaton block types are read-only.\n\t\t// See https://github.com/WordPress/gutenberg/pull/72165.\n\t\tif ( NAVIGATION_BLOCK_TYPES.includes( blockName ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Terms are typically read-only when displayed.\n\t\tif ( context?.termQuery ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Lock editing when `taxonomy` or `termId` is not defined.\n\t\tif ( ! context?.taxonomy || ! context?.termId ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn false;\n\t},\n\tgetFieldsList( { context, select } ) {\n\t\tconst { getBlockAttributes, getBlockName, getSelectedBlockClientId } =\n\t\t\tselect( blockEditorStore );\n\t\tconst clientId = getSelectedBlockClientId();\n\t\tconst blockName = getBlockName( clientId );\n\n\t\tif ( NAVIGATION_BLOCK_TYPES.includes( blockName ) ) {\n\t\t\t// Navigation blocks: read from block attributes\n\t\t\tconst blockAttributes = getBlockAttributes( clientId );\n\t\t\tif (\n\t\t\t\t! blockAttributes ||\n\t\t\t\t! blockAttributes.id ||\n\t\t\t\t! blockAttributes.type\n\t\t\t) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn termDataFields;\n\t\t}\n\n\t\tif ( ! context ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif ( ( context.taxonomy && context.termId ) || context.termData ) {\n\t\t\treturn termDataFields;\n\t\t}\n\n\t\treturn [];\n\t},\n};\n", "/**\n * WordPress dependencies\n */\nimport {\n\tCreateTemplatePartModal,\n\tpatternTitleField,\n\ttemplateTitleField,\n} from '@wordpress/fields';\nimport * as interfaceApis from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { lock } from './lock-unlock';\nimport { EntitiesSavedStatesExtensible } from './components/entities-saved-states';\nimport BackButton from './components/header/back-button';\nimport Editor from './components/editor';\nimport { EditorPresence } from './components/editor-presence';\nimport PluginPostExcerpt from './components/post-excerpt/plugin';\nimport PostCardPanel from './components/post-card-panel';\nimport PreferencesModal from './components/preferences-modal';\nimport { usePostActions } from './components/post-actions/actions';\nimport usePostFields from './components/post-fields';\nimport ToolsMoreMenuGroup from './components/more-menu/tools-more-menu-group';\nimport ViewMoreMenuGroup from './components/more-menu/view-more-menu-group';\nimport ResizableEditor from './components/resizable-editor';\nimport { registerCoreBlockBindingsSources } from './bindings/api';\nimport { getTemplateInfo } from './utils/get-template-info';\nimport GlobalStylesUIWrapper from './components/global-styles';\nimport { StyleBookPreview } from './components/style-book';\nimport { useGlobalStyles, useStyle } from './components/global-styles/hooks';\nimport { GlobalStylesActionMenu } from './components/global-styles/menu';\nimport {\n\tuseGenerateBlockPath,\n\tuseRestoreBlockFromPath,\n} from './utils/block-selection-path';\n\nconst { store: interfaceStore, ...remainingInterfaceApis } = interfaceApis;\n\nexport const privateApis = {};\nlock( privateApis, {\n\tCreateTemplatePartModal,\n\tpatternTitleField,\n\ttemplateTitleField,\n\tBackButton,\n\tEntitiesSavedStatesExtensible,\n\tEditor,\n\tEditorPresence,\n\tPluginPostExcerpt,\n\tPostCardPanel,\n\tPreferencesModal,\n\tusePostActions,\n\tusePostFields,\n\tToolsMoreMenuGroup,\n\tViewMoreMenuGroup,\n\tResizableEditor,\n\tregisterCoreBlockBindingsSources,\n\tgetTemplateInfo,\n\t// Global Styles\n\tGlobalStylesUIWrapper,\n\tGlobalStylesActionMenu,\n\tStyleBookPreview,\n\tuseGlobalStyles,\n\tuseStyle,\n\t// Block selection\n\tuseGenerateBlockPath,\n\tuseRestoreBlockFromPath,\n\t// This is a temporary private API while we're updating the site editor to use EditorProvider.\n\tinterfaceStore,\n\t...remainingInterfaceApis,\n} );\n", "/**\n * WordPress dependencies\n */\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\nimport { store as editorStore } from '../store';\n\n/**\n * @typedef {import('@wordpress/dataviews').Action} Action\n * @typedef {import('@wordpress/dataviews').Field} Field\n */\n\n/**\n * Registers a new DataViews action.\n *\n * This is an experimental API and is subject to change.\n * it's only available in the Gutenberg plugin for now.\n *\n * @param {string} kind   Entity kind.\n * @param {string} name   Entity name.\n * @param {Action} config Action configuration.\n */\n\nexport function registerEntityAction( kind, name, config ) {\n\tconst { registerEntityAction: _registerEntityAction } = unlock(\n\t\tdispatch( editorStore )\n\t);\n\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t_registerEntityAction( kind, name, config );\n\t}\n}\n\n/**\n * Unregisters a DataViews action.\n *\n * This is an experimental API and is subject to change.\n * it's only available in the Gutenberg plugin for now.\n *\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {string} actionId Action ID.\n */\nexport function unregisterEntityAction( kind, name, actionId ) {\n\tconst { unregisterEntityAction: _unregisterEntityAction } = unlock(\n\t\tdispatch( editorStore )\n\t);\n\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t_unregisterEntityAction( kind, name, actionId );\n\t}\n}\n\n/**\n * Registers a new DataViews field.\n *\n * This is an experimental API and is subject to change.\n * it's only available in the Gutenberg plugin for now.\n *\n * @param {string} kind   Entity kind.\n * @param {string} name   Entity name.\n * @param {Field}  config Field configuration.\n */\nexport function registerEntityField( kind, name, config ) {\n\tconst { registerEntityField: _registerEntityField } = unlock(\n\t\tdispatch( editorStore )\n\t);\n\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t_registerEntityField( kind, name, config );\n\t}\n}\n\n/**\n * Unregisters a DataViews field.\n *\n * This is an experimental API and is subject to change.\n * it's only available in the Gutenberg plugin for now.\n *\n * @param {string} kind    Entity kind.\n * @param {string} name    Entity name.\n * @param {string} fieldId Field ID.\n */\nexport function unregisterEntityField( kind, name, fieldId ) {\n\tconst { unregisterEntityField: _unregisterEntityField } = unlock(\n\t\tdispatch( editorStore )\n\t);\n\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t_unregisterEntityField( kind, name, fieldId );\n\t}\n}\n", "/**\n * Internal dependencies\n */\nimport './hooks';\n\nexport { storeConfig, store } from './store';\nexport * from './components';\nexport * from './utils';\nexport * from './private-apis';\nexport * from './dataviews/api';\n\n/*\n * Backward compatibility\n */\nexport { transformStyles } from '@wordpress/block-editor';\n"],
  "mappings": "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L,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,KACL,OAAK,KACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,OAAK,SACL,OAAK,SACL,OAAK,SACL,OAAK,SACL,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,aAAM,IACN,aAAM,IACN,aAAM,IACN,aAAM,IACN,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,aAAM,IACN,aAAM,IACN,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,QAAM,IACN,OAAK,IACL,OAAK,IACL,OAAK,IACL,OAAK,IACL,aAAM,IACN,aAAM,IACN,OAAK,IACL,OAAK,IACL,QAAM,IACN,QAAM,IACN,aAAM,IACN,aAAM,IAC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CvB,oBAAqB,KACtB,CACD,EACA,CACC,SAAU,iBACV,MAAO,CACN,MAAO,QACP,sBAAuB,MACvB,oBAAqB,GACtB,CACD,EACA,CACC,SAAU,kBACV,MAAO,CACN,cAAe,kBACf,eAAgB,iBACjB,CACD,CACD,EACA,cAAe,CACd,CACC,SAAU,kBACV,MAAO,CACN,qBAAsB,GACvB,CACD,EACA,CACC,SAAU,iBACV,MAAO,CACN,mBAAoB,GACrB,CACD,EACA,CACC,SAAU,OACV,MAAO,CACN,qBAAsB,KACtB,mBAAoB,GACrB,CACD,CACD,CACD,EACA,YAAa,CACZ,KAAM,cACN,KAAM,cACN,UAAW,wBACX,WAAY,CACX,CACC,SAAU,gBACV,MAAO,CACN,MAAO,OACP,sBAAuB,IACvB,oBAAqB,KACtB,CACD,EACA,CACC,SAAU,iBACV,MAAO,CACN,MAAO,QACP,sBAAuB,MACvB,oBAAqB,GACtB,CACD,EACA,CACC,SAAU,kBACV,MAAO,CACN,cAAe,kBACf,eAAgB,iBACjB,CACD,EACA,CACC,SACC,+DACD,MAAO,CACN,YAAa,yCACb,cAAe,kBACf,eAAgB,iBACjB,CACD,EACA,CACC,SAAU,gBACV,MAAO,CACN,YAAa,qCACd,CACD,CACD,EACA,cAAe,CACd,CACC,SAAU,kBACV,MAAO,CACN,qBAAsB,GACvB,CACD,EACA,CACC,SAAU,iBACV,MAAO,CACN,mBAAoB,GACrB,CACD,EACA,CACC,SAAU,OACV,MAAO,CACN,qBAAsB,KACtB,mBAAoB,GACrB,CACD,CACD,CACD,EACA,KAAM,CACL,KAAM,OACN,KAAM,OACN,UAAW,iBACX,YAAa,OACb,WAAY,CACX,CACC,SAAU,GACV,MAAO,CACN,YAAa,OACb,cAAe,QAChB,CACD,EACA,CACC,SAAU,iBACV,MAAO,CACN,OAAQ,GACT,CACD,CACD,EACA,cAAe,CACd,CACC,SAAU,GACV,MAAO,CACN,IAAK,IACN,CACD,CACD,CACD,EACA,KAAM,CACL,KAAM,OACN,KAAM,OACN,UAAW,iBACX,YAAa,OACb,WAAY,CACX,CACC,S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,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAE5B,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAA+B,EAAG,EACpD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAEZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAEvC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAA+B,EAAG,EAAG,EAAG,EAAG,EACpD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EACZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAExB,EACA,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GACrD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAEhD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAClD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACnD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACrD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAClD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAEhC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAClD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAE5B,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAA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AAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,EAAE,KAAM,UAAY,CACnC,OAAOC,GACR,CAAE,EACF,QAAQ,QAAQ,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BA,EAAE,KAAM4M,CAAW,EACnB,KAAK,iBAAiB,KACrB,KAAK,iBAAkBtN,CAAE,EAAIsN,EAAa,CAC3C,CACD,CACD,CACK,KAAK,UAAY,MACrB,KAAK,OAAS,CAAE,GAAG,IAAI,MAAO,KAAK,SAAU,CAAE,EAAE,IAC9CjM,GAAOX,EAAE,IACZ,EAEF,CACA,aAAcuH,EAAU,CACvB,GAAK,KAAK,UAAY,EACrB,eAAQ,KACP,sBAAuB,KAAK,OAAQ,sCACrC,EACO,GAER,IAAIsF,EAAQ,KAAK,eAAgBtF,CAAQ,EACzC,GAAKsF,EAAQ,IAAM,OAAOF,GAAYE,CAAM,EAC5C,IAAIxL,EAAS,KAAK,iBAAkBkG,CAAQ,EAExCuF,EADO,KAAK,iBAAkBvF,EAAU,CAAE,EAC7BlG,EAAS,EAC1B,OAAKyL,IAAQ,EAAW,YACxB,KAAK,OAAO,gBAAkB,KAAK,YAAczL,EACpC,KAAK,OAAO,UACxByL,EACA,KAAK,YAAczL,EACnB,EACA,EACD,EACY,IAAO0K,GAAO,OAAO,aAAcA,CAAE,CAAE,EAAE,KAAM,EAAG,EAC/D,CACD,EACMY,GAAa,CAClB,UACA,QACA,mBACA,QACA,SACA,WACA,aACA,SACA,UACA,YACA,cACA,YACA,aACA,WACA,OACA,QACA,SACA,SACA,QACA,OACA,MACA,MACA,QACA,OACA,OACA,MACA,QACA,QACA,OACA,QACA,YACA,OACA,QACA,UACA,WACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,cACA,YACA,eACA,cACA,aACA,QACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,YACA,MACA,aACA,aACA,YACA,QACA,WACA,SACA,SACA,YACA,YACA,SACA,SACA,cACA,YACA,SACA,QACA,WACA,SACA,SACA,cACA,YACA,SACA,SACA,cACA,YACA,SACA,SACA,SACA,cACA,YACA,SACA,SACA,SACA,cACA,YACA,SACA,SACA,OACA,WACA,UACA,SACA,YACA,aACA,aACA,YACA,YACA,QACA,WACA,WACA,KACA,SACA,WACA,YACA,YACA,eACA,MACA,KACA,cACA,YACA,UACA,KACA,WACA,cACA,eACA,QACA,KACA,SACA,eACA,aACA,aACA,UACA,SACA,cACA,QACA,gBACA,iBACA,WACA,mBACA,SACA,SACA,SACA,KACA,KACA,SACA,SACA,eACA,gBACA,YACA,aACA,SACA,UACA,YACA,YACA,WACA,WACA,gBACA,iBACA,KACA,KACA,YACA,iBACA,iBACA,eACA,cACA,cACA,cACA,SACA,YACA,SACA,SACA,cACA,YACA,SACA,SACA,cACA,QACA,SACA,SACA,cACA,SACA,WACA,aACA,QACA,SACA,QACA,YACA,OACA,UACA,eACA,SACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,YACA,MACA,MACA,SACA,SACA,QACA,QACA,QACA,WACA,cACA,cACA,gBACA,UACA,aACA,gBACA,QACA,SACA,SACA,aACA,WACA,WACA,SACA,SACA,SACA,SACA,QACD,EACI1J,IAAS,OAAO,OAAQ,CAAE,UAAW,KAAM,KAAAyJ,GAAW,CAAE,EACtDK,IAAN,cAAmB7M,EAAY,CAC9B,YAAaxB,EAAMC,EAAW,CAC7B,GAAM,CAAE,EAAGqB,CAAE,EAAI,MAAOtB,EAAMC,CAAS,EACvC,KAAK,aAAeqB,EAAE,OACtB,KAAK,aAAeA,EAAE,OACtB,KAAK,gBAAkBA,EAAE,SACzB,KAAK,eAAiBA,EAAE,SACxBG,GACC,KACA,YACA,IACC,IAAI6M,GACH,CAAE,OAAQtO,EAAK,OAAS,KAAK,eAAgB,EAC7CC,CACD,CACF,EACAwB,GACC,KACA,WACA,IACC,IAAI6M,GACH,CAAE,OAAQtO,EAAK,OAAS,KAAK,cAAe,EAC5CC,CACD,CACF,EACK,KAAK,eAAiB,GAAK,KAAK,eAAiB,IACrD,KAAK,m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",
  "names": ["require_data", "__commonJSMin", "exports", "module", "require_core_data", "__commonJSMin", "exports", "module", "require_element", "__commonJSMin", "exports", "module", "require_compose", "__commonJSMin", "exports", "module", "require_hooks", "__commonJSMin", "exports", "module", "require_block_editor", "__commonJSMin", "exports", "module", "require_blocks", "__commonJSMin", "exports", "module", "require_date", "__commonJSMin", "exports", "module", "require_url", "__commonJSMin", "exports", "module", "require_deprecated", "__commonJSMin", "exports", "module", "require_preferences", "__commonJSMin", "exports", "module", "require_primitives", "__commonJSMin", "exports", "module", "require_jsx_runtime", "__commonJSMin", "exports", "module", "require_private_apis", "__commonJSMin", "exports", "module", "require_a11y", "__commonJSMin", "exports", "module", "require_api_fetch", "__commonJSMin", "exports", "module", "require_notices", "__commonJSMin", "exports", "module", "require_i18n", "__commonJSMin", "exports", "module", "require_html_entities", "__commonJSMin", "exports", "module", "require_components", "__commonJSMin", "exports", "module", "require_patterns", "__commonJSMin", "exports", "module", "require_blob", "__commonJSMin", "exports", "module", "require_media_utils", "__commonJSMin", "exports", "module", "require_remove_accents", "__commonJSMin", "exports", "module", "characterMap", "chars", "allAccents", "firstAccent", "matcher", "match", "removeAccents", "string", "hasAccents", "require_style_engine", "__commonJSMin", "exports", "module", "require_es6", "__commonJSMin", "exports", "module", "equal", "a", "b", "length", "i", "keys", "key", "require_cjs", "__commonJSMin", "exports", "module", "isMergeableObject", "value", "isNonNullObject", "isSpecial", "stringValue", "isReactElement", "canUseSymbol", "REACT_ELEMENT_TYPE", "emptyTarget", "val", "cloneUnlessOtherwiseSpecified", "options", "deepmerge", "defaultArrayMerge", "target", "source", "element", "getMergeFunction", "key", "customMerge", "getEnumerableOwnPropertySymbols", "symbol", "getKeys", "propertyIsOnObject", "object", "property", "propertyIsUnsafe", "mergeObject", "destination", "sourceIsArray", "targetIsArray", "sourceAndTargetTypesMatch", "array", "prev", "next", "deepmerge_1", "require_commands", "__commonJSMin", "exports", "module", "require_viewport", "__commonJSMin", "exports", "module", "require_plugins", "__commonJSMin", "exports", "module", "require_keyboard_shortcuts", "__commonJSMin", "exports", "module", "require_keycodes", "__commonJSMin", "exports", "module", "require_fast_deep_equal", "__commonJSMin", "exports", "module", "equal", "a", "b", "length", "i", "keys", "key", "require_dom", "__commonJSMin", "exports", "module", "require_rich_text", "__commonJSMin", "exports", "module", "require_warning", "__commonJSMin", "exports", "module", "require_react", "__commonJSMin", "exports", "module", "require_ReactPropTypesSecret", "__commonJSMin", "exports", "module", "ReactPropTypesSecret", "require_factoryWithThrowingShims", "__commonJSMin", "exports", "module", "ReactPropTypesSecret", "emptyFunction", "emptyFunctionWithReset", "shim", "props", "propName", "componentName", "location", "propFullName", "secret", "err", "getShim", "ReactPropTypes", "require_prop_types", "__commonJSMin", "exports", "module", "ReactIs", "throwOnDirectAccess", "require_autosize", "__commonJSMin", "exports", "module", "global", "factory", "mod", "map", "keys", "values", "key", "value", "index", "createEvent", "name", "evt", "assign", "ta", "heightOffset", "clientWidth", "cachedHeight", "init", "style", "update", "changeOverflow", "width", "getParentOverflows", "el", "arr", "resize", "overflows", "docTop", "styleHeight", "computed", "actualHeight", "pageResize", "destroy", "methods", "autosize", "options", "x", "require_computedStyle_commonjs", "__commonJSMin", "exports", "module", "computedStyle", "el", "prop", "getComputedStyle", "word", "letter", "require_line_height", "__commonJSMin", "exports", "module", "computedStyle", "lineHeight", "node", "lnHeightStr", "lnHeight", "_lnHeightStyle", "nodeName", "_node", "fontSizeStr", "body", "height", "require_TextareaAutosize", "__commonJSMin", "exports", "__extends", "extendStatics", "d", "b", "p", "__", "__assign", "t", "s", "i", "n", "__rest", "e", "React", "PropTypes", "autosize", "_getLineHeight", "getLineHeight", "RESIZED", "TextareaAutosizeClass", "_super", "_this", "onChange", "_a", "maxRows", "async", "_b", "onResize", "style", "innerRef", "children", "props", "lineHeight", "maxHeight", "element", "ref", "require_lib", "__commonJSMin", "exports", "module", "TextareaAutosize_1", "require_wordcount", "__commonJSMin", "exports", "module", "require_server_side_render", "__commonJSMin", "exports", "module", "Diff", "prototype", "diff", "oldString", "newString", "options", "callback", "self", "done", "value", "setTimeout", "undefined", "castInput", "removeEmpty", "tokenize", "newLen", "length", "oldLen", "editLength", "maxEditLength", "bestPath", "newPos", "components", "oldPos", "extractCommon", "join", "count", "execEditLength", "diagonalPath", "basePath", "addPath", "removePath", "canAdd", "canRemove", "clonePath", "pushComponent", "buildValues", "useLongestToken", "exec", "ret", "added", "removed", "last", "push", "commonCount", "equals", "left", "right", "comparator", "ignoreCase", "toLowerCase", "array", "i", "split", "chars", "componentPos", "componentLen", "component", "slice", "tmp", "map", "oldValue", "lastComponent", "pop", "path", "_base", "_interopRequireDefault", "arrayDiff", "Diff", "tokenize", "value", "slice", "join", "removeEmpty", "diffArrays", "oldArr", "newArr", "callback", "diff", "require_react_dom", "__commonJSMin", "exports", "module", "import_data", "import_core_data", "import_element", "import_compose", "import_hooks", "import_data", "import_data", "import_block_editor", "EDITOR_SETTINGS_DEFAULTS", "import_data", "isReady", "state", "action", "actions", "_action", "fields", "_field", "reducer_default", "getPostRawValue", "value", "postId", "state", "action", "templateId", "postType", "template", "saving", "deleting", "postLock", "postSavingLock", "removedLockName", "restState", "postAutosavingLock", "editorSettings", "EDITOR_SETTINGS_DEFAULTS", "renderingMode", "deviceType", "removedPanels", "blockInserterPanel", "listViewPanel", "listViewToggleRef", "inserterSidebarToggleRef", "publishSidebarActive", "stylesPath", "showStylebook", "canvasMinHeight", "revisionId", "reducer_default", "import_blocks", "import_date", "import_url", "import_data", "import_deprecated", "import_element", "import_block_editor", "import_core_data", "import_preferences", "EDIT_MERGE_PROPERTIES", "STORE_NAME", "PERMALINK_POSTNAME_REGEX", "ONE_MINUTE_IN_MS", "AUTOSAVE_PROPERTIES", "TEMPLATE_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "PATTERN_POST_TYPE", "NAVIGATION_POST_TYPE", "ATTACHMENT_POST_TYPE", "TEMPLATE_ORIGINS", "TEMPLATE_POST_TYPES", "GLOBAL_POST_TYPES", "DESIGN_POST_TYPES", "import_element", "icon_default", "icon", "size", "props", "ref", "import_primitives", "import_jsx_runtime", "add_template_default", "import_primitives", "import_jsx_runtime", "archive_default", "import_primitives", "import_jsx_runtime", "audio_default", "import_primitives", "import_jsx_runtime", "background_default", "import_primitives", "import_jsx_runtime", "backup_default", "import_primitives", "import_jsx_runtime", "block_default_default", "import_primitives", "import_jsx_runtime", "check_default", "import_primitives", "import_jsx_runtime", "chevron_down_default", "import_primitives", "import_jsx_runtime", "chevron_left_small_default", "import_primitives", "import_jsx_runtime", "chevron_left_default", "import_primitives", "import_jsx_runtime", "chevron_right_small_default", "import_primitives", "import_jsx_runtime", "chevron_right_default", "import_primitives", "import_jsx_runtime", "chevron_up_default", "import_primitives", "import_jsx_runtime", "close_small_default", "import_primitives", "import_jsx_runtime", "cloud_upload_default", "import_primitives", "import_jsx_runtime", "cloud_default", "import_primitives", "import_jsx_runtime", "code_default", "import_primitives", "import_jsx_runtime", "color_default", "import_primitives", "import_jsx_runtime", "comment_author_avatar_default", "import_primitives", "import_jsx_runtime", "comment_default", "import_primitives", "import_jsx_runtime", "copy_small_default", "import_primitives", "import_jsx_runtime", "desktop_default", "import_primitives", "import_jsx_runtime", "download_default", "import_primitives", "import_jsx_runtime", "drafts_default", "import_primitives", "import_jsx_runtime", "drawer_left_default", "import_primitives", "import_jsx_runtime", "drawer_right_default", "import_primitives", "import_jsx_runtime", "envelope_default", "import_primitives", "import_jsx_runtime", "error_default", "import_primitives", "import_jsx_runtime", "external_default", "import_primitives", "import_jsx_runtime", "file_default", "import_primitives", "import_jsx_runtime", "footer_default", "import_primitives", "import_jsx_runtime", "format_list_bullets_default", "import_primitives", "import_jsx_runtime", "header_default", "import_primitives", "import_jsx_runtime", "info_default", "import_primitives", "import_jsx_runtime", "keyboard_default", "import_primitives", "import_jsx_runtime", "layout_default", "import_primitives", "import_jsx_runtime", "link_default", "import_primitives", "import_jsx_runtime", "list_view_default", "import_primitives", "import_jsx_runtime", "lock_small_default", "import_primitives", "import_jsx_runtime", "mobile_default", "import_primitives", "import_jsx_runtime", "more_vertical_default", "import_primitives", "import_jsx_runtime", "navigation_default", "import_primitives", "import_jsx_runtime", "next_default", "import_primitives", "import_jsx_runtime", "not_allowed_default", "import_primitives", "import_jsx_runtime", "page_default", "import_primitives", "import_jsx_runtime", "pencil_default", "import_primitives", "import_jsx_runtime", "pending_default", "import_primitives", "import_jsx_runtime", "plus_default", "import_primitives", "import_jsx_runtime", "previous_default", "import_primitives", "import_jsx_runtime", "published_default", "import_primitives", "import_jsx_runtime", "redo_default", "import_primitives", "import_jsx_runtime", "reset_default", "import_primitives", "import_jsx_runtime", "rotate_left_default", "import_primitives", "import_jsx_runtime", "rotate_right_default", "import_primitives", "import_jsx_runtime", "scheduled_default", "import_primitives", "import_jsx_runtime", "seen_default", "import_primitives", "import_jsx_runtime", "settings_default", "import_primitives", "import_jsx_runtime", "shadow_default", "import_primitives", "import_jsx_runtime", "shuffle_default", "import_primitives", "import_jsx_runtime", "sidebar_default", "import_primitives", "import_jsx_runtime", "square_default", "import_primitives", "import_jsx_runtime", "star_empty_default", "import_primitives", "import_jsx_runtime", "star_filled_default", "import_primitives", "import_jsx_runtime", "styles_default", "import_primitives", "import_jsx_runtime", "symbol_filled_default", "import_primitives", "import_jsx_runtime", "symbol_default", "import_primitives", "import_jsx_runtime", "table_column_after_default", "import_primitives", "import_jsx_runtime", "tablet_default", "import_primitives", "import_jsx_runtime", "trash_default", "import_primitives", "import_jsx_runtime", "typography_default", "import_primitives", "import_jsx_runtime", "undo_default", "import_primitives", "import_jsx_runtime", "unseen_default", "import_primitives", "import_jsx_runtime", "verse_default", "import_primitives", "import_jsx_runtime", "video_default", "import_primitives", "import_jsx_runtime", "wordpress_default", "getTemplatePartIcon", "areaOrIconName", "header_default", "footer_default", "sidebar_default", "table_column_after_default", "symbol_filled_default", "import_private_apis", "lock", "unlock", "EMPTY_OBJECT", "getTemplateInfo", "params", "templateTypes", "templateAreas", "template", "description", "slug", "title", "area", "defaultTitle", "defaultDescription", "type", "templateTitle", "templateDescription", "templateIcon", "item", "getTemplatePartIcon", "layout_default", "EMPTY_OBJECT", "hasEditorUndo", "select", "coreStore", "hasEditorRedo", "isEditedPostNew", "state", "getCurrentPost", "hasChangedContent", "getPostEdits", "isEditedPostDirty", "postType", "getCurrentPostType", "postId", "getCurrentPostId", "hasNonPostEntityChanges", "dirtyEntityRecords", "type", "id", "entityRecord", "isCleanNewPost", "post", "getCurrentTemplateId", "getCurrentPostRevisionsCount", "getCurrentPostLastRevisionId", "getCurrentPostAttribute", "attributeName", "getPostRawValue", "getNestedEditedPostProperty", "edits", "getEditedPostAttribute", "getEditedPostContent", "EDIT_MERGE_PROPERTIES", "getAutosaveAttribute", "AUTOSAVE_PROPERTIES", "currentUserId", "autosave", "getEditedPostVisibility", "isCurrentPostPending", "isCurrentPostPublished", "currentPost", "ONE_MINUTE_IN_MS", "isCurrentPostScheduled", "isEditedPostPublishable", "ATTACHMENT_POST_TYPE", "isEditedPostSaveable", "isSavingPost", "isEditedPostEmpty", "record", "blocks", "blockName", "isEditedPostAutosaveable", "isPostAutosavingLocked", "hasFetchedAutosave", "field", "isEditedPostBeingScheduled", "date", "checkedDate", "isEditedPostDateFloating", "modified", "status", "isDeletingPost", "isSavingNonPostEntityChanges", "entitiesBeingSaved", "didPostSaveRequestSucceed", "didPostSaveRequestFail", "isAutosavingPost", "isPreviewingPost", "getEditedPostPreviewLink", "previewLink", "featuredImageId", "getSuggestedPostFormat", "blockEditorStore", "name", "provider", "isPublishingPost", "isPermalinkEditable", "permalinkTemplate", "PERMALINK_POSTNAME_REGEX", "getPermalink", "permalinkParts", "getPermalinkParts", "prefix", "postName", "suffix", "getEditedPostSlug", "isPostLocked", "isPostSavingLocked", "isPostLockTakeover", "getPostLockUser", "getActivePostLock", "canUserUseUnfilteredHTML", "isPublishSidebarEnabled", "preferencesStore", "getEditorBlocks", "isEditorPanelRemoved", "panelName", "isEditorPanelEnabled", "inactivePanels", "isEditorPanelOpened", "getEditorSelectionStart", "deprecated", "getEditorSelectionEnd", "getEditorSelection", "__unstableIsEditorReady", "getEditorSettings", "getRenderingMode", "getDeviceType", "unlock", "isListViewOpened", "isInserterOpened", "getEditorMode", "getStateBeforeOptimisticTransaction", "inSomeHistory", "getBlockEditorSelector", "args", "getBlockName", "isBlockValid", "getBlockAttributes", "getBlock", "getBlocks", "getClientIdsOfDescendants", "getClientIdsWithDescendants", "getGlobalBlockCount", "getBlocksByClientId", "getBlockCount", "getBlockSelectionStart", "getBlockSelectionEnd", "getSelectedBlockCount", "hasSelectedBlock", "getSelectedBlockClientId", "getSelectedBlock", "getBlockRootClientId", "getBlockHierarchyRootClientId", "getAdjacentBlockClientId", "getPreviousBlockClientId", "getNextBlockClientId", "getSelectedBlocksInitialCaretPosition", "getMultiSelectedBlockClientIds", "getMultiSelectedBlocks", "getFirstMultiSelectedBlockClientId", "getLastMultiSelectedBlockClientId", "isFirstMultiSelectedBlock", "isBlockMultiSelected", "isAncestorMultiSelected", "getMultiSelectedBlocksStartClientId", "getMultiSelectedBlocksEndClientId", "getBlockOrder", "getBlockIndex", "isBlockSelected", "hasSelectedInnerBlock", "isBlockWithinSelection", "hasMultiSelection", "isMultiSelecting", "isSelectionEnabled", "getBlockMode", "isTyping", "isCaretWithinFormattedText", "getBlockInsertionPoint", "isBlockInsertionPointVisible", "isValidTemplate", "getTemplate", "getTemplateLock", "canInsertBlockType", "getInserterItems", "hasInserterItems", "getBlockListSettings", "__experimentalGetDefaultTemplateTypes", "__experimentalGetDefaultTemplatePartAreas", "item", "getTemplatePartIcon", "__experimentalGetDefaultTemplateType", "slug", "templateTypes", "__experimentalGetTemplateInfo", "template", "currentTheme", "templateAreas", "getTemplateInfo", "getPostTypeLabel", "currentPostType", "isPublishSidebarOpened", "import_a11y", "import_api_fetch", "import_deprecated", "import_blocks", "import_notices", "import_core_data", "import_block_editor", "import_hooks", "import_preferences", "import_i18n", "postKey", "postId", "isPostNew", "localAutosaveGet", "localAutosaveSet", "title", "content", "excerpt", "localAutosaveClear", "import_i18n", "getNotificationArgumentsForSaveSuccess", "data", "previousPost", "post", "postType", "publishStatus", "isPublished", "willPublish", "willTrash", "noticeMessage", "shouldShowLink", "isDraft", "ATTACHMENT_POST_TYPE", "actions", "getNotificationArgumentsForSaveFail", "edits", "error", "messages", "getNotificationArgumentsForTrashFail", "setupEditor", "post", "edits", "template", "dispatch", "content", "blocks", "key", "edit", "__experimentalTearDownEditor", "deprecated", "resetPost", "updatePost", "setupEditorState", "setEditedPost", "postType", "postId", "editPost", "options", "select", "registry", "id", "type", "coreStore", "savePost", "previousRecord", "error", "err", "templateActivationNotice", "args", "getNotificationArgumentsForSaveFail", "noticesStore", "updatedRecord", "getNotificationArgumentsForSaveSuccess", "blockEditorStore", "slug", "templateType", "currentSite", "refreshPost", "trashPost", "postTypeSlug", "restBase", "restNamespace", "apiFetch", "getNotificationArgumentsForTrashFail", "autosave", "local", "isPostNew", "title", "excerpt", "localAutosaveSet", "__unstableSaveForPreview", "forceIsAutosaveable", "redo", "undo", "createUndoLevel", "updatePostLock", "lock", "enablePublishSidebar", "preferencesStore", "disablePublishSidebar", "lockPostSaving", "lockName", "unlockPostSaving", "lockPostAutosaving", "unlockPostAutosaving", "resetEditorBlocks", "__unstableShouldCreateUndoLevel", "selection", "blocksForSerialization", "updateEditorSettings", "settings", "setRenderingMode", "mode", "setDeviceType", "deviceType", "toggleEditorPanelEnabled", "panelName", "inactivePanels", "isPanelInactive", "updatedInactivePanels", "invactivePanelName", "toggleEditorPanelOpened", "openPanels", "isPanelOpen", "updatedOpenPanels", "openPanelName", "removeEditorPanel", "setIsInserterOpened", "value", "unlock", "setIsListViewOpened", "isOpen", "toggleDistractionFree", "createNotice", "isDistractionFree", "toggleSpotlightMode", "isFocusMode", "toggleTopToolbar", "isTopToolbar", "switchEditorMode", "openPublishSidebar", "closePublishSidebar", "togglePublishSidebar", "getBlockEditorAction", "name", "resetBlocks", "receiveBlocks", "updateBlock", "updateBlockAttributes", "selectBlock", "startMultiSelect", "stopMultiSelect", "multiSelect", "clearSelectedBlock", "toggleSelection", "replaceBlocks", "replaceBlock", "moveBlocksDown", "moveBlocksUp", "moveBlockToPosition", "insertBlock", "insertBlocks", "showInsertionPoint", "hideInsertionPoint", "setTemplateValidity", "synchronizeTemplate", "mergeBlocks", "removeBlocks", "removeBlock", "toggleBlockMode", "startTyping", "stopTyping", "enterFormattedText", "exitFormattedText", "insertDefaultBlock", "updateBlockListSettings", "import_core_data", "import_i18n", "import_notices", "import_block_editor", "import_preferences", "import_url", "import_api_fetch", "import_blocks", "import_html_entities", "isTemplateRevertable", "templateOrTemplatePart", "TEMPLATE_ORIGINS", "import_core_data", "import_hooks", "import_i18n", "import_components", "import_compose", "import_data", "import_element", "import_notices", "import_url", "import_i18n", "import_url", "import_html_entities", "import_i18n", "isTemplate", "post", "isTemplatePart", "isTemplateOrTemplatePart", "p", "getItemTitle", "item", "fallback", "title", "isTemplateRemovable", "template", "getSlug", "item", "getItemTitle", "import_jsx_runtime", "SlugEdit", "field", "onChange", "data", "id", "slug", "getSlug", "permalinkTemplate", "PERMALINK_POSTNAME_REGEX", "prefix", "suffix", "permalinkPrefix", "permalinkSuffix", "isEditable", "originalSlugRef", "slugToDisplay", "permalink", "onChangeControl", "newValue", "createNotice", "noticesStore", "copyButtonRef", "postUrlSlugDescriptionId", "VStack", "InputControl", "InputControlPrefixWrapper", "InputControlSuffixWrapper", "copy_small_default", "slug_edit_default", "import_element", "SlugView", "item", "slug", "getSlug", "originalSlugRef", "slug_view_default", "slugField", "slug_edit_default", "slug_view_default", "slug_default", "import_i18n", "r", "f", "n", "o", "clsx", "clsx_default", "import_components", "import_i18n", "import_jsx_runtime", "BaseTitleView", "item", "className", "children", "renderedTitle", "getItemTitle", "HStack", "clsx_default", "TitleView", "titleField", "item", "getItemTitle", "TitleView", "title_default", "import_i18n", "import_i18n", "import_data", "import_core_data", "import_components", "import_private_apis", "lock", "unlock", "import_jsx_runtime", "Badge", "unlock", "componentsPrivateApis", "PageTitleView", "item", "frontPageId", "postsPageId", "select", "getEntityRecord", "coreStore", "siteSettings", "BaseTitleView", "pageTitleField", "item", "getItemTitle", "PageTitleView", "page_title_default", "import_i18n", "templateTitleField", "item", "getItemTitle", "TitleView", "template_title_default", "import_i18n", "import_i18n", "import_components", "import_patterns", "import_jsx_runtime", "PATTERN_TYPES", "unlock", "patternPrivateApis", "PatternTitleView", "item", "BaseTitleView", "icon_default", "lock_small_default", "patternTitleField", "item", "getItemTitle", "PatternTitleView", "pattern_title_default", "import_i18n", "import_components", "import_blob", "import_core_data", "import_data", "import_element", "import_i18n", "import_media_utils", "import_notices", "import_jsx_runtime", "MediaUploadModal", "unlock", "mediaUtilsPrivateApis", "ConditionalMediaUpload", "render", "multiple", "props", "isModalOpen", "setIsModalOpen", "media", "MediaPickerButton", "open", "children", "label", "showTooltip", "onFilesDrop", "attachment", "isUploading", "isBlob", "mediaPickerButton", "event", "files", "archiveMimeTypes", "MediaTitle", "Truncate", "MediaEditPlaceholder", "MediaPreview", "url", "mimeType", "audio_default", "video_default", "archive_default", "file_default", "ExpandedMediaEditAttachments", "allItems", "addButtonLabel", "removeItem", "clsx_default", "hasPreviewImage", "VStack", "close_small_default", "CompactMediaEditAttachments", "MediaEdit", "data", "field", "onChange", "hideLabelFromVision", "allowedTypes", "isExpanded", "validity", "value", "isTouched", "setIsTouched", "validityTargetRef", "customValidity", "setCustomValidity", "validityTarget", "handler", "attachments", "select", "normalizedValue", "getEntityRecords", "coreStore", "createErrorNotice", "noticesStore", "replacementId", "setReplacementId", "blobs", "setBlobs", "onChangeControl", "newValue", "itemId", "newIds", "id", "_replacementId", "uploadedMedia", "blobItems", "uploadedItems", "accumulator", "item", "error", "items", "replacementIndex", "a", "input", "customValidityResult", "onBlur", "selectedMedia", "m", "AttachmentsComponent", "Text", "error_default", "import_jsx_runtime", "FeaturedImageView", "item", "config", "media", "url", "size", "featuredImageField", "MediaEdit", "FeaturedImageView", "value", "featured_image_default", "import_i18n", "import_element", "import_blocks", "import_core_data", "import_block_editor", "import_components", "import_compose", "import_data", "import_html_entities", "import_i18n", "import_jsx_runtime", "EMPTY_ARRAY", "TemplateEdit", "data", "field", "onChange", "id", "postType", "postId", "slug", "canSwitchTemplate", "templates", "select", "allTemplates", "coreStore", "getHomePage", "getPostsPageId", "unlock", "isPostsPage", "isFrontPage", "templatesAsPatterns", "template", "shownTemplates", "value", "foundTemplate", "currentTemplate", "slugToCheck", "templateId", "showModal", "setShowModal", "onChangeControl", "newValue", "onToggle", "getItemTitle", "BlockPatternsList", "templateField", "TemplateEdit", "template_default", "import_i18n", "import_remove_accents", "import_components", "import_data", "import_element", "import_core_data", "import_compose", "import_html_entities", "import_i18n", "import_url", "import_html_entities", "import_i18n", "getTitleWithFallbackName", "post", "import_jsx_runtime", "buildTermsTree", "flatTerms", "flatTermsWithParentAndChildren", "term", "parent", "termsByParent", "acc", "fillWithChildren", "terms", "children", "getItemPriority", "name", "searchValue", "normalizedName", "removeAccents", "normalizedSearch", "PageAttributesParent", "data", "onChangeControl", "fieldValue", "setFieldValue", "pageId", "postId", "postTypeSlug", "parentPostTitle", "pageItems", "isHierarchical", "select", "getEntityRecord", "getEntityRecords", "getPostType", "coreStore", "postTypeInfo", "postIsHierarchical", "parentPost", "query", "getTitleWithFallbackName", "parentOptions", "getOptionsFromTree", "tree", "level", "treeNode", "a", "b", "priorityA", "priorityB", "item", "opts", "optsHasParent", "option", "handleKeydown", "inputValue", "handleChange", "selectedPostId", "value", "ParentEdit", "field", "onChange", "id", "homeUrl", "newValue", "import_data", "import_core_data", "import_i18n", "import_jsx_runtime", "ParentView", "item", "parent", "select", "getEntityRecord", "coreStore", "getTitleWithFallbackName", "parentField", "ParentEdit", "ParentView", "parent_default", "import_i18n", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "PasswordEdit", "data", "onChange", "field", "showPassword", "setShowPassword", "handleTogglePassword", "value", "VStack", "edit_default", "passwordField", "edit_default", "item", "password_default", "import_i18n", "import_components", "import_i18n", "STATUSES", "drafts_default", "scheduled_default", "pending_default", "not_allowed_default", "published_default", "trash_default", "status_elements_default", "import_jsx_runtime", "StatusView", "item", "status", "status_elements_default", "value", "label", "icon", "HStack", "status_view_default", "OPERATOR_IS_ANY", "statusField", "status_elements_default", "status_view_default", "status_default", "import_i18n", "commentStatusField", "comment_status_default", "import_i18n", "import_components", "import_jsx_runtime", "PingStatusEdit", "data", "onChange", "pingStatus", "onTogglePingback", "checked", "pingStatusField", "ping_status_default", "import_i18n", "discussionField", "item", "commentsOpen", "pingsOpen", "discussion_default", "import_i18n", "import_i18n", "import_element", "import_date", "import_jsx_runtime", "getFormattedDate", "dateToDisplay", "DateView", "item", "date_view_default", "dateField", "date_view_default", "date_default", "import_i18n", "import_data", "import_core_data", "import_i18n", "import_element", "import_components", "import_data", "import_core_data", "import_jsx_runtime", "AuthorView", "item", "authorId", "embeddedAuthorId", "shouldFetch", "author", "select", "getEntityRecord", "coreStore", "text", "imageUrl", "isImageLoaded", "setIsImageLoaded", "HStack", "clsx_default", "comment_author_avatar_default", "author_view_default", "authorField", "coreDataStore", "id", "name", "value", "author_view_default", "a", "b", "direction", "nameA", "nameB", "author_default", "import_i18n", "notesField", "notes_default", "import_i18n", "viewPost", "external_default", "post", "posts", "onActionPerformed", "view_post_default", "import_data", "import_core_data", "import_i18n", "import_notices", "import_element", "import_components", "import_jsx_runtime", "isItemValid", "item", "ReorderModal", "items", "closeModal", "onActionPerformed", "setItem", "editEntityRecord", "saveEditedEntityRecord", "coreStore", "createSuccessNotice", "createErrorNotice", "noticesStore", "isValid", "onOrder", "event", "error", "typedError", "errorMessage", "VStack", "InputControl", "value", "parsed", "HStack", "reorderPage", "status", "reorder_page_default", "import_data", "import_core_data", "import_i18n", "import_notices", "import_element", "import_components", "import_jsx_runtime", "duplicatePost", "status", "items", "closeModal", "onActionPerformed", "item", "setItem", "getItemTitle", "isCreatingPage", "setIsCreatingPage", "saveEntityRecord", "coreStore", "createSuccessNotice", "createErrorNotice", "noticesStore", "createPage", "event", "isTemplate", "newItemObject", "assignablePropertiesPrefix", "property", "newItem", "error", "typedError", "errorMessage", "VStack", "InputControl", "value", "prev", "HStack", "duplicate_post_default", "import_data", "import_core_data", "import_i18n", "import_element", "import_patterns", "import_components", "import_notices", "import_jsx_runtime", "PATTERN_TYPES", "unlock", "patternsPrivateApis", "renamePost", "post", "specialChecks", "isTemplate", "isTemplateRemovable", "isTemplatePart", "items", "closeModal", "onActionPerformed", "item", "title", "setTitle", "getItemTitle", "editEntityRecord", "saveEditedEntityRecord", "coreStore", "createSuccessNotice", "createErrorNotice", "noticesStore", "onRename", "event", "error", "typedError", "errorMessage", "VStack", "HStack", "rename_post_default", "import_data", "import_core_data", "import_i18n", "import_notices", "import_element", "import_blocks", "import_components", "import_url", "import_api_fetch", "import_jsx_runtime", "isTemplateRevertable", "templateOrTemplatePart", "revertTemplate", "template", "allowUndo", "noticeId", "noticesStore", "templateEntityConfig", "coreStore", "fileTemplatePath", "fileTemplate", "apiFetch", "serializeBlocks", "blocksForSerialization", "edited", "blocks", "undoRevert", "error", "errorMessage", "resetPostAction", "item", "isTemplateOrTemplatePart", "backup_default", "items", "closeModal", "onActionPerformed", "isBusy", "setIsBusy", "saveEditedEntityRecord", "createSuccessNotice", "createErrorNotice", "onConfirm", "getItemTitle", "fallbackErrorMessage", "typedError", "VStack", "Text", "HStack", "reset_post_default", "import_i18n", "import_patterns", "import_jsx_runtime", "CreatePatternModalContents", "useDuplicatePatternProps", "unlock", "patternsPrivateApis", "duplicatePattern", "item", "items", "closeModal", "duplicatedProps", "duplicate_pattern_default", "__assign", "s", "i", "p", "lowerCase", "str", "DEFAULT_SPLIT_REGEXP", "DEFAULT_STRIP_REGEXP", "noCase", "input", "options", "_a", "splitRegexp", "_b", "stripRegexp", "_c", "transform", "lowerCase", "_d", "delimiter", "result", "replace", "start", "end", "re", "value", "dotCase", "input", "options", "noCase", "__assign", "paramCase", "input", "options", "dotCase", "__assign", "n", "t", "i", "r", "e", "f", "o", "a", "s", "d", "u", "c", "l", "y", "w", "B", "b", "p", "g", "I", "v", "h", "D", "S", "A", "N", "import_blob", "import_i18n", "getJsonFromItem", "item", "getItemTitle", "exportPattern", "download_default", "items", "paramCase", "nameCount", "filesToZip", "name", "A", "export_pattern_default", "import_url", "import_i18n", "viewPostRevisions", "items", "revisionsCount", "post", "lastRevisionId", "posts", "onActionPerformed", "href", "view_post_revisions_default", "import_core_data", "import_i18n", "import_notices", "import_element", "import_data", "import_components", "import_html_entities", "import_jsx_runtime", "permanentlyDeletePost", "trash_default", "item", "isTemplateOrTemplatePart", "status", "permissions", "items", "closeModal", "onActionPerformed", "isBusy", "setIsBusy", "createSuccessNotice", "createErrorNotice", "noticesStore", "deleteEntityRecord", "coreStore", "VStack", "Text", "getItemTitle", "HStack", "promiseResult", "post", "successMessage", "errorMessage", "typedError", "errorMessages", "failedPromises", "failedPromise", "permanently_delete_post_default", "import_core_data", "import_i18n", "import_notices", "restorePost", "backup_default", "item", "isTemplateOrTemplatePart", "posts", "registry", "onActionPerformed", "createSuccessNotice", "createErrorNotice", "noticesStore", "editEntityRecord", "saveEditedEntityRecord", "coreStore", "post", "promiseResult", "status", "successMessage", "getItemTitle", "errorMessage", "typedError", "errorMessages", "failedPromises", "failedPromise", "restore_post_default", "import_data", "import_core_data", "import_i18n", "import_notices", "import_element", "import_components", "import_jsx_runtime", "trashPost", "trash_default", "item", "items", "closeModal", "onActionPerformed", "isBusy", "setIsBusy", "createSuccessNotice", "createErrorNotice", "noticesStore", "deleteEntityRecord", "coreStore", "VStack", "Text", "getItemTitle", "HStack", "promiseResult", "status", "successMessage", "errorMessage", "typedError", "errorMessages", "failedPromises", "failedPromise", "trash_post_default", "import_i18n", "import_element", "import_components", "import_patterns", "import_html_entities", "import_notices", "import_core_data", "import_data", "getErrorMessagesFromPromises", "allSettledResults", "errorMessages", "typedError", "failedPromises", "status", "failedPromise", "deletePostWithNotices", "posts", "notice", "callbacks", "createSuccessNotice", "createErrorNotice", "noticesStore", "deleteEntityRecord", "coreStore", "post", "successMessage", "errorMessage", "import_jsx_runtime", "PATTERN_TYPES", "unlock", "patternsPrivateApis", "deletePostAction", "trash_default", "post", "isTemplateOrTemplatePart", "isTemplateRemovable", "items", "closeModal", "onActionPerformed", "isBusy", "setIsBusy", "isResetting", "item", "VStack", "Text", "getItemTitle", "HStack", "deletePostWithNotices", "error", "errors", "delete_post_default", "import_data", "import_i18n", "import_notices", "import_element", "import_blocks", "import_components", "import_compose", "import_core_data", "import_data", "import_element", "import_i18n", "import_notices", "import_blocks", "import_data", "import_core_data", "useExistingTemplateParts", "select", "coreStore", "getUniqueTemplatePartTitle", "title", "templateParts", "lowercaseTitle", "existingTitles", "templatePart", "suffix", "getCleanTemplatePartSlug", "paramCase", "import_jsx_runtime", "getAreaRadioId", "value", "instanceId", "getAreaRadioDescriptionId", "CreateTemplatePartModal", "modalTitle", "restProps", "defaultModalTitle", "select", "coreStore", "CreateTemplatePartModalContents", "getTemplatePartIcon", "areaOrIconName", "header_default", "footer_default", "sidebar_default", "table_column_after_default", "symbol_filled_default", "defaultArea", "blocks", "confirmLabel", "closeModal", "onCreate", "onError", "defaultTitle", "createErrorNotice", "noticesStore", "saveEntityRecord", "existingTemplateParts", "useExistingTemplateParts", "title", "setTitle", "area", "setArea", "isSubmitting", "setIsSubmitting", "defaultTemplatePartAreas", "createTemplatePart", "uniqueTitle", "getUniqueTemplatePartTitle", "cleanSlug", "getCleanTemplatePartSlug", "templatePart", "error", "errorMessage", "event", "VStack", "item", "icon", "check_default", "HStack", "import_jsx_runtime", "duplicateTemplatePart", "item", "items", "closeModal", "blocks", "createSuccessNotice", "noticesStore", "onTemplatePartSuccess", "templatePart", "getItemTitle", "CreateTemplatePartModalContents", "duplicate_template_part_default", "import_i18n", "import_components", "import_jsx_runtime", "altTextField", "item", "field", "onChange", "data", "value", "alt_text_default", "import_i18n", "import_element", "import_i18n", "getRenderedContent", "content", "import_jsx_runtime", "MediaAttachedToView", "item", "attachedPostTitle", "setAttachedPostTitle", "parentId", "embeddedPostId", "embeddedPostTitle", "getRenderedContent", "import_core_data", "import_components", "import_i18n", "import_element", "import_compose", "import_data", "import_jsx_runtime", "MediaAttachedToEdit", "data", "onChange", "defaultPost", "getRenderedContent", "options", "setOptions", "searchResults", "setSearchResults", "isLoading", "setIsLoading", "value", "setValue", "postTypes", "select", "coreStore", "handleDetach", "onValueChange", "filterValue", "results", "fetchLinkSuggestions", "mappedSuggestions", "result", "handleSelectOption", "selectedPostId", "selectedPost", "postType", "_postType", "attachedTo", "help", "attachedToField", "MediaAttachedToEdit", "MediaAttachedToView", "attached_to_default", "import_i18n", "import_data", "import_core_data", "import_i18n", "import_element", "import_components", "import_jsx_runtime", "AuthorView", "item", "author", "text", "imageUrl", "loadingState", "setLoadingState", "imgRef", "img", "handleLoad", "HStack", "clsx_default", "comment_author_avatar_default", "authorField", "coreDataStore", "id", "name", "AuthorView", "a", "b", "direction", "nameA", "nameB", "author_default", "import_i18n", "import_components", "getRawContent", "content", "import_jsx_runtime", "captionField", "item", "getRawContent", "field", "onChange", "data", "value", "caption_default", "import_i18n", "import_date", "dateAddedField", "date_added_default", "import_i18n", "import_components", "import_jsx_runtime", "descriptionField", "item", "getRawContent", "field", "onChange", "data", "value", "description_default", "import_i18n", "import_url", "import_components", "import_element", "import_url", "import_jsx_runtime", "TRUNCATE_LENGTH", "FileNameView", "item", "fileName", "Truncate", "filenameField", "item", "FileNameView", "filename_default", "import_i18n", "KB_IN_BYTES", "MB_IN_BYTES", "GB_IN_BYTES", "TB_IN_BYTES", "PB_IN_BYTES", "EB_IN_BYTES", "ZB_IN_BYTES", "YB_IN_BYTES", "getBytesString", "bytes", "unitSymbol", "decimals", "formatFileSize", "quant", "unit", "mag", "filesizeField", "item", "filesize_default", "import_i18n", "mediaDimensionsField", "item", "media_dimensions_default", "import_i18n", "mimeTypeField", "item", "mime_type_default", "import_i18n", "import_i18n", "import_block_editor", "import_data", "import_core_data", "import_element", "import_data", "import_i18n", "import_core_data", "import_block_editor", "import_notices", "import_patterns", "import_blocks", "import_element", "import_data", "import_compose", "import_block_editor", "import_jsx_runtime", "getSubRegistry", "subRegistries", "registry", "useSubRegistry", "subRegistry", "blockEditorStoreConfig", "storeConfig", "withRegistryProvider", "WrappedComponent", "props", "with_registry_provider_default", "import_element", "import_data", "import_core_data", "import_i18n", "import_preferences", "import_compose", "import_blocks", "import_block_editor", "import_i18n", "import_data", "import_html_entities", "import_core_data", "getExternalLink", "url", "text", "getExternalLinkAttributes", "getOpenverseLicense", "license", "licenseVersion", "licenseName", "getOpenverseCaption", "item", "title", "foreignLandingUrl", "creator", "creatorUrl", "licenseUrl", "fullLicense", "_creator", "_caption", "coreMediaFetch", "query", "coreStore", "mediaItem", "inserterMediaCategories", "finalQuery", "mapFromInserterMediaRequest", "key", "value", "queryKey", "result", "sourceId", "media_categories_default", "getRandomValues", "rnds8", "rng", "byteToHex", "i", "unsafeStringify", "arr", "offset", "randomUUID", "native_default", "v4", "options", "buf", "offset", "native_default", "rnds", "rng", "i", "unsafeStringify", "v4_default", "import_data", "import_core_data", "import_media_utils", "noop", "mediaUpload", "additionalData", "allowedTypes", "filesList", "maxUploadFileSize", "onError", "onFileChange", "onSuccess", "multiple", "receiveEntityRecords", "coreDataStore", "getCurrentPost", "getEditorSettings", "store", "lockPostAutosaving", "unlockPostAutosaving", "lockPostSaving", "unlockPostSaving", "wpAllowedMimeTypes", "lockKey", "v4_default", "imageIsUploading", "currentPost", "currentPostId", "setSaveLock", "postData", "clearSaveLock", "file", "entityFiles", "_file", "message", "import_url", "import_deprecated", "cleanForSlug", "string", "deprecated", "urlCleanForSlug", "import_i18n", "ERROR_CODE_DEFAULTS", "getSyncErrorMessages", "error", "genericDisconnectMessages", "defaults", "import_media_utils", "mediaSideload", "unlock", "media_sideload_default", "import_block_editor", "import_core_data", "import_data", "import_element", "setImmutably", "object", "path", "value", "leaf", "prev", "key", "lvl", "getValueFromObjectPath", "defaultValue", "arrayPath", "fieldName", "VALID_SETTINGS", "getSetting", "globalStyles", "path", "blockName", "appendedBlockPath", "appendedPropertyPath", "contextualPath", "globalPath", "getValueFromObjectPath", "result", "setting", "value", "setImmutably", "setSetting", "globalStyles", "path", "newValue", "blockName", "appendedBlockPath", "appendedPropertyPath", "finalPath", "setImmutably", "import_style_engine", "DEFAULT_MAXIMUM_VIEWPORT_WIDTH", "DEFAULT_MINIMUM_VIEWPORT_WIDTH", "DEFAULT_SCALE_FACTOR", "DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN", "DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX", "DEFAULT_MINIMUM_FONT_SIZE_LIMIT", "getComputedFluidTypographyValue", "minimumFontSize", "maximumFontSize", "fontSize", "minimumViewportWidth", "maximumViewportWidth", "scaleFactor", "minimumFontSizeLimit", "getTypographyValueAndUnit", "fontSizeParsed", "minimumFontSizeLimitParsed", "fontSizeValueInPx", "minimumFontSizeFactor", "calculatedMinimumFontSize", "roundToPrecision", "minimumFontSizeParsed", "fontSizeUnit", "maximumFontSizeParsed", "minimumFontSizeRem", "maximumViewportWidthParsed", "minimumViewportWidthParsed", "linearDenominator", "minViewportWidthOffsetValue", "viewportWidthOffset", "linearFactor", "linearFactorScaled", "fluidTargetFontSize", "rawValue", "options", "coerceTo", "rootSizeValue", "acceptableUnits", "acceptableUnitsGroup", "regexUnits", "matches", "value", "unit", "returnValue", "digits", "base", "isFluidTypographyEnabled", "typographySettings", "fluidSettings", "getFluidTypographyOptionsFromSettings", "settings", "layoutSettings", "defaultMaxViewportWidth", "getTypographyValueAndUnit", "getTypographyFontSizeValue", "preset", "defaultSize", "fluidTypographySettings", "fluidFontSizeValue", "getComputedFluidTypographyValue", "ROOT_BLOCK_SELECTOR", "ROOT_CSS_PROPERTIES_SELECTOR", "PRESET_METADATA", "slug", "preset", "settings", "getTypographyFontSizeValue", "size", "scopeSelector", "scope", "selector", "scopes", "selectors", "selectorsScoped", "outer", "inner", "scopeFeatureSelectors", "featureSelectors", "feature", "subfeature", "subfeatureSelector", "appendToSelector", "toAppend", "sel", "getBlockStyleVariationSelector", "variation", "blockSelector", "variationClass", "ancestorRegex", "addVariationClass", "_match", "group1", "group2", "part", "getResolvedRefValue", "ruleValue", "tree", "resolvedRuleValue", "getValueFromObjectPath", "getResolvedThemeFilePath", "file", "themeFileURIs", "uri", "themeFileUri", "getResolvedValue", "resolvedValue", "findInPresetsBy", "settings", "blockName", "presetPath", "presetProperty", "presetValueValue", "orderedPresetsByOrigin", "presetByOrigin", "origins", "origin", "presets", "presetObject", "preset", "getValueFromPresetVariable", "features", "variable", "presetType", "slug", "metadata", "PRESET_METADATA", "data", "valueKey", "result", "getValueFromVariable", "getValueFromCustomVariable", "path", "resolvedVariable", "USER_VALUE_PREFIX", "THEME_VALUE_PREFIX", "THEME_VALUE_SUFFIX", "parsedVar", "type", "getStyle", "globalStyles", "path", "blockName", "shouldDecodeEncode", "appendedPath", "finalPath", "rawResult", "getValueFromObjectPath", "getValueFromVariable", "setStyle", "globalStyles", "path", "newValue", "blockName", "appendedPath", "finalPath", "setImmutably", "import_es6", "areGlobalStylesEqual", "original", "variation", "fastDeepEqual", "import_deepmerge", "isObject", "o", "isPlainObject", "ctor", "prot", "mergeGlobalStyles", "base", "user", "deepmerge", "isPlainObject", "key", "baseConfig", "userConfig", "memize", "fn", "options", "size", "head", "tail", "memoized", "node", "len", "args", "i", "searchCache", "import_i18n", "import_blocks", "globalStylesChangesCache", "EMPTY_ARRAY", "translationMap", "getBlockNames", "memize", "accumulator", "name", "title", "isObject", "obj", "getTranslation", "key", "keyArray", "deepCompare", "changedObject", "originalObject", "parentPath", "allKeys", "diffs", "path", "changedPath", "getGlobalStylesChangelist", "next", "previous", "cacheKey", "changedValueTree", "changedValueArray", "result", "acc", "curr", "translation", "getGlobalStylesChanges", "options", "changeList", "changesLength", "maxResults", "group", "changeValues", "changeValuesLength", "joinedChangesValue", "import_blocks", "import_style_engine", "import_data", "getBlockSelector", "blockType", "target", "options", "fallback", "name", "selectors", "supports", "hasSelectors", "path", "rootSelector", "pathArray", "fallbackSelector", "getValueFromObjectPath", "featureSelector", "scopeSelector", "subfeatureSelector", "r", "t", "n", "e", "u", "a", "o", "i", "s", "h", "b", "g", "d", "f", "c", "l", "p", "v", "m", "y", "N", "x", "M", "r", "n", "c", "e", "H", "$", "j", "x", "o", "t", "u", "i", "a", "s", "d", "h", "w", "S", "k", "y", "getValuesFromColors", "colors", "values", "color", "rgbColor", "w", "getDuotoneFilter", "id", "colors", "values", "getValuesFromColors", "kebabCase", "str", "getSpacingPresetCssVar", "value", "slug", "getGapBoxControlValueFromStyle", "blockGapValue", "isValueString", "getGapCSSValue", "defaultValue", "blockGapBoxControlValue", "row", "getSpacingPresetCssVar", "column", "BACKGROUND_BLOCK_DEFAULT_VALUES", "setBackgroundStyleDefaults", "backgroundStyle", "backgroundStylesWithDefaults", "LAYOUT_DEFINITIONS", "ELEMENT_CLASS_NAMES", "BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS", "getPresetsDeclarations", "blockPresets", "mergedSettings", "PRESET_METADATA", "declarations", "path", "valueKey", "valueFunc", "cssVarInfix", "presetByOrigin", "getValueFromObjectPath", "origin", "value", "kebabCase", "getPresetsClasses", "blockSelector", "classes", "slug", "classSuffix", "propertyName", "classSelectorToUse", "selectorToUse", "selector", "getPresetsSvgFilters", "metadata", "preset", "getDuotoneFilter", "flattenTree", "input", "prefix", "token", "result", "key", "newKey", "newLeaf", "newPrefix", "concatFeatureVariationSelectorString", "featureSelector", "styleVariationSelector", "featureSelectors", "combinedSelectors", "getFeatureDeclarations", "selectors", "styles", "feature", "isShorthand", "subfeature", "subfeatureSelector", "subfeatureStyles", "newDeclarations", "getStylesDeclarations", "featureStyles", "blockStyles", "useRootPaddingAlign", "tree", "disableRootPadding", "isRoot", "ROOT_BLOCK_SELECTOR", "output", "STYLE_PROPERTY", "properties", "useEngine", "rootOnly", "pathToValue", "styleValue", "entry", "name", "prop", "cssProperty", "getResolvedValue", "setBackgroundStyleDefaults", "rule", "ruleValue", "getTypographyFontSizeValue", "getLayoutStyles", "layoutDefinitions", "LAYOUT_DEFINITIONS", "style", "hasBlockGapSupport", "hasFallbackGapSupport", "fallbackGapValue", "ruleset", "gapValue", "getGapCSSValue", "className", "spacingStyles", "spacingStyle", "cssValue", "combinedSelector", "ROOT_CSS_PROPERTIES_SELECTOR", "validDisplayModes", "displayMode", "baseStyles", "baseStyle", "STYLE_KEYS", "pickStyleKeys", "treeToPickFrom", "clonedEntries", "getNodesWithStyles", "blockSelectors", "nodes", "ELEMENTS", "blockName", "node", "typedNode", "variationNodesToAdd", "variations", "variationName", "variation", "typedVariation", "variationSelector", "element", "elementStyles", "scopeSelector", "variationBlockName", "variationBlockStyles", "variationBlockSelector", "variationDuotoneSelector", "variationFeatureSelectors", "scopeFeatureSelectors", "variationBlockStyleNodes", "variationBlockElement", "variationBlockElementStyles", "elementName", "sel", "elementSelector", "getNodesWithSettings", "pickPresets", "presets", "setImmutably", "custom", "blockCustom", "generateCustomProperties", "settings", "customProps", "transformToStyles", "disableLayoutStyles", "styleOptions", "options", "nodesWithStyles", "nodesWithSettings", "contentSize", "wideSize", "hasBodyStyles", "duotoneSelector", "hasLayoutSupport", "styleVariationSelectors", "skipSelectorWrapper", "featureDeclarations", "cssSelector", "rules", "duotoneStyles", "duotoneDeclarations", "styleDeclarations", "generalSelector", "processCSSNesting", "styleVariationName", "styleVariations", "baseSelector", "styleVariationDeclarations", "variationSelectorWithBlock", "pseudoSelectorStyles", "pseudoKey", "pseudoStyle", "pseudoDeclarations", "pseudoRule", "generateSvgFilters", "getSelectorsConfig", "blockType", "rootSelector", "config", "featureKey", "featureName", "getBlockSelector", "getBlockSelectors", "blockTypes", "variationInstanceId", "getBlockStyles", "blocksStore", "duotoneSupport", "blockStyleVariations", "variationSuffix", "getBlockStyleVariationSelector", "updateConfigWithSeparator", "blocks", "separatorBlock", "css", "processedCSS", "part", "splitPart", "nestedSelector", "matches", "pseudoPart", "withoutPseudoElement", "appendToSelector", "generateGlobalStyles", "hasBlockGapSupportOption", "hasFallbackGapSupportOption", "blockGap", "getSetting", "updatedConfig", "customProperties", "globalStyles", "svgs", "cleanEmptyObject", "unlock", "blockEditorPrivateApis", "useGlobalStylesUserConfig", "globalStylesId", "isReady", "settings", "styles", "_links", "select", "getEntityRecord", "getEditedEntityRecord", "hasFinishedResolution", "canUser", "coreStore", "_globalStylesId", "record", "userCanEditGlobalStyles", "hasResolved", "editEntityRecord", "config", "setConfig", "callbackOrObject", "options", "currentConfig", "updatedConfig", "useGlobalStylesBaseConfig", "baseConfig", "useGlobalStylesContext", "isUserConfigReady", "userConfig", "setUserConfig", "isBaseConfigReady", "mergedConfig", "mergeGlobalStyles", "EMPTY_OBJECT", "__experimentalReusableBlocksSelect", "select", "RECEIVE_INTERMEDIATE_RESULTS", "unlock", "coreDataPrivateApis", "getEntityRecords", "coreStore", "BLOCK_EDITOR_SETTINGS", "globalStylesDataKey", "globalStylesLinksDataKey", "selectBlockPatternsKey", "reusableBlocksSelectKey", "sectionRootClientIdKey", "mediaEditKey", "getMediaSelectKey", "isIsolatedEditorKey", "deviceTypeKey", "useBlockEditorSettings", "settings", "postType", "postId", "renderingMode", "isLargeViewport", "allowRightClickOverrides", "blockTypes", "focusMode", "hasFixedToolbar", "isDistractionFree", "keepCaretInsideBlock", "hasUploadPermissions", "hiddenBlockTypes", "canUseUnfilteredHTML", "userCanCreatePages", "pageOnFront", "pageForPosts", "userPatternCategories", "restBlockPatternCategories", "sectionRootClientId", "deviceType", "canUser", "getRawEntityRecord", "getEntityRecord", "getUserPatternCategories", "getBlockPatternCategories", "get", "preferencesStore", "getBlockTypes", "blocksStore", "getDeviceType", "store", "getBlocksByName", "getBlockAttributes", "blockEditorStore", "siteSettings", "getSectionRootBlock", "clientId", "mergedGlobalStyles", "useGlobalStylesContext", "globalStylesData", "globalStylesLinksData", "settingsBlockPatterns", "settingsBlockPatternCategories", "blockPatterns", "postTypes", "blockPatternCategories", "x", "index", "arr", "y", "undo", "setIsInserterOpened", "editMediaEntity", "saveEntityRecord", "createPageEntity", "options", "getSelectedBlockClientId", "wrappedOnNavigateToEntityRecord", "params", "selectedBlockClientId", "allowedBlockTypes", "name", "type", "forceDisableFocusMode", "key", "attachmentId", "mediaUpload", "media_sideload_default", "hasFinishedResolution", "getBlockPatternsForPostType", "patterns", "search", "searchOptions", "fetchLinkSuggestions", "media_categories_default", "fetchUrlData", "use_block_editor_settings_default", "import_data", "import_block_editor", "import_element", "import_data", "import_element", "import_hooks", "POST_CONTENT_BLOCK_TYPES", "usePostContentBlocks", "contentOnlyBlockTypes", "select", "getPostBlocksByName", "unlock", "store", "DisableNonPageContentBlocks", "contentOnlyIds", "usePostContentBlocks", "templateParts", "select", "getBlocksByName", "blockEditorStore", "disabledIds", "getBlockOrder", "clientId", "registry", "setBlockEditingMode", "unsetBlockEditingMode", "import_element", "import_data", "import_block_editor", "NavigationBlockEditingMode", "blockClientId", "select", "blockEditorStore", "setBlockEditingMode", "unsetBlockEditingMode", "import_element", "import_hooks", "POST_TYPES_ALLOWING_POST_CONTENT_TEMPLATE_PART", "useHideBlocksFromInserter", "postType", "mode", "canInsert", "blockType", "rootClientId", "getBlockParentsByBlockName", "import_data", "import_i18n", "import_commands", "import_preferences", "import_notices", "import_block_editor", "import_core_data", "import_components", "import_data", "import_i18n", "import_element", "import_viewport", "import_preferences", "import_compose", "import_plugins", "import_components", "import_data", "import_plugins", "import_data", "import_deprecated", "import_preferences", "import_deprecated", "normalizeComplementaryAreaScope", "scope", "deprecated", "normalizeComplementaryAreaName", "name", "setDefaultComplementaryArea", "scope", "area", "normalizeComplementaryAreaScope", "normalizeComplementaryAreaName", "enableComplementaryArea", "registry", "dispatch", "preferencesStore", "disableComplementaryArea", "pinItem", "item", "pinnedItems", "unpinItem", "toggleFeature", "featureName", "deprecated", "setFeatureValue", "value", "setFeatureDefaults", "defaults", "openModal", "name", "closeModal", "import_data", "import_deprecated", "import_preferences", "getActiveComplementaryArea", "select", "state", "scope", "normalizeComplementaryAreaScope", "isComplementaryAreaVisible", "preferencesStore", "isComplementaryAreaLoading", "isVisible", "identifier", "isItemPinned", "item", "normalizeComplementaryAreaName", "isFeatureActive", "featureName", "deprecated", "isModalActive", "modalName", "import_data", "complementaryAreas", "state", "action", "scope", "area", "activeModal", "reducer_default", "STORE_NAME", "store", "STORE_NAME", "reducer_default", "actions_exports", "selectors_exports", "import_jsx_runtime", "roleSupportsCheckedState", "role", "ComplementaryAreaToggle", "as", "scope", "identifierProp", "iconProp", "selectedIcon", "name", "shortcut", "props", "ComponentToUse", "context", "icon", "identifier", "isSelected", "select", "store", "enableComplementaryArea", "disableComplementaryArea", "import_jsx_runtime", "ComplementaryAreaHeader", "children", "className", "toggleButtonProps", "toggleButton", "ComplementaryAreaToggle", "close_small_default", "clsx_default", "complementary_area_header_default", "import_components", "import_components", "import_element", "import_jsx_runtime", "noop", "ActionItemSlot", "name", "Component", "fillProps", "bubblesVirtually", "props", "fills", "initializedByPlugins", "__unstableExplicitMenuItem", "__unstableTarget", "children", "child", "ActionItem", "onClick", "fpOnClick", "args", "action_item_default", "import_jsx_runtime", "PluginsMenuItem", "__unstableExplicitMenuItem", "__unstableTarget", "restProps", "ComplementaryAreaMoreMenuItem", "scope", "target", "props", "ComplementaryAreaToggle", "toggleProps", "action_item_default", "check_default", "import_components", "import_jsx_runtime", "PinnedItems", "scope", "props", "PinnedItemsSlot", "className", "fills", "clsx_default", "pinned_items_default", "import_jsx_runtime", "ANIMATION_DURATION", "ComplementaryAreaSlot", "scope", "props", "SIDEBAR_WIDTH", "variants", "ComplementaryAreaFill", "activeArea", "isActive", "children", "className", "id", "disableMotion", "isMobileViewport", "previousActiveArea", "previousIsActive", "setState", "transition", "AnimatePresence", "motion", "useAdjustComplementaryListener", "identifier", "isSmall", "previousIsSmallRef", "shouldOpenWhenNotSmallRef", "enableComplementaryArea", "disableComplementaryArea", "store", "ComplementaryArea", "closeLabel", "identifierProp", "header", "headerClassName", "iconProp", "isPinnable", "panelClassName", "name", "title", "toggleShortcut", "isActiveByDefault", "context", "icon", "isReady", "setIsReady", "isLoading", "isPinned", "isLarge", "showIconLabels", "select", "getActiveComplementaryArea", "isComplementaryAreaLoading", "isItemPinned", "get", "preferencesStore", "_activeArea", "viewportStore", "pinItem", "unpinItem", "pinned_items_default", "ComplementaryAreaToggle", "check_default", "ComplementaryAreaMoreMenuItem", "clsx_default", "complementary_area_header_default", "star_filled_default", "star_empty_default", "complementary_area_default", "import_element", "FullscreenMode", "isActive", "isSticky", "fullscreen_mode_default", "import_element", "import_jsx_runtime", "NavigableRegion", "children", "className", "ariaLabel", "Tag", "props", "ref", "clsx_default", "navigable_region_default", "import_element", "import_components", "import_i18n", "import_compose", "import_jsx_runtime", "ANIMATION_DURATION", "commonTransition", "useHTMLClass", "className", "element", "headerVariants", "InterfaceSkeleton", "isDistractionFree", "footer", "header", "editorNotices", "sidebar", "secondarySidebar", "content", "actions", "labels", "ref", "secondarySidebarResizeListener", "secondarySidebarSize", "isMobileViewport", "defaultTransition", "mergedLabels", "clsx_default", "AnimatePresence", "navigable_region_default", "motion", "interface_skeleton_default", "import_html_entities", "import_data", "import_patterns", "import_core_data", "import_jsx_runtime", "RenamePatternModal", "unlock", "patternsPrivateApis", "modalName", "PatternRenameModal", "isActive", "select", "store", "record", "postType", "getCurrentPostType", "getCurrentPostId", "getEditedEntityRecord", "coreStore", "_postType", "closeModal", "PATTERN_POST_TYPE", "import_data", "import_patterns", "import_core_data", "import_jsx_runtime", "DuplicatePatternModal", "unlock", "patternsPrivateApis", "modalName", "PatternDuplicateModal", "isActive", "select", "store", "record", "postType", "getCurrentPostType", "getCurrentPostId", "getEditedEntityRecord", "coreStore", "_postType", "closeModal", "PATTERN_POST_TYPE", "getEditorCommandLoader", "editorMode", "isListViewOpen", "showBlockBreadcrumbs", "isDistractionFree", "isFocusMode", "isPreviewMode", "isViewable", "isCodeEditingEnabled", "isRichEditingEnabled", "isPublishSidebarEnabled", "select", "get", "preferencesStore", "isListViewOpened", "getCurrentPostType", "getEditorSettings", "store", "getSettings", "blockEditorStore", "getPostType", "coreStore", "getActiveComplementaryArea", "toggle", "createInfoNotice", "noticesStore", "__unstableSaveForPreview", "setIsListViewOpened", "switchEditorMode", "toggleDistractionFree", "toggleSpotlightMode", "toggleTopToolbar", "openModal", "enableComplementaryArea", "disableComplementaryArea", "getCurrentPostId", "allowSwitchEditorMode", "commands", "keyboard_default", "close", "list_view_default", "code_default", "drawer_left_default", "drawer_right_default", "activeSidebar", "block_default_default", "format_list_bullets_default", "external_default", "postId", "link", "getEditedEntityContextualCommands", "postType", "PATTERN_POST_TYPE", "pencil_default", "modalName", "symbol_default", "getPageContentFocusCommands", "onNavigateToEntityRecord", "goBack", "templateId", "canEditTemplate", "getRenderingMode", "_getEditorSettings", "getCurrentTemplateId", "unlock", "editorSettings", "_templateId", "template", "hasResolved", "layout_default", "page_default", "getManipulateDocumentCommands", "revertTemplate", "TEMPLATE_PART_POST_TYPE", "TEMPLATE_POST_TYPE", "isTemplateRevertable", "label", "rotate_right_default", "rotate_left_default", "useCommands", "import_i18n", "import_block_editor", "import_data", "import_element", "import_jsx_runtime", "BlockRemovalWarningModal", "unlock", "blockEditorPrivateApis", "TEMPLATE_BLOCKS", "BLOCK_REMOVAL_RULES", "removedBlocks", "name", "attributes", "binding", "BlockRemovalWarnings", "currentPostType", "select", "store", "removalRulesForPostType", "rule", "import_components", "import_i18n", "import_element", "import_block_editor", "import_data", "import_core_data", "import_blocks", "import_preferences", "import_jsx_runtime", "useStartPatterns", "blockPatternsWithPostContentBlockType", "postType", "select", "getPatternsByBlockTypes", "getBlocksByName", "blockEditorStore", "getCurrentPostType", "getRenderingMode", "store", "rootClientId", "pattern", "PatternSelection", "blockPatterns", "onChoosePattern", "editEntityRecord", "coreStore", "postId", "getCurrentPostId", "BlockPatternsList", "_pattern", "blocks", "blocksForSerialization", "StartPageOptionsModal", "onClose", "showStartPatterns", "setShowStartPatterns", "setPreference", "preferencesStore", "startPatterns", "handleClose", "newValue", "StartPageOptions", "isOpen", "setIsOpen", "isEditedPostDirty", "isEditedPostEmpty", "isModalActive", "enabled", "choosePatternModalEnabled", "currentPostType", "ATTACHMENT_POST_TYPE", "TEMPLATE_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "isFreshPage", "isPreferencesModalActive", "import_components", "import_i18n", "import_keyboard_shortcuts", "import_data", "import_i18n", "textFormattingShortcuts", "import_element", "import_keycodes", "import_jsx_runtime", "KeyCombination", "keyCombination", "forceAriaLabel", "shortcut", "ariaLabel", "character", "index", "Shortcut", "description", "aliases", "Fragment", "alias", "shortcut_default", "import_data", "import_keyboard_shortcuts", "import_jsx_runtime", "DynamicShortcut", "name", "keyCombination", "description", "aliases", "select", "getShortcutKeyCombination", "getShortcutDescription", "getShortcutAliases", "keyboardShortcutsStore", "shortcut_default", "dynamic_shortcut_default", "import_jsx_runtime", "KEYBOARD_SHORTCUT_HELP_MODAL_NAME", "ShortcutList", "shortcuts", "shortcut", "index", "dynamic_shortcut_default", "shortcut_default", "ShortcutSection", "title", "className", "clsx_default", "ShortcutCategorySection", "categoryName", "additionalShortcuts", "categoryShortcuts", "select", "keyboardShortcutsStore", "KeyboardShortcutHelpModal", "isModalActive", "store", "openModal", "closeModal", "toggleModal", "textFormattingShortcuts", "keyboard_shortcut_help_modal_default", "import_components", "import_i18n", "import_element", "import_block_editor", "import_data", "import_blocks", "import_core_data", "import_jsx_runtime", "useFallbackTemplateContent", "slug", "isCustom", "select", "getEntityRecord", "getDefaultTemplateId", "coreStore", "templateId", "TEMPLATE_POST_TYPE", "useStartPatterns", "fallbackContent", "patterns", "getCurrentPostType", "getCurrentPostId", "store", "getBlockPatterns", "postId", "postType", "currentThemeStylesheet", "injectThemeAttributeInBlockTemplateContent", "block", "innerBlock", "pattern", "templateType", "PatternSelection", "onChoosePattern", "onChange", "blockPatterns", "BlockPatternsList", "blocks", "StartModal", "onClose", "StartTemplateOptions", "isClosed", "setIsClosed", "shouldOpenModal", "_postType", "_postId", "getEditedEntityRecord", "hasEditsForEntityRecord", "templateRecord", "import_keyboard_shortcuts", "import_data", "import_block_editor", "EditorKeyboardShortcuts", "isModeToggleDisabled", "select", "richEditingEnabled", "codeEditingEnabled", "store", "getBlockSelectionStart", "blockEditorStore", "getActiveComplementaryArea", "enableComplementaryArea", "disableComplementaryArea", "redo", "undo", "savePost", "setIsListViewOpened", "switchEditorMode", "toggleDistractionFree", "isEditedPostDirty", "isPostSavingLocked", "isListViewOpened", "getEditorMode", "event", "sidebarToOpen", "import_data", "import_block_editor", "import_data", "import_block_editor", "import_components", "import_i18n", "import_jsx_runtime", "ConvertToRegularBlocks", "clientId", "onClose", "getBlocks", "blockEditorStore", "replaceBlocks", "select", "import_data", "import_block_editor", "import_components", "import_blocks", "import_i18n", "import_element", "import_notices", "import_core_data", "import_jsx_runtime", "ConvertToTemplatePart", "clientIds", "blocks", "isModalOpen", "setIsModalOpen", "replaceBlocks", "blockEditorStore", "createSuccessNotice", "noticesStore", "isBlockBasedTheme", "canCreate", "select", "coreStore", "onConvert", "templatePart", "symbol_filled_default", "CreateTemplatePartModal", "import_jsx_runtime", "TemplatePartMenuItems", "selectedClientIds", "onClose", "TemplatePartConverterMenuItem", "clientIds", "blocks", "select", "getBlocksByClientId", "blockEditorStore", "ConvertToRegularBlocks", "ConvertToTemplatePart", "import_jsx_runtime", "ExperimentalBlockEditorProvider", "unlock", "blockEditorPrivateApis", "PatternsMenuItems", "editPatternsPrivateApis", "noop", "NON_CONTEXTUAL_POST_TYPES", "useBlockEditorProps", "post", "template", "mode", "rootLevelPost", "postBlocks", "onInput", "onChange", "templateBlocks", "onInputTemplate", "onChangeTemplate", "maybeNavigationBlocks", "blocks", "ExperimentalEditorProvider", "with_registry_provider_default", "settings", "recovery", "initialEdits", "children", "BlockEditorProviderComponent", "hasTemplate", "editorSettings", "selection", "isReady", "defaultMode", "postTypeEntities", "select", "getEditorSettings", "getEditorSelection", "getRenderingMode", "__unstableIsEditorReady", "getDefaultRenderingMode", "store", "getEntitiesConfig", "coreStore", "_mode", "_defaultMode", "hasResolvedDefaultMode", "isRenderingModeReady", "shouldRenderTemplate", "defaultBlockContext", "postContext", "postTypeNames", "entity", "match", "id", "type", "blockEditorSettings", "use_block_editor_settings_default", "updatePostLock", "setupEditor", "updateEditorSettings", "setCurrentTemplateId", "setEditedPost", "setRenderingMode", "createWarningNotice", "removeNotice", "noticesStore", "useHideBlocksFromInserter", "useCommands", "ATTACHMENT_POST_TYPE", "EditorKeyboardShortcuts", "keyboard_shortcut_help_modal_default", "TemplatePartMenuItems", "DisableNonPageContentBlocks", "NavigationBlockEditingMode", "BlockRemovalWarnings", "StartPageOptions", "StartTemplateOptions", "PatternRenameModal", "PatternDuplicateModal", "EditorProvider", "props", "provider_default", "import_core_data", "import_data", "import_element", "import_components", "import_blocks", "import_data", "import_block_editor", "import_element", "import_compose", "import_element", "import_element", "GlobalStylesContext", "import_jsx_runtime", "GlobalStylesProvider", "children", "value", "baseValue", "onChange", "fontLibraryEnabled", "merged", "mergeGlobalStyles", "contextValue", "GlobalStylesContext", "import_components", "import_i18n", "import_data", "import_core_data", "import_jsx_runtime", "IconWithCurrentColor", "className", "props", "icon_default", "clsx_default", "import_components", "import_jsx_runtime", "GenericNavigationButton", "icon", "children", "props", "Item", "HStack", "IconWithCurrentColor", "NavigationButtonAsItem", "import_components", "import_i18n", "import_block_editor", "o", "t", "a11y_default", "n", "r", "a", "i", "e", "v", "u", "d", "c", "import_element", "import_data", "import_core_data", "import_i18n", "removePropertiesFromObject", "object", "properties", "key", "filterObjectByProperties", "newObject", "newFilter", "isVariationWithProperties", "variation", "variationWithProperties", "areGlobalStylesEqual", "getFontFamilyFromSetting", "fontFamilies", "setting", "fontFamilySlug", "fontFamily", "getFontFamilies", "themeJson", "themeFontFamilies", "customFontFamilies", "bodyFontFamilySetting", "bodyFontFamily", "headingFontFamilySetting", "headingFontFamily", "getVariationClassName", "variation", "getNewIndexFromPresets", "presets", "slugPrefix", "nameRegex", "currentHighest", "preset", "matches", "id", "k", "a11y_default", "useStyle", "path", "blockName", "readFrom", "shouldDecodeEncode", "user", "base", "merged", "onChange", "GlobalStylesContext", "sourceValue", "styleValue", "getStyle", "setStyleValue", "newValue", "newGlobalStyles", "setStyle", "useSetting", "settingValue", "getSetting", "setSettingValue", "setSetting", "EMPTY_ARRAY", "hasThemeVariation", "title", "settings", "styles", "useCurrentMergeThemeStyleVariationsWithUserConfig", "properties", "variationsFromTheme", "select", "coreStore", "userVariation", "clonedUserVariation", "userVariationWithoutProperties", "removePropertiesFromObject", "variationsWithPropertiesAndBase", "variation", "isVariationWithProperties", "mergeGlobalStyles", "variationsByProperties", "useColorRandomizer", "blockName", "themeColors", "setThemeColors", "useSetting", "randomizeColors", "randomRotationValue", "newColors", "colorObject", "color", "newColor", "w", "import_private_apis", "lock", "unlock", "import_jsx_runtime", "useHasDimensionsPanel", "useHasTypographyPanel", "useHasColorPanel", "useSettingsForBlockElement", "useHasBackgroundPanel", "unlock", "blockEditorPrivateApis", "RootMenu", "rawSettings", "useSetting", "settings", "hasBackgroundPanel", "hasTypographyPanel", "hasColorPanel", "hasShadowPanel", "hasLayoutPanel", "ItemGroup", "NavigationButtonAsItem", "typography_default", "color_default", "background_default", "shadow_default", "layout_default", "root_menu_default", "import_components", "useStylesPreviewColors", "textColor", "useStyle", "backgroundColor", "headingColor", "linkColor", "buttonBackgroundColor", "coreColors", "useSetting", "themeColors", "customColors", "paletteColors", "textColorObject", "color", "buttonBackgroundColorObject", "highlightedColors", "import_element", "import_components", "import_i18n", "findNearest", "input", "numbers", "a", "b", "extractFontWeights", "fontFaces", "result", "face", "weights", "start", "end", "i", "formatFontFamily", "regex", "output", "formatItem", "item", "formatFontFaceName", "getFamilyPreviewStyle", "family", "style", "normalFaces", "normalWeights", "nearestWeight", "getFacePreviewStyle", "import_jsx_runtime", "PreviewTypography", "fontSize", "variation", "base", "GlobalStylesContext", "config", "textColor", "useStyle", "bodyFontFamilies", "headingFontFamilies", "getFontFamilies", "bodyPreviewStyle", "getFamilyPreviewStyle", "headingPreviewStyle", "motion", "import_components", "import_jsx_runtime", "HighlightedColors", "normalizedColorSwatchSize", "ratio", "highlightedColors", "useStylesPreviewColors", "scaledSwatchSize", "slug", "color", "index", "motion", "import_components", "import_compose", "import_element", "import_jsx_runtime", "normalizedWidth", "normalizedHeight", "THROTTLE_OPTIONS", "PreviewWrapper", "children", "label", "isFocused", "withHoverView", "backgroundColor", "useStyle", "gradientValue", "disableMotion", "isHovered", "setIsHovered", "containerResizeListener", "width", "throttledWidth", "setThrottledWidthState", "ratioState", "setRatioState", "setThrottledWidth", "newRatio", "ratioDiff", "fallbackRatio", "ratio", "motion", "child", "key", "preview_wrapper_default", "import_jsx_runtime", "firstFrameVariants", "midFrameVariants", "secondFrameVariants", "PreviewStyles", "label", "isFocused", "withHoverView", "variation", "fontWeight", "useStyle", "fontFamily", "headingFontFamily", "headingFontWeight", "textColor", "headingColor", "paletteColors", "useStylesPreviewColors", "preview_wrapper_default", "ratio", "key", "motion", "HStack", "PreviewTypography", "VStack", "HighlightedColors", "color", "index", "preview_styles_default", "import_jsx_runtime", "ScreenRoot", "hasVariations", "select", "__experimentalGetCurrentThemeGlobalStylesVariations", "coreStore", "VStack", "preview_styles_default", "ItemGroup", "NavigationButtonAsItem", "HStack", "IconWithCurrentColor", "chevron_left_default", "chevron_right_default", "root_menu_default", "Spacer", "screen_root_default", "import_blocks", "import_i18n", "import_components", "import_data", "import_element", "import_block_editor", "import_compose", "import_a11y", "import_blocks", "import_data", "import_components", "import_jsx_runtime", "getFilteredBlockStyles", "blockStyles", "variations", "style", "useBlockVariations", "name", "select", "getBlockStyles", "blocksStore", "useStyle", "variationNames", "VariationsPanel", "coreBlockStyles", "ItemGroup", "index", "NavigationButtonAsItem", "import_components", "import_i18n", "import_jsx_runtime", "ScreenHeader", "title", "description", "onBack", "VStack", "View", "Spacer", "HStack", "chevron_right_default", "chevron_left_default", "Heading", "Text", "import_jsx_runtime", "useHasDimensionsPanel", "useHasTypographyPanel", "useHasBorderPanel", "useSettingsForBlockElement", "useHasColorPanel", "unlock", "blockEditorPrivateApis", "useSortedBlockTypes", "blockItems", "select", "blocksStore", "groupByType", "blocks", "block", "core", "noncore", "coreItems", "nonCoreItems", "useBlockHasGlobalStyles", "blockName", "rawSettings", "useSetting", "settings", "hasTypographyPanel", "hasColorPanel", "hasBorderPanel", "hasDimensionsPanel", "hasLayoutPanel", "hasVariationsPanel", "useBlockVariations", "BlockMenuItem", "NavigationButtonAsItem", "HStack", "BlockList", "filterValue", "sortedBlockTypes", "debouncedSpeak", "isMatchingSearchTerm", "filteredBlockTypes", "blockType", "blockTypesListRef", "count", "resultsFoundMessage", "Text", "MemoizedBlockList", "ScreenBlockList", "setFilterValue", "deferredFilterValue", "ScreenHeader", "screen_block_list_default", "import_blocks", "import_block_editor", "import_element", "import_data", "import_core_data", "import_components", "import_i18n", "import_block_editor", "import_blocks", "import_components", "import_element", "import_jsx_runtime", "BlockPreviewPanel", "name", "variation", "blockExample", "blocks", "example", "getVariationClassName", "viewportWidth", "previewHeight", "scale", "minHeight", "Spacer", "block_preview_panel_default", "import_components", "import_jsx_runtime", "Subtitle", "children", "level", "Heading", "import_jsx_runtime", "BACKGROUND_BLOCK_DEFAULT_VALUES", "applyFallbackStyle", "border", "hasColorOrWidth", "applyAllFallbackStyles", "hasSplitBorders", "useHasDimensionsPanel", "useHasTypographyPanel", "useHasBorderPanel", "useSettingsForBlockElement", "useHasColorPanel", "useHasFiltersPanel", "useHasImageSettingsPanel", "useHasBackgroundPanel", "StylesBackgroundPanel", "StylesBorderPanel", "StylesColorPanel", "StylesTypographyPanel", "StylesDimensionsPanel", "StylesFiltersPanel", "ImageSettingsPanel", "StylesAdvancedPanel", "unlock", "blockEditorPrivateApis", "ScreenBlock", "name", "variation", "prefixParts", "prefix", "style", "useStyle", "inheritedStyle", "setStyle", "userSettings", "useSetting", "rawSettings", "setSettings", "settingsForBlockElement", "blockType", "disableBlockGap", "spacingType", "disableAspectRatio", "settings", "updatedSettings", "blockVariations", "useBlockVariations", "hasBackgroundPanel", "hasTypographyPanel", "hasColorPanel", "hasBorderPanel", "hasDimensionsPanel", "hasFiltersPanel", "hasImageSettingsPanel", "hasVariationsPanel", "canEditCSS", "select", "getEntityRecord", "__experimentalGetCurrentGlobalStylesId", "coreStore", "globalStylesId", "currentBlockStyle", "s", "inheritedStyleWithLayout", "styleWithLayout", "onChangeDimensions", "newStyle", "updatedStyle", "onChangeLightbox", "newSetting", "onChangeBorders", "radius", "newBorder", "updatedBorder", "ScreenHeader", "block_preview_panel_default", "VStack", "Subtitle", "VariationsPanel", "screen_block_default", "import_i18n", "import_components", "import_element", "import_components", "import_jsx_runtime", "ScreenBody", "children", "className", "Spacer", "clsx_default", "import_i18n", "import_components", "import_jsx_runtime", "ElementItem", "parentMenu", "element", "label", "prefix", "extraStyles", "fontFamily", "useStyle", "fontStyle", "fontWeight", "backgroundColor", "fallbackBackgroundColor", "gradientValue", "color", "NavigationButtonAsItem", "HStack", "TypographyElements", "VStack", "Subtitle", "ItemGroup", "typography_elements_default", "import_components", "import_components", "import_jsx_runtime", "StylesPreviewTypography", "variation", "isFocused", "withHoverView", "preview_wrapper_default", "ratio", "key", "HStack", "PreviewTypography", "preview_typography_default", "import_components", "import_element", "import_keycodes", "import_i18n", "import_jsx_runtime", "Variation", "variation", "children", "isPill", "properties", "showTooltip", "isFocused", "setIsFocused", "base", "user", "setUserConfig", "GlobalStylesContext", "context", "merged", "mergeGlobalStyles", "filterObjectByProperties", "selectVariation", "selectOnEnter", "event", "isActive", "areGlobalStylesEqual", "label", "content", "clsx_default", "import_jsx_runtime", "propertiesToFilter", "TypographyVariations", "title", "gap", "typographyVariations", "useCurrentMergeThemeStyleVariationsWithUserConfig", "VStack", "Subtitle", "Grid", "variation", "index", "Variation", "preview_typography_default", "import_i18n", "import_components", "import_element", "import_element", "import_data", "import_core_data", "import_i18n", "import_api_fetch", "import_core_data", "FONT_FAMILIES_URL", "invalidateFontFamilyCache", "registry", "receiveEntityRecords", "coreDataStore", "fetchInstallFontFamily", "data", "response", "apiFetch", "fetchInstallFontFace", "fontFamilyId", "config", "import_components", "import_i18n", "ALLOWED_FILE_EXTENSIONS", "FONT_WEIGHTS", "FONT_STYLES", "File", "kebabCase", "unlock", "componentsPrivateApis", "setUIValuesNeeded", "font", "extraValues", "isUrlEncoded", "url", "getFontFaceVariantName", "face", "weightName", "FONT_WEIGHTS", "styleName", "FONT_STYLES", "mergeFontFaces", "existing", "incoming", "map", "mergeFontFamilies", "incomingFontFaces", "restIncoming", "existingFont", "mergedFontFaces", "loadFontFaceInBrowser", "fontFace", "source", "addTo", "dataSource", "loadedFace", "formatFontFaceName", "iframe", "unloadFontFaceInBrowser", "removeFrom", "unloadFontFace", "fonts", "f", "getDisplaySrcFromFontFace", "input", "src", "makeFontFamilyFormData", "fontFamily", "formData", "category", "familyWithValidParameters", "fontFamilySettings", "makeFontFacesFormData", "item", "faceIndex", "files", "file", "key", "fileId", "batchInstallFontFaces", "fontFamilyId", "fontFacesData", "registry", "responses", "faceData", "response", "fetchInstallFontFace", "error", "results", "result", "index", "downloadFontFaceAssets", "blob", "filename", "checkFontFaceInstalled", "collection", "collectionFontFace", "setImmutably", "object", "path", "value", "leaf", "prev", "key", "lvl", "toggleFont", "font", "face", "initialfonts", "isFontActivated", "f", "getActivatedFont", "fonts", "toggleEntireFontFamily", "activatedFont", "toggleFontVariant", "isFaceActivated", "newFontFaces", "import_jsx_runtime", "FontLibraryContext", "FontLibraryProvider", "children", "registry", "saveEntityRecord", "deleteEntityRecord", "coreStore", "globalStylesId", "select", "__experimentalGetCurrentGlobalStylesId", "globalStyles", "isInstalling", "setIsInstalling", "libraryPosts", "isResolvingLibrary", "libraryFonts", "fontFamilyPost", "face", "fontFamilies", "setFontFamilies", "useSetting", "saveFontFamilies", "fonts", "updatedGlobalStyles", "finalGlobalStyles", "setImmutably", "modalTabOpen", "setModalTabOpen", "libraryFontSelected", "setLibraryFontSelected", "themeFonts", "f", "setUIValuesNeeded", "a", "b", "customFonts", "baseCustomFonts", "handleSetLibraryFontSelected", "font", "fontSelected", "loadedFontUrls", "getAvailableFontsOutline", "availableFontFamilies", "acc", "availableFontFaces", "getActivatedFontsOutline", "source", "isFontActivated", "slug", "style", "weight", "getFontFacesActivated", "installFonts", "fontFamiliesToInstall", "fontFamiliesToActivate", "installationErrors", "fontFamilyToInstall", "isANewFontFamily", "fontFamilyRecords", "installedFontFamily", "fetchInstallFontFamily", "makeFontFamilyFormData", "alreadyInstalledFontFaces", "fontFaceToInstall", "checkFontFaceInstalled", "successfullyInstalledFontFaces", "unsuccessfullyInstalledFontFaces", "response", "batchInstallFontFaces", "makeFontFacesFormData", "installationErrorMessages", "unique", "item", "activeFonts", "activateCustomFontFamilies", "installError", "uninstallFontFamily", "fontFamilyToUninstall", "deactivateFontFamily", "error", "newCustomFonts", "unloadFontFaceInBrowser", "fontsToAdd", "fontsToActivate", "cleanFontsForSave", "mergeFontFamilies", "loadFontsInBrowser", "_familyDbId", "fontFace", "_faceDbId", "displaySrc", "getDisplaySrcFromFontFace", "loadFontFaceInBrowser", "toggleActivateFont", "initialFonts", "newFonts", "toggleFont", "isFaceActivated", "loadFontFaceAsset", "src", "context_default", "import_i18n", "import_components", "import_core_data", "import_data", "import_components", "import_core_data", "import_data", "import_element", "import_i18n", "import_i18n", "import_components", "import_components", "import_element", "import_jsx_runtime", "getPreviewUrl", "fontFace", "getDisplayFontFace", "font", "face", "FontDemo", "text", "ref", "style", "getFamilyPreviewStyle", "customPreviewUrl", "isIntersecting", "setIsIntersecting", "isAssetLoaded", "setIsAssetLoaded", "loadFontFaceAsset", "FontLibraryContext", "previewUrl", "isPreviewImage", "faceStyles", "getFacePreviewStyle", "textDemoStyle", "observer", "entry", "Text", "font_demo_default", "import_jsx_runtime", "FontCard", "font", "onClick", "variantsText", "navigatorPath", "variantsCount", "style", "navigator", "font_demo_default", "Text", "icon_default", "chevron_left_default", "chevron_right_default", "font_card_default", "import_element", "import_components", "import_jsx_runtime", "LibraryFontVariant", "face", "font", "isFontActivated", "toggleActivateFont", "FontLibraryContext", "isInstalled", "handleToggleActivation", "displayName", "getFontFaceVariantName", "checkboxId", "font_demo_default", "library_font_variant_default", "getNumericFontWeight", "value", "sortFontFaces", "faces", "a", "b", "import_jsx_runtime", "InstalledFonts", "baseCustomFonts", "libraryFontSelected", "handleSetLibraryFontSelected", "uninstallFontFamily", "isResolvingLibrary", "isInstalling", "saveFontFamilies", "getFontFacesActivated", "FontLibraryContext", "fontFamilies", "setFontFamilies", "useSetting", "isConfirmDeleteOpen", "setIsConfirmDeleteOpen", "notice", "setNotice", "baseFontFamilies", "globalStylesId", "select", "__experimentalGetCurrentGlobalStylesId", "coreStore", "fontFamiliesHasChanges", "themeFonts", "f", "setUIValuesNeeded", "a", "b", "themeFontsSlugs", "baseThemeFonts", "customFontFamilyId", "canUserDelete", "canUser", "shouldDisplayDeleteButton", "handleUninstallClick", "handleUpdate", "error", "getFontFacesToDisplay", "font", "sortFontFaces", "getFontCardVariantsText", "variantsInstalled", "variantsActive", "activeFontsCount", "selectedFontsCount", "isIndeterminate", "isSelectAllChecked", "toggleSelectAll", "initialFonts", "newFonts", "face", "unloadFontFaceInBrowser", "displaySrc", "getDisplaySrcFromFontFace", "loadFontFaceInBrowser", "hasFonts", "VStack", "Text", "font_card_default", "ConfirmDeleteDialog", "chevron_right_default", "chevron_left_default", "Heading", "Spacer", "i", "library_font_variant_default", "HStack", "isOpen", "setIsOpen", "navigator", "handleConfirmUninstall", "handleCancelUninstall", "ConfirmDialog", "installed_fonts_default", "import_element", "import_components", "import_compose", "import_i18n", "import_core_data", "filterFonts", "fonts", "filters", "category", "search", "filteredFonts", "font", "getFontsOutline", "fonts", "acc", "font", "faces", "face", "isFontFontFaceInOutline", "slug", "outline", "import_i18n", "import_components", "import_jsx_runtime", "GoogleFontsConfirmDialog", "handleConfirm", "Heading", "Spacer", "Text", "google_fonts_confirm_dialog_default", "import_element", "import_components", "import_jsx_runtime", "CollectionFontVariant", "face", "font", "handleToggleVariant", "selected", "handleToggleActivation", "displayName", "getFontFaceVariantName", "checkboxId", "font_demo_default", "collection_font_variant_default", "import_jsx_runtime", "DEFAULT_CATEGORY", "LOCAL_STORAGE_ITEM", "MIN_WINDOW_HEIGHT", "FontCollection", "slug", "requiresPermission", "getGoogleFontsPermissionFromStorage", "selectedFont", "setSelectedFont", "notice", "setNotice", "fontsToInstall", "setFontsToInstall", "page", "setPage", "filters", "setFilters", "renderConfirmDialog", "setRenderConfirmDialog", "installFonts", "isInstalling", "FontLibraryContext", "selectedCollection", "isLoading", "handleStorage", "revokeAccess", "collectionFonts", "collectionCategories", "categories", "fonts", "filterFonts", "windowHeight", "pageSize", "totalPages", "itemsStart", "itemsLimit", "items", "handleCategoryFilter", "category", "debouncedUpdateSearchInput", "value", "handleToggleVariant", "font", "face", "newFontsToInstall", "toggleFont", "fontToInstallOutline", "getFontsOutline", "resetFontsToInstall", "selectFontCount", "isIndeterminate", "isSelectAllChecked", "toggleSelectAll", "newFonts", "handleInstall", "fontFamily", "fontFace", "downloadFontFaceAssets", "error", "getSortedFontFaces", "sortFontFaces", "google_fonts_confirm_dialog_default", "ActionsComponent", "more_vertical_default", "HStack", "VStack", "Heading", "Text", "Spacer", "font_card_default", "chevron_right_default", "chevron_left_default", "i", "collection_font_variant_default", "isFontFontFaceInOutline", "e", "newPage", "next_default", "previous_default", "font_collection_default", "import_i18n", "import_components", "import_element", "unbrotli_default", "define", "module", "exports", "r", "e", "n", "t", "o", "i", "f", "c", "__require", "u", "a", "p", "require", "BROTLI_READ_SIZE", "BROTLI_IBUF_SIZE", "BROTLI_IBUF_MASK", "kBitMask", "BrotliBitReader", "input", "dst", "bytes_read", "n_bits", "val", "CONTEXT_LSB6", "CONTEXT_MSB6", "CONTEXT_UTF8", "CONTEXT_SIGNED", "BrotliInput", "BrotliOutput", "BrotliDictionary", "HuffmanCode", "BrotliBuildHuffmanTable", "Context", "Prefix", "Transform", "kDefaultCodeLength", "kCodeLengthRepeatCode", "kNumLiteralCodes", "kNumInsertAndCopyCodes", "kNumBlockLengthCodes", "kLiteralContextBits", "kDistanceContextBits", "HUFFMAN_TABLE_BITS", "HUFFMAN_TABLE_MASK", "HUFFMAN_MAX_TABLE_SIZE", "CODE_LENGTH_CODES", "kCodeLengthCodeOrder", "NUM_DISTANCE_SHORT_CODES", "kDistanceShortCodeIndexOffset", "kDistanceShortCodeValueOffset", "kMaxHuffmanTableSize", "DecodeWindowBits", "br", "DecodeVarLenUint8", "nbits", "MetaBlockLength", "DecodeMetaBlockLength", "out", "size_nibbles", "size_bytes", "next_byte", "next_nibble", "ReadSymbol", "table", "index", "start_index", "ReadHuffmanCodeLengths", "code_length_code_lengths", "num_symbols", "code_lengths", "symbol", "prev_code_len", "repeat", "repeat_code_len", "space", "code_len", "extra_bits", "old_repeat", "repeat_delta", "new_len", "x", "ReadHuffmanCode", "alphabet_size", "tables", "table_size", "simple_code_or_skip", "max_bits_counter", "max_bits", "symbols", "num_codes", "huff", "code_len_idx", "v", "ReadBlockLength", "code", "TranslateShortCodes", "ringbuffer", "MoveToFront", "value", "InverseMoveToFrontTransform", "v_len", "mtf", "HuffmanTreeGroup", "num_htrees", "next", "DecodeContextMap", "context_map_size", "use_rle_for_zeros", "max_run_length_prefix", "context_map", "reps", "DecodeBlockType", "max_block_type", "trees", "tree_type", "block_types", "ringbuffers", "indexes", "type_code", "block_type", "CopyUncompressedBlockToOutput", "output", "len", "pos", "ringbuffer_mask", "rb_size", "rb_pos", "br_pos", "nbytes", "tail", "JumpToByteBoundary", "new_bit_pos", "pad_bits", "BrotliDecompressedSize", "buffer", "BrotliDecompressBuffer", "output_size", "output_buffer", "BrotliDecompress", "input_end", "window_bits", "max_backward_distance", "max_distance", "ringbuffer_size", "ringbuffer_end", "dist_rb", "dist_rb_idx", "prev_byte1", "prev_byte2", "hgroup", "block_type_trees", "block_len_trees", "kRingBufferWriteAheadSlack", "meta_block_remaining_len", "is_uncompressed", "block_length", "num_block_types", "block_type_rb", "block_type_rb_index", "distance_postfix_bits", "num_direct_distance_codes", "distance_postfix_mask", "num_distance_codes", "context_modes", "num_literal_htrees", "dist_context_map", "num_dist_htrees", "context_offset", "context_map_slice", "literal_htree_index", "dist_context_offset", "dist_context_map_slice", "dist_htree_index", "context_lookup_offset1", "context_lookup_offset2", "context_mode", "htree_command", "_out", "tmp", "_o1", "_o2", "cmd_code", "range_idx", "insert_code", "copy_code", "insert_length", "copy_length", "distance_code", "distance", "context", "j", "copy_dst", "postfix", "offset", "word_id", "shift", "mask", "word_idx", "transform_idx", "_x", "base64", "compressed", "data", "bits", "MAX_LENGTH", "GetNextKey", "key", "step", "ReplicateValue", "end", "NextTableBitSize", "count", "root_bits", "left", "root_table", "code_lengths_size", "start_table", "low", "table_bits", "total_size", "sorted", "byteLength", "toByteArray", "fromByteArray", "lookup", "revLookup", "Arr", "getLens", "b64", "validLen", "placeHoldersLen", "lens", "_byteLength", "arr", "curByte", "tripletToBase64", "num", "encodeChunk", "uint8", "start", "extraBytes", "parts", "maxChunkLength", "len2", "PrefixCodeRange", "buf", "kIdentity", "kOmitLast1", "kOmitLast2", "kOmitLast3", "kOmitLast4", "kOmitLast5", "kOmitLast6", "kOmitLast7", "kOmitLast8", "kOmitLast9", "kUppercaseFirst", "kUppercaseAll", "kOmitFirst1", "kOmitFirst2", "kOmitFirst3", "kOmitFirst4", "kOmitFirst5", "kOmitFirst6", "kOmitFirst7", "kOmitFirst8", "kOmitFirst9", "prefix", "transform", "suffix", "kTransforms", "ToUpperCase", "idx", "word", "skip", "start_idx", "uppercase", "prefix_pos", "suffix_pos", "inflate_default", "define", "module", "exports", "r", "e", "n", "t", "o", "i", "f", "c", "__require", "u", "a", "p", "require", "TYPED_OK", "_has", "obj", "key", "sources", "source", "buf", "size", "fnTyped", "dest", "src", "src_offs", "len", "dest_offs", "chunks", "l", "pos", "chunk", "result", "fnUntyped", "on", "utils", "STR_APPLY_OK", "STR_APPLY_UIA_OK", "_utf8len", "q", "str", "c2", "m_pos", "str_len", "buf_len", "buf2binstring", "max", "out", "c_len", "utf16buf", "adler32", "adler", "s1", "s2", "makeTable", "table", "k", "crcTable", "crc32", "crc", "end", "GZheader", "BAD", "TYPE", "strm", "start", "state", "_in", "last", "_out", "beg", "dmax", "wsize", "whave", "wnext", "s_window", "hold", "bits", "lcode", "dcode", "lmask", "dmask", "here", "op", "dist", "from", "from_source", "input", "output", "top", "dolen", "dodist", "inflate_fast", "inflate_table", "CODES", "LENS", "DISTS", "Z_FINISH", "Z_BLOCK", "Z_TREES", "Z_OK", "Z_STREAM_END", "Z_NEED_DICT", "Z_STREAM_ERROR", "Z_DATA_ERROR", "Z_MEM_ERROR", "Z_BUF_ERROR", "Z_DEFLATED", "HEAD", "FLAGS", "TIME", "OS", "EXLEN", "EXTRA", "NAME", "COMMENT", "HCRC", "DICTID", "DICT", "TYPEDO", "STORED", "COPY_", "COPY", "TABLE", "LENLENS", "CODELENS", "LEN_", "LEN", "LENEXT", "DIST", "DISTEXT", "MATCH", "LIT", "CHECK", "LENGTH", "DONE", "MEM", "SYNC", "ENOUGH_LENS", "ENOUGH_DISTS", "MAX_WBITS", "DEF_WBITS", "zswap32", "InflateState", "inflateResetKeep", "inflateReset", "inflateReset2", "windowBits", "wrap", "inflateInit2", "ret", "inflateInit", "virgin", "lenfix", "distfix", "fixedtables", "sym", "updatewindow", "copy", "inflate", "flush", "next", "put", "have", "left", "here_bits", "here_op", "here_val", "last_bits", "last_op", "last_val", "hbuf", "opts", "order", "inf_leave", "inflateEnd", "inflateGetHeader", "head", "inflateSetDictionary", "dictionary", "dictLength", "dictid", "MAXBITS", "lbase", "lext", "dbase", "dext", "type", "lens", "lens_index", "codes", "table_index", "work", "min", "root", "curr", "drop", "used", "huff", "incr", "fill", "low", "mask", "base", "base_index", "count", "offs", "extra", "extra_index", "ZStream", "zlib_inflate", "strings", "msg", "toString", "Inflate", "options", "opt", "status", "data", "mode", "chunkSize", "_mode", "next_out_utf8", "tail", "utf8str", "allowBufError", "inflator", "inflateRaw", "fetchFunction", "Event", "type", "detail", "msg", "EventManager", "listener", "useCapture", "bin", "pos", "e", "event", "l", "startDate", "asText", "data", "v", "Parser", "dict", "dataview", "name", "fn", "increment", "position", "n", "bits", "t", "major", "minor", "value", "i", "byte", "integer", "fraction", "signed", "slice", "ParsedData", "parser", "start", "struct", "p", "props", "SimpleTable", "lazy$1", "object", "property", "getter", "val", "SFNT", "font", "createTable", "_", "TableRecord", "entry", "gzipDecode", "inflate_default", "nativeGzipDecode", "WOFF$1", "WoffTableDirectoryEntry", "buildWoffLazyLookups", "woff", "offset", "view", "unpacked", "brotliDecode", "unbrotli_default", "nativeBrotliDecode", "WOFF2$1", "Woff2TableDirectoryEntry", "dictOffset", "next", "decoded", "buffer", "buildWoff2LazyLookups", "tagNumber", "getWOFF2Tag", "hasTransforms", "woff2", "end", "flag", "tableClasses", "tableClassesLoaded", "cmap$1", "head$1", "hhea$1", "hmtx$1", "maxp$1", "name$1", "OS2$1", "post$1", "BASE$1", "GDEF$1", "GSUB$1", "GPOS$1", "SVG$1", "fvar$1", "cvt$1", "fpgm$1", "gasp$1", "glyf$1", "loca$1", "prep$1", "CFF$1", "CFF2$1", "VORG$1", "EBLC$1", "EBDT$1", "EBSC$1", "CBLC$1", "CBDT$1", "sbix$1", "COLR$1", "CPAL$1", "DSIG$1", "hdmx$1", "kern$1", "LTSH$1", "MERG$1", "meta$1", "PCLT$1", "VDMX$1", "vhea$1", "vmtx$1", "tables", "Type", "loadTableClasses", "count", "checkLoaded", "resolve", "reject", "getFontCSSFormat", "path", "errorOnStyle", "ext", "format", "setupFontFace", "url", "options", "style", "rules", "key", "TTF", "OTF", "WOFF", "WOFF2", "match", "ar1", "ar2", "validFontFormat", "LEAD_BYTES", "checkFetchResponseStatus", "response", "Font", "src", "filename", "err", "evt", "filenameOrUrL", "char", "glyphid", "variation", "text", "size", "d", "bbox", "OS2", "Subtable", "plaformID", "encodingID", "Format0", "platformID", "charCode", "glyphID", "Format2", "subHeaderCount", "subHeaderOffset", "SubHeader", "glyphIndexOffset", "low", "high", "subHeaderKey", "subheader", "first", "last", "preservePropNames", "h", "Format4", "endCodePosition", "startCodePosition", "idDeltaPosition", "idRangePosition", "glyphIdArrayPosition", "glyphIdArrayLength", "build", "startCode", "endCode", "idDelta", "idRangeOffset", "idRangeOffsetPointer", "glyphIDs", "s", "code", "segment", "Format6", "Format8", "SequentialMapGroup$1", "Format10", "Format12", "SequentialMapGroup", "group", "Format13", "ConstantMapGroup", "Format14", "VariationSelector", "uvs", "createSubTable", "cmap", "EncodingRecord", "tableID", "r", "recordID", "tableStart", "head", "hhea", "hmtx", "numberOfHMetrics", "numGlyphs", "metricsStart", "LongHorMetric", "lsbStart", "w", "b", "maxp", "NameRecord", "LangTagRecord", "nameID", "record", "length", "nameTable", "decodeString", "str", "bytes", "post", "macStrings", "bytelength", "index", "len", "BASE", "AxisTable", "BaseTagListTable", "BaseScriptListTable", "recordStart", "BaseScriptRecord", "baseScriptListTableStart", "BaseScriptTable", "BaseLangSysRecord", "BaseValuesTable", "MinMaxTable", "baseScriptTableStart", "id", "BaseCoordTable", "FeatMinMaxRecord", "ClassDefinition", "ClassRangeRecord", "CoverageTable", "CoverageRangeRecord", "ItemVariationStoreTable", "table", "GDEF", "AttachList", "LigCaretList", "MarkGlyphSetsTable", "pointID", "AttachPoint", "ligGlyphID", "LigGlyph", "caretID", "CaretValue", "markGlyphSetID", "ScriptList", "ScriptRecord", "ScriptTable", "LangSysRecord", "LangSysTable", "FeatureList", "FeatureRecord", "FeatureTable", "tag", "Size", "CharacterVariant", "StylisticSet", "undoCoverageOffsetParsing", "instance", "LookupType$1", "SubstLookupRecord", "LookupType1$1", "LookupType2$1", "SequenceTable", "LookupType3$1", "AlternateSetTable", "LookupType4$1", "LigatureSetTable", "LigatureTable", "LookupType5$1", "SubRuleSetTable", "SubClassSetTable", "SubRuleTable", "SubClassRuleTable", "LookupType6$1", "SequenceLookupRecord", "ChainSubRuleSetTable", "ChainSubClassSetTable", "ChainSubRuleTable", "ChainSubClassRuleTable", "LookupType7$1", "LookupType8$1", "GSUBtables", "subtable", "LookupType", "LookupType1", "LookupType2", "LookupType3", "LookupType4", "LookupType5", "LookupType6", "LookupType7", "LookupType8", "LookupType9", "GPOStables", "LookupList", "LookupTable", "builder", "CommonLayoutTable", "no_content", "scriptTag", "arg", "scriptTable", "hasDefault", "supported", "langSysTag", "langSysTable", "indexOrTag", "f", "featureTable", "lookupIndex", "lookupOffset", "GSUB", "GPOS", "SVG", "SVGDocumentList", "SVGDocumentRecord", "documentID", "fvar", "axisStart", "VariationAxisRecord", "instanceStart", "instances", "InstanceRecord", "a", "axisCount", "cvt", "fpgm", "gasp", "GASPRange", "glyf", "loca", "nextOffset", "prep", "CFF", "CFF2", "VORG", "VertOriginYMetric", "BitmapSize", "SbitLineMetrics", "BitmapScale", "EBLC", "EBDT", "EBSC", "CBLC", "CBDT", "sbix", "COLR", "BaseGlyphRecord", "firstID", "lastID", "mid", "middle", "midID", "LayerRecord", "CPAL", "numPalettes", "ColorRecord", "PaletteTypeArray", "PaletteLabelsArray", "PaletteEntryLabelArray", "DSIG", "SignatureRecord", "signatureID", "SignatureBlockFormat1", "hdmx", "DeviceRecord", "kern", "KernSubTable", "Pair", "LTSH", "MERG", "meta", "DataMap", "PCLT", "VDMX", "RatioRange", "VDMXGroup", "vTable", "vhea", "vmtx", "numOfLongVerMetrics", "LongVertMetric", "tsbStart", "import_components", "kebabCase", "unlock", "componentsPrivateApis", "makeFamiliesFromFaces", "fontFaces", "fontFamiliesObject", "acc", "item", "import_jsx_runtime", "UploadFonts", "installFonts", "FontLibraryContext", "isUploading", "setIsUploading", "notice", "setNotice", "handleDropZone", "files", "handleFilesUpload", "onFilesUpload", "event", "uniqueFilenames", "selectedFiles", "hasInvalidFiles", "checkFilesPromises", "file", "isFontFile", "fileExtension", "ALLOWED_FILE_EXTENSIONS", "allowedFiles", "loadFiles", "message", "fontFacesLoaded", "fontFile", "fontFaceData", "getFontFaceMetadata", "loadFontFaceInBrowser", "handleInstall", "font", "Font", "buffer", "readFileAsArrayBuffer", "resolve", "reject", "reader", "fontObj", "name", "fontName", "isItalic", "fontWeight", "weightAxis", "tag", "weightRange", "fontFaces", "fontFamilies", "makeFamiliesFromFaces", "error", "typedError", "VStack", "index", "ext", "openFileDialog", "Text", "upload_fonts_default", "import_jsx_runtime", "Tabs", "unlock", "componentsPrivateApis", "DEFAULT_TAB", "UPLOAD_TAB", "tabsFromCollections", "collections", "slug", "name", "FontLibraryModal", "onRequestClose", "defaultTabId", "canUserCreate", "select", "coreStore", "tabs", "id", "title", "contents", "upload_fonts_default", "installed_fonts_default", "font_collection_default", "modal_default", "import_i18n", "import_components", "import_element", "import_jsx_runtime", "FontFamilyItem", "font", "handleSetLibraryFontSelected", "setModalTabOpen", "FontLibraryContext", "variantsCount", "handleClick", "previewStyle", "getFamilyPreviewStyle", "Item", "HStack", "font_family_item_default", "import_jsx_runtime", "mapFontsWithSource", "fonts", "source", "f", "setUIValuesNeeded", "FontFamiliesInner", "baseCustomFonts", "modalTabOpen", "setModalTabOpen", "FontLibraryContext", "fontFamilies", "useSetting", "baseFontFamilies", "themeFonts", "customFonts", "activeFonts", "a", "b", "hasFonts", "hasInstalledFonts", "modal_default", "VStack", "HStack", "Subtitle", "settings_default", "ItemGroup", "font", "font_family_item_default", "Text", "FontFamilies", "props", "context_default", "import_i18n", "import_components", "import_jsx_runtime", "FontSizes", "VStack", "HStack", "Subtitle", "ItemGroup", "NavigationButtonAsItem", "icon_default", "chevron_left_default", "chevron_right_default", "font_sizes_count_default", "import_jsx_runtime", "ScreenTypography", "fontLibraryEnabled", "GlobalStylesContext", "ScreenHeader", "ScreenBody", "VStack", "TypographyVariations", "FontFamilies", "typography_elements_default", "font_sizes_count_default", "screen_typography_default", "import_i18n", "import_components", "import_element", "import_block_editor", "import_jsx_runtime", "useSettingsForBlockElement", "StylesTypographyPanel", "unlock", "blockEditorPrivateApis", "TypographyPanel", "element", "headingLevel", "prefixParts", "prefix", "style", "useStyle", "inheritedStyle", "setStyle", "rawSettings", "useSetting", "settings", "import_jsx_runtime", "TypographyPreview", "name", "element", "headingLevel", "prefix", "fontFamily", "useStyle", "gradientValue", "backgroundColor", "fallbackBackgroundColor", "color", "fontSize", "fontStyle", "fontWeight", "letterSpacing", "import_jsx_runtime", "elements", "ScreenTypographyElement", "element", "headingLevel", "setHeadingLevel", "ScreenHeader", "Spacer", "TypographyPreview", "ToggleGroupControl", "value", "ToggleGroupControlOption", "TypographyPanel", "screen_typography_element_default", "import_i18n", "import_components", "import_block_editor", "import_components", "import_i18n", "import_element", "import_components", "import_jsx_runtime", "ColorIndicatorWrapper", "className", "children", "props", "clsx_default", "color_indicator_wrapper_default", "import_jsx_runtime", "EMPTY_COLORS", "Palette", "name", "customColors", "useSetting", "themeColors", "defaultColors", "defaultPaletteEnabled", "safeCustomColors", "safeThemeColors", "safeDefaultColors", "safeDefaultPaletteEnabled", "colors", "screenPath", "VStack", "Subtitle", "ItemGroup", "NavigationButtonAsItem", "HStack", "ZStack", "color", "index", "color_indicator_wrapper_default", "icon_default", "chevron_left_default", "chevron_right_default", "palette_default", "import_jsx_runtime", "useSettingsForBlockElement", "StylesColorPanel", "unlock", "blockEditorPrivateApis", "ScreenColors", "style", "setStyle", "useStyle", "inheritedStyle", "rawSettings", "useSetting", "settings", "ScreenHeader", "ScreenBody", "VStack", "palette_default", "screen_colors_default", "import_i18n", "import_components", "import_compose", "import_components", "import_i18n", "import_components", "import_components", "import_jsx_runtime", "PresetColors", "paletteColors", "useStylesPreviewColors", "slug", "color", "index", "import_jsx_runtime", "firstFrameVariants", "StylesPreviewColors", "label", "isFocused", "withHoverView", "preview_wrapper_default", "key", "motion", "HStack", "PresetColors", "preview_colors_default", "import_jsx_runtime", "propertiesToFilter", "ColorVariations", "title", "gap", "colorVariations", "useCurrentMergeThemeStyleVariationsWithUserConfig", "VStack", "Subtitle", "Grid", "variation", "index", "Variation", "preview_colors_default", "import_jsx_runtime", "mobilePopoverProps", "ColorPalettePanel", "name", "themeColors", "setThemeColors", "useSetting", "baseThemeColors", "defaultColors", "setDefaultColors", "baseDefaultColors", "customColors", "setCustomColors", "defaultPaletteEnabled", "popoverProps", "randomizeThemeColors", "useColorRandomizer", "VStack", "PaletteEdit", "shuffle_default", "ColorVariations", "import_compose", "import_components", "import_i18n", "import_jsx_runtime", "mobilePopoverProps", "noop", "GradientPalettePanel", "name", "themeGradients", "setThemeGradients", "useSetting", "baseThemeGradients", "defaultGradients", "setDefaultGradients", "baseDefaultGradients", "customGradients", "setCustomGradients", "defaultPaletteEnabled", "customDuotone", "defaultDuotone", "themeDuotone", "defaultDuotoneEnabled", "duotonePalette", "popoverProps", "VStack", "PaletteEdit", "Subtitle", "Spacer", "import_jsx_runtime", "Tabs", "unlock", "componentsPrivateApis", "ScreenColorPalette", "name", "ScreenHeader", "ColorPalettePanel", "GradientPalettePanel", "screen_color_palette_default", "import_i18n", "import_block_editor", "import_components", "import_block_editor", "import_jsx_runtime", "BACKGROUND_DEFAULT_VALUES", "StylesBackgroundPanel", "unlock", "blockEditorPrivateApis", "BackgroundPanel", "style", "useStyle", "inheritedStyle", "setStyle", "settings", "useSetting", "StylesBackgroundPanel", "BACKGROUND_DEFAULT_VALUES", "import_jsx_runtime", "useHasBackgroundPanel", "unlock", "blockEditorPrivateApis", "ScreenBackground", "settings", "useSetting", "hasBackgroundPanel", "ScreenHeader", "Text", "BackgroundPanel", "screen_background_default", "import_components", "import_i18n", "import_element", "import_components", "import_i18n", "import_jsx_runtime", "ConfirmResetShadowDialog", "text", "confirmButtonText", "isOpen", "toggleOpen", "onConfirm", "handleConfirm", "handleCancel", "ConfirmDialog", "confirm_reset_shadow_dialog_default", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "defaultShadow", "ShadowsPanel", "defaultShadows", "useSetting", "defaultShadowsEnabled", "themeShadows", "customShadows", "setCustomShadows", "onCreateShadow", "shadow", "handleResetShadows", "isResetDialogOpen", "setIsResetDialogOpen", "toggleResetDialog", "confirm_reset_shadow_dialog_default", "ScreenHeader", "ScreenBody", "VStack", "ShadowList", "label", "shadows", "category", "canCreate", "onCreate", "onReset", "handleAddShadow", "newIndex", "getNewIndexFromPresets", "HStack", "Subtitle", "plus_default", "more_vertical_default", "ItemGroup", "ShadowItem", "NavigationButtonAsItem", "icon_default", "chevron_left_default", "chevron_right_default", "import_components", "import_i18n", "import_element", "getShadowParts", "shadow", "value", "shadowStringToObject", "shadowValue", "defaultShadow", "lengthsRegex", "matches", "lengths", "insets", "hasInset", "colorString", "colorRegex", "colorMatches", "x", "y", "blur", "spread", "shadowObjectToString", "shadowObj", "shadowString", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "customShadowMenuItems", "presetShadowMenuItems", "ShadowsEditPanel", "goBack", "params", "category", "slug", "shadows", "setShadows", "useSetting", "hasCurrentShadow", "shadow", "baseShadows", "selectedShadow", "setSelectedShadow", "baseSelectedShadow", "b", "isConfirmDialogVisible", "setIsConfirmDialogVisible", "isRenameModalVisible", "setIsRenameModalVisible", "shadowName", "setShadowName", "onShadowChange", "updatedShadows", "s", "onMenuClick", "action", "handleShadowDelete", "handleShadowRename", "newName", "HStack", "ScreenHeader", "Spacer", "more_vertical_default", "item", "ScreenBody", "ShadowsPreview", "ShadowEditor", "ConfirmDialog", "event", "InputControl", "onChange", "addShadowButtonRef", "shadowParts", "getShadowParts", "onChangeShadowPart", "index", "part", "newShadowParts", "onAddShadowPart", "defaultShadow", "onRemoveShadowPart", "p", "i", "VStack", "Subtitle", "plus_default", "ItemGroup", "ShadowItem", "value", "canRemove", "onRemove", "popoverProps", "shadowObj", "shadowStringToObject", "newShadow", "shadowObjectToString", "onToggle", "isOpen", "toggleProps", "clsx_default", "removeButtonProps", "shadow_default", "reset_default", "DropdownContentWrapper", "ShadowPopover", "key", "ToggleGroupControl", "ToggleGroupControlOption", "Grid", "ShadowInputControl", "label", "UnitControl", "next", "nextValue", "import_jsx_runtime", "ScreenShadows", "ShadowsPanel", "ScreenShadowsEdit", "ShadowsEditPanel", "import_i18n", "import_block_editor", "import_block_editor", "import_element", "import_jsx_runtime", "useSettingsForBlockElement", "StylesDimensionsPanel", "unlock", "blockEditorPrivateApis", "DEFAULT_CONTROLS", "DimensionsPanel", "style", "useStyle", "inheritedStyle", "setStyle", "userSettings", "useSetting", "rawSettings", "setSettings", "settings", "inheritedStyleWithLayout", "styleWithLayout", "newStyle", "updatedStyle", "updatedSettings", "import_jsx_runtime", "useHasDimensionsPanel", "useSettingsForBlockElement", "unlock", "blockEditorPrivateApis", "ScreenLayout", "rawSettings", "useSetting", "settings", "hasDimensionsPanel", "ScreenHeader", "DimensionsPanel", "screen_layout_default", "import_components", "import_i18n", "import_i18n", "import_components", "import_core_data", "import_data", "import_element", "import_components", "import_i18n", "import_jsx_runtime", "StyleVariationsContainer", "gap", "user", "GlobalStylesContext", "userStyles", "fullStyleVariations", "select", "result", "coreStore", "variation", "isVariationWithProperties", "themeVariations", "blockStyles", "blockName", "variationBlockStyles", "customCSS", "css", "blocks", "styles", "Grid", "index", "Variation", "isFocused", "preview_styles_default", "style_variations_container_default", "import_jsx_runtime", "StyleVariationsContent", "VStack", "style_variations_container_default", "ColorVariations", "TypographyVariations", "import_jsx_runtime", "ScreenStyleVariations", "ScreenHeader", "StyleVariationsContent", "screen_style_variations_default", "import_i18n", "import_components", "import_block_editor", "import_jsx_runtime", "StylesAdvancedPanel", "unlock", "blockEditorPrivateApis", "ScreenCSS", "style", "useStyle", "inheritedStyle", "setStyle", "ScreenHeader", "screen_css_default", "import_i18n", "import_components", "import_element", "import_data", "import_core_data", "import_element", "SITE_EDITOR_AUTHORS_QUERY", "DEFAULT_QUERY", "EMPTY_ARRAY", "useGlobalStylesRevisions", "query", "userConfig", "GlobalStylesContext", "_query", "authors", "currentUser", "isDirty", "revisions", "isLoadingGlobalStylesRevisions", "revisionsCount", "select", "__experimentalGetDirtyEntityRecords", "getCurrentUser", "getUsers", "getRevisions", "__experimentalGetCurrentGlobalStylesId", "getEntityRecord", "isResolving", "coreStore", "dirtyEntityRecords", "_currentUser", "_isDirty", "globalStylesId", "_revisionsCount", "globalStylesRevisions", "_authors", "_isResolving", "_modifiedRevisions", "revision", "author", "unsavedRevision", "import_i18n", "import_components", "import_date", "import_core_data", "import_data", "import_keycodes", "import_jsx_runtime", "DAY_IN_MILLISECONDS", "ChangesSummary", "revision", "previousRevision", "changes", "getGlobalStylesChanges", "change", "getRevisionLabel", "id", "authorDisplayName", "formattedModifiedDate", "areStylesEqual", "RevisionsButtons", "userRevisions", "selectedRevisionId", "onChange", "canApplyRevision", "onApplyRevision", "currentThemeName", "currentUser", "select", "getCurrentTheme", "getCurrentUser", "coreStore", "currentTheme", "dateNowInMs", "datetimeAbbreviated", "index", "author", "modified", "isUnsaved", "revisionAuthor", "authorAvatar", "isSelected", "isReset", "modifiedString", "modifiedDate", "displayDate", "revisionLabel", "event", "keyCode", "revisions_buttons_default", "import_components", "import_i18n", "import_jsx_runtime", "Pagination", "currentPage", "numPages", "changePage", "totalItems", "className", "disabled", "buttonVariant", "label", "HStack", "clsx_default", "Text", "next_default", "previous_default", "chevron_right_default", "chevron_left_default", "import_jsx_runtime", "PAGE_SIZE", "ScreenRevisions", "onClose", "currentEditorGlobalStyles", "setUserConfig", "GlobalStylesContext", "params", "goTo", "revisionId", "currentPage", "setCurrentPage", "revisions", "isLoading", "hasUnsavedChanges", "revisionsCount", "useGlobalStylesRevisions", "numPages", "isLoadingRevisionWithUnsavedChanges", "setIsLoadingRevisionWithUnsavedChanges", "currentlySelectedRevision", "rev", "selectedRevisionMatchesEditorStyles", "areGlobalStylesEqual", "onCloseRevisions", "restoreRevision", "revision", "handleRevisionSelect", "currentlySelectedRevisionId", "isLoadButtonEnabled", "hasRevisions", "ScreenHeader", "revisions_buttons_default", "Pagination", "ConfirmDialog", "screen_revisions_default", "import_i18n", "import_components", "import_element", "import_components", "import_i18n", "import_jsx_runtime", "ConfirmResetFontSizesDialog", "text", "confirmButtonText", "isOpen", "toggleOpen", "onConfirm", "handleConfirm", "handleCancel", "ConfirmDialog", "confirm_reset_font_sizes_dialog_default", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "FontSizeGroup", "label", "origin", "sizes", "handleAddFontSize", "handleResetFontSizes", "isResetDialogOpen", "setIsResetDialogOpen", "toggleResetDialog", "resetDialogText", "confirm_reset_font_sizes_dialog_default", "VStack", "HStack", "Subtitle", "plus_default", "more_vertical_default", "ItemGroup", "size", "NavigationButtonAsItem", "icon_default", "chevron_left_default", "chevron_right_default", "FontSizes", "themeFontSizes", "setThemeFontSizes", "useSetting", "baseThemeFontSizes", "defaultFontSizes", "setDefaultFontSizes", "baseDefaultFontSizes", "customFontSizes", "setCustomFontSizes", "defaultFontSizesEnabled", "index", "getNewIndexFromPresets", "newFontSize", "hasSameSizeValues", "arr1", "arr2", "item", "ScreenHeader", "View", "Spacer", "font_sizes_default", "import_i18n", "import_components", "import_element", "import_block_editor", "import_i18n", "import_jsx_runtime", "FontSizePreview", "fontSize", "font", "useStyle", "input", "computedFontSize", "font_size_preview_default", "import_components", "import_i18n", "import_jsx_runtime", "ConfirmDeleteFontSizeDialog", "fontSize", "isOpen", "toggleOpen", "handleRemoveFontSize", "handleConfirm", "handleCancel", "ConfirmDialog", "confirm_delete_font_size_dialog_default", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "RenameFontSizeDialog", "fontSize", "toggleOpen", "handleRename", "newName", "setNewName", "handleConfirm", "event", "VStack", "InputControl", "HStack", "rename_font_size_dialog_default", "import_components", "import_jsx_runtime", "DEFAULT_UNITS", "SizeControl", "props", "baseControlProps", "value", "onChange", "fallbackValue", "disabled", "label", "units", "useCustomUnits", "valueQuantity", "valueUnit", "parseQuantityAndUnitFromRawValue", "isValueUnitRelative", "UnitControl", "newValue", "Spacer", "import_jsx_runtime", "Menu", "unlock", "componentsPrivateApis", "FontSize", "isDeleteConfirmOpen", "setIsDeleteConfirmOpen", "isRenameDialogOpen", "setIsRenameDialogOpen", "origin", "slug", "goBack", "fontSizes", "setFontSizes", "useSetting", "globalFluid", "sizes", "fontSize", "size", "isFluid", "isCustomFluid", "handleNameChange", "value", "updateFontSize", "handleFontSizeChange", "handleFluidChange", "handleCustomFluidValues", "handleMinChange", "fluid", "handleMaxChange", "key", "newFontSizes", "handleRemoveFontSize", "toggleDeleteConfirm", "toggleRenameDialog", "confirm_delete_font_size_dialog_default", "rename_font_size_dialog_default", "VStack", "HStack", "ScreenHeader", "Spacer", "more_vertical_default", "View", "font_size_preview_default", "SizeControl", "font_size_default", "import_jsx_runtime", "BlockStylesNavigationScreens", "parentMenu", "blockStyles", "blockName", "Fragment", "style", "index", "screen_block_default", "ContextScreens", "name", "blockStyleVariations", "select", "getBlockStyles", "blocksStore", "GlobalStylesUI", "value", "baseValue", "onChange", "path", "onPathChange", "fontLibraryEnabled", "serverCSS", "serverSettings", "blocks", "mergedValue", "mergeGlobalStyles", "globalStylesCSS", "globalSettings", "generateGlobalStyles", "styles", "settings", "GlobalStylesProvider", "PathSynchronizer", "GlobalStylesNavigationScreen", "screen_root_default", "screen_colors_default", "screen_typography_default", "font_sizes_default", "font_size_default", "screen_layout_default", "screen_color_palette_default", "screen_style_variations_default", "screen_css_default", "screen_revisions_default", "ScreenShadows", "ScreenShadowsEdit", "screen_background_default", "screen_typography_element_default", "screen_block_list_default", "block", "children", "navigator", "childPath", "previousParentPath", "previousChildPath", "import_jsx_runtime", "withGlobalStylesProvider", "Component", "value", "baseValue", "onChange", "props", "GlobalStylesProvider", "StyleVariations", "withGlobalStylesProvider", "style_variations_container_default", "ColorVariations", "withGlobalStylesProvider", "TypographyVariations", "withGlobalStylesProvider", "import_jsx_runtime", "import_media_utils", "import_data", "import_element", "import_block_editor", "import_compose", "GlobalStylesBlockLink", "path", "onPathChange", "selectedBlockName", "selectedBlockClientId", "select", "getSelectedBlockClientId", "getBlockName", "blockEditorStore", "clientId", "blockHasGlobalStyles", "previousBlockClientId", "newPath", "import_element", "import_core_data", "import_data", "import_block_editor", "cleanEmptyObject", "unlock", "blockEditorPrivateApis", "useGlobalStylesUserConfig", "globalStylesId", "isReady", "settings", "styles", "_links", "select", "getEntityRecord", "getEditedEntityRecord", "hasFinishedResolution", "canUser", "coreStore", "_globalStylesId", "record", "userCanEditGlobalStyles", "hasResolved", "editEntityRecord", "config", "setConfig", "callbackOrObject", "options", "currentConfig", "updatedConfig", "useGlobalStylesBaseConfig", "baseConfig", "useGlobalStyles", "isUserConfigReady", "userConfig", "setUserConfig", "isBaseConfigReady", "mergeGlobalStyles", "useStyle", "path", "blockName", "merged", "getStyle", "useSetting", "getSetting", "import_jsx_runtime", "useServerData", "styles", "__unstableResolvedAssets", "colors", "gradients", "__experimentalDiscussionSettings", "mediaUploadHandler", "fontLibraryEnabled", "select", "getEditorSettings", "store", "canUser", "coreStore", "editorSettings", "canUserUploadMedia", "serverCSS", "style", "serverSettings", "GlobalStylesUIWrapper", "path", "onPathChange", "userConfig", "baseConfig", "setUserConfig", "isReady", "useGlobalStyles", "GlobalStylesUI", "GlobalStylesBlockLink", "import_jsx_runtime", "PostPreviewContainer", "template", "post", "backgroundColor", "useStyle", "postBlocks", "templateBlocks", "blocks", "isEmpty", "PostPreviewView", "item", "settings", "select", "canUser", "getPostType", "getTemplateId", "getEntityRecord", "unlock", "coreStore", "canViewTemplate", "_settings", "store", "supportsTemplateMode", "isViewable", "templateId", "EditorProvider", "postPreviewField", "PostPreviewView", "content_preview_default", "hasEditorNotesSupport", "supports", "editor", "registerEntityAction", "kind", "name", "config", "unregisterEntityAction", "actionId", "registerEntityField", "unregisterEntityField", "fieldId", "setIsReady", "ORDERED_MEDIA_FIELDS", "date_added_default", "author_default", "filename_default", "mime_type_default", "filesize_default", "media_dimensions_default", "attached_to_default", "title_default", "alt_text_default", "caption_default", "description_default", "registerPostTypeSchema", "postType", "registry", "unlock", "store", "postTypeConfig", "coreStore", "canCreate", "currentTheme", "canDuplicate", "duplicate_post_default", "actions", "view_post_default", "view_post_revisions_default", "duplicate_template_part_default", "duplicate_pattern_default", "rename_post_default", "reorder_page_default", "export_pattern_default", "restore_post_default", "reset_post_default", "delete_post_default", "trash_post_default", "permanently_delete_post_default", "fields", "ATTACHMENT_POST_TYPE", "featured_image_default", "status_default", "DESIGN_POST_TYPES", "date_default", "slug_default", "parent_default", "comment_status_default", "ping_status_default", "discussion_default", "template_default", "password_default", "content_preview_default", "notes_default", "_titleField", "page_title_default", "template_title_default", "pattern_title_default", "action", "field", "setCurrentTemplateId", "id", "createTemplate", "template", "select", "dispatch", "registry", "savedTemplate", "coreStore", "noticesStore", "showBlockTypes", "blockNames", "newBlockNames", "preferencesStore", "type", "hideBlockTypes", "existingBlockNames", "mergedBlockNames", "saveDirtyEntities", "onSave", "dirtyEntityRecords", "entitiesToSkip", "close", "PUBLISH_ON_SAVE_ENTITIES", "saveNoticeId", "homeUrl", "entitiesToSave", "kind", "name", "key", "property", "elt", "siteItemsToSave", "pendingSavedRecords", "typeToPublish", "blockEditorStore", "values", "value", "error", "revertTemplate", "allowUndo", "noticeId", "isTemplateRevertable", "templateEntityConfig", "fileTemplatePath", "fileTemplate", "apiFetch", "serializeBlocks", "blocksForSerialization", "edited", "blocks", "undoRevert", "errorMessage", "removeTemplates", "items", "isResetting", "item", "promiseResult", "status", "successMessage", "title", "errorMessages", "failedPromises", "failedPromise", "setDefaultRenderingMode", "mode", "postType", "theme", "renderingModes", "newModes", "setStylesPath", "path", "setShowStylebook", "show", "resetStylesNavigation", "setCanvasMinHeight", "minHeight", "setCurrentRevisionId", "revisionId", "restoreRevision", "postId", "revision", "edits", "import_fast_deep_equal", "import_block_editor", "import_data", "import_core_data", "import_preferences", "EMPTY_ARRAY", "getEntityActions", "state", "kind", "name", "getEntityFields", "isEntityReady", "EMPTY_INSERTION_POINT", "RENDERING_MODES", "getInserter", "select", "state", "getRenderingMode", "postContentClientId", "blockEditorStore", "getListViewToggleRef", "getInserterSidebarToggleRef", "CARD_ICONS", "symbol_default", "navigation_default", "page_default", "verse_default", "getPostIcon", "postType", "options", "areaData", "coreStore", "item", "getTemplatePartIcon", "layout_default", "postTypeEntity", "hasPostMetaChanges", "postId", "currentPostType", "currentPostId", "getCurrentPost", "edits", "originalPostMeta", "fastDeepEqual", "getEntityActions", "args", "isEntityReady", "getEntityFields", "getPostBlocksByName", "blockNames", "getBlocksByName", "getBlockParents", "getBlockName", "clientId", "parentClientId", "parentBlockName", "getDefaultRenderingMode", "getPostType", "getCurrentTheme", "hasFinishedResolution", "currentTheme", "theme", "defaultModePreference", "preferencesStore", "postTypeDefaultMode", "features", "defaultMode", "getStylesPath", "getShowStylebook", "getCanvasMinHeight", "isRevisionsMode", "getCurrentRevisionId", "getCurrentRevision", "revisionId", "revisions", "r", "storeConfig", "reducer_default", "selectors_exports", "actions_exports", "store", "STORE_NAME", "unlock", "private_actions_exports", "private_selectors_exports", "import_jsx_runtime", "createWithMetaAttributeSource", "metaAttributes", "BlockEdit", "attributes", "setAttributes", "props", "postType", "select", "store", "meta", "setMeta", "mergedAttributes", "attributeKey", "metaKey", "nextAttributes", "nextMeta", "key", "value", "shimAttributeSource", "settings", "source", "import_hooks", "import_element", "import_data", "import_core_data", "import_jsx_runtime", "getUserLabel", "user", "avatar", "user_default", "filterValue", "users", "select", "getUsers", "coreStore", "import_element", "import_compose", "import_data", "import_core_data", "AutosaveMonitor", "props", "prevProps", "timeout", "autosave_monitor_default", "select", "ownProps", "getReferenceByDistinctEdits", "coreStore", "isEditedPostDirty", "isEditedPostAutosaveable", "isAutosavingPost", "getEditorSettings", "store", "interval", "dispatch", "autosave", "import_i18n", "import_data", "import_components", "import_block_editor", "import_keycodes", "import_core_data", "import_commands", "import_element", "import_compose", "import_html_entities", "import_dom", "import_i18n", "import_data", "import_core_data", "usePageTypeBadge", "postId", "isFrontPage", "isPostsPage", "select", "canUser", "getEditedEntityRecord", "coreStore", "siteSettings", "_postId", "import_components", "import_keycodes", "import_i18n", "import_data", "import_compose", "import_preferences", "import_element", "import_components", "import_i18n", "import_block_editor", "import_data", "import_element", "import_keycodes", "import_media_utils", "import_core_data", "import_i18n", "STYLE_BOOK_COLOR_GROUPS", "STYLE_BOOK_THEME_SUBCATEGORIES", "STYLE_BOOK_CATEGORIES", "STYLE_BOOK_ALL_BLOCKS_SUBCATEGORIES", "STYLE_BOOK_PREVIEW_CATEGORIES", "ROOT_CONTAINER", "STYLE_BOOK_IFRAME_STYLES", "import_blocks", "getExamplesByCategory", "categoryDefinition", "examples", "categories", "acc", "subcategoryDefinition", "subcategoryExamples", "blocksToInclude", "blocksToExclude", "categoryExamples", "example", "getTopLevelStyleBookCategories", "reservedCategories", "STYLE_BOOK_THEME_SUBCATEGORIES", "STYLE_BOOK_CATEGORIES", "slug", "extraCategoriesFiltered", "import_i18n", "import_blocks", "import_components", "import_block_editor", "import_jsx_runtime", "ColorExamples", "colors", "type", "templateColumns", "itemHeight", "Grid", "color", "className", "classes", "clsx_default", "color_examples_default", "import_components", "import_jsx_runtime", "DuotoneExamples", "duotones", "Grid", "duotone", "color", "duotone_examples_default", "import_jsx_runtime", "getColorExamples", "colors", "examples", "STYLE_BOOK_COLOR_GROUPS", "group", "palette", "paletteFiltered", "origin", "example", "duotone_examples_default", "color_examples_default", "getOverviewBlockExamples", "themePalette", "themeColorexample", "typographyBlockExamples", "headingBlock", "firstParagraphBlock", "secondParagraphBlock", "groupBlock", "blockName", "blockType", "blockExample", "getExamples", "nonHeadingBlockExamples", "name", "supports", "headingsExample", "level", "colorExamples", "overviewBlockExamples", "import_element", "import_data", "import_blocks", "import_data", "import_element", "useGlobalStylesOutputWithConfig", "mergedConfig", "disableRootPadding", "hasBlockGapSupport", "useSetting", "hasFallbackGapSupport", "disableLayoutStyles", "getBlockStyles", "select", "getEditorSettings", "store", "getBlockStylesSelector", "blocksStore", "blockTypes", "generateGlobalStyles", "useGlobalStylesOutput", "useGlobalStyles", "useGlobalStylesRenderer", "disableRootPadding", "styles", "settings", "useGlobalStylesOutput", "getEditorSettings", "store", "updateEditorSettings", "currentStoreSettings", "nonGlobalStyles", "style", "GlobalStylesRenderer", "import_jsx_runtime", "ExperimentalBlockEditorProvider", "unlock", "blockEditorPrivateApis", "Tabs", "componentsPrivateApis", "isObjectEmpty", "object", "scrollToSection", "anchorId", "iframe", "element", "getStyleBookNavigationFromPath", "path", "useMultiOriginPalettes", "colors", "gradients", "useMultipleOriginColorsAndGradients", "shouldDisplayDefaultDuotones", "customDuotones", "themeDuotones", "defaultDuotones", "result", "getExamplesForSinglePageUse", "examples", "examplesForSinglePageUse", "overviewCategoryExamples", "getExamplesByCategory", "otherExamples", "example", "overviewExample", "applyBlockVariationsToExamples", "variation", "block", "StyleBook", "isSelected", "onClick", "onSelect", "showTabs", "userConfig", "ref", "textColor", "useStyle", "backgroundColor", "getExamples", "tabs", "getTopLevelStyleBookCategories", "category", "baseConfig", "useGlobalStyles", "goTo", "mergedConfig", "mergeGlobalStyles", "originalSettings", "select", "blockEditorStore", "globalStyles", "useGlobalStylesOutputWithConfig", "settings", "clsx_default", "tab", "categoryDefinition", "_category", "filteredExamples", "StyleBookBody", "StyleBookPreview", "isStatic", "onPathChange", "editorSettings", "store", "canUserUploadMedia", "coreStore", "internalPath", "setInternalPath", "section", "onChangeSection", "blockName", "isBlockVariation", "STYLE_BOOK_COLOR_GROUPS", "group", "previewCategory", "blockVariation", "STYLE_BOOK_PREVIEW_CATEGORIES", "displayedExamples", "GlobalStylesRenderer", "title", "isFocused", "setIsFocused", "hasIframeLoaded", "setHasIframeLoaded", "iframeRef", "buttonModeProps", "event", "keyCode", "handleLoad", "Iframe", "EditorStyles", "STYLE_BOOK_IFRAME_STYLES", "Examples", "className", "label", "Example", "subcategory", "Subcategory", "disabledExamples", "id", "blocks", "content", "renderedBlocks", "disabledProps", "style_book_default", "import_jsx_runtime", "StylesCanvasStyleBook", "path", "onPathChange", "ref", "style_book_default", "blockName", "STYLE_BOOK_COLOR_GROUPS", "group", "import_components", "import_block_editor", "import_data", "import_element", "import_jsx_runtime", "ExperimentalBlockEditorProvider", "__unstableBlockStyleVariationOverridesWithConfig", "unlock", "blockEditorPrivateApis", "isObjectEmpty", "object", "StylesCanvasRevisions", "path", "ref", "blocks", "select", "blockEditorStore", "userConfig", "baseConfig", "useGlobalStyles", "revisions", "isLoading", "useGlobalStylesRevisions", "revisionId", "match", "displayConfig", "rev", "mergedConfig", "mergeGlobalStyles", "renderedBlocksArray", "originalSettings", "settings", "globalStyles", "useGlobalStylesOutputWithConfig", "editorStyles", "Iframe", "EditorStyles", "revisions_default", "import_element", "import_components", "import_i18n", "import_keycodes", "import_components", "import_jsx_runtime", "DELTA_DISTANCE", "ResizeHandle", "direction", "resizeWidthBy", "handleKeyDown", "event", "keyCode", "resizeHandleVariants", "resizableHandleHelpId", "motion", "import_jsx_runtime", "HANDLE_STYLES_OVERRIDE", "ResizableEditor", "className", "enableResizing", "height", "children", "width", "setWidth", "resizableRef", "resizeWidthBy", "deltaPixels", "clsx_default", "api", "event", "direction", "element", "ResizeHandle", "resizable_editor_default", "import_jsx_runtime", "getStylesCanvasTitle", "path", "showStylebook", "StylesCanvas", "stylesPath", "showListViewByDefault", "select", "getStylesPath", "getShowStylebook", "unlock", "store", "_showListViewByDefault", "preferencesStore", "resetStylesNavigation", "setStylesPath", "setIsListViewOpened", "focusOnMountRef", "sectionFocusReturnRef", "content", "style_book_default", "revisions_default", "title", "onCloseCanvas", "resizable_editor_default", "event", "close_small_default", "import_data", "import_html_entities", "import_block_editor", "import_core_data", "useEditedSectionDetails", "select", "getBlockAttributes", "getBlockName", "__experimentalGetParsedPattern", "blockEditorStore", "getEditedEntityRecord", "getCurrentTheme", "coreStore", "getEditedContentOnlySection", "unlock", "editedSectionId", "attributes", "patternName", "pattern", "blockName", "entity", "theme", "templatePartId", "import_jsx_runtime", "MotionButton", "motion", "DocumentBar", "props", "stopEditingContentOnlySection", "unlock", "blockEditorStore", "unlockedPatternInfo", "useEditedSectionDetails", "postId", "postType", "postTypeLabel", "documentTitle", "isNotFound", "templateTitle", "onNavigateToPreviousEntityRecord", "isTemplatePreview", "stylesCanvasTitle", "select", "getCurrentPostType", "getCurrentPostId", "getEditorSettings", "getRenderingMode", "store", "getEditedEntityRecord", "getPostType", "getCurrentTheme", "isResolvingSelector", "coreStore", "_postType", "_postId", "_document", "templateTypes", "_templateInfo", "getTemplateInfo", "_postTypeLabel", "getStylesPath", "getShowStylebook", "_stylesPath", "_showStylebook", "_stylesCanvasTitle", "getStylesCanvasTitle", "openCommandCenter", "commandsStore", "isReducedMotion", "isTemplate", "TEMPLATE_POST_TYPES", "hasBackButton", "entityTitle", "title", "icon", "handleBackClick", "event", "pageTypeBadge", "usePageTypeBadge", "mountedRef", "clsx_default", "AnimatePresence", "chevron_right_small_default", "chevron_left_small_default", "layout_default", "Text", "stripHTML", "import_i18n", "import_data", "import_element", "import_rich_text", "import_block_editor", "import_core_data", "import_components", "import_jsx_runtime", "TableOfContentsItem", "children", "isValid", "isDisabled", "level", "href", "onSelect", "handleClick", "event", "clsx_default", "item_default", "import_jsx_runtime", "emptyHeadingContent", "incorrectLevelContent", "singleH1Headings", "multipleH1Headings", "EmptyOutlineIllustration", "computeOutlineHeadings", "blocks", "block", "isEmptyHeading", "heading", "DocumentOutline", "onSelect", "hasOutlineItemsDisabled", "selectBlock", "blockEditorStore", "title", "isTitleSupported", "select", "getEditedPostAttribute", "store", "getPostType", "coreStore", "postType", "getClientIdsWithDescendants", "getBlock", "id", "contentBlocks", "getBlocksByName", "getClientIdsOfDescendants", "postContentClientId", "prevHeadingLevelRef", "headings", "titleNode", "hasTitle", "hasMultipleH1", "acc", "isContentBlock", "clientId", "item_default", "item", "isIncorrectLevel", "isValid", "import_data", "import_block_editor", "DocumentOutlineCheck", "children", "select", "getGlobalBlockCount", "blockEditorStore", "import_element", "import_data", "import_i18n", "import_block_editor", "import_keyboard_shortcuts", "import_keycodes", "import_jsx_runtime", "EditorKeyboardShortcutsRegister", "registerShortcut", "keyboardShortcutsStore", "register_shortcuts_default", "import_i18n", "import_components", "import_data", "import_keycodes", "import_element", "import_jsx_runtime", "EditorHistoryRedo", "props", "ref", "shortcut", "hasRedo", "select", "store", "redo", "undo_default", "redo_default", "import_i18n", "import_components", "import_data", "import_keycodes", "import_element", "import_jsx_runtime", "EditorHistoryUndo", "props", "ref", "hasUndo", "select", "store", "undo", "redo_default", "undo_default", "import_components", "import_data", "import_notices", "import_components", "import_i18n", "import_data", "import_element", "import_block_editor", "import_jsx_runtime", "TemplateValidationNotice", "showConfirmDialog", "setShowConfirmDialog", "isValid", "select", "blockEditorStore", "setTemplateValidity", "synchronizeTemplate", "ConfirmDialog", "import_jsx_runtime", "EditorNotices", "notices", "select", "noticesStore", "removeNotice", "dismissibleNotices", "isDismissible", "type", "nonDismissibleNotices", "TemplateValidationNotice", "editor_notices_default", "import_components", "import_data", "import_notices", "import_jsx_runtime", "MAX_VISIBLE_NOTICES", "EditorSnackbars", "notices", "select", "noticesStore", "removeNotice", "snackbarNotices", "type", "import_components", "import_i18n", "import_element", "import_compose", "import_data", "import_i18n", "import_data", "import_components", "import_core_data", "import_components", "import_i18n", "import_data", "import_core_data", "import_html_entities", "import_jsx_runtime", "EntityRecordItem", "record", "checked", "onChange", "name", "kind", "title", "key", "entityRecordTitle", "hasPostMetaChanges", "select", "unlock", "store", "template", "coreStore", "templateTypes", "getTemplateInfo", "import_jsx_runtime", "getEntityDescription", "entity", "count", "GlobalStylesDescription", "record", "editedRecord", "savedRecord", "select", "getEditedEntityRecord", "getEntityRecord", "coreStore", "globalStylesChanges", "getGlobalStylesChanges", "change", "EntityDescription", "description", "EntityTypeList", "list", "unselectedEntities", "setUnselectedEntities", "firstRecord", "entityLabel", "EntityRecordItem", "elt", "value", "import_data", "import_core_data", "import_element", "useIsDirty", "editedEntities", "siteEdits", "siteEntityConfig", "select", "__experimentalGetDirtyEntityRecords", "getEntityRecordEdits", "getEntityConfig", "coreStore", "dirtyEntityRecords", "editedEntitiesWithoutSite", "record", "siteEntityLabels", "editedSiteEntities", "property", "unselectedEntities", "_setUnselectedEntities", "setUnselectedEntities", "kind", "name", "key", "checked", "elt", "isDirty", "import_jsx_runtime", "identity", "values", "EntitiesSavedStates", "close", "renderDialog", "variant", "isDirtyProps", "useIsDirty", "EntitiesSavedStatesExtensible", "additionalPrompt", "onSave", "saveEnabledProp", "saveLabel", "dirtyEntityRecords", "isDirty", "setUnselectedEntities", "unselectedEntities", "saveButtonRef", "saveDirtyEntities", "unlock", "store", "partitionedSavables", "acc", "record", "name", "siteSavables", "templateSavables", "templatePartSavables", "contentSavables", "sortedPartitionedSavables", "saveEnabled", "dismissPanel", "saveDialogRef", "saveDialogProps", "useDialog", "dialogLabelId", "dialogDescriptionId", "selectItemsToSaveDescription", "isInline", "actionButtons", "clsx_default", "list", "EntityTypeList", "import_element", "import_i18n", "import_components", "import_data", "import_compose", "import_hooks", "import_jsx_runtime", "getContent", "store", "CopyButton", "text", "children", "variant", "ref", "ErrorBoundary", "error", "canCopyContent", "HStack", "Text", "error_boundary_default", "import_element", "import_compose", "import_data", "import_i18n", "import_blocks", "import_notices", "import_jsx_runtime", "requestIdleCallback", "hasStorageSupport", "hasSessionStorageSupport", "useAutosaveNotice", "postId", "isEditedPostNew", "hasRemoteAutosave", "select", "store", "getEditedPostAttribute", "createWarningNotice", "removeNotice", "noticesStore", "editPost", "resetEditorBlocks", "localAutosave", "localAutosaveGet", "title", "content", "excerpt", "edits", "key", "localAutosaveClear", "id", "editsContent", "editsWithoutContent", "useAutosavePurge", "isDirty", "isAutosaving", "didError", "lastIsDirtyRef", "lastIsAutosavingRef", "wasEditedPostNew", "prevPostId", "LocalAutosaveMonitor", "autosave", "deferredAutosave", "localAutosaveInterval", "autosave_monitor_default", "local_autosave_monitor_default", "import_data", "import_core_data", "PageAttributesCheck", "children", "select", "getEditedPostAttribute", "store", "getPostType", "coreStore", "check_default", "import_i18n", "import_components", "import_data", "import_element", "import_data", "import_core_data", "checkSupport", "supports", "key", "topKey", "subKey", "subProperties", "PostTypeSupportCheck", "children", "supportKeys", "postType", "select", "getEditedPostAttribute", "store", "getPostType", "coreStore", "isSupported", "post_type_support_check_default", "import_jsx_runtime", "PageAttributesOrder", "order", "select", "store", "editPost", "orderInput", "setOrderInput", "setUpdatedOrder", "value", "newOrder", "NumberControl", "PageAttributesOrderWithChecks", "post_type_support_check_default", "import_data", "import_core_data", "import_remove_accents", "import_i18n", "import_components", "import_compose", "import_element", "import_data", "import_html_entities", "import_core_data", "import_block_editor", "import_url", "import_components", "import_element", "import_jsx_runtime", "PostPanelRow", "className", "label", "children", "ref", "HStack", "clsx_default", "post_panel_row_default", "import_html_entities", "buildTermsTree", "flatTerms", "flatTermsWithParentAndChildren", "term", "parent", "termsByParent", "acc", "fillWithChildren", "terms", "children", "unescapeString", "arg", "unescapeTerm", "unescapeTerms", "import_jsx_runtime", "getTitle", "post", "getItemPriority", "name", "searchValue", "normalizedName", "removeAccents", "normalizedSearch", "PageAttributesParent", "editPost", "store", "fieldValue", "setFieldValue", "isHierarchical", "parentPostId", "parentPostTitle", "pageItems", "isLoading", "select", "getPostType", "getEntityRecords", "getEntityRecord", "isResolving", "coreStore", "getCurrentPostId", "getEditedPostAttribute", "postTypeSlug", "pageId", "pType", "postId", "postIsHierarchical", "query", "parentPost", "parentOptions", "getOptionsFromTree", "tree", "level", "treeNode", "a", "b", "priorityA", "priorityB", "item", "buildTermsTree", "opts", "optsHasParent", "handleKeydown", "inputValue", "handleChange", "selectedPostId", "PostParentToggle", "isOpen", "onClick", "parentTitle", "ParentRow", "homeUrl", "popoverAnchor", "setPopoverAnchor", "popoverProps", "post_panel_row_default", "onToggle", "onClose", "InspectorPopoverHeader", "parent_default", "import_jsx_runtime", "PANEL_NAME", "AttributesPanel", "isEnabled", "postType", "select", "getEditedPostAttribute", "isEditorPanelEnabled", "store", "getPostType", "coreStore", "ParentRow", "PageAttributesPanel", "check_default", "import_i18n", "import_components", "import_data", "import_core_data", "import_block_editor", "import_element", "import_notices", "import_data", "import_element", "import_blocks", "import_components", "import_i18n", "import_jsx_runtime", "DEFAULT_TITLE", "CreateNewTemplateModal", "onClose", "defaultBlockTemplate", "onNavigateToEntityRecord", "select", "getEditorSettings", "getCurrentTemplateId", "store", "createTemplate", "unlock", "title", "setTitle", "isBusy", "setIsBusy", "cancel", "submit", "event", "newTemplateContent", "newTemplate", "paramCase", "VStack", "HStack", "import_data", "import_element", "import_core_data", "useEditedPostContext", "select", "getCurrentPostId", "getCurrentPostType", "store", "useAllowSwitchingTemplates", "postType", "postId", "canUser", "getEntityRecord", "getEntityRecords", "coreStore", "siteSettings", "isPostsPage", "isFrontPage", "templates", "hasFrontPage", "slug", "useTemplates", "useAvailableTemplates", "currentTemplateSlug", "useCurrentTemplateSlug", "allowSwitchingTemplate", "template", "entityTemplate", "import_jsx_runtime", "PostTemplateToggle", "isOpen", "onClick", "templateTitle", "select", "templateSlug", "store", "supportsTemplateMode", "availableTemplates", "template", "coreStore", "PostTemplateDropdownContent", "onClose", "allowSwitchingTemplate", "useAllowSwitchingTemplates", "fetchedTemplates", "selectedTemplateSlug", "canCreate", "canEdit", "currentTemplateId", "onNavigateToEntityRecord", "getEditorSettings", "canUser", "getEntityRecords", "editorSettings", "canCreateTemplates", "_currentTemplateId", "options", "slug", "title", "selectedOption", "option", "editPost", "createSuccessNotice", "noticesStore", "isCreateModalOpen", "setIsCreateModalOpen", "InspectorPopoverHeader", "add_template_default", "CreateNewTemplateModal", "ClassicThemeControl", "popoverAnchor", "setPopoverAnchor", "popoverProps", "post_panel_row_default", "onToggle", "classic_theme_default", "import_components", "import_plugins", "import_data", "import_warning", "import_components", "import_data", "import_preferences", "import_jsx_runtime", "PreferenceBaseOption", "unlock", "preferencesPrivateApis", "EnablePanelOption", "props", "toggleEditorPanelEnabled", "store", "isChecked", "isRemoved", "select", "isEditorPanelEnabled", "isEditorPanelRemoved", "import_jsx_runtime", "Fill", "Slot", "EnablePluginDocumentSettingPanelOption", "label", "panelName", "EnablePanelOption", "enable_plugin_document_setting_panel_default", "import_jsx_runtime", "Fill", "Slot", "PluginDocumentSettingPanel", "name", "className", "title", "icon", "children", "pluginName", "panelName", "opened", "isEnabled", "select", "isEditorPanelOpened", "isEditorPanelEnabled", "store", "toggleEditorPanelOpened", "warning", "enable_plugin_document_setting_panel_default", "plugin_document_setting_panel_default", "import_block_editor", "import_components", "import_compose", "import_jsx_runtime", "isEverySelectedBlockAllowed", "selected", "allowed", "id", "shouldRenderItem", "selectedBlocks", "allowedBlocks", "PluginBlockSettingsMenuItem", "icon", "label", "onClick", "small", "role", "onClose", "plugin_block_settings_menu_item_default", "import_components", "import_plugins", "import_jsx_runtime", "PluginMoreMenuItem", "props", "context", "action_item_default", "import_plugins", "import_components", "import_jsx_runtime", "Fill", "Slot", "PluginPostPublishPanel", "children", "className", "title", "initialOpen", "icon", "pluginIcon", "plugin_post_publish_panel_default", "import_components", "import_jsx_runtime", "Fill", "Slot", "PluginPostStatusInfo", "children", "className", "plugin_post_status_info_default", "import_components", "import_plugins", "import_jsx_runtime", "Fill", "Slot", "PluginPrePublishPanel", "children", "className", "title", "initialOpen", "icon", "pluginIcon", "plugin_pre_publish_panel_default", "import_components", "import_plugins", "import_jsx_runtime", "PluginPreviewMenuItem", "props", "context", "action_item_default", "import_jsx_runtime", "PluginSidebar", "className", "props", "complementary_area_default", "import_jsx_runtime", "PluginSidebarMoreMenuItem", "props", "ComplementaryAreaMoreMenuItem", "import_data", "import_core_data", "import_data", "import_html_entities", "import_components", "import_element", "import_i18n", "import_core_data", "import_notices", "import_preferences", "import_element", "import_html_entities", "import_block_editor", "import_components", "import_i18n", "import_data", "import_core_data", "import_blocks", "import_remove_accents", "normalizeSearchInput", "input", "removeAccents", "getTemplateSearchRank", "template", "searchValue", "normalizedSearchValue", "normalizedTitle", "rank", "searchTerm", "searchTemplates", "templates", "rankedTemplates", "rank1", "rank2", "import_jsx_runtime", "SwapTemplateButton", "onClick", "showModal", "setShowModal", "postType", "postId", "useEditedPostContext", "availableTemplates", "useAvailableTemplates", "editEntityRecord", "coreStore", "onTemplateSelect", "template", "TemplatesList", "onSelect", "searchValue", "setSearchValue", "templatesAsPatterns", "filteredBlockTemplates", "searchTemplates", "BlockPatternsList", "import_components", "import_i18n", "import_data", "import_core_data", "import_jsx_runtime", "ResetDefaultTemplate", "onClick", "currentTemplateSlug", "useCurrentTemplateSlug", "allowSwitchingTemplate", "useAllowSwitchingTemplates", "postType", "postId", "useEditedPostContext", "editEntityRecord", "coreStore", "import_components", "import_i18n", "import_data", "import_core_data", "import_element", "import_jsx_runtime", "CreateNewTemplate", "canCreateTemplates", "select", "canUser", "coreStore", "isCreateModalOpen", "setIsCreateModalOpen", "allowSwitchingTemplate", "useAllowSwitchingTemplates", "CreateNewTemplateModal", "import_jsx_runtime", "BlockThemeControl", "id", "isTemplateHidden", "onNavigateToEntityRecord", "getEditorSettings", "hasGoBack", "hasSpecificTemplate", "select", "getRenderingMode", "_getEditorSettings", "getCurrentPost", "unlock", "store", "editorSettings", "currentPost", "getPreference", "preferencesStore", "template", "hasResolved", "getEntityRecord", "coreStore", "editEntityRecord", "createSuccessNotice", "noticesStore", "setRenderingMode", "setDefaultRenderingMode", "canCreateTemplate", "popoverAnchor", "setPopoverAnchor", "popoverProps", "notificationAction", "mayShowTemplateEditNotice", "post_panel_row_default", "onClose", "activeTemplates", "SwapTemplateButton", "ResetDefaultTemplate", "CreateNewTemplate", "check_default", "newRenderingMode", "import_jsx_runtime", "PostTemplatePanel", "templateId", "isBlockTheme", "select", "getCurrentTemplateId", "getEditorSettings", "store", "isVisible", "postTypeSlug", "coreStore", "settings", "canViewTemplates", "classic_theme_default", "BlockThemeControl", "import_data", "import_core_data", "import_compose", "import_element", "import_data", "import_i18n", "import_components", "import_i18n", "import_element", "import_data", "import_html_entities", "import_core_data", "BASE_QUERY", "AUTHORS_QUERY", "useAuthorsQuery", "search", "authorId", "authors", "postAuthor", "isLoading", "select", "getUser", "getUsers", "isResolving", "coreStore", "getEditedPostAttribute", "store", "_authorId", "query", "AUTHORS_QUERY", "BASE_QUERY", "authorOptions", "fetchedAuthors", "author", "foundAuthor", "value", "currentAuthor", "import_jsx_runtime", "PostAuthorCombobox", "fieldValue", "setFieldValue", "editPost", "store", "authorId", "authorOptions", "isLoading", "useAuthorsQuery", "handleSelect", "postAuthorId", "import_i18n", "import_data", "import_components", "import_jsx_runtime", "PostAuthorSelect", "editPost", "store", "authorId", "authorOptions", "useAuthorsQuery", "setAuthorId", "value", "author", "import_jsx_runtime", "minimumUsersForCombobox", "PostAuthor", "select", "coreStore", "AUTHORS_QUERY", "PostAuthorCombobox", "PostAuthorSelect", "post_author_default", "import_data", "import_jsx_runtime", "PostAuthorCheck", "children", "hasAssignAuthorAction", "select", "store", "post_type_support_check_default", "import_i18n", "import_components", "import_element", "import_html_entities", "import_block_editor", "import_data", "import_core_data", "import_jsx_runtime", "PostAuthorToggle", "isOpen", "onClick", "postAuthor", "select", "id", "store", "coreStore", "BASE_QUERY", "authorName", "PostAuthor", "popoverAnchor", "setPopoverAnchor", "popoverProps", "PostAuthorCheck", "post_panel_row_default", "onToggle", "onClose", "InspectorPopoverHeader", "post_author_default", "panel_default", "import_i18n", "import_components", "import_data", "import_jsx_runtime", "COMMENT_OPTIONS", "PostComments", "commentStatus", "select", "store", "editPost", "handleStatus", "newCommentStatus", "VStack", "post_comments_default", "import_i18n", "import_components", "import_data", "import_element", "import_block_editor", "import_core_data", "import_i18n", "import_components", "import_data", "import_jsx_runtime", "PostPingbacks", "pingStatus", "select", "store", "editPost", "onTogglePingback", "post_pingbacks_default", "import_jsx_runtime", "PANEL_NAME", "ModalContents", "onClose", "InspectorPopoverHeader", "VStack", "post_type_support_check_default", "post_comments_default", "post_pingbacks_default", "PostDiscussionToggle", "isOpen", "onClick", "commentStatus", "pingStatus", "commentsSupported", "trackbacksSupported", "select", "getEditedPostAttribute", "store", "getPostType", "coreStore", "postType", "label", "PostDiscussionPanel", "isEnabled", "isEditorPanelEnabled", "popoverAnchor", "setPopoverAnchor", "popoverProps", "post_panel_row_default", "onToggle", "import_i18n", "import_components", "import_data", "import_element", "import_html_entities", "import_jsx_runtime", "PostExcerpt", "hideLabelFromVision", "updateOnBlur", "excerpt", "shouldUseDescriptionLabel", "usedAttribute", "select", "getCurrentPostType", "getEditedPostAttribute", "store", "postType", "_usedAttribute", "editPost", "localExcerpt", "setLocalExcerpt", "updatePost", "value", "label", "import_jsx_runtime", "PostExcerptCheck", "children", "post_type_support_check_default", "check_default", "import_i18n", "import_components", "import_data", "import_element", "import_block_editor", "import_core_data", "import_html_entities", "import_components", "import_jsx_runtime", "Fill", "Slot", "PluginPostExcerpt", "children", "className", "plugin_default", "import_jsx_runtime", "PANEL_NAME", "ExcerptPanel", "isOpened", "isEnabled", "postType", "select", "isEditorPanelOpened", "isEditorPanelEnabled", "getCurrentPostType", "store", "toggleEditorPanelOpened", "toggleExcerptPanel", "shouldUseDescriptionLabel", "plugin_default", "fills", "PostExcerpt", "PostExcerptPanel", "check_default", "PrivatePostExcerptPanel", "PrivateExcerpt", "shouldRender", "excerpt", "shouldBeUsedAsDescription", "allowEditing", "getCurrentPostId", "getEditedPostAttribute", "isTemplateOrTemplatePart", "isPattern", "_shouldBeUsedAsDescription", "_excerpt", "template", "coreStore", "fallback", "getTemplateInfo", "_shouldRender", "TEMPLATE_ORIGINS", "popoverAnchor", "setPopoverAnchor", "label", "popoverProps", "excerptText", "Text", "excerptPlaceholder", "triggerEditLabel", "VStack", "onToggle", "onClose", "InspectorPopoverHeader", "import_i18n", "import_hooks", "import_components", "import_blob", "import_element", "import_compose", "import_data", "import_block_editor", "import_core_data", "import_data", "import_core_data", "ThemeSupportCheck", "children", "supportKeys", "postType", "themeSupports", "select", "store", "coreStore", "key", "supported", "import_jsx_runtime", "PostFeaturedImageCheck", "children", "ThemeSupportCheck", "post_type_support_check_default", "check_default", "import_jsx_runtime", "ALLOWED_MEDIA_TYPES", "DEFAULT_FEATURE_IMAGE_LABEL", "DEFAULT_SET_FEATURE_IMAGE_LABEL", "instructions", "getMediaDetails", "media", "postId", "defaultSize", "fallbackSize", "PostFeaturedImage", "currentPostId", "featuredImageId", "onUpdateImage", "onRemoveImage", "postType", "noticeUI", "noticeOperations", "isRequestingFeaturedImageMedia", "returnsFocusRef", "isLoading", "setIsLoading", "getSettings", "blockEditorStore", "mediaSourceUrl", "onDropFiles", "filesList", "image", "message", "getImageDescription", "imageMedia", "returnFocus", "node", "isMissingMedia", "check_default", "open", "HStack", "clsx_default", "applyWithSelect", "select", "getEntityRecord", "getPostType", "hasFinishedResolution", "coreStore", "getCurrentPostId", "getEditedPostAttribute", "store", "applyWithDispatch", "dispatch", "editPost", "post_featured_image_default", "import_i18n", "import_components", "import_data", "import_core_data", "import_jsx_runtime", "PANEL_NAME", "PostFeaturedImagePanel", "withPanelBody", "postType", "isEnabled", "isOpened", "select", "getEditedPostAttribute", "isEditorPanelEnabled", "isEditorPanelOpened", "store", "getPostType", "coreStore", "toggleEditorPanelOpened", "check_default", "post_featured_image_default", "import_i18n", "import_components", "import_data", "import_compose", "import_core_data", "import_data", "import_jsx_runtime", "PostFormatCheck", "children", "select", "store", "post_type_support_check_default", "import_jsx_runtime", "POST_FORMATS", "a", "b", "normalizedA", "normalizedB", "PostFormat", "postFormatSelectorId", "postFormat", "suggestedFormat", "supportedFormats", "select", "getEditedPostAttribute", "getSuggestedPostFormat", "store", "_postFormat", "themeSupports", "coreStore", "formats", "format", "suggestion", "editPost", "onUpdatePostFormat", "PostFormatCheck", "import_i18n", "import_components", "import_data", "import_data", "import_jsx_runtime", "PostLastRevisionCheck", "children", "lastRevisionId", "revisionsCount", "select", "getCurrentPostLastRevisionId", "getCurrentPostRevisionsCount", "store", "post_type_support_check_default", "check_default", "import_jsx_runtime", "usePostLastRevisionInfo", "select", "getCurrentPostLastRevisionId", "getCurrentPostRevisionsCount", "store", "PostLastRevision", "lastRevisionId", "revisionsCount", "setCurrentRevisionId", "unlock", "check_default", "backup_default", "PrivatePostLastRevision", "post_panel_row_default", "post_last_revision_default", "import_components", "import_jsx_runtime", "PostLastRevisionPanel", "check_default", "post_last_revision_default", "panel_default", "import_i18n", "import_components", "import_data", "import_url", "import_element", "import_hooks", "import_compose", "import_core_data", "import_jsx_runtime", "PostLockedModal", "hookName", "autosave", "updatePostLock", "store", "isLocked", "isTakeover", "user", "postId", "postLockUtils", "activePostLock", "postType", "previewLink", "supportsSync", "select", "isPostLocked", "isPostLockTakeover", "getPostLockUser", "getCurrentPostId", "getCurrentPostType", "getActivePostLock", "getEditedPostAttribute", "getEditedPostPreviewLink", "getEditorSettings", "getPostType", "getEntityConfig", "coreStore", "currentPostType", "sendPostLock", "data", "receivePostLock", "received", "releasePostLock", "xhr", "userDisplayName", "userAvatar", "unlockUrl", "allPostsUrl", "allPostsLabel", "HStack", "post_locked_modal_default", "import_i18n", "import_components", "import_data", "import_data", "PostPendingStatusCheck", "children", "hasPublishAction", "isPublished", "select", "isCurrentPostPublished", "getCurrentPost", "store", "check_default", "import_jsx_runtime", "PostPendingStatus", "status", "select", "store", "editPost", "togglePendingStatus", "check_default", "post_pending_status_default", "import_element", "import_components", "import_i18n", "import_data", "import_hooks", "import_core_data", "import_jsx_runtime", "writeInterstitialMessage", "targetDocument", "markup", "PostPreviewButton", "className", "textContent", "forceIsAutosaveable", "role", "onPreview", "postId", "currentPostLink", "previewLink", "isSaveable", "isViewable", "select", "editor", "store", "canView", "coreStore", "__unstableSaveForPreview", "targetId", "event", "previewWindow", "link", "import_components", "import_element", "import_data", "import_compose", "import_i18n", "import_data", "import_compose", "PublishButtonLabel", "isSmallerThanMediumViewport", "isPublished", "isBeingScheduled", "isSaving", "isPublishing", "hasPublishAction", "isAutosaving", "hasNonPostEntityChanges", "postStatusHasChanged", "postStatus", "postType", "select", "isCurrentPostPublished", "isEditedPostBeingScheduled", "isSavingPost", "isPublishingPost", "getCurrentPost", "getCurrentPostType", "isAutosavingPost", "getPostEdits", "getEditedPostAttribute", "store", "ATTACHMENT_POST_TYPE", "import_jsx_runtime", "noop", "PostPublishButton", "props", "callback", "args", "hasNonPostEntityChanges", "setEntitiesSavedStatesCallback", "savedEntities", "postType", "postId", "entitiesSavedStatesCallback", "elt", "forceIsDirty", "hasPublishAction", "isBeingScheduled", "isOpen", "isPostSavingLocked", "isPublishable", "isPublished", "isSaveable", "isSaving", "isAutoSaving", "isToggle", "savePostStatus", "onSubmit", "onToggle", "visibility", "isSavingNonPostEntityChanges", "postStatus", "postStatusHasChanged", "isButtonDisabled", "isToggleDisabled", "publishStatus", "onClickButton", "onClickToggle", "buttonProps", "toggleProps", "componentProps", "PublishButtonLabel", "post_publish_button_default", "select", "isSavingPost", "isAutosavingPost", "isEditedPostBeingScheduled", "getEditedPostVisibility", "isCurrentPostPublished", "isEditedPostSaveable", "isEditedPostPublishable", "getCurrentPost", "getCurrentPostType", "getCurrentPostId", "getEditedPostAttribute", "getPostEdits", "store", "dispatch", "editPost", "savePost", "status", "import_i18n", "import_element", "import_components", "import_data", "import_compose", "import_core_data", "import_i18n", "import_components", "import_data", "import_url", "import_core_data", "import_html_entities", "import_i18n", "import_element", "import_components", "import_compose", "import_data", "import_block_editor", "import_i18n", "VISIBILITY_OPTIONS", "import_jsx_runtime", "PostVisibility", "onClose", "instanceId", "status", "visibility", "password", "select", "store", "editPost", "hasPassword", "setHasPassword", "updateVisibility", "value", "updatePassword", "InspectorPopoverHeader", "VStack", "VISIBILITY_OPTIONS", "import_data", "PostVisibilityLabel", "usePostVisibilityLabel", "visibility", "select", "store", "VISIBILITY_OPTIONS", "option", "toDate", "argument", "argStr", "maxTime", "minTime", "millisecondsInMinute", "millisecondsInHour", "secondsInHour", "secondsInDay", "secondsInHour", "secondsInWeek", "secondsInYear", "secondsInMonth", "secondsInQuarter", "endOfMonth", "date", "_date", "toDate", "month", "startOfMonth", "date", "_date", "toDate", "parseISO", "argument", "options", "additionalDigits", "dateStrings", "splitDateString", "date", "parseYearResult", "parseYear", "parseDate", "timestamp", "time", "offset", "parseTime", "parseTimezone", "dirtyDate", "result", "patterns", "dateRegex", "timeRegex", "timezoneRegex", "dateString", "array", "timeString", "token", "regex", "captures", "year", "century", "isWeekDate", "dayOfYear", "parseDateUnit", "month", "day", "week", "dayOfWeek", "validateWeekDate", "dayOfISOWeekYear", "validateDate", "validateDayOfYearDate", "value", "hours", "parseTimeUnit", "minutes", "seconds", "validateTime", "millisecondsInHour", "millisecondsInMinute", "timezoneString", "sign", "validateTimezone", "isoWeekYear", "fourthOfJanuaryDay", "diff", "daysInMonths", "isLeapYearIndex", "_year", "_hours", "import_date", "import_i18n", "import_data", "import_block_editor", "import_element", "import_core_data", "import_jsx_runtime", "PrivatePublishDateTimePicker", "unlock", "blockEditorPrivateApis", "PostSchedule", "props", "PrivatePostSchedule", "onClose", "showPopoverHeaderActions", "isCompact", "postDate", "postType", "select", "store", "editPost", "onUpdateDate", "date", "previewedMonth", "setPreviewedMonth", "startOfMonth", "eventsByPostType", "coreStore", "endOfMonth", "events", "eventDate", "settings", "is12HourTime", "parseISO", "import_i18n", "import_date", "import_data", "PostScheduleLabel", "props", "usePostScheduleLabel", "full", "date", "isFloating", "select", "store", "getFullPostScheduleLabel", "getPostScheduleLabel", "dateAttribute", "timezoneAbbreviation", "getTimezoneAbbreviation", "formattedDate", "now", "isTimezoneSameAsSiteTimezone", "isSameDay", "tomorrow", "timezone", "siteOffset", "dateOffset", "left", "right", "import_i18n", "import_element", "import_data", "import_components", "import_core_data", "import_i18n", "import_element", "import_components", "import_data", "import_core_data", "import_compose", "import_a11y", "import_notices", "import_components", "import_data", "import_core_data", "import_jsx_runtime", "MIN_MOST_USED_TERMS", "DEFAULT_QUERY", "MostUsedTerms", "onSelect", "taxonomy", "_terms", "showTerms", "select", "mostUsedTerms", "coreStore", "terms", "unescapeTerms", "term", "import_jsx_runtime", "EMPTY_ARRAY", "MAX_TERMS_SUGGESTIONS", "DEFAULT_QUERY", "isSameTermName", "termA", "termB", "unescapeString", "termNamesToIds", "names", "terms", "termName", "term", "id", "FlatTermSelector", "slug", "values", "setValues", "search", "setSearch", "debouncedSearch", "termIds", "taxonomy", "hasAssignAction", "hasCreateAction", "hasResolvedTerms", "select", "getCurrentPost", "getEditedPostAttribute", "store", "getEntityRecords", "getEntityRecord", "hasFinishedResolution", "coreStore", "post", "_taxonomy", "_termIds", "query", "searchResults", "newValues", "suggestions", "editPost", "saveEntityRecord", "createErrorNotice", "noticesStore", "findOrCreateTerm", "newTerm", "unescapeTerm", "error", "onUpdateTerms", "newTermIds", "onChange", "termNames", "availableTerms", "uniqueTerms", "acc", "name", "n", "newTermNames", "newTerms", "newAvailableTerms", "appendTerm", "defaultName", "termAddedMessage", "newTermLabel", "singularName", "termAddedLabel", "termRemovedLabel", "removeTermLabel", "VStack", "MostUsedTerms", "flat_term_selector_default", "import_jsx_runtime", "TagsPanel", "tagLabels", "select", "coreStore", "addNewItem", "tagLabel", "panelBodyTitle", "flat_term_selector_default", "MaybeTagsPanel", "postHasTags", "siteHasTags", "isPostTypeSupported", "postType", "store", "tagsTaxonomy", "_isPostTypeSupported", "areTagsFetched", "tags", "siteTags", "hadTagsWhenOpeningThePanel", "maybe_tags_panel_default", "import_components", "import_data", "import_i18n", "import_core_data", "import_jsx_runtime", "getSuggestion", "supportedFormats", "suggestedPostFormat", "POST_FORMATS", "format", "PostFormatSuggestion", "suggestionText", "onUpdatePostFormat", "PostFormatPanel", "currentPostFormat", "suggestion", "select", "getEditedPostAttribute", "getSuggestedPostFormat", "store", "coreStore", "editPost", "panelBodyTitle", "import_i18n", "import_data", "import_components", "import_core_data", "import_element", "import_i18n", "import_element", "import_notices", "import_components", "import_data", "import_compose", "import_core_data", "import_a11y", "import_html_entities", "import_jsx_runtime", "normalizeTextString", "unlock", "componentsPrivateApis", "RECEIVE_INTERMEDIATE_RESULTS", "coreDataPrivateApis", "DEFAULT_QUERY", "MIN_TERMS_COUNT_FOR_FILTER", "EMPTY_ARRAY", "sortBySelected", "termsTree", "terms", "treeHasSelection", "termTree", "child", "termOrChildIsSelected", "termA", "termB", "termASelected", "termBSelected", "newTermTree", "findTerm", "parent", "name", "term", "getFilterMatcher", "filterValue", "matchTermsForFilter", "originalTerm", "HierarchicalTermSelector", "slug", "adding", "setAdding", "formName", "setFormName", "formParent", "setFormParent", "showForm", "setShowForm", "setFilterValue", "filteredTermsTree", "setFilteredTermsTree", "debouncedSpeak", "hasCreateAction", "hasAssignAction", "loading", "availableTerms", "taxonomy", "select", "getCurrentPost", "getEditedPostAttribute", "store", "getEntityRecord", "getEntityRecords", "isResolving", "coreStore", "_taxonomy", "post", "editPost", "saveEntityRecord", "availableTermsTree", "buildTermsTree", "createErrorNotice", "noticesStore", "addTerm", "onUpdateTerms", "termIds", "onChange", "termId", "newTerms", "id", "onChangeFormName", "value", "onChangeFormParent", "parentId", "onToggleForm", "onAddTerm", "event", "existingTerm", "newTerm", "error", "defaultName", "termAddedMessage", "setFilter", "newFilteredTermsTree", "getResultCount", "count", "i", "resultCount", "resultsFoundMessage", "renderTerms", "renderedTerms", "labelWithFallback", "labelProperty", "fallbackIsCategory", "fallbackIsNotCategory", "newTermButtonLabel", "newTermLabel", "parentSelectLabel", "noParentOption", "newTermSubmitLabel", "filterLabel", "groupLabel", "showFilter", "hierarchical_term_selector_default", "import_jsx_runtime", "MaybeCategoryPanel", "hasNoCategory", "hasSiteCategories", "select", "postType", "store", "canUser", "getEntityRecord", "coreStore", "categoriesTaxonomy", "defaultCategoryId", "defaultCategory", "postTypeSupportsCategories", "type", "categories", "siteCategories", "shouldShowPanel", "setShouldShowPanel", "panelBodyTitle", "hierarchical_term_selector_default", "maybe_category_panel_default", "import_components", "import_data", "import_i18n", "import_block_editor", "import_element", "import_blob", "import_url", "generateUniqueBasenames", "urls", "basenames", "url", "filename", "basename", "parts", "v4_default", "fetchMedia", "filePromise", "response", "blob", "import_jsx_runtime", "flattenBlocks", "blocks", "result", "block", "hasExternalMedia", "getMediaInfo", "url", "alt", "id", "Image", "clientId", "selectBlock", "blockEditorStore", "motion", "event", "MaybeUploadMediaPanel", "isUploading", "setIsUploading", "isAnimating", "setIsAnimating", "hadUploadError", "setHadUploadError", "editorBlocks", "mediaUpload", "select", "blocksWithExternalMedia", "updateBlockAttributes", "panelBodyTitle", "updateBlockWithUploadedMedia", "media", "uploadImages", "mediaUrls", "uploadPromises", "fetchMedia", "filePromise", "uploadPromise", "blob", "resolve", "reject", "AnimatePresence", "import_jsx_runtime", "PostPublishPanelPrepublish", "children", "isBeingScheduled", "isRequestingSiteIcon", "hasPublishAction", "siteIconUrl", "siteTitle", "siteHome", "select", "getCurrentPost", "isEditedPostBeingScheduled", "store", "getEntityRecord", "isResolving", "coreStore", "siteData", "siteIcon", "wordpress_default", "prePublishTitle", "prePublishBodyText", "MaybeUploadMediaPanel", "PostVisibilityLabel", "PostVisibility", "PostScheduleLabel", "PostSchedule", "PostFormatPanel", "maybe_tags_panel_default", "maybe_category_panel_default", "prepublish_default", "import_components", "import_i18n", "import_element", "import_data", "import_url", "import_html_entities", "import_compose", "import_core_data", "import_jsx_runtime", "POSTNAME", "PAGENAME", "getFuturePostUrl", "post", "slug", "CopyButton", "text", "showCopyConfirmation", "setShowCopyConfirmation", "timeoutIdRef", "ref", "PostPublishPanelPostpublish", "focusOnMount", "children", "postType", "isScheduled", "select", "getEditedPostAttribute", "getCurrentPost", "isCurrentPostScheduled", "store", "getPostType", "coreStore", "postLabel", "viewPostLabel", "addNewPostLabel", "link", "addLink", "postLinkRef", "node", "postPublishNonLinkHeader", "PostScheduleLabel", "event", "external_default", "import_jsx_runtime", "PostPublishPanel", "prevProps", "onClose", "hasPublishAction", "isPostTypeViewable", "forceIsDirty", "isBeingScheduled", "isPublished", "isPublishSidebarEnabled", "isScheduled", "isSaving", "isSavingNonPostEntityChanges", "onTogglePublishSidebar", "PostPublishExtension", "PrePublishExtension", "currentPostId", "additionalProps", "isDirty", "propsForPanel", "isPublishedOrScheduled", "isPrePublish", "isPostPublish", "close_small_default", "post_publish_button_default", "prepublish_default", "PostPublishPanelPostpublish", "post_publish_panel_default", "select", "getPostType", "coreStore", "getCurrentPost", "getCurrentPostId", "getEditedPostAttribute", "isCurrentPostPublished", "isCurrentPostScheduled", "isEditedPostBeingScheduled", "isEditedPostDirty", "isAutosavingPost", "isSavingPost", "store", "postType", "dispatch", "disablePublishSidebar", "enablePublishSidebar", "import_components", "import_compose", "import_data", "import_element", "import_i18n", "import_keycodes", "import_preferences", "import_components", "import_i18n", "import_data", "import_element", "import_core_data", "import_block_editor", "import_compose", "import_i18n", "import_components", "import_data", "import_data", "PostStickyCheck", "children", "hasStickyAction", "postType", "select", "store", "import_jsx_runtime", "PostSticky", "postSticky", "select", "store", "editPost", "PostStickyCheck", "import_jsx_runtime", "postStatusesInfo", "drafts_default", "pending_default", "not_allowed_default", "scheduled_default", "published_default", "STATUS_OPTIONS", "PostStatus", "status", "date", "password", "postId", "postType", "canEdit", "select", "getEditedPostAttribute", "getCurrentPostId", "getCurrentPostType", "getCurrentPost", "store", "showPassword", "setShowPassword", "passwordInputId", "editEntityRecord", "coreStore", "popoverAnchor", "setPopoverAnchor", "popoverProps", "DESIGN_POST_TYPES", "updatePost", "newStatus", "newPassword", "newDate", "handleTogglePassword", "value", "handleStatus", "post_panel_row_default", "onToggle", "isOpen", "onClose", "InspectorPopoverHeader", "event", "VStack", "PrivatePostSchedule", "PostSticky", "import_jsx_runtime", "PostSavedState", "forceIsDirty", "forceSavedMessage", "setForceSavedMessage", "isLargeViewport", "isAutosaving", "isDirty", "isNew", "isPublished", "isSaveable", "isSaving", "isScheduled", "hasPublishAction", "showIconLabels", "postStatus", "postStatusHasChanged", "postType", "select", "isEditedPostNew", "isCurrentPostPublished", "isCurrentPostScheduled", "isEditedPostDirty", "isSavingPost", "isEditedPostSaveable", "getCurrentPost", "isAutosavingPost", "getEditedPostAttribute", "getPostEdits", "store", "get", "preferencesStore", "isPending", "savePost", "wasSaving", "timeoutId", "ATTACHMENT_POST_TYPE", "isIneligibleStatus", "STATUS_OPTIONS", "value", "label", "shortLabel", "isSaved", "isSavedState", "isDisabled", "text", "clsx_default", "getAnimateClassName", "cloud_upload_default", "icon_default", "check_default", "cloud_default", "import_data", "PostScheduleCheck", "children", "select", "store", "import_components", "import_i18n", "import_element", "import_data", "import_jsx_runtime", "PostSchedulePanel", "popoverAnchor", "setPopoverAnchor", "postType", "select", "store", "popoverProps", "label", "usePostScheduleLabel", "fullLabel", "DESIGN_POST_TYPES", "PostScheduleCheck", "post_panel_row_default", "onToggle", "isOpen", "onClose", "PostSchedule", "import_components", "import_i18n", "import_data", "import_element", "import_deprecated", "import_jsx_runtime", "PostSwitchToDraftButton", "deprecated", "showConfirmDialog", "setShowConfirmDialog", "editPost", "savePost", "store", "isSaving", "isPublished", "isScheduled", "select", "isSavingPost", "isCurrentPostPublished", "isCurrentPostScheduled", "isDisabled", "alertMessage", "confirmButtonText", "handleConfirm", "ConfirmDialog", "import_data", "import_i18n", "import_jsx_runtime", "PostSyncStatus", "syncStatus", "postType", "select", "getEditedPostAttribute", "store", "post_panel_row_default", "import_element", "import_data", "import_core_data", "import_jsx_runtime", "identity", "x", "PostTaxonomies", "taxonomyWrapper", "postType", "taxonomies", "select", "store", "coreStore", "taxonomy", "TaxonomyComponent", "hierarchical_term_selector_default", "flat_term_selector_default", "post_taxonomies_default", "import_data", "import_core_data", "PostTaxonomiesCheck", "children", "select", "postType", "store", "coreStore", "taxonomy", "import_components", "import_data", "import_jsx_runtime", "TaxonomyPanel", "taxonomy", "children", "slug", "panelName", "isEnabled", "isOpened", "select", "isEditorPanelEnabled", "isEditorPanelOpened", "store", "toggleEditorPanelOpened", "taxonomyMenuName", "PostTaxonomies", "PostTaxonomiesCheck", "post_taxonomies_default", "content", "import_react_autosize_textarea", "import_i18n", "import_core_data", "import_element", "import_blocks", "import_data", "import_compose", "import_components", "import_jsx_runtime", "PostTextEditor", "instanceId", "content", "blocks", "type", "id", "select", "getEditedEntityRecord", "coreStore", "getCurrentPostType", "getCurrentPostId", "store", "_type", "_id", "editedRecord", "editEntityRecord", "value", "Textarea", "event", "import_i18n", "import_element", "import_html_entities", "import_data", "import_block_editor", "import_keycodes", "import_blocks", "import_rich_text", "import_compose", "import_dom", "DEFAULT_CLASSNAMES", "REGEXP_NEWLINES", "import_element", "import_data", "usePostTitleFocus", "forwardedRef", "ref", "isCleanNewPost", "select", "_isCleanNewPost", "store", "defaultView", "name", "parent", "ownerDocument", "activeElement", "body", "import_data", "usePostTitle", "editPost", "store", "title", "select", "getEditedPostAttribute", "updateTitle", "newTitle", "import_jsx_runtime", "PostTitle", "_", "forwardedRef", "placeholder", "isEditingContentOnlySection", "isPreview", "select", "getSettings", "getEditedContentOnlySection", "unlock", "blockEditorStore", "titlePlaceholder", "isPreviewMode", "isSelected", "setIsSelected", "focusRef", "usePostTitleFocus", "title", "onUpdate", "usePostTitle", "selection", "setSelection", "clearSelectedBlock", "insertBlocks", "insertDefaultBlock", "decodedPlaceholder", "value", "onChange", "richTextRef", "useRichText", "newValue", "REGEXP_NEWLINES", "newStart", "newEnd", "sel", "start", "end", "onInsertBlockAfter", "blocks", "onSelect", "onUnselect", "onEnterPress", "onKeyDown", "event", "onPaste", "clipboardData", "plainText", "html", "content", "firstBlock", "contentNoHTML", "stripHTML", "className", "clsx_default", "DEFAULT_CLASSNAMES", "style", "post_title_default", "post_type_support_check_default", "import_components", "import_i18n", "import_html_entities", "import_data", "import_block_editor", "import_element", "import_jsx_runtime", "PostTitleRaw", "_", "forwardedRef", "placeholder", "select", "getSettings", "blockEditorStore", "titlePlaceholder", "isSelected", "setIsSelected", "title", "onUpdate", "usePostTitle", "focusRef", "usePostTitleFocus", "onChange", "value", "REGEXP_NEWLINES", "onSelect", "onUnselect", "className", "clsx_default", "DEFAULT_CLASSNAMES", "decodedPlaceholder", "post_title_raw_default", "import_i18n", "import_components", "import_data", "import_element", "import_data", "import_core_data", "PostTrashCheck", "children", "canTrashPost", "select", "isEditedPostNew", "getCurrentPostId", "getCurrentPostType", "store", "canUser", "coreStore", "postType", "postId", "isNew", "canUserDelete", "GLOBAL_POST_TYPES", "import_jsx_runtime", "PostTrash", "onActionPerformed", "registry", "isNew", "isDeleting", "postId", "title", "select", "store", "trashPost", "showConfirmDialog", "setShowConfirmDialog", "handleConfirm", "item", "PostTrashCheck", "ConfirmDialog", "import_data", "import_url", "import_element", "import_block_editor", "import_i18n", "import_components", "import_notices", "import_core_data", "import_compose", "import_jsx_runtime", "PostURL", "onClose", "isEditable", "postSlug", "postLink", "permalinkPrefix", "permalinkSuffix", "permalink", "select", "post", "store", "postTypeSlug", "postType", "coreStore", "permalinkParts", "hasPublishAction", "editPost", "createNotice", "noticesStore", "forceEmptyField", "setForceEmptyField", "copyButtonRef", "postUrlSlugDescriptionId", "InspectorPopoverHeader", "VStack", "InputControl", "InputControlPrefixWrapper", "InputControlSuffixWrapper", "copy_small_default", "newValue", "event", "import_data", "import_core_data", "PostURLCheck", "children", "select", "postTypeSlug", "store", "coreStore", "import_data", "import_url", "PostURLLabel", "usePostURLLabel", "postLink", "select", "store", "import_element", "import_data", "import_components", "import_i18n", "import_url", "import_core_data", "import_jsx_runtime", "PostURLPanel", "isFrontPage", "select", "getCurrentPostId", "store", "getEditedEntityRecord", "canUser", "coreStore", "siteSettings", "_id", "popoverAnchor", "setPopoverAnchor", "popoverProps", "label", "PostURLCheck", "post_panel_row_default", "isOpen", "onToggle", "PostURLToggle", "onClose", "PostURL", "FrontPageLink", "onClick", "slug", "decodedSlug", "postLink", "getCurrentPost", "import_data", "PostVisibilityCheck", "render", "canEdit", "select", "store", "import_i18n", "import_components", "import_data", "import_element", "import_block_editor", "import_i18n", "import_data", "import_block_editor", "import_data", "import_i18n", "import_wordcount", "import_jsx_runtime", "WordCount", "content", "select", "store", "wordCountType", "wordCount", "import_data", "import_i18n", "import_wordcount", "import_element", "import_jsx_runtime", "AVERAGE_READING_RATE", "TimeToRead", "content", "select", "store", "wordCountType", "minutesToRead", "wordCount", "minutesToReadString", "import_data", "import_wordcount", "CharacterCount", "content", "select", "store", "characterCount", "import_jsx_runtime", "TableOfContentsPanel", "hasOutlineItemsDisabled", "onRequestClose", "headingCount", "paragraphCount", "numberOfBlocks", "select", "getGlobalBlockCount", "blockEditorStore", "WordCount", "CharacterCount", "TimeToRead", "DocumentOutline", "panel_default", "import_jsx_runtime", "TableOfContents", "hasOutlineItemsDisabled", "repositionDropdown", "props", "ref", "hasBlocks", "select", "blockEditorStore", "isOpen", "onToggle", "info_default", "onClose", "panel_default", "table_of_contents_default", "import_i18n", "import_element", "import_data", "import_core_data", "UnsavedChangesWarning", "__experimentalGetDirtyEntityRecords", "coreStore", "warnIfUnsavedChanges", "event", "import_deprecated", "import_element", "import_block_editor", "import_server_side_render", "import_jsx_runtime", "deprecateComponent", "name", "Wrapped", "staticsToHoist", "Component", "props", "ref", "deprecated", "staticName", "deprecateFunction", "func", "args", "RichText", "RootRichText", "Autocomplete", "RootAutocomplete", "AlignmentToolbar", "RootAlignmentToolbar", "BlockAlignmentToolbar", "RootBlockAlignmentToolbar", "BlockControls", "RootBlockControls", "BlockEdit", "RootBlockEdit", "BlockEditorKeyboardShortcuts", "RootBlockEditorKeyboardShortcuts", "BlockFormatControls", "RootBlockFormatControls", "BlockIcon", "RootBlockIcon", "BlockInspector", "RootBlockInspector", "BlockList", "RootBlockList", "BlockMover", "RootBlockMover", "BlockNavigationDropdown", "RootBlockNavigationDropdown", "BlockSelectionClearer", "RootBlockSelectionClearer", "BlockSettingsMenu", "RootBlockSettingsMenu", "BlockTitle", "RootBlockTitle", "BlockToolbar", "RootBlockToolbar", "ColorPalette", "RootColorPalette", "ContrastChecker", "RootContrastChecker", "CopyHandler", "RootCopyHandler", "DefaultBlockAppender", "RootDefaultBlockAppender", "FontSizePicker", "RootFontSizePicker", "Inserter", "RootInserter", "InnerBlocks", "RootInnerBlocks", "InspectorAdvancedControls", "RootInspectorAdvancedControls", "InspectorControls", "RootInspectorControls", "PanelColorSettings", "RootPanelColorSettings", "PlainText", "RootPlainText", "RichTextShortcut", "RootRichTextShortcut", "RichTextToolbarButton", "RootRichTextToolbarButton", "__unstableRichTextInputEvent", "__unstableRootRichTextInputEvent", "MediaPlaceholder", "RootMediaPlaceholder", "MediaUpload", "RootMediaUpload", "MediaUploadCheck", "RootMediaUploadCheck", "MultiSelectScrollIntoView", "RootMultiSelectScrollIntoView", "NavigableToolbar", "RootNavigableToolbar", "ObserveTyping", "RootObserveTyping", "SkipToSelectedBlock", "RootSkipToSelectedBlock", "URLInput", "RootURLInput", "URLInputButton", "RootURLInputButton", "URLPopover", "RootURLPopover", "Warning", "RootWarning", "WritingFlow", "RootWritingFlow", "createCustomColorsHOC", "rootCreateCustomColorsHOC", "getColorClassName", "rootGetColorClassName", "getColorObjectByAttributeValues", "rootGetColorObjectByAttributeValues", "getColorObjectByColorValue", "rootGetColorObjectByColorValue", "getFontSize", "rootGetFontSize", "getFontSizeClass", "rootGetFontSizeClass", "withColorContext", "rootWithColorContext", "withColors", "rootWithColors", "withFontSizes", "rootWithFontSizes", "VisualEditorGlobalKeyboardShortcuts", "EditorKeyboardShortcuts", "TextEditorGlobalKeyboardShortcuts", "setDefaultCompleters", "completers", "user_default", "import_element", "import_hooks", "import_deprecated", "import_media_utils", "import_jsx_runtime", "MediaUploadModalComponent", "unlock", "mediaUtilsPrivateApis", "MediaUploadModalWrapper", "props", "allowedTypes", "multiple", "value", "onSelect", "title", "modalClass", "render", "isOpen", "media", "deprecated", "import_hooks", "import_patterns", "import_compose", "import_block_editor", "import_data", "import_blocks", "import_jsx_runtime", "PatternOverridesControls", "ResetOverridesControl", "PATTERN_TYPES", "PATTERN_SYNC_TYPES", "unlock", "patternsPrivateApis", "withPatternOverrideControls", "BlockEdit", "props", "isSupportedBlock", "select", "__experimentalBlockBindingsSupportedAttributes", "blockEditorStore", "ControlsWithStoreSubscription", "blockEditingMode", "hasPatternOverridesSource", "isEditingSyncedPattern", "getCurrentPostType", "getEditedPostAttribute", "store", "bindings", "hasPatternBindings", "binding", "shouldShowPatternOverridesControls", "shouldShowResetOverridesControl", "import_hooks", "import_compose", "import_element", "import_i18n", "import_block_editor", "import_components", "import_data", "import_jsx_runtime", "SUPPORTED_BLOCKS", "NavigationViewButton", "attributes", "kind", "id", "type", "blockEditingMode", "onNavigateToEntityRecord", "select", "blockEditorStore", "onViewPage", "BlockToolbarLastItem", "withNavigationViewButton", "BlockEdit", "props", "isSupportedBlock", "import_hooks", "import_compose", "import_element", "import_i18n", "import_block_editor", "import_components", "import_data", "import_jsx_runtime", "NAVIGATION_BLOCK_NAME", "TEMPLATE_PART_BLOCK_NAME", "BLOCK_INSPECTOR_AREA", "TemplatePartNavigationEditButton", "clientId", "selectBlock", "flashBlock", "blockEditorStore", "enableComplementaryArea", "store", "hasNavigationBlocks", "firstNavigationBlockId", "isNavigationEditable", "select", "getClientIdsOfDescendants", "getBlockName", "getBlockEditingMode", "navigationBlocksInTemplatePart", "blockId", "_hasNavigationBlocks", "_firstNavigationBlockId", "onEditNavigation", "BlockToolbarLastItem", "withTemplatePartNavigationEditButton", "BlockEdit", "props", "isTemplatePart", "import_hooks", "import_compose", "import_block_editor", "import_components", "import_i18n", "import_blocks", "import_element", "import_data", "import_notices", "import_core_data", "setNestedValue", "object", "path", "value", "acc", "key", "idx", "import_jsx_runtime", "cleanEmptyObject", "unlock", "blockEditorPrivateApis", "STYLE_PROPERTY", "STYLE_PATH_TO_CSS_VAR_INFIX", "STYLE_PATH_TO_PRESET_BLOCK_ATTRIBUTE", "SUPPORTED_STYLES", "getValueFromObjectPath", "object", "path", "value", "fieldName", "flatBorderProperties", "sides", "getBorderStyleChanges", "border", "presetColor", "userStyle", "changes", "getFallbackBorderStyleChange", "customColor", "style", "width", "side", "globalBorderStyle", "color", "useChangesToPush", "name", "attributes", "userConfig", "supports", "select", "blocksStore", "blockUserConfig", "key", "presetAttributeKey", "presetAttributeValue", "linkChanges", "hoverPath", "hoverValue", "borderChanges", "currentPath", "change", "PushChangesToGlobalStylesControl", "setAttributes", "setUserConfig", "useGlobalStyles", "__unstableMarkNextChangeAsNotPersistent", "blockEditorStore", "createSuccessNotice", "noticesStore", "pushChanges", "blockStyles", "newBlockStyles", "newUserConfig", "setNestedValue", "newBlockAttributes", "PushChangesToGlobalStyles", "props", "blockEditingMode", "isBlockBasedTheme", "coreStore", "supportsStyles", "feature", "withPushChangesToGlobalStyles", "BlockEdit", "import_components", "import_jsx_runtime", "slotName", "useHasBackButton", "fills", "useSlotFills", "Fill", "Slot", "BackButton", "BackButtonSlot", "back_button_default", "import_data", "import_core_data", "import_components", "import_i18n", "import_element", "import_block_editor", "import_data", "import_element", "import_block_editor", "useGenerateBlockPath", "registry", "clientId", "getBlock", "getBlockParents", "getBlockOrder", "blockEditorStore", "parents", "path", "hierarchy", "i", "currentClientId", "currentBlock", "parentClientId", "index", "useRestoreBlockFromPath", "currentParentId", "step", "siblings", "candidateClientId", "candidateBlock", "import_data", "import_i18n", "import_preferences", "import_block_editor", "import_compose", "import_element", "import_html_entities", "import_block_editor", "import_data", "import_compose", "import_preferences", "import_element", "import_block_editor", "import_element", "import_components", "import_i18n", "import_data", "import_jsx_runtime", "useHasBlockToolbar", "unlock", "blockEditorPrivateApis", "CollapsibleBlockToolbar", "isCollapsed", "onToggle", "blockSelectionStart", "select", "blockEditorStore", "hasBlockToolbar", "hasBlockSelection", "clsx_default", "next_default", "previous_default", "import_compose", "import_data", "import_i18n", "import_block_editor", "import_components", "import_element", "import_keyboard_shortcuts", "import_preferences", "import_jsx_runtime", "DocumentTools", "className", "disableBlockTools", "setIsInserterOpened", "setIsListViewOpened", "store", "isDistractionFree", "isInserterOpened", "isListViewOpen", "listViewShortcut", "inserterSidebarToggleRef", "listViewToggleRef", "showIconLabels", "select", "get", "preferencesStore", "isListViewOpened", "getEditorMode", "getInserterSidebarToggleRef", "getListViewToggleRef", "unlock", "getShortcutRepresentation", "keyboardShortcutsStore", "preventDefault", "event", "isWideViewport", "toolbarAriaLabel", "toggleListView", "toggleInserter", "longLabel", "shortLabel", "clsx_default", "plus_default", "undo_default", "redo_default", "list_view_default", "document_tools_default", "import_components", "import_jsx_runtime", "toolbarVariations", "backButtonVariations", "HeaderSkeleton", "className", "toolbar", "center", "settings", "hasBackButton", "useHasBackButton", "clsx_default", "motion", "back_button_default", "import_i18n", "import_data", "import_keycodes", "import_components", "import_preferences", "import_components", "import_data", "import_i18n", "import_compose", "import_notices", "import_core_data", "import_blocks", "import_jsx_runtime", "CopyContentMenuItem", "createNotice", "noticesStore", "getCurrentPostId", "getCurrentPostType", "store", "getEditedEntityRecord", "coreStore", "getText", "record", "onSuccess", "ref", "import_i18n", "import_components", "import_data", "import_keyboard_shortcuts", "import_jsx_runtime", "MODES", "ModeSwitcher", "shortcut", "isRichEditingEnabled", "isCodeEditingEnabled", "mode", "select", "keyboardShortcutsStore", "store", "switchEditorMode", "selectedMode", "choices", "choice", "mode_switcher_default", "import_components", "import_jsx_runtime", "ToolsMoreMenuGroup", "Slot", "fillProps", "tools_more_menu_group_default", "import_components", "import_element", "import_jsx_runtime", "ViewMoreMenuGroup", "Slot", "fillProps", "view_more_menu_group_default", "import_jsx_runtime", "MoreMenu", "disabled", "openModal", "store", "setPreference", "preferencesStore", "toggleDistractionFree", "showIconLabels", "select", "turnOffDistractionFree", "more_vertical_default", "onClose", "view_more_menu_group_default", "mode_switcher_default", "action_item_default", "CopyContentMenuItem", "external_default", "tools_more_menu_group_default", "import_compose", "import_data", "import_jsx_runtime", "IS_TOGGLE", "IS_BUTTON", "PostPublishButtonOrToggle", "forceIsDirty", "setEntitiesSavedStatesCallback", "component", "isSmallerThanMediumViewport", "togglePublishSidebar", "store", "hasPublishAction", "isBeingScheduled", "isPending", "isPublished", "isPublishSidebarEnabled", "isPublishSidebarOpened", "isScheduled", "postStatus", "postStatusHasChanged", "postType", "select", "ATTACHMENT_POST_TYPE", "post_publish_button_default", "import_i18n", "import_components", "import_core_data", "import_data", "import_preferences", "import_jsx_runtime", "PostViewLink", "hasLoaded", "permalink", "isPublished", "label", "showIconLabels", "select", "postTypeSlug", "store", "postType", "coreStore", "get", "preferencesStore", "external_default", "import_compose", "import_components", "import_i18n", "import_data", "import_core_data", "import_preferences", "import_block_editor", "import_jsx_runtime", "PreviewDropdown", "forceIsAutosaveable", "disabled", "deviceType", "homeUrl", "isTemplate", "isViewable", "showIconLabels", "isTemplateHidden", "templateId", "select", "getDeviceType", "getCurrentPostType", "getCurrentTemplateId", "getRenderingMode", "store", "getEntityRecord", "getPostType", "coreStore", "get", "preferencesStore", "_currentPostType", "setDeviceType", "setRenderingMode", "setDefaultRenderingMode", "unlock", "resetZoomLevel", "blockEditorStore", "handleDevicePreviewChange", "newDeviceType", "popoverProps", "toggleProps", "menuProps", "deviceIcons", "desktop_default", "mobile_default", "tablet_default", "choices", "clsx_default", "onClose", "external_default", "check_default", "newRenderingMode", "PostPreviewButton", "action_item_default", "import_components", "import_i18n", "import_element", "import_data", "import_block_editor", "import_preferences", "import_keyboard_shortcuts", "import_keycodes", "import_jsx_runtime", "ZoomOutToggle", "disabled", "isZoomOut", "showIconLabels", "isDistractionFree", "select", "unlock", "blockEditorStore", "preferencesStore", "resetZoomLevel", "setZoomLevel", "registerShortcut", "unregisterShortcut", "keyboardShortcutsStore", "square_default", "zoom_out_toggle_default", "import_components", "Fill", "Slot", "EditorPresence", "import_jsx_runtime", "Header", "customSaveButton", "forceIsDirty", "setEntitiesSavedStatesCallback", "isWideViewport", "isLargeViewport", "isTooNarrowForDocumentBar", "postType", "isTextEditor", "isPublishSidebarOpened", "showIconLabels", "hasFixedToolbar", "hasBlockSelection", "hasSectionRootClientId", "isStylesCanvasActive", "isAttachment", "select", "getPreference", "preferencesStore", "getEditorMode", "getCurrentPostType", "_isPublishSidebarOpened", "store", "getStylesPath", "getShowStylebook", "unlock", "getBlockSelectionStart", "getSectionRootClientId", "blockEditorStore", "ATTACHMENT_POST_TYPE", "canBeZoomedOut", "disablePreviewOption", "NAVIGATION_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "PATTERN_POST_TYPE", "isBlockToolsCollapsed", "setIsBlockToolsCollapsed", "HeaderSkeleton", "document_tools_default", "CollapsibleBlockToolbar", "Slot", "fills", "DocumentBar", "PostSavedState", "PostViewLink", "PreviewDropdown", "PostPreviewButton", "zoom_out_toggle_default", "pinned_items_default", "PostPublishButtonOrToggle", "MoreMenu", "header_default", "import_data", "import_block_editor", "import_compose", "import_element", "import_preferences", "import_keycodes", "import_jsx_runtime", "PrivateInserterLibrary", "unlock", "blockEditorPrivateApis", "InserterSidebar", "blockSectionRootClientId", "inserterSidebarToggleRef", "inserter", "showMostUsedBlocks", "sidebarIsOpened", "select", "getInserterSidebarToggleRef", "getInserter", "isPublishSidebarOpened", "store", "getBlockRootClientId", "isZoomOut", "getSectionRootClientId", "blockEditorStore", "get", "preferencesStore", "getActiveComplementaryArea", "getBlockSectionRootClientId", "sectionRootClientId", "setIsInserterOpened", "disableComplementaryArea", "isMobileViewport", "libraryRef", "closeInserterSidebar", "closeOnEscape", "event", "inserterContents", "import_block_editor", "import_compose", "import_data", "import_dom", "import_element", "import_i18n", "import_keyboard_shortcuts", "import_keycodes", "import_components", "import_i18n", "import_jsx_runtime", "ListViewOutline", "Text", "CharacterCount", "WordCount", "TimeToRead", "DocumentOutline", "import_jsx_runtime", "TabbedSidebar", "unlock", "blockEditorPrivateApis", "ListViewSidebar", "setIsListViewOpened", "store", "getListViewToggleRef", "focusOnMountRef", "closeListView", "closeOnEscape", "event", "dropZoneElement", "setDropZoneElement", "tab", "setTab", "sidebarRef", "tabsRef", "listViewRef", "listViewContainerRef", "handleSidebarFocus", "currentTab", "tabPanelFocus", "listViewApplicationFocus", "handleToggleListViewShortcut", "ListView", "ListViewOutline", "tabName", "import_data", "import_compose", "import_components", "import_preferences", "import_i18n", "import_element", "import_data", "import_components", "import_core_data", "import_i18n", "import_date", "import_jsx_runtime", "RevisionsSlider", "revisions", "isLoading", "currentRevisionId", "select", "getCurrentPostId", "getCurrentPostType", "store", "getRevisions", "isResolving", "coreStore", "postId", "postType", "query", "unlock", "setCurrentRevisionId", "sortedRevisions", "a", "b", "selectedIndex", "r", "handleSliderChange", "index", "revision", "dateSettings", "getDateSettings", "renderTooltipContent", "revisions_slider_default", "import_jsx_runtime", "RevisionsHeader", "isWideViewport", "postType", "showIconLabels", "currentRevisionId", "select", "getPreference", "preferencesStore", "getCurrentPostType", "store", "unlock", "setCurrentRevisionId", "restoreRevision", "disablePreviewOption", "NAVIGATION_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "PATTERN_POST_TYPE", "canRestore", "handleRestore", "HeaderSkeleton", "revisions_slider_default", "PreviewDropdown", "PostPreviewButton", "pinned_items_default", "MoreMenu", "revisions_header_default", "import_components", "import_block_editor", "import_blocks", "import_data", "import_element", "import_block_editor", "import_element", "import_data", "import_blocks", "import_core_data", "import_compose", "import_data", "import_core_data", "import_element", "import_i18n", "import_components", "import_jsx_runtime", "EditTemplateBlocksNotification", "contentRef", "onNavigateToEntityRecord", "templateId", "select", "getEditorSettings", "getCurrentTemplateId", "store", "canEditTemplate", "coreStore", "isDialogOpen", "setIsDialogOpen", "handleDblClick", "event", "canvas", "ConfirmDialog", "import_compose", "import_data", "import_block_editor", "DISTANCE_THRESHOLD", "clamp", "value", "min", "max", "distanceFromRect", "x", "y", "rect", "dx", "dy", "useSelectNearestEditableBlock", "isEnabled", "getEnabledClientIdsTree", "getBlockName", "getBlockOrder", "unlock", "blockEditorStore", "selectBlock", "element", "selectNearestEditableBlock", "editableBlockClientIds", "clientId", "blockName", "innerBlocks", "nearestDistance", "nearestClientId", "block", "distance", "handleClick", "event", "import_data", "import_compose", "import_block_editor", "useZoomOutModeExit", "getSettings", "isZoomOut", "unlock", "blockEditorStore", "resetZoomLevel", "node", "onDoubleClick", "event", "__experimentalSetIsInserterOpened", "import_data", "import_compose", "import_block_editor", "import_blocks", "CSS", "usePaddingAppender", "enabled", "registry", "effect", "node", "onMouseDown", "event", "lastChild", "lastChildRect", "blockOrder", "blockEditorStore", "lastBlockClientId", "lastBlock", "selectBlock", "insertDefaultBlock", "ownerDocument", "import_data", "import_compose", "import_block_editor", "useEditContentOnlySectionExit", "getEditedContentOnlySection", "unlock", "blockEditorStore", "stopEditingContentOnlySection", "node", "onClick", "event", "editedContentOnlySection", "import_data", "import_compose", "import_blocks", "import_core_data", "import_block_editor", "import_components", "import_i18n", "import_jsx_runtime", "SyncConnectionModal", "connectionState", "content", "select", "blocks", "blockEditorStore", "serializedContent", "coreDataStore", "copyButtonRef", "title", "description", "getSyncErrorMessages", "error_default", "VStack", "HStack", "import_jsx_runtime", "LayoutStyle", "useLayoutClasses", "useLayoutStyles", "BlockCanvas", "useFlashEditableBlocks", "unlock", "blockEditorPrivateApis", "getPostContentAttributes", "blocks", "i", "nestedPostContent", "checkForPostContentAtRootLevel", "VisualEditor", "autoFocus", "disableIframe", "iframeProps", "contentRef", "className", "isMobileViewport", "renderingMode", "postContentAttributes", "editedPostTemplate", "wrapperBlockName", "wrapperUniqueId", "deviceType", "isFocusedEntity", "isDesignPostType", "postType", "isPreview", "styles", "canvasMinHeight", "select", "getCurrentPostId", "getCurrentPostType", "getCurrentTemplateId", "getEditorSettings", "getRenderingMode", "getDeviceType", "getCanvasMinHeight", "store", "getPostType", "getEditedEntityRecord", "coreStore", "postTypeSlug", "_renderingMode", "_wrapperBlockName", "PATTERN_POST_TYPE", "editorSettings", "supportsTemplateMode", "postTypeObject", "currentTemplateId", "template", "TEMPLATE_POST_TYPE", "DESIGN_POST_TYPES", "isCleanNewPost", "hasRootPaddingAwareAlignments", "themeHasDisabledLayoutStyles", "themeSupportsLayout", "isZoomedOut", "getSettings", "_isZoomOut", "blockEditorStore", "_settings", "localRef", "deviceStyles", "useResizeCanvas", "globalLayoutSettings", "fallbackLayout", "newestPostContentAttributes", "parseableContent", "hasPostContentAtRootLevel", "layout", "align", "postContentLayoutClasses", "blockListLayoutClass", "clsx_default", "postContentLayoutStyles", "postContentLayout", "blockListLayout", "postEditorLayout", "observeTypingRef", "useTypingObserver", "titleRef", "alignCSS", "enableResizing", "NAVIGATION_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "calculatedMinHeight", "ownerDocument", "scrollTop", "paddingAppenderRef", "paddingStyle", "usePaddingAppender", "iframeStyles", "typewriterRef", "useTypewriter", "useSelectNearestEditableBlock", "useZoomOutModeExit", "useEditContentOnlySectionExit", "SyncConnectionModal", "resizable_editor_default", "post_title_default", "EditTemplateBlocksNotification", "visual_editor_default", "import_array", "preserveClientIds", "newBlocks", "prevBlocks", "newSigs", "block", "prevSigs", "diffResult", "newIndex", "prevIndex", "result", "chunk", "i", "newBlock", "prevBlock", "import_jsx_runtime", "ExperimentalBlockEditorProvider", "unlock", "blockEditorPrivateApis", "RevisionsCanvas", "revision", "postType", "blockEditorSettings", "select", "getCurrentRevision", "getCurrentPostType", "store", "blockEditorStore", "previousBlocksRef", "blocks", "parsedBlocks", "blocksWithStableIds", "preserveClientIds", "settings", "visual_editor_default", "import_data", "import_components", "import_i18n", "import_element", "import_jsx_runtime", "Fill", "Slot", "SavePublishPanels", "setEntitiesSavedStatesCallback", "closeEntitiesSavedStates", "isEntitiesSavedStatesOpen", "forceIsDirtyPublishPanel", "closePublishSidebar", "togglePublishSidebar", "store", "publishSidebarOpened", "isPublishable", "isDirty", "hasOtherEntitiesChanges", "select", "isPublishSidebarOpened", "isEditedPostPublishable", "isCurrentPostPublished", "isEditedPostDirty", "hasNonPostEntityChanges", "_hasOtherEntitiesChanges", "openEntitiesSavedStates", "unmountableContent", "post_publish_panel_default", "plugin_pre_publish_panel_default", "plugin_post_publish_panel_default", "EntitiesSavedStates", "Slot", "import_components", "import_data", "import_i18n", "import_keyboard_shortcuts", "import_element", "import_jsx_runtime", "TextEditor", "autoFocus", "switchEditorMode", "store", "shortcut", "isRichEditingEnabled", "select", "getEditorSettings", "getShortcutRepresentation", "keyboardShortcutsStore", "titleRef", "post_title_raw_default", "PostTextEditor", "import_element", "import_jsx_runtime", "MediaEditorContext", "MediaEditorProvider", "value", "onChange", "settings", "children", "contextValue", "useMediaEditorContext", "context", "import_components", "import_element", "import_i18n", "getMediaTypeFromMimeType", "mimeType", "import_jsx_runtime", "MediaPreviewContent", "mediaType", "mediaUrl", "altText", "displayTitle", "mimeType", "onLoad", "onError", "loadingState", "MediaPreview", "props", "setLoadingState", "media", "useMediaEditorContext", "title", "getMediaTypeFromMimeType", "import_element", "React", "UNINITIALIZED", "useRefWithInit", "init", "initArg", "ref", "formatErrorMessage", "code", "args", "url", "arg", "React", "useMergedRefs", "a", "b", "c", "d", "forkRef", "useRefWithInit", "createForkRef", "didChange", "update", "useMergedRefsN", "refs", "didChangeN", "newRefs", "ref", "index", "instance", "cleanupCallbacks", "i", "refCleanup", "cleanupCallback", "React", "React", "majorVersion", "isReactVersionAtLeast", "reactVersionToCheck", "getReactElementRef", "element", "reactElement", "propsWithRef", "isReactVersionAtLeast", "mergeObjects", "a", "b", "getStateAttributesProps", "state", "customMapping", "props", "key", "value", "customProps", "resolveClassName", "className", "state", "resolveStyle", "style", "state", "EMPTY_PROPS", "mergeProps", "a", "b", "c", "d", "e", "merged", "resolvePropsGetter", "mergeOne", "mergePropsN", "props", "i", "inputProps", "isPropsGetter", "mutablyMergeInto", "mergedProps", "externalProps", "propName", "externalPropValue", "mergeObjects", "mergeClassNames", "isEventHandler", "mergeEventHandlers", "key", "value", "code0", "code1", "code2", "previousProps", "ourHandler", "theirHandler", "event", "isSyntheticEvent", "baseUIEvent", "makeEventPreventable", "result", "ourClassName", "theirClassName", "EMPTY_ARRAY", "EMPTY_OBJECT", "import_react", "useRenderElement", "element", "componentProps", "params", "renderProp", "outProps", "useRenderElementProps", "state", "EMPTY_OBJECT", "evaluateRenderProp", "classNameProp", "styleProp", "ref", "props", "stateAttributesMapping", "enabled", "className", "resolveClassName", "style", "resolveStyle", "stateProps", "getStateAttributesProps", "mergeObjects", "mergePropsN", "useMergedRefsN", "getReactElementRef", "useMergedRefs", "mergeClassNames", "render", "mergedProps", "mergeProps", "renderTag", "formatErrorMessage", "Tag", "_createElement", "hasWindow", "getNodeName", "node", "isNode", "getWindow", "_node$ownerDocument", "getDocumentElement", "_ref", "value", "isElement", "isHTMLElement", "isShadowRoot", "invalidOverflowDisplayValues", "isOverflowElement", "element", "overflow", "overflowX", "overflowY", "display", "getComputedStyle", "tableElements", "isTableElement", "topLayerSelectors", "isTopLayer", "selector", "transformProperties", "willChangeValues", "containValues", "isContainingBlock", "elementOrCss", "webkit", "isWebKit", "css", "getContainingBlock", "currentNode", "getParentNode", "isLastTraversableNode", "lastTraversableNodeNames", "getNodeScroll", "result", "getNearestOverflowAncestor", "parentNode", "getOverflowAncestors", "list", "traverseIframes", "_node$ownerDocument2", "scrollableAncestor", "isBody", "win", "frameElement", "getFrameElement", "min", "max", "round", "floor", "createCoords", "v", "evaluate", "value", "param", "getSide", "placement", "getAlignment", "getOppositeAxis", "axis", "getAxisLength", "yAxisSides", "getSideAxis", "getAlignmentAxis", "rectToClientRect", "rect", "x", "y", "width", "height", "computeCoordsFromPlacement", "_ref", "placement", "rtl", "reference", "floating", "sideAxis", "getSideAxis", "alignmentAxis", "getAlignmentAxis", "alignLength", "getAxisLength", "side", "getSide", "isVertical", "commonX", "commonY", "commonAlign", "coords", "getAlignment", "computePosition", "config", "strategy", "middleware", "platform", "validMiddleware", "rects", "x", "y", "statefulPlacement", "middlewareData", "resetCount", "i", "name", "fn", "nextX", "nextY", "data", "reset", "originSides", "convertValueToCoords", "state", "options", "placement", "platform", "elements", "rtl", "side", "getSide", "alignment", "getAlignment", "isVertical", "getSideAxis", "mainAxisMulti", "crossAxisMulti", "rawValue", "evaluate", "mainAxis", "crossAxis", "alignmentAxis", "offset", "_middlewareData$offse", "_middlewareData$arrow", "x", "y", "middlewareData", "diffCoords", "getCssDimensions", "element", "css", "getComputedStyle", "width", "height", "hasOffset", "isHTMLElement", "offsetWidth", "offsetHeight", "shouldFallback", "round", "unwrapElement", "isElement", "getScale", "domElement", "createCoords", "rect", "$", "x", "y", "noOffsets", "getVisualOffsets", "win", "getWindow", "isWebKit", "shouldAddVisualOffsets", "isFixed", "floatingOffsetParent", "getBoundingClientRect", "includeScale", "isFixedStrategy", "offsetParent", "clientRect", "scale", "visualOffsets", "offsetWin", "currentWin", "currentIFrame", "getFrameElement", "iframeScale", "iframeRect", "left", "top", "rectToClientRect", "getWindowScrollBarX", "leftScroll", "getNodeScroll", "getDocumentElement", "getHTMLOffset", "documentElement", "scroll", "htmlRect", "convertOffsetParentRelativeRectToViewportRelativeRect", "_ref", "elements", "strategy", "topLayer", "isTopLayer", "offsets", "isOffsetParentAnElement", "getNodeName", "isOverflowElement", "offsetRect", "htmlOffset", "getClientRects", "getDocumentRect", "html", "body", "max", "SCROLLBAR_MAX", "getViewportRect", "visualViewport", "visualViewportBased", "windowScrollbarX", "doc", "bodyStyles", "bodyMarginInline", "clippingStableScrollbarWidth", "absoluteOrFixed", "getInnerBoundingClientRect", "getClientRectFromClippingAncestor", "clippingAncestor", "hasFixedPositionAncestor", "stopNode", "parentNode", "getParentNode", "isLastTraversableNode", "getClippingElementAncestors", "cache", "cachedResult", "result", "getOverflowAncestors", "el", "currentContainingBlockComputedStyle", "elementIsFixed", "currentNode", "computedStyle", "currentNodeIsContaining", "isContainingBlock", "ancestor", "getClippingRect", "boundary", "rootBoundary", "clippingAncestors", "firstClippingAncestor", "clippingRect", "accRect", "min", "getDimensions", "getRectRelativeToOffsetParent", "setLeftRTLScrollbarOffset", "isStaticPositioned", "getTrueOffsetParent", "polyfill", "rawOffsetParent", "getOffsetParent", "svgOffsetParent", "isTableElement", "getContainingBlock", "getElementRects", "data", "getOffsetParentFn", "getDimensionsFn", "floatingDimensions", "isRTL", "platform", "rectsAreEqual", "a", "b", "observeMove", "onMove", "io", "timeoutId", "root", "cleanup", "_io", "refresh", "skip", "threshold", "elementRectForRootMargin", "insetTop", "floor", "insetRight", "insetBottom", "insetLeft", "options", "isFirstUpdate", "handleObserve", "entries", "ratio", "autoUpdate", "reference", "floating", "update", "ancestorScroll", "ancestorResize", "elementResize", "layoutShift", "animationFrame", "referenceEl", "ancestors", "cleanupIo", "reobserveFrame", "resizeObserver", "firstEntry", "_resizeObserver", "frameId", "prevRefRect", "frameLoop", "nextRefRect", "_resizeObserver2", "offset", "computePosition", "reference", "floating", "options", "cache", "mergedOptions", "platform", "platformWithCache", "useRender", "params", "useRenderElement", "import_element", "import_jsx_runtime", "DEFAULT_RENDER", "props", "capitalize", "str", "getSpacingValue", "property", "target", "value", "getDimensionVariantStyles", "result", "key", "Box", "backgroundColor", "color", "padding", "borderRadius", "borderWidth", "borderColor", "render", "ref", "style", "useRender", "mergeProps", "import_jsx_runtime", "DEFAULT_RENDER", "props", "getIntentStyles", "intent", "Badge", "children", "render", "ref", "intentStyles", "Box", "import_element", "style", "style_default", "Stack", "direction", "gap", "align", "justify", "wrap", "render", "props", "ref", "useRender", "mergeProps", "import_i18n", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "OPERATOR_BETWEEN", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_ON", "OPERATOR_NOT_ON", "sortLabels", "import_private_apis", "lock", "unlock", "import_element", "EMPTY_ARRAY", "useElements", "elements", "getElements", "staticElements", "records", "setRecords", "isLoading", "setIsLoading", "cancelled", "fetchedElements", "dynamicElements", "maxTime", "minTime", "millisecondsInWeek", "millisecondsInDay", "secondsInHour", "secondsInDay", "secondsInHour", "secondsInWeek", "secondsInYear", "secondsInMonth", "secondsInQuarter", "constructFromSymbol", "constructFrom", "date", "value", "constructFromSymbol", "toDate", "argument", "context", "constructFrom", "addDays", "date", "amount", "options", "_date", "toDate", "constructFrom", "addMonths", "date", "amount", "options", "_date", "toDate", "constructFrom", "dayOfMonth", "endOfDesiredMonth", "daysInMonth", "defaultOptions", "getDefaultOptions", "startOfWeek", "date", "options", "defaultOptions", "getDefaultOptions", "weekStartsOn", "_date", "toDate", "day", "diff", "startOfISOWeek", "date", "options", "startOfWeek", "getISOWeekYear", "date", "options", "_date", "toDate", "year", "fourthOfJanuaryOfNextYear", "constructFrom", "startOfNextYear", "startOfISOWeek", "fourthOfJanuaryOfThisYear", "startOfThisYear", "getTimezoneOffsetInMilliseconds", "date", "_date", "toDate", "utcDate", "normalizeDates", "context", "dates", "normalize", "constructFrom", "date", "startOfDay", "date", "options", "_date", "toDate", "differenceInCalendarDays", "laterDate", "earlierDate", "options", "laterDate_", "earlierDate_", "normalizeDates", "laterStartOfDay", "startOfDay", "earlierStartOfDay", "laterTimestamp", "getTimezoneOffsetInMilliseconds", "earlierTimestamp", "millisecondsInDay", "startOfISOWeekYear", "date", "options", "year", "getISOWeekYear", "fourthOfJanuary", "constructFrom", "startOfISOWeek", "addWeeks", "date", "amount", "options", "addDays", "addYears", "date", "amount", "options", "addMonths", "isDate", "value", "isValid", "date", "isDate", "toDate", "startOfMonth", "date", "options", "_date", "toDate", "startOfYear", "date", "options", "date_", "toDate", "formatDistanceLocale", "formatDistance", "token", "count", "options", "result", "tokenValue", "buildFormatLongFn", "args", "options", "width", "dateFormats", "timeFormats", "dateTimeFormats", "formatLong", "buildFormatLongFn", "formatRelativeLocale", "formatRelative", "token", "_date", "_baseDate", "_options", "buildLocalizeFn", "args", "value", "options", "context", "valuesArray", "defaultWidth", "width", "index", "eraValues", "quarterValues", "monthValues", "dayValues", "dayPeriodValues", "formattingDayPeriodValues", "ordinalNumber", "dirtyNumber", "_options", "number", "rem100", "localize", "buildLocalizeFn", "quarter", "buildMatchFn", "args", "string", "options", "width", "matchPattern", "matchResult", "matchedString", "parsePatterns", "key", "findIndex", "pattern", "findKey", "value", "rest", "object", "predicate", "array", "buildMatchPatternFn", "args", "string", "options", "matchResult", "matchedString", "parseResult", "value", "rest", "matchOrdinalNumberPattern", "parseOrdinalNumberPattern", "matchEraPatterns", "parseEraPatterns", "matchQuarterPatterns", "parseQuarterPatterns", "matchMonthPatterns", "parseMonthPatterns", "matchDayPatterns", "parseDayPatterns", "matchDayPeriodPatterns", "parseDayPeriodPatterns", "match", "buildMatchPatternFn", "value", "buildMatchFn", "index", "enUS", "formatDistance", "formatLong", "formatRelative", "localize", "match", "getDayOfYear", "date", "options", "_date", "toDate", "differenceInCalendarDays", "startOfYear", "getISOWeek", "date", "options", "_date", "toDate", "diff", "startOfISOWeek", "startOfISOWeekYear", "millisecondsInWeek", "getWeekYear", "date", "options", "_date", "toDate", "year", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "firstWeekOfNextYear", "constructFrom", "startOfNextYear", "startOfWeek", "firstWeekOfThisYear", "startOfThisYear", "startOfWeekYear", "date", "options", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "year", "getWeekYear", "firstWeek", "constructFrom", "startOfWeek", "getWeek", "date", "options", "_date", "toDate", "diff", "startOfWeek", "startOfWeekYear", "millisecondsInWeek", "addLeadingZeros", "number", "targetLength", "sign", "output", "lightFormatters", "date", "token", "signedYear", "year", "addLeadingZeros", "month", "dayPeriodEnumValue", "numberOfDigits", "milliseconds", "fractionalSeconds", "dayPeriodEnum", "formatters", "date", "token", "localize", "era", "signedYear", "year", "lightFormatters", "options", "signedWeekYear", "getWeekYear", "weekYear", "twoDigitYear", "addLeadingZeros", "isoWeekYear", "getISOWeekYear", "quarter", "month", "week", "getWeek", "isoWeek", "getISOWeek", "dayOfYear", "getDayOfYear", "dayOfWeek", "localDayOfWeek", "isoDayOfWeek", "dayPeriodEnumValue", "hours", "_localize", "timezoneOffset", "formatTimezoneWithOptionalMinutes", "formatTimezone", "formatTimezoneShort", "timestamp", "offset", "delimiter", "sign", "absOffset", "minutes", "dateLongFormatter", "pattern", "formatLong", "timeLongFormatter", "dateTimeLongFormatter", "matchResult", "datePattern", "timePattern", "dateTimeFormat", "longFormatters", "dayOfYearTokenRE", "weekYearTokenRE", "throwTokens", "isProtectedDayOfYearToken", "token", "isProtectedWeekYearToken", "warnOrThrowProtectedError", "format", "input", "_message", "message", "subject", "formattingTokensRegExp", "longFormattingTokensRegExp", "escapedStringRegExp", "doubleQuoteRegExp", "unescapedLatinCharacterRegExp", "format", "date", "formatStr", "options", "defaultOptions", "getDefaultOptions", "locale", "enUS", "firstWeekContainsDate", "weekStartsOn", "originalDate", "toDate", "isValid", "parts", "longFormattingTokensRegExp", "substring", "firstCharacter", "longFormatter", "longFormatters", "formattingTokensRegExp", "cleanEscapedString", "formatters", "unescapedLatinCharacterRegExp", "formatterOptions", "part", "token", "isProtectedWeekYearToken", "isProtectedDayOfYearToken", "warnOrThrowProtectedError", "formatter", "input", "matched", "escapedStringRegExp", "doubleQuoteRegExp", "subDays", "date", "amount", "options", "addDays", "subMonths", "date", "amount", "options", "addMonths", "subWeeks", "date", "amount", "options", "addWeeks", "subYears", "date", "amount", "options", "addYears", "import_i18n", "import_element", "import_date", "import_jsx_runtime", "filterTextWrappers", "getRelativeDate", "value", "unit", "subDays", "subWeeks", "subMonths", "subYears", "isNoneOperatorDefinition", "filter", "activeElements", "element", "item", "field", "filterValue", "fieldValue", "fv", "OPERATORS", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "OPERATOR_BETWEEN", "OPERATOR_IN_THE_PAST", "targetDate", "OPERATOR_OVER", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BEFORE", "filterDate", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_ON", "fieldDate", "OPERATOR_NOT_ON", "getOperatorByName", "name", "op", "getAllOperatorNames", "import_components", "import_element", "getCustomValidity", "isValid", "validity", "customValidity", "import_jsx_runtime", "ValidatedCheckboxControl", "unlock", "Checkbox", "field", "onChange", "data", "hideLabelFromVision", "validity", "getValue", "setValue", "label", "description", "isValid", "onChangeControl", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedComboboxControl", "unlock", "Combobox", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "description", "placeholder", "getValue", "setValue", "isValid", "value", "onChangeControl", "newValue", "elements", "isLoading", "useElements", "getCustomValidity", "import_components", "import_element", "import_i18n", "import_date", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "TIME_UNITS_OPTIONS", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "RelativeDateControl", "className", "data", "field", "onChange", "hideLabelFromVision", "operator", "options", "id", "label", "getValue", "setValue", "fieldValue", "relValue", "unit", "onChangeValue", "newValue", "onChangeUnit", "newUnit", "clsx_default", "Stack", "NumberControl", "import_date", "parseDateTime", "dateTimeString", "parsed", "isValid", "import_jsx_runtime", "DateCalendar", "ValidatedInputControl", "unlock", "componentsPrivateApis", "formatDateTime", "date", "format", "CalendarDateTimeControl", "data", "field", "onChange", "hideLabelFromVision", "validity", "id", "label", "description", "setValue", "getValue", "isValid", "fieldValue", "value", "calendarMonth", "setCalendarMonth", "parseDateTime", "inputControlRef", "validationTimeoutRef", "previousFocusRef", "onChangeCallback", "newValue", "onSelectDate", "newDate", "dateTimeValue", "finalDateTime", "currentDateTime", "handleManualDateTimeChange", "dateTime", "parsedDate", "fieldFormat", "weekStartsOn", "timezoneString", "displayLabel", "Stack", "getCustomValidity", "DateTime", "operator", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "RelativeDateControl", "import_components", "import_element", "import_i18n", "import_date", "import_jsx_runtime", "DateCalendar", "DateRangeCalendar", "unlock", "componentsPrivateApis", "DATE_PRESETS", "today", "subDays", "subMonths", "DATE_RANGE_PRESETS", "startOfMonth", "subYears", "startOfYear", "parseDate", "dateString", "parsed", "isValid", "formatDate", "date", "format", "ValidatedDateControl", "field", "validity", "inputRefs", "isTouched", "setIsTouched", "children", "customValidity", "setCustomValidity", "validateRefs", "refs", "ref", "input", "result", "getCustomValidity", "handleInvalid", "event", "clsx_default", "error_default", "CalendarDateControl", "data", "onChange", "hideLabelFromVision", "id", "label", "setValue", "getValue", "fieldFormat", "selectedPresetId", "setSelectedPresetId", "weekStartsOn", "fieldValue", "value", "calendarMonth", "setCalendarMonth", "validityTargetRef", "onChangeCallback", "newValue", "onSelectDate", "newDate", "dateValue", "handlePresetClick", "preset", "presetDate", "handleManualDateChange", "parsedDate", "timezoneString", "displayLabel", "Stack", "isSelected", "InputControl", "CalendarDateRangeControl", "selectedRange", "from", "to", "fromInputRef", "toInputRef", "updateDateRange", "fromDate", "toDate", "onSelectCalendarRange", "newRange", "startDate", "endDate", "fromOrTo", "currentFrom", "currentTo", "timezone", "DateControl", "operator", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "RelativeDateControl", "OPERATOR_BETWEEN", "import_components", "import_components", "import_element", "import_jsx_runtime", "ValidatedInputControl", "unlock", "ValidatedText", "data", "field", "onChange", "hideLabelFromVision", "type", "prefix", "suffix", "validity", "label", "placeholder", "description", "getValue", "setValue", "isValid", "value", "onChangeControl", "newValue", "getCustomValidity", "import_jsx_runtime", "Email", "data", "field", "onChange", "hideLabelFromVision", "validity", "ValidatedText", "InputControlPrefixWrapper", "envelope_default", "import_components", "import_jsx_runtime", "Telephone", "data", "field", "onChange", "hideLabelFromVision", "validity", "ValidatedText", "InputControlPrefixWrapper", "mobile_default", "import_components", "import_jsx_runtime", "Url", "data", "field", "onChange", "hideLabelFromVision", "validity", "ValidatedText", "InputControlPrefixWrapper", "link_default", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "ValidatedNumberControl", "unlock", "toNumberOrEmpty", "value", "number", "BetweenControls", "onChange", "hideLabelFromVision", "step", "min", "max", "onChangeMin", "newValue", "onChangeMax", "NumberControl", "ValidatedNumber", "data", "field", "operator", "validity", "decimals", "label", "description", "getValue", "setValue", "isValid", "onChangeControl", "onChangeBetweenControls", "OPERATOR_BETWEEN", "valueBetween", "element", "getCustomValidity", "import_jsx_runtime", "Integer", "props", "ValidatedNumber", "import_jsx_runtime", "Number", "props", "ValidatedNumber", "import_components", "import_element", "import_jsx_runtime", "ValidatedRadioControl", "unlock", "Radio", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "description", "getValue", "setValue", "isValid", "elements", "isLoading", "useElements", "value", "onChangeControl", "newValue", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedSelectControl", "unlock", "Select", "data", "field", "onChange", "hideLabelFromVision", "validity", "type", "label", "description", "getValue", "setValue", "isValid", "isMultiple", "value", "onChangeControl", "newValue", "elements", "isLoading", "useElements", "getCustomValidity", "import_element", "import_jsx_runtime", "Text", "data", "field", "onChange", "hideLabelFromVision", "config", "validity", "prefix", "suffix", "ValidatedText", "import_components", "import_element", "import_jsx_runtime", "ValidatedToggleControl", "unlock", "Toggle", "field", "onChange", "data", "hideLabelFromVision", "validity", "label", "description", "getValue", "setValue", "isValid", "onChangeControl", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedTextareaControl", "unlock", "Textarea", "data", "field", "onChange", "hideLabelFromVision", "config", "validity", "rows", "label", "placeholder", "description", "setValue", "isValid", "value", "onChangeControl", "newValue", "getCustomValidity", "import_components", "import_element", "import_jsx_runtime", "ValidatedToggleGroupControl", "unlock", "ToggleGroup", "data", "field", "onChange", "hideLabelFromVision", "validity", "getValue", "setValue", "isValid", "value", "onChangeControl", "newValue", "elements", "isLoading", "useElements", "selectedOption", "el", "getCustomValidity", "ToggleGroupControlOption", "import_components", "import_element", "import_jsx_runtime", "ValidatedFormTokenField", "unlock", "ArrayControl", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "placeholder", "getValue", "setValue", "isValid", "value", "elements", "isLoading", "useElements", "arrayValueAsElements", "token", "suggestion", "onChangeControl", "tokens", "valueTokens", "getCustomValidity", "element", "el", "item", "import_components", "import_element", "import_jsx_runtime", "ValidatedInputControl", "Picker", "unlock", "ColorPicker", "color", "onColorChange", "validColor", "w", "onToggle", "isOpen", "InputControlPrefixWrapper", "Color", "data", "field", "onChange", "hideLabelFromVision", "validity", "label", "placeholder", "description", "setValue", "isValid", "value", "handleColorChange", "colorObject", "handleInputChange", "newValue", "getCustomValidity", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "Password", "data", "field", "onChange", "hideLabelFromVision", "validity", "isVisible", "setIsVisible", "toggleVisibility", "prev", "ValidatedText", "InputControlSuffixWrapper", "unseen_default", "seen_default", "hasElements", "field", "import_jsx_runtime", "FORM_CONTROLS", "ArrayControl", "Checkbox", "Color", "Combobox", "DateTime", "DateControl", "Email", "Telephone", "Url", "Integer", "Number", "Password", "Radio", "Select", "Text", "Toggle", "Textarea", "ToggleGroup", "isEditConfig", "value", "createConfiguredControl", "config", "control", "controlConfig", "BaseControlType", "getControlByType", "props", "getControl", "field", "fallback", "hasElements", "type", "getFilterBy", "field", "defaultOperators", "validOperators", "operators", "op", "get_filter_by_default", "getValueFromId", "id", "item", "path", "value", "segment", "get_value_from_id_default", "setValueFromId", "id", "value", "path", "result", "current", "segment", "set_value_from_id_default", "import_i18n", "RenderFromElements", "item", "field", "elements", "isLoading", "useElements", "value", "element", "import_jsx_runtime", "render", "item", "field", "RenderFromElements", "sort_text_default", "a", "b", "direction", "isValidRequired", "item", "field", "value", "isValidMinLength", "item", "field", "value", "isValidMaxLength", "item", "field", "value", "isValidPattern", "item", "field", "regexp", "value", "isValidElements", "item", "field", "validValues", "el", "value", "v", "getValueFormatted", "item", "field", "get_value_formatted_default_default", "emailRegex", "isValidCustom", "item", "field", "value", "email_default", "render", "sort_text_default", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "get_value_formatted_default_default", "isValidRequired", "isValidPattern", "isValidMinLength", "isValidMaxLength", "isValidElements", "import_i18n", "sort_number_default", "a", "b", "direction", "isValidMin", "item", "field", "value", "isValidMax", "item", "field", "value", "format", "getValueFormatted", "item", "field", "value", "formatInteger", "separatorThousand", "integerValue", "isValidCustom", "integer_default", "render", "sort_number_default", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BETWEEN", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "isValidRequired", "isValidMin", "isValidMax", "isValidElements", "import_i18n", "format", "getValueFormatted", "item", "field", "value", "formatNumber", "separatorThousand", "separatorDecimal", "decimals", "fixedValue", "integerPart", "decimalPart", "formattedInteger", "isEmpty", "isValidCustom", "number_default", "render", "sort_number_default", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_LESS_THAN", "OPERATOR_GREATER_THAN", "OPERATOR_LESS_THAN_OR_EQUAL", "OPERATOR_GREATER_THAN_OR_EQUAL", "OPERATOR_BETWEEN", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "isValidRequired", "isValidMin", "isValidMax", "isValidElements", "text_default", "render", "sort_text_default", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "get_value_formatted_default_default", "isValidRequired", "isValidPattern", "isValidMinLength", "isValidMaxLength", "isValidElements", "import_date", "format", "getValueFormatted", "item", "field", "value", "formatDatetime", "sort", "a", "b", "direction", "timeA", "timeB", "datetime_default", "render", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "isValidRequired", "isValidElements", "import_date", "format", "getValueFormatted", "item", "field", "value", "formatDate", "sort", "a", "b", "direction", "timeA", "timeB", "date_default", "render", "OPERATOR_ON", "OPERATOR_NOT_ON", "OPERATOR_BEFORE", "OPERATOR_AFTER", "OPERATOR_BEFORE_INC", "OPERATOR_AFTER_INC", "OPERATOR_IN_THE_PAST", "OPERATOR_OVER", "OPERATOR_BETWEEN", "isValidRequired", "isValidElements", "import_i18n", "isValidRequiredForBool", "item", "field", "getValueFormatted", "item", "field", "value", "isValidCustom", "sort", "a", "b", "direction", "boolA", "boolean_default", "render", "isValidRequiredForBool", "isValidElements", "OPERATOR_IS", "OPERATOR_IS_NOT", "media_default", "get_value_formatted_default_default", "import_i18n", "isValidRequiredForArray", "item", "field", "value", "element", "getValueFormatted", "item", "field", "value", "render", "isValidCustom", "v", "sort", "a", "b", "direction", "arrA", "arrB", "joinedA", "joinedB", "array_default", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "isValidRequiredForArray", "isValidElements", "getValueFormatted", "item", "field", "password_default", "render", "isValidRequired", "isValidPattern", "isValidMinLength", "isValidMaxLength", "isValidElements", "telephone_default", "render", "sort_text_default", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "get_value_formatted_default_default", "isValidRequired", "isValidPattern", "isValidMinLength", "isValidMaxLength", "isValidElements", "import_i18n", "import_jsx_runtime", "render", "item", "field", "RenderFromElements", "value", "get_value_formatted_default_default", "w", "isValidCustom", "sort", "a", "b", "direction", "colorA", "colorB", "hslA", "hslB", "color_default", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "isValidRequired", "isValidElements", "url_default", "render", "sort_text_default", "OPERATOR_IS_ANY", "OPERATOR_IS_NONE", "OPERATOR_IS", "OPERATOR_IS_NOT", "OPERATOR_CONTAINS", "OPERATOR_NOT_CONTAINS", "OPERATOR_STARTS_WITH", "OPERATOR_IS_ALL", "OPERATOR_IS_NOT_ALL", "get_value_formatted_default_default", "isValidRequired", "isValidPattern", "isValidMinLength", "isValidMaxLength", "isValidElements", "sort", "a", "b", "direction", "sort_number_default", "sort_text_default", "no_type_default", "render", "OPERATOR_IS", "OPERATOR_IS_NOT", "getAllOperatorNames", "get_value_formatted_default_default", "isValidRequired", "isValidElements", "getIsValid", "field", "fieldType", "required", "elements", "min", "max", "minLength", "maxLength", "pattern", "custom", "getFilter", "fieldType", "accumulator", "operator", "operatorObj", "getOperatorByName", "getFormat", "field", "fieldType", "get_format_default", "getFieldTypeByName", "type", "found", "email_default", "integer_default", "number_default", "text_default", "datetime_default", "date_default", "boolean_default", "media_default", "array_default", "password_default", "telephone_default", "color_default", "url_default", "fieldType", "no_type_default", "normalizeFields", "fields", "field", "getValue", "get_value_from_id_default", "sort", "a", "b", "direction", "aValue", "bValue", "set_value_from_id_default", "hasElements", "getControl", "getIsValid", "get_filter_by_default", "getFilter", "get_format_default", "import_element", "import_element", "import_jsx_runtime", "DataFormContext", "DataFormProvider", "fields", "children", "dataform_context_default", "import_element", "import_element", "import_components", "DEFAULT_LAYOUT", "normalizeCardSummaryField", "sum", "item", "normalizeLayout", "layout", "normalizedLayout", "summary", "normalizedSummary", "normalizeForm", "form", "normalizedFormLayout", "normalizedFields", "field", "fieldLayout", "normalize_form_default", "import_jsx_runtime", "Header", "title", "Stack", "Heading", "FormRegularField", "data", "field", "onChange", "hideLabelFromVision", "validity", "fields", "dataform_context_default", "layout", "form", "DEFAULT_LAYOUT", "DataFormLayout", "labelPosition", "fieldDefinition", "fieldDef", "clsx_default", "import_components", "import_element", "import_components", "import_i18n", "import_element", "import_compose", "import_components", "import_i18n", "import_jsx_runtime", "SummaryButton", "summaryFields", "data", "labelPosition", "fieldLabel", "disabled", "onClick", "ariaExpanded", "summaryField", "summary_button_default", "import_element", "useReportValidity", "ref", "shouldReport", "input", "import_jsx_runtime", "DropdownHeader", "title", "onClose", "Stack", "Heading", "Spacer", "close_small_default", "DropdownContentWithValidation", "touched", "children", "ref", "useReportValidity", "PanelDropdown", "data", "field", "onChange", "validity", "labelPosition", "summaryFields", "fieldDefinition", "popoverAnchor", "onCloseCallback", "fieldLabel", "form", "DEFAULT_LAYOUT", "formValidity", "popoverProps", "focusOnMountRef", "willOpen", "isOpen", "onToggle", "summary_button_default", "DataFormLayout", "FieldLayout", "childField", "childFieldValidity", "dropdown_default", "import_deepmerge", "import_components", "import_i18n", "import_element", "import_compose", "import_deepmerge", "import_es6", "import_element", "import_i18n", "isFormValid", "formValidity", "fieldValidation", "key", "validation", "getFormFieldsToValidate", "form", "fields", "normalizedForm", "normalize_form_default", "fieldsMap", "field", "processFormField", "formField", "processedChildren", "child", "fieldDef", "normalizedField", "normalizeFields", "setValidityAtPath", "fieldValidity", "path", "result", "current", "i", "segment", "finalKey", "removeValidationProperty", "property", "handleElementsValidationAsync", "promise", "promiseHandler", "elementsCounterRef", "setFormValidity", "item", "currentToken", "prev", "error", "errorMessage", "handleCustomValidationAsync", "customCounterRef", "validateFormField", "customError", "value", "deepMerge", "filteredResult", "getFormFieldValue", "fieldValue", "childrenValues", "useFormValidity", "previousValuesRef", "validate", "formFieldsToValidate", "newFormValidity", "untouchedFields", "fastDeepEqual", "existingFormValidity", "validity", "fieldsToKeep", "use_form_validity_default", "import_jsx_runtime", "ModalContent", "data", "field", "onChange", "fieldLabel", "onClose", "touched", "fields", "dataform_context_default", "changes", "setChanges", "modalData", "deepMerge", "target", "source", "form", "DEFAULT_LAYOUT", "fieldsAsFieldType", "f", "validity", "use_form_validity_default", "onApply", "handleOnChange", "newValue", "prev", "focusOnMountRef", "contentRef", "mergedRef", "useReportValidity", "DataFormLayout", "FieldLayout", "childField", "childFieldValidity", "Stack", "Spacer", "PanelModal", "labelPosition", "summaryFields", "fieldDefinition", "onCloseCallback", "isOpen", "setIsOpen", "handleClose", "summary_button_default", "modal_default", "extractSummaryIds", "summary", "item", "getSummaryFields", "summaryField", "fields", "summaryId", "_field", "import_jsx_runtime", "getFirstValidationError", "validity", "validityRules", "key", "rule", "childValidity", "childError", "getFieldDefinition", "field", "fields", "fieldDefinition", "_field", "simpleChildren", "child", "getFieldDefinitionAndSummaryFields", "layout", "summaryFields", "getSummaryFields", "FormPanelField", "data", "onChange", "dataform_context_default", "popoverAnchor", "setPopoverAnchor", "touched", "setTouched", "handleClose", "labelPosition", "errorMessage", "showError", "labelClassName", "clsx_default", "fieldLabel", "labelContent", "Stack", "error_default", "renderedControl", "modal_default", "dropdown_default", "import_components", "import_element", "import_i18n", "import_jsx_runtime", "countInvalidFields", "validity", "count", "validityRules", "key", "childValidity", "ValidationBadge", "invalidCount", "Badge", "import_jsx_runtime", "NonCollapsibleCardHeader", "children", "props", "OriginalCardHeader", "useCardHeader", "layout", "isOpened", "isCollapsible", "isOpen", "setIsOpen", "touched", "setTouched", "toggle", "prev", "CollapsibleCardHeader", "chevron_up_default", "chevron_down_default", "isSummaryFieldVisible", "summaryField", "summaryConfig", "fieldConfig", "config", "FormCardField", "data", "field", "onChange", "hideLabelFromVision", "validity", "fields", "dataform_context_default", "cardBodyRef", "form", "DEFAULT_LAYOUT", "CardHeader", "handleBlur", "useReportValidity", "visibleSummaryFields", "getSummaryFields", "validationBadge", "ValidationBadge", "sizeCard", "withHeader", "sizeCardBody", "DataFormLayout", "fieldDefinition", "fieldDef", "RegularLayout", "getFormFieldLayout", "import_components", "import_jsx_runtime", "Header", "title", "Stack", "Heading", "EMPTY_WRAPPER", "children", "FormRowField", "data", "field", "onChange", "hideLabelFromVision", "validity", "layout", "form", "DEFAULT_LAYOUT", "DataFormLayout", "FieldLayout", "childField", "childFieldValidity", "RegularLayout", "getFormFieldLayout", "import_element", "import_i18n", "import_jsx_runtime", "FormDetailsField", "data", "field", "onChange", "validity", "fields", "dataform_context_default", "detailsRef", "contentRef", "touched", "setTouched", "isOpen", "setIsOpen", "form", "DEFAULT_LAYOUT", "details", "handleToggle", "nowOpen", "useReportValidity", "handleBlur", "summaryFieldId", "summaryField", "fieldDef", "summaryContent", "Stack", "ValidationBadge", "DataFormLayout", "import_jsx_runtime", "FORM_FIELD_LAYOUTS", "FormRegularField", "children", "Stack", "FormPanelField", "FormCardField", "FormRowField", "layout", "FormDetailsField", "getFormFieldLayout", "type", "import_jsx_runtime", "DEFAULT_WRAPPER", "children", "Stack", "DataFormLayout", "data", "form", "onChange", "validity", "as", "fieldDefinitions", "dataform_context_default", "getFieldDefinition", "field", "fieldDefinition", "Wrapper", "getFormFieldLayout", "formField", "FieldLayout", "import_jsx_runtime", "DataForm", "data", "form", "fields", "onChange", "validity", "normalizedForm", "normalize_form_default", "normalizedFields", "normalizeFields", "DataFormProvider", "DataFormLayout", "import_components", "import_jsx_runtime", "MediaForm", "formOverrides", "header", "media", "fields", "onChange", "useMediaEditorContext", "defaultForm", "field", "VStack", "DataForm", "import_data", "import_jsx_runtime", "MediaPreview", "props", "media", "select", "store", "MediaEditorProvider", "import_data", "import_element", "import_core_data", "import_element", "import_data", "usePostFields", "postType", "registerPostTypeSchema", "unlock", "store", "fields", "select", "getEntityFields", "post_fields_default", "import_components", "import_core_data", "import_data", "import_element", "import_i18n", "import_dom", "import_data", "import_element", "import_i18n", "import_components", "import_core_data", "import_data", "import_element", "import_core_data", "import_i18n", "import_element", "import_components", "import_data", "import_core_data", "import_notices", "import_html_entities", "getItemTitle", "item", "import_jsx_runtime", "SetAsHomepageModal", "items", "closeModal", "item", "pageTitle", "getItemTitle", "showOnFront", "currentHomePage", "isSaving", "select", "getEntityRecord", "isSavingEntityRecord", "coreStore", "siteSettings", "currentHomePageItem", "saveEntityRecord", "createSuccessNotice", "createErrorNotice", "noticesStore", "onSetPageAsHomepage", "event", "error", "errorMessage", "modalWarning", "modalText", "modalButtonLabel", "VStack", "Text", "HStack", "useSetAsHomepageAction", "pageOnFront", "pageForPosts", "canUser", "post", "import_i18n", "import_element", "import_components", "import_data", "import_core_data", "import_notices", "import_jsx_runtime", "SetAsPostsPageModal", "items", "closeModal", "item", "pageTitle", "getItemTitle", "currentPostsPage", "isPageForPostsSet", "isSaving", "select", "getEntityRecord", "isSavingEntityRecord", "coreStore", "siteSettings", "saveEntityRecord", "createSuccessNotice", "createErrorNotice", "noticesStore", "onSetPageAsPostsPage", "event", "error", "errorMessage", "modalWarning", "modalText", "modalButtonLabel", "VStack", "Text", "HStack", "useSetAsPostsPageAction", "pageOnFront", "pageForPosts", "canUser", "post", "import_jsx_runtime", "usePostActions", "postType", "onActionPerformed", "context", "defaultActions", "select", "getEntityActions", "unlock", "store", "shouldShowHomepageActions", "getDefaultTemplateId", "getEntityRecord", "canUser", "coreStore", "frontPageTemplateId", "frontPageTemplate", "setAsHomepageAction", "useSetAsHomepageAction", "setAsPostsPageAction", "useSetAsPostsPageAction", "registerPostTypeSchema", "actions", "a", "b", "action", "i", "existingCallback", "items", "argsObject", "_items", "ExistingRenderModal", "props", "import_jsx_runtime", "Menu", "kebabCase", "unlock", "componentsPrivateApis", "PostActions", "postType", "postId", "onActionPerformed", "activeModalAction", "setActiveModalAction", "item", "permissions", "select", "getEditedEntityRecord", "getEntityRecordPermissions", "coreStore", "itemWithPermissions", "allActions", "usePostActions", "actions", "action", "more_vertical_default", "ActionsDropdownMenuGroup", "ActionModal", "DropdownMenuItemTrigger", "onClick", "items", "label", "closeModal", "registry", "import_jsx_runtime", "Badge", "unlock", "componentsPrivateApis", "PostCardPanel", "postType", "postId", "onActionPerformed", "postIds", "postTitle", "icon", "labels", "isRevision", "select", "getEditedEntityRecord", "getCurrentTheme", "getPostType", "coreStore", "getPostIcon", "getCurrentPostType", "isRevisionsMode", "getCurrentRevision", "store", "_title", "parentPostType", "_record", "templateTypes", "TEMPLATE_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "getTemplateInfo", "pageTypeBadge", "usePageTypeBadge", "title", "stripHTML", "VStack", "HStack", "Text", "more_vertical_default", "PostActions", "import_components", "import_jsx_runtime", "PostPanelSection", "className", "children", "VStack", "clsx_default", "post_panel_section_default", "import_jsx_runtime", "MediaMetadataPanel", "onActionPerformed", "media", "postType", "postId", "select", "_postType", "store", "_postId", "coreStore", "editPost", "fields", "post_fields_default", "settings", "post_panel_section_default", "MediaEditorProvider", "updates", "MediaForm", "PostCardPanel", "import_jsx_runtime", "interfaceLabels", "EditorInterface", "className", "children", "forceIsDirty", "contentRef", "disableIframe", "autoFocus", "customSaveButton", "customSavePanel", "forceDisableBlockTools", "iframeProps", "mode", "isAttachment", "isInserterOpened", "isListViewOpened", "isDistractionFree", "isPreviewMode", "showBlockBreadcrumbs", "postTypeLabel", "stylesPath", "showStylebook", "isRevisionsMode", "select", "get", "preferencesStore", "getEditorSettings", "getPostTypeLabel", "getCurrentPostType", "store", "getStylesPath", "getShowStylebook", "_isRevisionsMode", "unlock", "editorSettings", "_mode", "isLargeViewport", "secondarySidebarLabel", "shouldShowMediaEditor", "shouldShowStylesCanvas", "shouldShowBlockEditor", "entitiesSavedStatesCallback", "setEntitiesSavedStatesCallback", "closeEntitiesSavedStates", "arg", "interface_skeleton_default", "clsx_default", "revisions_header_default", "RevisionsCanvas", "complementary_area_default", "header_default", "editor_notices_default", "InserterSidebar", "ListViewSidebar", "MediaPreview", "StylesCanvas", "TextEditor", "visual_editor_default", "SavePublishPanels", "import_block_editor", "import_data", "import_element", "import_i18n", "import_keyboard_shortcuts", "import_components", "import_data", "import_patterns", "import_jsx_runtime", "OverridesPanel", "unlock", "patternsPrivateApis", "PatternOverridesPanel", "select", "store", "import_components", "import_data", "import_i18n", "import_url", "import_components", "import_data", "import_i18n", "import_wordcount", "import_element", "import_core_data", "import_jsx_runtime", "AVERAGE_READING_RATE", "PostContentInformation", "postContent", "select", "getEditedPostAttribute", "getCurrentPostType", "getCurrentPostId", "store", "getCurrentRevision", "isRevisionsMode", "unlock", "canUser", "coreStore", "getEntityRecord", "siteSettings", "postType", "TEMPLATE_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "wordCountType", "wordsCounted", "wordCount", "readingTime", "wordsCountText", "minutesText", "Text", "import_components", "import_i18n", "import_data", "import_element", "import_block_editor", "import_jsx_runtime", "PostFormat", "postFormat", "select", "getEditedPostAttribute", "store", "activeFormat", "POST_FORMATS", "format", "popoverAnchor", "setPopoverAnchor", "popoverProps", "PostFormatCheck", "post_panel_row_default", "isOpen", "onToggle", "onClose", "InspectorPopoverHeader", "panel_default", "import_components", "import_data", "import_i18n", "import_date", "import_jsx_runtime", "PostLastEditedPanel", "modified", "select", "store", "Text", "import_components", "import_data", "import_i18n", "import_date", "import_jsx_runtime", "RevisionCreatedPanel", "date", "select", "getCurrentRevision", "unlock", "store", "Text", "import_i18n", "import_compose", "import_data", "import_core_data", "import_html_entities", "import_components", "import_element", "import_block_editor", "import_jsx_runtime", "EMPTY_OBJECT", "BlogTitle", "editEntityRecord", "coreStore", "postsPageTitle", "postsPageId", "isTemplate", "postSlug", "select", "getEntityRecord", "getEditedEntityRecord", "canUser", "siteSettings", "_postsPageRecord", "getEditedPostAttribute", "getCurrentPostType", "store", "TEMPLATE_POST_TYPE", "popoverAnchor", "setPopoverAnchor", "popoverProps", "setPostsPageTitle", "newValue", "decodedTitle", "post_panel_row_default", "isOpen", "onToggle", "onClose", "InspectorPopoverHeader", "InputControl", "import_i18n", "import_data", "import_core_data", "import_components", "import_element", "import_block_editor", "import_jsx_runtime", "PostsPerPage", "editEntityRecord", "coreStore", "postsPerPage", "isTemplate", "postSlug", "select", "getEditedPostAttribute", "getCurrentPostType", "store", "getEditedEntityRecord", "canUser", "siteSettings", "TEMPLATE_POST_TYPE", "popoverAnchor", "setPopoverAnchor", "popoverProps", "setPostsPerPage", "newValue", "post_panel_row_default", "isOpen", "onToggle", "onClose", "InspectorPopoverHeader", "NumberControl", "import_i18n", "import_data", "import_core_data", "import_components", "import_element", "import_block_editor", "import_jsx_runtime", "COMMENT_OPTIONS", "SiteDiscussion", "editEntityRecord", "coreStore", "allowCommentsOnNewPosts", "isTemplate", "postSlug", "select", "getEditedPostAttribute", "getCurrentPostType", "store", "getEditedEntityRecord", "canUser", "siteSettings", "TEMPLATE_POST_TYPE", "popoverAnchor", "setPopoverAnchor", "popoverProps", "setAllowCommentsOnNewPosts", "newValue", "post_panel_row_default", "isOpen", "onToggle", "onClose", "InspectorPopoverHeader", "VStack", "Text", "import_data", "import_core_data", "import_html_entities", "import_i18n", "import_jsx_runtime", "RevisionAuthorPanel", "authorName", "select", "getCurrentRevision", "unlock", "store", "revision", "coreStore", "post_panel_row_default", "import_jsx_runtime", "PANEL_NAME", "PostSummary", "onActionPerformed", "isRemovedPostStatusPanel", "postType", "postId", "revisionId", "select", "isEditorPanelRemoved", "getCurrentPostType", "getCurrentPostId", "getCurrentRevisionId", "unlock", "store", "isRevisionsMode", "shouldShowPostStatusPanel", "post_panel_section_default", "plugin_post_status_info_default", "fills", "VStack", "PostCardPanel", "PostFeaturedImagePanel", "PrivatePostExcerptPanel", "PostContentInformation", "RevisionCreatedPanel", "PostLastEditedPanel", "RevisionAuthorPanel", "PostStatus", "PostSchedulePanel", "PostURLPanel", "panel_default", "PostTemplatePanel", "PostDiscussionPanel", "PrivatePostLastRevision", "PageAttributesPanel", "PostSyncStatus", "BlogTitle", "PostsPerPage", "SiteDiscussion", "PostTrash", "import_data", "import_core_data", "import_components", "import_i18n", "import_block_editor", "import_blocks", "import_data", "import_element", "import_core_data", "import_blocks", "import_patterns", "EXCLUDED_PATTERN_SOURCES", "PATTERN_TYPES", "unlock", "patternsPrivateApis", "injectThemeAttributeInBlockTemplateContent", "block", "currentThemeStylesheet", "innerBlock", "filterPatterns", "patterns", "template", "filterOutDuplicatesByName", "currentItem", "index", "items", "item", "filterOutExcludedPatternSources", "pattern", "filterCompatiblePatterns", "preparePatterns", "useAvailablePatterns", "area", "name", "slug", "blockPatterns", "restBlockPatterns", "select", "getEditorSettings", "store", "settings", "coreStore", "mergedPatterns", "filteredPatterns", "import_jsx_runtime", "TemplatesList", "availableTemplates", "onSelect", "BlockPatternsList", "PostTransform", "area", "name", "slug", "postType", "postId", "select", "getCurrentPostType", "getCurrentPostId", "store", "getEditedEntityRecord", "coreStore", "type", "id", "record", "editEntityRecord", "availablePatterns", "useAvailablePatterns", "onTemplateSelect", "selectedTemplate", "TEMPLATE_PART_POST_TYPE", "PostTransformPanel", "TEMPLATE_POST_TYPE", "import_components", "import_i18n", "import_data", "import_element", "import_html_entities", "sidebars", "import_jsx_runtime", "Tabs", "unlock", "componentsPrivateApis", "SidebarHeader", "_", "ref", "postTypeLabel", "isAttachment", "isRevisionsMode", "select", "getPostTypeLabel", "getCurrentPostType", "store", "_isRevisionsMode", "ATTACHMENT_POST_TYPE", "documentLabel", "sidebars", "header_default", "import_data", "import_block_editor", "import_components", "import_i18n", "import_hooks", "import_element", "import_jsx_runtime", "BlockQuickNavigation", "unlock", "blockEditorPrivateApis", "POST_CONTENT_BLOCK_TYPES", "TEMPLATE_PART_BLOCK", "TemplateContentPanel", "postContentBlockTypes", "clientIds", "postType", "renderingMode", "select", "getCurrentPostType", "getPostBlocksByName", "getRenderingMode", "store", "_postType", "TEMPLATE_POST_TYPE", "enableComplementaryArea", "import_data", "import_element", "import_blocks", "import_block_editor", "import_components", "import_i18n", "import_jsx_runtime", "BlockQuickNavigation", "unlock", "blockEditorPrivateApis", "TemplatePartContentPanelInner", "blockTypes", "select", "getBlockTypes", "blocksStore", "themeBlockNames", "blockType", "name", "themeBlocks", "getBlocksByName", "blockEditorStore", "TemplatePartContentPanel", "getCurrentPostType", "store", "TEMPLATE_PART_POST_TYPE", "import_data", "import_element", "import_block_editor", "import_preferences", "useAutoSwitchEditorSidebars", "hasBlockSelection", "select", "blockEditorStore", "getActiveComplementaryArea", "store", "enableComplementaryArea", "getPreference", "preferencesStore", "activeGeneralSidebar", "isEditorSidebarOpened", "isDistractionFree", "use_auto_switch_editor_sidebars_default", "import_jsx_runtime", "Tabs", "unlock", "componentsPrivateApis", "SIDEBAR_ACTIVE_BY_DEFAULT", "SidebarContent", "tabName", "keyboardShortcut", "onActionPerformed", "extraPanels", "postType", "tabListRef", "tabsContextValue", "isAttachment", "ATTACHMENT_POST_TYPE", "isRevisionsMode", "select", "store", "tabsElements", "selectedTabElement", "element", "activeElement", "PluginSidebar", "header_default", "drawer_left_default", "drawer_right_default", "sidebars", "MediaMetadataPanel", "PostSummary", "plugin_document_setting_panel_default", "TemplateContentPanel", "TemplatePartContentPanel", "PostTransformPanel", "PostTaxonomies", "PatternOverridesPanel", "Sidebar", "use_auto_switch_editor_sidebars_default", "showSummary", "shortcut", "keyboardShortcutsStore", "sidebar", "_isEditorSidebarOpened", "_tabName", "blockEditorStore", "_postType", "TEMPLATE_POST_TYPE", "TEMPLATE_PART_POST_TYPE", "NAVIGATION_POST_TYPE", "enableComplementaryArea", "onTabSelect", "newSelectedTabId", "sidebar_default", "import_i18n", "import_data", "import_components", "import_element", "import_compose", "import_block_editor", "import_preferences", "collabHistorySidebarName", "collabSidebarName", "SIDEBARS", "import_element", "import_components", "import_compose", "import_i18n", "import_data", "import_dom", "import_block_editor", "import_components", "import_i18n", "import_date", "import_core_data", "import_data", "import_block_editor", "import_i18n", "sanitizeCommentString", "str", "noop", "AVATAR_BORDER_COLORS", "getAvatarBorderColor", "userId", "getCommentExcerpt", "text", "excerptLength", "wordCountType", "rawText", "trimmedExcerpt", "textWithSpaces", "numberOfSpaces", "focusCommentThread", "commentId", "container", "additionalSelector", "threadSelector", "selector", "resolve", "timer", "observer", "element", "import_jsx_runtime", "CommentAuthorInfo", "avatar", "name", "date", "userId", "hasAvatar", "dateSettings", "getDateSettings", "currentUserAvatar", "currentUserName", "currentUserId", "dateFormat", "select", "canUser", "getCurrentUser", "getEntityRecord", "coreStore", "siteSettings", "getSettings", "blockEditorStore", "__experimentalDiscussionSettings", "defaultAvatar", "userData", "commentDate", "commentDateTime", "commentDateText", "tooltipText", "getAvatarBorderColor", "VStack", "comment_author_info_default", "import_react_autosize_textarea", "import_element", "import_components", "import_i18n", "import_compose", "import_keycodes", "import_jsx_runtime", "CommentForm", "onSubmit", "onCancel", "thread", "submitButtonText", "labelText", "reflowComments", "noop", "inputComment", "setInputComment", "debouncedCommentUpdated", "updateComment", "value", "inputId", "isDisabled", "sanitizeCommentString", "VStack", "event", "TextareaAutosize", "comment", "HStack", "Truncate", "comment_form_default", "React", "import_react", "ReactDOM", "index", "deepEqual", "a", "b", "length", "i", "keys", "key", "getDPR", "element", "roundByDPR", "value", "dpr", "useLatestRef", "ref", "useFloating", "options", "placement", "strategy", "middleware", "platform", "externalReference", "externalFloating", "transform", "whileElementsMounted", "open", "data", "setData", "latestMiddleware", "setLatestMiddleware", "_reference", "_setReference", "_floating", "_setFloating", "setReference", "node", "referenceRef", "setFloating", "floatingRef", "referenceEl", "floatingEl", "dataRef", "hasWhileElementsMounted", "whileElementsMountedRef", "platformRef", "update", "config", "computePosition", "fullData", "isMountedRef", "refs", "elements", "floatingStyles", "initialStyles", "x", "y", "import_i18n", "import_element", "import_core_data", "import_data", "import_block_editor", "import_notices", "import_html_entities", "useBlockElement", "cleanEmptyObject", "unlock", "blockEditorPrivateApis", "useBlockComments", "postId", "commentLastUpdated", "reflowComments", "queryArgs", "threads", "getBlockAttributes", "blockEditorStore", "clientIds", "select", "getClientIdsWithDescendants", "resultComments", "unresolvedSortedThreads", "blocksWithComments", "results", "clientId", "commentId", "compare", "result", "commentIdToBlockClientId", "mapping", "item", "itemBlock", "updatedResult", "threadIdMap", "thread", "mappedIds", "id", "unresolvedSortedComments", "resolvedSortedComments", "orphanedComments", "useBlockCommentsActions", "noop", "createNotice", "noticesStore", "saveEntityRecord", "deleteEntityRecord", "coreStore", "getCurrentPostId", "store", "getSelectedBlockClientId", "updateBlockAttributes", "onError", "error", "errorMessage", "content", "parent", "savedRecord", "metadata", "status", "messageType", "messages", "newCommentData", "comment", "useEnableFloatingSidebar", "enabled", "registry", "getActiveComplementaryArea", "disableComplementaryArea", "enableComplementaryArea", "unsubscribe", "collabSidebarName", "useFloatingThread", "calculatedOffset", "setHeights", "selectedThread", "setBlockRef", "blockElement", "updateHeight", "newHeight", "prev", "y", "refs", "useFloating", "offset", "autoUpdate", "import_i18n", "import_data", "import_components", "import_block_editor", "import_jsx_runtime", "useBlockElement", "unlock", "blockEditorPrivateApis", "AddComment", "onSubmit", "newNoteFormState", "setNewNoteFormState", "commentSidebarRef", "reflowComments", "noop", "isFloating", "y", "refs", "clientId", "select", "getSelectedBlockClientId", "blockEditorStore", "blockElement", "toggleBlockSpotlight", "unselectThread", "VStack", "clsx_default", "event", "HStack", "comment_author_info_default", "comment_form_default", "inputComment", "id", "focusCommentThread", "import_jsx_runtime", "useBlockElement", "unlock", "blockEditorPrivateApis", "Menu", "componentsPrivateApis", "Comments", "noteThreads", "onEditComment", "onAddReply", "onCommentDelete", "newNoteFormState", "setNewNoteFormState", "commentSidebarRef", "reflowComments", "isFloating", "commentLastUpdated", "heights", "setHeights", "selectedThread", "setSelectedThread", "boardOffsets", "setBoardOffsets", "blockRefs", "setBlockRefs", "setCanvasMinHeight", "store", "selectBlock", "toggleBlockSpotlight", "blockEditorStore", "blockCommentId", "selectedBlockClientId", "orderedBlockIds", "select", "getBlockAttributes", "getSelectedBlockClientId", "getClientIdsWithDescendants", "clientId", "relatedBlockElement", "threads", "t", "orderedThreads", "newNoteThread", "blockId", "threadForBlock", "thread", "handleDelete", "comment", "currentIndex", "nextThread", "prevThread", "focusCommentThread", "setBlockRef", "id", "blockRef", "prev", "calculateAllOffsets", "offsets", "selectedThreadIndex", "breakIndex", "selectedThreadData", "blockElement", "blockRect", "selectedThreadTop", "selectedThreadHeight", "previousThreadData", "i", "threadTop", "threadHeight", "additionalOffset", "previousBottom", "nextThreadData", "editorMinHeight", "lastThread", "lastThreadTop", "lastThreadHeight", "lastThreadOffset", "newOffsets", "minHeight", "handleThreadNavigation", "event", "isSelected", "AddComment", "Thread", "calculatedOffset", "onKeyDown", "toggleBlockHighlight", "debouncedToggleBlockHighlight", "y", "refs", "useFloatingThread", "isKeyboardTabbingRef", "onMouseEnter", "onMouseLeave", "onFocus", "onBlur", "isNoteFocused", "isDialogFocused", "isTabbing", "unselectThread", "handleCommentSelect", "allReplies", "lastReply", "restReplies", "commentExcerpt", "getCommentExcerpt", "stripHTML", "ariaLabel", "VStack", "clsx_default", "Text", "CommentBoard", "params", "reply", "HStack", "comment_author_info_default", "comment_form_default", "inputComment", "parent", "isExpanded", "onEdit", "onDelete", "actionState", "setActionState", "showConfirmDialog", "setShowConfirmDialog", "actionButtonRef", "handleConfirmDelete", "handleCancel", "isResolutionComment", "actions", "status", "canResolve", "moreActions", "item", "deleteConfirmMessage", "published_default", "more_vertical_default", "action", "value", "actionText", "content", "ConfirmDialog", "import_components", "import_i18n", "import_block_editor", "import_data", "import_blocks", "import_jsx_runtime", "CommentIconSlotFill", "unlock", "blockEditorPrivateApis", "AddCommentMenuItem", "clientId", "onClick", "isDistractionFree", "block", "select", "blockEditorStore", "isDisabled", "infoText", "comment_default", "AddCommentMenuItemFill", "onClose", "comment_menu_item_default", "import_components", "import_i18n", "import_element", "import_block_editor", "import_jsx_runtime", "CommentIconToolbarSlotFill", "unlock", "blockEditorPrivateApis", "CommentAvatarIndicator", "onClick", "thread", "threadParticipants", "participantsMap", "allComments", "a", "b", "comment", "maxAvatars", "visibleParticipants", "overflowCount", "overflowText", "HStack", "participant", "getAvatarBorderColor", "Text", "comment_indicator_toolbar_default", "import_jsx_runtime", "NotesSidebarContent", "newNoteFormState", "setNewNoteFormState", "styles", "comments", "commentSidebarRef", "reflowComments", "commentLastUpdated", "isFloating", "onCreate", "onEdit", "onDelete", "useBlockCommentsActions", "VStack", "node", "Comments", "NotesSidebar", "postId", "getActiveComplementaryArea", "store", "enableComplementaryArea", "toggleBlockSpotlight", "unlock", "blockEditorStore", "isLargeViewport", "showFloatingSidebar", "clientId", "blockCommentId", "select", "getBlockAttributes", "getSelectedBlockClientId", "_clientId", "isDistractionFree", "get", "preferencesStore", "resultComments", "unresolvedSortedThreads", "useBlockComments", "useEnableFloatingSidebar", "GlobalStyles", "useGlobalStylesContext", "backgroundColor", "currentThread", "thread", "showAllNotesSidebar", "openTheSidebar", "prevArea", "activeNotesArea", "SIDEBARS", "name", "collabHistorySidebarName", "collabSidebarName", "currentArea", "focusCommentThread", "comment_menu_item_default", "comment_indicator_toolbar_default", "PluginSidebar", "comment_default", "NotesSidebarContainer", "editorMode", "getCurrentPostId", "getEditorMode", "post_type_support_check_default", "import_components", "import_i18n", "import_data", "import_element", "import_preferences", "import_compose", "import_core_data", "import_components", "import_data", "import_i18n", "import_preferences", "import_core_data", "import_jsx_runtime", "GlobalStylesActionMenu", "hideWelcomeGuide", "onChangePath", "user", "setUser", "useGlobalStyles", "canReset", "onReset", "toggle", "preferencesStore", "canEditCSS", "select", "getEntityRecord", "__experimentalGetCurrentGlobalStylesId", "coreStore", "globalStylesId", "loadCustomCSS", "more_vertical_default", "onClose", "import_jsx_runtime", "DefaultSidebar", "className", "identifier", "title", "icon", "children", "closeLabel", "header", "headerClassName", "panelClassName", "isActiveByDefault", "complementary_area_default", "ComplementaryAreaMoreMenuItem", "import_data", "import_components", "import_i18n", "import_preferences", "import_jsx_runtime", "WelcomeGuideImage", "nonAnimatedSrc", "animatedSrc", "import_jsx_runtime", "WelcomeGuideStyles", "toggle", "preferencesStore", "isActive", "isStylesOpen", "select", "sidebar", "store", "welcomeLabel", "WelcomeGuideImage", "import_jsx_runtime", "GlobalStylesSidebar", "shouldResetNavigation", "stylesPath", "showStylebook", "showListViewByDefault", "hasRevisions", "activeComplementaryArea", "select", "getActiveComplementaryArea", "store", "getStylesPath", "getShowStylebook", "unlock", "_isVisualEditorMode", "_showListViewByDefault", "preferencesStore", "getEntityRecord", "__experimentalGetCurrentGlobalStylesId", "coreStore", "globalStylesId", "globalStyles", "setStylesPath", "setShowStylebook", "resetStylesNavigation", "isMobileViewport", "isRevisionsOpened", "isRevisionsStyleBookOpened", "previousActiveArea", "setIsListViewOpened", "toggleRevisions", "toggleStyleBook", "DefaultSidebar", "styles_default", "seen_default", "backup_default", "GlobalStylesActionMenu", "GlobalStylesUIWrapper", "WelcomeGuideStyles", "import_jsx_runtime", "Editor", "postType", "postId", "templateId", "settings", "children", "initialEdits", "initialSelection", "onActionPerformed", "extraContent", "extraSidebarPanels", "props", "post", "template", "hasLoadedPost", "error", "isBlockTheme", "showGlobalStyles", "select", "getEntityRecord", "getResolutionError", "hasFinishedResolution", "getCurrentTheme", "__experimentalGetCurrentGlobalStylesId", "canUser", "coreStore", "getRenderingMode", "getCurrentPostType", "store", "postArgs", "renderingMode", "currentPostType", "_isBlockTheme", "globalStylesId", "userCanEditGlobalStyles", "TEMPLATE_POST_TYPE", "selectBlock", "blockEditorStore", "restoreBlockFromPath", "useRestoreBlockFromPath", "timeoutId", "clientId", "ExperimentalEditorProvider", "EditorInterface", "sidebar_default", "NotesSidebarContainer", "GlobalStylesRenderer", "GlobalStylesSidebar", "editor_default", "import_i18n", "import_compose", "import_data", "import_element", "import_preferences", "import_data", "import_preferences", "import_jsx_runtime", "PreferenceBaseOption", "unlock", "preferencesPrivateApis", "EnablePublishSidebarOption", "props", "isChecked", "select", "store", "enablePublishSidebar", "disablePublishSidebar", "isEnabled", "import_data", "import_preferences", "import_blocks", "import_element", "import_components", "import_i18n", "import_block_editor", "import_jsx_runtime", "BlockManager", "unlock", "blockEditorPrivateApis", "EMPTY_ARRAY", "BlockVisibility", "showBlockTypes", "hideBlockTypes", "store", "blockTypes", "_allowedBlockTypes", "_hiddenBlockTypes", "select", "blocksStore", "preferencesStore", "filteredBlockTypes", "name", "blockType", "hiddenBlockTypes", "hiddenBlock", "registeredBlock", "selectedBlockTypes", "numberOfHiddenBlocks", "enableAllBlockTypes", "onChangeSelectedBlockTypes", "newSelectedBlockTypes", "blockTypesToHide", "blockTypesToShow", "import_jsx_runtime", "PreferencesModal", "PreferencesModalTabs", "PreferencesModalSection", "PreferenceToggleControl", "unlock", "preferencesPrivateApis", "EditorPreferencesModal", "extraSections", "isActive", "select", "store", "closeModal", "PreferencesModalContents", "isLargeViewport", "showBlockBreadcrumbsOption", "getEditorSettings", "get", "preferencesStore", "isRichEditingEnabled", "setIsListViewOpened", "setIsInserterOpened", "setPreference", "sections", "enable_plugin_document_setting_panel_default", "post_taxonomies_default", "content", "taxonomy", "EnablePanelOption", "check_default", "post_type_support_check_default", "EnablePublishSidebarOption", "BlockVisibility", "import_blocks", "import_block_editor", "CONTENT", "pattern_overrides_default", "select", "clientId", "context", "bindings", "patternOverridesContent", "getBlockAttributes", "blockEditorStore", "currentBlockAttributes", "overridesValues", "attributeName", "overridableValue", "dispatch", "getBlockParentsByBlockName", "getBlocks", "blockName", "patternClientId", "attributes", "attrs", "key", "newValue", "syncBlocksWithSameName", "blocks", "block", "currentBindingValue", "acc", "value", "import_i18n", "import_core_data", "import_block_editor", "NAVIGATION_BLOCK_TYPES", "postDataFields", "post_data_default", "select", "context", "bindings", "clientId", "getBlockAttributes", "getBlockName", "blockEditorStore", "blockName", "isNavigationBlock", "postId", "postType", "blockAttributes", "getEditedEntityRecord", "coreDataStore", "entityDataValues", "newValues", "attributeName", "binding", "postDataField", "field", "dispatch", "newData", "args", "newValue", "getSelectedBlockClientId", "import_core_data", "getPostMetaFields", "select", "context", "getRegisteredPostMeta", "unlock", "coreDataStore", "registeredFields", "metaFields", "key", "props", "getValue", "args", "metaField", "field", "getEditedEntityRecord", "post_meta_default", "bindings", "newValues", "attributeName", "binding", "dispatch", "newMeta", "newValue", "store", "defaultProp", "otherProps", "import_i18n", "import_core_data", "import_block_editor", "NAVIGATION_BLOCK_TYPES", "termDataFields", "term_data_default", "select", "context", "bindings", "clientId", "getEntityRecord", "coreDataStore", "getBlockAttributes", "getBlockName", "blockEditorStore", "blockName", "isNavigationBlock", "termDataValues", "blockAttributes", "typeFromAttributes", "newValues", "attributeName", "binding", "termDataField", "field", "dispatch", "getSelectedBlockClientId", "registerCoreBlockBindingsSources", "pattern_overrides_default", "post_data_default", "post_meta_default", "term_data_default", "interfaceStore", "remainingInterfaceApis", "build_module_exports", "privateApis", "lock", "CreateTemplatePartModal", "pattern_title_default", "template_title_default", "back_button_default", "EntitiesSavedStatesExtensible", "editor_default", "EditorPresence", "plugin_default", "PostCardPanel", "EditorPreferencesModal", "usePostActions", "post_fields_default", "tools_more_menu_group_default", "view_more_menu_group_default", "resizable_editor_default", "registerCoreBlockBindingsSources", "getTemplateInfo", "GlobalStylesUIWrapper", "GlobalStylesActionMenu", "StyleBookPreview", "useGlobalStyles", "useStyle", "useGenerateBlockPath", "useRestoreBlockFromPath", "import_data", "registerEntityAction", "kind", "name", "config", "_registerEntityAction", "unlock", "store", "unregisterEntityAction", "actionId", "_unregisterEntityAction", "registerEntityField", "_registerEntityField", "unregisterEntityField", "fieldId", "_unregisterEntityField", "import_block_editor"]
}
