configuration-version: 1
slug: vip-agentforce
title: VIP Agentforce
php: 8.2
wordpress: 6.9
app-code: image
mu-plugins: image
multisite: true
phpmyadmin: true
elasticsearch: false
xdebug: true
mailpit: true
photon: false
cron: false
overrides: |
  services:
    php:
      services:
        environment:
          WP_TESTS_DIR: /wp/wp-content/wordpress-tests-lib
        volumes:
          - <%= configDir %>/..:/wp/wp-content/plugins/vip-agentforce
          - <%= configDir %>/plugin-loader.php:/wp/wp-content/client-mu-plugins/plugin-loader.php
          - <%= configDir %>/empty:/wp/wp-content/empty
    nginx:
      services:
        volumes:
          - <%= configDir %>/../assets:/wp/wp-content/plugins/vip-agentforce/assets/
  tooling:
    dev-shell:
      service: php
      cmd:
        - /bin/bash -i
      dir: /wp/wp-content/plugins/vip-agentforce
      user: www-data
      description: Run a development shell

    unit-tests:
      service: php
      cmd:
        - composer test
      dir: /wp/wp-content/plugins/vip-agentforce
      user: www-data
      description: Run unit tests
