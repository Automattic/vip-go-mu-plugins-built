"use strict";var wp;(wp||={}).editor=(()=>{var tO=Object.create;var lu=Object.defineProperty;var oO=Object.getOwnPropertyDescriptor;var rO=Object.getOwnPropertyNames;var sO=Object.getPrototypeOf,iO=Object.prototype.hasOwnProperty;var J=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Cs=(e,t)=>{for(var o in t)lu(e,o,{get:t[o],enumerable:!0})},hw=(e,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of rO(t))!iO.call(e,i)&&i!==o&&lu(e,i,{get:()=>t[i],enumerable:!(s=oO(t,i))||s.enumerable});return e};var r=(e,t,o)=>(o=e!=null?tO(sO(e)):{},hw(t||!e||!e.__esModule?lu(o,"default",{value:e,enumerable:!0}):o,e)),nO=e=>hw(lu({},"__esModule",{value:!0}),e);var y=J((SG,gw)=>{gw.exports=window.ReactJSXRuntime});var P=J((PG,bw)=>{bw.exports=window.wp.data});var R=J((wG,_w)=>{_w.exports=window.wp.coreData});var A=J((xG,yw)=>{yw.exports=window.wp.element});var $=J((TG,vw)=>{vw.exports=window.wp.compose});var _t=J((kG,Sw)=>{Sw.exports=window.wp.hooks});var F=J((EG,Pw)=>{Pw.exports=window.wp.blockEditor});var ve=J((NG,Aw)=>{Aw.exports=window.wp.blocks});var bi=J((MG,Iw)=>{Iw.exports=window.wp.date});var ot=J((DG,Rw)=>{Rw.exports=window.wp.url});var pr=J((OG,Bw)=>{Bw.exports=window.wp.deprecated});var Pe=J((LG,Nw)=>{Nw.exports=window.wp.preferences});var G=J((jG,Fw)=>{Fw.exports=window.wp.primitives});var yy=J((Y$,Vw)=>{Vw.exports=window.wp.privateApis});var hp=J((rY,Jw)=>{Jw.exports=window.wp.a11y});var gp=J((sY,ex)=>{ex.exports=window.wp.apiFetch});var he=J((iY,tx)=>{tx.exports=window.wp.notices});var w=J((nY,ox)=>{ox.exports=window.wp.i18n});var _e=J((pY,dx)=>{dx.exports=window.wp.htmlEntities});var E=J((hY,ux)=>{ux.exports=window.wp.components});var Ho=J((WY,Rx)=>{Rx.exports=window.wp.patterns});var uc=J((JY,Ox)=>{Ox.exports=window.wp.mediaUtils});var Cp=J((uZ,Ep)=>{var Kx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u1EA4:"A",\u1EAE:"A",\u1EB2:"A",\u1EB4:"A",\u1EB6:"A",\u00C6:"AE",\u1EA6:"A",\u1EB0:"A",\u0202:"A",\u1EA2:"A",\u1EA0:"A",\u1EA8:"A",\u1EAA:"A",\u1EAC:"A",\u00C7:"C",\u1E08:"C",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u1EBE:"E",\u1E16:"E",\u1EC0:"E",\u1E14:"E",\u1E1C:"E",\u0206:"E",\u1EBA:"E",\u1EBC:"E",\u1EB8:"E",\u1EC2:"E",\u1EC4:"E",\u1EC6:"E",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u1E2E:"I",\u020A:"I",\u1EC8:"I",\u1ECA:"I",\u00D0:"D",\u00D1:"N",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u1ED0:"O",\u1E4C:"O",\u1E52:"O",\u020E:"O",\u1ECE:"O",\u1ECC:"O",\u1ED4:"O",\u1ED6:"O",\u1ED8:"O",\u1EDC:"O",\u1EDE:"O",\u1EE0:"O",\u1EDA:"O",\u1EE2:"O",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u1EE6:"U",\u1EE4:"U",\u1EEC:"U",\u1EEE:"U",\u1EF0:"U",\u00DD:"Y",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u1EA5:"a",\u1EAF:"a",\u1EB3:"a",\u1EB5:"a",\u1EB7:"a",\u00E6:"ae",\u1EA7:"a",\u1EB1:"a",\u0203:"a",\u1EA3:"a",\u1EA1:"a",\u1EA9:"a",\u1EAB:"a",\u1EAD:"a",\u00E7:"c",\u1E09:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u1EBF:"e",\u1E17:"e",\u1EC1:"e",\u1E15:"e",\u1E1D:"e",\u0207:"e",\u1EBB:"e",\u1EBD:"e",\u1EB9:"e",\u1EC3:"e",\u1EC5:"e",\u1EC7:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u1E2F:"i",\u020B:"i",\u1EC9:"i",\u1ECB:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u1ED1:"o",\u1E4D:"o",\u1E53:"o",\u020F:"o",\u1ECF:"o",\u1ECD:"o",\u1ED5:"o",\u1ED7:"o",\u1ED9:"o",\u1EDD:"o",\u1EDF:"o",\u1EE1:"o",\u1EDB:"o",\u1EE3:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u1EE7:"u",\u1EE5:"u",\u1EED:"u",\u1EEF:"u",\u1EF1:"u",\u00FD:"y",\u00FF:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010A:"C",\u010B:"c",\u010C:"C",\u010D:"c",C\u0306:"C",c\u0306:"c",\u010E:"D",\u010F:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011A:"E",\u011B:"e",\u011C:"G",\u01F4:"G",\u011D:"g",\u01F5:"g",\u011E:"G",\u011F:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u1E2A:"H",\u1E2B:"h",\u0128:"I",\u0129:"i",\u012A:"I",\u012B:"i",\u012C:"I",\u012D:"i",\u012E:"I",\u012F:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u1E30:"K",\u1E31:"k",K\u0306:"K",k\u0306:"k",\u0139:"L",\u013A:"l",\u013B:"L",\u013C:"l",\u013D:"L",\u013E:"l",\u013F:"L",\u0140:"l",\u0141:"l",\u0142:"l",\u1E3E:"M",\u1E3F:"m",M\u0306:"M",m\u0306:"m",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"n",N\u0306:"N",n\u0306:"n",\u014C:"O",\u014D:"o",\u014E:"O",\u014F:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",P\u0306:"P",p\u0306:"p",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",R\u0306:"R",r\u0306:"r",\u0212:"R",\u0213:"r",\u015A:"S",\u015B:"s",\u015C:"S",\u015D:"s",\u015E:"S",\u0218:"S",\u0219:"s",\u015F:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u021B:"t",\u021A:"T",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",T\u0306:"T",t\u0306:"t",\u0168:"U",\u0169:"u",\u016A:"U",\u016B:"u",\u016C:"U",\u016D:"u",\u016E:"U",\u016F:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0216:"U",\u0217:"u",V\u0306:"V",v\u0306:"v",\u0174:"W",\u0175:"w",\u1E82:"W",\u1E83:"w",X\u0306:"X",x\u0306:"x",\u0176:"Y",\u0177:"y",\u0178:"Y",Y\u0306:"Y",y\u0306:"y",\u0179:"Z",\u017A:"z",\u017B:"Z",\u017C:"z",\u017D:"Z",\u017E:"z",\u017F:"s",\u0192:"f",\u01A0:"O",\u01A1:"o",\u01AF:"U",\u01B0:"u",\u01CD:"A",\u01CE:"a",\u01CF:"I",\u01D0:"i",\u01D1:"O",\u01D2:"o",\u01D3:"U",\u01D4:"u",\u01D5:"U",\u01D6:"u",\u01D7:"U",\u01D8:"u",\u01D9:"U",\u01DA:"u",\u01DB:"U",\u01DC:"u",\u1EE8:"U",\u1EE9:"u",\u1E78:"U",\u1E79:"u",\u01FA:"A",\u01FB:"a",\u01FC:"AE",\u01FD:"ae",\u01FE:"O",\u01FF:"o",\u00DE:"TH",\u00FE:"th",\u1E54:"P",\u1E55:"p",\u1E64:"S",\u1E65:"s",X\u0301:"X",x\u0301:"x",\u0403:"\u0413",\u0453:"\u0433",\u040C:"\u041A",\u045C:"\u043A",A\u030B:"A",a\u030B:"a",E\u030B:"E",e\u030B:"e",I\u030B:"I",i\u030B:"i",\u01F8:"N",\u01F9:"n",\u1ED2:"O",\u1ED3:"o",\u1E50:"O",\u1E51:"o",\u1EEA:"U",\u1EEB:"u",\u1E80:"W",\u1E81:"w",\u1EF2:"Y",\u1EF3:"y",\u0200:"A",\u0201:"a",\u0204:"E",\u0205:"e",\u0208:"I",\u0209:"i",\u020C:"O",\u020D:"o",\u0210:"R",\u0211:"r",\u0214:"U",\u0215:"u",B\u030C:"B",b\u030C:"b",\u010C\u0323:"C",\u010D\u0323:"c",\u00CA\u030C:"E",\u00EA\u030C:"e",F\u030C:"F",f\u030C:"f",\u01E6:"G",\u01E7:"g",\u021E:"H",\u021F:"h",J\u030C:"J",\u01F0:"j",\u01E8:"K",\u01E9:"k",M\u030C:"M",m\u030C:"m",P\u030C:"P",p\u030C:"p",Q\u030C:"Q",q\u030C:"q",\u0158\u0329:"R",\u0159\u0329:"r",\u1E66:"S",\u1E67:"s",V\u030C:"V",v\u030C:"v",W\u030C:"W",w\u030C:"w",X\u030C:"X",x\u030C:"x",Y\u030C:"Y",y\u030C:"y",A\u0327:"A",a\u0327:"a",B\u0327:"B",b\u0327:"b",\u1E10:"D",\u1E11:"d",\u0228:"E",\u0229:"e",\u0190\u0327:"E",\u025B\u0327:"e",\u1E28:"H",\u1E29:"h",I\u0327:"I",i\u0327:"i",\u0197\u0327:"I",\u0268\u0327:"i",M\u0327:"M",m\u0327:"m",O\u0327:"O",o\u0327:"o",Q\u0327:"Q",q\u0327:"q",U\u0327:"U",u\u0327:"u",X\u0327:"X",x\u0327:"x",Z\u0327:"Z",z\u0327:"z",\u0439:"\u0438",\u0419:"\u0418",\u0451:"\u0435",\u0401:"\u0415"},Qx=Object.keys(Kx).join("|"),X6=new RegExp(Qx,"g"),J6=new RegExp(Qx,"");function e8(e){return Kx[e]}var Xx=function(e){return e.replace(X6,e8)},t8=function(e){return!!e.match(J6)};Ep.exports=Xx;Ep.exports.has=t8;Ep.exports.remove=Xx});var Op=J((Eq,XT)=>{XT.exports=window.wp.blob});var Z1=J((zK,Y1)=>{"use strict";var u7=function(t){return p7(t)&&!m7(t)};function p7(e){return!!e&&typeof e=="object"}function m7(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||g7(e)}var f7=typeof Symbol=="function"&&Symbol.for,h7=f7?Symbol.for("react.element"):60103;function g7(e){return e.$$typeof===h7}function b7(e){return Array.isArray(e)?[]:{}}function vc(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Yn(b7(e),e,t):e}function _7(e,t,o){return e.concat(t).map(function(s){return vc(s,o)})}function y7(e,t){if(!t.customMerge)return Yn;var o=t.customMerge(e);return typeof o=="function"?o:Yn}function v7(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function W1(e){return Object.keys(e).concat(v7(e))}function $1(e,t){try{return t in e}catch{return!1}}function S7(e,t){return $1(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function P7(e,t,o){var s={};return o.isMergeableObject(e)&&W1(e).forEach(function(i){s[i]=vc(e[i],o)}),W1(t).forEach(function(i){S7(e,i)||($1(e,i)&&o.isMergeableObject(t[i])?s[i]=y7(i,o)(e[i],t[i],o):s[i]=vc(t[i],o))}),s}function Yn(e,t,o){o=o||{},o.arrayMerge=o.arrayMerge||_7,o.isMergeableObject=o.isMergeableObject||u7,o.cloneUnlessOtherwiseSpecified=vc;var s=Array.isArray(t),i=Array.isArray(e),n=s===i;return n?s?o.arrayMerge(e,t,o):P7(e,t,o):vc(t,o)}Yn.all=function(t,o){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(s,i){return Yn(s,i,o)},{})};var w7=Yn;Y1.exports=w7});var Av=J((lQ,g0)=>{g0.exports=window.wp.commands});var _0=J((cQ,b0)=>{b0.exports=window.wp.viewport});var js=J((dQ,y0)=>{y0.exports=window.wp.plugins});var Wo=J((AX,lk)=>{lk.exports=window.wp.keyboardShortcuts});var to=J((RX,dk)=>{dk.exports=window.wp.keycodes});var Qk=J((DJ,Kk)=>{"use strict";Kk.exports=function e(t,o){if(t===o)return!0;if(t&&o&&typeof t=="object"&&typeof o=="object"){if(t.constructor!==o.constructor)return!1;var s,i,n;if(Array.isArray(t)){if(s=t.length,s!=o.length)return!1;for(i=s;i--!==0;)if(!e(t[i],o[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if(n=Object.keys(t),s=n.length,s!==Object.keys(o).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(o,n[i]))return!1;for(i=s;i--!==0;){var a=n[i];if(!e(t[a],o[a]))return!1}return!0}return t!==t&&o!==o}});var ca=J((QJ,bE)=>{bE.exports=window.wp.dom});var Jv=J((nee,kE)=>{kE.exports=window.wp.richText});var VC=J((vte,FC)=>{FC.exports=window.wp.warning});var jh=J((Gie,xI)=>{xI.exports=window.React});var kI=J((Wie,TI)=>{"use strict";var Uj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";TI.exports=Uj});var II=J(($ie,AI)=>{"use strict";var Hj=kI();function EI(){}function CI(){}CI.resetWarningCache=EI;AI.exports=function(){function e(s,i,n,a,c,l){if(l!==Hj){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:CI,resetWarningCache:EI};return o.PropTypes=o,o}});var BI=J((qie,RI)=>{RI.exports=II()();var Yie,Zie});var MI=J((Uh,NI)=>{(function(e,t){if(typeof define=="function"&&define.amd)define(["module","exports"],t);else if(typeof Uh<"u")t(NI,Uh);else{var o={exports:{}};t(o,o.exports),e.autosize=o.exports}})(Uh,function(e,t){"use strict";var o=typeof Map=="function"?new Map:(function(){var l=[],d=[];return{has:function(p){return l.indexOf(p)>-1},get:function(p){return d[l.indexOf(p)]},set:function(p,f){l.indexOf(p)===-1&&(l.push(p),d.push(f))},delete:function(p){var f=l.indexOf(p);f>-1&&(l.splice(f,1),d.splice(f,1))}}})(),s=function(d){return new Event(d,{bubbles:!0})};try{new Event("test")}catch{s=function(u){var p=document.createEvent("Event");return p.initEvent(u,!0,!1),p}}function i(l){if(!l||!l.nodeName||l.nodeName!=="TEXTAREA"||o.has(l))return;var d=null,u=null,p=null;function f(){var S=window.getComputedStyle(l,null);S.resize==="vertical"?l.style.resize="none":S.resize==="both"&&(l.style.resize="horizontal"),S.boxSizing==="content-box"?d=-(parseFloat(S.paddingTop)+parseFloat(S.paddingBottom)):d=parseFloat(S.borderTopWidth)+parseFloat(S.borderBottomWidth),isNaN(d)&&(d=0),_()}function h(S){{var C=l.style.width;l.style.width="0px",l.offsetWidth,l.style.width=C}l.style.overflowY=S}function g(S){for(var C=[];S&&S.parentNode&&S.parentNode instanceof Element;)S.parentNode.scrollTop&&C.push({node:S.parentNode,scrollTop:S.parentNode.scrollTop}),S=S.parentNode;return C}function b(){if(l.scrollHeight!==0){var S=g(l),C=document.documentElement&&document.documentElement.scrollTop;l.style.height="",l.style.height=l.scrollHeight+d+"px",u=l.clientWidth,S.forEach(function(T){T.node.scrollTop=T.scrollTop}),C&&(document.documentElement.scrollTop=C)}}function _(){b();var S=Math.round(parseFloat(l.style.height)),C=window.getComputedStyle(l,null),T=C.boxSizing==="content-box"?Math.round(parseFloat(C.height)):l.offsetHeight;if(T<S?C.overflowY==="hidden"&&(h("scroll"),b(),T=C.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(l,null).height)):l.offsetHeight):C.overflowY!=="hidden"&&(h("hidden"),b(),T=C.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(l,null).height)):l.offsetHeight),p!==T){p=T;var I=s("autosize:resized");try{l.dispatchEvent(I)}catch{}}}var v=function(){l.clientWidth!==u&&_()},x=function(S){window.removeEventListener("resize",v,!1),l.removeEventListener("input",_,!1),l.removeEventListener("keyup",_,!1),l.removeEventListener("autosize:destroy",x,!1),l.removeEventListener("autosize:update",_,!1),Object.keys(S).forEach(function(C){l.style[C]=S[C]}),o.delete(l)}.bind(l,{height:l.style.height,resize:l.style.resize,overflowY:l.style.overflowY,overflowX:l.style.overflowX,wordWrap:l.style.wordWrap});l.addEventListener("autosize:destroy",x,!1),"onpropertychange"in l&&"oninput"in l&&l.addEventListener("keyup",_,!1),window.addEventListener("resize",v,!1),l.addEventListener("input",_,!1),l.addEventListener("autosize:update",_,!1),l.style.overflowX="hidden",l.style.wordWrap="break-word",o.set(l,{destroy:x,update:_}),f()}function n(l){var d=o.get(l);d&&d.destroy()}function a(l){var d=o.get(l);d&&d.update()}var c=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(c=function(d){return d},c.destroy=function(l){return l},c.update=function(l){return l}):(c=function(d,u){return d&&Array.prototype.forEach.call(d.length?d:[d],function(p){return i(p,u)}),d},c.destroy=function(l){return l&&Array.prototype.forEach.call(l.length?l:[l],n),l},c.update=function(l){return l&&Array.prototype.forEach.call(l.length?l:[l],a),l}),t.default=c,e.exports=t.default})});var OI=J((Kie,DI)=>{var zj=function(e,t,o){return o=window.getComputedStyle,(o?o(e):e.currentStyle)[t.replace(/-(\w)/gi,function(s,i){return i.toUpperCase()})]};DI.exports=zj});var FI=J((Qie,LI)=>{var cP=OI();function Gj(e){var t=cP(e,"line-height"),o=parseFloat(t,10);if(t===o+""){var s=e.style.lineHeight;e.style.lineHeight=t+"em",t=cP(e,"line-height"),o=parseFloat(t,10),s?e.style.lineHeight=s:delete e.style.lineHeight}if(t.indexOf("pt")!==-1?(o*=4,o/=3):t.indexOf("mm")!==-1?(o*=96,o/=25.4):t.indexOf("cm")!==-1?(o*=96,o/=2.54):t.indexOf("in")!==-1?o*=96:t.indexOf("pc")!==-1&&(o*=16),o=Math.round(o),t==="normal"){var i=e.nodeName,n=document.createElement(i);n.innerHTML="&nbsp;",i.toUpperCase()==="TEXTAREA"&&n.setAttribute("rows","1");var a=cP(e,"font-size");n.style.fontSize=a,n.style.padding="0px",n.style.border="0px";var c=document.body;c.appendChild(n);var l=n.offsetHeight;o=l,c.removeChild(n)}return o}LI.exports=Gj});var jI=J(bs=>{"use strict";var Wj=bs&&bs.__extends||(function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])};return function(t,o){e(t,o);function s(){this.constructor=t}t.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}})(),dP=bs&&bs.__assign||Object.assign||function(e){for(var t,o=1,s=arguments.length;o<s;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$j=bs&&bs.__rest||function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&(o[s[i]]=e[s[i]]);return o};bs.__esModule=!0;var zh=jh(),gd=BI(),Hh=MI(),Yj=FI(),Zj=Yj,VI="autosize:resized",qj=(function(e){Wj(t,e);function t(){var o=e!==null&&e.apply(this,arguments)||this;return o.state={lineHeight:null},o.textarea=null,o.onResize=function(s){o.props.onResize&&o.props.onResize(s)},o.updateLineHeight=function(){o.textarea&&o.setState({lineHeight:Zj(o.textarea)})},o.onChange=function(s){var i=o.props.onChange;o.currentValue=s.currentTarget.value,i&&i(s)},o}return t.prototype.componentDidMount=function(){var o=this,s=this.props,i=s.maxRows,n=s.async;typeof i=="number"&&this.updateLineHeight(),typeof i=="number"||n?setTimeout(function(){return o.textarea&&Hh(o.textarea)}):this.textarea&&Hh(this.textarea),this.textarea&&this.textarea.addEventListener(VI,this.onResize)},t.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(VI,this.onResize),Hh.destroy(this.textarea))},t.prototype.render=function(){var o=this,s=this,i=s.props,n=i.onResize,a=i.maxRows,c=i.onChange,l=i.style,d=i.innerRef,u=i.children,p=$j(i,["onResize","maxRows","onChange","style","innerRef","children"]),f=s.state.lineHeight,h=a&&f?f*a:null;return zh.createElement("textarea",dP({},p,{onChange:this.onChange,style:h?dP({},l,{maxHeight:h}):l,ref:function(g){o.textarea=g,typeof o.props.innerRef=="function"?o.props.innerRef(g):o.props.innerRef&&(o.props.innerRef.current=g)}}),u)},t.prototype.componentDidUpdate=function(){this.textarea&&Hh.update(this.textarea)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:gd.number,maxRows:gd.number,onResize:gd.func,innerRef:gd.any,async:gd.bool},t})(zh.Component);bs.TextareaAutosize=zh.forwardRef(function(e,t){return zh.createElement(qj,dP({},e,{innerRef:t}))})});var pP=J(uP=>{"use strict";uP.__esModule=!0;var Kj=jI();uP.default=Kj.TextareaAutosize});var Pd=J((Fne,_R)=>{_R.exports=window.wp.wordcount});var UR=J((eae,jR)=>{jR.exports=window.wp.serverSideRender});var $D=J((Vme,WD)=>{WD.exports=window.ReactDOM});var yG={};Cs(yG,{AlignmentToolbar:()=>iU,Autocomplete:()=>sU,AutosaveMonitor:()=>vm,BlockAlignmentToolbar:()=>nU,BlockControls:()=>aU,BlockEdit:()=>lU,BlockEditorKeyboardShortcuts:()=>cU,BlockFormatControls:()=>dU,BlockIcon:()=>uU,BlockInspector:()=>pU,BlockList:()=>mU,BlockMover:()=>fU,BlockNavigationDropdown:()=>hU,BlockSelectionClearer:()=>gU,BlockSettingsMenu:()=>bU,BlockTitle:()=>_U,BlockToolbar:()=>yU,CharacterCount:()=>il,ColorPalette:()=>vU,ContrastChecker:()=>SU,CopyHandler:()=>PU,DefaultBlockAppender:()=>wU,DocumentBar:()=>xm,DocumentOutline:()=>pa,DocumentOutlineCheck:()=>IE,EditorHistoryRedo:()=>Im,EditorHistoryUndo:()=>Nm,EditorKeyboardShortcuts:()=>na,EditorKeyboardShortcutsRegister:()=>LE,EditorNotices:()=>Gc,EditorProvider:()=>jk,EditorSnackbars:()=>qE,EntitiesSavedStates:()=>Hm,ErrorBoundary:()=>dC,FontSizePicker:()=>xU,InnerBlocks:()=>kU,Inserter:()=>TU,InspectorAdvancedControls:()=>EU,InspectorControls:()=>CU,LocalAutosaveMonitor:()=>fC,MediaPlaceholder:()=>MU,MediaUpload:()=>DU,MediaUploadCheck:()=>OU,MultiSelectScrollIntoView:()=>LU,NavigableToolbar:()=>FU,ObserveTyping:()=>VU,PageAttributesCheck:()=>ha,PageAttributesOrder:()=>vC,PageAttributesPanel:()=>Zm,PageAttributesParent:()=>RC,PageTemplate:()=>Xm,PanelColorSettings:()=>AU,PlainText:()=>IU,PluginBlockSettingsMenuItem:()=>KC,PluginDocumentSettingPanel:()=>rf,PluginMoreMenuItem:()=>e2,PluginPostPublishPanel:()=>nf,PluginPostStatusInfo:()=>lf,PluginPrePublishPanel:()=>df,PluginPreviewMenuItem:()=>c2,PluginSidebar:()=>Yi,PluginSidebarMoreMenuItem:()=>p2,PostAuthor:()=>bf,PostAuthorCheck:()=>_f,PostAuthorPanel:()=>Sf,PostComments:()=>Tf,PostDiscussionPanel:()=>Rf,PostExcerpt:()=>Xc,PostExcerptCheck:()=>Qi,PostExcerptPanel:()=>gA,PostFeaturedImage:()=>td,PostFeaturedImageCheck:()=>ms,PostFeaturedImagePanel:()=>Uf,PostFormat:()=>rd,PostFormatCheck:()=>Ra,PostLastRevision:()=>Gf,PostLastRevisionCheck:()=>en,PostLastRevisionPanel:()=>LA,PostLockedModal:()=>UA,PostPendingStatus:()=>WA,PostPendingStatusCheck:()=>Yf,PostPingbacks:()=>Af,PostPreviewButton:()=>Da,PostPublishButton:()=>La,PostPublishButtonLabel:()=>Kf,PostPublishPanel:()=>_h,PostSavedState:()=>Ah,PostSchedule:()=>ja,PostScheduleCheck:()=>Ih,PostScheduleLabel:()=>Ua,PostSchedulePanel:()=>Nh,PostSticky:()=>Sh,PostStickyCheck:()=>yh,PostSwitchToDraftButton:()=>gI,PostSyncStatus:()=>Oh,PostTaxonomies:()=>qa,PostTaxonomiesCheck:()=>Lh,PostTaxonomiesFlatTermSelector:()=>KS,PostTaxonomiesHierarchicalTermSelector:()=>JS,PostTaxonomiesPanel:()=>Vh,PostTemplatePanel:()=>ff,PostTextEditor:()=>bd,PostTitle:()=>Xh,PostTitleRaw:()=>eg,PostTrash:()=>rg,PostTrashCheck:()=>tg,PostTypeSupportCheck:()=>Ee,PostURL:()=>Sd,PostURLCheck:()=>ng,PostURLLabel:()=>mR,PostURLPanel:()=>dg,PostVisibility:()=>nd,PostVisibilityCheck:()=>bR,PostVisibilityLabel:()=>eh,RichText:()=>WR,RichTextShortcut:()=>RU,RichTextToolbarButton:()=>BU,ServerSideRender:()=>GR.default,SkipToSelectedBlock:()=>jU,TableOfContents:()=>MR,TextEditorGlobalKeyboardShortcuts:()=>oH,ThemeSupportCheck:()=>Ff,TimeToRead:()=>sl,URLInput:()=>UU,URLInputButton:()=>HU,URLPopover:()=>zU,UnsavedChangesWarning:()=>VR,VisualEditorGlobalKeyboardShortcuts:()=>tH,Warning:()=>GU,WordCount:()=>rl,WritingFlow:()=>WU,__unstableRichTextInputEvent:()=>NU,cleanForSlug:()=>H1,createCustomColorsHOC:()=>$U,getColorClassName:()=>YU,getColorObjectByAttributeValues:()=>ZU,getColorObjectByColorValue:()=>qU,getFontSize:()=>KU,getFontSizeClass:()=>QU,getTemplatePartIcon:()=>As,mediaUpload:()=>zp,privateApis:()=>$4,registerEntityAction:()=>hG,registerEntityField:()=>bG,store:()=>m,storeConfig:()=>_c,transformStyles:()=>Y4.transformStyles,unregisterEntityAction:()=>gG,unregisterEntityField:()=>_G,useEntitiesSavedStatesIsDirty:()=>Um,usePostScheduleLabel:()=>Ha,usePostURLLabel:()=>bP,usePostVisibilityLabel:()=>US,userAutocompleter:()=>_m,withColorContext:()=>XU,withColors:()=>JU,withFontSizes:()=>eH});var iE=r(y()),nE=r(P()),aE=r(R()),lE=r(A()),cE=r($()),dE=r(_t());var bm=r(P());var Ew=r(P());var ww=r(F()),xw={...ww.SETTINGS_DEFAULTS,richEditingEnabled:!0,codeEditingEnabled:!0,fontLibraryEnabled:!0,enableCustomFields:void 0,defaultRenderingMode:"post-only"};var Tw=r(P());function aO(e={},t){switch(t.type){case"SET_IS_READY":return{...e,[t.kind]:{...e[t.kind],[t.name]:!0}}}return e}function lO(e={},t){switch(t.type){case"REGISTER_ENTITY_ACTION":return{...e,[t.kind]:{...e[t.kind],[t.name]:[...(e[t.kind]?.[t.name]??[]).filter(o=>o.id!==t.config.id),t.config]}};case"UNREGISTER_ENTITY_ACTION":return{...e,[t.kind]:{...e[t.kind],[t.name]:(e[t.kind]?.[t.name]??[]).filter(o=>o.id!==t.actionId)}}}return e}function cO(e={},t){switch(t.type){case"REGISTER_ENTITY_FIELD":return{...e,[t.kind]:{...e[t.kind],[t.name]:[...(e[t.kind]?.[t.name]??[]).filter(o=>o.id!==t.config.id),t.config]}};case"UNREGISTER_ENTITY_FIELD":return{...e,[t.kind]:{...e[t.kind],[t.name]:(e[t.kind]?.[t.name]??[]).filter(o=>o.id!==t.fieldId)}}}return e}var kw=(0,Tw.combineReducers)({actions:lO,fields:cO,isReady:aO});function cu(e){return e&&typeof e=="object"&&"raw"in e?e.raw:e}function dO(e=null,t){switch(t.type){case"SET_EDITED_POST":return t.postId}return e}function uO(e=null,t){switch(t.type){case"SET_CURRENT_TEMPLATE_ID":return t.id}return e}function pO(e=null,t){switch(t.type){case"SET_EDITED_POST":return t.postType}return e}function mO(e={isValid:!0},t){switch(t.type){case"SET_TEMPLATE_VALIDITY":return{...e,isValid:t.isValid}}return e}function fO(e={},t){switch(t.type){case"REQUEST_POST_UPDATE_START":case"REQUEST_POST_UPDATE_FINISH":return{pending:t.type==="REQUEST_POST_UPDATE_START",options:t.options||{}}}return e}function hO(e={},t){switch(t.type){case"REQUEST_POST_DELETE_START":case"REQUEST_POST_DELETE_FINISH":return{pending:t.type==="REQUEST_POST_DELETE_START"}}return e}function gO(e={isLocked:!1},t){switch(t.type){case"UPDATE_POST_LOCK":return t.lock}return e}function bO(e={},t){switch(t.type){case"LOCK_POST_SAVING":return{...e,[t.lockName]:!0};case"UNLOCK_POST_SAVING":{let{[t.lockName]:o,...s}=e;return s}}return e}function _O(e={},t){switch(t.type){case"LOCK_POST_AUTOSAVING":return{...e,[t.lockName]:!0};case"UNLOCK_POST_AUTOSAVING":{let{[t.lockName]:o,...s}=e;return s}}return e}function yO(e=xw,t){switch(t.type){case"UPDATE_EDITOR_SETTINGS":return{...e,...t.settings}}return e}function vO(e="post-only",t){switch(t.type){case"SET_RENDERING_MODE":return t.mode}return e}function SO(e="Desktop",t){switch(t.type){case"SET_DEVICE_TYPE":return t.deviceType}return e}function PO(e=[],t){switch(t.type){case"REMOVE_PANEL":if(!e.includes(t.panelName))return[...e,t.panelName]}return e}function wO(e=!1,t){switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return t.isOpen?!1:e;case"SET_IS_INSERTER_OPENED":return t.value}return e}function xO(e=!1,t){switch(t.type){case"SET_IS_INSERTER_OPENED":return t.value?!1:e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e}function TO(e={current:null}){return e}function kO(e={current:null}){return e}function EO(e=!1,t){switch(t.type){case"OPEN_PUBLISH_SIDEBAR":return!0;case"CLOSE_PUBLISH_SIDEBAR":return!1;case"TOGGLE_PUBLISH_SIDEBAR":return!e}return e}function CO(e=0,t){switch(t.type){case"SET_CANVAS_MIN_HEIGHT":return t.minHeight}return e}var Cw=(0,Ew.combineReducers)({postId:dO,postType:pO,templateId:uO,saving:fO,deleting:hO,postLock:gO,template:mO,postSavingLock:bO,editorSettings:yO,postAutosavingLock:_O,renderingMode:vO,deviceType:SO,removedPanels:PO,blockInserterPanel:wO,inserterSidebarToggleRef:kO,listViewPanel:xO,listViewToggleRef:TO,publishSidebarActive:EO,canvasMinHeight:CO,dataviews:kw});var Py={};Cs(Py,{__experimentalGetDefaultTemplatePartAreas:()=>vL,__experimentalGetDefaultTemplateType:()=>SL,__experimentalGetDefaultTemplateTypes:()=>yL,__experimentalGetTemplateInfo:()=>PL,__unstableIsEditorReady:()=>f3,canInsertBlockType:()=>hL,canUserUseUnfilteredHTML:()=>n3,didPostSaveRequestFail:()=>YO,didPostSaveRequestSucceed:()=>$O,getActivePostLock:()=>i3,getAdjacentBlockClientId:()=>j3,getAutosaveAttribute:()=>$w,getBlock:()=>T3,getBlockAttributes:()=>x3,getBlockCount:()=>R3,getBlockHierarchyRootClientId:()=>V3,getBlockIndex:()=>eL,getBlockInsertionPoint:()=>dL,getBlockListSettings:()=>_L,getBlockMode:()=>aL,getBlockName:()=>P3,getBlockOrder:()=>J3,getBlockRootClientId:()=>F3,getBlockSelectionEnd:()=>N3,getBlockSelectionStart:()=>B3,getBlocks:()=>k3,getBlocksByClientId:()=>I3,getClientIdsOfDescendants:()=>E3,getClientIdsWithDescendants:()=>C3,getCurrentPost:()=>vt,getCurrentPostAttribute:()=>tc,getCurrentPostId:()=>mo,getCurrentPostLastRevisionId:()=>DO,getCurrentPostRevisionsCount:()=>MO,getCurrentPostType:()=>po,getCurrentTemplateId:()=>NO,getDeviceType:()=>g3,getEditedPostAttribute:()=>ke,getEditedPostContent:()=>ic,getEditedPostPreviewLink:()=>KO,getEditedPostSlug:()=>e3,getEditedPostVisibility:()=>LO,getEditorBlocks:()=>l3,getEditorMode:()=>y3,getEditorSelection:()=>m3,getEditorSelectionEnd:()=>p3,getEditorSelectionStart:()=>u3,getEditorSettings:()=>h3,getFirstMultiSelectedBlockClientId:()=>$3,getGlobalBlockCount:()=>A3,getInserterItems:()=>gL,getLastMultiSelectedBlockClientId:()=>Y3,getMultiSelectedBlockClientIds:()=>G3,getMultiSelectedBlocks:()=>W3,getMultiSelectedBlocksEndClientId:()=>X3,getMultiSelectedBlocksStartClientId:()=>Q3,getNextBlockClientId:()=>H3,getPermalink:()=>JO,getPermalinkParts:()=>Kw,getPostEdits:()=>sc,getPostLockUser:()=>s3,getPostTypeLabel:()=>wL,getPreviousBlockClientId:()=>U3,getRenderingMode:()=>fp,getSelectedBlock:()=>L3,getSelectedBlockClientId:()=>O3,getSelectedBlockCount:()=>M3,getSelectedBlocksInitialCaretPosition:()=>z3,getStateBeforeOptimisticTransaction:()=>v3,getSuggestedPostFormat:()=>QO,getTemplate:()=>mL,getTemplateLock:()=>fL,hasChangedContent:()=>Ww,hasEditorRedo:()=>IO,hasEditorUndo:()=>AO,hasInserterItems:()=>bL,hasMultiSelection:()=>sL,hasNonPostEntityChanges:()=>RO,hasSelectedBlock:()=>D3,hasSelectedInnerBlock:()=>oL,inSomeHistory:()=>S3,isAncestorMultiSelected:()=>K3,isAutosavingPost:()=>ZO,isBlockInsertionPointVisible:()=>uL,isBlockMultiSelected:()=>q3,isBlockSelected:()=>tL,isBlockValid:()=>w3,isBlockWithinSelection:()=>rL,isCaretWithinFormattedText:()=>cL,isCleanNewPost:()=>BO,isCurrentPostPending:()=>FO,isCurrentPostPublished:()=>Sy,isCurrentPostScheduled:()=>VO,isDeletingPost:()=>GO,isEditedPostAutosaveable:()=>UO,isEditedPostBeingScheduled:()=>HO,isEditedPostDateFloating:()=>zO,isEditedPostDirty:()=>vy,isEditedPostEmpty:()=>Zw,isEditedPostNew:()=>Gw,isEditedPostPublishable:()=>jO,isEditedPostSaveable:()=>Yw,isEditorPanelEnabled:()=>c3,isEditorPanelOpened:()=>d3,isEditorPanelRemoved:()=>Xw,isFirstMultiSelectedBlock:()=>Z3,isInserterOpened:()=>_3,isListViewOpened:()=>b3,isMultiSelecting:()=>iL,isPermalinkEditable:()=>qw,isPostAutosavingLocked:()=>Qw,isPostLockTakeover:()=>r3,isPostLocked:()=>t3,isPostSavingLocked:()=>o3,isPreviewingPost:()=>qO,isPublishSidebarEnabled:()=>a3,isPublishSidebarOpened:()=>xL,isPublishingPost:()=>XO,isSavingNonPostEntityChanges:()=>WO,isSavingPost:()=>Cn,isSelectionEnabled:()=>nL,isTyping:()=>lL,isValidTemplate:()=>pL});var Is=r(ve()),En=r(bi()),oc=r(ot()),de=r(P()),mr=r(pr()),zw=r(A()),mp=r(F()),Re=r(R()),nc=r(Pe());var Mw=new Set(["meta"]),Dw="core/editor",$b=/%(?:postname|pagename)%/,Yb=60*1e3,Ow=["title","excerpt","content"];var ae="wp_template",De="wp_template_part",yt="wp_block",jo="wp_navigation",du={custom:"custom",theme:"theme",plugin:"plugin"},Zb=["wp_template","wp_template_part"],Lw=[...Zb,"wp_block","wp_navigation"];var uu=r(A()),Dl=(0,uu.forwardRef)(({icon:e,size:t=24,...o},s)=>(0,uu.cloneElement)(e,{width:t,height:t,...o,ref:s}));var qb=r(y()),pu=r(G()),Kb=(0,qb.jsx)(pu.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,qb.jsx)(pu.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z"})});var Qb=r(y()),mu=r(G()),_i=(0,Qb.jsx)(mu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Qb.jsx)(mu.Path,{d:"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z"})});var Xb=r(y()),fu=r(G()),Jb=(0,Xb.jsx)(fu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Xb.jsx)(fu.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})});var e_=r(y()),hu=r(G()),Jt=(0,e_.jsx)(hu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e_.jsx)(hu.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})});var t_=r(y()),gu=r(G()),o_=(0,t_.jsx)(gu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,t_.jsx)(gu.Path,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"})});var r_=r(y()),bu=r(G()),s_=(0,r_.jsx)(bu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r_.jsx)(bu.Path,{d:"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z"})});var i_=r(y()),_u=r(G()),Ol=(0,i_.jsx)(_u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i_.jsx)(_u.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});var n_=r(y()),yu=r(G()),a_=(0,n_.jsx)(yu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n_.jsx)(yu.Path,{d:"M17.3 10.1C17.3 7.60001 15.2 5.70001 12.5 5.70001C10.3 5.70001 8.4 7.10001 7.9 9.00001H7.7C5.7 9.00001 4 10.7 4 12.8C4 14.9 5.7 16.6 7.7 16.6H9.5V15.2H7.7C6.5 15.2 5.5 14.1 5.5 12.9C5.5 11.7 6.5 10.5 7.7 10.5H9L9.3 9.40001C9.7 8.10001 11 7.20001 12.5 7.20001C14.3 7.20001 15.8 8.50001 15.8 10.1V11.4L17.1 11.6C17.9 11.7 18.5 12.5 18.5 13.4C18.5 14.4 17.7 15.2 16.8 15.2H14.5V16.6H16.7C18.5 16.6 19.9 15.1 19.9 13.3C20 11.7 18.8 10.4 17.3 10.1Z M14.1245 14.2426L15.1852 13.182L12.0032 10L8.82007 13.1831L9.88072 14.2438L11.25 12.8745V18H12.75V12.8681L14.1245 14.2426Z"})});var l_=r(y()),vu=r(G()),c_=(0,l_.jsx)(vu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l_.jsx)(vu.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z"})});var d_=r(y()),Su=r(G()),u_=(0,d_.jsx)(Su.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d_.jsx)(Su.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})});var p_=r(y()),Pu=r(G()),m_=(0,p_.jsx)(Pu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p_.jsx)(Pu.Path,{fillRule:"evenodd",d:"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",clipRule:"evenodd"})});var f_=r(y()),wu=r(G()),Ll=(0,f_.jsx)(wu.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f_.jsx)(wu.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12.9c0 .6.5 1.1 1.1 1.1.3 0 .5-.1.8-.3L8.5 17H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H7.9l-2.4 2.4V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v9z"})});var h_=r(y()),xu=r(G()),Fl=(0,h_.jsx)(xu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h_.jsx)(xu.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.625 5.5h9.75c.069 0 .125.056.125.125v9.75a.125.125 0 0 1-.125.125h-9.75a.125.125 0 0 1-.125-.125v-9.75c0-.069.056-.125.125-.125ZM4 5.625C4 4.728 4.728 4 5.625 4h9.75C16.273 4 17 4.728 17 5.625v9.75c0 .898-.727 1.625-1.625 1.625h-9.75A1.625 1.625 0 0 1 4 15.375v-9.75Zm14.5 11.656v-9H20v9C20 18.8 18.77 20 17.251 20H6.25v-1.5h11.001c.69 0 1.249-.528 1.249-1.219Z"})});var g_=r(y()),Tu=r(G()),ku=(0,g_.jsx)(Tu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,g_.jsx)(Tu.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})});var b_=r(y()),Eu=r(G()),__=(0,b_.jsx)(Eu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b_.jsx)(Eu.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"})});var y_=r(y()),Cu=r(G()),Tn=(0,y_.jsx)(Cu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,y_.jsx)(Cu.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8 4a4 4 0 0 0 4-4H8a4 4 0 0 0 4 4Z"})});var v_=r(y()),Au=r(G()),Vl=(0,v_.jsx)(Au.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,v_.jsx)(Au.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})});var S_=r(y()),Iu=r(G()),jl=(0,S_.jsx)(Iu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,S_.jsx)(Iu.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})});var P_=r(y()),Ru=r(G()),jt=(0,P_.jsx)(Ru.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,P_.jsx)(Ru.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})});var w_=r(y()),Bu=r(G()),Ul=(0,w_.jsx)(Bu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,w_.jsx)(Bu.Path,{fillRule:"evenodd",d:"M18 5.5h-8v8h8.5V6a.5.5 0 00-.5-.5zm-9.5 8h-3V6a.5.5 0 01.5-.5h2.5v8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})});var x_=r(y()),Nu=r(G()),T_=(0,x_.jsx)(Nu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,x_.jsx)(Nu.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});var k_=r(y()),Mu=r(G()),Hl=(0,k_.jsx)(Mu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,k_.jsx)(Mu.Path,{d:"M18.5 10.5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})});var E_=r(y()),Du=r(G()),C_=(0,E_.jsx)(Du.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,E_.jsx)(Du.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm.75 4v1.5h-1.5V8h1.5Zm0 8v-5h-1.5v5h1.5Z"})});var zl=r(y()),Gl=r(G()),A_=(0,zl.jsxs)(Gl.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,zl.jsx)(Gl.Path,{d:"m16 15.5h-8v-1.5h8zm-7.5-2.5h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm-9-3h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2z"}),(0,zl.jsx)(Gl.Path,{d:"m18.5 6.5h-13a.5.5 0 0 0 -.5.5v9.5a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9.5a.5.5 0 0 0 -.5-.5zm-13-1.5h13a2 2 0 0 1 2 2v9.5a2 2 0 0 1 -2 2h-13a2 2 0 0 1 -2-2v-9.5a2 2 0 0 1 2-2z"})]});var I_=r(y()),Ou=r(G()),Lr=(0,I_.jsx)(Ou.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,I_.jsx)(Ou.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})});var R_=r(y()),Lu=r(G()),B_=(0,R_.jsx)(Lu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,R_.jsx)(Lu.Path,{d:"M5 11.25h14v1.5H5z"})});var N_=r(y()),Fu=r(G()),Wl=(0,N_.jsx)(Fu.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,N_.jsx)(Fu.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})});var M_=r(y()),Vu=r(G()),D_=(0,M_.jsx)(Vu.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,M_.jsx)(Vu.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11h-.2V9c0-1.5-1.2-2.8-2.8-2.8S9.2 7.5 9.2 9v2H9c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1h6c.6 0 1-.4 1-1v-4c0-.6-.4-1-1-1zm-1.8 0h-2.5V9c0-.7.6-1.2 1.2-1.2s1.2.6 1.2 1.2v2z"})});var O_=r(y()),ju=r(G()),Uu=(0,O_.jsx)(ju.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,O_.jsx)(ju.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})});var L_=r(y()),Hu=r(G()),yi=(0,L_.jsx)(Hu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,L_.jsx)(Hu.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})});var F_=r(y()),zu=r(G()),V_=(0,F_.jsx)(zu.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,F_.jsx)(zu.Path,{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z"})});var j_=r(y()),Gu=r(G()),U_=(0,j_.jsx)(Gu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,j_.jsx)(Gu.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})});var H_=r(y()),Wu=r(G()),$l=(0,H_.jsx)(Wu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,H_.jsx)(Wu.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18.5A6.5 6.5 0 0 1 6.93 7.931l9.139 9.138A6.473 6.473 0 0 1 12 18.5Zm5.123-2.498a6.5 6.5 0 0 0-9.124-9.124l9.124 9.124ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z"})});var Yl=r(y()),Zl=r(G()),kn=(0,Yl.jsxs)(Zl.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,Yl.jsx)(Zl.Path,{d:"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z"}),(0,Yl.jsx)(Zl.Path,{d:"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z"})]});var z_=r(y()),$u=r(G()),G_=(0,z_.jsx)($u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,z_.jsx)($u.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})});var W_=r(y()),Yu=r(G()),ql=(0,W_.jsx)(Yu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,W_.jsx)(Yu.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8 4a4 4 0 0 1-4-4h4V8a4 4 0 0 1 0 8Z"})});var $_=r(y()),Zu=r(G()),Y_=(0,$_.jsx)(Zu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,$_.jsx)(Zu.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})});var Z_=r(y()),qu=r(G()),q_=(0,Z_.jsx)(qu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Z_.jsx)(qu.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})});var K_=r(y()),Ku=r(G()),vi=(0,K_.jsx)(Ku.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,K_.jsx)(Ku.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm11.53-1.47-1.06-1.06L11 12.94l-1.47-1.47-1.06 1.06L11 15.06l4.53-4.53Z"})});var Q_=r(y()),Qu=r(G()),Kl=(0,Q_.jsx)(Qu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Q_.jsx)(Qu.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})});var X_=r(y()),Xu=r(G()),J_=(0,X_.jsx)(Xu.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,X_.jsx)(Xu.Path,{d:"M12 4V2.2L9 4.8l3 2.5V5.5c3.6 0 6.5 2.9 6.5 6.5 0 2.9-1.9 5.3-4.5 6.2v.2l-.1-.2c-.4.1-.7.2-1.1.2l.2 1.5c.3 0 .6-.1 1-.2 3.5-.9 6-4 6-7.7 0-4.4-3.6-8-8-8zm-7.9 7l1.5.2c.1-1.2.5-2.3 1.2-3.2l-1.1-.9C4.8 8.2 4.3 9.6 4.1 11zm1.5 1.8l-1.5.2c.1.7.3 1.4.5 2 .3.7.6 1.3 1 1.8l1.2-.8c-.3-.5-.6-1-.8-1.5s-.4-1.1-.4-1.7zm1.5 5.5c1.1.9 2.4 1.4 3.8 1.6l.2-1.5c-1.1-.1-2.2-.5-3.1-1.2l-.9 1.1z"})});var ey=r(y()),Ju=r(G()),ty=(0,ey.jsx)(Ju.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,ey.jsx)(Ju.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"})});var oy=r(y()),ep=r(G()),Ql=(0,oy.jsx)(ep.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,oy.jsx)(ep.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm9 1V8h-1.5v3.5h-2V13H13Z"})});var ry=r(y()),tp=r(G()),Xl=(0,ry.jsx)(tp.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,ry.jsx)(tp.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})});var sy=r(y()),op=r(G()),iy=(0,sy.jsx)(op.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,sy.jsx)(op.Path,{fill:"none",d:"M5.75 12.75V18.25H11.25M12.75 5.75H18.25V11.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"square"})});var ny=r(y()),rp=r(G()),ay=(0,ny.jsx)(rp.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,ny.jsx)(rp.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})});var ly=r(y()),sp=r(G()),cy=(0,ly.jsx)(sp.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,ly.jsx)(sp.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})});var dy=r(y()),ip=r(G()),Si=(0,dy.jsx)(ip.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,dy.jsx)(ip.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"})});var uy=r(y()),np=r(G()),Jl=(0,uy.jsx)(np.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,uy.jsx)(np.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"})});var py=r(y()),ap=r(G()),lp=(0,py.jsx)(ap.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,py.jsx)(ap.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})});var my=r(y()),cp=r(G()),Fr=(0,my.jsx)(cp.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,my.jsx)(cp.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})});var fy=r(y()),dp=r(G()),ec=(0,fy.jsx)(dp.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,fy.jsx)(dp.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})});var hy=r(y()),up=r(G()),gy=(0,hy.jsx)(up.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,hy.jsx)(up.Path,{d:"M17.8 2l-.9.3c-.1 0-3.6 1-5.2 2.1C10 5.5 9.3 6.5 8.9 7.1c-.6.9-1.7 4.7-1.7 6.3l-.9 2.3c-.2.4 0 .8.4 1 .1 0 .2.1.3.1.3 0 .6-.2.7-.5l.6-1.5c.3 0 .7-.1 1.2-.2.7-.1 1.4-.3 2.2-.5.8-.2 1.6-.5 2.4-.8.7-.3 1.4-.7 1.9-1.2s.8-1.2 1-1.9c.2-.7.3-1.6.4-2.4.1-.8.1-1.7.2-2.5 0-.8.1-1.5.2-2.1V2zm-1.9 5.6c-.1.8-.2 1.5-.3 2.1-.2.6-.4 1-.6 1.3-.3.3-.8.6-1.4.9-.7.3-1.4.5-2.2.8-.6.2-1.3.3-1.8.4L15 7.5c.3-.3.6-.7 1-1.1 0 .4 0 .8-.1 1.2zM6 20h8v-1.5H6V20z"})});var by=r(y()),pp=r(G()),_y=(0,by.jsx)(pp.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,by.jsx)(pp.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})});function As(e){return e==="header"?Hl:e==="footer"?Ul:e==="sidebar"?Xl:Si}var jw=r(yy()),{lock:Uw,unlock:k}=(0,jw.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/editor");var Hw={},uo=e=>{if(!e)return Hw;let{templateTypes:t,templateAreas:o,template:s}=e,{description:i,slug:n,title:a,area:c}=s,{title:l,description:d}=Object.values(t).find(g=>g.slug===n)??Hw,u=typeof a=="string"?a:a?.rendered,p=typeof i=="string"?i:i?.raw,h=o?.map(g=>({...g,icon:As(g.icon)}))?.find(g=>c===g.area)?.icon||Lr;return{title:u&&u!==n?u:l||n,description:p||d,icon:h}};var rc={},AO=(0,de.createRegistrySelector)(e=>()=>e(Re.store).hasUndo()),IO=(0,de.createRegistrySelector)(e=>()=>e(Re.store).hasRedo());function Gw(e){return vt(e).status==="auto-draft"}function Ww(e){return"content"in sc(e)}var vy=(0,de.createRegistrySelector)(e=>t=>{let o=po(t),s=mo(t);return e(Re.store).hasEditsForEntityRecord("postType",o,s)}),RO=(0,de.createRegistrySelector)(e=>t=>{let o=e(Re.store).__experimentalGetDirtyEntityRecords(),{type:s,id:i}=vt(t);return o.some(n=>n.kind!=="postType"||n.name!==s||n.key!==i)});function BO(e){return!vy(e)&&Gw(e)}var vt=(0,de.createRegistrySelector)(e=>t=>{let o=mo(t),s=po(t),i=e(Re.store).getRawEntityRecord("postType",s,o);return i||rc});function po(e){return e.postType}function mo(e){return e.postId}function NO(e){return e.templateId}function MO(e){return vt(e)._links?.["version-history"]?.[0]?.count??0}function DO(e){return vt(e)._links?.["predecessor-version"]?.[0]?.id??null}var sc=(0,de.createRegistrySelector)(e=>t=>{let o=po(t),s=mo(t);return e(Re.store).getEntityRecordEdits("postType",o,s)||rc});function tc(e,t){switch(t){case"type":return po(e);case"id":return mo(e);default:let o=vt(e);if(!o.hasOwnProperty(t))break;return cu(o[t])}}var OO=(0,de.createSelector)((e,t)=>{let o=sc(e);return o.hasOwnProperty(t)?{...tc(e,t),...o[t]}:tc(e,t)},(e,t)=>[tc(e,t),sc(e)[t]]);function ke(e,t){switch(t){case"content":return ic(e)}let o=sc(e);return o.hasOwnProperty(t)?Mw.has(t)?OO(e,t):o[t]:tc(e,t)}var $w=(0,de.createRegistrySelector)(e=>(t,o)=>{if(!Ow.includes(o)&&o!=="preview_link")return;let s=po(t);if(s==="wp_template")return!1;let i=mo(t),n=e(Re.store).getCurrentUser()?.id,a=e(Re.store).getAutosave(s,i,n);if(a)return cu(a[o])});function LO(e){return ke(e,"status")==="private"?"private":ke(e,"password")?"password":"public"}function FO(e){return vt(e).status==="pending"}function Sy(e,t){let o=t||vt(e);return["publish","private"].indexOf(o.status)!==-1||o.status==="future"&&!(0,En.isInTheFuture)(new Date(Number((0,En.getDate)(o.date))-Yb))}function VO(e){return vt(e).status==="future"&&!Sy(e)}function jO(e){let t=vt(e);return vy(e)||["publish","private","future"].indexOf(t.status)===-1}function Yw(e){return Cn(e)?!1:!!ke(e,"title")||!!ke(e,"excerpt")||!Zw(e)||zw.Platform.OS==="native"}var Zw=(0,de.createRegistrySelector)(e=>t=>{let o=mo(t),s=po(t),i=e(Re.store).getEditedEntityRecord("postType",s,o);if(typeof i.content!="function")return!i.content;let n=ke(t,"blocks");if(n.length===0)return!0;if(n.length>1)return!1;let a=n[0].name;return a!==(0,Is.getDefaultBlockName)()&&a!==(0,Is.getFreeformContentHandlerName)()?!1:!ic(t)}),UO=(0,de.createRegistrySelector)(e=>t=>{if(!Yw(t)||Qw(t))return!1;let o=po(t),s=e(Re.store).getPostType(o);if(o==="wp_template"||!s?.supports?.autosave)return!1;let i=mo(t),n=e(Re.store).hasFetchedAutosaves(o,i),a=e(Re.store).getCurrentUser()?.id,c=e(Re.store).getAutosave(o,i,a);return n?!c||Ww(t)?!0:["title","excerpt","meta"].some(l=>cu(c[l])!==ke(t,l)):!1});function HO(e){let t=ke(e,"date"),o=new Date(Number((0,En.getDate)(t))-Yb);return(0,En.isInTheFuture)(o)}function zO(e){let t=ke(e,"date"),o=ke(e,"modified"),s=vt(e).status;return s==="draft"||s==="auto-draft"||s==="pending"?t===o||t===null:!1}function GO(e){return!!e.deleting.pending}function Cn(e){return!!e.saving.pending}var WO=(0,de.createRegistrySelector)(e=>t=>{let o=e(Re.store).__experimentalGetEntitiesBeingSaved(),{type:s,id:i}=vt(t);return o.some(n=>n.kind!=="postType"||n.name!==s||n.key!==i)}),$O=(0,de.createRegistrySelector)(e=>t=>{let o=po(t),s=mo(t);return!e(Re.store).getLastEntitySaveError("postType",o,s)}),YO=(0,de.createRegistrySelector)(e=>t=>{let o=po(t),s=mo(t);return!!e(Re.store).getLastEntitySaveError("postType",o,s)});function ZO(e){return Cn(e)&&!!e.saving.options?.isAutosave}function qO(e){return Cn(e)&&!!e.saving.options?.isPreview}function KO(e){if(e.saving.pending||Cn(e))return;let t=$w(e,"preview_link");(!t||vt(e).status==="draft")&&(t=ke(e,"link"),t&&(t=(0,oc.addQueryArgs)(t,{preview:!0})));let o=ke(e,"featured_media");return t&&o?(0,oc.addQueryArgs)(t,{_thumbnail_id:o}):t}var QO=(0,de.createRegistrySelector)(e=>()=>{let t=e(mp.store).getBlocks();if(t.length>2)return null;let o;if(t.length===1&&(o=t[0].name,o==="core/embed")){let s=t[0].attributes?.providerNameSlug;["youtube","vimeo"].includes(s)?o="core/video":["spotify","soundcloud"].includes(s)&&(o="core/audio")}switch(t.length===2&&t[1].name==="core/paragraph"&&(o=t[0].name),o){case"core/image":return"image";case"core/quote":case"core/pullquote":return"quote";case"core/gallery":return"gallery";case"core/video":return"video";case"core/audio":return"audio";default:return null}}),ic=(0,de.createRegistrySelector)(e=>t=>{let o=mo(t),s=po(t),i=e(Re.store).getEditedEntityRecord("postType",s,o);if(i){if(typeof i.content=="function")return i.content(i);if(i.blocks)return(0,Is.__unstableSerializeAndClean)(i.blocks);if(i.content)return i.content}return""});function XO(e){return Cn(e)&&!Sy(e)&&ke(e,"status")==="publish"}function qw(e){let t=ke(e,"permalink_template");return $b.test(t)}function JO(e){let t=Kw(e);if(!t)return null;let{prefix:o,postName:s,suffix:i}=t;return qw(e)?o+s+i:o}function e3(e){return ke(e,"slug")||(0,oc.cleanForSlug)(ke(e,"title"))||mo(e)}function Kw(e){let t=ke(e,"permalink_template");if(!t)return null;let o=ke(e,"slug")||ke(e,"generated_slug"),[s,i]=t.split($b);return{prefix:s,postName:o,suffix:i}}function t3(e){return e.postLock.isLocked}function o3(e){return Object.keys(e.postSavingLock).length>0}function Qw(e){return Object.keys(e.postAutosavingLock).length>0}function r3(e){return e.postLock.isTakeover}function s3(e){return e.postLock.user}function i3(e){return e.postLock.activePostLock}function n3(e){return!!vt(e)._links?.hasOwnProperty("wp:action-unfiltered-html")}var a3=(0,de.createRegistrySelector)(e=>()=>!!e(nc.store).get("core","isPublishSidebarEnabled")),l3=(0,de.createSelector)(e=>ke(e,"blocks")||(0,Is.parse)(ic(e)),e=>[ke(e,"blocks"),ic(e)]);function Xw(e,t){return e.removedPanels.includes(t)}var c3=(0,de.createRegistrySelector)(e=>(t,o)=>{let s=e(nc.store).get("core","inactivePanels");return!Xw(t,o)&&!s?.includes(o)}),d3=(0,de.createRegistrySelector)(e=>(t,o)=>!!e(nc.store).get("core","openPanels")?.includes(o));function u3(e){return(0,mr.default)("select('core/editor').getEditorSelectionStart",{since:"5.8",alternative:"select('core/editor').getEditorSelection"}),ke(e,"selection")?.selectionStart}function p3(e){return(0,mr.default)("select('core/editor').getEditorSelectionStart",{since:"5.8",alternative:"select('core/editor').getEditorSelection"}),ke(e,"selection")?.selectionEnd}function m3(e){return ke(e,"selection")}function f3(e){return!!e.postId}function h3(e){return e.editorSettings}function fp(e){return e.renderingMode}var g3=(0,de.createRegistrySelector)(e=>t=>k(e(mp.store)).isZoomOut()?"Desktop":t.deviceType);function b3(e){return e.listViewPanel}function _3(e){return!!e.blockInserterPanel}var y3=(0,de.createRegistrySelector)(e=>()=>e(nc.store).get("core","editorMode")??"visual");function v3(){return(0,mr.default)("select('core/editor').getStateBeforeOptimisticTransaction",{since:"5.7",hint:"No state history is kept on this store anymore"}),null}function S3(){return(0,mr.default)("select('core/editor').inSomeHistory",{since:"5.7",hint:"No state history is kept on this store anymore"}),!1}function Z(e){return(0,de.createRegistrySelector)(t=>(o,...s)=>((0,mr.default)("`wp.data.select( 'core/editor' )."+e+"`",{since:"5.3",alternative:"`wp.data.select( 'core/block-editor' )."+e+"`",version:"6.2"}),t(mp.store)[e](...s)))}var P3=Z("getBlockName"),w3=Z("isBlockValid"),x3=Z("getBlockAttributes"),T3=Z("getBlock"),k3=Z("getBlocks"),E3=Z("getClientIdsOfDescendants"),C3=Z("getClientIdsWithDescendants"),A3=Z("getGlobalBlockCount"),I3=Z("getBlocksByClientId"),R3=Z("getBlockCount"),B3=Z("getBlockSelectionStart"),N3=Z("getBlockSelectionEnd"),M3=Z("getSelectedBlockCount"),D3=Z("hasSelectedBlock"),O3=Z("getSelectedBlockClientId"),L3=Z("getSelectedBlock"),F3=Z("getBlockRootClientId"),V3=Z("getBlockHierarchyRootClientId"),j3=Z("getAdjacentBlockClientId"),U3=Z("getPreviousBlockClientId"),H3=Z("getNextBlockClientId"),z3=Z("getSelectedBlocksInitialCaretPosition"),G3=Z("getMultiSelectedBlockClientIds"),W3=Z("getMultiSelectedBlocks"),$3=Z("getFirstMultiSelectedBlockClientId"),Y3=Z("getLastMultiSelectedBlockClientId"),Z3=Z("isFirstMultiSelectedBlock"),q3=Z("isBlockMultiSelected"),K3=Z("isAncestorMultiSelected"),Q3=Z("getMultiSelectedBlocksStartClientId"),X3=Z("getMultiSelectedBlocksEndClientId"),J3=Z("getBlockOrder"),eL=Z("getBlockIndex"),tL=Z("isBlockSelected"),oL=Z("hasSelectedInnerBlock"),rL=Z("isBlockWithinSelection"),sL=Z("hasMultiSelection"),iL=Z("isMultiSelecting"),nL=Z("isSelectionEnabled"),aL=Z("getBlockMode"),lL=Z("isTyping"),cL=Z("isCaretWithinFormattedText"),dL=Z("getBlockInsertionPoint"),uL=Z("isBlockInsertionPointVisible"),pL=Z("isValidTemplate"),mL=Z("getTemplate"),fL=Z("getTemplateLock"),hL=Z("canInsertBlockType"),gL=Z("getInserterItems"),bL=Z("hasInserterItems"),_L=Z("getBlockListSettings"),yL=(0,de.createRegistrySelector)(e=>()=>((0,mr.default)("select('core/editor').__experimentalGetDefaultTemplateTypes",{since:"6.8",alternative:"select('core/core-data').getCurrentTheme()?.default_template_types"}),e(Re.store).getCurrentTheme()?.default_template_types)),vL=(0,de.createRegistrySelector)(e=>(0,de.createSelector)(()=>((0,mr.default)("select('core/editor').__experimentalGetDefaultTemplatePartAreas",{since:"6.8",alternative:"select('core/core-data').getCurrentTheme()?.default_template_part_areas"}),(e(Re.store).getCurrentTheme()?.default_template_part_areas||[]).map(o=>({...o,icon:As(o.icon)}))))),SL=(0,de.createRegistrySelector)(e=>(0,de.createSelector)((t,o)=>{(0,mr.default)("select('core/editor').__experimentalGetDefaultTemplateType",{since:"6.8"});let s=e(Re.store).getCurrentTheme()?.default_template_types;return s?Object.values(s).find(i=>i.slug===o)??rc:rc})),PL=(0,de.createRegistrySelector)(e=>(0,de.createSelector)((t,o)=>{if((0,mr.default)("select('core/editor').__experimentalGetTemplateInfo",{since:"6.8"}),!o)return rc;let s=e(Re.store).getCurrentTheme(),i=s?.default_template_types||[],n=s?.default_template_part_areas||[];return uo({template:o,templateAreas:n,templateTypes:i})})),wL=(0,de.createRegistrySelector)(e=>t=>{let o=po(t);return e(Re.store).getPostType(o)?.labels?.singular_name});function xL(e){return e.publishSidebarActive}var Ty={};Cs(Ty,{__experimentalTearDownEditor:()=>kL,__unstableSaveForPreview:()=>OL,autosave:()=>DL,clearSelectedBlock:()=>b6,closePublishSidebar:()=>a6,createUndoLevel:()=>VL,disablePublishSidebar:()=>HL,editPost:()=>IL,enablePublishSidebar:()=>UL,enterFormattedText:()=>O6,exitFormattedText:()=>L6,hideInsertionPoint:()=>E6,insertBlock:()=>x6,insertBlocks:()=>T6,insertDefaultBlock:()=>F6,lockPostAutosaving:()=>WL,lockPostSaving:()=>zL,mergeBlocks:()=>I6,moveBlockToPosition:()=>w6,moveBlocksDown:()=>S6,moveBlocksUp:()=>P6,multiSelect:()=>g6,openPublishSidebar:()=>n6,receiveBlocks:()=>d6,redo:()=>LL,refreshPost:()=>NL,removeBlock:()=>B6,removeBlocks:()=>R6,removeEditorPanel:()=>JL,replaceBlock:()=>v6,replaceBlocks:()=>y6,resetBlocks:()=>c6,resetEditorBlocks:()=>YL,resetPost:()=>EL,savePost:()=>RL,selectBlock:()=>m6,setDeviceType:()=>KL,setEditedPost:()=>cx,setIsInserterOpened:()=>e6,setIsListViewOpened:()=>t6,setRenderingMode:()=>qL,setTemplateValidity:()=>C6,setupEditor:()=>TL,setupEditorState:()=>AL,showInsertionPoint:()=>k6,startMultiSelect:()=>f6,startTyping:()=>M6,stopMultiSelect:()=>h6,stopTyping:()=>D6,switchEditorMode:()=>i6,synchronizeTemplate:()=>A6,toggleBlockMode:()=>N6,toggleDistractionFree:()=>o6,toggleEditorPanelEnabled:()=>QL,toggleEditorPanelOpened:()=>XL,togglePublishSidebar:()=>l6,toggleSelection:()=>_6,toggleSpotlightMode:()=>r6,toggleTopToolbar:()=>s6,trashPost:()=>ML,undo:()=>FL,unlockPostAutosaving:()=>$L,unlockPostSaving:()=>GL,updateBlock:()=>u6,updateBlockAttributes:()=>p6,updateBlockListSettings:()=>V6,updateEditorSettings:()=>ZL,updatePost:()=>CL,updatePostLock:()=>jL});var xy=r(hp()),lx=r(gp()),Bs=r(pr()),An=r(ve()),Uo=r(he()),Rt=r(R()),Rs=r(F()),In=r(_t()),Ve=r(Pe()),Ge=r(w());function wy(e,t){return`wp-autosave-block-editor-post-${t?"auto-draft":e}`}function rx(e,t){return window.sessionStorage.getItem(wy(e,t))}function sx(e,t,o,s,i){window.sessionStorage.setItem(wy(e,t),JSON.stringify({post_title:o,content:s,excerpt:i}))}function bp(e,t){window.sessionStorage.removeItem(wy(e,t))}var fo=r(w());function ix(e){let{previousPost:t,post:o,postType:s}=e;if(e.options?.isAutosave)return[];let i=["publish","private","future"],n=i.includes(t.status),a=i.includes(o.status),c=o.status==="trash"&&t.status!=="trash",l,d=s?.viewable??!1,u;c?(l=s.labels.item_trashed,d=!1):!n&&!a?(l=(0,fo.__)("Draft saved."),u=!0):n&&!a?(l=s.labels.item_reverted_to_draft,d=!1):!n&&a?l={publish:s.labels.item_published,private:s.labels.item_published_privately,future:s.labels.item_scheduled}[o.status]:l=s.labels.item_updated;let p=[];return d&&p.push({label:u?(0,fo.__)("View Preview"):s.labels.view_item,url:o.link,openInNewTab:!0}),[l,{id:"editor-save",type:"snackbar",actions:p}]}function nx(e){let{post:t,edits:o,error:s}=e;if(s&&s.code==="rest_autosave_no_changes")return[];let n=["publish","private","future"].indexOf(t.status)!==-1;if(s.code==="offline_error"){let l={publish:(0,fo.__)("Publishing failed because you were offline."),private:(0,fo.__)("Publishing failed because you were offline."),future:(0,fo.__)("Scheduling failed because you were offline."),default:(0,fo.__)("Updating failed because you were offline.")};return[!n&&o.status in l?l[o.status]:l.default,{id:"editor-save"}]}let a={publish:(0,fo.__)("Publishing failed."),private:(0,fo.__)("Publishing failed."),future:(0,fo.__)("Scheduling failed."),default:(0,fo.__)("Updating failed.")},c=!n&&o.status in a?a[o.status]:a.default;return s.message&&!/<\/?[^>]*>/.test(s.message)&&(c=[c,s.message].join(" ")),[c,{id:"editor-save"}]}function ax(e){return[e.error.message&&e.error.code!=="unknown_error"?e.error.message:(0,fo.__)("Trashing failed"),{id:"editor-trash-fail"}]}var TL=(e,t,o)=>({dispatch:s})=>{if(s.setEditedPost(e.type,e.id),e.status==="auto-draft"&&o){let n;"content"in t?n=t.content:n=e.content.raw;let a=(0,An.parse)(n);a=(0,An.synchronizeBlocksWithTemplate)(a,o),s.resetEditorBlocks(a,{__unstableShouldCreateUndoLevel:!1})}t&&Object.values(t).some(([n,a])=>a!==(e[n]?.raw??e[n]))&&s.editPost(t)};function kL(){return(0,Bs.default)("wp.data.dispatch( 'core/editor' ).__experimentalTearDownEditor",{since:"6.5"}),{type:"DO_NOTHING"}}function EL(){return(0,Bs.default)("wp.data.dispatch( 'core/editor' ).resetPost",{since:"6.0",version:"6.3",alternative:"Initialize the editor with the setupEditorState action"}),{type:"DO_NOTHING"}}function CL(){return(0,Bs.default)("wp.data.dispatch( 'core/editor' ).updatePost",{since:"5.7",alternative:"Use the core entities store instead"}),{type:"DO_NOTHING"}}function AL(e){return(0,Bs.default)("wp.data.dispatch( 'core/editor' ).setupEditorState",{since:"6.5",alternative:"wp.data.dispatch( 'core/editor' ).setEditedPost"}),cx(e.type,e.id)}function cx(e,t){return{type:"SET_EDITED_POST",postType:e,postId:t}}var IL=(e,t)=>({select:o,registry:s})=>{let{id:i,type:n}=o.getCurrentPost();s.dispatch(Rt.store).editEntityRecord("postType",n,i,e,t)},RL=(e={})=>async({select:t,dispatch:o,registry:s})=>{if(!t.isEditedPostSaveable())return;let i=t.getEditedPostContent();e.isAutosave||o.editPost({content:i},{undoIgnore:!0});let n=t.getCurrentPost(),a={id:n.id,...s.select(Rt.store).getEntityRecordNonTransientEdits("postType",n.type,n.id),content:i};o({type:"REQUEST_POST_UPDATE_START",options:e});let c=!1;try{a=await(0,In.applyFiltersAsync)("editor.preSavePost",a,e)}catch(l){c=l}if(!c)try{await s.dispatch(Rt.store).saveEntityRecord("postType",n.type,a,e)}catch(l){c=l.message&&l.code!=="unknown_error"?l.message:(0,Ge.__)("An error occurred while updating.")}if(c||(c=s.select(Rt.store).getLastEntitySaveError("postType",n.type,n.id)),!c)try{await(0,In.applyFilters)("editor.__unstableSavePost",Promise.resolve(),e)}catch(l){c=l}if(!c)try{await(0,In.doActionAsync)("editor.savePost",{id:n.id,type:n.type},e)}catch(l){c=l}if(o({type:"REQUEST_POST_UPDATE_FINISH",options:e}),!e.isAutosave&&n.type==="wp_template"&&(typeof n.id=="number"||/^\d+$/.test(n.id))&&BL({select:t,dispatch:o,registry:s}),c){let l=nx({post:n,edits:a,error:c});l.length&&s.dispatch(Uo.store).createErrorNotice(...l)}else{let l=t.getCurrentPost(),d=ix({previousPost:n,post:l,postType:await s.resolveSelect(Rt.store).getPostType(l.type),options:e});d.length&&s.dispatch(Uo.store).createSuccessNotice(...d),e.isAutosave||s.dispatch(Rs.store).__unstableMarkLastChangeAsPersistent()}};async function BL({select:e,registry:t}){if(e.getEditorSettings().onNavigateToPreviousEntityRecord)return;let{id:s,slug:i}=e.getCurrentPost();if((await t.select(Rt.store).getEntityRecord("root","site")).active_templates[i]===s)return;let c=(await t.resolveSelect(Rt.store).getCurrentTheme())?.default_template_types.find(l=>l.slug===i);await t.dispatch(Uo.store).createNotice("info",(0,Ge.sprintf)((0,Ge.__)('Do you want to activate this "%s" template?'),c?.title??i),{id:"template-activate-notice",actions:[{label:(0,Ge.__)("Activate"),onClick:async()=>{await t.dispatch(Uo.store).createNotice("info",(0,Ge.__)("Activating template\u2026"),{id:"template-activate-notice"});try{let l=await t.select(Rt.store).getEntityRecord("root","site");await t.dispatch(Rt.store).saveEntityRecord("root","site",{active_templates:{...l.active_templates,[i]:s}},{throwOnError:!0}),await t.dispatch(Uo.store).createSuccessNotice((0,Ge.__)("Template activated."),{id:"template-activate-notice"})}catch(l){throw await t.dispatch(Uo.store).createErrorNotice((0,Ge.__)("Template activation failed."),{id:"template-activate-notice"}),l}}}]})}function NL(){return(0,Bs.default)("wp.data.dispatch( 'core/editor' ).refreshPost",{since:"6.0",version:"6.3",alternative:"Use the core entities store instead"}),{type:"DO_NOTHING"}}var ML=()=>async({select:e,dispatch:t,registry:o})=>{let s=e.getCurrentPostType(),i=await o.resolveSelect(Rt.store).getPostType(s),{rest_base:n,rest_namespace:a="wp/v2"}=i;t({type:"REQUEST_POST_DELETE_START"});try{let c=e.getCurrentPost();await(0,lx.default)({path:`/${a}/${n}/${c.id}`,method:"DELETE"}),await t.savePost()}catch(c){o.dispatch(Uo.store).createErrorNotice(...ax({error:c}))}t({type:"REQUEST_POST_DELETE_FINISH"})},DL=({local:e=!1,...t}={})=>async({select:o,dispatch:s})=>{let i=o.getCurrentPost();if(i.type!=="wp_template")if(e){let n=o.isEditedPostNew(),a=o.getEditedPostAttribute("title"),c=o.getEditedPostAttribute("content"),l=o.getEditedPostAttribute("excerpt");sx(i.id,n,a,c,l)}else await s.savePost({isAutosave:!0,...t})},OL=({forceIsAutosaveable:e}={})=>async({select:t,dispatch:o})=>((e||t.isEditedPostAutosaveable())&&!t.isPostLocked()&&(["draft","auto-draft"].includes(t.getEditedPostAttribute("status"))?await o.savePost({isPreview:!0}):await o.autosave({isPreview:!0})),t.getEditedPostPreviewLink()),LL=()=>({registry:e})=>{e.dispatch(Rt.store).redo()},FL=()=>({registry:e})=>{e.dispatch(Rt.store).undo()};function VL(){return(0,Bs.default)("wp.data.dispatch( 'core/editor' ).createUndoLevel",{since:"6.0",version:"6.3",alternative:"Use the core entities store instead"}),{type:"DO_NOTHING"}}function jL(e){return{type:"UPDATE_POST_LOCK",lock:e}}var UL=()=>({registry:e})=>{e.dispatch(Ve.store).set("core","isPublishSidebarEnabled",!0)},HL=()=>({registry:e})=>{e.dispatch(Ve.store).set("core","isPublishSidebarEnabled",!1)};function zL(e){return{type:"LOCK_POST_SAVING",lockName:e}}function GL(e){return{type:"UNLOCK_POST_SAVING",lockName:e}}function WL(e){return{type:"LOCK_POST_AUTOSAVING",lockName:e}}function $L(e){return{type:"UNLOCK_POST_AUTOSAVING",lockName:e}}var YL=(e,t={})=>({select:o,dispatch:s,registry:i})=>{let{__unstableShouldCreateUndoLevel:n,selection:a}=t,c={blocks:e,selection:a};if(n!==!1){let{id:l,type:d}=o.getCurrentPost();if(i.select(Rt.store).getEditedEntityRecord("postType",d,l).blocks===c.blocks){i.dispatch(Rt.store).__unstableCreateUndoLevel("postType",d,l);return}c.content=({blocks:p=[]})=>(0,An.__unstableSerializeAndClean)(p)}s.editPost(c)};function ZL(e){return{type:"UPDATE_EDITOR_SETTINGS",settings:e}}var qL=e=>({dispatch:t,registry:o,select:s})=>{s.__unstableIsEditorReady()&&!s.getEditorSettings().isPreviewMode&&(o.dispatch(Rs.store).clearSelectedBlock(),t.editPost({selection:void 0},{undoIgnore:!0})),t({type:"SET_RENDERING_MODE",mode:e})};function KL(e){return{type:"SET_DEVICE_TYPE",deviceType:e}}var QL=e=>({registry:t})=>{let o=t.select(Ve.store).get("core","inactivePanels")??[],s=!!o?.includes(e),i;s?i=o.filter(n=>n!==e):i=[...o,e],t.dispatch(Ve.store).set("core","inactivePanels",i)},XL=e=>({registry:t})=>{let o=t.select(Ve.store).get("core","openPanels")??[],s=!!o?.includes(e),i;s?i=o.filter(n=>n!==e):i=[...o,e],t.dispatch(Ve.store).set("core","openPanels",i)};function JL(e){return{type:"REMOVE_PANEL",panelName:e}}var e6=e=>({dispatch:t,registry:o})=>{typeof e=="object"&&e.hasOwnProperty("rootClientId")&&e.hasOwnProperty("insertionIndex")&&k(o.dispatch(Rs.store)).setInsertionPoint({rootClientId:e.rootClientId,index:e.insertionIndex}),t({type:"SET_IS_INSERTER_OPENED",value:e})};function t6(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}var o6=({createNotice:e=!0}={})=>({dispatch:t,registry:o})=>{let s=o.select(Ve.store).get("core","distractionFree");s&&o.dispatch(Ve.store).set("core","fixedToolbar",!1),s||o.batch(()=>{o.dispatch(Ve.store).set("core","fixedToolbar",!0),t.setIsInserterOpened(!1),t.setIsListViewOpened(!1),k(o.dispatch(Rs.store)).resetZoomLevel()}),o.batch(()=>{o.dispatch(Ve.store).set("core","distractionFree",!s),e&&o.dispatch(Uo.store).createInfoNotice(s?(0,Ge.__)("Distraction free mode deactivated."):(0,Ge.__)("Distraction free mode activated."),{id:"core/editor/distraction-free-mode/notice",type:"snackbar",actions:[{label:(0,Ge.__)("Undo"),onClick:()=>{o.batch(()=>{o.dispatch(Ve.store).set("core","fixedToolbar",s),o.dispatch(Ve.store).toggle("core","distractionFree")})}}]})})},r6=()=>({registry:e})=>{e.dispatch(Ve.store).toggle("core","focusMode");let t=e.select(Ve.store).get("core","focusMode");e.dispatch(Uo.store).createInfoNotice(t?(0,Ge.__)("Spotlight mode activated."):(0,Ge.__)("Spotlight mode deactivated."),{id:"core/editor/toggle-spotlight-mode/notice",type:"snackbar",actions:[{label:(0,Ge.__)("Undo"),onClick:()=>{e.dispatch(Ve.store).toggle("core","focusMode")}}]})},s6=()=>({registry:e})=>{e.dispatch(Ve.store).toggle("core","fixedToolbar");let t=e.select(Ve.store).get("core","fixedToolbar");e.dispatch(Uo.store).createInfoNotice(t?(0,Ge.__)("Top toolbar activated."):(0,Ge.__)("Top toolbar deactivated."),{id:"core/editor/toggle-top-toolbar/notice",type:"snackbar",actions:[{label:(0,Ge.__)("Undo"),onClick:()=>{e.dispatch(Ve.store).toggle("core","fixedToolbar")}}]})},i6=e=>({dispatch:t,registry:o})=>{o.dispatch(Ve.store).set("core","editorMode",e),e!=="visual"&&(o.dispatch(Rs.store).clearSelectedBlock(),k(o.dispatch(Rs.store)).resetZoomLevel()),e==="visual"?(0,xy.speak)((0,Ge.__)("Visual editor selected"),"assertive"):e==="text"&&(o.select(Ve.store).get("core","distractionFree")&&t.toggleDistractionFree(),(0,xy.speak)((0,Ge.__)("Code editor selected"),"assertive"))};function n6(){return{type:"OPEN_PUBLISH_SIDEBAR"}}function a6(){return{type:"CLOSE_PUBLISH_SIDEBAR"}}function l6(){return{type:"TOGGLE_PUBLISH_SIDEBAR"}}var pe=e=>(...t)=>({registry:o})=>{(0,Bs.default)("`wp.data.dispatch( 'core/editor' )."+e+"`",{since:"5.3",alternative:"`wp.data.dispatch( 'core/block-editor' )."+e+"`",version:"6.2"}),o.dispatch(Rs.store)[e](...t)},c6=pe("resetBlocks"),d6=pe("receiveBlocks"),u6=pe("updateBlock"),p6=pe("updateBlockAttributes"),m6=pe("selectBlock"),f6=pe("startMultiSelect"),h6=pe("stopMultiSelect"),g6=pe("multiSelect"),b6=pe("clearSelectedBlock"),_6=pe("toggleSelection"),y6=pe("replaceBlocks"),v6=pe("replaceBlock"),S6=pe("moveBlocksDown"),P6=pe("moveBlocksUp"),w6=pe("moveBlockToPosition"),x6=pe("insertBlock"),T6=pe("insertBlocks"),k6=pe("showInsertionPoint"),E6=pe("hideInsertionPoint"),C6=pe("setTemplateValidity"),A6=pe("synchronizeTemplate"),I6=pe("mergeBlocks"),R6=pe("removeBlocks"),B6=pe("removeBlock"),N6=pe("toggleBlockMode"),M6=pe("startTyping"),D6=pe("stopTyping"),O6=pe("enterFormattedText"),L6=pe("exitFormattedText"),F6=pe("insertDefaultBlock"),V6=pe("updateBlockListSettings");var Zv={};Cs(Zv,{createTemplate:()=>KF,hideBlockTypes:()=>XF,registerEntityAction:()=>zF,registerEntityField:()=>WF,registerPostTypeSchema:()=>ZF,removeTemplates:()=>t9,revertTemplate:()=>e9,saveDirtyEntities:()=>JF,setCanvasMinHeight:()=>r9,setCurrentTemplateId:()=>qF,setDefaultRenderingMode:()=>o9,setIsReady:()=>YF,showBlockTypes:()=>QF,unregisterEntityAction:()=>GF,unregisterEntityField:()=>$F});var zt=r(R()),ue=r(w()),Ht=r(he()),Yk=r(F()),Vi=r(Pe()),Zk=r(ot()),qk=r(gp()),gm=r(ve()),Yv=r(_e());function _p(e){return e?e.source===du.custom&&(!!e?.plugin||e?.has_theme_file):!1}var hm=r(R()),$k=r(_t());var Px=r(w());var dt=r(y()),eo=r(E());var Sp=r($()),gx=r(P()),Rn=r(A()),bx=r(he()),_x=r(ot()),wi=r(w());var hx=r(ot());var yp=r(_e()),px=r(w());function mx(e){return e.type==="wp_template_part"}function Pi(e){return e.type==="wp_template"||e.type==="wp_template_part"}function re(e,t=(0,px.__)("(no title)")){let o="";return typeof e.title=="string"?o=(0,yp.decodeEntities)(e.title):e.title&&"rendered"in e.title?o=(0,yp.decodeEntities)(e.title.rendered):e.title&&"raw"in e.title&&(o=(0,yp.decodeEntities)(e.title.raw)),o||t}function fx(e){return e?[e.source,e.source].includes("custom")&&!(e.type==="wp_template"&&e?.plugin)&&!e.has_theme_file:!1}var vp=e=>typeof e!="object"?"":e.slug||(0,hx.cleanForSlug)(re(e))||e.id.toString();var yx=({field:e,onChange:t,data:o})=>{let{id:s}=e,i=e.getValue({item:o})||vp(o),n=o.permalink_template||"",a=/%(?:postname|pagename)%/,[c,l]=n.split(a),d=c,u=l,p=a.test(n),f=(0,Rn.useRef)(i),h=i||f.current,g=p?`${d}${h}${u}`:(0,_x.safeDecodeURIComponent)(o.link||"");(0,Rn.useEffect)(()=>{i&&f.current===void 0&&(f.current=i)},[i]);let b=(0,Rn.useCallback)(S=>t({[s]:S}),[s,t]),{createNotice:_}=(0,gx.useDispatch)(bx.store),v=(0,Sp.useCopyToClipboard)(g,()=>{_("info",(0,wi.__)("Copied Permalink to clipboard."),{isDismissible:!0,type:"snackbar"})}),x="editor-post-url__slug-description-"+(0,Sp.useInstanceId)(yx);return(0,dt.jsxs)("fieldset",{className:"fields-controls__slug",children:[p&&(0,dt.jsxs)(eo.__experimentalVStack,{children:[(0,dt.jsxs)(eo.__experimentalVStack,{spacing:"0px",children:[(0,dt.jsx)("span",{children:(0,wi.__)("Customize the last part of the Permalink.")}),(0,dt.jsx)(eo.ExternalLink,{href:"https://wordpress.org/documentation/article/page-post-settings-sidebar/#permalink",children:(0,wi.__)("Learn more")})]}),(0,dt.jsx)(eo.__experimentalInputControl,{__next40pxDefaultSize:!0,prefix:(0,dt.jsx)(eo.__experimentalInputControlPrefixWrapper,{children:"/"}),suffix:(0,dt.jsx)(eo.Button,{__next40pxDefaultSize:!0,icon:Fl,ref:v,label:(0,wi.__)("Copy")}),label:(0,wi.__)("Link"),hideLabelFromVision:!0,value:i,autoComplete:"off",spellCheck:"false",type:"text",className:"fields-controls__slug-input",onChange:S=>{b(S)},onBlur:()=>{i===""&&b(f.current)},"aria-describedby":x}),(0,dt.jsxs)("div",{className:"fields-controls__slug-help",children:[(0,dt.jsx)("span",{className:"fields-controls__slug-help-visual-label",children:(0,wi.__)("Permalink:")}),(0,dt.jsxs)(eo.ExternalLink,{className:"fields-controls__slug-help-link",href:g,children:[(0,dt.jsx)("span",{className:"fields-controls__slug-help-prefix",children:d}),(0,dt.jsx)("span",{className:"fields-controls__slug-help-slug",children:h}),(0,dt.jsx)("span",{className:"fields-controls__slug-help-suffix",children:u})]})]})]}),!p&&(0,dt.jsx)(eo.ExternalLink,{className:"fields-controls__slug-help",href:g,children:g})]})},vx=yx;var Pp=r(A());var j6=({item:e})=>{let t=vp(e),o=(0,Pp.useRef)(t);return(0,Pp.useEffect)(()=>{t&&o.current===void 0&&(o.current=t)},[t]),`${t||o.current}`},Sx=j6;var U6={id:"slug",type:"text",label:(0,Px.__)("Slug"),Edit:vx,render:Sx,filterBy:!1},ky=U6;var Ey=r(w());var ac=r(y());function wx(e){var t,o,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(o=wx(e[t]))&&(s&&(s+=" "),s+=o)}else for(o in e)e[o]&&(s&&(s+=" "),s+=o);return s}function H6(){for(var e,t,o=0,s="",i=arguments.length;o<i;o++)(e=arguments[o])&&(t=wx(e))&&(s&&(s+=" "),s+=t);return s}var W=H6;var xx=r(E()),Tx=r(w());function lc({item:e,className:t,children:o}){let s=re(e);return(0,ac.jsxs)(xx.__experimentalHStack,{className:W("fields-field__title",t),alignment:"center",justify:"flex-start",children:[(0,ac.jsx)("span",{children:s||(0,Tx.__)("(no title)")}),o]})}function wp({item:e}){return(0,ac.jsx)(lc,{item:e})}var z6={type:"text",id:"title",label:(0,Ey.__)("Title"),placeholder:(0,Ey.__)("No title"),getValue:({item:e})=>re(e),render:wp,enableHiding:!0,enableGlobalSearch:!0,filterBy:!1},Cy=z6;var Ry=r(w());var Ay=r(y()),Iy=r(w()),Ex=r(P()),Cx=r(R()),Ax=r(E());var kx=r(yy()),{lock:MY,unlock:ho}=(0,kx.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/fields");var{Badge:G6}=ho(Ax.privateApis);function Ix({item:e}){let{frontPageId:t,postsPageId:o}=(0,Ex.useSelect)(s=>{let{getEntityRecord:i}=s(Cx.store),n=i("root","site");return{frontPageId:n?.page_on_front,postsPageId:n?.page_for_posts}},[]);return(0,Ay.jsx)(lc,{item:e,className:"fields-field__page-title",children:[t,o].includes(e.id)&&(0,Ay.jsx)(G6,{children:e.id===t?(0,Iy.__)("Homepage"):(0,Iy.__)("Posts Page")})})}var W6={type:"text",id:"title",label:(0,Ry.__)("Title"),placeholder:(0,Ry.__)("No title"),getValue:({item:e})=>re(e),render:Ix,enableHiding:!1,enableGlobalSearch:!0,filterBy:!1},By=W6;var Ny=r(w());var $6={type:"text",label:(0,Ny.__)("Template"),placeholder:(0,Ny.__)("No title"),id:"title",getValue:({item:e})=>re(e),render:wp,enableHiding:!1,enableGlobalSearch:!0,filterBy:!1},cc=$6;var My=r(w());var xp=r(y()),Bx=r(w());var Nx=r(E()),Mx=r(Ho());var{PATTERN_TYPES:Y6}=ho(Mx.privateApis);function Dx({item:e}){return(0,xp.jsx)(lc,{item:e,className:"fields-field__pattern-title",children:e.type===Y6.theme&&(0,xp.jsx)(Nx.Tooltip,{placement:"top",text:(0,Bx.__)("This pattern cannot be edited."),children:(0,xp.jsx)(Dl,{icon:D_,size:24})})})}var Z6={type:"text",id:"title",label:(0,My.__)("Title"),placeholder:(0,My.__)("No title"),getValue:({item:e})=>re(e),render:Dx,enableHiding:!1,enableGlobalSearch:!0,filterBy:!1},dc=Z6;var zx=r(w());var Ke=r(y()),Tp=r(E()),Lx=r(P()),kp=r(A()),Fx=r(uc());var Vx=r(R()),jx=r(w()),Ux=({data:e,field:t,onChange:o})=>{let{id:s}=t,i=t.getValue({item:e}),n=(0,Lx.useSelect)(u=>{let{getEntityRecord:p}=u(Vx.store);return p("postType","attachment",i)},[i]),a=(0,kp.useCallback)(u=>o({[s]:u}),[s,o]),c=n?.source_url,l=n?.title?.rendered,d=(0,kp.useRef)(null);return(0,Ke.jsx)("fieldset",{className:"fields-controls__featured-image",children:(0,Ke.jsx)("div",{className:"fields-controls__featured-image-container",children:(0,Ke.jsx)(Fx.MediaUpload,{onSelect:u=>{a(u.id)},allowedTypes:["image"],render:({open:u})=>(0,Ke.jsx)("div",{ref:d,role:"button",tabIndex:-1,onClick:()=>{u()},onKeyDown:u,children:(0,Ke.jsxs)(Tp.__experimentalGrid,{rowGap:0,columnGap:8,templateColumns:"24px 1fr 24px",children:[c&&(0,Ke.jsxs)(Ke.Fragment,{children:[(0,Ke.jsx)("img",{className:"fields-controls__featured-image-image",alt:"",width:24,height:24,src:c}),(0,Ke.jsx)("span",{className:"fields-controls__featured-image-title",children:l})]}),!c&&(0,Ke.jsxs)(Ke.Fragment,{children:[(0,Ke.jsx)("span",{className:"fields-controls__featured-image-placeholder",style:{width:"24px",height:"24px"}}),(0,Ke.jsx)("span",{className:"fields-controls__featured-image-title",children:(0,jx.__)("Choose an image\u2026")})]}),c&&(0,Ke.jsx)(Ke.Fragment,{children:(0,Ke.jsx)(Tp.Button,{size:"small",className:"fields-controls__featured-image-remove-button",icon:B_,onClick:p=>{p.stopPropagation(),a(0)}})})]})})})})})};var Dy=r(y()),Hx=({item:e,config:t})=>{let o=e?._embedded?.["wp:featuredmedia"]?.[0],s=o?.source_url;return s?(0,Dy.jsx)("img",{className:"fields-controls__featured-image-image",src:s,alt:"",srcSet:o?.media_details?.sizes?Object.values(o.media_details.sizes).map(i=>`${i.source_url} ${i.width}w`).join(", "):void 0,sizes:t?.sizes||"100vw"}):(0,Dy.jsx)("span",{className:"fields-controls__featured-image-placeholder"})};var q6={id:"featured_media",type:"media",label:(0,zx.__)("Featured Image"),Edit:Ux,render:Hx,enableSorting:!1,filterBy:!1},Oy=q6;var qx=r(w());var zo=r(y()),Bn=r(A()),Gx=r(ve()),pc=r(R()),Wx=r(F()),Go=r(E()),$x=r($()),Ly=r(P()),Yx=r(_e()),mc=r(w());var K6=[],Zx=({data:e,field:t,onChange:o})=>{let{id:s}=t,i=e.type,n=typeof e.id=="number"?e.id:parseInt(e.id,10),a=e.slug,{canSwitchTemplate:c,templates:l}=(0,Ly.useSelect)(v=>{let x=v(pc.store).getEntityRecords("postType","wp_template",{per_page:-1,post_type:i})??K6,{getHomePage:S,getPostsPageId:C}=ho(v(pc.store)),T=C()===+n,I=i==="page"&&S()?.postId===+n;return{templates:x,canSwitchTemplate:!T&&!I}},[n,i]),d=(0,Bn.useMemo)(()=>c?l.filter(v=>v.is_custom&&v.slug!==e.template&&!!v.content.raw).map(v=>({name:v.slug,blocks:(0,Gx.parse)(v.content.raw),title:(0,Yx.decodeEntities)(v.title.rendered),id:v.id})):[],[c,e.template,l]),u=(0,$x.useAsyncList)(d),p=t.getValue({item:e}),f=l.find(v=>v.slug===p),h=(0,Ly.useSelect)(v=>{if(f)return f;let x;if(a?x=i==="page"?`${i}-${a}`:`single-${i}-${a}`:x=i==="page"?"page":`single-${i}`,i){let S=v(pc.store).getDefaultTemplateId({slug:x});return v(pc.store).getEntityRecord("postType","wp_template",S)}},[f,i,a]),[g,b]=(0,Bn.useState)(!1),_=(0,Bn.useCallback)(v=>o({[s]:v}),[s,o]);return(0,zo.jsxs)("fieldset",{className:"fields-controls__template",children:[(0,zo.jsx)(Go.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:({onToggle:v})=>(0,zo.jsx)(Go.Button,{__next40pxDefaultSize:!0,variant:"tertiary",size:"compact",onClick:v,children:h?re(h):""}),renderContent:({onToggle:v})=>(0,zo.jsxs)(Go.MenuGroup,{children:[(0,zo.jsx)(Go.MenuItem,{onClick:()=>{b(!0),v()},children:(0,mc.__)("Change template")}),p!==""&&(0,zo.jsx)(Go.MenuItem,{onClick:()=>{_(""),v()},children:(0,mc.__)("Use default template")})]})}),g&&(0,zo.jsx)(Go.Modal,{title:(0,mc.__)("Choose a template"),onRequestClose:()=>b(!1),overlayClassName:"fields-controls__template-modal",isFullScreen:!0,children:(0,zo.jsx)("div",{className:"fields-controls__template-content",children:(0,zo.jsx)(Wx.__experimentalBlockPatternsList,{label:(0,mc.__)("Templates"),blockPatterns:d,shownPatterns:u,onClickPattern:v=>{_(v.name),b(!1)}})})})]})};var Q6={id:"template",type:"text",label:(0,qx.__)("Template"),Edit:Zx,enableSorting:!1,filterBy:!1},Fy=Q6;var dT=r(w());var Vr=r(y()),Vy=r(Cp()),Ap=r(E()),jy=r(P()),jr=r(A()),Uy=r(R()),oT=r($()),rT=r(_e()),Ns=r(w()),sT=r(ot());var Jx=r(_e()),eT=r(w());function fc(e){return typeof e.title=="object"&&"rendered"in e.title&&e.title.rendered?(0,Jx.decodeEntities)(e.title.rendered):`#${e?.id} (${(0,eT.__)("no title")})`}function o8(e){let t=e.map(i=>({children:[],...i}));if(t.some(({parent:i})=>i==null))return t;let o=t.reduce((i,n)=>{let{parent:a}=n;return i[a]||(i[a]=[]),i[a].push(n),i},{}),s=i=>i.map(n=>{let a=o[n.id];return{...n,children:a&&a.length?s(a):[]}});return s(o[0]||[])}var tT=(e,t)=>{let o=(0,Vy.default)(e||"").toLowerCase(),s=(0,Vy.default)(t||"").toLowerCase();return o===s?0:o.startsWith(s)?o.length:1/0};function r8({data:e,onChangeControl:t}){let[o,s]=(0,jr.useState)(null),i=e.parent,n=e.id,a=e.type,{parentPostTitle:c,pageItems:l,isHierarchical:d}=(0,jy.useSelect)(h=>{let{getEntityRecord:g,getEntityRecords:b,getPostType:_}=h(Uy.store),v=_(a),x=v?.hierarchical&&v.viewable,S=i?g("postType",a,i):null,C={per_page:100,exclude:n,parent_exclude:n,orderby:"menu_order",order:"asc",_fields:"id,title,parent",...o!==null&&{search:o}};return{isHierarchical:x,parentPostTitle:S?fc(S):"",pageItems:x?b("postType",a,C):null}},[o,i,n,a]),u=(0,jr.useMemo)(()=>{let h=(v,x=0)=>v.map(T=>[{value:T.id,label:"\u2014 ".repeat(x)+(0,rT.decodeEntities)(T.name),rawName:T.name},...h(T.children||[],x+1)]).sort(([T],[I])=>{let N=tT(T.rawName,o??""),L=tT(I.rawName,o??"");return N>=L?1:-1}).flat();if(!l)return[];let g=l.map(v=>({id:v.id,parent:v.parent??null,name:fc(v)}));o||(g=o8(g));let b=h(g),_=b.find(v=>v.value===i);return i&&c&&!_&&b.unshift({value:i,label:c,rawName:""}),b.map(v=>({...v,value:v.value.toString()}))},[l,o,c,i]);if(!d)return null;let p=h=>{s(h)},f=h=>{if(h)return t(parseInt(h,10)??0);t(0)};return(0,Vr.jsx)(Ap.ComboboxControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,Ns.__)("Parent"),help:(0,Ns.__)("Choose a parent page."),value:i?.toString(),options:u,onFilterValueChange:(0,oT.debounce)(h=>p(h),300),onChange:f,hideLabelFromVision:!0})}var iT=({data:e,field:t,onChange:o})=>{let{id:s}=t,i=(0,jy.useSelect)(a=>a(Uy.store).getEntityRecord("root","__unstableBase")?.home,[]),n=(0,jr.useCallback)(a=>o({[s]:a}),[s,o]);return(0,Vr.jsx)("fieldset",{className:"fields-controls__parent",children:(0,Vr.jsxs)("div",{children:[(0,jr.createInterpolateElement)((0,Ns.sprintf)((0,Ns.__)('Child pages inherit characteristics from their parent, such as URL structure. For instance, if "Pricing" is a child of "Services", its URL would be %1$s<wbr />/services<wbr />/pricing.'),(0,sT.filterURLForDisplay)(i).replace(/([/.])/g,"<wbr />$1")),{wbr:(0,Vr.jsx)("wbr",{})}),(0,Vr.jsx)("p",{children:(0,jr.createInterpolateElement)((0,Ns.__)("They also show up as sub-items in the default navigation menu. <a>Learn more.</a>"),{a:(0,Vr.jsx)(Ap.ExternalLink,{href:(0,Ns.__)("https://wordpress.org/documentation/article/page-post-settings-sidebar/#page-attributes"),children:void 0})})}),(0,Vr.jsx)(r8,{data:e,onChangeControl:n})]})})};var Nn=r(y()),nT=r(P()),aT=r(R()),lT=r(w());var cT=({item:e})=>{let t=(0,nT.useSelect)(o=>{let{getEntityRecord:s}=o(aT.store);return e?.parent?s("postType",e.type,e.parent):null},[e.parent,e.type]);return t?(0,Nn.jsx)(Nn.Fragment,{children:fc(t)}):(0,Nn.jsx)(Nn.Fragment,{children:(0,lT.__)("None")})};var s8={id:"parent",type:"text",label:(0,dT.__)("Parent"),Edit:iT,render:cT,enableSorting:!0,filterBy:!1},Hy=s8;var mT=r(w());var Mn=r(y()),Dn=r(E()),uT=r(A()),hc=r(w());function i8({data:e,onChange:t,field:o}){let[s,i]=(0,uT.useState)(!!o.getValue({item:e})),n=a=>{i(a),a||t({password:""})};return(0,Mn.jsxs)(Dn.__experimentalVStack,{as:"fieldset",spacing:4,className:"fields-controls__password",children:[(0,Mn.jsx)(Dn.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,hc.__)("Password protected"),help:(0,hc.__)("Only visible to those who know the password"),checked:s,onChange:n}),s&&(0,Mn.jsx)("div",{className:"fields-controls__password-input",children:(0,Mn.jsx)(Dn.TextControl,{label:(0,hc.__)("Password"),onChange:a=>t({password:a}),value:o.getValue({item:e})||"",placeholder:(0,hc.__)("Use a secure password"),type:"text",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,maxLength:255})})]})}var pT=i8;var n8={id:"password",type:"text",label:(0,mT.__)("Password"),Edit:pT,enableSorting:!1,enableHiding:!1,isVisible:e=>e.status!=="private",filterBy:!1},zy=n8;var hT=r(w());var On=r(y()),Rp=r(E());var go=r(w()),a8=[{value:"draft",label:(0,go.__)("Draft"),icon:Tn,description:(0,go.__)("Not ready to publish.")},{value:"future",label:(0,go.__)("Scheduled"),icon:Ql,description:(0,go.__)("Publish automatically on a chosen date.")},{value:"pending",label:(0,go.__)("Pending Review"),icon:ql,description:(0,go.__)("Waiting for review before publishing.")},{value:"private",label:(0,go.__)("Private"),icon:$l,description:(0,go.__)("Only visible to site admins and editors.")},{value:"publish",label:(0,go.__)("Published"),icon:vi,description:(0,go.__)("Visible to everyone.")},{value:"trash",label:(0,go.__)("Trash"),icon:Fr}],Ip=a8;function l8({item:e}){let t=Ip.find(({value:i})=>i===e.status),o=t?.label||e.status,s=t?.icon;return(0,On.jsxs)(Rp.__experimentalHStack,{alignment:"left",spacing:0,children:[s&&(0,On.jsx)("div",{className:"edit-site-post-list__status-icon",children:(0,On.jsx)(Rp.Icon,{icon:s})}),(0,On.jsx)("span",{children:o})]})}var fT=l8;var c8="isAny",d8={label:(0,hT.__)("Status"),id:"status",type:"text",elements:Ip,render:fT,Edit:"radio",enableSorting:!1,filterBy:{operators:[c8]}},Gy=d8;var Ln=r(w()),u8={id:"comment_status",label:(0,Ln.__)("Comments"),type:"text",Edit:"radio",enableSorting:!1,enableHiding:!1,filterBy:!1,elements:[{value:"open",label:(0,Ln.__)("Open"),description:(0,Ln.__)("Visitors can add new comments and replies.")},{value:"closed",label:(0,Ln.__)("Closed"),description:(0,Ln.__)("Visitors cannot add new comments or replies. Existing comments remain visible.")}]},Wy=u8;var $y=r(y()),Ur=r(w()),Bp=r(E());function p8({data:e,onChange:t}){let o=e?.ping_status??"open",s=i=>{t({...e,ping_status:i?"open":"closed"})};return(0,$y.jsx)(Bp.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,Ur.__)("Enable pingbacks & trackbacks"),checked:o==="open",onChange:s,help:(0,$y.jsx)(Bp.ExternalLink,{href:(0,Ur.__)("https://wordpress.org/documentation/article/trackbacks-and-pingbacks/"),children:(0,Ur.__)("Learn more about pingbacks & trackbacks")})})}var m8={id:"ping_status",label:(0,Ur.__)("Trackbacks & Pingbacks"),type:"text",Edit:p8,enableSorting:!1,enableHiding:!1,filterBy:!1,elements:[{value:"open",label:(0,Ur.__)("Allow"),description:(0,Ur.__)("Allow link notifications from other blogs (pingbacks and trackbacks) on new articles.")},{value:"closed",label:(0,Ur.__)("Don't allow"),description:(0,Ur.__)("Don't allow link notifications from other blogs (pingbacks and trackbacks) on new articles.")}]},Yy=m8;var Fn=r(w()),f8={id:"discussion",label:(0,Fn.__)("Discussion"),type:"text",render:({item:e})=>{let t=e.comment_status==="open",o=e.ping_status==="open";return t&&o?(0,Fn.__)("Open"):t&&!o?(0,Fn.__)("Comments only"):!t&&o?(0,Fn.__)("Pings only"):(0,Fn.__)("Closed")},filterBy:!1},Zy=f8;var bT=r(w());var fr=r(y()),hr=r(w()),bc=r(A()),Ms=r(bi()),gc=e=>(0,Ms.dateI18n)((0,Ms.getSettings)().formats.datetimeAbbreviated,(0,Ms.getDate)(e)),h8=({item:e})=>{if(["draft","private"].includes(e.status??""))return(0,bc.createInterpolateElement)((0,hr.sprintf)((0,hr.__)("<span>Modified: <time>%s</time></span>"),gc(e.date??null)),{span:(0,fr.jsx)("span",{}),time:(0,fr.jsx)("time",{})});if(e.status==="future")return(0,bc.createInterpolateElement)((0,hr.sprintf)((0,hr.__)("<span>Scheduled: <time>%s</time></span>"),gc(e.date??null)),{span:(0,fr.jsx)("span",{}),time:(0,fr.jsx)("time",{})});if(e.status==="publish")return(0,bc.createInterpolateElement)((0,hr.sprintf)((0,hr.__)("<span>Published: <time>%s</time></span>"),gc(e.date??null)),{span:(0,fr.jsx)("span",{}),time:(0,fr.jsx)("time",{})});let i=(0,Ms.getDate)(e.modified??null)>(0,Ms.getDate)(e.date??null)?e.modified:e.date;return e.status==="pending"?(0,bc.createInterpolateElement)((0,hr.sprintf)((0,hr.__)("<span>Modified: <time>%s</time></span>"),gc(i??null)),{span:(0,fr.jsx)("span",{}),time:(0,fr.jsx)("time",{})}):(0,fr.jsx)("time",{children:gc(e.date??null)})},gT=h8;var g8={id:"date",type:"datetime",label:(0,bT.__)("Date"),render:gT,filterBy:!1},qy=g8;var ST=r(w()),PT=r(P()),wT=r(R());var Ds=r(y());var _T=r(w()),yT=r(A());var Np=r(E());function b8({item:e}){let t=e?._embedded?.author?.[0]?.name,o=e?._embedded?.author?.[0]?.avatar_urls?.[48],[s,i]=(0,yT.useState)(!1);return(0,Ds.jsxs)(Np.__experimentalHStack,{alignment:"left",spacing:0,children:[!!o&&(0,Ds.jsx)("div",{className:W("page-templates-author-field__avatar",{"is-loaded":s}),children:(0,Ds.jsx)("img",{onLoad:()=>i(!0),alt:(0,_T.__)("Author avatar"),src:o})}),!o&&(0,Ds.jsx)("div",{className:"page-templates-author-field__icon",children:(0,Ds.jsx)(Np.Icon,{icon:m_})}),(0,Ds.jsx)("span",{className:"page-templates-author-field__name",children:t})]})}var vT=b8;var _8={label:(0,ST.__)("Author"),id:"author",type:"integer",getElements:async()=>(await(0,PT.resolveSelect)(wT.store).getEntityRecords("root","user",{per_page:-1})??[]).map(({id:t,name:o})=>({value:t,label:o})),render:vT,sort:(e,t,o)=>{let s=e._embedded?.author?.[0]?.name||"",i=t._embedded?.author?.[0]?.name||"";return o==="asc"?s.localeCompare(i):i.localeCompare(s)},filterBy:{operators:["isAny","isNone"]}},Ky=_8;var xT=r(w()),y8={id:"view-post",label:(0,xT._x)("View","verb"),isPrimary:!0,icon:jt,isEligible(e){return e.status!=="trash"},callback(e,{onActionPerformed:t}){let o=e[0];window.open(o?.link,"_blank"),t&&t(e)}},Qy=y8;var Hr=r(y()),Xy=r(P()),TT=r(R()),Os=r(w()),kT=r(he()),ET=r(A()),zr=r(E());function v8(e){return typeof e.menu_order=="number"&&Number.isInteger(e.menu_order)&&e.menu_order>0}function S8({items:e,closeModal:t,onActionPerformed:o}){let[s,i]=(0,ET.useState)(e[0]),{editEntityRecord:n,saveEditedEntityRecord:a}=(0,Xy.useDispatch)(TT.store),{createSuccessNotice:c,createErrorNotice:l}=(0,Xy.useDispatch)(kT.store),d=v8(s);async function u(p){if(p.preventDefault(),!!d)try{await n("postType",s.type,s.id,{menu_order:s.menu_order}),t?.(),await a("postType",s.type,s.id,{throwOnError:!0}),c((0,Os.__)("Order updated."),{type:"snackbar"}),o?.(e)}catch(f){let h=f,g=h.message&&h.code!=="unknown_error"?h.message:(0,Os.__)("An error occurred while updating the order");l(g,{type:"snackbar"})}}return(0,Hr.jsx)("form",{onSubmit:u,children:(0,Hr.jsxs)(zr.__experimentalVStack,{spacing:"5",children:[(0,Hr.jsx)("div",{children:(0,Os.__)("Determines the order of pages. Pages with the same order value are sorted alphabetically. Negative order values are supported.")}),(0,Hr.jsx)(zr.__experimentalInputControl,{__next40pxDefaultSize:!0,label:(0,Os.__)("Order"),type:"number",value:typeof s.menu_order=="number"&&Number.isInteger(s.menu_order)?String(s.menu_order):"",onChange:p=>{let f=parseInt(p,10);i({...s,menu_order:isNaN(f)?void 0:f})}}),(0,Hr.jsxs)(zr.__experimentalHStack,{justify:"right",children:[(0,Hr.jsx)(zr.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:()=>{t?.()},children:(0,Os.__)("Cancel")}),(0,Hr.jsx)(zr.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",accessibleWhenDisabled:!0,disabled:!d,children:(0,Os.__)("Save")})]})]})})}var P8={id:"order-pages",label:(0,Os.__)("Order"),isEligible({status:e}){return e!=="trash"},modalFocusOnMount:"firstContentElement",RenderModal:S8},Jy=P8;var Gr=r(y()),ev=r(P()),CT=r(R()),St=r(w()),AT=r(he()),tv=r(A()),Wr=r(E());var w8={id:"duplicate-post",label:(0,St._x)("Duplicate","action label"),isEligible({status:e}){return e!=="trash"},modalFocusOnMount:"firstContentElement",RenderModal:({items:e,closeModal:t,onActionPerformed:o})=>{let[s,i]=(0,tv.useState)({...e[0],title:(0,St.sprintf)((0,St._x)("%s (Copy)","post"),re(e[0]))}),[n,a]=(0,tv.useState)(!1),{saveEntityRecord:c}=(0,ev.useDispatch)(CT.store),{createSuccessNotice:l,createErrorNotice:d}=(0,ev.useDispatch)(AT.store);async function u(p){if(p.preventDefault(),n)return;let f=s.type==="wp_template",h={status:f?"publish":"draft",title:s.title,slug:f?s.slug:s.title||(0,St.__)("No title"),comment_status:s.comment_status,content:typeof s.content=="string"?s.content:s.content.raw,excerpt:typeof s.excerpt=="string"?s.excerpt:s.excerpt?.raw,meta:s.meta,parent:s.parent,password:s.password,template:s.template,format:s.format,featured_media:s.featured_media,menu_order:s.menu_order,ping_status:s.ping_status},g="wp:action-assign-";Object.keys(s?._links||{}).filter(_=>_.startsWith(g)).map(_=>_.slice(g.length)).forEach(_=>{s.hasOwnProperty(_)&&(h[_]=s[_])}),a(!0);try{let _=await c("postType",s.type,h,{throwOnError:!0});l((0,St.sprintf)((0,St.__)('"%s" successfully created.'),re(_)),{id:"duplicate-post-action",type:"snackbar"}),o&&o([_])}catch(_){let v=_,x=v.message&&v.code!=="unknown_error"?v.message:(0,St.__)("An error occurred while duplicating the page.");d(x,{type:"snackbar"})}finally{a(!1),t?.()}}return(0,Gr.jsx)("form",{onSubmit:u,children:(0,Gr.jsxs)(Wr.__experimentalVStack,{spacing:3,children:[typeof s.id=="string"&&(0,Gr.jsx)("div",{children:(0,St.__)("You are about to duplicate a bundled template. Changes will not be live until you activate the new template.")}),(0,Gr.jsx)(Wr.__experimentalInputControl,{__next40pxDefaultSize:!0,label:(0,St.__)("Title"),placeholder:(0,St.__)("No title"),value:re(s),onChange:p=>i(f=>({...f,title:p||(0,St.__)("No title")}))}),(0,Gr.jsxs)(Wr.__experimentalHStack,{spacing:2,justify:"end",children:[(0,Gr.jsx)(Wr.Button,{variant:"tertiary",onClick:t,__next40pxDefaultSize:!0,children:(0,St.__)("Cancel")}),(0,Gr.jsx)(Wr.Button,{variant:"primary",type:"submit",isBusy:n,"aria-disabled":n,__next40pxDefaultSize:!0,children:(0,St._x)("Duplicate","action label")})]})]})})}},ov=w8;var Ls=r(y()),rv=r(P()),RT=r(R()),xi=r(w()),BT=r(A()),NT=r(Ho()),$r=r(E()),MT=r(he());var{PATTERN_TYPES:IT}=ho(NT.privateApis),x8={id:"rename-post",label:(0,xi.__)("Rename"),modalFocusOnMount:"firstContentElement",isEligible(e){return e.status==="trash"||e.type==="wp_template"&&typeof e.id=="string"?!1:["wp_template_part",...Object.values(IT)].includes(e.type)?mx(e)?e.source==="custom"&&!e?.has_theme_file&&e.permissions?.update:e.type===IT.user&&e.permissions?.update:e.permissions?.update},RenderModal:({items:e,closeModal:t,onActionPerformed:o})=>{let[s]=e,[i,n]=(0,BT.useState)(()=>re(s,"")),{editEntityRecord:a,saveEditedEntityRecord:c}=(0,rv.useDispatch)(RT.store),{createSuccessNotice:l,createErrorNotice:d}=(0,rv.useDispatch)(MT.store);async function u(p){p.preventDefault();try{await a("postType",s.type,s.id,{title:i}),n(""),t?.(),await c("postType",s.type,s.id,{throwOnError:!0}),l((0,xi.__)("Name updated"),{type:"snackbar"}),o?.(e)}catch(f){let h=f,g=h.message&&h.code!=="unknown_error"?h.message:(0,xi.__)("An error occurred while updating the name");d(g,{type:"snackbar"})}}return(0,Ls.jsx)("form",{onSubmit:u,children:(0,Ls.jsxs)($r.__experimentalVStack,{spacing:"5",children:[(0,Ls.jsx)($r.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,xi.__)("Name"),value:i,onChange:n,required:!0}),(0,Ls.jsxs)($r.__experimentalHStack,{justify:"right",children:[(0,Ls.jsx)($r.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:()=>{t?.()},children:(0,xi.__)("Cancel")}),(0,Ls.jsx)($r.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",children:(0,xi.__)("Save")})]})]})})}},sv=x8;var ki=r(y());var Pt=r(P()),Ti=r(R()),rt=r(w()),Fs=r(he()),DT=r(A()),Mp=r(ve()),Yr=r(E()),OT=r(ot()),LT=r(gp());var T8=e=>e?e.source==="custom"&&(!!e?.plugin||e?.has_theme_file):!1,k8=async(e,{allowUndo:t=!0}={})=>{let o="edit-site-template-reverted";if((0,Pt.dispatch)(Fs.store).removeNotice(o),!T8(e)){(0,Pt.dispatch)(Fs.store).createErrorNotice((0,rt.__)("This template is not revertable."),{type:"snackbar"});return}try{let s=(0,Pt.select)(Ti.store).getEntityConfig("postType",e.type);if(!s){(0,Pt.dispatch)(Fs.store).createErrorNotice((0,rt.__)("The editor has encountered an unexpected error. Please reload."),{type:"snackbar"});return}let i=(0,OT.addQueryArgs)(`${s.baseURL}/${e.id}`,{context:"edit",source:e.origin}),n=await(0,LT.default)({path:i});if(!n){(0,Pt.dispatch)(Fs.store).createErrorNotice((0,rt.__)("The editor has encountered an unexpected error. Please reload."),{type:"snackbar"});return}let a=({blocks:d=[]})=>(0,Mp.__unstableSerializeAndClean)(d),c=(0,Pt.select)(Ti.store).getEditedEntityRecord("postType",e.type,e.id);(0,Pt.dispatch)(Ti.store).editEntityRecord("postType",e.type,e.id,{content:a,blocks:c.blocks,source:"custom"},{undoIgnore:!0});let l=(0,Mp.parse)(n?.content?.raw);if((0,Pt.dispatch)(Ti.store).editEntityRecord("postType",e.type,n.id,{content:a,blocks:l,source:"theme"}),t){let d=()=>{(0,Pt.dispatch)(Ti.store).editEntityRecord("postType",e.type,c.id,{content:a,blocks:c.blocks,source:"custom"})};(0,Pt.dispatch)(Fs.store).createSuccessNotice((0,rt.__)("Template reset."),{type:"snackbar",id:o,actions:[{label:(0,rt.__)("Undo"),onClick:d}]})}}catch(s){let i=s.message&&s.code!=="unknown_error"?s.message:(0,rt.__)("Template revert failed. Please reload.");(0,Pt.dispatch)(Fs.store).createErrorNotice(i,{type:"snackbar"})}},E8={id:"reset-post",label:(0,rt.__)("Reset"),isEligible:e=>e.type==="wp_template_part"&&e?.source==="custom"&&e?.has_theme_file,icon:_i,supportsBulk:!0,hideModalHeader:!0,modalFocusOnMount:"firstContentElement",RenderModal:({items:e,closeModal:t,onActionPerformed:o})=>{let[s,i]=(0,DT.useState)(!1),{saveEditedEntityRecord:n}=(0,Pt.useDispatch)(Ti.store),{createSuccessNotice:a,createErrorNotice:c}=(0,Pt.useDispatch)(Fs.store),l=async()=>{try{for(let d of e)await k8(d,{allowUndo:!1}),await n("postType",d.type,d.id);a(e.length>1?(0,rt.sprintf)((0,rt.__)("%d items reset."),e.length):(0,rt.sprintf)((0,rt.__)('"%s" reset.'),re(e[0])),{type:"snackbar",id:"revert-template-action"})}catch(d){let u=e.length===1?(0,rt.__)("An error occurred while reverting the template part."):(0,rt.__)("An error occurred while reverting the template parts."),p=d,f=p.message&&p.code!=="unknown_error"?p.message:u;c(f,{type:"snackbar"})}};return(0,ki.jsxs)(Yr.__experimentalVStack,{spacing:"5",children:[(0,ki.jsx)(Yr.__experimentalText,{children:(0,rt.__)("Reset to default and clear all customizations?")}),(0,ki.jsxs)(Yr.__experimentalHStack,{justify:"right",children:[(0,ki.jsx)(Yr.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:t,disabled:s,accessibleWhenDisabled:!0,children:(0,rt.__)("Cancel")}),(0,ki.jsx)(Yr.Button,{__next40pxDefaultSize:!0,variant:"primary",onClick:async()=>{i(!0),await l(),o?.(e),i(!1),t?.()},isBusy:s,disabled:s,accessibleWhenDisabled:!0,children:(0,rt.__)("Reset")})]})]})}},iv=E8;var FT=r(y()),Dp=r(w()),VT=r(Ho());var{CreatePatternModalContents:C8,useDuplicatePatternProps:A8}=ho(VT.privateApis),I8={id:"duplicate-pattern",label:(0,Dp._x)("Duplicate","action label"),isEligible:e=>e.type!=="wp_template_part",modalHeader:(0,Dp._x)("Duplicate pattern","action label"),modalFocusOnMount:"firstContentElement",RenderModal:({items:e,closeModal:t})=>{let[o]=e,s=A8({pattern:o,onSuccess:()=>t?.()});return(0,FT.jsx)(C8,{onClose:t,confirmLabel:(0,Dp._x)("Duplicate","action label"),...s})}},nv=I8;var Vn=function(){return Vn=Object.assign||function(t){for(var o,s=1,i=arguments.length;s<i;s++){o=arguments[s];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Vn.apply(this,arguments)};function jT(e){return e.toLowerCase()}var R8=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],B8=/[^A-Z0-9]+/gi;function HT(e,t){t===void 0&&(t={});for(var o=t.splitRegexp,s=o===void 0?R8:o,i=t.stripRegexp,n=i===void 0?B8:i,a=t.transform,c=a===void 0?jT:a,l=t.delimiter,d=l===void 0?" ":l,u=UT(UT(e,s,"$1\0$2"),n,"\0"),p=0,f=u.length;u.charAt(p)==="\0";)p++;for(;u.charAt(f-1)==="\0";)f--;return u.slice(p,f).split("\0").map(c).join(d)}function UT(e,t,o){return t instanceof RegExp?e.replace(t,o):t.reduce(function(s,i){return s.replace(i,o)},e)}function zT(e,t){return t===void 0&&(t={}),HT(e,Vn({delimiter:"."},t))}function Ei(e,t){return t===void 0&&(t={}),zT(e,Vn({delimiter:"-"},t))}"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value(){return new Response(this).body}}),"setBigUint64"in DataView.prototype||Object.defineProperty(DataView.prototype,"setBigUint64",{value(e,t,o){let s=Number(0xffffffffn&t),i=Number(t>>32n);this.setUint32(e+(o?0:4),s,o),this.setUint32(e+(o?4:0),i,o)}});var Un=e=>new DataView(new ArrayBuffer(e)),Zr=e=>new Uint8Array(e.buffer||e),jn=e=>new TextEncoder().encode(String(e)),Ci=e=>Math.min(4294967295,Number(e)),GT=e=>Math.min(65535,Number(e));function N8(e,t){if(t===void 0||t instanceof Date||(t=new Date(t)),e instanceof File)return{isFile:1,t:t||new Date(e.lastModified),i:e.stream()};if(e instanceof Response)return{isFile:1,t:t||new Date(e.headers.get("Last-Modified")||Date.now()),i:e.body};if(t===void 0)t=new Date;else if(isNaN(t))throw new Error("Invalid modification date.");if(e===void 0)return{isFile:0,t};if(typeof e=="string")return{isFile:1,t,i:jn(e)};if(e instanceof Blob)return{isFile:1,t,i:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:1,t,i:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:1,t,i:Zr(e)};if(Symbol.asyncIterator in e)return{isFile:1,t,i:$T(e[Symbol.asyncIterator]())};throw new TypeError("Unsupported input format.")}function $T(e,t=e){return new ReadableStream({async pull(o){let s=0;for(;o.desiredSize>s;){let i=await e.next();if(!i.value){o.close();break}{let n=M8(i.value);o.enqueue(n),s+=n.byteLength}}},cancel(o){t.throw?.(o)}})}function M8(e){return typeof e=="string"?jn(e):e instanceof Uint8Array?e:Zr(e)}function YT(e,t,o){let[s,i]=(function(n){return n?n instanceof Uint8Array?[n,1]:ArrayBuffer.isView(n)||n instanceof ArrayBuffer?[Zr(n),1]:[jn(n),0]:[void 0,0]})(t);if(e instanceof File)return{o:av(s||jn(e.name)),u:BigInt(e.size),l:i};if(e instanceof Response){let n=e.headers.get("content-disposition"),a=n&&n.match(/;\s*filename\*?=["']?(.*?)["']?$/i),c=a&&a[1]||e.url&&new URL(e.url).pathname.split("/").findLast(Boolean),l=c&&decodeURIComponent(c),d=o||+e.headers.get("content-length");return{o:av(s||jn(l)),u:BigInt(d),l:i}}return s=av(s,e!==void 0||o!==void 0),typeof e=="string"?{o:s,u:BigInt(jn(e).length),l:i}:e instanceof Blob?{o:s,u:BigInt(e.size),l:i}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{o:s,u:BigInt(e.byteLength),l:i}:{o:s,u:D8(e,o),l:i}}function D8(e,t){return t>-1?BigInt(t):e?void 0:0n}function av(e,t=1){if(!e||e.every((o=>o===47)))throw new Error("The file must have a name.");if(t)for(;e[e.length-1]===47;)e=e.subarray(0,-1);else e[e.length-1]!==47&&(e=new Uint8Array([...e,47]));return e}var ZT=new Uint32Array(256);for(let e=0;e<256;++e){let t=e;for(let o=0;o<8;++o)t=t>>>1^(1&t&&3988292384);ZT[e]=t}function WT(e,t=0){t^=-1;for(var o=0,s=e.length;o<s;o++)t=t>>>8^ZT[255&t^e[o]];return(-1^t)>>>0}function qT(e,t,o=0){let s=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,i=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;t.setUint16(o,s,1),t.setUint16(o+2,i,1)}function O8({o:e,l:t},o){return 8*(!t||(o??(function(s){try{L8.decode(s)}catch{return 0}return 1})(e)))}var L8=new TextDecoder("utf8",{fatal:1});function F8(e,t=0){let o=Un(30);return o.setUint32(0,1347093252),o.setUint32(4,754976768|t),qT(e.t,o,10),o.setUint16(26,e.o.length,1),Zr(o)}async function*V8(e){let{i:t}=e;if("then"in t&&(t=await t),t instanceof Uint8Array)yield t,e.m=WT(t,0),e.u=BigInt(t.length);else{e.u=0n;let o=t.getReader();for(;;){let{value:s,done:i}=await o.read();if(i)break;e.m=WT(s,e.m),e.u+=BigInt(s.length),yield s}}}function j8(e,t){let o=Un(16+(t?8:0));return o.setUint32(0,1347094280),o.setUint32(4,e.isFile?e.m:0,1),t?(o.setBigUint64(8,e.u,1),o.setBigUint64(16,e.u,1)):(o.setUint32(8,Ci(e.u),1),o.setUint32(12,Ci(e.u),1)),Zr(o)}function U8(e,t,o=0,s=0){let i=Un(46);return i.setUint32(0,1347092738),i.setUint32(4,755182848),i.setUint16(8,2048|o),qT(e.t,i,12),i.setUint32(16,e.isFile?e.m:0,1),i.setUint32(20,Ci(e.u),1),i.setUint32(24,Ci(e.u),1),i.setUint16(28,e.o.length,1),i.setUint16(30,s,1),i.setUint16(40,e.isFile?33204:16893,1),i.setUint32(42,Ci(t),1),Zr(i)}function H8(e,t,o){let s=Un(o);return s.setUint16(0,1,1),s.setUint16(2,o-4,1),16&o&&(s.setBigUint64(4,e.u,1),s.setBigUint64(12,e.u,1)),s.setBigUint64(o-8,t,1),Zr(s)}function KT(e){return e instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified]]}var z8=e=>(function(t){let o=BigInt(22),s=0n,i=0;for(let n of t){if(!n.o)throw new Error("Every file must have a non-empty name.");if(n.u===void 0)throw new Error(`Missing size for file "${new TextDecoder().decode(n.o)}".`);let a=n.u>=0xffffffffn,c=s>=0xffffffffn;s+=BigInt(46+n.o.length+(a&&8))+n.u,o+=BigInt(n.o.length+46+(12*c|28*a)),i||(i=a)}return(i||s>=0xffffffffn)&&(o+=BigInt(76)),o+s})((function*(t){for(let o of t)yield YT(...KT(o)[0])})(e));function QT(e,t={}){let o={"Content-Type":"application/zip","Content-Disposition":"attachment"};return(typeof t.length=="bigint"||Number.isInteger(t.length))&&t.length>0&&(o["Content-Length"]=String(t.length)),t.metadata&&(o["Content-Length"]=String(z8(t.metadata))),new Response(G8(e,t),{headers:o})}function G8(e,t={}){let o=(function(s){let i=s[Symbol.iterator in s?Symbol.iterator:Symbol.asyncIterator]();return{async next(){let n=await i.next();if(n.done)return n;let[a,c]=KT(n.value);return{done:0,value:Object.assign(N8(...c),YT(...a))}},throw:i.throw?.bind(i),[Symbol.asyncIterator](){return this}}})(e);return $T((async function*(s,i){let n=[],a=0n,c=0n,l=0;for await(let p of s){let f=O8(p,i.buffersAreUTF8);yield F8(p,f),yield new Uint8Array(p.o),p.isFile&&(yield*V8(p));let h=p.u>=0xffffffffn,g=12*(a>=0xffffffffn)|28*h;yield j8(p,h),n.push(U8(p,a,f,g)),n.push(p.o),g&&n.push(H8(p,a,g)),h&&(a+=8n),c++,a+=BigInt(46+p.o.length)+p.u,l||(l=h)}let d=0n;for(let p of n)yield p,d+=BigInt(p.length);if(l||a>=0xffffffffn){let p=Un(76);p.setUint32(0,1347094022),p.setBigUint64(4,BigInt(44),1),p.setUint32(12,755182848),p.setBigUint64(24,c,1),p.setBigUint64(32,c,1),p.setBigUint64(40,d,1),p.setBigUint64(48,a,1),p.setUint32(56,1347094023),p.setBigUint64(64,a+d,1),p.setUint32(72,1,1),yield Zr(p)}let u=Un(22);u.setUint32(0,1347093766),u.setUint16(8,GT(c),1),u.setUint16(10,GT(c),1),u.setUint32(12,Ci(d),1),u.setUint32(16,Ci(a),1),yield Zr(u)})(o,t),o)}var lv=r(Op()),cv=r(w());function JT(e){return JSON.stringify({__file:e.type,title:re(e),content:typeof e.content=="string"?e.content:e.content?.raw,syncStatus:e.wp_pattern_sync_status},null,2)}var W8={id:"export-pattern",label:(0,cv.__)("Export as JSON"),icon:__,supportsBulk:!0,isEligible:e=>e.type==="wp_block",callback:async e=>{if(e.length===1)return(0,lv.downloadBlob)(`${Ei(re(e[0])||e[0].slug)}.json`,JT(e[0]),"application/json");let t={},o=e.map(s=>{let i=Ei(re(s)||s.slug);return t[i]=(t[i]||0)+1,{name:`${i+(t[i]>1?"-"+(t[i]-1):"")}.json`,lastModified:new Date,input:JT(s)}});return(0,lv.downloadBlob)((0,cv.__)("patterns-export")+".zip",await QT(o).blob(),"application/zip")}},dv=W8;var e1=r(ot()),Lp=r(w()),$8={id:"view-post-revisions",context:"list",label(e){let t=e[0]._links?.["version-history"]?.[0]?.count??0;return(0,Lp.sprintf)((0,Lp.__)("View revisions (%d)"),t)},isEligible(e){if(e.status==="trash")return!1;let t=e?._links?.["predecessor-version"]?.[0]?.id??null,o=e?._links?.["version-history"]?.[0]?.count??0;return!!t&&o>1},callback(e,{onActionPerformed:t}){let o=e[0],s=(0,e1.addQueryArgs)("revision.php",{revision:o?._links?.["predecessor-version"]?.[0]?.id});document.location.href=s,t&&t(e)}},uv=$8;var Ai=r(y()),t1=r(R()),Qe=r(w()),o1=r(he());var r1=r(A()),pv=r(P()),qr=r(E()),s1=r(_e());var Y8={id:"permanently-delete",label:(0,Qe.__)("Permanently delete"),supportsBulk:!0,icon:Fr,isEligible(e){if(Pi(e)||e.type==="wp_block")return!1;let{status:t,permissions:o}=e;return t==="trash"&&o?.delete},hideModalHeader:!0,modalFocusOnMount:"firstContentElement",RenderModal:({items:e,closeModal:t,onActionPerformed:o})=>{let[s,i]=(0,r1.useState)(!1),{createSuccessNotice:n,createErrorNotice:a}=(0,pv.useDispatch)(o1.store),{deleteEntityRecord:c}=(0,pv.useDispatch)(t1.store);return(0,Ai.jsxs)(qr.__experimentalVStack,{spacing:"5",children:[(0,Ai.jsx)(qr.__experimentalText,{children:e.length>1?(0,Qe.sprintf)((0,Qe._n)("Are you sure you want to permanently delete %d item?","Are you sure you want to permanently delete %d items?",e.length),e.length):(0,Qe.sprintf)((0,Qe.__)('Are you sure you want to permanently delete "%s"?'),(0,s1.decodeEntities)(re(e[0])))}),(0,Ai.jsxs)(qr.__experimentalHStack,{justify:"right",children:[(0,Ai.jsx)(qr.Button,{variant:"tertiary",onClick:t,disabled:s,accessibleWhenDisabled:!0,__next40pxDefaultSize:!0,children:(0,Qe.__)("Cancel")}),(0,Ai.jsx)(qr.Button,{variant:"primary",onClick:async()=>{i(!0);let l=await Promise.allSettled(e.map(d=>c("postType",d.type,d.id,{force:!0},{throwOnError:!0})));if(l.every(({status:d})=>d==="fulfilled")){let d;l.length===1?d=(0,Qe.sprintf)((0,Qe.__)('"%s" permanently deleted.'),re(e[0])):d=(0,Qe.__)("The items were permanently deleted."),n(d,{type:"snackbar",id:"permanently-delete-post-action"}),o?.(e)}else{let d;if(l.length===1){let u=l[0];u.reason?.message?d=u.reason.message:d=(0,Qe.__)("An error occurred while permanently deleting the item.")}else{let u=new Set,p=l.filter(({status:f})=>f==="rejected");for(let f of p){let h=f;h.reason?.message&&u.add(h.reason.message)}u.size===0?d=(0,Qe.__)("An error occurred while permanently deleting the items."):u.size===1?d=(0,Qe.sprintf)((0,Qe.__)("An error occurred while permanently deleting the items: %s"),[...u][0]):d=(0,Qe.sprintf)((0,Qe.__)("Some errors occurred while permanently deleting the items: %s"),[...u].join(","))}a(d,{type:"snackbar"})}i(!1),t?.()},isBusy:s,disabled:s,accessibleWhenDisabled:!0,__next40pxDefaultSize:!0,children:(0,Qe.__)("Delete permanently")})]})]})}},mv=Y8;var i1=r(R()),Bt=r(w()),n1=r(he());var Z8={id:"restore",label:(0,Bt.__)("Restore"),isPrimary:!0,icon:_i,supportsBulk:!0,isEligible(e){return!Pi(e)&&e.type!=="wp_block"&&e.status==="trash"&&e.permissions?.update},async callback(e,{registry:t,onActionPerformed:o}){let{createSuccessNotice:s,createErrorNotice:i}=t.dispatch(n1.store),{editEntityRecord:n,saveEditedEntityRecord:a}=t.dispatch(i1.store);await Promise.allSettled(e.map(l=>n("postType",l.type,l.id,{status:"draft"})));let c=await Promise.allSettled(e.map(l=>a("postType",l.type,l.id,{throwOnError:!0})));if(c.every(({status:l})=>l==="fulfilled")){let l;e.length===1?l=(0,Bt.sprintf)((0,Bt.__)('"%s" has been restored.'),re(e[0])):e[0].type==="page"?l=(0,Bt.sprintf)((0,Bt.__)("%d pages have been restored."),e.length):l=(0,Bt.sprintf)((0,Bt.__)("%d posts have been restored."),e.length),s(l,{type:"snackbar",id:"restore-post-action"}),o&&o(e)}else{let l;if(c.length===1){let d=c[0];d.reason?.message?l=d.reason.message:l=(0,Bt.__)("An error occurred while restoring the post.")}else{let d=new Set,u=c.filter(({status:p})=>p==="rejected");for(let p of u){let f=p;f.reason?.message&&d.add(f.reason.message)}d.size===0?l=(0,Bt.__)("An error occurred while restoring the posts."):d.size===1?l=(0,Bt.sprintf)((0,Bt.__)("An error occurred while restoring the posts: %s"),[...d][0]):l=(0,Bt.sprintf)((0,Bt.__)("Some errors occurred while restoring the posts: %s"),[...d].join(","))}i(l,{type:"snackbar"})}}},fv=Z8;var Ii=r(y());var hv=r(P()),a1=r(R()),je=r(w()),l1=r(he()),c1=r(A()),Kr=r(E());var q8={id:"move-to-trash",label:(0,je.__)("Trash"),isPrimary:!0,icon:Fr,isEligible(e){return e.type==="wp_template_part"||e.type==="wp_block"||e.type==="wp_template"&&typeof e.id=="string"?!1:!!e.status&&!["auto-draft","trash"].includes(e.status)&&e.permissions?.delete},supportsBulk:!0,hideModalHeader:!0,modalFocusOnMount:"firstContentElement",RenderModal:({items:e,closeModal:t,onActionPerformed:o})=>{let[s,i]=(0,c1.useState)(!1),{createSuccessNotice:n,createErrorNotice:a}=(0,hv.useDispatch)(l1.store),{deleteEntityRecord:c}=(0,hv.useDispatch)(a1.store);return(0,Ii.jsxs)(Kr.__experimentalVStack,{spacing:"5",children:[(0,Ii.jsx)(Kr.__experimentalText,{children:e.length===1?(0,je.sprintf)((0,je.__)('Are you sure you want to move "%s" to the trash?'),re(e[0])):(0,je.sprintf)((0,je._n)("Are you sure you want to move %d item to the trash ?","Are you sure you want to move %d items to the trash ?",e.length),e.length)}),(0,Ii.jsxs)(Kr.__experimentalHStack,{justify:"right",children:[(0,Ii.jsx)(Kr.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:t,disabled:s,accessibleWhenDisabled:!0,children:(0,je.__)("Cancel")}),(0,Ii.jsx)(Kr.Button,{__next40pxDefaultSize:!0,variant:"primary",onClick:async()=>{i(!0);let l=await Promise.allSettled(e.map(d=>c("postType",d.type,d.id.toString(),{},{throwOnError:!0})));if(l.every(({status:d})=>d==="fulfilled")){let d;l.length===1?d=(0,je.sprintf)((0,je.__)('"%s" moved to the trash.'),re(e[0])):d=(0,je.sprintf)((0,je._n)("%d item moved to the trash.","%d items moved to the trash.",e.length),e.length),n(d,{type:"snackbar",id:"move-to-trash-action"})}else{let d;if(l.length===1){let u=l[0];u.reason?.message?d=u.reason.message:d=(0,je.__)("An error occurred while moving the item to the trash.")}else{let u=new Set,p=l.filter(({status:f})=>f==="rejected");for(let f of p){let h=f;h.reason?.message&&u.add(h.reason.message)}u.size===0?d=(0,je.__)("An error occurred while moving the items to the trash."):u.size===1?d=(0,je.sprintf)((0,je.__)("An error occurred while moving the item to the trash: %s"),[...u][0]):d=(0,je.sprintf)((0,je.__)("Some errors occurred while moving the items to the trash: %s"),[...u].join(","))}a(d,{type:"snackbar"})}o&&o(e),i(!1),t?.()},isBusy:s,disabled:s,accessibleWhenDisabled:!0,children:(0,je._x)("Trash","verb")})]})]})}},gv=q8;var Ri=r(y());var ge=r(w()),m1=r(A()),Qr=r(E()),f1=r(Ho()),_v=r(_e());var d1=r(he()),u1=r(R()),bv=r(P());function K8(e){let t=new Set;if(e.length===1){let o=e[0];o.reason?.message&&t.add(o.reason.message)}else{let o=e.filter(({status:s})=>s==="rejected");for(let s of o){let i=s;i.reason?.message&&t.add(i.reason.message)}}return t}var p1=async(e,t,o)=>{let{createSuccessNotice:s,createErrorNotice:i}=(0,bv.dispatch)(d1.store),{deleteEntityRecord:n}=(0,bv.dispatch)(u1.store),a=await Promise.allSettled(e.map(c=>n("postType",c.type,c.id,{force:!0},{throwOnError:!0})));if(a.every(({status:c})=>c==="fulfilled")){let c;a.length===1?c=t.success.messages.getMessage(e[0]):c=t.success.messages.getBatchMessage(e),s(c,{type:t.success.type??"snackbar",id:t.success.id}),o.onActionPerformed?.(e)}else{let c=K8(a),l="";a.length===1?l=t.error.messages.getMessage(c):l=t.error.messages.getBatchMessage(c),i(l,{type:t.error.type??"snackbar",id:t.error.id}),o.onActionError?.()}};var{PATTERN_TYPES:Q8}=ho(f1.privateApis),X8={id:"delete-post",label:(0,ge.__)("Delete"),isPrimary:!0,icon:Fr,isEligible(e){return Pi(e)?fx(e):e.type===Q8.user},supportsBulk:!0,hideModalHeader:!0,modalFocusOnMount:"firstContentElement",RenderModal:({items:e,closeModal:t,onActionPerformed:o})=>{let[s,i]=(0,m1.useState)(!1),n=e.every(a=>Pi(a)&&a?.has_theme_file);return(0,Ri.jsxs)(Qr.__experimentalVStack,{spacing:"5",children:[(0,Ri.jsx)(Qr.__experimentalText,{children:e.length>1?(0,ge.sprintf)((0,ge._n)("Delete %d item?","Delete %d items?",e.length),e.length):(0,ge.sprintf)((0,ge._x)('Delete "%s"?',"template part"),re(e[0]))}),(0,Ri.jsxs)(Qr.__experimentalHStack,{justify:"right",children:[(0,Ri.jsx)(Qr.Button,{variant:"tertiary",onClick:t,disabled:s,accessibleWhenDisabled:!0,__next40pxDefaultSize:!0,children:(0,ge.__)("Cancel")}),(0,Ri.jsx)(Qr.Button,{variant:"primary",onClick:async()=>{i(!0),await p1(e,{success:{messages:{getMessage:c=>n?(0,ge.sprintf)((0,ge.__)('"%s" reset.'),(0,_v.decodeEntities)(re(c))):(0,ge.sprintf)((0,ge._x)('"%s" deleted.',"template part"),(0,_v.decodeEntities)(re(c))),getBatchMessage:()=>n?(0,ge.__)("Items reset."):(0,ge.__)("Items deleted.")}},error:{messages:{getMessage:c=>c.size===1?[...c][0]:n?(0,ge.__)("An error occurred while reverting the item."):(0,ge.__)("An error occurred while deleting the item."),getBatchMessage:c=>c.size===0?n?(0,ge.__)("An error occurred while reverting the items."):(0,ge.__)("An error occurred while deleting the items."):c.size===1?n?(0,ge.sprintf)((0,ge.__)("An error occurred while reverting the items: %s"),[...c][0]):(0,ge.sprintf)((0,ge.__)("An error occurred while deleting the items: %s"),[...c][0]):n?(0,ge.sprintf)((0,ge.__)("Some errors occurred while reverting the items: %s"),[...c].join(",")):(0,ge.sprintf)((0,ge.__)("Some errors occurred while deleting the items: %s"),[...c].join(","))}}},{onActionPerformed:o}),i(!1),t?.()},isBusy:s,disabled:s,accessibleWhenDisabled:!0,__next40pxDefaultSize:!0,children:(0,ge.__)("Delete")})]})]})}},yv=X8;var T1=r(y()),k1=r(P()),Xr=r(w()),E1=r(he()),C1=r(A()),A1=r(ve());var Xe=r(y()),wt=r(E()),P1=r($()),Vp=r(R()),zn=r(P()),Fp=r(A()),Hn=r(w());var w1=r(he()),x1=r(ve());var h1=r(P()),g1=r(R()),b1=()=>(0,h1.useSelect)(e=>e(g1.store).getEntityRecords("postType","wp_template_part",{per_page:-1}),[])??[],_1=(e,t)=>{let o=e.toLowerCase(),s=t.map(n=>n.title.rendered.toLowerCase());if(!s.includes(o))return e;let i=2;for(;s.includes(`${o} ${i}`);)i++;return`${e} ${i}`},y1=e=>Ei(e).replace(/[^\w-]+/g,"")||"wp-custom-part";function v1(e,t){return`fields-create-template-part-modal__area-option-${e}-${t}`}function S1(e,t){return`fields-create-template-part-modal__area-option-description-${e}-${t}`}function Gn({modalTitle:e,...t}){let o=(0,zn.useSelect)(s=>s(Vp.store).getPostType("wp_template_part")?.labels?.add_new_item,[]);return(0,Xe.jsx)(wt.Modal,{title:e||o,onRequestClose:t.closeModal,overlayClassName:"fields-create-template-part-modal",focusOnMount:"firstContentElement",size:"medium",children:(0,Xe.jsx)(vv,{...t})})}var J8=e=>e==="header"?Hl:e==="footer"?Ul:e==="sidebar"?Xl:Si;function vv({defaultArea:e="uncategorized",blocks:t=[],confirmLabel:o=(0,Hn.__)("Add"),closeModal:s,onCreate:i,onError:n,defaultTitle:a=""}){let{createErrorNotice:c}=(0,zn.useDispatch)(w1.store),{saveEntityRecord:l}=(0,zn.useDispatch)(Vp.store),d=b1(),[u,p]=(0,Fp.useState)(a),[f,h]=(0,Fp.useState)(e),[g,b]=(0,Fp.useState)(!1),_=(0,P1.useInstanceId)(Gn),v=(0,zn.useSelect)(S=>S(Vp.store).getCurrentTheme()?.default_template_part_areas,[]);async function x(){if(!(!u||g))try{b(!0);let S=_1(u,d),C=y1(S),T=await l("postType","wp_template_part",{slug:C,title:S,content:(0,x1.serialize)(t),area:f},{throwOnError:!0});await i(T)}catch(S){let C=S instanceof Error&&"code"in S&&S.message&&S.code!=="unknown_error"?S.message:(0,Hn.__)("An error occurred while creating the template part.");c(C,{type:"snackbar"}),n?.()}finally{b(!1)}}return(0,Xe.jsx)("form",{onSubmit:async S=>{S.preventDefault(),await x()},children:(0,Xe.jsxs)(wt.__experimentalVStack,{spacing:"4",children:[(0,Xe.jsx)(wt.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,Hn.__)("Name"),value:u,onChange:p,required:!0}),(0,Xe.jsxs)("fieldset",{className:"fields-create-template-part-modal__area-fieldset",children:[(0,Xe.jsx)(wt.BaseControl.VisualLabel,{as:"legend",children:(0,Hn.__)("Area")}),(0,Xe.jsx)("div",{className:"fields-create-template-part-modal__area-radio-group",children:(v??[]).map(S=>{let C=J8(S.icon);return(0,Xe.jsxs)("div",{className:"fields-create-template-part-modal__area-radio-wrapper",children:[(0,Xe.jsx)("input",{type:"radio",id:v1(S.area,_),name:`fields-create-template-part-modal__area-${_}`,value:S.area,checked:f===S.area,onChange:()=>{h(S.area)},"aria-describedby":S1(S.area,_)}),(0,Xe.jsx)(wt.Icon,{icon:C,className:"fields-create-template-part-modal__area-radio-icon"}),(0,Xe.jsx)("label",{htmlFor:v1(S.area,_),className:"fields-create-template-part-modal__area-radio-label",children:S.label}),(0,Xe.jsx)(wt.Icon,{icon:Jt,className:"fields-create-template-part-modal__area-radio-checkmark"}),(0,Xe.jsx)("p",{className:"fields-create-template-part-modal__area-radio-description",id:S1(S.area,_),children:S.description})]},S.area)})})]}),(0,Xe.jsxs)(wt.__experimentalHStack,{justify:"right",children:[(0,Xe.jsx)(wt.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:()=>{s()},children:(0,Hn.__)("Cancel")}),(0,Xe.jsx)(wt.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit","aria-disabled":!u||g,isBusy:g,children:o})]})]})})}var e7={id:"duplicate-template-part",label:(0,Xr._x)("Duplicate","action label"),isEligible:e=>e.type==="wp_template_part",modalHeader:(0,Xr._x)("Duplicate template part","action label"),modalFocusOnMount:"firstContentElement",RenderModal:({items:e,closeModal:t})=>{let[o]=e,s=(0,C1.useMemo)(()=>o.blocks??(0,A1.parse)(typeof o.content=="string"?o.content:o.content.raw,{__unstableSkipMigrationLogs:!0}),[o.content,o.blocks]),{createSuccessNotice:i}=(0,k1.useDispatch)(E1.store);function n(a){i((0,Xr.sprintf)((0,Xr._x)('"%s" duplicated.',"template part"),re(a)),{type:"snackbar",id:"edit-site-patterns-success"}),t?.()}return(0,T1.jsx)(vv,{blocks:s,defaultArea:o.area,defaultTitle:(0,Xr.sprintf)((0,Xr._x)("%s (Copy)","template part"),re(o)),onCreate:n,onError:t,confirmLabel:(0,Xr._x)("Duplicate","action label"),closeModal:t??(()=>{})})}},Sv=e7;var Gk=r(w());var Ks=r(y()),Uk=r(w()),jc=r(F()),Hk=r(P()),Uc=r(R());var Oe=r(y()),Yo=r(A()),Vc=r(P()),Gv=r(w()),qs=r(R()),aa=r(F()),Lk=r(he()),Fk=r(Ho()),Vk=r(ve());var jp=r(y()),I1=r(A()),Wn=r(P()),R1=r($()),B1=r(F());function t7(e,t,o){if(!o)return t;let s=e.get(t);return s||(s=(0,Wn.createRegistry)({"core/block-editor":B1.storeConfig},t),s.registerStore("core/editor",_c),e.set(t,s)),s}var o7=(0,R1.createHigherOrderComponent)(e=>({useSubRegistry:t=!0,...o})=>{let s=(0,Wn.useRegistry)(),[i]=(0,I1.useState)(()=>new WeakMap),n=t7(i,s,t);return n===s?(0,jp.jsx)(e,{registry:s,...o}):(0,jp.jsx)(Wn.RegistryProvider,{value:n,children:(0,jp.jsx)(e,{registry:n,...o})})},"withRegistryProvider"),N1=o7;var Bi=r(A()),Qn=r(P()),bo=r(R()),o0=r(w()),r0=r(Pe()),s0=r($()),i0=r(ve()),Gp=r(F());var Je=r(w()),M1=r(P()),Up=r(_e()),D1=r(R()),Vs=(e,t)=>`<a ${wv(e)}>${t}</a>`,wv=e=>`href="${e}" target="_blank" rel="noreferrer noopener"`,r7=(e,t)=>{let o=e.trim();return e!=="pdm"&&(o=e.toUpperCase().replace("SAMPLING","Sampling")),t&&(o+=` ${t}`),["pdm","cc0"].includes(e)||(o=`CC ${o}`),o},s7=e=>{let{title:t,foreign_landing_url:o,creator:s,creator_url:i,license:n,license_version:a,license_url:c}=e,l=r7(n,a),d=(0,Up.decodeEntities)(s),u;return d?u=t?(0,Je.sprintf)((0,Je._x)('"%1$s" by %2$s/ %3$s',"caption"),Vs(o,(0,Up.decodeEntities)(t)),i?Vs(i,d):d,c?Vs(`${c}?ref=openverse`,l):l):(0,Je.sprintf)((0,Je._x)("<a %1$s>Work</a> by %2$s/ %3$s","caption"),wv(o),i?Vs(i,d):d,c?Vs(`${c}?ref=openverse`,l):l):u=t?(0,Je.sprintf)((0,Je._x)('"%1$s"/ %2$s',"caption"),Vs(o,(0,Up.decodeEntities)(t)),c?Vs(`${c}?ref=openverse`,l):l):(0,Je.sprintf)((0,Je._x)("<a %1$s>Work</a>/ %2$s","caption"),wv(o),c?Vs(`${c}?ref=openverse`,l):l),u.replace(/\s{2}/g," ")},Pv=async(e={})=>(await(0,M1.resolveSelect)(D1.store).getEntityRecords("postType","attachment",{...e,orderBy:e?.search?"relevance":"date"})).map(o=>({...o,alt:o.alt_text,url:o.source_url,previewUrl:o.media_details?.sizes?.medium?.source_url,caption:o.caption?.raw})),i7=[{name:"images",labels:{name:(0,Je.__)("Images"),search_items:(0,Je.__)("Search images")},mediaType:"image",async fetch(e={}){return Pv({...e,media_type:"image"})}},{name:"videos",labels:{name:(0,Je.__)("Videos"),search_items:(0,Je.__)("Search videos")},mediaType:"video",async fetch(e={}){return Pv({...e,media_type:"video"})}},{name:"audio",labels:{name:(0,Je.__)("Audio"),search_items:(0,Je.__)("Search audio")},mediaType:"audio",async fetch(e={}){return Pv({...e,media_type:"audio"})}},{name:"openverse",labels:{name:(0,Je.__)("Openverse"),search_items:(0,Je.__)("Search Openverse")},mediaType:"image",async fetch(e={}){let o={...e,...{mature:!1,excluded_source:"flickr,inaturalist,wikimedia",license:"pdm,cc0"}},s={per_page:"page_size",search:"q"},i=new URL("https://api.openverse.org/v1/images/");return Object.entries(o).forEach(([l,d])=>{let u=s[l]||l;i.searchParams.set(u,d)}),(await(await window.fetch(i,{headers:{"User-Agent":"WordPress/inserter-media-fetch"}})).json()).results.map(l=>({...l,title:l.title?.toLowerCase().startsWith("file:")?l.title.slice(5):l.title,sourceId:l.id,id:void 0,caption:s7(l),previewUrl:l.thumbnail}))},getReportUrl:({sourceId:e})=>`https://wordpress.org/openverse/image/${e}/report/`,isExternalResource:!0}],O1=i7;var Hp,n7=new Uint8Array(16);function xv(){if(!Hp&&(Hp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hp(n7)}var ut=[];for(let e=0;e<256;++e)ut.push((e+256).toString(16).slice(1));function L1(e,t=0){return ut[e[t+0]]+ut[e[t+1]]+ut[e[t+2]]+ut[e[t+3]]+"-"+ut[e[t+4]]+ut[e[t+5]]+"-"+ut[e[t+6]]+ut[e[t+7]]+"-"+ut[e[t+8]]+ut[e[t+9]]+"-"+ut[e[t+10]]+ut[e[t+11]]+ut[e[t+12]]+ut[e[t+13]]+ut[e[t+14]]+ut[e[t+15]]}var a7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tv={randomUUID:a7};function l7(e,t,o){if(Tv.randomUUID&&!t&&!e)return Tv.randomUUID();e=e||{};let s=e.random||(e.rng||xv)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){o=o||0;for(let i=0;i<16;++i)t[o+i]=s[i];return t}return L1(s)}var $n=l7;var yc=r(P()),F1=r(R()),V1=r(uc());var c7=()=>{};function zp({additionalData:e={},allowedTypes:t,filesList:o,maxUploadFileSize:s,onError:i=c7,onFileChange:n,onSuccess:a,multiple:c=!0}){let{receiveEntityRecords:l}=(0,yc.dispatch)(F1.store),{getCurrentPost:d,getEditorSettings:u}=(0,yc.select)(m),{lockPostAutosaving:p,unlockPostAutosaving:f,lockPostSaving:h,unlockPostSaving:g}=(0,yc.dispatch)(m),b=u().allowedMimeTypes,_=`image-upload-${$n()}`,v=!1;s=s||u().maxUploadFileSize;let x=d(),S=typeof x?.id=="number"?x.id:x?.wp_id,C=()=>{h(_),p(_),v=!0},T=S?{post:S}:{},I=()=>{g(_),f(_),v=!1};(0,V1.uploadMedia)({allowedTypes:t,filesList:o,onFileChange:N=>{v?I():C(),n?.(N);let L=N.filter(V=>V?.id);L?.length&&l("postType","attachment",L,void 0,!0)},onSuccess:a,additionalData:{...T,...e},maxUploadFileSize:s,onError:({message:N})=>{I(),i(N)},wpAllowedMimeTypes:b,multiple:c})}var j1=r(ot()),U1=r(pr());function H1(e){return(0,U1.default)("wp.editor.cleanForSlug",{since:"12.7",plugin:"Gutenberg",alternative:"wp.url.cleanForSlug"}),(0,j1.cleanForSlug)(e)}var z1=r(uc());var{sideloadMedia:d7}=k(z1.privateApis),G1=d7;var Q1=r(y()),X1=r(Z1());function q1(e){return Object.prototype.toString.call(e)==="[object Object]"}function K1(e){var t,o;return q1(e)===!1?!1:(t=e.constructor,t===void 0?!0:(o=t.prototype,!(q1(o)===!1||o.hasOwnProperty("isPrototypeOf")===!1)))}var J1=r(F()),Zn=r(R()),qn=r(P()),Kn=r(A());var{GlobalStylesContext:x7,cleanEmptyObject:kv}=k(J1.privateApis);function Ev(e,t){return(0,X1.default)(e,t,{isMergeableObject:K1,customMerge:o=>{if(o==="backgroundImage")return(s,i)=>i}})}function T7(){let{globalStylesId:e,isReady:t,settings:o,styles:s,_links:i}=(0,qn.useSelect)(d=>{let{getEntityRecord:u,getEditedEntityRecord:p,hasFinishedResolution:f,canUser:h}=d(Zn.store),g=d(Zn.store).__experimentalGetCurrentGlobalStylesId(),b,_=g?h("update",{kind:"root",name:"globalStyles",id:g}):null;g&&typeof _=="boolean"&&(_?b=p("root","globalStyles",g):b=u("root","globalStyles",g,{context:"view"}));let v=!1;return f("__experimentalGetCurrentGlobalStylesId")&&(g?v=_?f("getEditedEntityRecord",["root","globalStyles",g]):f("getEntityRecord",["root","globalStyles",g,{context:"view"}]):v=!0),{globalStylesId:g,isReady:v,settings:b?.settings,styles:b?.styles,_links:b?._links}},[]),{getEditedEntityRecord:n}=(0,qn.useSelect)(Zn.store),{editEntityRecord:a}=(0,qn.useDispatch)(Zn.store),c=(0,Kn.useMemo)(()=>({settings:o??{},styles:s??{},_links:i??{}}),[o,s,i]),l=(0,Kn.useCallback)((d,u={})=>{let p=n("root","globalStyles",e),f={styles:p?.styles??{},settings:p?.settings??{},_links:p?._links??{}},h=typeof d=="function"?d(f):d;a("root","globalStyles",e,{styles:kv(h.styles)||{},settings:kv(h.settings)||{},_links:kv(h._links)||{}},u)},[e,a,n]);return[t,c,l]}function k7(){let e=(0,qn.useSelect)(t=>t(Zn.store).__experimentalGetCurrentThemeBaseGlobalStyles(),[]);return[!!e,e]}function Sc(){let[e,t,o]=T7(),[s,i]=k7(),n=(0,Kn.useMemo)(()=>!i||!t?{}:Ev(i,t),[t,i]);return(0,Kn.useMemo)(()=>({isReady:e&&s,user:t,base:i,merged:n,setUserConfig:o}),[n,t,i,o,e,s])}function e0({children:e}){let t=Sc();return t.isReady?(0,Q1.jsx)(x7.Provider,{value:t,children:e}):null}var t0={};function E7(e){let{RECEIVE_INTERMEDIATE_RESULTS:t}=k(bo.privateApis),{getEntityRecords:o}=e(bo.store);return o("postType","wp_block",{per_page:-1,[t]:!0})}var C7=["__experimentalBlockBindingsSupportedAttributes","__experimentalBlockDirectory","__experimentalDiscussionSettings","__experimentalFeatures","__experimentalGlobalStylesBaseStyles","alignWide","blockInspectorTabs","maxUploadFileSize","allowedMimeTypes","bodyPlaceholder","canLockBlocks","canUpdateBlockBindings","capabilities","clearBlockSelection","codeEditingEnabled","colors","disableCustomColors","disableCustomFontSizes","disableCustomSpacingSizes","disableCustomGradients","disableLayoutStyles","enableCustomLineHeight","enableCustomSpacing","enableCustomUnits","enableOpenverseMediaCategory","fontSizes","gradients","generateAnchors","onNavigateToEntityRecord","imageDefaultSize","imageDimensions","imageEditing","imageSizes","isPreviewMode","isRTL","locale","maxWidth","postContentAttributes","postsPerPage","readOnly","styles","titlePlaceholder","supportsLayout","widgetTypesToHideFromLegacyWidgetBlock","__unstableHasCustomAppender","__unstableResolvedAssets","__unstableIsBlockBasedTheme"],{globalStylesDataKey:A7,globalStylesLinksDataKey:I7,selectBlockPatternsKey:R7,reusableBlocksSelectKey:B7,sectionRootClientIdKey:N7,mediaEditKey:M7}=k(Gp.privateApis);function D7(e,t,o,s){let i=(0,s0.useViewportMatch)("medium"),{allowRightClickOverrides:n,blockTypes:a,focusMode:c,hasFixedToolbar:l,isDistractionFree:d,keepCaretInsideBlock:u,hasUploadPermissions:p,hiddenBlockTypes:f,canUseUnfilteredHTML:h,userCanCreatePages:g,pageOnFront:b,pageForPosts:_,userPatternCategories:v,restBlockPatternCategories:x,sectionRootClientId:S}=(0,Qn.useSelect)(X=>{let{canUser:ee,getRawEntityRecord:xe,getEntityRecord:Qt,getUserPatternCategories:Ft,getBlockPatternCategories:It}=X(bo.store),{get:ze}=X(r0.store),{getBlockTypes:Vt}=X(i0.store),{getBlocksByName:se,getBlockAttributes:le}=X(Gp.store),ie=ee("read",{kind:"root",name:"site"})?Qt("root","site"):void 0;function Ie(){return s==="template-locked"?se("core/post-content")?.[0]??"":se("core/group").find(Le=>le(Le)?.tagName==="main")??""}return{allowRightClickOverrides:ze("core","allowRightClickOverrides"),blockTypes:Vt(),canUseUnfilteredHTML:xe("postType",t,o)?._links?.hasOwnProperty("wp:action-unfiltered-html"),focusMode:ze("core","focusMode"),hasFixedToolbar:ze("core","fixedToolbar")||!i,hiddenBlockTypes:ze("core","hiddenBlockTypes"),isDistractionFree:ze("core","distractionFree"),keepCaretInsideBlock:ze("core","keepCaretInsideBlock"),hasUploadPermissions:ee("create",{kind:"postType",name:"attachment"})??!0,userCanCreatePages:ee("create",{kind:"postType",name:"page"}),pageOnFront:ie?.page_on_front,pageForPosts:ie?.page_for_posts,userPatternCategories:Ft(),restBlockPatternCategories:It(),sectionRootClientId:Ie()}},[t,o,i,s]),{merged:C}=Sc(),T=C.styles??t0,I=C._links??t0,N=e.__experimentalAdditionalBlockPatterns??e.__experimentalBlockPatterns,L=e.__experimentalAdditionalBlockPatternCategories??e.__experimentalBlockPatternCategories,V=(0,Bi.useMemo)(()=>[...N||[]].filter(({postTypes:X})=>!X||Array.isArray(X)&&X.includes(t)),[N,t]),O=(0,Bi.useMemo)(()=>[...L||[],...x||[]].filter((X,ee,xe)=>ee===xe.findIndex(Qt=>X.name===Qt.name)),[L,x]),{undo:M,setIsInserterOpened:D}=(0,Qn.useDispatch)(m),{editMediaEntity:j}=k((0,Qn.useDispatch)(bo.store)),{saveEntityRecord:U}=(0,Qn.useDispatch)(bo.store),H=(0,Bi.useCallback)(X=>g?U("postType","page",X):Promise.reject({message:(0,o0.__)("You do not have permission to create Pages.")}),[U,g]),z=(0,Bi.useMemo)(()=>f&&f.length>0?(e.allowedBlockTypes===!0?a.map(({name:ee})=>ee):e.allowedBlockTypes||[]).filter(ee=>!f.includes(ee)):e.allowedBlockTypes,[e.allowedBlockTypes,f,a]),Q=e.focusMode===!1;return(0,Bi.useMemo)(()=>({...Object.fromEntries(Object.entries(e).filter(([ee])=>C7.includes(ee))),[A7]:T,[I7]:I,allowedBlockTypes:z,allowRightClickOverrides:n,focusMode:c&&!Q,hasFixedToolbar:l,isDistractionFree:d,keepCaretInsideBlock:u,[M7]:p?j:void 0,mediaUpload:p?zp:void 0,mediaSideload:p?G1:void 0,__experimentalBlockPatterns:V,[R7]:ee=>{let{hasFinishedResolution:xe,getBlockPatternsForPostType:Qt}=k(ee(bo.store)),Ft=Qt(t);return xe("getBlockPatterns")?Ft:void 0},[B7]:E7,__experimentalBlockPatternCategories:O,__experimentalUserPatternCategories:v,__experimentalFetchLinkSuggestions:(ee,xe)=>(0,bo.__experimentalFetchLinkSuggestions)(ee,xe,e),inserterMediaCategories:O1,__experimentalFetchRichUrlData:bo.__experimentalFetchUrlData,__experimentalCanUserUseUnfilteredHTML:h,__experimentalUndo:M,outlineMode:!d&&t==="wp_template",__experimentalCreatePageEntity:H,__experimentalUserCanCreatePages:g,pageOnFront:b,pageForPosts:_,__experimentalPreferPatternsOnRoot:t==="wp_template",templateLock:t==="wp_navigation"?"insert":e.templateLock,template:t==="wp_navigation"?[["core/navigation",{},[]]]:e.template,__experimentalSetIsInserterOpened:D,[N7]:S,editorTool:s==="post-only"&&t!=="wp_template"?"edit":void 0}),[z,n,c,Q,l,d,u,e,p,v,V,O,h,M,H,g,b,_,t,D,S,T,I,s,j])}var n0=D7;var wc=r(P()),Ni=r(F()),Pc=r(A());var a0=r(P()),l0=r(A()),c0=r(_t());var O7=["core/post-title","core/post-featured-image","core/post-content"];function Wp(){let e=(0,l0.useMemo)(()=>[...(0,c0.applyFilters)("editor.postContentBlockTypes",O7)],[]);return(0,a0.useSelect)(o=>{let{getPostBlocksByName:s}=k(o(m));return s(e)},[e])}function d0(){let e=Wp(),{templateParts:t}=(0,wc.useSelect)(i=>{let{getBlocksByName:n}=i(Ni.store);return{templateParts:n("core/template-part")}},[]),o=(0,wc.useSelect)(i=>{let{getBlockOrder:n}=i(Ni.store);return t.flatMap(a=>n(a))},[t]),s=(0,wc.useRegistry)();return(0,Pc.useEffect)(()=>{let{setBlockEditingMode:i,unsetBlockEditingMode:n}=s.dispatch(Ni.store);return i("","disabled"),()=>{n("")}},[s]),(0,Pc.useEffect)(()=>{let{setBlockEditingMode:i,unsetBlockEditingMode:n}=s.dispatch(Ni.store);return s.batch(()=>{for(let a of e)i(a,"contentOnly")}),()=>{s.batch(()=>{for(let a of e)n(a)})}},[e,s]),(0,Pc.useEffect)(()=>{let{setBlockEditingMode:i,unsetBlockEditingMode:n}=s.dispatch(Ni.store);return s.batch(()=>{for(let a of t)i(a,"contentOnly")}),()=>{s.batch(()=>{for(let a of t)n(a)})}},[t,s]),(0,Pc.useEffect)(()=>{let{setBlockEditingMode:i,unsetBlockEditingMode:n}=s.dispatch(Ni.store);return s.batch(()=>{for(let a of o)i(a,"disabled")}),()=>{s.batch(()=>{for(let a of o)n(a)})}},[o,s]),null}var u0=r(A()),$p=r(P()),Cv=r(F());function p0(){let e=(0,$p.useSelect)(s=>s(Cv.store).getBlockOrder()?.[0],[]),{setBlockEditingMode:t,unsetBlockEditingMode:o}=(0,$p.useDispatch)(Cv.store);(0,u0.useEffect)(()=>{if(e)return t(e,"contentOnly"),()=>{o(e)}},[e,o,t])}var f0=r(A()),Xn=r(_t()),m0=["wp_block","wp_template","wp_template_part"];function h0(e,t){(0,f0.useEffect)(()=>((0,Xn.addFilter)("blockEditor.__unstableCanInsertBlockType","removeTemplatePartsFromInserter",(o,s)=>!m0.includes(e)&&s.name==="core/template-part"&&t==="post-only"?!1:o),(0,Xn.addFilter)("blockEditor.__unstableCanInsertBlockType","removePostContentFromInserter",(o,s,i,{getBlockParentsByBlockName:n})=>!m0.includes(e)&&s.name==="core/post-content"?n(i,"core/query").length>0:o),()=>{(0,Xn.removeFilter)("blockEditor.__unstableCanInsertBlockType","removeTemplatePartsFromInserter"),(0,Xn.removeFilter)("blockEditor.__unstableCanInsertBlockType","removePostContentFromInserter")}),[e,t])}var Ut=r(P()),ne=r(w());var Ic=r(Av()),Lv=r(Pe()),K0=r(he()),Q0=r(F()),Rc=r(R());var Mv={};Cs(Mv,{ActionItem:()=>yo,ComplementaryArea:()=>oa,ComplementaryAreaMoreMenuItem:()=>ea,FullscreenMode:()=>O0,InterfaceSkeleton:()=>sm,PinnedItems:()=>ta,store:()=>Y});var We=r(y());var vo=r(E()),Ec=r(P()),om=r(w());var br=r(A()),Bv=r(_0()),B0=r(Pe()),Hs=r($()),N0=r(js());var Qp=r(y());var x0=r(y()),T0=r(E()),Kp=r(P()),k0=r(js());var qp=r(P());var Iv={};Cs(Iv,{closeModal:()=>$7,disableComplementaryArea:()=>V7,enableComplementaryArea:()=>F7,openModal:()=>W7,pinItem:()=>j7,setDefaultComplementaryArea:()=>L7,setFeatureDefaults:()=>G7,setFeatureValue:()=>z7,toggleFeature:()=>H7,unpinItem:()=>U7});var Zp=r(pr()),_o=r(Pe());var Yp=r(pr());function gr(e){return["core/edit-post","core/edit-site"].includes(e)?((0,Yp.default)(`${e} interface scope`,{alternative:"core interface scope",hint:"core/edit-post and core/edit-site are merging.",version:"6.6"}),"core"):e}function Mi(e,t){return e==="core"&&t==="edit-site/template"?((0,Yp.default)("edit-site/template sidebar",{alternative:"edit-post/document",version:"6.6"}),"edit-post/document"):e==="core"&&t==="edit-site/block-inspector"?((0,Yp.default)("edit-site/block-inspector sidebar",{alternative:"edit-post/block",version:"6.6"}),"edit-post/block"):t}var L7=(e,t)=>(e=gr(e),t=Mi(e,t),{type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),F7=(e,t)=>({registry:o,dispatch:s})=>{if(!t)return;e=gr(e),t=Mi(e,t),o.select(_o.store).get(e,"isComplementaryAreaVisible")||o.dispatch(_o.store).set(e,"isComplementaryAreaVisible",!0),s({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t})},V7=e=>({registry:t})=>{e=gr(e),t.select(_o.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(_o.store).set(e,"isComplementaryAreaVisible",!1)},j7=(e,t)=>({registry:o})=>{if(!t)return;e=gr(e),t=Mi(e,t);let s=o.select(_o.store).get(e,"pinnedItems");s?.[t]!==!0&&o.dispatch(_o.store).set(e,"pinnedItems",{...s,[t]:!0})},U7=(e,t)=>({registry:o})=>{if(!t)return;e=gr(e),t=Mi(e,t);let s=o.select(_o.store).get(e,"pinnedItems");o.dispatch(_o.store).set(e,"pinnedItems",{...s,[t]:!1})};function H7(e,t){return function({registry:o}){(0,Zp.default)("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),o.dispatch(_o.store).toggle(e,t)}}function z7(e,t,o){return function({registry:s}){(0,Zp.default)("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),s.dispatch(_o.store).set(e,t,!!o)}}function G7(e,t){return function({registry:o}){(0,Zp.default)("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),o.dispatch(_o.store).setDefaults(e,t)}}function W7(e){return{type:"OPEN_MODAL",name:e}}function $7(){return{type:"CLOSE_MODAL"}}var Rv={};Cs(Rv,{getActiveComplementaryArea:()=>Y7,isComplementaryAreaLoading:()=>Z7,isFeatureActive:()=>K7,isItemPinned:()=>q7,isModalActive:()=>Q7});var xc=r(P()),v0=r(pr()),Tc=r(Pe());var Y7=(0,xc.createRegistrySelector)(e=>(t,o)=>{o=gr(o);let s=e(Tc.store).get(o,"isComplementaryAreaVisible");if(s!==void 0)return s===!1?null:t?.complementaryAreas?.[o]}),Z7=(0,xc.createRegistrySelector)(e=>(t,o)=>{o=gr(o);let s=e(Tc.store).get(o,"isComplementaryAreaVisible"),i=t?.complementaryAreas?.[o];return s&&i===void 0}),q7=(0,xc.createRegistrySelector)(e=>(t,o,s)=>(o=gr(o),s=Mi(o,s),e(Tc.store).get(o,"pinnedItems")?.[s]??!0)),K7=(0,xc.createRegistrySelector)(e=>(t,o,s)=>((0,v0.default)("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(Tc.store).get(o,s)));function Q7(e,t){return e.activeModal===t}var S0=r(P());function X7(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{let{scope:o,area:s}=t;return e[o]?e:{...e,[o]:s}}case"ENABLE_COMPLEMENTARY_AREA":{let{scope:o,area:s}=t;return{...e,[o]:s}}}return e}function J7(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}var P0=(0,S0.combineReducers)({complementaryAreas:X7,activeModal:J7});var w0="core/interface";var Y=(0,qp.createReduxStore)(w0,{reducer:P0,actions:Iv,selectors:Rv});(0,qp.register)(Y);function eF(e){return["checkbox","option","radio","switch","menuitemcheckbox","menuitemradio","treeitem"].includes(e)}function Jn({as:e=T0.Button,scope:t,identifier:o,icon:s,selectedIcon:i,name:n,shortcut:a,...c}){let l=e,d=(0,k0.usePluginContext)(),u=s||d.icon,p=o||`${d.name}/${n}`,f=(0,Kp.useSelect)(b=>b(Y).getActiveComplementaryArea(t)===p,[p,t]),{enableComplementaryArea:h,disableComplementaryArea:g}=(0,Kp.useDispatch)(Y);return(0,x0.jsx)(l,{icon:i&&f?i:u,"aria-controls":p.replace("/",":"),"aria-checked":eF(c.role)?f:void 0,onClick:()=>{f?g(t):h(t,p)},shortcut:a,...c})}var tF=({children:e,className:t,toggleButtonProps:o})=>{let s=(0,Qp.jsx)(Jn,{icon:Ol,...o});return(0,Qp.jsxs)("div",{className:W("components-panel__header","interface-complementary-area-header",t),tabIndex:-1,children:[e,s]})},E0=tF;var Jp=r(y());var I0=r(E());var kc=r(y()),Us=r(E()),Xp=r(A()),C0=()=>{};function oF({name:e,as:t=Us.MenuGroup,fillProps:o={},bubblesVirtually:s,...i}){return(0,kc.jsx)(Us.Slot,{name:e,bubblesVirtually:s,fillProps:o,children:n=>{if(!Xp.Children.toArray(n).length)return null;let a=[];Xp.Children.forEach(n,({props:{__unstableExplicitMenuItem:l,__unstableTarget:d}})=>{d&&l&&a.push(d)});let c=Xp.Children.map(n,l=>!l.props.__unstableExplicitMenuItem&&a.includes(l.props.__unstableTarget)?null:l);return(0,kc.jsx)(t,{...i,children:c})}})}function A0({name:e,as:t=Us.Button,onClick:o,...s}){return(0,kc.jsx)(Us.Fill,{name:e,children:({onClick:i})=>(0,kc.jsx)(t,{onClick:o||i?(...n)=>{(o||C0)(...n),(i||C0)(...n)}:void 0,...s})})}A0.Slot=oF;var yo=A0;var rF=({__unstableExplicitMenuItem:e,__unstableTarget:t,...o})=>(0,Jp.jsx)(I0.MenuItem,{...o});function ea({scope:e,target:t,__unstableExplicitMenuItem:o,...s}){return(0,Jp.jsx)(Jn,{as:i=>(0,Jp.jsx)(yo,{__unstableExplicitMenuItem:o,__unstableTarget:`${e}/${t}`,as:rF,name:`${e}/plugin-more-menu`,...i}),role:"menuitemcheckbox",selectedIcon:Jt,name:t,scope:e,...s})}var em=r(y());var tm=r(E());function R0({scope:e,...t}){return(0,em.jsx)(tm.Fill,{name:`PinnedItems/${e}`,...t})}function sF({scope:e,className:t,...o}){return(0,em.jsx)(tm.Slot,{name:`PinnedItems/${e}`,...o,children:s=>s?.length>0&&(0,em.jsx)("div",{className:W(t,"interface-pinned-items"),children:s})})}R0.Slot=sF;var ta=R0;var iF=.3;function nF({scope:e,...t}){return(0,We.jsx)(vo.Slot,{name:`ComplementaryArea/${e}`,...t})}var M0=280,aF={open:{width:M0},closed:{width:0},mobileOpen:{width:"100vw"}};function lF({activeArea:e,isActive:t,scope:o,children:s,className:i,id:n}){let a=(0,Hs.useReducedMotion)(),c=(0,Hs.useViewportMatch)("medium","<"),l=(0,Hs.usePrevious)(e),d=(0,Hs.usePrevious)(t),[,u]=(0,br.useState)({});(0,br.useEffect)(()=>{u({})},[t]);let p={type:"tween",duration:a||c||l&&e&&e!==l?0:iF,ease:[.6,0,.4,1]};return(0,We.jsx)(vo.Fill,{name:`ComplementaryArea/${o}`,children:(0,We.jsx)(vo.__unstableAnimatePresence,{initial:!1,children:(d||t)&&(0,We.jsx)(vo.__unstableMotion.div,{variants:aF,initial:"closed",animate:c?"mobileOpen":"open",exit:"closed",transition:p,className:"interface-complementary-area__fill",children:(0,We.jsx)("div",{id:n,className:i,style:{width:c?"100vw":M0},children:s})})})})}function cF(e,t,o,s,i){let n=(0,br.useRef)(!1),a=(0,br.useRef)(!1),{enableComplementaryArea:c,disableComplementaryArea:l}=(0,Ec.useDispatch)(Y);(0,br.useEffect)(()=>{s&&i&&!n.current?(l(e),a.current=!0):a.current&&!i&&n.current?(a.current=!1,c(e,t)):a.current&&o&&o!==t&&(a.current=!1),i!==n.current&&(n.current=i)},[s,i,e,t,o,l,c])}function D0({children:e,className:t,closeLabel:o=(0,om.__)("Close plugin"),identifier:s,header:i,headerClassName:n,icon:a,isPinnable:c=!0,panelClassName:l,scope:d,name:u,title:p,toggleShortcut:f,isActiveByDefault:h}){let g=(0,N0.usePluginContext)(),b=a||g.icon,_=s||`${g.name}/${u}`,[v,x]=(0,br.useState)(!1),{isLoading:S,isActive:C,isPinned:T,activeArea:I,isSmall:N,isLarge:L,showIconLabels:V}=(0,Ec.useSelect)(H=>{let{getActiveComplementaryArea:z,isComplementaryAreaLoading:Q,isItemPinned:X}=H(Y),{get:ee}=H(B0.store),xe=z(d);return{isLoading:Q(d),isActive:xe===_,isPinned:X(d,_),activeArea:xe,isSmall:H(Bv.store).isViewportMatch("< medium"),isLarge:H(Bv.store).isViewportMatch("large"),showIconLabels:ee("core","showIconLabels")}},[_,d]),O=(0,Hs.useViewportMatch)("medium","<");cF(d,_,I,C,N);let{enableComplementaryArea:M,disableComplementaryArea:D,pinItem:j,unpinItem:U}=(0,Ec.useDispatch)(Y);if((0,br.useEffect)(()=>{h&&I===void 0&&!N?M(d,_):I===void 0&&N&&D(d,_),x(!0)},[I,h,d,_,N,M,D]),!!v)return(0,We.jsxs)(We.Fragment,{children:[c&&(0,We.jsx)(ta,{scope:d,children:T&&(0,We.jsx)(Jn,{scope:d,identifier:_,isPressed:C&&(!V||L),"aria-expanded":C,"aria-disabled":S,label:p,icon:V?Jt:b,showTooltip:!V,variant:V?"tertiary":void 0,size:"compact",shortcut:f})}),u&&c&&(0,We.jsx)(ea,{target:u,scope:d,icon:b,identifier:_,children:p}),(0,We.jsxs)(lF,{activeArea:I,isActive:C,className:W("interface-complementary-area",t),scope:d,id:_.replace("/",":"),children:[(0,We.jsx)(E0,{className:n,closeLabel:o,onClose:()=>D(d),toggleButtonProps:{label:o,size:"compact",shortcut:f,scope:d,identifier:_},children:i||(0,We.jsxs)(We.Fragment,{children:[(0,We.jsx)("h2",{className:"interface-complementary-area-header__title",children:p}),c&&!O&&(0,We.jsx)(vo.Button,{className:"interface-complementary-area__pin-unpin-item",icon:T?cy:ay,label:T?(0,om.__)("Unpin from toolbar"):(0,om.__)("Pin to toolbar"),onClick:()=>(T?U:j)(d,_),isPressed:T,"aria-expanded":T,size:"compact"})]})}),(0,We.jsx)(vo.Panel,{className:l,children:e})]})]})}D0.Slot=nF;var oa=D0;var Nv=r(A()),dF=({isActive:e})=>((0,Nv.useEffect)(()=>{let t=!1;return document.body.classList.contains("sticky-menu")&&(t=!0,document.body.classList.remove("sticky-menu")),()=>{t&&document.body.classList.add("sticky-menu")}},[]),(0,Nv.useEffect)(()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")}),[e]),null),O0=dF;var Nt=r(y());var L0=r(y());var F0=r(A()),V0=(0,F0.forwardRef)(({children:e,className:t,ariaLabel:o,as:s="div",...i},n)=>(0,L0.jsx)(s,{ref:n,className:W("admin-ui-navigable-region",t),"aria-label":o,role:"region",tabIndex:"-1",...i,children:e}));V0.displayName="NavigableRegion";var zs=V0;var rm=r(A()),Di=r(E()),Gs=r(w()),ra=r($()),U0=.25,j0={type:"tween",duration:U0,ease:[.6,0,.4,1]};function uF(e){(0,rm.useEffect)(()=>{let t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}},[e])}var pF={hidden:{opacity:1,marginTop:-60},visible:{opacity:1,marginTop:0},distractionFreeHover:{opacity:1,marginTop:0,transition:{...j0,delay:.2,delayChildren:.2}},distractionFreeHidden:{opacity:0,marginTop:-60},distractionFreeDisabled:{opacity:0,marginTop:0,transition:{...j0,delay:.8,delayChildren:.8}}};function mF({isDistractionFree:e,footer:t,header:o,editorNotices:s,sidebar:i,secondarySidebar:n,content:a,actions:c,labels:l,className:d},u){let[p,f]=(0,ra.useResizeObserver)(),h=(0,ra.useViewportMatch)("medium","<"),b={type:"tween",duration:(0,ra.useReducedMotion)()?0:U0,ease:[.6,0,.4,1]};uF("interface-interface-skeleton__html-container");let v={...{header:(0,Gs._x)("Header","header landmark area"),body:(0,Gs.__)("Content"),secondarySidebar:(0,Gs.__)("Block Library"),sidebar:(0,Gs._x)("Settings","settings landmark area"),actions:(0,Gs.__)("Publish"),footer:(0,Gs.__)("Footer")},...l};return(0,Nt.jsxs)("div",{ref:u,className:W(d,"interface-interface-skeleton",!!t&&"has-footer"),children:[(0,Nt.jsxs)("div",{className:"interface-interface-skeleton__editor",children:[(0,Nt.jsx)(Di.__unstableAnimatePresence,{initial:!1,children:!!o&&(0,Nt.jsx)(zs,{as:Di.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":v.header,initial:e&&!h?"distractionFreeHidden":"hidden",whileHover:e&&!h?"distractionFreeHover":"visible",animate:e&&!h?"distractionFreeDisabled":"visible",exit:e&&!h?"distractionFreeHidden":"hidden",variants:pF,transition:b,children:o})}),e&&(0,Nt.jsx)("div",{className:"interface-interface-skeleton__header",children:s}),(0,Nt.jsxs)("div",{className:"interface-interface-skeleton__body",children:[(0,Nt.jsx)(Di.__unstableAnimatePresence,{initial:!1,children:!!n&&(0,Nt.jsx)(zs,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:v.secondarySidebar,as:Di.__unstableMotion.div,initial:"closed",animate:"open",exit:"closed",variants:{open:{width:f.width},closed:{width:0}},transition:b,children:(0,Nt.jsxs)(Di.__unstableMotion.div,{style:{position:"absolute",width:h?"100vw":"fit-content",height:"100%",left:0},variants:{open:{x:0},closed:{x:"-100%"}},transition:b,children:[p,n]})})}),(0,Nt.jsx)(zs,{className:"interface-interface-skeleton__content",ariaLabel:v.body,children:a}),!!i&&(0,Nt.jsx)(zs,{className:"interface-interface-skeleton__sidebar",ariaLabel:v.sidebar,children:i}),!!c&&(0,Nt.jsx)(zs,{className:"interface-interface-skeleton__actions",ariaLabel:v.actions,children:c})]})]}),!!t&&(0,Nt.jsx)(zs,{className:"interface-interface-skeleton__footer",ariaLabel:v.footer,children:t})]})}var sm=(0,rm.forwardRef)(mF);var im=r(_e());var H0=r(y()),Cc=r(P()),z0=r(Ho()),G0=r(R());var{RenamePatternModal:fF}=k(z0.privateApis),Dv="editor/pattern-rename";function W0(){let{record:e,postType:t}=(0,Cc.useSelect)(i=>{let{getCurrentPostType:n,getCurrentPostId:a}=i(m),{getEditedEntityRecord:c}=i(G0.store),l=n();return{record:c("postType",l,a()),postType:l}},[]),{closeModal:o}=(0,Cc.useDispatch)(Y);return!(0,Cc.useSelect)(i=>i(Y).isModalActive(Dv))||t!==yt?null:(0,H0.jsx)(fF,{onClose:o,pattern:e})}var $0=r(y()),Ac=r(P()),Y0=r(Ho()),Z0=r(R());var{DuplicatePatternModal:hF}=k(Y0.privateApis),Ov="editor/pattern-duplicate";function q0(){let{record:e,postType:t}=(0,Ac.useSelect)(i=>{let{getCurrentPostType:n,getCurrentPostId:a}=i(m),{getEditedEntityRecord:c}=i(Z0.store),l=n();return{record:c("postType",l,a()),postType:l}},[]),{closeModal:o}=(0,Ac.useDispatch)(Y);return!(0,Ac.useSelect)(i=>i(Y).isModalActive(Ov))||t!==yt?null:(0,$0.jsx)(hF,{onClose:o,onSuccess:()=>o(),pattern:e})}var gF=()=>function(){let{editorMode:t,isListViewOpen:o,showBlockBreadcrumbs:s,isDistractionFree:i,isFocusMode:n,isPreviewMode:a,isViewable:c,isCodeEditingEnabled:l,isRichEditingEnabled:d,isPublishSidebarEnabled:u}=(0,Ut.useSelect)(O=>{let{get:M}=O(Lv.store),{isListViewOpened:D,getCurrentPostType:j,getEditorSettings:U}=O(m),{getSettings:H}=O(Q0.store),{getPostType:z}=O(Rc.store);return{editorMode:M("core","editorMode")??"visual",isListViewOpen:D(),showBlockBreadcrumbs:M("core","showBlockBreadcrumbs"),isDistractionFree:M("core","distractionFree"),isFocusMode:M("core","focusMode"),isPreviewMode:H().isPreviewMode,isViewable:z(j())?.viewable??!1,isCodeEditingEnabled:U().codeEditingEnabled,isRichEditingEnabled:U().richEditingEnabled,isPublishSidebarEnabled:O(m).isPublishSidebarEnabled()}},[]),{getActiveComplementaryArea:p}=(0,Ut.useSelect)(Y),{toggle:f}=(0,Ut.useDispatch)(Lv.store),{createInfoNotice:h}=(0,Ut.useDispatch)(K0.store),{__unstableSaveForPreview:g,setIsListViewOpened:b,switchEditorMode:_,toggleDistractionFree:v,toggleSpotlightMode:x,toggleTopToolbar:S}=(0,Ut.useDispatch)(m),{openModal:C,enableComplementaryArea:T,disableComplementaryArea:I}=(0,Ut.useDispatch)(Y),{getCurrentPostId:N}=(0,Ut.useSelect)(m),L=l&&d;if(a)return{commands:[],isLoading:!1};let V=[];return V.push({name:"core/open-shortcut-help",label:(0,ne.__)("Keyboard shortcuts"),icon:A_,callback:({close:O})=>{O(),C("editor/keyboard-shortcut-help")}}),V.push({name:"core/toggle-distraction-free",label:i?(0,ne.__)("Exit Distraction free"):(0,ne.__)("Enter Distraction free"),callback:({close:O})=>{v(),O()}}),V.push({name:"core/open-preferences",label:(0,ne.__)("Editor preferences"),callback:({close:O})=>{O(),C("editor/preferences")}}),V.push({name:"core/toggle-spotlight-mode",label:n?(0,ne.__)("Exit Spotlight mode"):(0,ne.__)("Enter Spotlight mode"),callback:({close:O})=>{x(),O()}}),V.push({name:"core/toggle-list-view",label:o?(0,ne.__)("Close List View"):(0,ne.__)("Open List View"),icon:Wl,callback:({close:O})=>{b(!o),O(),h(o?(0,ne.__)("List View off."):(0,ne.__)("List View on."),{id:"core/editor/toggle-list-view/notice",type:"snackbar"})}}),V.push({name:"core/toggle-top-toolbar",label:(0,ne.__)("Top toolbar"),callback:({close:O})=>{S(),O()}}),L&&V.push({name:"core/toggle-code-editor",label:t==="visual"?(0,ne.__)("Open code editor"):(0,ne.__)("Exit code editor"),icon:u_,callback:({close:O})=>{_(t==="visual"?"text":"visual"),O()}}),V.push({name:"core/toggle-breadcrumbs",label:s?(0,ne.__)("Hide block breadcrumbs"):(0,ne.__)("Show block breadcrumbs"),callback:({close:O})=>{f("core","showBlockBreadcrumbs"),O(),h(s?(0,ne.__)("Breadcrumbs hidden."):(0,ne.__)("Breadcrumbs visible."),{id:"core/editor/toggle-breadcrumbs/notice",type:"snackbar"})}}),V.push({name:"core/open-settings-sidebar",label:(0,ne.__)("Show or hide the Settings panel"),icon:(0,ne.isRTL)()?Vl:jl,callback:({close:O})=>{let M=p("core");O(),M==="edit-post/document"?I("core"):T("core","edit-post/document")}}),V.push({name:"core/open-block-inspector",label:(0,ne.__)("Show or hide the Block settings panel"),icon:Jb,callback:({close:O})=>{let M=p("core");O(),M==="edit-post/block"?I("core"):T("core","edit-post/block")}}),V.push({name:"core/toggle-publish-sidebar",label:u?(0,ne.__)("Disable pre-publish checks"):(0,ne.__)("Enable pre-publish checks"),icon:T_,callback:({close:O})=>{O(),f("core","isPublishSidebarEnabled"),h(u?(0,ne.__)("Pre-publish checks disabled."):(0,ne.__)("Pre-publish checks enabled."),{id:"core/editor/publish-sidebar/notice",type:"snackbar"})}}),c&&V.push({name:"core/preview-link",label:(0,ne.__)("Preview in a new tab"),icon:jt,callback:async({close:O})=>{O();let M=N(),D=await g();window.open(D,`wp-preview-${M}`)}}),{commands:V,isLoading:!1}},bF=()=>function(){let{postType:t}=(0,Ut.useSelect)(i=>{let{getCurrentPostType:n}=i(m);return{postType:n()}},[]),{openModal:o}=(0,Ut.useDispatch)(Y),s=[];return t===yt&&(s.push({name:"core/rename-pattern",label:(0,ne.__)("Rename pattern"),icon:G_,callback:({close:i})=>{o(Dv),i()}}),s.push({name:"core/duplicate-pattern",label:(0,ne.__)("Duplicate pattern"),icon:Jl,callback:({close:i})=>{o(Ov),i()}})),{isLoading:!1,commands:s}},_F=()=>function(){let{onNavigateToEntityRecord:t,goBack:o,templateId:s,isPreviewMode:i}=(0,Ut.useSelect)(l=>{let{getRenderingMode:d,getEditorSettings:u,getCurrentTemplateId:p}=k(l(m)),f=u();return{isTemplateHidden:d()==="post-only",onNavigateToEntityRecord:f.onNavigateToEntityRecord,getEditorSettings:u,goBack:f.onNavigateToPreviousEntityRecord,templateId:p(),isPreviewMode:f.isPreviewMode}},[]),{editedRecord:n,hasResolved:a}=(0,Rc.useEntityRecord)("postType","wp_template",s);if(i)return{isLoading:!1,commands:[]};let c=[];return s&&a&&c.push({name:"core/switch-to-template-focus",label:(0,ne.sprintf)((0,ne.__)("Edit template: %s"),(0,im.decodeEntities)(n.title)),icon:Lr,callback:({close:l})=>{t({postId:s,postType:"wp_template"}),l()}}),o&&c.push({name:"core/switch-to-previous-entity",label:(0,ne.__)("Go back"),icon:kn,callback:({close:l})=>{o(),l()}}),{isLoading:!1,commands:c}},yF=()=>function(){let{postType:t,postId:o}=(0,Ut.useSelect)(c=>{let{getCurrentPostId:l,getCurrentPostType:d}=c(m);return{postType:d(),postId:l()}},[]),{editedRecord:s,hasResolved:i}=(0,Rc.useEntityRecord)("postType",t,o),{revertTemplate:n}=k((0,Ut.useDispatch)(m));if(!i||![De,ae].includes(t))return{isLoading:!0,commands:[]};let a=[];if(_p(s)){let c=s.type===ae?(0,ne.sprintf)((0,ne.__)("Reset template: %s"),(0,im.decodeEntities)(s.title)):(0,ne.sprintf)((0,ne.__)("Reset template part: %s"),(0,im.decodeEntities)(s.title));a.push({name:"core/reset-template",label:c,icon:(0,ne.isRTL)()?ty:J_,callback:({close:l})=>{n(s),l()}})}return{isLoading:!i,commands:a}};function X0(){(0,Ic.useCommandLoader)({name:"core/editor/edit-ui",hook:gF()}),(0,Ic.useCommandLoader)({name:"core/editor/contextual-commands",hook:bF(),context:"entity-edit"}),(0,Ic.useCommandLoader)({name:"core/editor/page-content-focus",hook:_F(),context:"entity-edit"}),(0,Ic.useCommandLoader)({name:"core/edit-site/manipulate-document",hook:yF()})}var ek=r(y()),Fv=r(w()),tk=r(F()),ok=r(P()),rk=r(A());var{BlockRemovalWarningModal:J0}=k(tk.privateApis),vF=["core/post-content","core/post-template","core/query"],SF=[{postTypes:["wp_template","wp_template_part"],callback(e){if(e.filter(({name:o})=>vF.includes(o)).length)return(0,Fv._n)("Deleting this block will stop your post or page content from displaying on this template. It is not recommended.","Some of the deleted blocks will stop your post or page content from displaying on this template. It is not recommended.",e.length)}},{postTypes:["wp_block"],callback(e){if(e.filter(({attributes:o})=>o?.metadata?.bindings&&Object.values(o.metadata.bindings).some(s=>s.source==="core/pattern-overrides")).length)return(0,Fv._n)("The deleted block allows instance overrides. Removing it may result in content not displaying where this pattern is used. Are you sure you want to proceed?","Some of the deleted blocks allow instance overrides. Removing them may result in content not displaying where this pattern is used. Are you sure you want to proceed?",e.length)}}];function sk(){let e=(0,ok.useSelect)(o=>o(m).getCurrentPostType(),[]),t=(0,rk.useMemo)(()=>SF.filter(o=>o.postTypes.includes(e)),[e]);return!J0||!t?null:(0,ek.jsx)(J0,{rules:t})}var _r=r(y()),Ws=r(E()),nm=r(w()),Oi=r(A()),am=r(F()),Jr=r(P()),ik=r(R()),nk=r(ve()),Vv=r(Pe());function PF(){let{blockPatternsWithPostContentBlockType:e,postType:t}=(0,Jr.useSelect)(o=>{let{getPatternsByBlockTypes:s,getBlocksByName:i}=o(am.store),{getCurrentPostType:n,getRenderingMode:a}=o(m),c=a()==="post-only"?"":i("core/post-content")?.[0];return{blockPatternsWithPostContentBlockType:s("core/post-content",c),postType:n()}},[]);return(0,Oi.useMemo)(()=>e?.length?e.filter(o=>t==="page"&&!o.postTypes||Array.isArray(o.postTypes)&&o.postTypes.includes(t)):[],[t,e])}function wF({blockPatterns:e,onChoosePattern:t}){let{editEntityRecord:o}=(0,Jr.useDispatch)(ik.store),{postType:s,postId:i}=(0,Jr.useSelect)(n=>{let{getCurrentPostType:a,getCurrentPostId:c}=n(m);return{postType:a(),postId:c()}},[]);return(0,_r.jsx)(am.__experimentalBlockPatternsList,{blockPatterns:e,onClickPattern:(n,a)=>{o("postType",s,i,{blocks:a,content:({blocks:c=[]})=>(0,nk.__unstableSerializeAndClean)(c)}),t()}})}function xF({onClose:e}){let[t,o]=(0,Oi.useState)(!0),{set:s}=(0,Jr.useDispatch)(Vv.store),i=PF();if(!(i.length>0))return null;function a(){e(),s("core","enableChoosePatternModal",t)}return(0,_r.jsxs)(Ws.Modal,{className:"editor-start-page-options__modal",title:(0,nm.__)("Choose a pattern"),isFullScreen:!0,onRequestClose:a,children:[(0,_r.jsx)("div",{className:"editor-start-page-options__modal-content",children:(0,_r.jsx)(wF,{blockPatterns:i,onChoosePattern:a})}),(0,_r.jsx)(Ws.Flex,{className:"editor-start-page-options__modal__actions",justify:"flex-end",expanded:!1,children:(0,_r.jsx)(Ws.FlexItem,{children:(0,_r.jsx)(Ws.ToggleControl,{__nextHasNoMarginBottom:!0,checked:t,label:(0,nm.__)("Show starter patterns"),help:(0,nm.__)("Shows starter patterns when creating a new page."),onChange:c=>{o(c)}})})})]})}function ak(){let[e,t]=(0,Oi.useState)(!1),{isEditedPostDirty:o,isEditedPostEmpty:s}=(0,Jr.useSelect)(m),{isModalActive:i}=(0,Jr.useSelect)(Y),{enabled:n,postId:a}=(0,Jr.useSelect)(c=>{let{getCurrentPostId:l,getCurrentPostType:d}=c(m),u=c(Vv.store).get("core","enableChoosePatternModal");return{postId:l(),enabled:u&&ae!==d()}},[]);return(0,Oi.useEffect)(()=>{let c=!o()&&s(),l=i("editor/preferences");!n||!c||l||t(!0)},[n,a,o,s,i]),e?(0,_r.jsx)(xF,{onClose:()=>t(!1)}):null}var pt=r(y());var _k=r(E()),yr=r(w()),um=r(Wo()),Bc=r(P());var So=r(w()),ck=[{keyCombination:{modifier:"primary",character:"b"},description:(0,So.__)("Make the selected text bold.")},{keyCombination:{modifier:"primary",character:"i"},description:(0,So.__)("Make the selected text italic.")},{keyCombination:{modifier:"primary",character:"k"},description:(0,So.__)("Convert the selected text into a link.")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,So.__)("Remove a link.")},{keyCombination:{character:"[["},description:(0,So.__)("Insert a link to a post or page.")},{keyCombination:{modifier:"primary",character:"u"},description:(0,So.__)("Underline the selected text.")},{keyCombination:{modifier:"access",character:"d"},description:(0,So.__)("Strikethrough the selected text.")},{keyCombination:{modifier:"access",character:"x"},description:(0,So.__)("Make the selected text inline code.")},{keyCombination:{modifier:"access",character:"0"},aliases:[{modifier:"access",character:"7"}],description:(0,So.__)("Convert the current heading to a paragraph.")},{keyCombination:{modifier:"access",character:"1-6"},description:(0,So.__)("Convert the current paragraph or heading to a heading of level 1 to 6.")},{keyCombination:{modifier:"primaryShift",character:"SPACE"},description:(0,So.__)("Add non breaking space.")}];var Po=r(y()),pk=r(A()),lm=r(to());function uk({keyCombination:e,forceAriaLabel:t}){let o=e.modifier?lm.displayShortcutList[e.modifier](e.character):e.character,s=e.modifier?lm.shortcutAriaLabel[e.modifier](e.character):e.character;return(0,Po.jsx)("kbd",{className:"editor-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":t||s,children:(Array.isArray(o)?o:[o]).map((i,n)=>i==="+"?(0,Po.jsx)(pk.Fragment,{children:i},n):(0,Po.jsx)("kbd",{className:"editor-keyboard-shortcut-help-modal__shortcut-key",children:i},n))})}function TF({description:e,keyCombination:t,aliases:o=[],ariaLabel:s}){return(0,Po.jsxs)(Po.Fragment,{children:[(0,Po.jsx)("div",{className:"editor-keyboard-shortcut-help-modal__shortcut-description",children:e}),(0,Po.jsxs)("div",{className:"editor-keyboard-shortcut-help-modal__shortcut-term",children:[(0,Po.jsx)(uk,{keyCombination:t,forceAriaLabel:s}),o.map((i,n)=>(0,Po.jsx)(uk,{keyCombination:i,forceAriaLabel:s},n))]})]})}var cm=TF;var mk=r(y()),fk=r(P()),hk=r(Wo());function kF({name:e}){let{keyCombination:t,description:o,aliases:s}=(0,fk.useSelect)(i=>{let{getShortcutKeyCombination:n,getShortcutDescription:a,getShortcutAliases:c}=i(hk.store);return{keyCombination:n(e),aliases:c(e),description:a(e)}},[e]);return t?(0,mk.jsx)(cm,{keyCombination:t,description:o,aliases:s}):null}var gk=kF;var bk="editor/keyboard-shortcut-help",EF=({shortcuts:e})=>(0,pt.jsx)("ul",{className:"editor-keyboard-shortcut-help-modal__shortcut-list",role:"list",children:e.map((t,o)=>(0,pt.jsx)("li",{className:"editor-keyboard-shortcut-help-modal__shortcut",children:typeof t=="string"?(0,pt.jsx)(gk,{name:t}):(0,pt.jsx)(cm,{...t})},o))}),jv=({title:e,shortcuts:t,className:o})=>(0,pt.jsxs)("section",{className:W("editor-keyboard-shortcut-help-modal__section",o),children:[!!e&&(0,pt.jsx)("h2",{className:"editor-keyboard-shortcut-help-modal__section-title",children:e}),(0,pt.jsx)(EF,{shortcuts:t})]}),dm=({title:e,categoryName:t,additionalShortcuts:o=[]})=>{let s=(0,Bc.useSelect)(i=>i(um.store).getCategoryShortcuts(t),[t]);return(0,pt.jsx)(jv,{title:e,shortcuts:s.concat(o)})};function CF(){let e=(0,Bc.useSelect)(i=>i(Y).isModalActive(bk),[]),{openModal:t,closeModal:o}=(0,Bc.useDispatch)(Y),s=()=>{e?o():t(bk)};return(0,um.useShortcut)("core/editor/keyboard-shortcuts",s),e?(0,pt.jsxs)(_k.Modal,{className:"editor-keyboard-shortcut-help-modal",title:(0,yr.__)("Keyboard shortcuts"),closeButtonLabel:(0,yr.__)("Close"),onRequestClose:s,children:[(0,pt.jsx)(jv,{className:"editor-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/editor/keyboard-shortcuts"]}),(0,pt.jsx)(dm,{title:(0,yr.__)("Global shortcuts"),categoryName:"global"}),(0,pt.jsx)(dm,{title:(0,yr.__)("Selection shortcuts"),categoryName:"selection"}),(0,pt.jsx)(dm,{title:(0,yr.__)("Block shortcuts"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,yr.__)("Change the block type after adding a new paragraph."),ariaLabel:(0,yr.__)("Forward-slash")}]}),(0,pt.jsx)(jv,{title:(0,yr.__)("Text formatting"),shortcuts:ck}),(0,pt.jsx)(dm,{title:(0,yr.__)("List View shortcuts"),categoryName:"list-view"})]}):null}var yk=CF;var xt=r(y()),$o=r(F()),pm=r(R()),sa=r(E()),Nc=r(P()),es=r(w());function AF({clientId:e,onClose:t}){let o=Wp(),{entity:s,onNavigateToEntityRecord:i,canEditTemplates:n}=(0,Nc.useSelect)(l=>{let{getBlockParentsByBlockName:d,getSettings:u,getBlockAttributes:p,getBlockParents:f}=l($o.store),{getCurrentTemplateId:h,getRenderingMode:g}=l(m),b=d(e,"core/block",!0)[0],_;return b?_=l(pm.store).getEntityRecord("postType","wp_block",p(b).ref):g()==="template-locked"&&!f(e).some(x=>o.includes(x))&&(_=l(pm.store).getEntityRecord("postType","wp_template",h())),_?{canEditTemplates:l(pm.store).canUser("create",{kind:"postType",name:"wp_template"}),entity:_,onNavigateToEntityRecord:u().onNavigateToEntityRecord}:{}},[e,o]);if(!s)return(0,xt.jsx)(IF,{clientId:e,onClose:t});let a=s.type==="wp_block",c=a?(0,es.__)("Edit the pattern to move, delete, or make further changes to this block."):(0,es.__)("Edit the template to move, delete, or make further changes to this block.");return n||(c=(0,es.__)("Only users with permissions to edit the template can move or delete this block")),(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)($o.__unstableBlockSettingsMenuFirstItem,{children:(0,xt.jsx)(sa.MenuItem,{onClick:()=>{i({postId:s.id,postType:s.type})},disabled:!n,children:a?(0,es.__)("Edit pattern"):(0,es.__)("Edit template")})}),(0,xt.jsx)(sa.__experimentalText,{variant:"muted",as:"p",className:"editor-content-only-settings-menu__description",children:c})]})}function IF({clientId:e,onClose:t}){let{contentLockingParent:o}=(0,Nc.useSelect)(a=>{let{getContentLockingParent:c}=k(a($o.store));return{contentLockingParent:c(e)}},[e]),s=(0,$o.useBlockDisplayInformation)(o),i=(0,Nc.useDispatch)($o.store);if(!s?.title)return null;let{modifyContentLockBlock:n}=k(i);return(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)($o.__unstableBlockSettingsMenuFirstItem,{children:(0,xt.jsx)(sa.MenuItem,{onClick:()=>{n(o),t()},children:(0,es._x)("Unlock","Unlock content locked blocks")})}),(0,xt.jsx)(sa.__experimentalText,{variant:"muted",as:"p",className:"editor-content-only-settings-menu__description",children:(0,es.__)("Temporarily unlock the parent block to edit, delete or make further changes to this block.")})]})}function vk(){return(0,xt.jsx)($o.BlockSettingsMenuControls,{children:({selectedClientIds:e,onClose:t})=>e.length===1&&(0,xt.jsx)(AF,{clientId:e[0],onClose:t})})}var vr=r(y()),$s=r(E()),Mc=r(w()),ia=r(A()),Sk=r(F()),Dc=r(P()),Uv=r(ve()),Li=r(R());function RF(e,t=!1){return(0,Dc.useSelect)(o=>{let{getEntityRecord:s,getDefaultTemplateId:i}=o(Li.store),n=i({slug:e,is_custom:t,ignore_empty:!0});return n?s("postType",ae,n)?.content?.raw:void 0},[e,t])}function BF(e){let{slug:t,patterns:o}=(0,Dc.useSelect)(n=>{let{getCurrentPostType:a,getCurrentPostId:c}=n(m),{getEntityRecord:l,getBlockPatterns:d}=n(Li.store),u=c(),p=a();return{slug:l("postType",p,u).slug,patterns:d()}},[]),s=(0,Dc.useSelect)(n=>n(Li.store).getCurrentTheme().stylesheet);function i(n){return n.innerBlocks.find(a=>a.name==="core/template-part")&&(n.innerBlocks=n.innerBlocks.map(a=>(a.name==="core/template-part"&&a.attributes.theme===void 0&&(a.attributes.theme=s),a))),n.name==="core/template-part"&&n.attributes.theme===void 0&&(n.attributes.theme=s),n}return(0,ia.useMemo)(()=>[{name:"fallback",blocks:(0,Uv.parse)(e),title:(0,Mc.__)("Fallback content")},...o.filter(n=>Array.isArray(n.templateTypes)&&n.templateTypes.some(a=>t.startsWith(a))).map(n=>({...n,blocks:(0,Uv.parse)(n.content).map(a=>i(a))}))],[e,t,o])}function NF({fallbackContent:e,onChoosePattern:t,postType:o}){let[,,s]=(0,Li.useEntityBlockEditor)("postType",o),i=BF(e);return(0,vr.jsx)(Sk.__experimentalBlockPatternsList,{blockPatterns:i,onClickPattern:(n,a)=>{s(a,{selection:void 0}),t()}})}function MF({slug:e,isCustom:t,onClose:o,postType:s}){let i=RF(e,t);return i?(0,vr.jsxs)($s.Modal,{className:"editor-start-template-options__modal",title:(0,Mc.__)("Choose a pattern"),closeLabel:(0,Mc.__)("Cancel"),focusOnMount:"firstElement",onRequestClose:o,isFullScreen:!0,children:[(0,vr.jsx)("div",{className:"editor-start-template-options__modal-content",children:(0,vr.jsx)(NF,{fallbackContent:i,slug:e,isCustom:t,postType:s,onChoosePattern:()=>{o()}})}),(0,vr.jsx)($s.Flex,{className:"editor-start-template-options__modal__actions",justify:"flex-end",expanded:!1,children:(0,vr.jsx)($s.FlexItem,{children:(0,vr.jsx)($s.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:o,children:(0,Mc.__)("Skip")})})})]}):null}function Pk(){let[e,t]=(0,ia.useState)(!1),{shouldOpenModal:o,slug:s,isCustom:i,postType:n,postId:a}=(0,Dc.useSelect)(c=>{let{getCurrentPostType:l,getCurrentPostId:d}=c(m),u=l(),p=d(),{getEditedEntityRecord:f,hasEditsForEntityRecord:h}=c(Li.store),g=f("postType",u,p);return{shouldOpenModal:!h("postType",u,p)&&g.content===""&&ae===u,slug:g.slug,isCustom:g.is_custom,postType:u,postId:p}},[]);return(0,ia.useEffect)(()=>{t(!1)},[n,a]),!o||e?null:(0,vr.jsx)(MF,{slug:s,isCustom:i,postType:n,onClose:()=>t(!0)})}var Ys=r(Wo()),Zs=r(P());var wk=r(F());function na(){let e=(0,Zs.useSelect)(b=>{let{richEditingEnabled:_,codeEditingEnabled:v}=b(m).getEditorSettings();return!_||!v},[]),{getBlockSelectionStart:t}=(0,Zs.useSelect)(wk.store),{getActiveComplementaryArea:o}=(0,Zs.useSelect)(Y),{enableComplementaryArea:s,disableComplementaryArea:i}=(0,Zs.useDispatch)(Y),{redo:n,undo:a,savePost:c,setIsListViewOpened:l,switchEditorMode:d,toggleDistractionFree:u}=(0,Zs.useDispatch)(m),{isEditedPostDirty:p,isPostSavingLocked:f,isListViewOpened:h,getEditorMode:g}=(0,Zs.useSelect)(m);return(0,Ys.useShortcut)("core/editor/toggle-mode",()=>{d(g()==="visual"?"text":"visual")},{isDisabled:e}),(0,Ys.useShortcut)("core/editor/toggle-distraction-free",()=>{u()}),(0,Ys.useShortcut)("core/editor/undo",b=>{a(),b.preventDefault()}),(0,Ys.useShortcut)("core/editor/redo",b=>{n(),b.preventDefault()}),(0,Ys.useShortcut)("core/editor/save",b=>{b.preventDefault(),!f()&&p()&&c()}),(0,Ys.useShortcut)("core/editor/toggle-list-view",b=>{h()||(b.preventDefault(),l(!0))}),(0,Ys.useShortcut)("core/editor/toggle-sidebar",b=>{if(b.preventDefault(),["edit-post/document","edit-post/block"].includes(o("core")))i("core");else{let v=t()?"edit-post/block":"edit-post/document";s("core",v)}}),null}var Fc=r(y()),Mk=r(P()),fm=r(F());var xk=r(y()),Oc=r(P()),mm=r(F()),Tk=r(E()),kk=r(w());function Ek({clientId:e,onClose:t}){let{getBlocks:o}=(0,Oc.useSelect)(mm.store),{replaceBlocks:s}=(0,Oc.useDispatch)(mm.store);return(0,Oc.useSelect)(n=>n(mm.store).canRemoveBlock(e),[e])?(0,xk.jsx)(Tk.MenuItem,{onClick:()=>{s(e,o(e)),t()},children:(0,kk.__)("Detach")}):null}var Fi=r(y()),Lc=r(P()),Hv=r(F()),Ck=r(E()),Ak=r(ve()),zv=r(w()),Ik=r(A()),Rk=r(he());var Bk=r(R());function Nk({clientIds:e,blocks:t}){let[o,s]=(0,Ik.useState)(!1),{replaceBlocks:i}=(0,Lc.useDispatch)(Hv.store),{createSuccessNotice:n}=(0,Lc.useDispatch)(Rk.store),{isBlockBasedTheme:a,canCreate:c}=(0,Lc.useSelect)(d=>({isBlockBasedTheme:d(Bk.store).getCurrentTheme()?.is_block_theme,canCreate:d(Hv.store).canInsertBlockType("core/template-part")}),[]);if(!a||!c)return null;let l=async d=>{i(e,(0,Ak.createBlock)("core/template-part",{slug:d.slug,theme:d.theme})),n((0,zv.__)("Template part created."),{type:"snackbar"})};return(0,Fi.jsxs)(Fi.Fragment,{children:[(0,Fi.jsx)(Ck.MenuItem,{icon:Si,onClick:()=>{s(!0)},"aria-expanded":o,"aria-haspopup":"dialog",children:(0,zv.__)("Create template part")}),o&&(0,Fi.jsx)(Gn,{closeModal:()=>{s(!1)},blocks:t,onCreate:l})]})}function Dk(){return(0,Fc.jsx)(fm.BlockSettingsMenuControls,{children:({selectedClientIds:e,onClose:t})=>(0,Fc.jsx)(DF,{clientIds:e,onClose:t})})}function DF({clientIds:e,onClose:t}){let{blocks:o}=(0,Mk.useSelect)(s=>{let{getBlocksByClientId:i}=s(fm.store);return{blocks:i(e)}},[e]);return o.length===1&&o[0]?.name==="core/template-part"?(0,Fc.jsx)(Ek,{clientId:e[0],onClose:t}):(0,Fc.jsx)(Nk,{clientIds:e,blocks:o})}var{ExperimentalBlockEditorProvider:OF}=k(aa.privateApis),{PatternsMenuItems:LF}=k(Fk.privateApis),Ok=()=>{},FF=["wp_block","wp_navigation","wp_template_part"];function VF(e,t,o){let s=o==="template-locked"?"template":"post",[i,n,a]=(0,qs.useEntityBlockEditor)("postType",e.type,{id:e.id}),[c,l,d]=(0,qs.useEntityBlockEditor)("postType",t?.type,{id:t?.id}),u=(0,Yo.useMemo)(()=>{if(e.type==="wp_navigation")return[(0,Vk.createBlock)("core/navigation",{ref:e.id,templateLock:!1})]},[e.type,e.id]),p=(0,Yo.useMemo)(()=>u||(s==="template"?c:i),[u,s,c,i]);return!!t&&o==="template-locked"||e.type==="wp_navigation"?[p,Ok,Ok]:[p,s==="post"?n:l,s==="post"?a:d]}var Wv=N1(({post:e,settings:t,recovery:o,initialEdits:s,children:i,BlockEditorProviderComponent:n=OF,__unstableTemplate:a})=>{let c=!!a,{editorSettings:l,selection:d,isReady:u,mode:p,defaultMode:f,postTypeEntities:h}=(0,Vc.useSelect)(H=>{let{getEditorSettings:z,getEditorSelection:Q,getRenderingMode:X,__unstableIsEditorReady:ee,getDefaultRenderingMode:xe}=k(H(m)),{getEntitiesConfig:Qt}=H(qs.store),Ft=X(),It=xe(e.type),ze=It==="template-locked"?c:It!==void 0,Vt=It!==void 0;return{editorSettings:z(),isReady:ee(),mode:Vt?Ft:void 0,defaultMode:ze?It:void 0,selection:Q(),postTypeEntities:e.type==="wp_template"?Qt("postType"):null}},[e.type,c]),g=c&&p!=="post-only",b=g?a:e,_=(0,Yo.useMemo)(()=>{let H={};if(e.type==="wp_template"){if(e.slug==="page")H.postType="page";else if(e.slug==="single")H.postType="post";else if(e.slug.split("-")[0]==="single"){let z=h?.map(X=>X.name)||[],Q=e.slug.match(`^single-(${z.join("|")})(?:-.+)?$`);Q&&(H.postType=Q[1])}}else(!FF.includes(b.type)||g)&&(H.postId=e.id,H.postType=e.type);return{...H,templateSlug:b.type==="wp_template"?b.slug:void 0}},[g,e.id,e.type,e.slug,b.type,b.slug,h]),{id:v,type:x}=b,S=n0(l,x,v,p),[C,T,I]=VF(e,a,p),{updatePostLock:N,setupEditor:L,updateEditorSettings:V,setCurrentTemplateId:O,setEditedPost:M,setRenderingMode:D}=k((0,Vc.useDispatch)(m)),{createWarningNotice:j,removeNotice:U}=(0,Vc.useDispatch)(Lk.store);return(0,Yo.useLayoutEffect)(()=>{o||(N(t.postLock),L(e,s,t.template),t.autosave&&j((0,Gv.__)("There is an autosave of this post that is more recent than the version below."),{id:"autosave-exists",actions:[{label:(0,Gv.__)("View the autosave"),url:t.autosave.editLink}]}))},[]),(0,Yo.useEffect)(()=>{M(e.type,e.id),U("template-activate-notice")},[e.type,e.id,M,U]),(0,Yo.useEffect)(()=>{V(t)},[t,V]),(0,Yo.useEffect)(()=>{O(a?.id)},[a?.id,O]),(0,Yo.useEffect)(()=>{f&&D(f)},[f,D]),h0(e.type,p),X0(),!u||!p?null:(0,Oe.jsx)(qs.EntityProvider,{kind:"root",type:"site",children:(0,Oe.jsx)(qs.EntityProvider,{kind:"postType",type:e.type,id:e.id,children:(0,Oe.jsx)(aa.BlockContextProvider,{value:_,children:(0,Oe.jsxs)(n,{value:C,onChange:I,onInput:T,selection:d,settings:S,useSubRegistry:!1,children:[i,!t.isPreviewMode&&(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(LF,{}),(0,Oe.jsx)(Dk,{}),(0,Oe.jsx)(vk,{}),p==="template-locked"&&(0,Oe.jsx)(d0,{}),x==="wp_navigation"&&(0,Oe.jsx)(p0,{}),(0,Oe.jsx)(na,{}),(0,Oe.jsx)(yk,{}),(0,Oe.jsx)(sk,{}),(0,Oe.jsx)(ak,{}),(0,Oe.jsx)(Pk,{}),(0,Oe.jsx)(W0,{}),(0,Oe.jsx)(q0,{})]})]})})})})});function $v(e){return(0,Oe.jsx)(Wv,{...e,BlockEditorProviderComponent:aa.BlockEditorProvider,children:e.children})}var jk=$v;var{useGlobalStyle:jF}=k(jc.privateApis);function UF({template:e,post:t}){let[o="white"]=jF("color.background"),[s]=(0,Uc.useEntityBlockEditor)("postType",t.type,{id:t.id}),[i]=(0,Uc.useEntityBlockEditor)("postType",e?.type,{id:e?.id}),n=e&&i?i:s,a=!n?.length;return(0,Ks.jsxs)("div",{className:"editor-fields-content-preview",style:{backgroundColor:o},children:[a&&(0,Ks.jsx)("span",{className:"editor-fields-content-preview__empty",children:(0,Uk.__)("Empty content")}),!a&&(0,Ks.jsx)(jc.BlockPreview.Async,{children:(0,Ks.jsx)(jc.BlockPreview,{blocks:n})})]})}function zk({item:e}){let{settings:t,template:o}=(0,Hk.useSelect)(s=>{let{canUser:i,getPostType:n,getTemplateId:a,getEntityRecord:c}=k(s(Uc.store)),l=i("read",{kind:"postType",name:"wp_template"}),d=s(m).getEditorSettings(),u=d.supportsTemplateMode,p=n(e.type)?.viewable??!1,f=u&&p&&l?a(e.type,e.id):null;return{settings:d,template:f?c("postType","wp_template",f):void 0}},[e.type,e.id]);return(0,Ks.jsx)($v,{post:e,settings:t,__unstableTemplate:o,children:(0,Ks.jsx)(UF,{template:o,post:e})})}var HF={type:"media",id:"content-preview",label:(0,Gk.__)("Content preview"),render:zk,enableSorting:!1},Wk=HF;function zF(e,t,o){return{type:"REGISTER_ENTITY_ACTION",kind:e,name:t,config:o}}function GF(e,t,o){return{type:"UNREGISTER_ENTITY_ACTION",kind:e,name:t,actionId:o}}function WF(e,t,o){return{type:"REGISTER_ENTITY_FIELD",kind:e,name:t,config:o}}function $F(e,t,o){return{type:"UNREGISTER_ENTITY_FIELD",kind:e,name:t,fieldId:o}}function YF(e,t){return{type:"SET_IS_READY",kind:e,name:t}}var ZF=e=>async({registry:t})=>{if(k(t.select(m)).isEntityReady("postType",e))return;k(t.dispatch(m)).setIsReady("postType",e);let s=await t.resolveSelect(hm.store).getPostType(e),i=await t.resolveSelect(hm.store).canUser("create",{kind:"postType",name:e}),n=await t.resolveSelect(hm.store).getCurrentTheme(),a=!["wp_block","wp_template_part"].includes(s.slug)&&i&&ov,c=[s.viewable?Qy:void 0,s.supports?.revisions?uv:void 0,a,s.slug==="wp_template_part"&&i&&n?.is_block_theme?Sv:void 0,i&&s.slug==="wp_block"?nv:void 0,s.supports?.title?sv:void 0,s.supports?.["page-attributes"]?Jy:void 0,s.slug==="wp_block"?dv:void 0,fv,iv,yv,gv,mv].filter(Boolean),l=[s.supports?.thumbnail&&n?.theme_supports?.["post-thumbnails"]&&Oy,s.supports?.author&&Ky,Gy,qy,ky,s.supports?.["page-attributes"]&&Hy,s.supports?.comments&&Wy,s.supports?.trackbacks&&Yy,(s.supports?.comments||s.supports?.trackbacks)&&Zy,Fy,zy,s.supports?.editor&&s.viewable&&Wk].filter(Boolean);if(s.supports?.title){let d;e==="page"?d=By:e==="wp_template"?d=cc:e==="wp_block"?d=dc:d=Cy,l.push(d)}t.batch(()=>{c.forEach(d=>{k(t.dispatch(m)).registerEntityAction("postType",e,d)}),l.forEach(d=>{k(t.dispatch(m)).registerEntityField("postType",e,d)})}),(0,$k.doAction)("core.registerPostTypeSchema",e)};function qF(e){return{type:"SET_CURRENT_TEMPLATE_ID",id:e}}var KF=e=>async({select:t,dispatch:o,registry:s})=>{let i=await s.dispatch(zt.store).saveEntityRecord("postType","wp_template",e);return s.dispatch(zt.store).editEntityRecord("postType",t.getCurrentPostType(),t.getCurrentPostId(),{template:i.slug}),s.dispatch(Ht.store).createSuccessNotice((0,ue.__)("Custom template created. You're in template mode now."),{type:"snackbar",actions:[{label:(0,ue.__)("Go back"),onClick:()=>o.setRenderingMode(t.getEditorSettings().defaultRenderingMode)}]}),i},QF=e=>({registry:t})=>{let s=(t.select(Vi.store).get("core","hiddenBlockTypes")??[]).filter(i=>!(Array.isArray(e)?e:[e]).includes(i));t.dispatch(Vi.store).set("core","hiddenBlockTypes",s)},XF=e=>({registry:t})=>{let o=t.select(Vi.store).get("core","hiddenBlockTypes")??[],s=new Set([...o,...Array.isArray(e)?e:[e]]);t.dispatch(Vi.store).set("core","hiddenBlockTypes",[...s])},JF=({onSave:e,dirtyEntityRecords:t=[],entitiesToSkip:o=[],close:s}={})=>({registry:i})=>{let n=[{kind:"postType",name:"wp_navigation"}],a="site-editor-save-success",c=i.select(zt.store).getEntityRecord("root","__unstableBase")?.home;i.dispatch(Ht.store).removeNotice(a);let l=t.filter(({kind:p,name:f,key:h,property:g})=>!o.some(b=>b.kind===p&&b.name===f&&b.key===h&&b.property===g));s?.(l);let d=[],u=[];l.forEach(({kind:p,name:f,key:h,property:g})=>{p==="root"&&f==="site"?d.push(g):(n.some(b=>b.kind===p&&b.name===f)&&i.dispatch(zt.store).editEntityRecord(p,f,h,{status:"publish"}),u.push(i.dispatch(zt.store).saveEditedEntityRecord(p,f,h)))}),d.length&&u.push(i.dispatch(zt.store).__experimentalSaveSpecifiedEntityEdits("root","site",void 0,d)),i.dispatch(Yk.store).__unstableMarkLastChangeAsPersistent(),Promise.all(u).then(p=>e?e(p):p).then(p=>{p.some(f=>typeof f>"u")?i.dispatch(Ht.store).createErrorNotice((0,ue.__)("Saving failed.")):i.dispatch(Ht.store).createSuccessNotice((0,ue.__)("Site updated."),{type:"snackbar",id:a,actions:[{label:(0,ue.__)("View site"),url:c,openInNewTab:!0}]})}).catch(p=>i.dispatch(Ht.store).createErrorNotice(`${(0,ue.__)("Saving failed.")} ${p}`))},e9=(e,{allowUndo:t=!0}={})=>async({registry:o})=>{let s="edit-site-template-reverted";if(o.dispatch(Ht.store).removeNotice(s),!_p(e)){o.dispatch(Ht.store).createErrorNotice((0,ue.__)("This template is not revertable."),{type:"snackbar"});return}try{let i=o.select(zt.store).getEntityConfig("postType",e.type);if(!i){o.dispatch(Ht.store).createErrorNotice((0,ue.__)("The editor has encountered an unexpected error. Please reload."),{type:"snackbar"});return}let n=(0,Zk.addQueryArgs)(`${i.baseURL}/${e.id}`,{context:"edit",source:e.origin}),a=await(0,qk.default)({path:n});if(!a){o.dispatch(Ht.store).createErrorNotice((0,ue.__)("The editor has encountered an unexpected error. Please reload."),{type:"snackbar"});return}let c=({blocks:u=[]})=>(0,gm.__unstableSerializeAndClean)(u),l=o.select(zt.store).getEditedEntityRecord("postType",e.type,e.id);o.dispatch(zt.store).editEntityRecord("postType",e.type,e.id,{content:c,blocks:l.blocks,source:"custom"},{undoIgnore:!0});let d=(0,gm.parse)(a?.content?.raw);if(o.dispatch(zt.store).editEntityRecord("postType",e.type,a.id,{content:c,blocks:d,source:"theme"}),t){let u=()=>{o.dispatch(zt.store).editEntityRecord("postType",e.type,l.id,{content:c,blocks:l.blocks,source:"custom"})};o.dispatch(Ht.store).createSuccessNotice((0,ue.__)("Template reset."),{type:"snackbar",id:s,actions:[{label:(0,ue.__)("Undo"),onClick:u}]})}}catch(i){let n=i.message&&i.code!=="unknown_error"?i.message:(0,ue.__)("Template revert failed. Please reload.");o.dispatch(Ht.store).createErrorNotice(n,{type:"snackbar"})}},t9=e=>async({registry:t})=>{let o=e.every(i=>i?.has_theme_file),s=await Promise.allSettled(e.map(i=>t.dispatch(zt.store).deleteEntityRecord("postType",i.type,i.id,{force:!0},{throwOnError:!0})));if(s.every(({status:i})=>i==="fulfilled")){let i;if(e.length===1){let n;typeof e[0].title=="string"?n=e[0].title:typeof e[0].title?.rendered=="string"?n=e[0].title?.rendered:typeof e[0].title?.raw=="string"&&(n=e[0].title?.raw),i=o?(0,ue.sprintf)((0,ue.__)('"%s" reset.'),(0,Yv.decodeEntities)(n)):(0,ue.sprintf)((0,ue._x)('"%s" deleted.',"template part"),(0,Yv.decodeEntities)(n))}else i=o?(0,ue.__)("Items reset."):(0,ue.__)("Items deleted.");t.dispatch(Ht.store).createSuccessNotice(i,{type:"snackbar",id:"editor-template-deleted-success"})}else{let i;if(s.length===1)s[0].reason?.message?i=s[0].reason.message:i=o?(0,ue.__)("An error occurred while reverting the item."):(0,ue.__)("An error occurred while deleting the item.");else{let n=new Set,a=s.filter(({status:c})=>c==="rejected");for(let c of a)c.reason?.message&&n.add(c.reason.message);n.size===0?i=(0,ue.__)("An error occurred while deleting the items."):n.size===1?i=o?(0,ue.sprintf)((0,ue.__)("An error occurred while reverting the items: %s"),[...n][0]):(0,ue.sprintf)((0,ue.__)("An error occurred while deleting the items: %s"),[...n][0]):i=o?(0,ue.sprintf)((0,ue.__)("Some errors occurred while reverting the items: %s"),[...n].join(",")):(0,ue.sprintf)((0,ue.__)("Some errors occurred while deleting the items: %s"),[...n].join(","))}t.dispatch(Ht.store).createErrorNotice(i,{type:"snackbar"})}},o9=e=>({select:t,registry:o})=>{let s=t.getCurrentPostType(),i=o.select(zt.store).getCurrentTheme()?.stylesheet,n=o.select(Vi.store).get("core","renderingModes")?.[i]??{};if(n[s]===e)return;let a={[i]:{...n,[s]:e}};o.dispatch(Vi.store).set("core","renderingModes",a)};function r9(e){return{type:"SET_CANVAS_MIN_HEIGHT",minHeight:e}}var qv={};Cs(qv,{getCanvasMinHeight:()=>g9,getDefaultRenderingMode:()=>h9,getEntityActions:()=>u9,getEntityFields:()=>m9,getInserter:()=>n9,getInserterSidebarToggleRef:()=>l9,getListViewToggleRef:()=>a9,getPostBlocksByName:()=>f9,getPostIcon:()=>c9,hasPostMetaChanges:()=>d9,isEntityReady:()=>p9});var rE=r(Qk()),Hc=r(F()),ts=r(P());var la=r(R()),sE=r(Pe());var Xk=[];function Jk(e,t,o){return e.actions[t]?.[o]??Xk}function eE(e,t,o){return e.fields[t]?.[o]??Xk}function tE(e,t,o){return e.isReady[t]?.[o]}var s9={rootClientId:void 0,insertionIndex:void 0,filterValue:void 0},i9=["post-only","template-locked"],n9=(0,ts.createRegistrySelector)(e=>(0,ts.createSelector)(t=>{if(typeof t.blockInserterPanel=="object")return t.blockInserterPanel;if(fp(t)==="template-locked"){let[o]=e(Hc.store).getBlocksByName("core/post-content");if(o)return{rootClientId:o,insertionIndex:void 0,filterValue:void 0}}return s9},t=>{let[o]=e(Hc.store).getBlocksByName("core/post-content");return[t.blockInserterPanel,fp(t),o]}));function a9(e){return e.listViewToggleRef}function l9(e){return e.inserterSidebarToggleRef}var oE={wp_block:Jl,wp_navigation:V_,page:kn,post:gy},c9=(0,ts.createRegistrySelector)(e=>(t,o,s)=>{{if(o==="wp_template_part"||o==="wp_template"){let a=(e(la.store).getCurrentTheme()?.default_template_part_areas||[]).find(c=>s.area===c.area);return a?.icon?As(a.icon):Lr}if(oE[o])return oE[o];let i=e(la.store).getPostType(o);return typeof i?.icon=="string"&&i.icon.startsWith("dashicons-")?i.icon.slice(10):kn}}),d9=(0,ts.createRegistrySelector)(e=>(t,o,s)=>{let{type:i,id:n}=vt(t),a=e(la.store).getEntityRecordNonTransientEdits("postType",o||i,s||n);if(!a?.meta)return!1;let c=e(la.store).getEntityRecord("postType",o||i,s||n)?.meta;return!(0,rE.default)({...c,footnotes:void 0},{...a.meta,footnotes:void 0})});function u9(e,...t){return Jk(e.dataviews,...t)}function p9(e,...t){return tE(e.dataviews,...t)}function m9(e,...t){return eE(e.dataviews,...t)}var f9=(0,ts.createRegistrySelector)(e=>(0,ts.createSelector)((t,o)=>{o=Array.isArray(o)?o:[o];let{getBlocksByName:s,getBlockParents:i,getBlockName:n}=e(Hc.store);return s(o).filter(a=>i(a).every(c=>{let l=n(c);return l!=="core/query"&&!o.includes(l)}))},()=>[e(Hc.store).getBlocks()])),h9=(0,ts.createRegistrySelector)(e=>(t,o)=>{let{getPostType:s,getCurrentTheme:i,hasFinishedResolution:n}=e(la.store),a=i(),c=s(o);if(!n("getPostType",[o])||!n("getCurrentTheme"))return;let l=a?.stylesheet,d=e(sE.store).get("core","renderingModes")?.[l]?.[o],u=Array.isArray(c?.supports?.editor)?c.supports.editor.find(f=>"default-mode"in f)?.["default-mode"]:void 0,p=d||u;return i9.includes(p)?p:"post-only"});function g9(e){return e.canvasMinHeight}var _c={reducer:Cw,selectors:Py,actions:Ty},m=(0,bm.createReduxStore)(Dw,{..._c});(0,bm.register)(m);k(m).registerPrivateActions(Zv);k(m).registerPrivateSelectors(qv);var b9=e=>(0,cE.createHigherOrderComponent)(t=>({attributes:o,setAttributes:s,...i})=>{let n=(0,nE.useSelect)(d=>d(m).getCurrentPostType(),[]),[a,c]=(0,aE.useEntityProp)("postType",n,"meta"),l=(0,lE.useMemo)(()=>({...o,...Object.fromEntries(Object.entries(e).map(([d,u])=>[d,a[u]]))}),[o,a]);return(0,iE.jsx)(t,{attributes:l,setAttributes:d=>{let u=Object.fromEntries(Object.entries(d??{}).filter(([p])=>p in e).map(([p,f])=>[e[p],f]));Object.entries(u).length&&c(u),s(d)},...i})},"withMetaAttributeSource");function _9(e){let t=Object.fromEntries(Object.entries(e.attributes??{}).filter(([,{source:o}])=>o==="meta").map(([o,{meta:s}])=>[o,s]));return Object.entries(t).length&&(e.edit=b9(t)(e.edit)),e}(0,dE.addFilter)("blocks.registerBlockType","core/editor/custom-sources-backwards-compatibility/shim-attribute-source",_9);var $R=r(_t());var os=r(y()),uE=r(A()),pE=r(P()),mE=r(R());function y9(e){let t=e.avatar_urls&&e.avatar_urls[24]?(0,os.jsx)("img",{className:"editor-autocompleters__user-avatar",alt:"",src:e.avatar_urls[24]}):(0,os.jsx)("span",{className:"editor-autocompleters__no-avatar"});return(0,os.jsxs)(os.Fragment,{children:[t,(0,os.jsx)("span",{className:"editor-autocompleters__user-name",children:e.name}),(0,os.jsx)("span",{className:"editor-autocompleters__user-slug",children:e.slug})]})}var _m={name:"users",className:"editor-autocompleters__user",triggerPrefix:"@",useItems(e){let t=(0,pE.useSelect)(s=>{let{getUsers:i}=s(mE.store);return i({context:"view",search:encodeURIComponent(e)})},[e]);return[(0,uE.useMemo)(()=>t?t.map(s=>({key:`user-${s.slug}`,value:s,label:y9(s)})):[],[t])]},getOptionCompletion(e){return`@${e.slug}`}};var fE=r(A()),hE=r($()),ym=r(P()),gE=r(R());var Kv=class extends fE.Component{constructor(t){super(t),this.needsAutosave=!!(t.isDirty&&t.isAutosaveable)}componentDidMount(){this.props.disableIntervalChecks||this.setAutosaveTimer()}componentDidUpdate(t){if(this.props.disableIntervalChecks){this.props.editsReference!==t.editsReference&&this.props.autosave();return}if(this.props.interval!==t.interval&&(clearTimeout(this.timerId),this.setAutosaveTimer()),!this.props.isDirty){this.needsAutosave=!1;return}if(this.props.isAutosaving&&!t.isAutosaving){this.needsAutosave=!1;return}this.props.editsReference!==t.editsReference&&(this.needsAutosave=!0)}componentWillUnmount(){clearTimeout(this.timerId)}setAutosaveTimer(t=this.props.interval*1e3){this.timerId=setTimeout(()=>{this.autosaveTimerHandler()},t)}autosaveTimerHandler(){if(!this.props.isAutosaveable){this.setAutosaveTimer(1e3);return}this.needsAutosave&&(this.needsAutosave=!1,this.props.autosave()),this.setAutosaveTimer()}render(){return null}},vm=(0,hE.compose)([(0,ym.withSelect)((e,t)=>{let{getReferenceByDistinctEdits:o}=e(gE.store),{isEditedPostDirty:s,isEditedPostAutosaveable:i,isAutosavingPost:n,getEditorSettings:a}=e(m),{interval:c=a().autosaveInterval}=t;return{editsReference:o(),isDirty:s(),isAutosaveable:i(),isAutosaving:n(),interval:c}}),(0,ym.withDispatch)((e,t)=>({autosave(){let{autosave:o=e(m).autosave}=t;o()}}))])(Kv);var Mt=r(y());var da=r(w()),Pm=r(P()),Zo=r(E()),Xv=r(F());var vE=r(to()),SE=r(R()),PE=r(Av()),wm=r(A()),wE=r($()),xE=r(_e()),TE=r(ca());var Qv=r(w()),_E=r(P()),yE=r(R());function Sm(e){let{isFrontPage:t,isPostsPage:o}=(0,_E.useSelect)(s=>{let{canUser:i,getEditedEntityRecord:n}=s(yE.store),a=i("read",{kind:"root",name:"site"})?n("root","site"):void 0,c=parseInt(e,10);return{isFrontPage:a?.page_on_front===c,isPostsPage:a?.page_for_posts===c}});return t?(0,Qv.__)("Homepage"):o?(0,Qv.__)("Posts Page"):!1}var v9=Zo.__unstableMotion.create(Zo.Button);function xm(e){let{postId:t,postType:o,postTypeLabel:s,documentTitle:i,isNotFound:n,templateTitle:a,onNavigateToPreviousEntityRecord:c,isTemplatePreview:l}=(0,Pm.useSelect)(x=>{let{getCurrentPostType:S,getCurrentPostId:C,getEditorSettings:T,getRenderingMode:I}=x(m),{getEditedEntityRecord:N,getPostType:L,getCurrentTheme:V,isResolving:O}=x(SE.store),M=S(),D=C(),j=N("postType",M,D),{default_template_types:U=[]}=V()??{},H=uo({templateTypes:U,template:j}),z=L(M)?.labels?.singular_name;return{postId:D,postType:M,postTypeLabel:z,documentTitle:j.title,isNotFound:!j&&!O("getEditedEntityRecord","postType",M,D),templateTitle:H.title,onNavigateToPreviousEntityRecord:T().onNavigateToPreviousEntityRecord,isTemplatePreview:I()==="template-locked"}},[]),{open:d}=(0,Pm.useDispatch)(PE.store),u=(0,wE.useReducedMotion)(),p=Zb.includes(o),f=!!c,h=p?a:i,g=e.title||h,b=e.icon,_=Sm(t),v=(0,wm.useRef)(!1);return(0,wm.useEffect)(()=>{v.current=!0},[]),(0,Mt.jsxs)("div",{className:W("editor-document-bar",{"has-back-button":f}),children:[(0,Mt.jsx)(Zo.__unstableAnimatePresence,{children:f&&(0,Mt.jsx)(v9,{className:"editor-document-bar__back",icon:(0,da.isRTL)()?s_:o_,onClick:x=>{x.stopPropagation(),c()},size:"compact",initial:v.current?{opacity:0,transform:"translateX(15%)"}:!1,animate:{opacity:1,transform:"translateX(0%)"},exit:{opacity:0,transform:"translateX(15%)"},transition:u?{duration:0}:void 0,children:(0,da.__)("Back")})}),!p&&l&&!f&&(0,Mt.jsx)(Xv.BlockIcon,{icon:Lr,className:"editor-document-bar__icon-layout"}),n?(0,Mt.jsx)(Zo.__experimentalText,{children:(0,da.__)("Document not found")}):(0,Mt.jsxs)(Zo.Button,{className:"editor-document-bar__command",onClick:()=>d(),size:"compact",children:[(0,Mt.jsxs)(Zo.__unstableMotion.div,{className:"editor-document-bar__title",initial:v.current?{opacity:0,transform:f?"translateX(15%)":"translateX(-15%)"}:!1,animate:{opacity:1,transform:"translateX(0%)"},transition:u?{duration:0}:void 0,children:[b&&(0,Mt.jsx)(Xv.BlockIcon,{icon:b}),(0,Mt.jsxs)(Zo.__experimentalText,{size:"body",as:"h1",children:[(0,Mt.jsx)("span",{className:"editor-document-bar__post-title",children:g?(0,TE.__unstableStripHTML)(g):(0,da.__)("No title")}),_&&(0,Mt.jsx)("span",{className:"editor-document-bar__post-type-label",children:`\xB7 ${_}`}),s&&!e.title&&!_&&(0,Mt.jsx)("span",{className:"editor-document-bar__post-type-label",children:`\xB7 ${(0,xE.decodeEntities)(s)}`})]})]},f),(0,Mt.jsx)("span",{className:"editor-document-bar__shortcut",children:vE.displayShortcut.primary("k")})]})]})}var me=r(y()),Ui=r(w()),ua=r(P()),km=r(A()),Em=r(Jv()),Tm=r(F()),EE=r(R()),st=r(E());var ji=r(y());var S9=({children:e,isValid:t,isDisabled:o,level:s,href:i,onSelect:n})=>{function a(c){if(o){c.preventDefault();return}n()}return(0,ji.jsx)("li",{className:W("document-outline__item",`is-${s.toLowerCase()}`,{"is-invalid":!t,"is-disabled":o}),children:(0,ji.jsxs)("a",{href:i,className:"document-outline__button","aria-disabled":o,onClick:a,children:[(0,ji.jsx)("span",{className:"document-outline__emdash","aria-hidden":"true"}),(0,ji.jsx)("strong",{className:"document-outline__level",children:s}),(0,ji.jsx)("span",{className:"document-outline__item-content",children:e})]})})},eS=S9;var P9=(0,me.jsx)("em",{children:(0,Ui.__)("(Empty heading)")}),w9=[(0,me.jsx)("br",{},"incorrect-break"),(0,me.jsx)("em",{children:(0,Ui.__)("(Incorrect heading level)")},"incorrect-message")],x9=[(0,me.jsx)("br",{},"incorrect-break-h1"),(0,me.jsx)("em",{children:(0,Ui.__)("(Your theme may already use a H1 for the post title)")},"incorrect-message-h1")],T9=[(0,me.jsx)("br",{},"incorrect-break-multiple-h1"),(0,me.jsx)("em",{children:(0,Ui.__)("(Multiple H1 headings are not recommended)")},"incorrect-message-multiple-h1")];function k9(){return(0,me.jsxs)(st.SVG,{width:"138",height:"148",viewBox:"0 0 138 148",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,me.jsx)(st.Rect,{width:"138",height:"148",rx:"4",fill:"#F0F6FC"}),(0,me.jsx)(st.Line,{x1:"44",y1:"28",x2:"24",y2:"28",stroke:"#DDDDDD"}),(0,me.jsx)(st.Rect,{x:"48",y:"16",width:"27",height:"23",rx:"4",fill:"#DDDDDD"}),(0,me.jsx)(st.Path,{d:"M54.7585 32V23.2727H56.6037V26.8736H60.3494V23.2727H62.1903V32H60.3494V28.3949H56.6037V32H54.7585ZM67.4574 23.2727V32H65.6122V25.0241H65.5611L63.5625 26.277V24.6406L65.723 23.2727H67.4574Z",fill:"black"}),(0,me.jsx)(st.Line,{x1:"55",y1:"59",x2:"24",y2:"59",stroke:"#DDDDDD"}),(0,me.jsx)(st.Rect,{x:"59",y:"47",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,me.jsx)(st.Path,{d:"M65.7585 63V54.2727H67.6037V57.8736H71.3494V54.2727H73.1903V63H71.3494V59.3949H67.6037V63H65.7585ZM74.6605 63V61.6705L77.767 58.794C78.0313 58.5384 78.2528 58.3082 78.4318 58.1037C78.6136 57.8991 78.7514 57.6989 78.8452 57.5028C78.9389 57.304 78.9858 57.0895 78.9858 56.8594C78.9858 56.6037 78.9276 56.3835 78.8111 56.1989C78.6946 56.0114 78.5355 55.8679 78.3338 55.7685C78.1321 55.6662 77.9034 55.6151 77.6477 55.6151C77.3807 55.6151 77.1477 55.669 76.9489 55.777C76.75 55.8849 76.5966 56.0398 76.4886 56.2415C76.3807 56.4432 76.3267 56.6832 76.3267 56.9616H74.5753C74.5753 56.3906 74.7045 55.8949 74.9631 55.4744C75.2216 55.054 75.5838 54.7287 76.0497 54.4986C76.5156 54.2685 77.0526 54.1534 77.6605 54.1534C78.2855 54.1534 78.8295 54.2642 79.2926 54.4858C79.7585 54.7045 80.1207 55.0085 80.3793 55.3977C80.6378 55.7869 80.767 56.233 80.767 56.7358C80.767 57.0653 80.7017 57.3906 80.571 57.7116C80.4432 58.0327 80.2145 58.3892 79.8849 58.7812C79.5554 59.1705 79.0909 59.6378 78.4915 60.1832L77.2173 61.4318V61.4915H80.8821V63H74.6605Z",fill:"black"}),(0,me.jsx)(st.Line,{x1:"80",y1:"90",x2:"24",y2:"90",stroke:"#DDDDDD"}),(0,me.jsx)(st.Rect,{x:"84",y:"78",width:"30",height:"23",rx:"4",fill:"#F0B849"}),(0,me.jsx)(st.Path,{d:"M90.7585 94V85.2727H92.6037V88.8736H96.3494V85.2727H98.1903V94H96.3494V90.3949H92.6037V94H90.7585ZM99.5284 92.4659V91.0128L103.172 85.2727H104.425V87.2841H103.683L101.386 90.919V90.9872H106.564V92.4659H99.5284ZM103.717 94V92.0227L103.751 91.3793V85.2727H105.482V94H103.717Z",fill:"black"}),(0,me.jsx)(st.Line,{x1:"66",y1:"121",x2:"24",y2:"121",stroke:"#DDDDDD"}),(0,me.jsx)(st.Rect,{x:"70",y:"109",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,me.jsx)(st.Path,{d:"M76.7585 125V116.273H78.6037V119.874H82.3494V116.273H84.1903V125H82.3494V121.395H78.6037V125H76.7585ZM88.8864 125.119C88.25 125.119 87.6832 125.01 87.1861 124.791C86.6918 124.57 86.3011 124.266 86.0142 123.879C85.7301 123.49 85.5838 123.041 85.5753 122.533H87.4332C87.4446 122.746 87.5142 122.933 87.642 123.095C87.7727 123.254 87.946 123.378 88.1619 123.466C88.3778 123.554 88.6207 123.598 88.8906 123.598C89.1719 123.598 89.4205 123.548 89.6364 123.449C89.8523 123.349 90.0213 123.212 90.1435 123.036C90.2656 122.859 90.3267 122.656 90.3267 122.426C90.3267 122.193 90.2614 121.987 90.1307 121.808C90.0028 121.626 89.8182 121.484 89.5767 121.382C89.3381 121.28 89.054 121.229 88.7244 121.229H87.9105V119.874H88.7244C89.0028 119.874 89.2486 119.825 89.4616 119.729C89.6776 119.632 89.8452 119.499 89.9645 119.328C90.0838 119.155 90.1435 118.953 90.1435 118.723C90.1435 118.504 90.0909 118.312 89.9858 118.148C89.8835 117.98 89.7386 117.849 89.5511 117.756C89.3665 117.662 89.1506 117.615 88.9034 117.615C88.6534 117.615 88.4247 117.661 88.2173 117.751C88.0099 117.839 87.8438 117.966 87.7188 118.131C87.5938 118.295 87.527 118.489 87.5185 118.71H85.75C85.7585 118.207 85.902 117.764 86.1804 117.381C86.4588 116.997 86.8338 116.697 87.3054 116.482C87.7798 116.263 88.3153 116.153 88.9119 116.153C89.5142 116.153 90.0412 116.263 90.4929 116.482C90.9446 116.7 91.2955 116.996 91.5455 117.368C91.7983 117.737 91.9233 118.152 91.9205 118.612C91.9233 119.101 91.7713 119.509 91.4645 119.835C91.1605 120.162 90.7642 120.369 90.2756 120.457V120.526C90.9176 120.608 91.4063 120.831 91.7415 121.195C92.0795 121.555 92.2472 122.007 92.2443 122.55C92.2472 123.047 92.1037 123.489 91.8139 123.875C91.527 124.261 91.1307 124.565 90.625 124.787C90.1193 125.009 89.5398 125.119 88.8864 125.119Z",fill:"black"})]})}var E9=(e=[])=>e.filter(t=>t.name==="core/heading").map(t=>({...t,level:t.attributes.level,isEmpty:C9(t)})),C9=e=>!e.attributes.content||e.attributes.content.trim().length===0;function pa({onSelect:e,hasOutlineItemsDisabled:t}){let{selectBlock:o}=(0,ua.useDispatch)(Tm.store),{title:s,isTitleSupported:i}=(0,ua.useSelect)(g=>{let{getEditedPostAttribute:b}=g(m),{getPostType:_}=g(EE.store),v=_(b("type"));return{title:b("title"),isTitleSupported:v?.supports?.title??!1}}),n=(0,ua.useSelect)(g=>{let{getClientIdsWithDescendants:b,getBlock:_}=g(Tm.store);return b().map(x=>_(x))}),a=(0,ua.useSelect)(g=>{if(g(m).getRenderingMode()==="post-only")return;let{getBlocksByName:b,getClientIdsOfDescendants:_}=g(Tm.store),[v]=b("core/post-content");if(v)return _(v)},[]),c=(0,km.useRef)(1),l=(0,km.useMemo)(()=>E9(n),[n]);if(l.length<1)return(0,me.jsxs)("div",{className:"editor-document-outline has-no-headings",children:[(0,me.jsx)(k9,{}),(0,me.jsx)("p",{children:(0,Ui.__)("Navigate the structure of your document and address issues like empty or incorrect heading levels.")})]});let d=document.querySelector(".editor-post-title__input"),u=i&&s&&d,f=l.reduce((g,b)=>({...g,[b.level]:(g[b.level]||0)+1}),{})[1]>1;function h(g){return Array.isArray(a)?a.includes(g):!0}return(0,me.jsx)("div",{className:"document-outline",children:(0,me.jsxs)("ul",{children:[u&&(0,me.jsx)(eS,{level:(0,Ui.__)("Title"),isValid:!0,onSelect:e,href:`#${d.id}`,isDisabled:t,children:s}),l.map(g=>{let b=g.level>c.current+1,_=!g.isEmpty&&!b&&!!g.level&&(g.level!==1||!f&&!u);return c.current=g.level,(0,me.jsxs)(eS,{level:`H${g.level}`,isValid:_,isDisabled:t||!h(g.clientId),href:`#block-${g.clientId}`,onSelect:()=>{o(g.clientId),e?.()},children:[g.isEmpty?P9:(0,Em.getTextContent)((0,Em.create)({html:g.attributes.content})),b&&w9,g.level===1&&f&&T9,u&&g.level===1&&!f&&x9]},g.clientId)})]})})}var CE=r(P()),AE=r(F());function IE({children:e}){return(0,CE.useSelect)(o=>{let{getGlobalBlockCount:s}=o(AE.store);return s("core/heading")>0})?e:null}var RE=r(y()),BE=r(A()),NE=r(P()),qo=r(w()),ME=r(F()),DE=r(Wo()),OE=r(to());function A9(){let{registerShortcut:e}=(0,NE.useDispatch)(DE.store);return(0,BE.useEffect)(()=>{e({name:"core/editor/toggle-mode",category:"global",description:(0,qo.__)("Switch between visual editor and code editor."),keyCombination:{modifier:"secondary",character:"m"}}),e({name:"core/editor/save",category:"global",description:(0,qo.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/editor/undo",category:"global",description:(0,qo.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/editor/redo",category:"global",description:(0,qo.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"},aliases:(0,OE.isAppleOS)()?[]:[{modifier:"primary",character:"y"}]}),e({name:"core/editor/toggle-list-view",category:"global",description:(0,qo.__)("Show or hide the List View."),keyCombination:{modifier:"access",character:"o"}}),e({name:"core/editor/toggle-distraction-free",category:"global",description:(0,qo.__)("Enter or exit distraction free mode."),keyCombination:{modifier:"primaryShift",character:"\\"}}),e({name:"core/editor/toggle-sidebar",category:"global",description:(0,qo.__)("Show or hide the Settings panel."),keyCombination:{modifier:"primaryShift",character:","}}),e({name:"core/editor/keyboard-shortcuts",category:"main",description:(0,qo.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),e({name:"core/editor/next-region",category:"global",description:(0,qo.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),e({name:"core/editor/previous-region",category:"global",description:(0,qo.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]})},[e]),(0,RE.jsx)(ME.BlockEditorKeyboardShortcuts.Register,{})}var LE=A9;var FE=r(y()),Cm=r(w()),VE=r(E()),Am=r(P()),zc=r(to());var jE=r(A());function I9(e,t){let o=(0,zc.isAppleOS)()?zc.displayShortcut.primaryShift("z"):zc.displayShortcut.primary("y"),s=(0,Am.useSelect)(n=>n(m).hasEditorRedo(),[]),{redo:i}=(0,Am.useDispatch)(m);return(0,FE.jsx)(VE.Button,{__next40pxDefaultSize:!0,...e,ref:t,icon:(0,Cm.isRTL)()?ec:Kl,label:(0,Cm.__)("Redo"),shortcut:o,"aria-disabled":!s,onClick:s?i:void 0,className:"editor-history__redo"})}var Im=(0,jE.forwardRef)(I9);var UE=r(y()),Rm=r(w()),HE=r(E()),Bm=r(P()),zE=r(to());var GE=r(A());function R9(e,t){let o=(0,Bm.useSelect)(i=>i(m).hasEditorUndo(),[]),{undo:s}=(0,Bm.useDispatch)(m);return(0,UE.jsx)(HE.Button,{__next40pxDefaultSize:!0,...e,ref:t,icon:(0,Rm.isRTL)()?Kl:ec,label:(0,Rm.__)("Undo"),shortcut:zE.displayShortcut.primary("z"),"aria-disabled":!o,onClick:o?s:void 0,className:"editor-history__undo"})}var Nm=(0,GE.forwardRef)(R9);var Qs=r(y()),oS=r(E()),Om=r(P()),rS=r(he());var Hi=r(y()),Mm=r(E()),ma=r(w()),Dm=r(P()),WE=r(A()),tS=r(F());function $E(){let[e,t]=(0,WE.useState)(!1),o=(0,Dm.useSelect)(n=>n(tS.store).isValidTemplate(),[]),{setTemplateValidity:s,synchronizeTemplate:i}=(0,Dm.useDispatch)(tS.store);return o?null:(0,Hi.jsxs)(Hi.Fragment,{children:[(0,Hi.jsx)(Mm.Notice,{className:"editor-template-validation-notice",isDismissible:!1,status:"warning",actions:[{label:(0,ma.__)("Keep it as is"),onClick:()=>s(!0)},{label:(0,ma.__)("Reset the template"),onClick:()=>t(!0)}],children:(0,ma.__)("The content of your post doesn\u2019t match the template assigned to your post type.")}),(0,Hi.jsx)(Mm.__experimentalConfirmDialog,{isOpen:e,confirmButtonText:(0,ma.__)("Reset"),onConfirm:()=>{t(!1),i()},onCancel:()=>t(!1),size:"medium",children:(0,ma.__)("Resetting the template may result in loss of content, do you want to continue?")})]})}function B9(){let{notices:e}=(0,Om.useSelect)(i=>({notices:i(rS.store).getNotices()}),[]),{removeNotice:t}=(0,Om.useDispatch)(rS.store),o=e.filter(({isDismissible:i,type:n})=>i&&n==="default"),s=e.filter(({isDismissible:i,type:n})=>!i&&n==="default");return(0,Qs.jsxs)(Qs.Fragment,{children:[(0,Qs.jsx)(oS.NoticeList,{notices:s,className:"components-editor-notices__pinned"}),(0,Qs.jsx)(oS.NoticeList,{notices:o,className:"components-editor-notices__dismissible",onRemove:t,children:(0,Qs.jsx)($E,{})})]})}var Gc=B9;var YE=r(y()),ZE=r(E()),Lm=r(P()),sS=r(he()),N9=-3;function qE(){let e=(0,Lm.useSelect)(s=>s(sS.store).getNotices(),[]),{removeNotice:t}=(0,Lm.useDispatch)(sS.store),o=e.filter(({type:s})=>s==="snackbar").slice(N9);return(0,YE.jsx)(ZE.SnackbarList,{notices:o,className:"components-editor-notices__snackbar",onRemove:t})}var it=r(y());var ns=r(E()),is=r(w()),fa=r(A()),Wc=r($()),sC=r(P());var ss=r(y()),zi=r(w()),aS=r(P()),Vm=r(E()),lS=r(R()),JE=r(F()),eC=r(A());var rs=r(y()),Fm=r(E()),iS=r(w()),KE=r(P()),nS=r(R()),QE=r(_e());function XE({record:e,checked:t,onChange:o}){let{name:s,kind:i,title:n,key:a}=e,{entityRecordTitle:c,hasPostMetaChanges:l}=(0,KE.useSelect)(d=>{if(i!=="postType"||s!=="wp_template")return{entityRecordTitle:n,hasPostMetaChanges:k(d(m)).hasPostMetaChanges(s,a)};let u=d(nS.store).getEditedEntityRecord(i,s,a),{default_template_types:p=[]}=d(nS.store).getCurrentTheme()??{};return{entityRecordTitle:uo({template:u,templateTypes:p}).title,hasPostMetaChanges:k(d(m)).hasPostMetaChanges(s,a)}},[s,i,n,a]);return(0,rs.jsxs)(rs.Fragment,{children:[(0,rs.jsx)(Fm.PanelRow,{children:(0,rs.jsx)(Fm.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,QE.decodeEntities)(c)||(0,iS.__)("Untitled"),checked:t,onChange:o,className:"entities-saved-states__change-control"})}),l&&(0,rs.jsx)("ul",{className:"entities-saved-states__changes",children:(0,rs.jsx)("li",{children:(0,iS.__)("Post Meta.")})})]})}var{getGlobalStylesChanges:M9,GlobalStylesContext:D9}=k(JE.privateApis);function O9(e,t){switch(e){case"site":return t===1?(0,zi.__)("This change will affect your whole site."):(0,zi.__)("These changes will affect your whole site.");case"wp_template":return(0,zi.__)("This change will affect other parts of your site that use this template.");case"page":case"post":return(0,zi.__)("The following has been modified.")}}function L9({record:e}){let{user:t}=(0,eC.useContext)(D9),o=(0,aS.useSelect)(i=>i(lS.store).getEntityRecord(e.kind,e.name,e.key),[e.kind,e.name,e.key]),s=M9(t,o,{maxResults:10});return s.length?(0,ss.jsx)("ul",{className:"entities-saved-states__changes",children:s.map(i=>(0,ss.jsx)("li",{children:i},i))}):null}function F9({record:e,count:t}){if(e?.name==="globalStyles")return null;let o=O9(e?.name,t);return o?(0,ss.jsx)(Vm.PanelRow,{children:o}):null}function tC({list:e,unselectedEntities:t,setUnselectedEntities:o}){let s=e.length,i=e[0],a=(0,aS.useSelect)(c=>c(lS.store).getEntityConfig(i.kind,i.name),[i.kind,i.name]).label;return i?.name==="wp_template_part"&&(a=s===1?(0,zi.__)("Template Part"):(0,zi.__)("Template Parts")),(0,ss.jsxs)(Vm.PanelBody,{title:a,initialOpen:!0,className:"entities-saved-states__panel-body",children:[(0,ss.jsx)(F9,{record:i,count:s}),e.map(c=>(0,ss.jsx)(XE,{record:c,checked:!t.some(l=>l.kind===c.kind&&l.name===c.name&&l.key===c.key&&l.property===c.property),onChange:l=>o(c,l)},c.key||c.property)),i?.name==="globalStyles"&&(0,ss.jsx)(L9,{record:i})]})}var oC=r(P()),rC=r(R()),jm=r(A()),Um=()=>{let{editedEntities:e,siteEdits:t,siteEntityConfig:o}=(0,oC.useSelect)(l=>{let{__experimentalGetDirtyEntityRecords:d,getEntityRecordEdits:u,getEntityConfig:p}=l(rC.store);return{editedEntities:d(),siteEdits:u("root","site"),siteEntityConfig:p("root","site")}},[]),s=(0,jm.useMemo)(()=>{let l=e.filter(p=>!(p.kind==="root"&&p.name==="site")),d=o?.meta?.labels??{},u=[];for(let p in t)u.push({kind:"root",name:"site",title:d[p]||p,property:p});return[...l,...u]},[e,t,o]),[i,n]=(0,jm.useState)([]),a=({kind:l,name:d,key:u,property:p},f)=>{n(f?i.filter(h=>h.kind!==l||h.name!==d||h.key!==u||h.property!==p):[...i,{kind:l,name:d,key:u,property:p}])},c=s.length-i.length>0;return{dirtyEntityRecords:s,isDirty:c,setUnselectedEntities:a,unselectedEntities:i}};function V9(e){return e}function Hm({close:e,renderDialog:t,variant:o}){let s=Um();return(0,it.jsx)($c,{close:e,renderDialog:t,variant:o,...s})}function $c({additionalPrompt:e=void 0,close:t,onSave:o=V9,saveEnabled:s=void 0,saveLabel:i=(0,is.__)("Save"),renderDialog:n,dirtyEntityRecords:a,isDirty:c,setUnselectedEntities:l,unselectedEntities:d,variant:u="default"}){let p=(0,fa.useRef)(),{saveDirtyEntities:f}=k((0,sC.useDispatch)(m)),h=a.reduce((D,j)=>{let{name:U}=j;return D[U]||(D[U]=[]),D[U].push(j),D},{}),{site:g,wp_template:b,wp_template_part:_,...v}=h,x=[g,b,_,...Object.values(v)].filter(Array.isArray),S=s??c,C=(0,fa.useCallback)(()=>t(),[t]),[T,I]=(0,Wc.__experimentalUseDialog)({onClose:()=>C()}),N=(0,Wc.useInstanceId)($c,"entities-saved-states__panel-label"),L=(0,Wc.useInstanceId)($c,"entities-saved-states__panel-description"),V=a.length?(0,is.__)("Select the items you want to save."):void 0,O=u==="inline",M=(0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)(ns.FlexItem,{isBlock:!O,as:ns.Button,variant:O?"tertiary":"secondary",size:O?void 0:"compact",onClick:C,children:(0,is.__)("Cancel")}),(0,it.jsx)(ns.FlexItem,{isBlock:!O,as:ns.Button,ref:p,variant:"primary",size:O?void 0:"compact",disabled:!S,accessibleWhenDisabled:!0,onClick:()=>f({onSave:o,dirtyEntityRecords:a,entitiesToSkip:d,close:t}),className:"editor-entities-saved-states__save-button",children:i})]});return(0,it.jsxs)("div",{ref:n?T:void 0,...n&&I,className:W("entities-saved-states__panel",{"is-inline":O}),role:n?"dialog":void 0,"aria-labelledby":n?N:void 0,"aria-describedby":n?L:void 0,children:[!O&&(0,it.jsx)(ns.Flex,{className:"entities-saved-states__panel-header",gap:2,children:M}),(0,it.jsxs)("div",{className:"entities-saved-states__text-prompt",children:[(0,it.jsx)("div",{className:"entities-saved-states__text-prompt--header-wrapper",children:(0,it.jsx)("strong",{id:n?N:void 0,className:"entities-saved-states__text-prompt--header",children:(0,is.__)("Are you ready to save?")})}),(0,it.jsxs)("div",{id:n?L:void 0,children:[e,(0,it.jsx)("p",{className:"entities-saved-states__text-prompt--changes-count",children:c?(0,fa.createInterpolateElement)((0,is.sprintf)((0,is._n)("There is <strong>%d site change</strong> waiting to be saved.","There are <strong>%d site changes</strong> waiting to be saved.",a.length),a.length),{strong:(0,it.jsx)("strong",{})}):V})]})]}),x.map(D=>(0,it.jsx)(tC,{list:D,unselectedEntities:d,setUnselectedEntities:l},D[0].name)),O&&(0,it.jsx)(ns.Flex,{direction:"row",justify:"flex-end",className:"entities-saved-states__panel-footer",children:M})]})}var Xs=r(y()),nC=r(A()),zm=r(w()),Gi=r(E()),aC=r(P()),lC=r($()),cC=r(_t());function j9(){try{return(0,aC.select)(m).getEditedPostContent()}catch{}}function iC({text:e,children:t,variant:o="secondary"}){let s=(0,lC.useCopyToClipboard)(e);return(0,Xs.jsx)(Gi.Button,{__next40pxDefaultSize:!0,variant:o,ref:s,children:t})}var cS=class extends nC.Component{constructor(){super(...arguments),this.state={error:null}}componentDidCatch(t){(0,cC.doAction)("editor.ErrorBoundary.errorLogged",t)}static getDerivedStateFromError(t){return{error:t}}render(){let{error:t}=this.state,{canCopyContent:o=!1}=this.props;return t?(0,Xs.jsxs)(Gi.__experimentalHStack,{className:"editor-error-boundary",alignment:"baseline",spacing:4,justify:"space-between",expanded:!1,wrap:!0,children:[(0,Xs.jsx)(Gi.__experimentalText,{as:"p",children:(0,zm.__)("The editor has encountered an unexpected error.")}),(0,Xs.jsxs)(Gi.__experimentalHStack,{expanded:!1,children:[o&&(0,Xs.jsx)(iC,{text:j9,children:(0,zm.__)("Copy contents")}),(0,Xs.jsx)(iC,{variant:"primary",text:t?.stack,children:(0,zm.__)("Copy error")})]})]}):this.props.children}},dC=cS;var uC=r(y()),as=r(A()),Zc=r($()),ls=r(P()),dS=r(w()),pC=r(ve()),mC=r(he());var U9=window.requestIdleCallback?window.requestIdleCallback:window.requestAnimationFrame,Yc,H9=()=>{if(Yc!==void 0)return Yc;try{window.sessionStorage.setItem("__wpEditorTestSessionStorage",""),window.sessionStorage.removeItem("__wpEditorTestSessionStorage"),Yc=!0}catch{Yc=!1}return Yc};function z9(){let{postId:e,isEditedPostNew:t,hasRemoteAutosave:o}=(0,ls.useSelect)(l=>({postId:l(m).getCurrentPostId(),isEditedPostNew:l(m).isEditedPostNew(),hasRemoteAutosave:!!l(m).getEditorSettings().autosave}),[]),{getEditedPostAttribute:s}=(0,ls.useSelect)(m),{createWarningNotice:i,removeNotice:n}=(0,ls.useDispatch)(mC.store),{editPost:a,resetEditorBlocks:c}=(0,ls.useDispatch)(m);(0,as.useEffect)(()=>{let l=rx(e,t);if(!l)return;try{l=JSON.parse(l)}catch{return}let{post_title:d,content:u,excerpt:p}=l,f={title:d,content:u,excerpt:p};if(!Object.keys(f).some(b=>f[b]!==s(b))){bp(e,t);return}if(o)return;let h="wpEditorAutosaveRestore";i((0,dS.__)("The backup of this post in your browser is different from the version below."),{id:h,actions:[{label:(0,dS.__)("Restore the backup"),onClick(){let{content:g,...b}=f;a(b),c((0,pC.parse)(f.content)),n(h)}}]})},[t,e])}function G9(){let{postId:e,isEditedPostNew:t,isDirty:o,isAutosaving:s,didError:i}=(0,ls.useSelect)(d=>({postId:d(m).getCurrentPostId(),isEditedPostNew:d(m).isEditedPostNew(),isDirty:d(m).isEditedPostDirty(),isAutosaving:d(m).isAutosavingPost(),didError:d(m).didPostSaveRequestFail()}),[]),n=(0,as.useRef)(o),a=(0,as.useRef)(s);(0,as.useEffect)(()=>{!i&&(a.current&&!s||n.current&&!o)&&bp(e,t),n.current=o,a.current=s},[o,s,i]);let c=(0,Zc.usePrevious)(t),l=(0,Zc.usePrevious)(e);(0,as.useEffect)(()=>{l===e&&c&&!t&&bp(e,!0)},[t,e])}function W9(){let{autosave:e}=(0,ls.useDispatch)(m),t=(0,as.useCallback)(()=>{U9(()=>e({local:!0}))},[]);z9(),G9();let o=(0,ls.useSelect)(s=>s(m).getEditorSettings().localAutosaveInterval,[]);return(0,uC.jsx)(vm,{interval:o,autosave:t})}var fC=(0,Zc.ifCondition)(H9)(W9);var hC=r(P()),gC=r(R());function $9({children:e}){return(0,hC.useSelect)(o=>{let{getEditedPostAttribute:s}=o(m),{getPostType:i}=o(gC.store);return!!i(s("type"))?.supports?.["page-attributes"]},[])?e:null}var ha=$9;var ga=r(y()),uS=r(w()),ba=r(E()),Gm=r(P()),yC=r(A());var bC=r(P()),_C=r(R());function Y9(e={},t){if(e[t]!==void 0)return!!e[t];let[o,s]=t.split("."),[i]=Array.isArray(e[o])?e[o]:[];return Array.isArray(i)?i.includes(s):!!i?.[s]}function Z9({children:e,supportKeys:t}){let o=(0,bC.useSelect)(i=>{let{getEditedPostAttribute:n}=i(m),{getPostType:a}=i(_C.store);return a(n("type"))},[]),s=!!o;return o&&(s=(Array.isArray(t)?t:[t]).some(i=>Y9(o.supports,i))),s?e:null}var Ee=Z9;function q9(){let e=(0,Gm.useSelect)(a=>a(m).getEditedPostAttribute("menu_order")??0,[]),{editPost:t}=(0,Gm.useDispatch)(m),[o,s]=(0,yC.useState)(null),i=a=>{s(a);let c=Number(a);Number.isInteger(c)&&a.trim?.()!==""&&t({menu_order:c})},n=o??e;return(0,ga.jsx)(ba.Flex,{children:(0,ga.jsx)(ba.FlexBlock,{children:(0,ga.jsx)(ba.__experimentalNumberControl,{__next40pxDefaultSize:!0,label:(0,uS.__)("Order"),help:(0,uS.__)("Set the page order."),value:n,onChange:i,hideLabelFromVision:!0,onBlur:()=>{s(null)}})})})}function vC(){return(0,ga.jsx)(Ee,{supportKeys:"page-attributes",children:(0,ga.jsx)(q9,{})})}var Ym=r(y()),BC=r(P()),NC=r(R());var Gt=r(y()),mS=r(Cp()),Wt=r(w()),Js=r(E()),kC=r($()),Sr=r(A()),ya=r(P()),hS=r(_e()),$m=r(R()),EC=r(F()),CC=r(ot());var qc=r(y());var SC=r(E()),PC=r(A()),K9=(0,PC.forwardRef)(({className:e,label:t,children:o},s)=>(0,qc.jsxs)(SC.__experimentalHStack,{className:W("editor-post-panel__row",e),ref:s,children:[t&&(0,qc.jsx)("div",{className:"editor-post-panel__row-label",children:t}),(0,qc.jsx)("div",{className:"editor-post-panel__row-control",children:o})]})),ye=K9;var wC=r(_e());function Wm(e){let t=e.map(i=>({children:[],parent:void 0,...i}));if(t.some(({parent:i})=>i===void 0))return t;let o=t.reduce((i,n)=>{let{parent:a}=n;return i[a]||(i[a]=[]),i[a].push(n),i},{}),s=i=>i.map(n=>{let a=o[n.id];return{...n,children:a&&a.length?s(a):[]}});return s(o[0]||[])}var _a=e=>(0,wC.decodeEntities)(e),pS=e=>({...e,name:_a(e.name)}),xC=e=>(e??[]).map(pS);function fS(e){return e?.title?.rendered?(0,hS.decodeEntities)(e.title.rendered):`#${e.id} (${(0,Wt.__)("no title")})`}var TC=(e,t)=>{let o=(0,mS.default)(e||"").toLowerCase(),s=(0,mS.default)(t||"").toLowerCase();return o===s?0:o.startsWith(s)?o.length:1/0};function AC(){let{editPost:e}=(0,ya.useDispatch)(m),[t,o]=(0,Sr.useState)(!1),{isHierarchical:s,parentPostId:i,parentPostTitle:n,pageItems:a,isLoading:c}=(0,ya.useSelect)(p=>{let{getPostType:f,getEntityRecords:h,getEntityRecord:g,isResolving:b}=p($m.store),{getCurrentPostId:_,getEditedPostAttribute:v}=p(m),x=v("type"),S=v("parent"),C=f(x),T=_(),I=C?.hierarchical??!1,N={per_page:100,exclude:T,parent_exclude:T,orderby:"menu_order",order:"asc",_fields:"id,title,parent"};t&&(N.search=t);let L=S?g("postType",x,S):null;return{isHierarchical:I,parentPostId:S,parentPostTitle:L?fS(L):"",pageItems:I?h("postType",x,N):null,isLoading:I?b("getEntityRecords",["postType",x,N]):!1}},[t]),l=(0,Sr.useMemo)(()=>{let p=(b,_=0)=>b.map(S=>[{value:S.id,label:"\u2014 ".repeat(_)+(0,hS.decodeEntities)(S.name),rawName:S.name},...p(S.children||[],_+1)]).sort(([S],[C])=>{let T=TC(S.rawName,t),I=TC(C.rawName,t);return T>=I?1:-1}).flat();if(!a)return[];let f=a.map(b=>({id:b.id,parent:b.parent,name:fS(b)}));t||(f=Wm(f));let h=p(f),g=h.find(b=>b.value===i);return n&&!g&&h.unshift({value:i,label:n}),h},[a,t,n,i]);if(!s)return null;let d=p=>{o(p)},u=p=>{e({parent:p})};return(0,Gt.jsx)(Js.ComboboxControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,className:"editor-page-attributes__parent",label:(0,Wt.__)("Parent"),help:(0,Wt.__)("Choose a parent page."),value:i,options:l,onFilterValueChange:(0,kC.debounce)(d,300),onChange:u,hideLabelFromVision:!0,isLoading:c})}function Q9({isOpen:e,onClick:t}){let o=(0,ya.useSelect)(i=>{let{getEditedPostAttribute:n}=i(m),a=n("parent");if(!a)return null;let{getEntityRecord:c}=i($m.store),l=n("type");return c("postType",l,a)},[]),s=(0,Sr.useMemo)(()=>o?fS(o):(0,Wt.__)("None"),[o]);return(0,Gt.jsx)(Js.Button,{size:"compact",className:"editor-post-parent__panel-toggle",variant:"tertiary","aria-expanded":e,"aria-label":(0,Wt.sprintf)((0,Wt.__)("Change parent: %s"),s),onClick:t,children:s})}function IC(){let e=(0,ya.useSelect)(i=>i($m.store).getEntityRecord("root","__unstableBase")?.home,[]),[t,o]=(0,Sr.useState)(null),s=(0,Sr.useMemo)(()=>({anchor:t,placement:"left-start",offset:36,shift:!0}),[t]);return(0,Gt.jsx)(ye,{label:(0,Wt.__)("Parent"),ref:o,children:(0,Gt.jsx)(Js.Dropdown,{popoverProps:s,className:"editor-post-parent__panel-dropdown",contentClassName:"editor-post-parent__panel-dialog",focusOnMount:!0,renderToggle:({isOpen:i,onToggle:n})=>(0,Gt.jsx)(Q9,{isOpen:i,onClick:n}),renderContent:({onClose:i})=>(0,Gt.jsxs)("div",{className:"editor-post-parent",children:[(0,Gt.jsx)(EC.__experimentalInspectorPopoverHeader,{title:(0,Wt.__)("Parent"),onClose:i}),(0,Gt.jsxs)("div",{children:[(0,Sr.createInterpolateElement)((0,Wt.sprintf)((0,Wt.__)('Child pages inherit characteristics from their parent, such as URL structure. For instance, if "Pricing" is a child of "Services", its URL would be %s<wbr />/services<wbr />/pricing.'),(0,CC.filterURLForDisplay)(e).replace(/([/.])/g,"<wbr />$1")),{wbr:(0,Gt.jsx)("wbr",{})}),(0,Gt.jsx)("p",{children:(0,Sr.createInterpolateElement)((0,Wt.__)("They also show up as sub-items in the default navigation menu. <a>Learn more.</a>"),{a:(0,Gt.jsx)(Js.ExternalLink,{href:(0,Wt.__)("https://wordpress.org/documentation/article/page-post-settings-sidebar/#page-attributes")})})})]}),(0,Gt.jsx)(AC,{})]})})})}var RC=AC;var X9="page-attributes";function J9(){let{isEnabled:e,postType:t}=(0,BC.useSelect)(o=>{let{getEditedPostAttribute:s,isEditorPanelEnabled:i}=o(m),{getPostType:n}=o(NC.store);return{isEnabled:i(X9),postType:n(s("type"))}},[]);return!e||!t?null:(0,Ym.jsx)(IC,{})}function Zm(){return(0,Ym.jsx)(ha,{children:(0,Ym.jsx)(J9,{})})}var $t=r(y()),wo=r(w()),ds=r(E()),Sa=r(P()),vS=r(R()),OC=r(F()),Pa=r(A());var LC=r(he());var cs=r(y());var qm=r(P()),bS=r(A()),Ko=r(ve()),Qo=r(E()),Wi=r(w());var gS=(0,Wi.__)("Custom Template");function Km({onClose:e}){let{defaultBlockTemplate:t,onNavigateToEntityRecord:o}=(0,qm.useSelect)(u=>{let{getEditorSettings:p,getCurrentTemplateId:f}=u(m);return{defaultBlockTemplate:p().defaultBlockTemplate,onNavigateToEntityRecord:p().onNavigateToEntityRecord,getTemplateId:f}}),{createTemplate:s}=k((0,qm.useDispatch)(m)),[i,n]=(0,bS.useState)(""),[a,c]=(0,bS.useState)(!1),l=()=>{n(""),e()},d=async u=>{if(u.preventDefault(),a)return;c(!0);let p=t??(0,Ko.serialize)([(0,Ko.createBlock)("core/group",{tagName:"header",layout:{inherit:!0}},[(0,Ko.createBlock)("core/site-title"),(0,Ko.createBlock)("core/site-tagline")]),(0,Ko.createBlock)("core/separator"),(0,Ko.createBlock)("core/group",{tagName:"main"},[(0,Ko.createBlock)("core/group",{layout:{inherit:!0}},[(0,Ko.createBlock)("core/post-title")]),(0,Ko.createBlock)("core/post-content",{layout:{inherit:!0}})])]),f=await s({slug:Ei(i||gS)||"wp-custom-template",content:p,title:i||gS,status:"publish"});c(!1),o({postId:f.id,postType:"wp_template"}),l()};return(0,cs.jsx)(Qo.Modal,{title:(0,Wi.__)("Create custom template"),onRequestClose:l,focusOnMount:"firstContentElement",size:"small",overlayClassName:"editor-post-template__create-template-modal",children:(0,cs.jsx)("form",{className:"editor-post-template__create-form",onSubmit:d,children:(0,cs.jsxs)(Qo.__experimentalVStack,{spacing:"3",children:[(0,cs.jsx)(Qo.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,Wi.__)("Name"),value:i,onChange:n,placeholder:gS,disabled:a,help:(0,Wi.__)('Describe the template, e.g. "Post with sidebar". A custom template can be manually applied to any post or page.')}),(0,cs.jsxs)(Qo.__experimentalHStack,{justify:"right",children:[(0,cs.jsx)(Qo.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:l,children:(0,Wi.__)("Cancel")}),(0,cs.jsx)(Qo.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",isBusy:a,"aria-disabled":a,children:(0,Wi.__)("Create")})]})]})})})}var Kc=r(P()),MC=r(A()),Qm=r(R());function va(){return(0,Kc.useSelect)(e=>{let{getCurrentPostId:t,getCurrentPostType:o}=e(m);return{postId:t(),postType:o()}},[])}function $i(){let{postType:e,postId:t}=va();return(0,Kc.useSelect)(o=>{let{canUser:s,getEntityRecord:i,getEntityRecords:n}=o(Qm.store),a=s("read",{kind:"root",name:"site"})?i("root","site"):void 0,c=+t===a?.page_for_posts,l=e==="page"&&+t===a?.page_on_front,d=l?n("postType","wp_template",{per_page:-1}):[],u=l&&!!d?.some(({slug:p})=>p==="front-page");return!c&&!u},[t,e])}function DC(e){return(0,Kc.useSelect)(t=>t(Qm.store).getEntityRecords("postType","wp_template",{per_page:-1,post_type:e}),[e])}function _S(e){let t=yS(),o=$i(),s=DC(e);return(0,MC.useMemo)(()=>o&&s?.filter(i=>(i.is_custom||i.type==="wp_template")&&i.slug!==t&&!!i.content.raw),[s,t,o])}function yS(){let{postType:e,postId:t}=va(),o=DC(e),s=(0,Kc.useSelect)(i=>i(Qm.store).getEditedEntityRecord("postType",e,t)?.template,[e,t]);if(s)return o?.find(i=>i.slug===s)?.slug}function eV({isOpen:e,onClick:t}){let o=(0,Sa.useSelect)(s=>{let i=s(m).getEditedPostAttribute("template"),{supportsTemplateMode:n,availableTemplates:a}=s(m).getEditorSettings();if(!n&&a[i])return a[i];let c=s(vS.store).canUser("create",{kind:"postType",name:"wp_template"})&&s(m).getCurrentTemplateId();return c?.title||c?.slug||a?.[i]},[]);return(0,$t.jsx)(ds.Button,{__next40pxDefaultSize:!0,variant:"tertiary","aria-expanded":e,"aria-label":(0,wo.__)("Template options"),onClick:t,children:o??(0,wo.__)("Default template")})}function tV({onClose:e}){let t=$i(),{availableTemplates:o,fetchedTemplates:s,selectedTemplateSlug:i,canCreate:n,canEdit:a,currentTemplateId:c,onNavigateToEntityRecord:l,getEditorSettings:d}=(0,Sa.useSelect)(_=>{let{canUser:v,getEntityRecords:x}=_(vS.store),S=_(m).getEditorSettings(),C=v("create",{kind:"postType",name:"wp_template"}),T=_(m).getCurrentTemplateId();return{availableTemplates:S.availableTemplates,fetchedTemplates:C?x("postType","wp_template",{post_type:_(m).getCurrentPostType(),per_page:-1}):void 0,selectedTemplateSlug:_(m).getEditedPostAttribute("template"),canCreate:t&&C&&S.supportsTemplateMode,canEdit:t&&C&&S.supportsTemplateMode&&!!T,currentTemplateId:T,onNavigateToEntityRecord:S.onNavigateToEntityRecord,getEditorSettings:_(m).getEditorSettings}},[t]),u=(0,Pa.useMemo)(()=>Object.entries({...o,...Object.fromEntries((s??[]).map(({slug:_,title:v})=>[_,v.rendered]))}).map(([_,v])=>({value:_,label:v})),[o,s]),p=u.find(_=>_.value===i)??u.find(_=>!_.value),{editPost:f}=(0,Sa.useDispatch)(m),{createSuccessNotice:h}=(0,Sa.useDispatch)(LC.store),[g,b]=(0,Pa.useState)(!1);return(0,$t.jsxs)("div",{className:"editor-post-template__classic-theme-dropdown",children:[(0,$t.jsx)(OC.__experimentalInspectorPopoverHeader,{title:(0,wo.__)("Template"),help:(0,wo.__)("Templates define the way content is displayed when viewing your site."),actions:n?[{icon:Kb,label:(0,wo.__)("Add template"),onClick:()=>b(!0)}]:[],onClose:e}),t?(0,$t.jsx)(ds.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:!0,label:(0,wo.__)("Template"),value:p?.value??"",options:u,onChange:_=>f({template:_||""})}):(0,$t.jsx)(ds.Notice,{status:"warning",isDismissible:!1,children:(0,wo.__)("The posts page template cannot be changed.")}),a&&l&&(0,$t.jsx)("p",{children:(0,$t.jsx)(ds.Button,{__next40pxDefaultSize:!0,variant:"link",onClick:()=>{l({postId:c,postType:"wp_template"}),e(),h((0,wo.__)("Editing template. Changes made here affect all posts and pages that use the template."),{type:"snackbar",actions:[{label:(0,wo.__)("Go back"),onClick:()=>d().onNavigateToPreviousEntityRecord()}]})},children:(0,wo.__)("Edit template")})}),g&&(0,$t.jsx)(Km,{onClose:()=>b(!1)})]})}function oV(){let[e,t]=(0,Pa.useState)(null),o=(0,Pa.useMemo)(()=>({anchor:e,className:"editor-post-template__dropdown",placement:"left-start",offset:36,shift:!0}),[e]);return(0,$t.jsx)(ye,{label:(0,wo.__)("Template"),ref:t,children:(0,$t.jsx)(ds.Dropdown,{popoverProps:o,focusOnMount:!0,renderToggle:({isOpen:s,onToggle:i})=>(0,$t.jsx)(eV,{isOpen:s,onClick:i}),renderContent:({onClose:s})=>(0,$t.jsx)(tV,{onClose:s})})})}var Xm=oV;var ti=r(y()),tf=r(E()),GC=r(js()),of=r(P()),WC=r(VC());var SS=r(y()),HC=r(E());var jC=r(y()),Jm=r(P()),UC=r(Pe());var{PreferenceBaseOption:rV}=k(UC.privateApis);function ei(e){let{toggleEditorPanelEnabled:t}=(0,Jm.useDispatch)(m),{isChecked:o,isRemoved:s}=(0,Jm.useSelect)(i=>{let{isEditorPanelEnabled:n,isEditorPanelRemoved:a}=i(m);return{isChecked:n(e.panelName),isRemoved:a(e.panelName)}},[e.panelName]);return s?null:(0,jC.jsx)(rV,{isChecked:o,onChange:()=>t(e.panelName),...e})}var{Fill:sV,Slot:iV}=(0,HC.createSlotFill)("EnablePluginDocumentSettingPanelOption"),zC=({label:e,panelName:t})=>(0,SS.jsx)(sV,{children:(0,SS.jsx)(ei,{label:e,panelName:t})});zC.Slot=iV;var ef=zC;var{Fill:nV,Slot:aV}=(0,tf.createSlotFill)("PluginDocumentSettingPanel"),$C=({name:e,className:t,title:o,icon:s,children:i})=>{let{name:n}=(0,GC.usePluginContext)(),a=`${n}/${e}`,{opened:c,isEnabled:l}=(0,of.useSelect)(u=>{let{isEditorPanelOpened:p,isEditorPanelEnabled:f}=u(m);return{opened:p(a),isEnabled:f(a)}},[a]),{toggleEditorPanelOpened:d}=(0,of.useDispatch)(m);return e===void 0&&(0,WC.default)("PluginDocumentSettingPanel requires a name property."),(0,ti.jsxs)(ti.Fragment,{children:[(0,ti.jsx)(ef,{label:o,panelName:a}),(0,ti.jsx)(nV,{children:l&&(0,ti.jsx)(tf.PanelBody,{className:t,title:o,icon:s,opened:c,onToggle:()=>d(a),children:i})})]})};$C.Slot=aV;var rf=$C;var PS=r(y()),YC=r(F()),ZC=r(E()),qC=r($()),lV=(e,t)=>e.filter(o=>!t.includes(o)).length===0,cV=(e,t)=>!Array.isArray(t)||lV(e,t),dV=({allowedBlocks:e,icon:t,label:o,onClick:s,small:i,role:n})=>(0,PS.jsx)(YC.BlockSettingsMenuControls,{children:({selectedBlocks:a,onClose:c})=>cV(a,e)?(0,PS.jsx)(ZC.MenuItem,{onClick:(0,qC.compose)(s,c),icon:t,label:i?o:void 0,role:n,children:!i&&o}):null}),KC=dV;var QC=r(y()),XC=r(E()),JC=r(js());function e2(e){let t=(0,JC.usePluginContext)();return(0,QC.jsx)(yo,{name:"core/plugin-more-menu",as:e.as??XC.MenuItem,icon:e.icon||t.icon,...e})}var wS=r(y()),t2=r(js()),sf=r(E()),{Fill:uV,Slot:pV}=(0,sf.createSlotFill)("PluginPostPublishPanel"),o2=({children:e,className:t,title:o,initialOpen:s=!1,icon:i})=>{let{icon:n}=(0,t2.usePluginContext)();return(0,wS.jsx)(uV,{children:(0,wS.jsx)(sf.PanelBody,{className:t,initialOpen:s||!o,title:o,icon:i??n,children:e})})};o2.Slot=pV;var nf=o2;var xS=r(y()),af=r(E()),{Fill:mV,Slot:fV}=(0,af.createSlotFill)("PluginPostStatusInfo"),r2=({children:e,className:t})=>(0,xS.jsx)(mV,{children:(0,xS.jsx)(af.PanelRow,{className:t,children:e})});r2.Slot=fV;var lf=r2;var TS=r(y()),cf=r(E()),s2=r(js()),{Fill:hV,Slot:gV}=(0,cf.createSlotFill)("PluginPrePublishPanel"),i2=({children:e,className:t,title:o,initialOpen:s=!1,icon:i})=>{let{icon:n}=(0,s2.usePluginContext)();return(0,TS.jsx)(hV,{children:(0,TS.jsx)(cf.PanelBody,{className:t,initialOpen:s||!o,title:o,icon:i??n,children:e})})};i2.Slot=gV;var df=i2;var n2=r(y()),a2=r(E()),l2=r(js());function c2(e){let t=(0,l2.usePluginContext)();return(0,n2.jsx)(yo,{name:"core/plugin-preview-menu",as:e.as??a2.MenuItem,icon:e.icon||t.icon,...e})}var d2=r(y());function Yi({className:e,...t}){return(0,d2.jsx)(oa,{panelClassName:e,className:"editor-sidebar",scope:"core",...t})}var u2=r(y());function p2(e){return(0,u2.jsx)(ea,{__unstableExplicitMenuItem:!0,scope:"core",...e})}var kS=r(y()),pf=r(P()),mf=r(R());var Yt=r(y()),us=r(P()),M2=r(_e()),oi=r(E()),uf=r(A()),qi=r(w()),ka=r(R());var D2=r(he()),O2=r(Pe());var oo=r(y()),xa=r(A()),g2=r(_e()),b2=r(F()),Ta=r(E()),wa=r(w()),_2=r(P()),y2=r(R()),v2=r(ve());var f2=r(Cp());function m2(e=""){return e=(0,f2.default)(e),e=e.trim().toLowerCase(),e}function bV(e,t){let o=m2(t),s=m2(e.title),i=0;return o===s?i+=30:s.startsWith(o)?i+=20:o.split(" ").every(c=>s.includes(c))&&(i+=10),i}function h2(e=[],t=""){if(!t)return e;let o=e.map(s=>[s,bV(s,t)]).filter(([,s])=>s>0);return o.sort(([,s],[,i])=>i-s),o.map(([s])=>s)}function S2({onClick:e}){let[t,o]=(0,xa.useState)(!1),{postType:s,postId:i}=va(),n=_S(s),{editEntityRecord:a}=(0,_2.useDispatch)(y2.store),c=async l=>{a("postType",s,i,{template:l.name},{undoIgnore:!0}),o(!1),e()};return(0,oo.jsxs)(oo.Fragment,{children:[(0,oo.jsx)(Ta.MenuItem,{disabled:!n?.length,accessibleWhenDisabled:!0,onClick:()=>o(!0),children:(0,wa.__)("Change template")}),t&&(0,oo.jsx)(Ta.Modal,{title:(0,wa.__)("Choose a template"),onRequestClose:()=>o(!1),overlayClassName:"editor-post-template__swap-template-modal",isFullScreen:!0,children:(0,oo.jsx)("div",{className:"editor-post-template__swap-template-modal-content",children:(0,oo.jsx)(_V,{postType:s,onSelect:c})})})]})}function _V({postType:e,onSelect:t}){let[o,s]=(0,xa.useState)(""),i=_S(e),n=(0,xa.useMemo)(()=>i.map(c=>({name:c.slug,blocks:(0,v2.parse)(c.content.raw),title:(0,g2.decodeEntities)(c.title.rendered),id:c.id})),[i]),a=(0,xa.useMemo)(()=>h2(n,o),[n,o]);return(0,oo.jsxs)(oo.Fragment,{children:[(0,oo.jsx)(Ta.SearchControl,{__nextHasNoMarginBottom:!0,onChange:s,value:o,label:(0,wa.__)("Search"),placeholder:(0,wa.__)("Search"),className:"editor-post-template__swap-template-search"}),(0,oo.jsx)(b2.__experimentalBlockPatternsList,{label:(0,wa.__)("Templates"),blockPatterns:a,onClickPattern:t})]})}var P2=r(y()),w2=r(E()),x2=r(w()),T2=r(P()),k2=r(R());function E2({onClick:e}){let t=yS(),o=$i(),{postType:s,postId:i}=va(),{editEntityRecord:n}=(0,T2.useDispatch)(k2.store);return!t||!o?null:(0,P2.jsx)(w2.MenuItem,{onClick:()=>{n("postType",s,i,{template:""},{undoIgnore:!0}),e()},children:(0,x2.__)("Use default template")})}var Zi=r(y()),C2=r(E()),A2=r(w()),I2=r(P()),R2=r(R()),B2=r(A());function N2(){let{canCreateTemplates:e}=(0,I2.useSelect)(i=>{let{canUser:n}=i(R2.store);return{canCreateTemplates:n("create",{kind:"postType",name:"wp_template"})}},[]),[t,o]=(0,B2.useState)(!1),s=$i();return!e||!s?null:(0,Zi.jsxs)(Zi.Fragment,{children:[(0,Zi.jsx)(C2.MenuItem,{onClick:()=>{o(!0)},children:(0,A2.__)("Create new template")}),t&&(0,Zi.jsx)(Km,{onClose:()=>{o(!1)}})]})}function L2({id:e}){let{isTemplateHidden:t,onNavigateToEntityRecord:o,getEditorSettings:s,hasGoBack:i,hasSpecificTemplate:n}=(0,us.useSelect)(C=>{let{getRenderingMode:T,getEditorSettings:I,getCurrentPost:N}=k(C(m)),L=I(),V=N();return{isTemplateHidden:T()==="post-only",onNavigateToEntityRecord:L.onNavigateToEntityRecord,getEditorSettings:I,hasGoBack:L.hasOwnProperty("onNavigateToPreviousEntityRecord"),hasSpecificTemplate:!!V.template}},[]),{get:a}=(0,us.useSelect)(O2.store),{editedRecord:c,hasResolved:l}=(0,ka.useEntityRecord)("postType","wp_template",e),{getEntityRecord:d}=(0,us.useSelect)(ka.store),{editEntityRecord:u}=(0,us.useDispatch)(ka.store),{createSuccessNotice:p}=(0,us.useDispatch)(D2.store),{setRenderingMode:f,setDefaultRenderingMode:h}=k((0,us.useDispatch)(m)),g=(0,us.useSelect)(C=>!!C(ka.store).canUser("create",{kind:"postType",name:"wp_template"}),[]),[b,_]=(0,uf.useState)(null),v=(0,uf.useMemo)(()=>({anchor:b,className:"editor-post-template__dropdown",placement:"left-start",offset:36,shift:!0}),[b]);if(!l)return null;let x=i?[{label:(0,qi.__)("Go back"),onClick:()=>s().onNavigateToPreviousEntityRecord()}]:void 0,S=()=>{a("core/edit-site","welcomeGuideTemplate")||p((0,qi.__)("Editing template. Changes made here affect all posts and pages that use the template."),{type:"snackbar",actions:x})};return(0,Yt.jsx)(ye,{label:(0,qi.__)("Template"),ref:_,children:(0,Yt.jsx)(oi.DropdownMenu,{popoverProps:v,focusOnMount:!0,toggleProps:{size:"compact",variant:"tertiary",tooltipPosition:"middle left"},label:(0,qi.__)("Template options"),text:(0,M2.decodeEntities)(c.title),icon:null,children:({onClose:C})=>(0,Yt.jsxs)(Yt.Fragment,{children:[(0,Yt.jsxs)(oi.MenuGroup,{children:[g&&(0,Yt.jsx)(oi.MenuItem,{onClick:async()=>{if(o({postId:c.id,postType:"wp_template"}),!n){let T=await d("root","site").active_templates;T[c.slug]!==c.id&&u("root","site",void 0,{active_templates:{...T,[c.slug]:c.id}})}C(),S()},children:(0,qi.__)("Edit template")}),(0,Yt.jsx)(S2,{onClick:C}),(0,Yt.jsx)(E2,{onClick:C}),g&&(0,Yt.jsx)(N2,{})]}),(0,Yt.jsx)(oi.MenuGroup,{children:(0,Yt.jsx)(oi.MenuItem,{icon:t?void 0:Jt,isSelected:!t,role:"menuitemcheckbox",onClick:()=>{let T=t?"template-locked":"post-only";f(T),h(T)},children:(0,qi.__)("Show template")})})]})})})}function ff(){let{templateId:e,isBlockTheme:t}=(0,pf.useSelect)(i=>{let{getCurrentTemplateId:n,getEditorSettings:a}=i(m);return{templateId:n(),isBlockTheme:a().__unstableIsBlockBasedTheme}},[]),o=(0,pf.useSelect)(i=>{let n=i(m).getCurrentPostType();if(!i(mf.store).getPostType(n)?.viewable)return!1;let c=i(m).getEditorSettings();return!!c.availableTemplates&&Object.keys(c.availableTemplates).length>0?!0:c.supportsTemplateMode?i(mf.store).canUser("create",{kind:"postType",name:"wp_template"})??!1:!1},[]),s=(0,pf.useSelect)(i=>i(mf.store).canUser("read",{kind:"postType",name:"wp_template"})??!1,[]);return(!t||!s)&&o?(0,kS.jsx)(Xm,{}):t&&e?(0,kS.jsx)(L2,{id:e}):null}var CS=r(y()),eA=r(P()),tA=r(R());var H2=r(y()),z2=r($()),G2=r(A()),W2=r(P()),$2=r(w()),Y2=r(E());var F2=r(w()),V2=r(A()),j2=r(P()),ES=r(_e()),U2=r(R());var Qc={_fields:"id,name",context:"view"},hf={who:"authors",per_page:100,...Qc};function gf(e){let{authorId:t,authors:o,postAuthor:s,isLoading:i}=(0,j2.useSelect)(a=>{let{getUser:c,getUsers:l,isResolving:d}=a(U2.store),{getEditedPostAttribute:u}=a(m),p=u("author"),f={...hf};return e&&(f.search=e,f.search_columns=["name"]),{authorId:p,authors:l(f),postAuthor:c(p,Qc),isLoading:d("getUsers",[f])}},[e]),n=(0,V2.useMemo)(()=>{let a=(o??[]).map(d=>({value:d.id,label:(0,ES.decodeEntities)(d.name)})),c=a.findIndex(({value:d})=>s?.id===d),l=[];return c<0&&s?l=[{value:s.id,label:(0,ES.decodeEntities)(s.name)}]:c<0&&!s&&(l=[{value:0,label:(0,F2.__)("(No author)")}]),[...l,...a]},[o,s]);return{authorId:t,authorOptions:n,postAuthor:s,isLoading:i}}function Z2(){let[e,t]=(0,G2.useState)(),{editPost:o}=(0,W2.useDispatch)(m),{authorId:s,authorOptions:i,isLoading:n}=gf(e),a=c=>{c&&o({author:c})};return(0,H2.jsx)(Y2.ComboboxControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,$2.__)("Author"),options:i,value:s,onFilterValueChange:(0,z2.debounce)(t,300),onChange:a,allowReset:!1,hideLabelFromVision:!0,isLoading:n})}var q2=r(y()),K2=r(w()),Q2=r(P()),X2=r(E());function J2(){let{editPost:e}=(0,Q2.useDispatch)(m),{authorId:t,authorOptions:o}=gf(),s=i=>{let n=Number(i);e({author:n})};return(0,q2.jsx)(X2.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,className:"post-author-selector",label:(0,K2.__)("Author"),options:o,onChange:s,value:t,hideLabelFromVision:!0})}var yV=25;function vV(){return(0,eA.useSelect)(t=>t(tA.store).getUsers(hf)?.length>=yV,[])?(0,CS.jsx)(Z2,{}):(0,CS.jsx)(J2,{})}var bf=vV;var oA=r(y()),rA=r(P());function _f({children:e}){let{hasAssignAuthorAction:t}=(0,rA.useSelect)(o=>({hasAssignAuthorAction:!!o(m).getCurrentPost()?._links?.["wp:action-assign-author"]}),[]);return t?(0,oA.jsx)(Ee,{supportKeys:"author",children:e}):null}var Pr=r(y()),Ki=r(w()),yf=r(E()),vf=r(A()),sA=r(_e()),iA=r(F()),nA=r(P()),aA=r(R());function SV({isOpen:e,onClick:t}){let{postAuthor:o}=(0,nA.useSelect)(i=>{let n=i(m).getEditedPostAttribute("author");return{postAuthor:i(aA.store).getUser(n,Qc)}},[]),s=(0,sA.decodeEntities)(o?.name)||(0,Ki.__)("(No author)");return(0,Pr.jsx)(yf.Button,{size:"compact",className:"editor-post-author__panel-toggle",variant:"tertiary","aria-expanded":e,"aria-label":(0,Ki.sprintf)((0,Ki.__)("Change author: %s"),s),onClick:t,children:s})}function PV(){let[e,t]=(0,vf.useState)(null),o=(0,vf.useMemo)(()=>({anchor:e,placement:"left-start",offset:36,shift:!0}),[e]);return(0,Pr.jsx)(_f,{children:(0,Pr.jsx)(ye,{label:(0,Ki.__)("Author"),ref:t,children:(0,Pr.jsx)(yf.Dropdown,{popoverProps:o,contentClassName:"editor-post-author__panel-dialog",focusOnMount:!0,renderToggle:({isOpen:s,onToggle:i})=>(0,Pr.jsx)(SV,{isOpen:s,onClick:i}),renderContent:({onClose:s})=>(0,Pr.jsxs)("div",{className:"editor-post-author",children:[(0,Pr.jsx)(iA.__experimentalInspectorPopoverHeader,{title:(0,Ki.__)("Author"),onClose:s}),(0,Pr.jsx)(bf,{onClose:s})]})})})})}var Sf=PV;var Pf=r(y()),ri=r(w()),wf=r(E()),xf=r(P());var wV=[{label:(0,ri._x)("Open",'Adjective: e.g. "Comments are open"'),value:"open",description:(0,ri.__)("Visitors can add new comments and replies.")},{label:(0,ri.__)("Closed"),value:"closed",description:[(0,ri.__)("Visitors cannot add new comments or replies."),(0,ri.__)("Existing comments remain visible.")].join(" ")}];function xV(){let e=(0,xf.useSelect)(s=>s(m).getEditedPostAttribute("comment_status")??"open",[]),{editPost:t}=(0,xf.useDispatch)(m),o=s=>t({comment_status:s});return(0,Pf.jsx)("form",{children:(0,Pf.jsx)(wf.__experimentalVStack,{spacing:4,children:(0,Pf.jsx)(wf.RadioControl,{className:"editor-change-status__options",hideLabelFromVision:!0,label:(0,ri.__)("Comment status"),options:wV,onChange:o,selected:e})})})}var Tf=xV;var Dt=r(y()),Xo=r(w()),Ea=r(E()),IS=r(P()),If=r(A()),lA=r(F()),cA=r(R());var AS=r(y()),kf=r(w()),Ef=r(E()),Cf=r(P());function TV(){let e=(0,Cf.useSelect)(s=>s(m).getEditedPostAttribute("ping_status")??"open",[]),{editPost:t}=(0,Cf.useDispatch)(m),o=()=>t({ping_status:e==="open"?"closed":"open"});return(0,AS.jsx)(Ef.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,kf.__)("Enable pingbacks & trackbacks"),checked:e==="open",onChange:o,help:(0,AS.jsx)(Ef.ExternalLink,{href:(0,kf.__)("https://wordpress.org/documentation/article/trackbacks-and-pingbacks/"),children:(0,kf.__)("Learn more about pingbacks & trackbacks")})})}var Af=TV;var kV="discussion-panel";function EV({onClose:e}){return(0,Dt.jsxs)("div",{className:"editor-post-discussion",children:[(0,Dt.jsx)(lA.__experimentalInspectorPopoverHeader,{title:(0,Xo.__)("Discussion"),onClose:e}),(0,Dt.jsxs)(Ea.__experimentalVStack,{spacing:4,children:[(0,Dt.jsx)(Ee,{supportKeys:"comments",children:(0,Dt.jsx)(Tf,{})}),(0,Dt.jsx)(Ee,{supportKeys:"trackbacks",children:(0,Dt.jsx)(Af,{})})]})]})}function CV({isOpen:e,onClick:t}){let{commentStatus:o,pingStatus:s,commentsSupported:i,trackbacksSupported:n}=(0,IS.useSelect)(c=>{let{getEditedPostAttribute:l}=c(m),{getPostType:d}=c(cA.store),u=d(l("type"));return{commentStatus:l("comment_status")??"open",pingStatus:l("ping_status")??"open",commentsSupported:!!u.supports.comments,trackbacksSupported:!!u.supports.trackbacks}},[]),a;return o==="open"?s==="open"?a=(0,Xo._x)("Open",'Adjective: e.g. "Comments are open"'):a=n?(0,Xo.__)("Comments only"):(0,Xo._x)("Open",'Adjective: e.g. "Comments are open"'):s==="open"?a=i?(0,Xo.__)("Pings only"):(0,Xo.__)("Pings enabled"):a=(0,Xo.__)("Closed"),(0,Dt.jsx)(Ea.Button,{size:"compact",className:"editor-post-discussion__panel-toggle",variant:"tertiary","aria-label":(0,Xo.__)("Change discussion options"),"aria-expanded":e,onClick:t,children:a})}function Rf(){let{isEnabled:e}=(0,IS.useSelect)(i=>{let{isEditorPanelEnabled:n}=i(m);return{isEnabled:n(kV)}},[]),[t,o]=(0,If.useState)(null),s=(0,If.useMemo)(()=>({anchor:t,placement:"left-start",offset:36,shift:!0}),[t]);return e?(0,Dt.jsx)(Ee,{supportKeys:["comments","trackbacks"],children:(0,Dt.jsx)(ye,{label:(0,Xo.__)("Discussion"),ref:o,children:(0,Dt.jsx)(Ea.Dropdown,{popoverProps:s,className:"editor-post-discussion__panel-dropdown",contentClassName:"editor-post-discussion__panel-dialog",focusOnMount:!0,renderToggle:({isOpen:i,onToggle:n})=>(0,Dt.jsx)(CV,{isOpen:i,onClick:n}),renderContent:({onClose:i})=>(0,Dt.jsx)(EV,{onClose:i})})})}):null}var Bf=r(y()),Ca=r(w()),Nf=r(E()),Mf=r(P()),dA=r(A()),uA=r(_e());function Xc({hideLabelFromVision:e=!1,updateOnBlur:t=!1}){let{excerpt:o,shouldUseDescriptionLabel:s,usedAttribute:i}=(0,Mf.useSelect)(u=>{let{getCurrentPostType:p,getEditedPostAttribute:f}=u(m),h=p(),g=["wp_template","wp_template_part"].includes(h)?"description":"excerpt";return{excerpt:f(g),shouldUseDescriptionLabel:["wp_template","wp_template_part","wp_block"].includes(h),usedAttribute:g}},[]),{editPost:n}=(0,Mf.useDispatch)(m),[a,c]=(0,dA.useState)((0,uA.decodeEntities)(o)),l=u=>{n({[i]:u})},d=s?(0,Ca.__)("Write a description (optional)"):(0,Ca.__)("Write an excerpt (optional)");return(0,Bf.jsx)("div",{className:"editor-post-excerpt",children:(0,Bf.jsx)(Nf.TextareaControl,{__nextHasNoMarginBottom:!0,label:d,hideLabelFromVision:e,className:"editor-post-excerpt__textarea",onChange:t?c:l,onBlur:t?()=>l(a):void 0,value:t?a:o,help:s?(0,Ca.__)("Write a description"):(0,Bf.jsx)(Nf.ExternalLink,{href:(0,Ca.__)("https://wordpress.org/documentation/article/page-post-settings-sidebar/#excerpt"),children:(0,Ca.__)("Learn more about manual excerpts")})})})}var pA=r(y());function AV({children:e}){return(0,pA.jsx)(Ee,{supportKeys:"excerpt",children:e})}var Qi=AV;var Ce=r(y()),ps=r(w()),Jo=r(E()),ed=r(P()),Lf=r(A()),fA=r(F()),BS=r(R()),hA=r(_e());var RS=r(y()),Df=r(E()),{Fill:IV,Slot:RV}=(0,Df.createSlotFill)("PluginPostExcerpt"),mA=({children:e,className:t})=>(0,RS.jsx)(IV,{children:(0,RS.jsx)(Df.PanelRow,{className:t,children:e})});mA.Slot=RV;var Jc=mA;var Of="post-excerpt";function BV(){let{isOpened:e,isEnabled:t,postType:o}=(0,ed.useSelect)(a=>{let{isEditorPanelOpened:c,isEditorPanelEnabled:l,getCurrentPostType:d}=a(m);return{isOpened:c(Of),isEnabled:l(Of),postType:d()}},[]),{toggleEditorPanelOpened:s}=(0,ed.useDispatch)(m),i=()=>s(Of);if(!t)return null;let n=["wp_template","wp_template_part","wp_block"].includes(o);return(0,Ce.jsx)(Jo.PanelBody,{title:n?(0,ps.__)("Description"):(0,ps.__)("Excerpt"),opened:e,onToggle:i,children:(0,Ce.jsx)(Jc.Slot,{children:a=>(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Xc,{}),a]})})})}function gA(){return(0,Ce.jsx)(Qi,{children:(0,Ce.jsx)(BV,{})})}function bA(){return(0,Ce.jsx)(Qi,{children:(0,Ce.jsx)(NV,{})})}function NV(){let{shouldRender:e,excerpt:t,shouldBeUsedAsDescription:o,allowEditing:s}=(0,ed.useSelect)(p=>{let{getCurrentPostType:f,getCurrentPostId:h,getEditedPostAttribute:g,isEditorPanelEnabled:b}=p(m),_=f(),v=["wp_template","wp_template_part"].includes(_),x=_==="wp_block",S=v||x,T=g(v?"description":"excerpt"),I=v&&p(BS.store).getEntityRecord("postType",_,h()),N=!T&&v?uo({template:I,templateTypes:p(BS.store).getCurrentTheme()?.default_template_types})?.description:void 0,L=b(Of)||S;return{excerpt:T??N,shouldRender:L,shouldBeUsedAsDescription:S,allowEditing:L&&(!S||x||I&&I.source===du.custom&&!I.has_theme_file&&I.is_custom)}},[]),[i,n]=(0,Lf.useState)(null),a=o?(0,ps.__)("Description"):(0,ps.__)("Excerpt"),c=(0,Lf.useMemo)(()=>({anchor:i,"aria-label":a,headerTitle:a,placement:"left-start",offset:36,shift:!0}),[i,a]);if(!e)return!1;let l=!!t&&(0,Ce.jsx)(Jo.__experimentalText,{align:"left",numberOfLines:4,truncate:s,children:(0,hA.decodeEntities)(t)});if(!s)return l;let d=o?(0,ps.__)("Add a description\u2026"):(0,ps.__)("Add an excerpt\u2026"),u=o?(0,ps.__)("Edit description"):(0,ps.__)("Edit excerpt");return(0,Ce.jsxs)(Jo.__experimentalVStack,{children:[l,(0,Ce.jsx)(Jo.Dropdown,{className:"editor-post-excerpt__dropdown",contentClassName:"editor-post-excerpt__dropdown__content",popoverProps:c,focusOnMount:!0,ref:n,renderToggle:({onToggle:p})=>(0,Ce.jsx)(Jo.Button,{__next40pxDefaultSize:!0,onClick:p,variant:"link",children:l?u:d}),renderContent:({onClose:p})=>(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(fA.__experimentalInspectorPopoverHeader,{title:a,onClose:p}),(0,Ce.jsx)(Jo.__experimentalVStack,{spacing:4,children:(0,Ce.jsx)(Jc.Slot,{children:f=>(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Xc,{hideLabelFromVision:!0,updateOnBlur:!0}),f]})})})]})})]})}var mt=r(y());var ro=r(w()),MS=r(_t()),Tt=r(E()),SA=r(Op()),Vf=r(A()),PA=r($()),Aa=r(P()),Xi=r(F()),wA=r(R());var NS=r(y());var _A=r(P()),yA=r(R());function Ff({children:e,supportKeys:t}){let{postType:o,themeSupports:s}=(0,_A.useSelect)(n=>({postType:n(m).getEditedPostAttribute("type"),themeSupports:n(yA.store).getThemeSupports()}),[]);return(Array.isArray(t)?t:[t]).some(n=>{let a=s?.[n]??!1;return n==="post-thumbnails"&&Array.isArray(a)?a.includes(o):a})?e:null}function MV({children:e}){return(0,NS.jsx)(Ff,{supportKeys:"post-thumbnails",children:(0,NS.jsx)(Ee,{supportKeys:"thumbnail",children:e})})}var ms=MV;var vA=["image"],DV=(0,ro.__)("Featured image"),OV=(0,ro.__)("Add a featured image"),LV=(0,mt.jsx)("p",{children:(0,ro.__)("To edit the featured image, you need permission to upload media.")});function FV(e,t){if(!e)return{};let o=(0,MS.applyFilters)("editor.PostFeaturedImage.imageSize","large",e.id,t);if(o in(e?.media_details?.sizes??{}))return{mediaWidth:e.media_details.sizes[o].width,mediaHeight:e.media_details.sizes[o].height,mediaSourceUrl:e.media_details.sizes[o].source_url};let s=(0,MS.applyFilters)("editor.PostFeaturedImage.imageSize","thumbnail",e.id,t);return s in(e?.media_details?.sizes??{})?{mediaWidth:e.media_details.sizes[s].width,mediaHeight:e.media_details.sizes[s].height,mediaSourceUrl:e.media_details.sizes[s].source_url}:{mediaWidth:e.media_details.width,mediaHeight:e.media_details.height,mediaSourceUrl:e.source_url}}function VV({currentPostId:e,featuredImageId:t,onUpdateImage:o,onRemoveImage:s,media:i,postType:n,noticeUI:a,noticeOperations:c,isRequestingFeaturedImageMedia:l}){let d=(0,Vf.useRef)(!1),[u,p]=(0,Vf.useState)(!1),{getSettings:f}=(0,Aa.useSelect)(Xi.store),{mediaSourceUrl:h}=FV(i,e);function g(x){f().mediaUpload({allowedTypes:vA,filesList:x,onFileChange([S]){if((0,SA.isBlobURL)(S?.url)){p(!0);return}S&&o(S),p(!1)},onError(S){c.removeAllNotices(),c.createErrorNotice(S)},multiple:!1})}function b(x){return x.alt_text?(0,ro.sprintf)((0,ro.__)("Current image: %s"),x.alt_text):(0,ro.sprintf)((0,ro.__)("The current image has no alternative text. The file name is: %s"),x.media_details.sizes?.full?.file||x.slug)}function _(x){d.current&&x&&(x.focus(),d.current=!1)}let v=!l&&!!t&&!i;return(0,mt.jsxs)(ms,{children:[a,(0,mt.jsxs)("div",{className:"editor-post-featured-image",children:[i&&(0,mt.jsx)("div",{id:`editor-post-featured-image-${t}-describedby`,className:"hidden",children:b(i)}),(0,mt.jsx)(Xi.MediaUploadCheck,{fallback:LV,children:(0,mt.jsx)(Xi.MediaUpload,{title:n?.labels?.featured_image||DV,onSelect:o,unstableFeaturedImageFlow:!0,allowedTypes:vA,modalClass:"editor-post-featured-image__media-modal",render:({open:x})=>(0,mt.jsxs)("div",{className:"editor-post-featured-image__container",children:[v?(0,mt.jsx)(Tt.Notice,{status:"warning",isDismissible:!1,children:(0,ro.__)("Could not retrieve the featured image data.")}):(0,mt.jsxs)(Tt.Button,{__next40pxDefaultSize:!0,ref:_,className:t?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:x,"aria-label":t?(0,ro.__)("Edit or replace the featured image"):null,"aria-describedby":t?`editor-post-featured-image-${t}-describedby`:null,"aria-haspopup":"dialog",disabled:u,accessibleWhenDisabled:!0,children:[!!t&&i&&(0,mt.jsx)("img",{className:"editor-post-featured-image__preview-image",src:h,alt:b(i)}),(u||l)&&(0,mt.jsx)(Tt.Spinner,{}),!t&&!u&&(n?.labels?.set_featured_image||OV)]}),!!t&&(0,mt.jsxs)(Tt.__experimentalHStack,{className:W("editor-post-featured-image__actions",{"editor-post-featured-image__actions-missing-image":v,"editor-post-featured-image__actions-is-requesting-image":l}),children:[(0,mt.jsx)(Tt.Button,{__next40pxDefaultSize:!0,className:"editor-post-featured-image__action",onClick:x,"aria-haspopup":"dialog",variant:v?"secondary":void 0,children:(0,ro.__)("Replace")}),(0,mt.jsx)(Tt.Button,{__next40pxDefaultSize:!0,className:"editor-post-featured-image__action",onClick:()=>{s(),d.current=!0},variant:v?"secondary":void 0,isDestructive:v,children:(0,ro.__)("Remove")})]}),(0,mt.jsx)(Tt.DropZone,{onFilesDrop:g})]}),value:t})})]})]})}var jV=(0,Aa.withSelect)(e=>{let{getEntityRecord:t,getPostType:o,hasFinishedResolution:s}=e(wA.store),{getCurrentPostId:i,getEditedPostAttribute:n}=e(m),a=n("featured_media");return{media:a?t("postType","attachment",a,{context:"view"}):null,currentPostId:i(),postType:o(n("type")),featuredImageId:a,isRequestingFeaturedImageMedia:!!a&&!s("getEntityRecord",["postType","attachment",a,{context:"view"}])}}),UV=(0,Aa.withDispatch)((e,{noticeOperations:t},{select:o})=>{let{editPost:s}=e(m);return{onUpdateImage(i){s({featured_media:i.id})},onDropImage(i){o(Xi.store).getSettings().mediaUpload({allowedTypes:["image"],filesList:i,onFileChange([n]){s({featured_media:n.id})},onError(n){t.removeAllNotices(),t.createErrorNotice(n)},multiple:!1})},onRemoveImage(){s({featured_media:0})}}}),td=(0,PA.compose)(Tt.withNotices,jV,UV,(0,Tt.withFilters)("editor.PostFeaturedImage"))(VV);var Ia=r(y()),xA=r(w()),TA=r(E()),jf=r(P()),kA=r(R());var DS="featured-image";function Uf({withPanelBody:e=!0}){let{postType:t,isEnabled:o,isOpened:s}=(0,jf.useSelect)(n=>{let{getEditedPostAttribute:a,isEditorPanelEnabled:c,isEditorPanelOpened:l}=n(m),{getPostType:d}=n(kA.store);return{postType:d(a("type")),isEnabled:c(DS),isOpened:l(DS)}},[]),{toggleEditorPanelOpened:i}=(0,jf.useDispatch)(m);return o?e?(0,Ia.jsx)(ms,{children:(0,Ia.jsx)(TA.PanelBody,{title:t?.labels?.featured_image??(0,xA.__)("Featured image"),opened:s,onToggle:()=>i(DS),children:(0,Ia.jsx)(td,{})})}):(0,Ia.jsx)(ms,{children:(0,Ia.jsx)(td,{})}):null}var Ji=r(y()),Ot=r(w()),Hf=r(E()),zf=r(P()),AA=r($()),IA=r(R());var EA=r(y()),CA=r(P());function Ra({children:e}){return(0,CA.useSelect)(o=>o(m).getEditorSettings().disablePostFormats,[])?null:(0,EA.jsx)(Ee,{supportKeys:"post-formats",children:e})}var od=[{id:"aside",caption:(0,Ot.__)("Aside")},{id:"audio",caption:(0,Ot.__)("Audio")},{id:"chat",caption:(0,Ot.__)("Chat")},{id:"gallery",caption:(0,Ot.__)("Gallery")},{id:"image",caption:(0,Ot.__)("Image")},{id:"link",caption:(0,Ot.__)("Link")},{id:"quote",caption:(0,Ot.__)("Quote")},{id:"standard",caption:(0,Ot.__)("Standard")},{id:"status",caption:(0,Ot.__)("Status")},{id:"video",caption:(0,Ot.__)("Video")}].sort((e,t)=>{let o=e.caption.toUpperCase(),s=t.caption.toUpperCase();return o<s?-1:o>s?1:0});function rd(){let t=`post-format-selector-${(0,AA.useInstanceId)(rd)}`,{postFormat:o,suggestedFormat:s,supportedFormats:i}=(0,zf.useSelect)(d=>{let{getEditedPostAttribute:u,getSuggestedPostFormat:p}=d(m),f=u("format"),h=d(IA.store).getThemeSupports();return{postFormat:f??"standard",suggestedFormat:p(),supportedFormats:h.formats}},[]),n=od.filter(d=>i?.includes(d.id)||o===d.id),a=n.find(d=>d.id===s),{editPost:c}=(0,zf.useDispatch)(m),l=d=>c({format:d});return(0,Ji.jsx)(Ra,{children:(0,Ji.jsxs)("div",{className:"editor-post-format",children:[(0,Ji.jsx)(Hf.RadioControl,{className:"editor-post-format__options",label:(0,Ot.__)("Post Format"),selected:o,onChange:d=>l(d),id:t,options:n.map(d=>({label:d.caption,value:d.id})),hideLabelFromVision:!0}),a&&a.id!==o&&(0,Ji.jsx)("p",{className:"editor-post-format__suggestion",children:(0,Ji.jsx)(Hf.Button,{__next40pxDefaultSize:!0,variant:"link",onClick:()=>l(a.id),children:(0,Ot.sprintf)((0,Ot.__)("Apply suggested format: %s"),a.caption)})})]})})}var Ba=r(y()),sd=r(w()),OS=r(E()),NA=r(P());var LS=r(ot());var RA=r(y()),BA=r(P());function HV({children:e}){let{lastRevisionId:t,revisionsCount:o}=(0,BA.useSelect)(s=>{let{getCurrentPostLastRevisionId:i,getCurrentPostRevisionsCount:n}=s(m);return{lastRevisionId:i(),revisionsCount:n()}},[]);return!t||o<2?null:(0,RA.jsx)(Ee,{supportKeys:"revisions",children:e})}var en=HV;function MA(){return(0,NA.useSelect)(e=>{let{getCurrentPostLastRevisionId:t,getCurrentPostRevisionsCount:o}=e(m);return{lastRevisionId:t(),revisionsCount:o()}},[])}function zV(){let{lastRevisionId:e,revisionsCount:t}=MA();return(0,Ba.jsx)(en,{children:(0,Ba.jsx)(OS.Button,{__next40pxDefaultSize:!0,href:(0,LS.addQueryArgs)("revision.php",{revision:e}),className:"editor-post-last-revision__title",icon:_i,iconPosition:"right",text:(0,sd.sprintf)((0,sd.__)("Revisions (%s)"),t)})})}function DA(){let{lastRevisionId:e,revisionsCount:t}=MA();return(0,Ba.jsx)(en,{children:(0,Ba.jsx)(ye,{label:(0,sd.__)("Revisions"),children:(0,Ba.jsx)(OS.Button,{href:(0,LS.addQueryArgs)("revision.php",{revision:e}),className:"editor-private-post-last-revision__button",text:t,variant:"tertiary",size:"compact"})})})}var Gf=zV;var Wf=r(y()),OA=r(E());function GV(){return(0,Wf.jsx)(en,{children:(0,Wf.jsx)(OA.PanelBody,{className:"editor-post-last-revision__panel",children:(0,Wf.jsx)(Gf,{})})})}var LA=GV;var et=r(y()),kt=r(w()),so=r(E()),$f=r(P()),FS=r(ot()),id=r(A()),Na=r(_t()),FA=r($()),VA=r(R());function jA(){let t="core/editor/post-locked-modal-"+(0,FA.useInstanceId)(jA),{autosave:o,updatePostLock:s}=(0,$f.useDispatch)(m),{isLocked:i,isTakeover:n,user:a,postId:c,postLockUtils:l,activePostLock:d,postType:u,previewLink:p,supportsSync:f}=(0,$f.useSelect)(x=>{let{isPostLocked:S,isPostLockTakeover:C,getPostLockUser:T,getCurrentPostId:I,getCurrentPostType:N,getActivePostLock:L,getEditedPostAttribute:V,getEditedPostPreviewLink:O,getEditorSettings:M}=x(m),{getPostType:D,getEntityConfig:j}=x(VA.store),U=N();return{isLocked:S(),isTakeover:C(),user:T(),postId:I(),postLockUtils:M().postLockUtils,activePostLock:L(),postType:D(V("type")),previewLink:O(),supportsSync:!!j("postType",U)?.syncConfig}},[]);if((0,id.useEffect)(()=>{function x(T){i||(T["wp-refresh-post-lock"]={lock:d,post_id:c})}function S(T){if(!T["wp-refresh-post-lock"])return;let I=T["wp-refresh-post-lock"];I.lock_error?(o(),s({isLocked:!0,isTakeover:!0,user:{name:I.lock_error.name,avatar:I.lock_error.avatar_src_2x}})):I.new_lock&&s({isLocked:!1,activePostLock:I.new_lock})}function C(){if(i||!d)return;let T=new window.FormData;if(T.append("action","wp-remove-post-lock"),T.append("_wpnonce",l.unlockNonce),T.append("post_ID",c),T.append("active_post_lock",d),window.navigator.sendBeacon)window.navigator.sendBeacon(l.ajaxUrl,T);else{let I=new window.XMLHttpRequest;I.open("POST",l.ajaxUrl,!1),I.send(T)}}return(0,Na.addAction)("heartbeat.send",t,x),(0,Na.addAction)("heartbeat.tick",t,S),window.addEventListener("beforeunload",C),()=>{(0,Na.removeAction)("heartbeat.send",t),(0,Na.removeAction)("heartbeat.tick",t),window.removeEventListener("beforeunload",C)}},[]),!i||window.__experimentalEnableSync&&f)return null;let h=a.name,g=a.avatar,b=(0,FS.addQueryArgs)("post.php",{"get-post-lock":"1",lockKey:!0,post:c,action:"edit",_wpnonce:l.nonce}),_=(0,FS.addQueryArgs)("edit.php",{post_type:u?.slug}),v=(0,kt.__)("Exit editor");return(0,et.jsx)(so.Modal,{title:n?(0,kt.__)("Someone else has taken over this post"):(0,kt.__)("This post is already being edited"),focusOnMount:!0,shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,isDismissible:!1,className:"editor-post-locked-modal",size:"medium",children:(0,et.jsxs)(so.__experimentalHStack,{alignment:"top",spacing:6,children:[!!g&&(0,et.jsx)("img",{src:g,alt:(0,kt.__)("Avatar"),className:"editor-post-locked-modal__avatar",width:64,height:64}),(0,et.jsxs)("div",{children:[!!n&&(0,et.jsx)("p",{children:(0,id.createInterpolateElement)(h?(0,kt.sprintf)((0,kt.__)("<strong>%s</strong> now has editing control of this post (<PreviewLink />). Don\u2019t worry, your changes up to this moment have been saved."),h):(0,kt.__)("Another user now has editing control of this post (<PreviewLink />). Don\u2019t worry, your changes up to this moment have been saved."),{strong:(0,et.jsx)("strong",{}),PreviewLink:(0,et.jsx)(so.ExternalLink,{href:p,children:(0,kt.__)("preview")})})}),!n&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("p",{children:(0,id.createInterpolateElement)(h?(0,kt.sprintf)((0,kt.__)("<strong>%s</strong> is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over."),h):(0,kt.__)("Another user is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over."),{strong:(0,et.jsx)("strong",{}),PreviewLink:(0,et.jsx)(so.ExternalLink,{href:p,children:(0,kt.__)("preview")})})}),(0,et.jsx)("p",{children:(0,kt.__)("If you take over, the other user will lose editing control to the post, but their changes will be saved.")})]}),(0,et.jsxs)(so.__experimentalHStack,{className:"editor-post-locked-modal__buttons",justify:"flex-end",children:[!n&&(0,et.jsx)(so.Button,{__next40pxDefaultSize:!0,variant:"tertiary",href:b,children:(0,kt.__)("Take over")}),(0,et.jsx)(so.Button,{__next40pxDefaultSize:!0,variant:"primary",href:_,children:v})]})]})]})})}var UA=(0,so.withFilters)("editor.PostLockedModal")(jA);var VS=r(y()),zA=r(w()),GA=r(E()),Zf=r(P());var HA=r(P());function WV({children:e}){let{hasPublishAction:t,isPublished:o}=(0,HA.useSelect)(s=>{let{isCurrentPostPublished:i,getCurrentPost:n}=s(m);return{hasPublishAction:n()._links?.["wp:action-publish"]??!1,isPublished:i()}},[]);return o||!t?null:e}var Yf=WV;function $V(){let e=(0,Zf.useSelect)(s=>s(m).getEditedPostAttribute("status"),[]),{editPost:t}=(0,Zf.useDispatch)(m),o=()=>{t({status:e==="pending"?"draft":"pending"})};return(0,VS.jsx)(Yf,{children:(0,VS.jsx)(GA.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,zA.__)("Pending review"),checked:e==="pending",onChange:o})})}var WA=$V;var xo=r(y()),$A=r(A()),fs=r(E()),Ma=r(w()),qf=r(P()),YA=r(_t()),ZA=r(R());function YV(e){let t=(0,$A.renderToString)((0,xo.jsxs)("div",{className:"editor-post-preview-button__interstitial-message",children:[(0,xo.jsxs)(fs.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 96 96",children:[(0,xo.jsx)(fs.Path,{className:"outer",d:"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36",fill:"none"}),(0,xo.jsx)(fs.Path,{className:"inner",d:"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z",fill:"none"})]}),(0,xo.jsx)("p",{children:(0,Ma.__)("Generating preview\u2026")})]}));t+=`
		<style>
			body {
				margin: 0;
			}
			.editor-post-preview-button__interstitial-message {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				height: 100vh;
				width: 100vw;
			}
			@-webkit-keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			@-moz-keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			@-o-keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			@keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			.editor-post-preview-button__interstitial-message svg {
				width: 192px;
				height: 192px;
				stroke: #555d66;
				stroke-width: 0.75;
			}
			.editor-post-preview-button__interstitial-message svg .outer,
			.editor-post-preview-button__interstitial-message svg .inner {
				stroke-dasharray: 280;
				stroke-dashoffset: 280;
				-webkit-animation: paint 1.5s ease infinite alternate;
				-moz-animation: paint 1.5s ease infinite alternate;
				-o-animation: paint 1.5s ease infinite alternate;
				animation: paint 1.5s ease infinite alternate;
			}
			p {
				text-align: center;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
			}
		</style>
	`,t=(0,YA.applyFilters)("editor.PostPreview.interstitialMarkup",t),e.write(t),e.title=(0,Ma.__)("Generating preview\u2026"),e.close()}function Da({className:e,textContent:t,forceIsAutosaveable:o,role:s,onPreview:i}){let{postId:n,currentPostLink:a,previewLink:c,isSaveable:l,isViewable:d}=(0,qf.useSelect)(g=>{let b=g(m),x=g(ZA.store).getPostType(b.getCurrentPostType("type"))?.viewable??!1;return x?{postId:b.getCurrentPostId(),currentPostLink:b.getCurrentPostAttribute("link"),previewLink:b.getEditedPostPreviewLink(),isSaveable:b.isEditedPostSaveable(),isViewable:x}:{isViewable:x}},[]),{__unstableSaveForPreview:u}=(0,qf.useDispatch)(m);if(!d)return null;let p=`wp-preview-${n}`;return(0,xo.jsx)(fs.Button,{variant:e?void 0:"tertiary",className:e||"editor-post-preview",href:c||a,target:p,accessibleWhenDisabled:!0,disabled:!l,onClick:async g=>{g.preventDefault();let b=window.open("",p);b.focus(),YV(b.document);let _=await u({forceIsAutosaveable:o});b.location=_,i?.()},role:s,size:"compact",children:t||(0,xo.jsxs)(xo.Fragment,{children:[(0,Ma._x)("Preview","imperative verb"),(0,xo.jsx)(fs.VisuallyHidden,{as:"span",children:(0,Ma.__)("(opens in a new tab)")})]})})}var Oa=r(y()),XA=r(E()),JA=r(A()),Qf=r(P()),e5=r($());var si=r(w()),qA=r(P()),KA=r($());function Kf(){let e=(0,KA.useViewportMatch)("medium","<"),{isPublished:t,isBeingScheduled:o,isSaving:s,isPublishing:i,hasPublishAction:n,isAutosaving:a,hasNonPostEntityChanges:c,postStatusHasChanged:l,postStatus:d}=(0,qA.useSelect)(u=>{let{isCurrentPostPublished:p,isEditedPostBeingScheduled:f,isSavingPost:h,isPublishingPost:g,getCurrentPost:b,getCurrentPostType:_,isAutosavingPost:v,getPostEdits:x,getEditedPostAttribute:S}=u(m);return{isPublished:p(),isBeingScheduled:f(),isSaving:h(),isPublishing:g(),hasPublishAction:b()._links?.["wp:action-publish"]??!1,postType:_(),isAutosaving:v(),hasNonPostEntityChanges:u(m).hasNonPostEntityChanges(),postStatusHasChanged:!!x()?.status,postStatus:S("status")}},[]);return i?(0,si.__)("Publishing\u2026"):(t||o)&&s&&!a?(0,si.__)("Saving\u2026"):n?c||t||l&&!["future","publish"].includes(d)||!l&&d==="future"?(0,si.__)("Save"):o?(0,si.__)("Schedule"):(0,si.__)("Publish"):e?(0,si.__)("Publish"):(0,si.__)("Submit for Review")}var QA=()=>{},jS=class extends JA.Component{constructor(t){super(t),this.createOnClick=this.createOnClick.bind(this),this.closeEntitiesSavedStates=this.closeEntitiesSavedStates.bind(this),this.state={entitiesSavedStatesCallback:!1}}createOnClick(t){return(...o)=>{let{hasNonPostEntityChanges:s,setEntitiesSavedStatesCallback:i}=this.props;return s&&i?(this.setState({entitiesSavedStatesCallback:()=>t(...o)}),i(()=>this.closeEntitiesSavedStates),QA):t(...o)}}closeEntitiesSavedStates(t){let{postType:o,postId:s}=this.props,{entitiesSavedStatesCallback:i}=this.state;this.setState({entitiesSavedStatesCallback:!1},()=>{t&&t.some(n=>n.kind==="postType"&&n.name===o&&n.key===s)&&i()})}render(){let{forceIsDirty:t,hasPublishAction:o,isBeingScheduled:s,isOpen:i,isPostSavingLocked:n,isPublishable:a,isPublished:c,isSaveable:l,isSaving:d,isAutoSaving:u,isToggle:p,savePostStatus:f,onSubmit:h=QA,onToggle:g,visibility:b,hasNonPostEntityChanges:_,isSavingNonPostEntityChanges:v,postStatus:x,postStatusHasChanged:S}=this.props,C=(d||!l||n||!a&&!t)&&(!_||v),T=(c||d||!l||!a&&!t)&&(!_||v),I="publish";S?I=x:o?b==="private"?I="private":s&&(I="future"):I="pending";let N=()=>{C||(h(),f(I))},L=()=>{T||g()},V={"aria-disabled":C,className:"editor-post-publish-button",isBusy:!u&&d,variant:"primary",onClick:this.createOnClick(N),"aria-haspopup":_?"dialog":void 0},O={"aria-disabled":T,"aria-expanded":i,className:"editor-post-publish-panel__toggle",isBusy:d&&c,variant:"primary",size:"compact",onClick:this.createOnClick(L),"aria-haspopup":_?"dialog":void 0},M=p?O:V;return(0,Oa.jsx)(Oa.Fragment,{children:(0,Oa.jsx)(XA.Button,{...M,className:`${M.className} editor-post-publish-button__button`,size:"compact",children:(0,Oa.jsx)(Kf,{})})})}},La=(0,e5.compose)([(0,Qf.withSelect)(e=>{let{isSavingPost:t,isAutosavingPost:o,isEditedPostBeingScheduled:s,getEditedPostVisibility:i,isCurrentPostPublished:n,isEditedPostSaveable:a,isEditedPostPublishable:c,isPostSavingLocked:l,getCurrentPost:d,getCurrentPostType:u,getCurrentPostId:p,hasNonPostEntityChanges:f,isSavingNonPostEntityChanges:h,getEditedPostAttribute:g,getPostEdits:b}=e(m);return{isSaving:t(),isAutoSaving:o(),isBeingScheduled:s(),visibility:i(),isSaveable:a(),isPostSavingLocked:l(),isPublishable:c(),isPublished:n(),hasPublishAction:d()._links?.["wp:action-publish"]??!1,postType:u(),postId:p(),postStatus:g("status"),postStatusHasChanged:b()?.status,hasNonPostEntityChanges:f(),isSavingNonPostEntityChanges:h()}}),(0,Qf.withDispatch)(e=>{let{editPost:t,savePost:o}=e(m);return{savePostStatus:s=>{t({status:s},{undoIgnore:!0}),o()}}})])(jS);var $e=r(y()),hh=r(w()),gh=r(A()),or=r(E()),bh=r(P()),rI=r($());var sI=r(R());var Se=r(y()),er=r(w()),pd=r(E()),W5=r(P());var $5=r(ot()),Y5=r(R()),Z5=r(_e());var on=r(y()),Fa=r(w()),t5=r(A()),Va=r(E()),o5=r($()),Jf=r(P()),r5=r(F());var tn=r(w()),Xf=[{label:(0,tn.__)("Public"),value:"public",description:(0,tn.__)("Visible to everyone.")},{label:(0,tn.__)("Private"),value:"private",description:(0,tn.__)("Only visible to site admins and editors.")},{label:(0,tn.__)("Password protected"),value:"password",description:(0,tn.__)("Only visible to those who know the password.")}];function nd({onClose:e}){let t=(0,o5.useInstanceId)(nd),{status:o,visibility:s,password:i}=(0,Jf.useSelect)(u=>({status:u(m).getEditedPostAttribute("status"),visibility:u(m).getEditedPostVisibility(),password:u(m).getEditedPostAttribute("password")})),{editPost:n}=(0,Jf.useDispatch)(m),[a,c]=(0,t5.useState)(!!i);function l(u){n({public:{status:s==="private"?"draft":o,password:""},private:{status:"private",password:""},password:{status:s==="private"?"draft":o,password:i||""}}[u]),c(u==="password")}let d=u=>{n({password:u})};return(0,on.jsxs)("div",{className:"editor-post-visibility",children:[(0,on.jsx)(r5.__experimentalInspectorPopoverHeader,{title:(0,Fa.__)("Visibility"),help:(0,Fa.__)("Control how this post is viewed."),onClose:e}),(0,on.jsxs)(Va.__experimentalVStack,{spacing:4,children:[(0,on.jsx)(Va.RadioControl,{label:(0,Fa.__)("Visibility"),hideLabelFromVision:!0,options:Xf,selected:a?"password":s,onChange:l}),a&&(0,on.jsx)(Va.TextControl,{label:(0,Fa.__)("Password"),onChange:d,value:i,placeholder:(0,Fa.__)("Use a secure password"),type:"text",id:`editor-post-visibility__password-input-${t}`,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,maxLength:255})]})]})}var s5=r(P());function eh(){return US()}function US(){let e=(0,s5.useSelect)(t=>t(m).getEditedPostVisibility(),[]);return Xf.find(t=>t.value===e)?.label}var $S=r(y());function th(e){let t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}var ZV=Math.pow(10,8)*24*60*60*1e3,Qre=-ZV;var HS=6e4,zS=36e5;var qV=3600;var i5=qV*24,Xre=i5*7,KV=i5*365.2425,QV=KV/12,Jre=QV*3;function n5(e){let t=th(e),o=t.getMonth();return t.setFullYear(t.getFullYear(),o+1,0),t.setHours(23,59,59,999),t}function GS(e){let t=th(e);return t.setDate(1),t.setHours(0,0,0,0),t}function a5(e,t){let o=t?.additionalDigits??2,s=tj(e),i;if(s.date){let l=oj(s.date,o);i=rj(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);let n=i.getTime(),a=0,c;if(s.time&&(a=sj(s.time),isNaN(a)))return new Date(NaN);if(s.timezone){if(c=ij(s.timezone),isNaN(c))return new Date(NaN)}else{let l=new Date(n+a),d=new Date(0);return d.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),d.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),d}return new Date(n+a+c)}var oh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},XV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,JV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ej=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tj(e){let t={},o=e.split(oh.dateTimeDelimiter),s;if(o.length>2)return t;if(/:/.test(o[0])?s=o[0]:(t.date=o[0],s=o[1],oh.timeZoneDelimiter.test(t.date)&&(t.date=e.split(oh.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){let i=oh.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function oj(e,t){let o=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(o);if(!s)return{year:NaN,restDateString:""};let i=s[1]?parseInt(s[1]):null,n=s[2]?parseInt(s[2]):null;return{year:n===null?i:n*100,restDateString:e.slice((s[1]||s[2]).length)}}function rj(e,t){if(t===null)return new Date(NaN);let o=e.match(XV);if(!o)return new Date(NaN);let s=!!o[4],i=ad(o[1]),n=ad(o[2])-1,a=ad(o[3]),c=ad(o[4]),l=ad(o[5])-1;if(s)return dj(t,c,l)?nj(t,c,l):new Date(NaN);{let d=new Date(0);return!lj(t,n,a)||!cj(t,i)?new Date(NaN):(d.setUTCFullYear(t,n,Math.max(i,a)),d)}}function ad(e){return e?parseInt(e):1}function sj(e){let t=e.match(JV);if(!t)return NaN;let o=WS(t[1]),s=WS(t[2]),i=WS(t[3]);return uj(o,s,i)?o*zS+s*HS+i*1e3:NaN}function WS(e){return e&&parseFloat(e.replace(",","."))||0}function ij(e){if(e==="Z")return 0;let t=e.match(ej);if(!t)return 0;let o=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return pj(s,i)?o*(s*zS+i*HS):NaN}function nj(e,t,o){let s=new Date(0);s.setUTCFullYear(e,0,4);let i=s.getUTCDay()||7,n=(t-1)*7+o+1-i;return s.setUTCDate(s.getUTCDate()+n),s}var aj=[31,null,31,30,31,30,31,31,30,31,30,31];function l5(e){return e%400===0||e%4===0&&e%100!==0}function lj(e,t,o){return t>=0&&t<=11&&o>=1&&o<=(aj[t]||(l5(e)?29:28))}function cj(e,t){return t>=1&&t<=(l5(e)?366:365)}function dj(e,t,o){return t>=1&&t<=53&&o>=0&&o<=6}function uj(e,t,o){return e===24?t===0&&o===0:o>=0&&o<60&&t>=0&&t<60&&e>=0&&e<25}function pj(e,t){return t>=0&&t<=59}var c5=r(bi()),d5=r(w()),ld=r(P()),u5=r(F()),rh=r(A()),p5=r(R());var{PrivatePublishDateTimePicker:mj}=k(u5.privateApis);function ja(e){return(0,$S.jsx)(YS,{...e,showPopoverHeaderActions:!0,isCompact:!1})}function YS({onClose:e,showPopoverHeaderActions:t,isCompact:o}){let{postDate:s,postType:i}=(0,ld.useSelect)(h=>({postDate:h(m).getEditedPostAttribute("date"),postType:h(m).getCurrentPostType()}),[]),{editPost:n}=(0,ld.useDispatch)(m),a=h=>n({date:h}),[c,l]=(0,rh.useState)(GS(new Date(s))),d=(0,ld.useSelect)(h=>h(p5.store).getEntityRecords("postType",i,{status:"publish,future",after:GS(c).toISOString(),before:n5(c).toISOString(),exclude:[h(m).getCurrentPostId()],per_page:100,_fields:"id,date"}),[c,i]),u=(0,rh.useMemo)(()=>(d||[]).map(({date:h})=>({date:new Date(h)})),[d]),p=(0,c5.getSettings)(),f=/a(?!\\)/i.test(p.formats.time.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""));return(0,$S.jsx)(mj,{currentDate:s,onChange:a,is12Hour:f,dateOrder:(0,d5._x)("dmy","date order"),events:u,onMonthPreviewed:h=>l(a5(h)),onClose:e,isCompact:o,showPopoverHeaderActions:t})}var Lt=r(w()),To=r(bi()),f5=r(P());function Ua(e){return Ha(e)}function Ha({full:e=!1}={}){let{date:t,isFloating:o}=(0,f5.useSelect)(s=>({date:s(m).getEditedPostAttribute("date"),isFloating:s(m).isEditedPostDateFloating()}),[]);return e?h5(t):fj(t,{isFloating:o})}function h5(e){let t=(0,To.getDate)(e),o=hj(),s=(0,To.dateI18n)((0,Lt._x)("F j, Y g:i\xA0a","post schedule full date format"),t);return(0,Lt.isRTL)()?`${o} ${s}`:`${s} ${o}`}function fj(e,{isFloating:t=!1,now:o=new Date}={}){if(!e||t)return(0,Lt.__)("Immediately");if(!gj(o))return h5(e);let s=(0,To.getDate)(e);if(m5(s,o))return(0,Lt.sprintf)((0,Lt.__)("Today at %s"),(0,To.dateI18n)((0,Lt._x)("g:i\xA0a","post schedule time format"),s));let i=new Date(o);return i.setDate(i.getDate()+1),m5(s,i)?(0,Lt.sprintf)((0,Lt.__)("Tomorrow at %s"),(0,To.dateI18n)((0,Lt._x)("g:i\xA0a","post schedule time format"),s)):s.getFullYear()===o.getFullYear()?(0,To.dateI18n)((0,Lt._x)("F j g:i\xA0a","post schedule date format without year"),s):(0,To.dateI18n)((0,Lt._x)("F j, Y g:i\xA0a","post schedule full date format"),s)}function hj(){let{timezone:e}=(0,To.getSettings)();return e.abbr&&isNaN(Number(e.abbr))?e.abbr:`UTC${e.offset<0?"":"+"}${e.offsetFormatted}`}function gj(e){let{timezone:t}=(0,To.getSettings)(),o=Number(t.offset),s=-1*(e.getTimezoneOffset()/60);return o===s}function m5(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var ln=r(y()),an=r(w()),k5=r(A()),QS=r(P()),E5=r(E()),ah=r(R());var nn=r(y()),ft=r(w()),hs=r(A()),za=r(E()),sn=r(P()),v5=r(pr()),ih=r(R()),S5=r($()),P5=r(hp()),w5=r(he());var rn=r(y()),sh=r(E()),g5=r(P()),b5=r(R());var bj=3,_j={per_page:10,orderby:"count",order:"desc",hide_empty:!0,_fields:"id,name,count",context:"view"};function _5({onSelect:e,taxonomy:t}){let{_terms:o,showTerms:s}=(0,g5.useSelect)(n=>{let a=n(b5.store).getEntityRecords("taxonomy",t.slug,_j);return{_terms:a,showTerms:a?.length>=bj}},[t.slug]);if(!s)return null;let i=xC(o);return(0,rn.jsxs)("div",{className:"editor-post-taxonomies__flat-term-most-used",children:[(0,rn.jsx)(sh.BaseControl.VisualLabel,{as:"h3",className:"editor-post-taxonomies__flat-term-most-used-label",children:t.labels.most_used}),(0,rn.jsx)("ul",{role:"list",className:"editor-post-taxonomies__flat-term-most-used-list",children:i.map(n=>(0,rn.jsx)("li",{children:(0,rn.jsx)(sh.Button,{__next40pxDefaultSize:!0,variant:"link",onClick:()=>e(n),children:n.name})},n.id))})]})}var ZS=[],x5=100,y5={per_page:x5,_fields:"id,name",context:"view"},T5=(e,t)=>_a(e).toLowerCase()===_a(t).toLowerCase(),qS=(e,t)=>e.map(o=>t.find(s=>T5(s.name,o))?.id).filter(o=>o!==void 0),yj=({children:e,__nextHasNoMarginBottom:t})=>t?(0,nn.jsx)(za.__experimentalVStack,{spacing:4,children:e}):(0,nn.jsx)(hs.Fragment,{children:e});function KS({slug:e,__nextHasNoMarginBottom:t}){let[o,s]=(0,hs.useState)([]),[i,n]=(0,hs.useState)(""),a=(0,S5.useDebounce)(n,500);t||(0,v5.default)("Bottom margin styles for wp.editor.PostTaxonomiesFlatTermSelector",{since:"6.7",version:"7.0",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version."});let{terms:c,termIds:l,taxonomy:d,hasAssignAction:u,hasCreateAction:p,hasResolvedTerms:f}=(0,sn.useSelect)(M=>{let{getCurrentPost:D,getEditedPostAttribute:j}=M(m),{getEntityRecords:U,getEntityRecord:H,hasFinishedResolution:z}=M(ih.store),Q=D(),X=H("root","taxonomy",e),ee=X?j(X.rest_base):ZS,xe={...y5,include:ee?.join(","),per_page:-1};return{hasCreateAction:X?Q._links?.["wp:action-create-"+X.rest_base]??!1:!1,hasAssignAction:X?Q._links?.["wp:action-assign-"+X.rest_base]??!1:!1,taxonomy:X,termIds:ee,terms:ee?.length?U("taxonomy",e,xe):ZS,hasResolvedTerms:z("getEntityRecords",["taxonomy",e,xe])}},[e]),{searchResults:h}=(0,sn.useSelect)(M=>{let{getEntityRecords:D}=M(ih.store);return{searchResults:i?D("taxonomy",e,{...y5,search:i}):ZS}},[i,e]);(0,hs.useEffect)(()=>{if(f){let M=(c??[]).map(D=>_a(D.name));s(M)}},[c,f]);let g=(0,hs.useMemo)(()=>(h??[]).map(M=>_a(M.name)),[h]),{editPost:b}=(0,sn.useDispatch)(m),{saveEntityRecord:_}=(0,sn.useDispatch)(ih.store),{createErrorNotice:v}=(0,sn.useDispatch)(w5.store);if(!u)return null;async function x(M){try{let D=await _("taxonomy",e,M,{throwOnError:!0});return pS(D)}catch(D){if(D.code!=="term_exists")throw D;return{id:D.data.term_id,name:M.name}}}function S(M){b({[d.rest_base]:M})}function C(M){let D=[...c??[],...h??[]],j=M.reduce((H,z)=>(H.some(Q=>Q.toLowerCase()===z.toLowerCase())||H.push(z),H),[]),U=j.filter(H=>!D.find(z=>T5(z.name,H)));if(s(j),U.length===0){S(qS(j,D));return}p&&Promise.all(U.map(H=>x({name:H}))).then(H=>{let z=D.concat(H);S(qS(j,z))}).catch(H=>{v(H.message,{type:"snackbar"}),S(qS(j,D))})}function T(M){if(l.includes(M.id))return;let D=[...l,M.id],j=e==="post_tag"?(0,ft.__)("Tag"):(0,ft.__)("Term"),U=(0,ft.sprintf)((0,ft._x)("%s added","term"),d?.labels?.singular_name??j);(0,P5.speak)(U,"assertive"),S(D)}let I=d?.labels?.add_new_item??(e==="post_tag"?(0,ft.__)("Add Tag"):(0,ft.__)("Add Term")),N=d?.labels?.singular_name??(e==="post_tag"?(0,ft.__)("Tag"):(0,ft.__)("Term")),L=(0,ft.sprintf)((0,ft._x)("%s added","term"),N),V=(0,ft.sprintf)((0,ft._x)("%s removed","term"),N),O=(0,ft.sprintf)((0,ft._x)("Remove %s","term"),N);return(0,nn.jsxs)(yj,{__nextHasNoMarginBottom:t,children:[(0,nn.jsx)(za.FormTokenField,{__next40pxDefaultSize:!0,value:o,suggestions:g,onChange:C,onInputChange:a,maxSuggestions:x5,label:I,messages:{added:L,removed:V,remove:O},__nextHasNoMarginBottom:t}),(0,nn.jsx)(_5,{taxonomy:d,onSelect:T})]})}var nh=(0,za.withFilters)("editor.PostTaxonomyType")(KS);var vj=()=>{let e=(0,QS.useSelect)(i=>i(ah.store).getTaxonomy("post_tag")?.labels,[]),t=e?.add_new_item??(0,an.__)("Add tag"),o=e?.name??(0,an.__)("Tags"),s=[(0,an.__)("Suggestion:"),(0,ln.jsx)("span",{className:"editor-post-publish-panel__link",children:t},"label")];return(0,ln.jsxs)(E5.PanelBody,{initialOpen:!1,title:s,children:[(0,ln.jsx)("p",{children:(0,an.sprintf)((0,an.__)("%s help users and search engines navigate your site and find your content. Add a few keywords to describe your post."),o)}),(0,ln.jsx)(nh,{slug:"post_tag",__nextHasNoMarginBottom:!0})]})},Sj=()=>{let{postHasTags:e,siteHasTags:t,isPostTypeSupported:o}=(0,QS.useSelect)(i=>{let n=i(m).getCurrentPostType(),a=i(ah.store).getEntityRecord("root","taxonomy","post_tag"),c=a?.types?.includes(n),l=a!==void 0,d=a&&i(m).getEditedPostAttribute(a.rest_base),u=c?!!i(ah.store).getEntityRecords("taxonomy","post_tag",{per_page:1})?.length:!1;return{postHasTags:!!d?.length,siteHasTags:u,isPostTypeSupported:l&&c}},[]),[s]=(0,k5.useState)(e);return!o||!t||s?null:(0,ln.jsx)(vj,{})},C5=Sj;var ii=r(y()),lh=r(E()),ch=r(P()),cn=r(w()),A5=r(R());var Pj=(e,t)=>od.filter(s=>e?.includes(s.id)).find(s=>s.id===t),wj=({suggestedPostFormat:e,suggestionText:t,onUpdatePostFormat:o})=>(0,ii.jsx)(lh.Button,{__next40pxDefaultSize:!0,variant:"link",onClick:()=>o(e),children:t});function I5(){let{currentPostFormat:e,suggestion:t}=(0,ch.useSelect)(n=>{let{getEditedPostAttribute:a,getSuggestedPostFormat:c}=n(m),l=n(A5.store).getThemeSupports().formats??[];return{currentPostFormat:a("format"),suggestion:Pj(l,c())}},[]),{editPost:o}=(0,ch.useDispatch)(m),s=n=>o({format:n}),i=[(0,cn.__)("Suggestion:"),(0,ii.jsx)("span",{className:"editor-post-publish-panel__link",children:(0,cn.__)("Use a post format")},"label")];return!t||t.id===e?null:(0,ii.jsxs)(lh.PanelBody,{initialOpen:!1,title:i,children:[(0,ii.jsx)("p",{children:(0,cn.__)("Your theme uses post formats to highlight different kinds of content, like images or videos. Apply a post format to see this special styling.")}),(0,ii.jsx)("p",{children:(0,ii.jsx)(wj,{onUpdatePostFormat:s,suggestedPostFormat:t.id,suggestionText:(0,cn.sprintf)((0,cn.__)('Apply the "%1$s" format.'),t.caption)})})]})}var Wa=r(y()),uh=r(w()),L5=r(P()),F5=r(E()),eP=r(R()),ph=r(A());var nt=r(y()),at=r(w()),gs=r(A()),M5=r(he()),Ae=r(E()),Ga=r(P()),D5=r($()),cd=r(R()),XS=r(hp()),O5=r(_e());var{normalizeTextString:R5}=k(Ae.privateApis),{RECEIVE_INTERMEDIATE_RESULTS:xj}=k(cd.privateApis),B5={per_page:-1,orderby:"name",order:"asc",_fields:"id,name,parent",context:"view",[xj]:!0},Tj=8,N5=[];function kj(e,t){let o=n=>t.indexOf(n.id)!==-1?!0:n.children===void 0?!1:n.children.map(o).filter(a=>a).length>0,s=(n,a)=>{let c=o(n),l=o(a);return c===l?0:c&&!l?-1:!c&&l?1:0},i=[...e];return i.sort(s),i}function Ej(e,t,o){return e.find(s=>(!s.parent&&!t||parseInt(s.parent)===parseInt(t))&&s.name.toLowerCase()===o.toLowerCase())}function Cj(e){let t=o=>{if(e==="")return o;let s={...o};return s.children.length>0&&(s.children=s.children.map(t).filter(i=>i)),R5(s.name).indexOf(R5(e))!==-1||s.children.length>0?s:!1};return t}function JS({slug:e}){let[t,o]=(0,gs.useState)(!1),[s,i]=(0,gs.useState)(""),[n,a]=(0,gs.useState)(""),[c,l]=(0,gs.useState)(!1),[d,u]=(0,gs.useState)(""),[p,f]=(0,gs.useState)([]),h=(0,D5.useDebounce)(XS.speak,500),{hasCreateAction:g,hasAssignAction:b,terms:_,loading:v,availableTerms:x,taxonomy:S}=(0,Ga.useSelect)(se=>{let{getCurrentPost:le,getEditedPostAttribute:ie}=se(m),{getEntityRecord:Ie,getEntityRecords:Le,isResolving:Fe}=se(cd.store),Xt=Ie("root","taxonomy",e),Or=le();return{hasCreateAction:Xt?!!Or._links?.["wp:action-create-"+Xt.rest_base]:!1,hasAssignAction:Xt?!!Or._links?.["wp:action-assign-"+Xt.rest_base]:!1,terms:Xt?ie(Xt.rest_base):N5,loading:Fe("getEntityRecords",["taxonomy",e,B5]),availableTerms:Le("taxonomy",e,B5)||N5,taxonomy:Xt}},[e]),{editPost:C}=(0,Ga.useDispatch)(m),{saveEntityRecord:T}=(0,Ga.useDispatch)(cd.store),I=(0,gs.useMemo)(()=>kj(Wm(x),_),[x]),{createErrorNotice:N}=(0,Ga.useDispatch)(M5.store);if(!b)return null;let L=se=>T("taxonomy",e,se,{throwOnError:!0}),V=se=>{C({[S.rest_base]:se})},O=se=>{let ie=_.includes(se)?_.filter(Ie=>Ie!==se):[..._,se];V(ie)},M=se=>{i(se)},D=se=>{a(se)},j=()=>{l(!c)},U=async se=>{if(se.preventDefault(),s===""||t)return;let le=Ej(x,n,s);if(le){_.some(Fe=>Fe===le.id)||V([..._,le.id]),i(""),a("");return}o(!0);let ie;try{ie=await L({name:s,parent:n||void 0})}catch(Fe){N(Fe.message,{type:"snackbar"});return}let Ie=e==="category"?(0,at.__)("Category"):(0,at.__)("Term"),Le=(0,at.sprintf)((0,at._x)("%s added","term"),S?.labels?.singular_name??Ie);(0,XS.speak)(Le,"assertive"),o(!1),i(""),a(""),V([..._,ie.id])},H=se=>{let le=I.map(Cj(se)).filter(Fe=>Fe),ie=Fe=>{let Xt=0;for(let Or=0;Or<Fe.length;Or++)Xt++,Fe[Or].children!==void 0&&(Xt+=ie(Fe[Or].children));return Xt};u(se),f(le);let Ie=ie(le),Le=(0,at.sprintf)((0,at._n)("%d result found.","%d results found.",Ie),Ie);h(Le,"assertive")},z=se=>se.map(le=>(0,nt.jsxs)("div",{className:"editor-post-taxonomies__hierarchical-terms-choice",children:[(0,nt.jsx)(Ae.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:_.indexOf(le.id)!==-1,onChange:()=>{let ie=parseInt(le.id,10);O(ie)},label:(0,O5.decodeEntities)(le.name)}),!!le.children.length&&(0,nt.jsx)("div",{className:"editor-post-taxonomies__hierarchical-terms-subchoices",children:z(le.children)})]},le.id)),Q=(se,le,ie)=>S?.labels?.[se]??(e==="category"?le:ie),X=Q("add_new_item",(0,at.__)("Add Category"),(0,at.__)("Add Term")),ee=Q("new_item_name",(0,at.__)("Add Category"),(0,at.__)("Add Term")),xe=Q("parent_item",(0,at.__)("Parent Category"),(0,at.__)("Parent Term")),Qt=`\u2014 ${xe} \u2014`,Ft=X,It=S?.labels?.search_items??(0,at.__)("Search Terms"),ze=S?.name??(0,at.__)("Terms"),Vt=x.length>=Tj;return(0,nt.jsxs)(Ae.Flex,{direction:"column",gap:"4",children:[Vt&&!v&&(0,nt.jsx)(Ae.SearchControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:It,placeholder:It,value:d,onChange:H}),v&&(0,nt.jsx)(Ae.Flex,{justify:"center",style:{height:"40px"},children:(0,nt.jsx)(Ae.Spinner,{})}),(0,nt.jsx)("div",{className:"editor-post-taxonomies__hierarchical-terms-list",tabIndex:"0",role:"group","aria-label":ze,children:z(d!==""?p:I)}),!v&&g&&(0,nt.jsx)(Ae.FlexItem,{children:(0,nt.jsx)(Ae.Button,{__next40pxDefaultSize:!0,onClick:j,className:"editor-post-taxonomies__hierarchical-terms-add","aria-expanded":c,variant:"link",children:X})}),c&&(0,nt.jsx)("form",{onSubmit:U,children:(0,nt.jsxs)(Ae.Flex,{direction:"column",gap:"4",children:[(0,nt.jsx)(Ae.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,className:"editor-post-taxonomies__hierarchical-terms-input",label:ee,value:s,onChange:M,required:!0}),!!x.length&&(0,nt.jsx)(Ae.TreeSelect,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:xe,noOptionLabel:Qt,onChange:D,selectedId:n,tree:I}),(0,nt.jsx)(Ae.FlexItem,{children:(0,nt.jsx)(Ae.Button,{__next40pxDefaultSize:!0,variant:"secondary",type:"submit",className:"editor-post-taxonomies__hierarchical-terms-submit",children:Ft})})]})})]})}var dh=(0,Ae.withFilters)("editor.PostTaxonomyType")(JS);function Aj(){let{hasNoCategory:e,hasSiteCategories:t}=(0,L5.useSelect)(n=>{let a=n(m).getCurrentPostType(),{canUser:c,getEntityRecord:l}=n(eP.store),d=l("root","taxonomy","category"),u=c("read",{kind:"root",name:"site"})?l("root","site")?.default_category:void 0,p=u?l("taxonomy","category",u):void 0,f=d&&d.types.some(_=>_===a),h=d&&n(m).getEditedPostAttribute(d.rest_base),g=f?!!n(eP.store).getEntityRecords("taxonomy","category",{exclude:[u],per_page:1})?.length:!1;return{hasNoCategory:!!d&&!!p&&f&&(h?.length===0||h?.length===1&&p?.id===h[0]),hasSiteCategories:g}},[]),[o,s]=(0,ph.useState)(!1);if((0,ph.useEffect)(()=>{e&&s(!0)},[e]),!o||!t)return null;let i=[(0,uh.__)("Suggestion:"),(0,Wa.jsx)("span",{className:"editor-post-publish-panel__link",children:(0,uh.__)("Assign a category")},"label")];return(0,Wa.jsxs)(F5.PanelBody,{initialOpen:!1,title:i,children:[(0,Wa.jsx)("p",{children:(0,uh.__)("Categories provide a helpful way to group related posts together and to quickly tell readers what a post is about.")}),(0,Wa.jsx)(dh,{slug:"category"})]})}var V5=Aj;var ko=r(y()),wr=r(E()),ud=r(P()),ni=r(w()),dd=r(F()),mh=r(A()),H5=r(Op());var j5=r(ot());function Ij(e){let t=new Set;return Object.fromEntries(e.map(o=>{let s=(0,j5.getFilename)(o),i="";if(s){let n=s.split(".");n.length>1&&n.pop(),i=n.join(".")}return i||(i=$n()),t.has(i)&&(i=`${i}-${$n()}`),t.add(i),[o,i]}))}function U5(e){return Object.fromEntries(Object.entries(Ij(e)).map(([t,o])=>{let s=window.fetch(t.includes("?")?t:t+"?").then(i=>i.blob()).then(i=>new File([i],`${o}.png`,{type:i.type}));return[t,s]}))}function z5(e){let t=[];return e.forEach(o=>{t.push(o),t.push(...z5(o.innerBlocks))}),t}function Rj(e){if(e.name==="core/image"||e.name==="core/cover")return e.attributes.url&&!e.attributes.id;if(e.name==="core/media-text")return e.attributes.mediaUrl&&!e.attributes.mediaId}function tP(e){if(e.name==="core/image"||e.name==="core/cover"){let{url:t,alt:o,id:s}=e.attributes;return{url:t,alt:o,id:s}}if(e.name==="core/media-text"){let{mediaUrl:t,mediaAlt:o,mediaId:s}=e.attributes;return{url:t,alt:o,id:s}}return{}}function Bj({clientId:e,alt:t,url:o}){let{selectBlock:s}=(0,ud.useDispatch)(dd.store);return(0,ko.jsx)(wr.__unstableMotion.img,{tabIndex:0,role:"button","aria-label":(0,ni.__)("Select image block."),onClick:()=>{s(e)},onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&(s(e),i.preventDefault())},alt:t,src:o,animate:{opacity:1},exit:{opacity:0,scale:0},style:{width:"32px",height:"32px",objectFit:"cover",borderRadius:"2px",cursor:"pointer"},whileHover:{scale:1.08}},e)}function G5(){let[e,t]=(0,mh.useState)(!1),[o,s]=(0,mh.useState)(!1),[i,n]=(0,mh.useState)(!1),{editorBlocks:a,mediaUpload:c}=(0,ud.useSelect)(h=>({editorBlocks:h(dd.store).getBlocks(),mediaUpload:h(dd.store).getSettings().mediaUpload}),[]),l=z5(a).filter(h=>Rj(h)),{updateBlockAttributes:d}=(0,ud.useDispatch)(dd.store);if(!c||!l.length)return null;let u=[(0,ni.__)("Suggestion:"),(0,ko.jsx)("span",{className:"editor-post-publish-panel__link",children:(0,ni.__)("External media")},"label")];function p(h,g){(h.name==="core/image"||h.name==="core/cover")&&d(h.clientId,{id:g.id,url:g.url}),h.name==="core/media-text"&&d(h.clientId,{mediaId:g.id,mediaUrl:g.url})}function f(){t(!0),n(!1);let h=new Set(l.map(b=>{let{url:_}=tP(b);return _})),g=Object.fromEntries(Object.entries(U5([...h])).map(([b,_])=>{let v=_.then(x=>new Promise((S,C)=>{c({filesList:[x],onFileChange:([T])=>{(0,H5.isBlobURL)(T.url)||S(T)},onError(){C()}})}));return[b,v]}));Promise.allSettled(l.map(b=>{let{url:_}=tP(b);return g[_].then(v=>p(b,v)).then(()=>s(!0)).catch(()=>n(!0))})).finally(()=>{t(!1)})}return(0,ko.jsxs)(wr.PanelBody,{initialOpen:!0,title:u,children:[(0,ko.jsx)("p",{children:(0,ni.__)("Upload external images to the Media Library. Images from different domains may load slowly, display incorrectly, or be removed unexpectedly.")}),(0,ko.jsxs)("div",{style:{display:"inline-flex",flexWrap:"wrap",gap:"8px"},children:[(0,ko.jsx)(wr.__unstableAnimatePresence,{onExitComplete:()=>s(!1),children:l.map(h=>{let{url:g,alt:b}=tP(h);return(0,ko.jsx)(Bj,{clientId:h.clientId,url:g,alt:b},h.clientId)})}),e||o?(0,ko.jsx)(wr.Spinner,{}):(0,ko.jsx)(wr.Button,{size:"compact",variant:"primary",onClick:f,children:(0,ni._x)("Upload","verb")})]}),i&&(0,ko.jsx)("p",{children:(0,ni.__)("Upload failed, try again.")})]})}function Nj({children:e}){let{isBeingScheduled:t,isRequestingSiteIcon:o,hasPublishAction:s,siteIconUrl:i,siteTitle:n,siteHome:a}=(0,W5.useSelect)(u=>{let{getCurrentPost:p,isEditedPostBeingScheduled:f}=u(m),{getEntityRecord:h,isResolving:g}=u(Y5.store),b=h("root","__unstableBase",void 0)||{};return{hasPublishAction:p()._links?.["wp:action-publish"]??!1,isBeingScheduled:f(),isRequestingSiteIcon:g("getEntityRecord",["root","__unstableBase",void 0]),siteIconUrl:b.site_icon_url,siteTitle:b.name,siteHome:b.home&&(0,$5.filterURLForDisplay)(b.home)}},[]),c=(0,Se.jsx)(pd.Icon,{className:"components-site-icon",size:"36px",icon:_y});i&&(c=(0,Se.jsx)("img",{alt:(0,er.__)("Site Icon"),className:"components-site-icon",src:i})),o&&(c=null);let l,d;return s?t?(l=(0,er.__)("Are you ready to schedule?"),d=(0,er.__)("Your work will be published at the specified date and time.")):(l=(0,er.__)("Are you ready to publish?"),d=(0,er.__)("Double-check your settings before publishing.")):(l=(0,er.__)("Are you ready to submit for review?"),d=(0,er.__)("Your work will be reviewed and then approved.")),(0,Se.jsxs)("div",{className:"editor-post-publish-panel__prepublish",children:[(0,Se.jsx)("div",{children:(0,Se.jsx)("strong",{children:l})}),(0,Se.jsx)("p",{children:d}),(0,Se.jsxs)("div",{className:"components-site-card",children:[c,(0,Se.jsxs)("div",{className:"components-site-info",children:[(0,Se.jsx)("span",{className:"components-site-name",children:(0,Z5.decodeEntities)(n)||(0,er.__)("(Untitled)")}),(0,Se.jsx)("span",{className:"components-site-home",children:a})]})]}),(0,Se.jsx)(G5,{}),s&&(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsx)(pd.PanelBody,{initialOpen:!1,title:[(0,er.__)("Visibility:"),(0,Se.jsx)("span",{className:"editor-post-publish-panel__link",children:(0,Se.jsx)(eh,{})},"label")],children:(0,Se.jsx)(nd,{})}),(0,Se.jsx)(pd.PanelBody,{initialOpen:!1,title:[(0,er.__)("Publish:"),(0,Se.jsx)("span",{className:"editor-post-publish-panel__link",children:(0,Se.jsx)(Ua,{})},"label")],children:(0,Se.jsx)(ja,{})})]}),(0,Se.jsx)(I5,{}),(0,Se.jsx)(C5,{}),(0,Se.jsx)(V5,{}),e]})}var q5=Nj;var Ue=r(y()),io=r(E()),tr=r(w()),ai=r(A()),X5=r(P()),fh=r(ot()),J5=r(_e()),eI=r($()),tI=r(R());var K5="%postname%",Q5="%pagename%",Mj=e=>{let{slug:t}=e;return e.permalink_template.includes(K5)?e.permalink_template.replace(K5,t):e.permalink_template.includes(Q5)?e.permalink_template.replace(Q5,t):e.permalink_template};function Dj({text:e}){let[t,o]=(0,ai.useState)(!1),s=(0,ai.useRef)(),i=(0,eI.useCopyToClipboard)(e,()=>{o(!0),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{o(!1)},4e3)});return(0,ai.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[]),(0,Ue.jsx)(io.Button,{__next40pxDefaultSize:!0,variant:"secondary",ref:i,children:t?(0,tr.__)("Copied!"):(0,tr.__)("Copy")})}function oI({focusOnMount:e,children:t}){let{post:o,postType:s,isScheduled:i}=(0,X5.useSelect)(f=>{let{getEditedPostAttribute:h,getCurrentPost:g,isCurrentPostScheduled:b}=f(m),{getPostType:_}=f(tI.store);return{post:g(),postType:_(h("type")),isScheduled:b()}},[]),n=s?.labels?.singular_name,a=s?.labels?.view_item,c=s?.labels?.add_new_item,l=o.status==="future"?Mj(o):o.link,d=(0,fh.addQueryArgs)("post-new.php",{post_type:o.type}),u=(0,ai.useCallback)(f=>{e&&f&&f.focus()},[e]),p=i?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,tr.__)("is now scheduled. It will go live on")," ",(0,Ue.jsx)(Ua,{}),"."]}):(0,tr.__)("is now live.");return(0,Ue.jsxs)("div",{className:"post-publish-panel__postpublish",children:[(0,Ue.jsxs)(io.PanelBody,{className:"post-publish-panel__postpublish-header",children:[(0,Ue.jsx)(io.ExternalLink,{ref:u,href:l,children:(0,J5.decodeEntities)(o.title)||(0,tr.__)("(no title)")})," ",p]}),(0,Ue.jsxs)(io.PanelBody,{children:[(0,Ue.jsx)("p",{className:"post-publish-panel__postpublish-subheader",children:(0,Ue.jsx)("strong",{children:(0,tr.__)("What\u2019s next?")})}),(0,Ue.jsxs)("div",{className:"post-publish-panel__postpublish-post-address-container",children:[(0,Ue.jsx)(io.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,className:"post-publish-panel__postpublish-post-address",readOnly:!0,label:(0,tr.sprintf)((0,tr.__)("%s address"),n),value:(0,fh.safeDecodeURIComponent)(l),onFocus:f=>f.target.select()}),(0,Ue.jsx)("div",{className:"post-publish-panel__postpublish-post-address__copy-button-wrap",children:(0,Ue.jsx)(Dj,{text:l})})]}),(0,Ue.jsxs)("div",{className:"post-publish-panel__postpublish-buttons",children:[!i&&(0,Ue.jsxs)(io.Button,{variant:"primary",href:l,__next40pxDefaultSize:!0,icon:jt,iconPosition:"right",target:"_blank",children:[a,(0,Ue.jsx)(io.VisuallyHidden,{as:"span",children:(0,tr.__)("(opens in a new tab)")})]}),(0,Ue.jsx)(io.Button,{variant:i?"primary":"secondary",__next40pxDefaultSize:!0,href:d,children:c})]})]}),t]})}var oP=class extends gh.Component{constructor(){super(...arguments),this.onSubmit=this.onSubmit.bind(this),this.cancelButtonNode=(0,gh.createRef)()}componentDidMount(){this.timeoutID=setTimeout(()=>{this.cancelButtonNode.current.focus()},0)}componentWillUnmount(){clearTimeout(this.timeoutID)}componentDidUpdate(t){(t.isPublished&&!this.props.isSaving&&this.props.isDirty||this.props.currentPostId!==t.currentPostId)&&this.props.onClose()}onSubmit(){let{onClose:t,hasPublishAction:o,isPostTypeViewable:s}=this.props;(!o||!s)&&t()}render(){let{forceIsDirty:t,isBeingScheduled:o,isPublished:s,isPublishSidebarEnabled:i,isScheduled:n,isSaving:a,isSavingNonPostEntityChanges:c,onClose:l,onTogglePublishSidebar:d,PostPublishExtension:u,PrePublishExtension:p,currentPostId:f,...h}=this.props,{hasPublishAction:g,isDirty:b,isPostTypeViewable:_,...v}=h,x=s||n&&o,S=!x&&!a,C=x&&!a;return(0,$e.jsxs)("div",{className:"editor-post-publish-panel",...v,children:[(0,$e.jsx)("div",{className:"editor-post-publish-panel__header",children:C?(0,$e.jsx)(or.Button,{size:"compact",onClick:l,icon:Ol,label:(0,hh.__)("Close panel")}):(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)("div",{className:"editor-post-publish-panel__header-cancel-button",children:(0,$e.jsx)(or.Button,{ref:this.cancelButtonNode,accessibleWhenDisabled:!0,disabled:c,onClick:l,variant:"secondary",size:"compact",children:(0,hh.__)("Cancel")})}),(0,$e.jsx)("div",{className:"editor-post-publish-panel__header-publish-button",children:(0,$e.jsx)(La,{onSubmit:this.onSubmit,forceIsDirty:t})})]})}),(0,$e.jsxs)("div",{className:"editor-post-publish-panel__content",children:[S&&(0,$e.jsx)(q5,{children:p&&(0,$e.jsx)(p,{})}),C&&(0,$e.jsx)(oI,{focusOnMount:!0,children:u&&(0,$e.jsx)(u,{})}),a&&(0,$e.jsx)(or.Spinner,{})]}),(0,$e.jsx)("div",{className:"editor-post-publish-panel__footer",children:(0,$e.jsx)(or.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,hh.__)("Always show pre-publish checks."),checked:i,onChange:d})})]})}},_h=(0,rI.compose)([(0,bh.withSelect)(e=>{let{getPostType:t}=e(sI.store),{getCurrentPost:o,getCurrentPostId:s,getEditedPostAttribute:i,isCurrentPostPublished:n,isCurrentPostScheduled:a,isEditedPostBeingScheduled:c,isEditedPostDirty:l,isAutosavingPost:d,isSavingPost:u,isSavingNonPostEntityChanges:p}=e(m),{isPublishSidebarEnabled:f}=e(m),h=t(i("type"));return{hasPublishAction:o()._links?.["wp:action-publish"]??!1,isPostTypeViewable:h?.viewable,isBeingScheduled:c(),isDirty:l(),isPublished:n(),isPublishSidebarEnabled:f(),isSaving:u()&&!d(),isSavingNonPostEntityChanges:p(),isScheduled:a(),currentPostId:s()}}),(0,bh.withDispatch)((e,{isPublishSidebarEnabled:t})=>{let{disablePublishSidebar:o,enablePublishSidebar:s}=e(m);return{onTogglePublishSidebar:()=>{t?o():s()}}}),or.withFocusReturn,or.withConstrainedTabbing])(oP);var xh=r(y());var Th=r(E()),kh=r($()),Eh=r(P()),Ch=r(A()),dn=r(w());var dI=r(to()),uI=r(Pe());var Ye=r(y()),no=r(E()),be=r(w()),wh=r(P()),md=r(A()),aI=r(R()),lI=r(F()),cI=r($());var rP=r(y()),sP=r(w()),nI=r(E()),vh=r(P());var iI=r(P());function yh({children:e}){let{hasStickyAction:t,postType:o}=(0,iI.useSelect)(s=>({hasStickyAction:s(m).getCurrentPost()._links?.["wp:action-sticky"]??!1,postType:s(m).getCurrentPostType()}),[]);return o!=="post"||!t?null:e}function Sh(){let e=(0,vh.useSelect)(o=>o(m).getEditedPostAttribute("sticky")??!1,[]),{editPost:t}=(0,vh.useDispatch)(m);return(0,rP.jsx)(yh,{children:(0,rP.jsx)(nI.CheckboxControl,{className:"editor-post-sticky__checkbox-control",label:(0,sP.__)("Sticky"),help:(0,sP.__)("Pin this post to the top of the blog."),checked:e,onChange:()=>t({sticky:!e}),__nextHasNoMarginBottom:!0})})}var Ph={"auto-draft":{label:(0,be.__)("Draft"),icon:Tn},draft:{label:(0,be.__)("Draft"),icon:Tn},pending:{label:(0,be.__)("Pending"),icon:ql},private:{label:(0,be.__)("Private"),icon:$l},future:{label:(0,be.__)("Scheduled"),icon:Ql},publish:{label:(0,be.__)("Published"),icon:vi}},iP=[{label:(0,be.__)("Draft"),value:"draft",description:(0,be.__)("Not ready to publish.")},{label:(0,be.__)("Pending"),value:"pending",description:(0,be.__)("Waiting for review before publishing.")},{label:(0,be.__)("Private"),value:"private",description:(0,be.__)("Only visible to site admins and editors.")},{label:(0,be.__)("Scheduled"),value:"future",description:(0,be.__)("Publish automatically on a chosen date.")},{label:(0,be.__)("Published"),value:"publish",description:(0,be.__)("Visible to everyone.")}],Oj=[ae,De,yt,jo];function nP(){let{status:e,date:t,password:o,postId:s,postType:i,canEdit:n}=(0,wh.useSelect)(_=>{let{getEditedPostAttribute:v,getCurrentPostId:x,getCurrentPostType:S,getCurrentPost:C}=_(m);return{status:v("status"),date:v("date"),password:v("password"),postId:x(),postType:S(),canEdit:C()._links?.["wp:action-publish"]??!1}},[]),[a,c]=(0,md.useState)(!!o),l=(0,cI.useInstanceId)(nP,"editor-change-status__password-input"),{editEntityRecord:d}=(0,wh.useDispatch)(aI.store),[u,p]=(0,md.useState)(null),f=(0,md.useMemo)(()=>({anchor:u,"aria-label":(0,be.__)("Status & visibility"),headerTitle:(0,be.__)("Status & visibility"),placement:"left-start",offset:36,shift:!0}),[u]);if(Oj.includes(i))return null;let h=({status:_=e,password:v=o,date:x=t})=>{d("postType",i,s,{status:_,date:x,password:v})},g=_=>{c(_),_||h({password:""})},b=_=>{let v=t,x=o;e==="future"&&new Date(t)>new Date&&(v=null),_==="private"&&o&&(x=""),h({status:_,date:v,password:x})};return(0,Ye.jsx)(ye,{label:(0,be.__)("Status"),ref:p,children:n?(0,Ye.jsx)(no.Dropdown,{className:"editor-post-status",contentClassName:"editor-change-status__content",popoverProps:f,focusOnMount:!0,renderToggle:({onToggle:_,isOpen:v})=>(0,Ye.jsx)(no.Button,{className:"editor-post-status__toggle",variant:"tertiary",size:"compact",onClick:_,icon:Ph[e]?.icon,"aria-label":(0,be.sprintf)((0,be.__)("Change status: %s"),Ph[e]?.label),"aria-expanded":v,children:Ph[e]?.label}),renderContent:({onClose:_})=>(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)(lI.__experimentalInspectorPopoverHeader,{title:(0,be.__)("Status & visibility"),onClose:_}),(0,Ye.jsx)("form",{onSubmit:v=>{v.preventDefault(),_()},children:(0,Ye.jsxs)(no.__experimentalVStack,{spacing:4,children:[(0,Ye.jsx)(no.RadioControl,{className:"editor-change-status__options",hideLabelFromVision:!0,label:(0,be.__)("Status"),options:iP,onChange:b,selected:e==="auto-draft"?"draft":e}),e==="future"&&(0,Ye.jsx)("div",{className:"editor-change-status__publish-date-wrapper",children:(0,Ye.jsx)(YS,{showPopoverHeaderActions:!1,isCompact:!0})}),e!=="private"&&(0,Ye.jsxs)(no.__experimentalVStack,{as:"fieldset",spacing:4,className:"editor-change-status__password-fieldset",children:[(0,Ye.jsx)(no.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,be.__)("Password protected"),help:(0,be.__)("Only visible to those who know the password."),checked:a,onChange:g}),a&&(0,Ye.jsx)("div",{className:"editor-change-status__password-input",children:(0,Ye.jsx)(no.TextControl,{label:(0,be.__)("Password"),onChange:v=>h({password:v}),value:o,placeholder:(0,be.__)("Use a secure password"),type:"text",id:l,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,maxLength:255})})]}),(0,Ye.jsx)(Sh,{})]})})]})}):(0,Ye.jsx)("div",{className:"editor-post-status is-read-only",children:Ph[e]?.label})})}function Ah({forceIsDirty:e}){let[t,o]=(0,Ch.useState)(!1),s=(0,kh.useViewportMatch)("small"),{isAutosaving:i,isDirty:n,isNew:a,isPublished:c,isSaveable:l,isSaving:d,isScheduled:u,hasPublishAction:p,showIconLabels:f,postStatus:h,postStatusHasChanged:g}=(0,Eh.useSelect)(V=>{let{isEditedPostNew:O,isCurrentPostPublished:M,isCurrentPostScheduled:D,isEditedPostDirty:j,isSavingPost:U,isEditedPostSaveable:H,getCurrentPost:z,isAutosavingPost:Q,getEditedPostAttribute:X,getPostEdits:ee}=V(m),{get:xe}=V(uI.store);return{isAutosaving:Q(),isDirty:e||j(),isNew:O(),isPublished:M(),isSaving:U(),isSaveable:H(),isScheduled:D(),hasPublishAction:z()?._links?.["wp:action-publish"]??!1,showIconLabels:xe("core","showIconLabels"),postStatus:X("status"),postStatusHasChanged:!!ee()?.status}},[e]),b=h==="pending",{savePost:_}=(0,Eh.useDispatch)(m),v=(0,kh.usePrevious)(d);if((0,Ch.useEffect)(()=>{let V;return v&&!d&&(o(!0),V=setTimeout(()=>{o(!1)},1e3)),()=>clearTimeout(V)},[d]),!p&&b)return null;let x=!["pending","draft","auto-draft"].includes(h)&&iP.map(({value:V})=>V).includes(h);if(c||u||x||g&&["pending","draft"].includes(h))return null;let S=b?(0,dn.__)("Save as pending"):(0,dn.__)("Save draft"),C=(0,dn.__)("Save"),T=t||!a&&!n,I=d||T,N=d||T||!l,L;return d?L=i?(0,dn.__)("Autosaving"):(0,dn.__)("Saving"):T?L=(0,dn.__)("Saved"):s?L=S:f&&(L=C),(0,xh.jsxs)(Th.Button,{className:l||d?W({"editor-post-save-draft":!I,"editor-post-saved-state":I,"is-saving":d,"is-autosaving":i,"is-saved":T,[(0,Th.__unstableGetAnimateClassName)({type:"loading"})]:d}):void 0,onClick:N?void 0:()=>_(),shortcut:N?void 0:dI.displayShortcut.primary("s"),variant:"tertiary",size:"compact",icon:s?void 0:a_,label:L||S,"aria-disabled":N,children:[I&&(0,xh.jsx)(Dl,{icon:T?Jt:c_}),L]})}var pI=r(P());function Ih({children:e}){return(0,pI.useSelect)(o=>o(m).getCurrentPost()._links?.["wp:action-publish"]??!1,[])?e:null}var $a=r(y()),Rh=r(E()),Ya=r(w()),Bh=r(A()),mI=r(P());var Lj=[ae,De,yt,jo];function Nh(){let[e,t]=(0,Bh.useState)(null),o=(0,mI.useSelect)(a=>a(m).getCurrentPostType(),[]),s=(0,Bh.useMemo)(()=>({anchor:e,"aria-label":(0,Ya.__)("Change publish date"),placement:"left-start",offset:36,shift:!0}),[e]),i=Ha(),n=Ha({full:!0});return Lj.includes(o)?null:(0,$a.jsx)(Ih,{children:(0,$a.jsx)(ye,{label:(0,Ya.__)("Publish"),ref:t,children:(0,$a.jsx)(Rh.Dropdown,{popoverProps:s,focusOnMount:!0,className:"editor-post-schedule__panel-dropdown",contentClassName:"editor-post-schedule__dialog",renderToggle:({onToggle:a,isOpen:c})=>(0,$a.jsx)(Rh.Button,{size:"compact",className:"editor-post-schedule__dialog-toggle",variant:"tertiary",tooltipPosition:"middle left",onClick:a,"aria-label":(0,Ya.sprintf)((0,Ya.__)("Change date: %s"),i),label:n,showTooltip:i!==n,"aria-expanded":c,children:i}),renderContent:({onClose:a})=>(0,$a.jsx)(ja,{onClose:a})})})})}var un=r(y()),Mh=r(E()),Za=r(w()),Dh=r(P()),fI=r(A()),hI=r(pr());function gI(){(0,hI.default)("wp.editor.PostSwitchToDraftButton",{since:"6.7",version:"6.9"});let[e,t]=(0,fI.useState)(!1),{editPost:o,savePost:s}=(0,Dh.useDispatch)(m),{isSaving:i,isPublished:n,isScheduled:a}=(0,Dh.useSelect)(p=>{let{isSavingPost:f,isCurrentPostPublished:h,isCurrentPostScheduled:g}=p(m);return{isSaving:f(),isPublished:h(),isScheduled:g()}},[]),c=i||!n&&!a,l,d;n?(l=(0,Za.__)("Are you sure you want to unpublish this post?"),d=(0,Za.__)("Unpublish")):a&&(l=(0,Za.__)("Are you sure you want to unschedule this post?"),d=(0,Za.__)("Unschedule"));let u=()=>{t(!1),o({status:"draft"}),s()};return(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(Mh.Button,{__next40pxDefaultSize:!0,className:"editor-post-switch-to-draft",onClick:()=>{c||t(!0)},"aria-disabled":c,variant:"secondary",style:{flexGrow:"1",justifyContent:"center"},children:(0,Za.__)("Switch to draft")}),(0,un.jsx)(Mh.__experimentalConfirmDialog,{isOpen:e,onConfirm:u,onCancel:()=>t(!1),confirmButtonText:d,children:l})]})}var aP=r(y()),bI=r(P()),fd=r(w());function Oh(){let{syncStatus:e,postType:t}=(0,bI.useSelect)(o=>{let{getEditedPostAttribute:s}=o(m);return{syncStatus:s("meta")?.wp_pattern_sync_status==="unsynced"?"unsynced":s("wp_pattern_sync_status"),postType:s("type")}});return t!=="wp_block"?null:(0,aP.jsx)(ye,{label:(0,fd.__)("Sync status"),children:(0,aP.jsx)("div",{className:"editor-post-sync-status__value",children:e==="unsynced"?(0,fd._x)("Not synced","pattern (singular)"):(0,fd._x)("Synced","pattern (singular)")})})}var lP=r(y()),_I=r(A()),yI=r(P()),vI=r(R());var Fj=e=>e;function Vj({taxonomyWrapper:e=Fj}){let{postType:t,taxonomies:o}=(0,yI.useSelect)(i=>({postType:i(m).getCurrentPostType(),taxonomies:i(vI.store).getEntityRecords("root","taxonomy",{per_page:-1})}),[]);return(o??[]).filter(i=>i.types.includes(t)&&i.visibility?.show_ui).map(i=>{let n=i.hierarchical?dh:nh,a={slug:i.slug,...i.hierarchical?{}:{__nextHasNoMarginBottom:!0}};return(0,lP.jsx)(_I.Fragment,{children:e((0,lP.jsx)(n,{...a}),i)},`taxonomy-${i.slug}`)})}var qa=Vj;var SI=r(P()),PI=r(R());function Lh({children:e}){return(0,SI.useSelect)(o=>{let s=o(m).getCurrentPostType();return o(PI.store).getEntityRecords("root","taxonomy",{per_page:-1})?.some(n=>n.types.includes(s))},[])?e:null}var hd=r(y()),wI=r(E()),Fh=r(P());function jj({taxonomy:e,children:t}){let o=e?.slug,s=o?`taxonomy-panel-${o}`:"",{isEnabled:i,isOpened:n}=(0,Fh.useSelect)(l=>{let{isEditorPanelEnabled:d,isEditorPanelOpened:u}=l(m);return{isEnabled:o?d(s):!1,isOpened:o?u(s):!1}},[s,o]),{toggleEditorPanelOpened:a}=(0,Fh.useDispatch)(m);if(!i)return null;let c=e?.labels?.menu_name;return c?(0,hd.jsx)(wI.PanelBody,{title:c,opened:n,onToggle:()=>a(s),children:t}):null}function Vh(){return(0,hd.jsx)(Lh,{children:(0,hd.jsx)(qa,{taxonomyWrapper:(e,t)=>(0,hd.jsx)(jj,{taxonomy:t,children:e})})})}var pn=r(y()),UI=r(pP()),mP=r(w()),fP=r(R()),HI=r(A()),zI=r(ve()),Gh=r(P()),GI=r($()),WI=r(E());function bd(){let e=(0,GI.useInstanceId)(bd),{content:t,blocks:o,type:s,id:i}=(0,Gh.useSelect)(c=>{let{getEditedEntityRecord:l}=c(fP.store),{getCurrentPostType:d,getCurrentPostId:u}=c(m),p=d(),f=u(),h=l("postType",p,f);return{content:h?.content,blocks:h?.blocks,type:p,id:f}},[]),{editEntityRecord:n}=(0,Gh.useDispatch)(fP.store),a=(0,HI.useMemo)(()=>t instanceof Function?t({blocks:o}):o?(0,zI.__unstableSerializeAndClean)(o):t,[t,o]);return(0,pn.jsxs)(pn.Fragment,{children:[(0,pn.jsx)(WI.VisuallyHidden,{as:"label",htmlFor:`post-content-${e}`,children:(0,mP.__)("Type text or HTML")}),(0,pn.jsx)(UI.default,{autoComplete:"off",dir:"auto",value:a,onChange:c=>{n("postType",s,i,{content:c.target.value,blocks:void 0,selection:void 0})},className:"editor-post-text-editor",id:`post-content-${e}`,placeholder:(0,mP.__)("Start writing with text or HTML")})]})}var Kh=r(y());var YI=r(w()),Qa=r(A()),ZI=r(_e()),Qh=r(P()),hP=r(F()),qI=r(to()),KI=r(ve()),Xa=r(Jv()),QI=r($()),gP=r(ca());var Wh="wp-block wp-block-post-title block-editor-block-list__block editor-post-title editor-post-title__input rich-text",$h=/[\r\n]+/g;var Ka=r(A()),$I=r(P());function Yh(e){let t=(0,Ka.useRef)(),{isCleanNewPost:o}=(0,$I.useSelect)(s=>{let{isCleanNewPost:i}=s(m);return{isCleanNewPost:i()}},[]);return(0,Ka.useImperativeHandle)(e,()=>({focus:()=>{t?.current?.focus()}})),(0,Ka.useEffect)(()=>{if(!t.current)return;let{defaultView:s}=t.current.ownerDocument,{name:i,parent:n}=s,a=i==="editor-canvas"?n.document:s.document,{activeElement:c,body:l}=a;o&&(!c||l===c)&&t.current.focus()},[o]),{ref:t}}var Zh=r(P());function qh(){let{editPost:e}=(0,Zh.useDispatch)(m),{title:t}=(0,Zh.useSelect)(s=>{let{getEditedPostAttribute:i}=s(m);return{title:i("title")}},[]);function o(s){e({title:s})}return{title:t,setTitle:o}}var Qj=(0,Qa.forwardRef)((e,t)=>{let{placeholder:o}=(0,Qh.useSelect)(L=>{let{getSettings:V}=L(hP.store),{titlePlaceholder:O}=V();return{placeholder:O}},[]),[s,i]=(0,Qa.useState)(!1),{ref:n}=Yh(t),{title:a,setTitle:c}=qh(),[l,d]=(0,Qa.useState)({}),{clearSelectedBlock:u,insertBlocks:p,insertDefaultBlock:f}=(0,Qh.useDispatch)(hP.store),h=(0,ZI.decodeEntities)(o)||(0,YI.__)("Add title"),{value:g,onChange:b,ref:_}=(0,Xa.__unstableUseRichText)({value:a,onChange(L){c(L.replace($h," "))},placeholder:h,selectionStart:l.start,selectionEnd:l.end,onSelectionChange(L,V){d(O=>{let{start:M,end:D}=O;return M===L&&D===V?O:{start:L,end:V}})},__unstableDisableFormats:!1});function v(L){p(L,0)}function x(){i(!0),u()}function S(){i(!1),d({})}function C(){f(void 0,void 0,0)}function T(L){L.keyCode===qI.ENTER&&(L.preventDefault(),C())}function I(L){let V=L.clipboardData,O="",M="";try{O=V.getData("text/plain"),M=V.getData("text/html")}catch{return}window.console.log(`Received HTML:

`,M),window.console.log(`Received plain text:

`,O);let D=(0,KI.pasteHandler)({HTML:M,plainText:O});if(L.preventDefault(),!!D.length)if(typeof D!="string"){let[j]=D;if(!a&&(j.name==="core/heading"||j.name==="core/paragraph")){let U=(0,gP.__unstableStripHTML)(j.attributes.content);c(U),v(D.slice(1))}else v(D)}else{let j=(0,gP.__unstableStripHTML)(D);b((0,Xa.insert)(g,(0,Xa.create)({html:j})))}}let N=W(Wh,{"is-selected":s});return(0,Kh.jsx)("h1",{ref:(0,QI.useMergeRefs)([_,n]),contentEditable:!0,className:N,"aria-label":h,role:"textbox","aria-multiline":"true",onFocus:x,onBlur:S,onKeyDown:T,onPaste:I})}),Xh=(0,Qa.forwardRef)((e,t)=>(0,Kh.jsx)(Ee,{supportKeys:"title",children:(0,Kh.jsx)(Qj,{ref:t})}));var XI=r(y());var JI=r(E()),eR=r(w()),tR=r(_e()),oR=r(P()),rR=r(F()),Jh=r(A());function Xj(e,t){let{placeholder:o}=(0,oR.useSelect)(h=>{let{getSettings:g}=h(rR.store),{titlePlaceholder:b}=g();return{placeholder:b}},[]),[s,i]=(0,Jh.useState)(!1),{title:n,setTitle:a}=qh(),{ref:c}=Yh(t);function l(h){a(h.replace($h," "))}function d(){i(!0)}function u(){i(!1)}let p=W(Wh,{"is-selected":s,"is-raw-text":!0}),f=(0,tR.decodeEntities)(o)||(0,eR.__)("Add title");return(0,XI.jsx)(JI.TextareaControl,{ref:c,value:n,onChange:l,onFocus:d,onBlur:u,label:o,className:p,placeholder:f,hideLabelFromVision:!0,autoComplete:"off",dir:"auto",rows:1,__nextHasNoMarginBottom:!0})}var eg=(0,Jh.forwardRef)(Xj);var _d=r(y()),Ja=r(w()),og=r(E()),el=r(P()),nR=r(A());var sR=r(P()),iR=r(R());function tg({children:e}){let{canTrashPost:t}=(0,sR.useSelect)(o=>{let{isEditedPostNew:s,getCurrentPostId:i,getCurrentPostType:n}=o(m),{canUser:a}=o(iR.store),c=n(),l=i(),d=s(),u=l?a("delete",{kind:"postType",name:c,id:l}):!1;return{canTrashPost:(!d||l)&&u&&!Lw.includes(c)}},[]);return t?e:null}function rg({onActionPerformed:e}){let t=(0,el.useRegistry)(),{isNew:o,isDeleting:s,postId:i,title:n}=(0,el.useSelect)(u=>{let p=u(m);return{isNew:p.isEditedPostNew(),isDeleting:p.isDeletingPost(),postId:p.getCurrentPostId(),title:p.getCurrentPostAttribute("title")}},[]),{trashPost:a}=(0,el.useDispatch)(m),[c,l]=(0,nR.useState)(!1);if(o||!i)return null;let d=async()=>{l(!1),await a();let u=await t.resolveSelect(m).getCurrentPost();e?.("move-to-trash",[u])};return(0,_d.jsxs)(tg,{children:[(0,_d.jsx)(og.Button,{__next40pxDefaultSize:!0,className:"editor-post-trash",isDestructive:!0,variant:"secondary",isBusy:s,"aria-disabled":s,onClick:s?void 0:()=>l(!0),children:(0,Ja.__)("Move to trash")}),(0,_d.jsx)(og.__experimentalConfirmDialog,{isOpen:c,onConfirm:d,onCancel:()=>l(!1),confirmButtonText:(0,Ja.__)("Move to trash"),size:"small",children:(0,Ja.sprintf)((0,Ja.__)('Are you sure you want to move "%s" to the trash?'),n)})]})}var Be=r(y()),yd=r(P()),vd=r(ot()),sg=r(A()),aR=r(F()),mn=r(w()),Zt=r(E()),lR=r(he());var cR=r(R()),ig=r($());function Sd({onClose:e}){let{isEditable:t,postSlug:o,postLink:s,permalinkPrefix:i,permalinkSuffix:n,permalink:a}=(0,yd.useSelect)(h=>{let g=h(m).getCurrentPost(),b=h(m).getCurrentPostType(),_=h(cR.store).getPostType(b),v=h(m).getPermalinkParts(),x=g?._links?.["wp:action-publish"]??!1;return{isEditable:h(m).isPermalinkEditable()&&x,postSlug:(0,vd.safeDecodeURIComponent)(h(m).getEditedPostSlug()),viewPostLabel:_?.labels.view_item,postLink:g.link,permalinkPrefix:v?.prefix,permalinkSuffix:v?.suffix,permalink:(0,vd.safeDecodeURIComponent)(h(m).getPermalink())}},[]),{editPost:c}=(0,yd.useDispatch)(m),{createNotice:l}=(0,yd.useDispatch)(lR.store),[d,u]=(0,sg.useState)(!1),p=(0,ig.useCopyToClipboard)(a,()=>{l("info",(0,mn.__)("Copied Permalink to clipboard."),{isDismissible:!0,type:"snackbar"})}),f="editor-post-url__slug-description-"+(0,ig.useInstanceId)(Sd);return(0,Be.jsxs)("div",{className:"editor-post-url",children:[(0,Be.jsx)(aR.__experimentalInspectorPopoverHeader,{title:(0,mn.__)("Slug"),onClose:e}),(0,Be.jsxs)(Zt.__experimentalVStack,{spacing:3,children:[t&&(0,Be.jsx)("p",{className:"editor-post-url__intro",children:(0,sg.createInterpolateElement)((0,mn.__)("<span>Customize the last part of the Permalink.</span> <a>Learn more.</a>"),{span:(0,Be.jsx)("span",{id:f}),a:(0,Be.jsx)(Zt.ExternalLink,{href:(0,mn.__)("https://wordpress.org/documentation/article/page-post-settings-sidebar/#permalink")})})}),(0,Be.jsxs)("div",{children:[t&&(0,Be.jsxs)(Be.Fragment,{children:[(0,Be.jsx)(Zt.__experimentalInputControl,{__next40pxDefaultSize:!0,prefix:(0,Be.jsx)(Zt.__experimentalInputControlPrefixWrapper,{children:"/"}),suffix:(0,Be.jsx)(Zt.__experimentalInputControlSuffixWrapper,{variant:"control",children:(0,Be.jsx)(Zt.Button,{icon:Fl,ref:p,size:"small",label:"Copy"})}),label:(0,mn.__)("Slug"),hideLabelFromVision:!0,value:d?"":o,autoComplete:"off",spellCheck:"false",type:"text",className:"editor-post-url__input",onChange:h=>{if(c({slug:h}),!h){d||u(!0);return}d&&u(!1)},onBlur:h=>{c({slug:(0,vd.cleanForSlug)(h.target.value)}),d&&u(!1)},"aria-describedby":f}),(0,Be.jsxs)("p",{className:"editor-post-url__permalink",children:[(0,Be.jsx)("span",{className:"editor-post-url__permalink-visual-label",children:(0,mn.__)("Permalink:")}),(0,Be.jsxs)(Zt.ExternalLink,{className:"editor-post-url__link",href:s,target:"_blank",children:[(0,Be.jsx)("span",{className:"editor-post-url__link-prefix",children:i}),(0,Be.jsx)("span",{className:"editor-post-url__link-slug",children:o}),(0,Be.jsx)("span",{className:"editor-post-url__link-suffix",children:n})]})]})]}),!t&&(0,Be.jsx)(Zt.ExternalLink,{className:"editor-post-url__link",href:s,target:"_blank",children:s})]})]})]})}var dR=r(P()),uR=r(R());function ng({children:e}){return(0,dR.useSelect)(o=>{let s=o(m).getCurrentPostType();return!(!o(uR.store).getPostType(s)?.viewable||!o(m).getCurrentPost().link||!o(m).getPermalinkParts())},[])?e:null}var pR=r(P()),ag=r(ot());function mR(){return bP()}function bP(){let e=(0,pR.useSelect)(t=>t(m).getPermalink(),[]);return(0,ag.filterURLForDisplay)((0,ag.safeDecodeURIComponent)(e))}var ao=r(y()),lg=r(A()),cg=r(P()),ol=r(E()),tl=r(w()),fR=r(ot()),hR=r(R());function dg(){let{isFrontPage:e}=(0,cg.useSelect)(n=>{let{getCurrentPostId:a}=n(m),{getEditedEntityRecord:c,canUser:l}=n(hR.store),d=l("read",{kind:"root",name:"site"})?c("root","site"):void 0,u=a();return{isFrontPage:d?.page_on_front===u}},[]),[t,o]=(0,lg.useState)(null),s=(0,lg.useMemo)(()=>({anchor:t,placement:"left-start",offset:36,shift:!0}),[t]),i=e?(0,tl.__)("Link"):(0,tl.__)("Slug");return(0,ao.jsx)(ng,{children:(0,ao.jsxs)(ye,{label:i,ref:o,children:[!e&&(0,ao.jsx)(ol.Dropdown,{popoverProps:s,className:"editor-post-url__panel-dropdown",contentClassName:"editor-post-url__panel-dialog",focusOnMount:!0,renderToggle:({isOpen:n,onToggle:a})=>(0,ao.jsx)(Jj,{isOpen:n,onClick:a}),renderContent:({onClose:n})=>(0,ao.jsx)(Sd,{onClose:n})}),e&&(0,ao.jsx)(eU,{})]})})}function Jj({isOpen:e,onClick:t}){let{slug:o}=(0,cg.useSelect)(i=>({slug:i(m).getEditedPostSlug()}),[]),s=(0,fR.safeDecodeURIComponent)(o);return(0,ao.jsx)(ol.Button,{size:"compact",className:"editor-post-url__panel-toggle",variant:"tertiary","aria-expanded":e,"aria-label":(0,tl.sprintf)((0,tl.__)("Change link: %s"),s),onClick:t,children:(0,ao.jsx)(ao.Fragment,{children:s})})}function eU(){let{postLink:e}=(0,cg.useSelect)(t=>{let{getCurrentPost:o}=t(m);return{postLink:o()?.link}},[]);return(0,ao.jsx)(ol.ExternalLink,{className:"editor-post-url__front-page-link",href:e,target:"_blank",children:e})}var gR=r(P());function bR({render:e}){let t=(0,gR.useSelect)(o=>o(m).getCurrentPost()._links?.["wp:action-publish"]??!1);return e({canEdit:t})}var pg=r(y()),IR=r(w()),mg=r(E()),RR=r(P());var BR=r(A()),NR=r(F());var Te=r(y()),_s=r(w()),ER=r(P()),CR=r(F());var yR=r(y()),vR=r(P()),SR=r(w()),PR=r(Pd());function rl(){let e=(0,vR.useSelect)(o=>o(m).getEditedPostAttribute("content"),[]),t=(0,SR._x)("words","Word count type. Do not translate!");return(0,yR.jsx)("span",{className:"word-count",children:(0,PR.count)(e,t)})}var ug=r(y()),wR=r(P()),li=r(w()),xR=r(Pd()),_P=r(A());var tU=189;function sl(){let e=(0,wR.useSelect)(i=>i(m).getEditedPostAttribute("content"),[]),t=(0,li._x)("words","Word count type. Do not translate!"),o=Math.round((0,xR.count)(e,t)/tU),s=o===0?(0,_P.createInterpolateElement)((0,li.__)("<span>< 1</span> minute"),{span:(0,ug.jsx)("span",{})}):(0,_P.createInterpolateElement)((0,li.sprintf)((0,li._n)("<span>%s</span> minute","<span>%s</span> minutes",o),o),{span:(0,ug.jsx)("span",{})});return(0,ug.jsx)("span",{className:"time-to-read",children:s})}var TR=r(P()),kR=r(Pd());function il(){let e=(0,TR.useSelect)(t=>t(m).getEditedPostAttribute("content"),[]);return(0,kR.count)(e,"characters_including_spaces")}function oU({hasOutlineItemsDisabled:e,onRequestClose:t}){let{headingCount:o,paragraphCount:s,numberOfBlocks:i}=(0,ER.useSelect)(n=>{let{getGlobalBlockCount:a}=n(CR.store);return{headingCount:a("core/heading"),paragraphCount:a("core/paragraph"),numberOfBlocks:a()}},[]);return(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"table-of-contents__wrapper",role:"note","aria-label":(0,_s.__)("Document Statistics"),tabIndex:"0",children:(0,Te.jsxs)("ul",{role:"list",className:"table-of-contents__counts",children:[(0,Te.jsxs)("li",{className:"table-of-contents__count",children:[(0,_s.__)("Words"),(0,Te.jsx)(rl,{})]}),(0,Te.jsxs)("li",{className:"table-of-contents__count",children:[(0,_s.__)("Characters"),(0,Te.jsx)("span",{className:"table-of-contents__number",children:(0,Te.jsx)(il,{})})]}),(0,Te.jsxs)("li",{className:"table-of-contents__count",children:[(0,_s.__)("Time to read"),(0,Te.jsx)(sl,{})]}),(0,Te.jsxs)("li",{className:"table-of-contents__count",children:[(0,_s.__)("Headings"),(0,Te.jsx)("span",{className:"table-of-contents__number",children:o})]}),(0,Te.jsxs)("li",{className:"table-of-contents__count",children:[(0,_s.__)("Paragraphs"),(0,Te.jsx)("span",{className:"table-of-contents__number",children:s})]}),(0,Te.jsxs)("li",{className:"table-of-contents__count",children:[(0,_s.__)("Blocks"),(0,Te.jsx)("span",{className:"table-of-contents__number",children:i})]})]})}),o>0&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("hr",{}),(0,Te.jsx)("h2",{className:"table-of-contents__title",children:(0,_s.__)("Document Outline")}),(0,Te.jsx)(pa,{onSelect:t,hasOutlineItemsDisabled:e})]})]})}var AR=oU;function rU({hasOutlineItemsDisabled:e,repositionDropdown:t,...o},s){let i=(0,RR.useSelect)(n=>!!n(NR.store).getBlockCount(),[]);return(0,pg.jsx)(mg.Dropdown,{popoverProps:{placement:t?"right":"bottom"},className:"table-of-contents",contentClassName:"table-of-contents__popover",renderToggle:({isOpen:n,onToggle:a})=>(0,pg.jsx)(mg.Button,{__next40pxDefaultSize:!0,...o,ref:s,onClick:i?a:void 0,icon:C_,"aria-expanded":n,"aria-haspopup":"true",label:(0,IR.__)("Details"),tooltipPosition:"bottom","aria-disabled":!i}),renderContent:({onClose:n})=>(0,pg.jsx)(AR,{onRequestClose:n,hasOutlineItemsDisabled:e})})}var MR=(0,BR.forwardRef)(rU);var DR=r(w()),OR=r(A()),LR=r(P()),FR=r(R());function VR(){let{__experimentalGetDirtyEntityRecords:e}=(0,LR.useSelect)(FR.store);return(0,OR.useEffect)(()=>{let t=o=>{if(e().length>0)return o.returnValue=(0,DR.__)("You have unsaved changes. If you proceed, they will be lost."),o.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e]),null}var HR=r(y()),yP=r(pr()),zR=r(A()),B=r(F()),GR=r(UR());function te(e,t,o=[]){let s=(0,zR.forwardRef)((i,n)=>((0,yP.default)("wp.editor."+e,{since:"5.3",alternative:"wp.blockEditor."+e,version:"6.2"}),(0,HR.jsx)(t,{ref:n,...i})));return o.forEach(i=>{s[i]=te(e+"."+i,t[i])}),s}function xr(e,t){return(...o)=>((0,yP.default)("wp.editor."+e,{since:"5.3",alternative:"wp.blockEditor."+e,version:"6.2"}),t(...o))}var WR=te("RichText",B.RichText,["Content"]);WR.isEmpty=xr("RichText.isEmpty",B.RichText.isEmpty);var sU=te("Autocomplete",B.Autocomplete),iU=te("AlignmentToolbar",B.AlignmentToolbar),nU=te("BlockAlignmentToolbar",B.BlockAlignmentToolbar),aU=te("BlockControls",B.BlockControls,["Slot"]),lU=te("BlockEdit",B.BlockEdit),cU=te("BlockEditorKeyboardShortcuts",B.BlockEditorKeyboardShortcuts),dU=te("BlockFormatControls",B.BlockFormatControls,["Slot"]),uU=te("BlockIcon",B.BlockIcon),pU=te("BlockInspector",B.BlockInspector),mU=te("BlockList",B.BlockList),fU=te("BlockMover",B.BlockMover),hU=te("BlockNavigationDropdown",B.BlockNavigationDropdown),gU=te("BlockSelectionClearer",B.BlockSelectionClearer),bU=te("BlockSettingsMenu",B.BlockSettingsMenu),_U=te("BlockTitle",B.BlockTitle),yU=te("BlockToolbar",B.BlockToolbar),vU=te("ColorPalette",B.ColorPalette),SU=te("ContrastChecker",B.ContrastChecker),PU=te("CopyHandler",B.CopyHandler),wU=te("DefaultBlockAppender",B.DefaultBlockAppender),xU=te("FontSizePicker",B.FontSizePicker),TU=te("Inserter",B.Inserter),kU=te("InnerBlocks",B.InnerBlocks,["ButtonBlockAppender","DefaultBlockAppender","Content"]),EU=te("InspectorAdvancedControls",B.InspectorAdvancedControls,["Slot"]),CU=te("InspectorControls",B.InspectorControls,["Slot"]),AU=te("PanelColorSettings",B.PanelColorSettings),IU=te("PlainText",B.PlainText),RU=te("RichTextShortcut",B.RichTextShortcut),BU=te("RichTextToolbarButton",B.RichTextToolbarButton),NU=te("__unstableRichTextInputEvent",B.__unstableRichTextInputEvent),MU=te("MediaPlaceholder",B.MediaPlaceholder),DU=te("MediaUpload",B.MediaUpload),OU=te("MediaUploadCheck",B.MediaUploadCheck),LU=te("MultiSelectScrollIntoView",B.MultiSelectScrollIntoView),FU=te("NavigableToolbar",B.NavigableToolbar),VU=te("ObserveTyping",B.ObserveTyping),jU=te("SkipToSelectedBlock",B.SkipToSelectedBlock),UU=te("URLInput",B.URLInput),HU=te("URLInputButton",B.URLInputButton),zU=te("URLPopover",B.URLPopover),GU=te("Warning",B.Warning),WU=te("WritingFlow",B.WritingFlow),$U=xr("createCustomColorsHOC",B.createCustomColorsHOC),YU=xr("getColorClassName",B.getColorClassName),ZU=xr("getColorObjectByAttributeValues",B.getColorObjectByAttributeValues),qU=xr("getColorObjectByColorValue",B.getColorObjectByColorValue),KU=xr("getFontSize",B.getFontSize),QU=xr("getFontSizeClass",B.getFontSizeClass),XU=xr("withColorContext",B.withColorContext),JU=xr("withColors",B.withColors),eH=xr("withFontSizes",B.withFontSizes);var tH=na,oH=na;function rH(e=[]){return e.push({..._m}),e}(0,$R.addFilter)("editor.Autocomplete.completers","editor/autocompleters/set-default-completers",rH);var YR=r(_t()),ZR=r(uc());(0,YR.addFilter)("editor.MediaUpload","core/editor/components/media-upload",()=>ZR.MediaUpload);var Eo=r(y()),KR=r(_t()),QR=r(Ho()),XR=r($()),JR=r(F()),eB=r(P()),tB=r(ve());var{PatternOverridesControls:sH,ResetOverridesControl:iH,PatternOverridesBlockControls:nH,PATTERN_TYPES:aH,PARTIAL_SYNCING_SUPPORTED_BLOCKS:lH,PATTERN_SYNC_TYPES:qR}=k(QR.privateApis),cH=(0,XR.createHigherOrderComponent)(e=>t=>{let o=!!lH[t.name];return(0,Eo.jsxs)(Eo.Fragment,{children:[(0,Eo.jsx)(e,{...t},"edit"),t.isSelected&&o&&(0,Eo.jsx)(dH,{...t}),o&&(0,Eo.jsx)(nH,{})]})},"withPatternOverrideControls");function dH(e){let t=(0,JR.useBlockEditingMode)(),{hasPatternOverridesSource:o,isEditingSyncedPattern:s}=(0,eB.useSelect)(l=>{let{getCurrentPostType:d,getEditedPostAttribute:u}=l(m);return{hasPatternOverridesSource:!!(0,tB.getBlockBindingsSource)("core/pattern-overrides"),isEditingSyncedPattern:d()===aH.user&&u("meta")?.wp_pattern_sync_status!==qR.unsynced&&u("wp_pattern_sync_status")!==qR.unsynced}},[]),i=e.attributes.metadata?.bindings,n=!!i&&Object.values(i).some(l=>l.source==="core/pattern-overrides"),a=s&&t==="default",c=!s&&!!e.attributes.metadata?.name&&t!=="disabled"&&n;return o?(0,Eo.jsxs)(Eo.Fragment,{children:[a&&(0,Eo.jsx)(sH,{...e}),c&&(0,Eo.jsx)(iH,{...e})]}):null}(0,KR.addFilter)("editor.BlockEdit","core/editor/with-pattern-override-controls",cH);var Tr=r(y()),oB=r(_t()),rB=r($()),sB=r(A()),vP=r(w()),nl=r(F()),fg=r(E()),iB=r(P()),uH=["core/navigation-link","core/navigation-submenu"];function pH({attributes:e}){let{kind:t,id:o,type:s}=e,i=(0,nl.useBlockEditingMode)(),n=(0,iB.useSelect)(c=>c(nl.store).getSettings().onNavigateToEntityRecord,[]),a=(0,sB.useCallback)(()=>{t==="post-type"&&s==="page"&&o&&n&&n({postId:o,postType:s})},[t,o,s,n]);return t!=="post-type"||s!=="page"||!o||!n||i!=="contentOnly"?null:(0,Tr.jsx)(nl.__unstableBlockToolbarLastItem,{children:(0,Tr.jsx)(fg.ToolbarGroup,{children:(0,Tr.jsx)(fg.ToolbarButton,{name:"view",title:(0,vP.__)("View"),onClick:a,children:(0,vP.__)("View")})})})}var mH=(0,rB.createHigherOrderComponent)(e=>t=>{let o=uH.includes(t.name);return(0,Tr.jsxs)(Tr.Fragment,{children:[(0,Tr.jsx)(e,{...t},"edit"),t.isSelected&&o&&(0,Tr.jsx)(pH,{...t})]})},"withNavigationViewButton");(0,oB.addFilter)("editor.BlockEdit","core/editor/with-navigation-view-button",mH);var rr=r(y()),nB=r(_t()),aB=r($()),lB=r(A()),SP=r(w()),wd=r(F()),al=r(E()),xd=r(P());var fH="core/navigation",hH="core/template-part",gH="edit-post/block";function bH({clientId:e}){let{selectBlock:t,flashBlock:o}=(0,xd.useDispatch)(wd.store),{enableComplementaryArea:s}=(0,xd.useDispatch)(Y),{hasNavigationBlocks:i,firstNavigationBlockId:n,isNavigationEditable:a}=(0,xd.useSelect)(l=>{let{getClientIdsOfDescendants:d,getBlockName:u,getBlockEditingMode:p}=l(wd.store),h=d(e).filter(_=>u(_)===fH),g=h.length>0,b=g?h[0]:null;return{hasNavigationBlocks:g,firstNavigationBlockId:b,isNavigationEditable:p(b)!=="disabled"}},[e]),c=(0,lB.useCallback)(()=>{n&&(t(n),o(n,500),s("core",gH))},[n,t,o,s]);return!i||!a?null:(0,rr.jsx)(wd.BlockControls,{group:"other",children:(0,rr.jsxs)(al.ToolbarGroup,{children:[(0,rr.jsx)(al.__experimentalDivider,{orientation:"vertical",marginEnd:3}),(0,rr.jsx)(al.ToolbarButton,{label:(0,SP.__)("Edit navigation"),onClick:c,children:(0,SP.__)("Edit navigation")})]})})}var _H=(0,aB.createHigherOrderComponent)(e=>t=>{let o=t.name===hH;return(0,rr.jsxs)(rr.Fragment,{children:[(0,rr.jsx)(e,{...t},"edit"),t.isSelected&&o&&(0,rr.jsx)(bH,{clientId:t.clientId})]})},"withTemplatePartNavigationEditButton");(0,nB.addFilter)("editor.BlockEdit","core/editor/with-template-part-navigation-edit-button",_H);var cB=r(E()),yH=(0,cB.createSlotFill)(Symbol("EditCanvasContainerSlot")),hg=yH;var dB=r(y()),Td=r(E()),PP="__experimentalMainDashboardButton",uB=()=>{let e=(0,Td.__experimentalUseSlotFills)(PP);return!!(e&&e.length)},{Fill:vH,Slot:SH}=(0,Td.createSlotFill)(PP),pB=vH,PH=()=>{let e=(0,Td.__experimentalUseSlotFills)(PP);return(0,dB.jsx)(SH,{bubblesVirtually:!0,fillProps:{length:e?e.length:0}})};pB.Slot=PH;var gg=pB;var Dr=r(y()),y4=r(P()),v4=r(R()),S4=r(E()),P4=r(w());var Ze=r(y());var HN=r(P()),kr=r(w()),zN=r(Pe()),zg=r(F()),GN=r($()),Gg=r(A());var He=r(y()),cN=r(F()),dN=r(P()),Rd=r($()),Id=r(E()),uN=r(Pe()),pN=r(A());var ys=r(y());var ll=r(F()),mB=r(A()),bg=r(E()),wP=r(w());var fB=r(P());var{useHasBlockToolbar:wH}=k(ll.privateApis);function hB({isCollapsed:e,onToggle:t}){let{blockSelectionStart:o}=(0,fB.useSelect)(n=>({blockSelectionStart:n(ll.store).getBlockSelectionStart()}),[]),s=wH(),i=!!o;return(0,mB.useEffect)(()=>{o&&t(!1)},[o,t]),s?(0,ys.jsxs)(ys.Fragment,{children:[(0,ys.jsx)("div",{className:W("editor-collapsible-block-toolbar",{"is-collapsed":e||!i}),children:(0,ys.jsx)(ll.BlockToolbar,{hideDragHandle:!0})}),(0,ys.jsx)(bg.Popover.Slot,{name:"block-toolbar"}),(0,ys.jsx)(bg.Button,{className:"editor-collapsible-block-toolbar__toggle",icon:e?U_:q_,onClick:()=>{t(!e)},label:e?(0,wP.__)("Show block tools"):(0,wP.__)("Hide block tools"),size:"compact"})]}):null}var sr=r(y());var gB=r($()),_g=r(P()),fn=r(w()),bB=r(F()),cl=r(E());var xP=r(A()),_B=r(Wo()),yB=r(Pe());function xH({className:e,disableBlockTools:t=!1}){let{setIsInserterOpened:o,setIsListViewOpened:s}=(0,_g.useDispatch)(m),{isDistractionFree:i,isInserterOpened:n,isListViewOpen:a,listViewShortcut:c,inserterSidebarToggleRef:l,listViewToggleRef:d,showIconLabels:u}=(0,_g.useSelect)(x=>{let{get:S}=x(yB.store),{isListViewOpened:C,getEditorMode:T,getInserterSidebarToggleRef:I,getListViewToggleRef:N}=k(x(m)),{getShortcutRepresentation:L}=x(_B.store);return{isInserterOpened:x(m).isInserterOpened(),isListViewOpen:C(),listViewShortcut:L("core/editor/toggle-list-view"),inserterSidebarToggleRef:I(),listViewToggleRef:N(),showIconLabels:S("core","showIconLabels"),isDistractionFree:S("core","distractionFree"),isVisualMode:T()==="visual"}},[]),p=x=>{n&&x.preventDefault()},f=(0,gB.useViewportMatch)("wide"),h=(0,fn.__)("Document tools"),g=(0,xP.useCallback)(()=>s(!a),[s,a]),b=(0,xP.useCallback)(()=>o(!n),[n,o]),_=(0,fn._x)("Block Inserter","Generic label for block inserter button"),v=n?(0,fn.__)("Close"):(0,fn.__)("Add");return(0,sr.jsx)(bB.NavigableToolbar,{className:W("editor-document-tools","edit-post-header-toolbar",e),"aria-label":h,variant:"unstyled",children:(0,sr.jsxs)("div",{className:"editor-document-tools__left",children:[!i&&(0,sr.jsx)(cl.ToolbarButton,{ref:l,className:"editor-document-tools__inserter-toggle",variant:"primary",isPressed:n,onMouseDown:p,onClick:b,disabled:t,icon:Y_,label:u?v:_,showTooltip:!u,"aria-expanded":n}),(f||!u)&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)(cl.ToolbarItem,{as:Nm,showTooltip:!u,variant:u?"tertiary":void 0,size:"compact"}),(0,sr.jsx)(cl.ToolbarItem,{as:Im,showTooltip:!u,variant:u?"tertiary":void 0,size:"compact"}),!i&&(0,sr.jsx)(cl.ToolbarButton,{className:"editor-document-tools__document-overview-toggle",icon:Wl,disabled:t,isPressed:a,label:(0,fn.__)("Document Overview"),onClick:g,shortcut:c,showTooltip:!u,variant:u?"tertiary":void 0,"aria-expanded":a,ref:d})]})]})})}var vB=xH;var Me=r(y()),Ne=r(w()),dl=r(P()),EP=r(to());var Co=r(E()),hn=r(Pe());var SB=r(y()),PB=r(E()),kd=r(P()),TP=r(w()),wB=r($()),xB=r(he()),TB=r(R()),kB=r(ve());function EB(){let{createNotice:e}=(0,kd.useDispatch)(xB.store),{getCurrentPostId:t,getCurrentPostType:o}=(0,kd.useSelect)(m),{getEditedEntityRecord:s}=(0,kd.useSelect)(TB.store);function i(){let c=s("postType",o(),t());if(!c)return"";if(typeof c.content=="function")return c.content(c);if(c.blocks)return(0,kB.__unstableSerializeAndClean)(c.blocks);if(c.content)return c.content}function n(){e("info",(0,TP.__)("All content copied."),{isDismissible:!0,type:"snackbar"})}let a=(0,wB.useCopyToClipboard)(i,n);return(0,SB.jsx)(PB.MenuItem,{ref:a,children:(0,TP.__)("Copy all blocks")})}var kP=r(y()),Ed=r(w()),yg=r(E()),vg=r(P()),CB=r(Wo());var TH=[{value:"visual",label:(0,Ed.__)("Visual editor")},{value:"text",label:(0,Ed.__)("Code editor")}];function kH(){let{shortcut:e,isRichEditingEnabled:t,isCodeEditingEnabled:o,mode:s}=(0,vg.useSelect)(c=>({shortcut:c(CB.store).getShortcutRepresentation("core/editor/toggle-mode"),isRichEditingEnabled:c(m).getEditorSettings().richEditingEnabled,isCodeEditingEnabled:c(m).getEditorSettings().codeEditingEnabled,mode:c(m).getEditorMode()}),[]),{switchEditorMode:i}=(0,vg.useDispatch)(m),n=s;!t&&s==="visual"&&(n="text"),!o&&s==="text"&&(n="visual");let a=TH.map(c=>(!o&&c.value==="text"&&(c={...c,disabled:!0}),!t&&c.value==="visual"&&(c={...c,disabled:!0,info:(0,Ed.__)("You can enable the visual editor in your profile settings.")}),c.value!==n&&!c.disabled?{...c,shortcut:e}:c));return(0,kP.jsx)(yg.MenuGroup,{label:(0,Ed.__)("Editor"),children:(0,kP.jsx)(yg.MenuItemsChoice,{choices:a,value:n,onSelect:i})})}var AB=kH;var IB=r(y()),RB=r(E()),{Fill:BB,Slot:EH}=(0,RB.createSlotFill)("ToolsMoreMenuGroup");BB.Slot=({fillProps:e})=>(0,IB.jsx)(EH,{fillProps:e});var Sg=BB;var NB=r(y()),MB=r(E()),DB=r(A()),{Fill:OB,Slot:CH}=(0,MB.createSlotFill)(DB.Platform.OS==="web"?Symbol("ViewMoreMenuGroup"):"ViewMoreMenuGroup");OB.Slot=({fillProps:e})=>(0,NB.jsx)(CH,{fillProps:e});var Pg=OB;function LB(){let{openModal:e}=(0,dl.useDispatch)(Y),{set:t}=(0,dl.useDispatch)(hn.store),{toggleDistractionFree:o}=(0,dl.useDispatch)(m),s=(0,dl.useSelect)(n=>n(hn.store).get("core","showIconLabels"),[]),i=()=>{t("core","distractionFree",!1)};return(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsx)(Co.DropdownMenu,{icon:yi,label:(0,Ne.__)("Options"),popoverProps:{placement:"bottom-end",className:"more-menu-dropdown__content"},toggleProps:{showTooltip:!s,...s&&{variant:"tertiary"},tooltipPosition:"bottom",size:"compact"},children:({onClose:n})=>(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)(Co.MenuGroup,{label:(0,Ne._x)("View","noun"),children:[(0,Me.jsx)(hn.PreferenceToggleMenuItem,{scope:"core",name:"fixedToolbar",onToggle:i,label:(0,Ne.__)("Top toolbar"),info:(0,Ne.__)("Access all block and document tools in a single place"),messageActivated:(0,Ne.__)("Top toolbar activated."),messageDeactivated:(0,Ne.__)("Top toolbar deactivated.")}),(0,Me.jsx)(hn.PreferenceToggleMenuItem,{scope:"core",name:"distractionFree",label:(0,Ne.__)("Distraction free"),info:(0,Ne.__)("Write with calmness"),handleToggling:!1,onToggle:()=>o({createNotice:!1}),messageActivated:(0,Ne.__)("Distraction free mode activated."),messageDeactivated:(0,Ne.__)("Distraction free mode deactivated."),shortcut:EP.displayShortcut.primaryShift("\\")}),(0,Me.jsx)(hn.PreferenceToggleMenuItem,{scope:"core",name:"focusMode",label:(0,Ne.__)("Spotlight mode"),info:(0,Ne.__)("Focus on one block at a time"),messageActivated:(0,Ne.__)("Spotlight mode activated."),messageDeactivated:(0,Ne.__)("Spotlight mode deactivated.")}),(0,Me.jsx)(Pg.Slot,{fillProps:{onClose:n}})]}),(0,Me.jsx)(AB,{}),(0,Me.jsx)(yo.Slot,{name:"core/plugin-more-menu",label:(0,Ne.__)("Panels"),fillProps:{onClick:n}}),(0,Me.jsxs)(Co.MenuGroup,{label:(0,Ne.__)("Tools"),children:[(0,Me.jsx)(Co.MenuItem,{onClick:()=>e("editor/keyboard-shortcut-help"),shortcut:EP.displayShortcut.access("h"),children:(0,Ne.__)("Keyboard shortcuts")}),(0,Me.jsx)(EB,{}),(0,Me.jsxs)(Co.MenuItem,{icon:jt,href:(0,Ne.__)("https://wordpress.org/documentation/article/wordpress-block-editor/"),target:"_blank",rel:"noopener noreferrer",children:[(0,Ne.__)("Help"),(0,Me.jsx)(Co.VisuallyHidden,{as:"span",children:(0,Ne.__)("(opens in a new tab)")})]}),(0,Me.jsx)(Sg.Slot,{fillProps:{onClose:n}})]}),(0,Me.jsx)(Co.MenuGroup,{children:(0,Me.jsx)(Co.MenuItem,{onClick:()=>e("editor/preferences"),children:(0,Ne.__)("Preferences")})})]})})})}var jB=r(y()),UB=r($()),wg=r(P());var FB="toggle",VB="button";function HB({forceIsDirty:e,setEntitiesSavedStatesCallback:t}){let o,s=(0,UB.useViewportMatch)("medium","<"),{togglePublishSidebar:i}=(0,wg.useDispatch)(m),{hasPublishAction:n,isBeingScheduled:a,isPending:c,isPublished:l,isPublishSidebarEnabled:d,isPublishSidebarOpened:u,isScheduled:p,postStatus:f,postStatusHasChanged:h}=(0,wg.useSelect)(g=>({hasPublishAction:!!g(m).getCurrentPost()?._links?.["wp:action-publish"],isBeingScheduled:g(m).isEditedPostBeingScheduled(),isPending:g(m).isCurrentPostPending(),isPublished:g(m).isCurrentPostPublished(),isPublishSidebarEnabled:g(m).isPublishSidebarEnabled(),isPublishSidebarOpened:g(m).isPublishSidebarOpened(),isScheduled:g(m).isCurrentPostScheduled(),postStatus:g(m).getEditedPostAttribute("status"),postStatusHasChanged:g(m).getPostEdits()?.status}),[]);return l||h&&!["future","publish"].includes(f)||p&&a||c&&!n&&!s?o=VB:s||d?o=FB:o=VB,(0,jB.jsx)(La,{forceIsDirty:e,isOpen:u,isToggle:o===FB,onToggle:i,setEntitiesSavedStatesCallback:t})}var zB=r(y()),GB=r(w()),WB=r(E());var $B=r(R()),YB=r(P()),ZB=r(Pe());function qB(){let{hasLoaded:e,permalink:t,isPublished:o,label:s,showIconLabels:i}=(0,YB.useSelect)(n=>{let a=n(m).getCurrentPostType(),c=n($B.store).getPostType(a),{get:l}=n(ZB.store);return{permalink:n(m).getPermalink(),isPublished:n(m).isCurrentPostPublished(),label:c?.labels.view_item,hasLoaded:!!c,showIconLabels:l("core","showIconLabels")}},[]);return!o||!t||!e?null:(0,zB.jsx)(WB.Button,{icon:jt,label:s||(0,GB.__)("View post"),href:t,target:"_blank",showTooltip:!i,size:"compact"})}var tt=r(y());var KB=r($()),Et=r(E()),ir=r(w());var Cd=r(P()),QB=r(R()),XB=r(Pe());var JB=r(F());function eN({forceIsAutosaveable:e,disabled:t}){let{deviceType:o,homeUrl:s,isTemplate:i,isViewable:n,showIconLabels:a,isTemplateHidden:c,templateId:l}=(0,Cd.useSelect)(C=>{let{getDeviceType:T,getCurrentPostType:I,getCurrentTemplateId:N,getRenderingMode:L}=C(m),{getEntityRecord:V,getPostType:O}=C(QB.store),{get:M}=C(XB.store),D=I();return{deviceType:T(),homeUrl:V("root","__unstableBase")?.home,isTemplate:D==="wp_template",isViewable:O(D)?.viewable??!1,showIconLabels:M("core","showIconLabels"),isTemplateHidden:L()==="post-only",templateId:N()}},[]),{setDeviceType:d,setRenderingMode:u,setDefaultRenderingMode:p}=k((0,Cd.useDispatch)(m)),{resetZoomLevel:f}=k((0,Cd.useDispatch)(JB.store)),h=C=>{d(C),f()};if((0,KB.useViewportMatch)("medium","<"))return null;let b={placement:"bottom-end"},_={className:"editor-preview-dropdown__toggle",iconPosition:"right",size:"compact",showTooltip:!a,disabled:t,accessibleWhenDisabled:t},v={"aria-label":(0,ir.__)("View options")},x={desktop:ku,mobile:Uu,tablet:lp},S=[{value:"Desktop",label:(0,ir.__)("Desktop"),icon:ku},{value:"Tablet",label:(0,ir.__)("Tablet"),icon:lp},{value:"Mobile",label:(0,ir.__)("Mobile"),icon:Uu}];return(0,tt.jsx)(Et.DropdownMenu,{className:W("editor-preview-dropdown",`editor-preview-dropdown--${o.toLowerCase()}`),popoverProps:b,toggleProps:_,menuProps:v,icon:x[o.toLowerCase()],label:(0,ir.__)("View"),disableOpenOnArrowDown:t,children:({onClose:C})=>(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(Et.MenuGroup,{children:(0,tt.jsx)(Et.MenuItemsChoice,{choices:S,value:o,onSelect:h})}),i&&(0,tt.jsx)(Et.MenuGroup,{children:(0,tt.jsxs)(Et.MenuItem,{href:s,target:"_blank",icon:jt,onClick:C,children:[(0,ir.__)("View site"),(0,tt.jsx)(Et.VisuallyHidden,{as:"span",children:(0,ir.__)("(opens in a new tab)")})]})}),!i&&!!l&&(0,tt.jsx)(Et.MenuGroup,{children:(0,tt.jsx)(Et.MenuItem,{icon:c?void 0:Jt,isSelected:!c,role:"menuitemcheckbox",onClick:()=>{let T=c?"template-locked":"post-only";u(T),p(T),f()},children:(0,ir.__)("Show template")})}),n&&(0,tt.jsx)(Et.MenuGroup,{children:(0,tt.jsx)(Da,{className:"editor-preview-dropdown__button-external",role:"menuitem",forceIsAutosaveable:e,"aria-label":(0,ir.__)("Preview in new tab"),textContent:(0,tt.jsxs)(tt.Fragment,{children:[(0,ir.__)("Preview in new tab"),(0,tt.jsx)(Et.Icon,{icon:jt})]}),onPreview:C})}),(0,tt.jsx)(yo.Slot,{name:"core/plugin-preview-menu",fillProps:{onClick:C}})]})})}var tN=r(y()),oN=r(E()),CP=r(w()),rN=r(A()),Ad=r(P()),AP=r(F());var IP=r(Pe()),xg=r(Wo()),sN=r(to());var AH=({disabled:e})=>{let{isZoomOut:t,showIconLabels:o,isDistractionFree:s}=(0,Ad.useSelect)(d=>({isZoomOut:k(d(AP.store)).isZoomOut(),showIconLabels:d(IP.store).get("core","showIconLabels"),isDistractionFree:d(IP.store).get("core","distractionFree")})),{resetZoomLevel:i,setZoomLevel:n}=k((0,Ad.useDispatch)(AP.store)),{registerShortcut:a,unregisterShortcut:c}=(0,Ad.useDispatch)(xg.store);return(0,rN.useEffect)(()=>(a({name:"core/editor/zoom",category:"global",description:(0,CP.__)("Enter or exit zoom out."),keyCombination:{modifier:(0,sN.isAppleOS)()?"primaryShift":"secondary",character:"0"}}),()=>{c("core/editor/zoom")}),[a,c]),(0,xg.useShortcut)("core/editor/zoom",()=>{t?i():n("auto-scaled")},{isDisabled:s}),(0,tN.jsx)(oN.Button,{accessibleWhenDisabled:!0,disabled:e,onClick:()=>{t?i():n("auto-scaled")},icon:iy,label:(0,CP.__)("Zoom Out"),isPressed:t,size:"compact",showTooltip:!o,className:"editor-zoom-out-toggle"})},iN=AH;var nN=r(E()),{Fill:IH,Slot:aN}=(0,nN.createSlotFill)("EditorPresence"),lN=IH;var RP={distractionFreeDisabled:{y:"-50px"},distractionFreeHover:{y:0},distractionFreeHidden:{y:"-50px"},visible:{y:0},hidden:{y:0}},RH={distractionFreeDisabled:{x:"-100%"},distractionFreeHover:{x:0},distractionFreeHidden:{x:"-100%"},visible:{x:0},hidden:{x:0}};function BH({customSaveButton:e,forceIsDirty:t,forceDisableBlockTools:o,setEntitiesSavedStatesCallback:s,title:i}){let n=(0,Rd.useViewportMatch)("large"),a=(0,Rd.useViewportMatch)("medium"),c=(0,Rd.useMediaQuery)("(max-width: 403px)"),{postType:l,isTextEditor:d,isPublishSidebarOpened:u,showIconLabels:p,hasFixedToolbar:f,hasBlockSelection:h,hasSectionRootClientId:g}=(0,dN.useSelect)(T=>{let{get:I}=T(uN.store),{getEditorMode:N,getCurrentPostType:L,isPublishSidebarOpened:V}=T(m),{getBlockSelectionStart:O,getSectionRootClientId:M}=k(T(cN.store));return{postType:L(),isTextEditor:N()==="text",isPublishSidebarOpened:V(),showIconLabels:I("core","showIconLabels"),hasFixedToolbar:I("core","fixedToolbar"),hasBlockSelection:!!O(),hasSectionRootClientId:!!M()}},[]),b=["post","page","wp_template"].includes(l)&&g,_=[jo,De,yt].includes(l)||o,[v,x]=(0,pN.useState)(!0),S=!c&&(!f||f&&(!h||v)),C=uB();return(0,He.jsxs)("div",{className:"editor-header edit-post-header",children:[C&&(0,He.jsx)(Id.__unstableMotion.div,{className:"editor-header__back-button",variants:RH,transition:{type:"tween"},children:(0,He.jsx)(gg.Slot,{})}),(0,He.jsxs)(Id.__unstableMotion.div,{variants:RP,className:"editor-header__toolbar",transition:{type:"tween"},children:[(0,He.jsx)(vB,{disableBlockTools:o||d}),f&&a&&(0,He.jsx)(hB,{isCollapsed:v,onToggle:x})]}),S&&(0,He.jsxs)(Id.__unstableMotion.div,{className:"editor-header__center",variants:RP,transition:{type:"tween"},children:[(0,He.jsx)(aN,{children:T=>T?.length?(0,He.jsx)("div",{className:"editor-header__editor-presence",children:T}):null}),(0,He.jsx)(xm,{title:i})]}),(0,He.jsxs)(Id.__unstableMotion.div,{variants:RP,transition:{type:"tween"},className:"editor-header__settings",children:[!e&&!u&&(0,He.jsx)(Ah,{forceIsDirty:t}),(0,He.jsx)(qB,{}),(0,He.jsx)(eN,{forceIsAutosaveable:t,disabled:_}),(0,He.jsx)(Da,{className:"editor-header__post-preview-button",forceIsAutosaveable:t}),n&&b&&(0,He.jsx)(iN,{disabled:o}),(n||!p)&&(0,He.jsx)(ta.Slot,{scope:"core"}),!e&&(0,He.jsx)(HB,{forceIsDirty:t,setEntitiesSavedStatesCallback:s}),e,(0,He.jsx)(LB,{})]})]})}var mN=BH;var Tg=r(y()),Bd=r(P()),kg=r(F()),fN=r($()),Nd=r(A()),hN=r(Pe()),gN=r(to());var{PrivateInserterLibrary:NH}=k(kg.privateApis);function bN(){let{blockSectionRootClientId:e,inserterSidebarToggleRef:t,inserter:o,showMostUsedBlocks:s,sidebarIsOpened:i}=(0,Bd.useSelect)(f=>{let{getInserterSidebarToggleRef:h,getInserter:g,isPublishSidebarOpened:b}=k(f(m)),{getBlockRootClientId:_,isZoomOut:v,getSectionRootClientId:x}=k(f(kg.store)),{get:S}=f(hN.store),{getActiveComplementaryArea:C}=f(Y),T=()=>{if(v()){let I=x();if(I)return I}return _()};return{inserterSidebarToggleRef:h(),inserter:g(),showMostUsedBlocks:S("core","mostUsedBlocks"),blockSectionRootClientId:T(),sidebarIsOpened:!!(C("core")||b())}},[]),{setIsInserterOpened:n}=(0,Bd.useDispatch)(m),{disableComplementaryArea:a}=(0,Bd.useDispatch)(Y),c=(0,fN.useViewportMatch)("medium","<"),l=(0,Nd.useRef)(),d=(0,Nd.useCallback)(()=>{n(!1),t.current?.focus()},[t,n]),u=(0,Nd.useCallback)(f=>{f.keyCode===gN.ESCAPE&&!f.defaultPrevented&&(f.preventDefault(),d())},[d]),p=(0,Tg.jsx)("div",{className:"editor-inserter-sidebar__content",children:(0,Tg.jsx)(NH,{showMostUsedBlocks:s,showInserterHelpPanel:!0,shouldFocusBlock:c,rootClientId:e,onSelect:o.onSelect,__experimentalInitialTab:o.tab,__experimentalInitialCategory:o.category,__experimentalFilterValue:o.filterValue,onPatternCategorySelection:i?()=>a("core"):void 0,ref:l,onClose:d})});return(0,Tg.jsx)("div",{onKeyDown:u,className:"editor-inserter-sidebar",children:p})}var ci=r(y()),Cg=r(F()),Ag=r($()),Ig=r(P()),BP=r(ca()),nr=r(A()),Dd=r(w()),yN=r(Wo()),vN=r(to());var ht=r(y()),Md=r(E()),Eg=r(w());function _N(){return(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsxs)("div",{className:"editor-list-view-sidebar__outline",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)(Md.__experimentalText,{children:(0,Eg.__)("Characters:")}),(0,ht.jsx)(Md.__experimentalText,{children:(0,ht.jsx)(il,{})})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)(Md.__experimentalText,{children:(0,Eg.__)("Words:")}),(0,ht.jsx)(rl,{})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)(Md.__experimentalText,{children:(0,Eg.__)("Time to read:")}),(0,ht.jsx)(sl,{})]})]}),(0,ht.jsx)(pa,{})]})}var{TabbedSidebar:MH}=k(Cg.privateApis);function SN(){let{setIsListViewOpened:e}=(0,Ig.useDispatch)(m),{getListViewToggleRef:t}=k((0,Ig.useSelect)(m)),o=(0,Ag.useFocusOnMount)("firstElement"),s=(0,nr.useCallback)(()=>{e(!1),t().current?.focus()},[t,e]),i=(0,nr.useCallback)(b=>{b.keyCode===vN.ESCAPE&&!b.defaultPrevented&&(b.preventDefault(),s())},[s]),[n,a]=(0,nr.useState)(null),[c,l]=(0,nr.useState)("list-view"),d=(0,nr.useRef)(),u=(0,nr.useRef)(),p=(0,nr.useRef)(),f=(0,Ag.useMergeRefs)([o,p,a]);function h(b){let _=BP.focus.tabbable.find(u.current)[0];if(b==="list-view"){let v=BP.focus.tabbable.find(p.current)[0];(d.current.contains(v)?v:_).focus()}else _.focus()}let g=(0,nr.useCallback)(()=>{d.current.contains(d.current.ownerDocument.activeElement)?s():h(c)},[s,c]);return(0,yN.useShortcut)("core/editor/toggle-list-view",g),(0,ci.jsx)("div",{className:"editor-list-view-sidebar",onKeyDown:i,ref:d,children:(0,ci.jsx)(MH,{tabs:[{name:"list-view",title:(0,Dd._x)("List View","Post overview"),panel:(0,ci.jsx)("div",{className:"editor-list-view-sidebar__list-view-container",children:(0,ci.jsx)("div",{className:"editor-list-view-sidebar__list-view-panel-content",children:(0,ci.jsx)(Cg.__experimentalListView,{dropZoneElement:n})})}),panelRef:f},{name:"outline",title:(0,Dd._x)("Outline","Post overview"),panel:(0,ci.jsx)("div",{className:"editor-list-view-sidebar__list-view-container",children:(0,ci.jsx)(_N,{})})}],onClose:s,onSelect:b=>l(b),defaultTabId:"list-view",ref:u,closeButtonLabel:(0,Dd.__)("Close")})})}var Ao=r(y()),Rg=r(P()),Od=r(E()),NP=r(w()),PN=r(A());var{Fill:yde,Slot:DH}=(0,Od.createSlotFill)("ActionsPanel");function wN({setEntitiesSavedStatesCallback:e,closeEntitiesSavedStates:t,isEntitiesSavedStatesOpen:o,forceIsDirtyPublishPanel:s}){let{closePublishSidebar:i,togglePublishSidebar:n}=(0,Rg.useDispatch)(m),{publishSidebarOpened:a,isPublishable:c,isDirty:l,hasOtherEntitiesChanges:d}=(0,Rg.useSelect)(f=>{let{isPublishSidebarOpened:h,isEditedPostPublishable:g,isCurrentPostPublished:b,isEditedPostDirty:_,hasNonPostEntityChanges:v}=f(m),x=v();return{publishSidebarOpened:h(),isPublishable:!b()&&g(),isDirty:x||_(),hasOtherEntitiesChanges:x}},[]),u=(0,PN.useCallback)(()=>e(!0),[]),p;return a?p=(0,Ao.jsx)(_h,{onClose:i,forceIsDirty:s,PrePublishExtension:df.Slot,PostPublishExtension:nf.Slot}):c&&!d?p=(0,Ao.jsx)("div",{className:"editor-layout__toggle-publish-panel",children:(0,Ao.jsx)(Od.Button,{__next40pxDefaultSize:!0,variant:"secondary",onClick:n,"aria-expanded":!1,children:(0,NP.__)("Open publish panel")})}):p=(0,Ao.jsx)("div",{className:"editor-layout__toggle-entities-saved-states-panel",children:(0,Ao.jsx)(Od.Button,{__next40pxDefaultSize:!0,variant:"secondary",onClick:u,"aria-expanded":!1,"aria-haspopup":"dialog",disabled:!l,accessibleWhenDisabled:!0,children:(0,NP.__)("Open save panel")})}),(0,Ao.jsxs)(Ao.Fragment,{children:[o&&(0,Ao.jsx)(Hm,{close:t,renderDialog:!0}),(0,Ao.jsx)(DH,{bubblesVirtually:!0}),!o&&p]})}var vs=r(y()),xN=r(E()),Bg=r(P()),MP=r(w()),TN=r(Wo()),Ng=r(A());function kN({autoFocus:e=!1}){let{switchEditorMode:t}=(0,Bg.useDispatch)(m),{shortcut:o,isRichEditingEnabled:s}=(0,Bg.useSelect)(n=>{let{getEditorSettings:a}=n(m),{getShortcutRepresentation:c}=n(TN.store);return{shortcut:c("core/editor/toggle-mode"),isRichEditingEnabled:a().richEditingEnabled}},[]),i=(0,Ng.useRef)();return(0,Ng.useEffect)(()=>{e||i?.current?.focus()},[e]),(0,vs.jsxs)("div",{className:"editor-text-editor",children:[s&&(0,vs.jsxs)("div",{className:"editor-text-editor__toolbar",children:[(0,vs.jsx)("h2",{children:(0,MP.__)("Editing code")}),(0,vs.jsx)(xN.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:()=>t("visual"),shortcut:o,children:(0,MP.__)("Exit code editor")})]}),(0,vs.jsxs)("div",{className:"editor-text-editor__body",children:[(0,vs.jsx)(eg,{ref:i}),(0,vs.jsx)(bd,{})]})]})}var gt=r(y());var Ct=r(F()),Io=r(A()),Ug=r(P()),jP=r(ve()),jN=r(R()),Hg=r($());var EN=r(y()),DP=r(P()),CN=r(R()),Mg=r(A()),OP=r(w()),AN=r(E());function IN({contentRef:e}){let{onNavigateToEntityRecord:t,templateId:o}=(0,DP.useSelect)(a=>{let{getEditorSettings:c,getCurrentTemplateId:l}=a(m);return{onNavigateToEntityRecord:c().onNavigateToEntityRecord,templateId:l()}},[]),s=(0,DP.useSelect)(a=>!!a(CN.store).canUser("create",{kind:"postType",name:"wp_template"}),[]),[i,n]=(0,Mg.useState)(!1);return(0,Mg.useEffect)(()=>{let a=l=>{s&&(!l.target.classList.contains("is-root-container")||l.target.dataset?.type==="core/template-part"||l.defaultPrevented||(l.preventDefault(),n(!0)))},c=e.current;return c?.addEventListener("dblclick",a),()=>{c?.removeEventListener("dblclick",a)}},[e,s]),s?(0,EN.jsx)(AN.__experimentalConfirmDialog,{isOpen:i,confirmButtonText:(0,OP.__)("Edit template"),onConfirm:()=>{n(!1),t({postId:o,postType:"wp_template"})},onCancel:()=>n(!1),size:"medium",children:(0,OP.__)("You\u2019ve tried to select a block that is part of a template that may be used elsewhere on your site. Would you like to edit the template?")}):null}var Og=r(y());var pl=r(A()),NN=r(E());var di=r(y()),Dg=r(w()),ui=r(to()),ul=r(E()),RN=20;function LP({direction:e,resizeWidthBy:t}){function o(n){let{keyCode:a}=n;a!==ui.LEFT&&a!==ui.RIGHT||(n.preventDefault(),e==="left"&&a===ui.LEFT||e==="right"&&a===ui.RIGHT?t(RN):(e==="left"&&a===ui.RIGHT||e==="right"&&a===ui.LEFT)&&t(-RN))}let s={active:{opacity:1,scaleY:1.3}},i=`resizable-editor__resize-help-${e}`;return(0,di.jsxs)(di.Fragment,{children:[(0,di.jsx)(ul.Tooltip,{text:(0,Dg.__)("Drag to resize"),children:(0,di.jsx)(ul.__unstableMotion.button,{className:`editor-resizable-editor__resize-handle is-${e}`,"aria-label":(0,Dg.__)("Drag to resize"),"aria-describedby":i,onKeyDown:o,variants:s,whileFocus:"active",whileHover:"active",whileTap:"active",role:"separator","aria-orientation":"vertical"},"handle")}),(0,di.jsx)(ul.VisuallyHidden,{id:i,children:(0,Dg.__)("Use left and right arrow keys to resize the canvas.")})]})}var BN={position:void 0,userSelect:void 0,cursor:void 0,width:void 0,height:void 0,top:void 0,right:void 0,bottom:void 0,left:void 0};function OH({className:e,enableResizing:t,height:o,children:s}){let[i,n]=(0,pl.useState)("100%"),a=(0,pl.useRef)(),c=(0,pl.useCallback)(l=>{a.current&&n(a.current.offsetWidth+l)},[]);return(0,Og.jsx)(NN.ResizableBox,{className:W("editor-resizable-editor",e,{"is-resizable":t}),ref:l=>{a.current=l?.resizable},size:{width:t?i:"100%",height:t&&o?o:"100%"},onResizeStop:(l,d,u)=>{n(u.style.width)},minWidth:300,maxWidth:"100%",maxHeight:"100%",enable:{left:t,right:t},showHandle:t,resizeRatio:2,handleComponent:{left:(0,Og.jsx)(LP,{direction:"left",resizeWidthBy:c}),right:(0,Og.jsx)(LP,{direction:"right",resizeWidthBy:c})},handleClasses:void 0,handleStyles:{left:BN,right:BN},children:s})}var Lg=OH;var DN=r($()),Fg=r(P()),FP=r(F());var LH=500;function MN(e,t,o){return Math.min(Math.max(e,t),o)}function FH(e,t,o){let s=e-MN(e,o.left,o.right),i=t-MN(t,o.top,o.bottom);return Math.sqrt(s*s+i*i)}function ON({isEnabled:e=!0}={}){let{getEnabledClientIdsTree:t,getBlockName:o,getBlockOrder:s}=k((0,Fg.useSelect)(FP.store)),{selectBlock:i}=(0,Fg.useDispatch)(FP.store);return(0,DN.useRefEffect)(n=>{if(!e)return;let a=(l,d)=>{let u=t().flatMap(({clientId:h})=>{let g=o(h);if(g==="core/template-part")return[];if(g==="core/post-content"){let b=s(h);if(b.length)return b}return[h]}),p=1/0,f=null;for(let h of u){let g=n.querySelector(`[data-block="${h}"]`);if(!g)continue;let b=g.getBoundingClientRect(),_=FH(l,d,b);_<p&&_<LH&&(p=_,f=h)}f&&i(f)},c=l=>{(l.target===n||l.target.classList.contains("is-root-container"))&&a(l.clientX,l.clientY)};return n.addEventListener("click",c),()=>n.removeEventListener("click",c)},[e])}var Vg=r(P()),LN=r($()),VP=r(F());function FN(){let{getSettings:e,isZoomOut:t}=k((0,Vg.useSelect)(VP.store)),{resetZoomLevel:o}=k((0,Vg.useDispatch)(VP.store));return(0,LN.useRefEffect)(s=>{function i(n){if(t()&&!n.defaultPrevented){n.preventDefault();let{__experimentalSetIsInserterOpened:a}=e();typeof a=="function"&&a(!1),o()}}return s.addEventListener("dblclick",i),()=>{s.removeEventListener("dblclick",i)}},[e,t,o])}var{LayoutStyle:jg,useLayoutClasses:VH,useLayoutStyles:jH,ExperimentalBlockCanvas:UH,useFlashEditableBlocks:HH}=k(Ct.privateApis),zH=[yt,ae,jo,De];function UP(e){for(let t=0;t<e.length;t++){if(e[t].name==="core/post-content")return e[t].attributes;if(e[t].innerBlocks.length){let o=UP(e[t].innerBlocks);if(o)return o}}}function VN(e){for(let t=0;t<e.length;t++)if(e[t].name==="core/post-content")return!0;return!1}function GH({autoFocus:e,styles:t,disableIframe:o=!1,iframeProps:s,contentRef:i,className:n}){let a=(0,Hg.useViewportMatch)("small","<"),{renderingMode:c,postContentAttributes:l,editedPostTemplate:d={},wrapperBlockName:u,wrapperUniqueId:p,deviceType:f,isFocusedEntity:h,isDesignPostType:g,postType:b,isPreview:_,canvasMinHeight:v}=(0,Ug.useSelect)(ie=>{let{getCurrentPostId:Ie,getCurrentPostType:Le,getCurrentTemplateId:Fe,getEditorSettings:Xt,getRenderingMode:Or,getDeviceType:Z4,getCanvasMinHeight:q4}=k(ie(m)),{getPostType:K4,getEditedEntityRecord:Q4}=ie(jN.store),nu=Le(),mw=Or(),Wb;nu===yt?Wb="core/block":mw==="post-only"&&(Wb="core/post-content");let au=Xt(),X4=au.supportsTemplateMode,J4=K4(nu),fw=Fe(),eO=fw?Q4("postType",ae,fw):void 0;return{renderingMode:mw,postContentAttributes:au.postContentAttributes,isDesignPostType:zH.includes(nu),editedPostTemplate:J4?.viewable&&X4?eO:void 0,wrapperBlockName:Wb,wrapperUniqueId:Ie(),deviceType:Z4(),isFocusedEntity:!!au.onNavigateToPreviousEntityRecord,postType:nu,isPreview:au.isPreviewMode,canvasMinHeight:q4()}},[]),{isCleanNewPost:x}=(0,Ug.useSelect)(m),{hasRootPaddingAwareAlignments:S,themeHasDisabledLayoutStyles:C,themeSupportsLayout:T,isZoomedOut:I}=(0,Ug.useSelect)(ie=>{let{getSettings:Ie,isZoomOut:Le}=k(ie(Ct.store)),Fe=Ie();return{themeHasDisabledLayoutStyles:Fe.disableLayoutStyles,themeSupportsLayout:Fe.supportsLayout,hasRootPaddingAwareAlignments:Fe.__experimentalFeatures?.useRootPaddingAwareAlignments,isZoomedOut:Le()}},[]),N=(0,Io.useRef)(),L=(0,Ct.__experimentalUseResizeCanvas)(f),[V]=(0,Ct.useSettings)("layout"),O=(0,Io.useMemo)(()=>c!=="post-only"||g?{type:"default"}:T?{...V,type:"constrained"}:{type:"default"},[c,T,V,g]),M=(0,Io.useMemo)(()=>{if(!d?.content&&!d?.blocks&&l)return l;if(d?.blocks)return UP(d?.blocks);let ie=typeof d?.content=="string"?d?.content:"";return UP((0,jP.parse)(ie))||{}},[d?.content,d?.blocks,l]),D=(0,Io.useMemo)(()=>{if(!d?.content&&!d?.blocks)return!1;if(d?.blocks)return VN(d?.blocks);let ie=typeof d?.content=="string"?d?.content:"";return VN((0,jP.parse)(ie))||!1},[d?.content,d?.blocks]),{layout:j={},align:U=""}=M||{},H=VH(M,"core/post-content"),z=W({"is-layout-flow":!T},T&&H,U&&`align${U}`),Q=jH(M,"core/post-content",".block-editor-block-list__layout.is-root-container"),X=(0,Io.useMemo)(()=>j&&(j?.type==="constrained"||j?.inherit||j?.contentSize||j?.wideSize)?{...V,...j,type:"constrained"}:{...V,...j,type:"default"},[j?.type,j?.inherit,j?.contentSize,j?.wideSize,V]),ee=l?X:O,xe=ee?.type==="default"&&!D?O:ee,Qt=(0,Ct.__unstableUseTypingObserver)(),Ft=(0,Io.useRef)();(0,Io.useEffect)(()=>{!e||!x()||Ft?.current?.focus()},[e,x]);let It=`.is-root-container.alignwide { max-width: var(--wp--style--global--wide-size); margin-left: auto; margin-right: auto;}
		.is-root-container.alignwide:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: var(--wp--style--global--wide-size);}
		.is-root-container.alignfull { max-width: none; margin-left: auto; margin-right: auto;}
		.is-root-container.alignfull:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: none;}`,ze=[jo,De,yt].includes(b)&&!_&&!a&&!I,Vt=(0,Io.useMemo)(()=>{if(!N.current)return v;let{ownerDocument:ie}=N.current,Ie=ie.documentElement.scrollTop||ie.body.scrollTop;return v+Ie},[v]),se=(0,Io.useMemo)(()=>[...t??[],{css:`:where(.block-editor-iframe__body){display:flow-root;${Vt?`min-height:${Vt}px;`:""}}.is-root-container{display:flow-root;${ze?"min-height:0!important;":""}}
				${ze?".block-editor-iframe__html{background:var(--wp-editor-canvas-background);display:flex;align-items:center;justify-content:center;min-height:100vh;}.block-editor-iframe__body{width:100%;}":""}`}],[t,ze,Vt]),le=(0,Ct.__unstableUseTypewriter)();return i=(0,Hg.useMergeRefs)([N,i,c==="post-only"?le:null,HH({isEnabled:c==="template-locked"}),ON({isEnabled:c==="template-locked"}),FN()]),(0,gt.jsx)("div",{className:W("editor-visual-editor","edit-post-visual-editor",n,{"has-padding":h||ze,"is-resizable":ze,"is-iframed":!o}),children:(0,gt.jsx)(Lg,{enableResizing:ze,height:"100%",children:(0,gt.jsxs)(UH,{shouldIframe:!o,contentRef:i,styles:se,height:"100%",iframeProps:{...s,style:{...s?.style,...L}},children:[T&&!C&&c==="post-only"&&!g&&(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(jg,{selector:".editor-visual-editor__post-title-wrapper",layout:O}),(0,gt.jsx)(jg,{selector:".block-editor-block-list__layout.is-root-container",layout:xe}),U&&(0,gt.jsx)(jg,{css:It}),Q&&(0,gt.jsx)(jg,{layout:X,css:Q})]}),c==="post-only"&&!g&&(0,gt.jsx)("div",{className:W("editor-visual-editor__post-title-wrapper","edit-post-visual-editor__post-title-wrapper",{"has-global-padding":S}),contentEditable:!1,ref:Qt,style:{marginTop:"4rem"},children:(0,gt.jsx)(Xh,{ref:Ft})}),(0,gt.jsxs)(Ct.RecursionProvider,{blockName:u,uniqueId:p,children:[(0,gt.jsx)(Ct.BlockList,{className:W("is-"+f.toLowerCase()+"-preview",c!=="post-only"||g?"wp-site-blocks":`${z} wp-block-post-content`,{"has-global-padding":c==="post-only"&&!g&&S}),layout:ee,dropZoneElement:o?N.current:N.current?.parentNode,__unstableDisableDropZone:c==="template-locked"}),c==="template-locked"&&(0,gt.jsx)(IN,{contentRef:N})]})]})})})}var UN=GH;var WH={header:(0,kr.__)("Editor top bar"),body:(0,kr.__)("Editor content"),sidebar:(0,kr.__)("Editor settings"),actions:(0,kr.__)("Editor publish"),footer:(0,kr.__)("Editor footer")};function WN({className:e,styles:t,children:o,forceIsDirty:s,contentRef:i,disableIframe:n,autoFocus:a,customSaveButton:c,customSavePanel:l,forceDisableBlockTools:d,title:u,iframeProps:p}){let{mode:f,isInserterOpened:h,isListViewOpened:g,isDistractionFree:b,isPreviewMode:_,showBlockBreadcrumbs:v,documentLabel:x}=(0,HN.useSelect)(L=>{let{get:V}=L(zN.store),{getEditorSettings:O,getPostTypeLabel:M}=L(m),D=O(),j=M(),U=L(m).getEditorMode();return!D.richEditingEnabled&&U==="visual"&&(U="text"),!D.codeEditingEnabled&&U==="text"&&(U="visual"),{mode:U,isInserterOpened:L(m).isInserterOpened(),isListViewOpened:L(m).isListViewOpened(),isDistractionFree:V("core","distractionFree"),isPreviewMode:D.isPreviewMode,showBlockBreadcrumbs:V("core","showBlockBreadcrumbs"),documentLabel:j||(0,kr._x)("Document","noun, breadcrumb")}},[]),S=(0,GN.useViewportMatch)("medium"),C=g?(0,kr.__)("Document Overview"):(0,kr.__)("Block Library"),[T,I]=(0,Gg.useState)(!1),N=(0,Gg.useCallback)(L=>{typeof T=="function"&&T(L),I(!1)},[T]);return(0,Ze.jsx)(sm,{isDistractionFree:b,className:W("editor-editor-interface",e,{"is-entity-save-view-open":!!T,"is-distraction-free":b&&!_}),labels:{...WH,secondarySidebar:C},header:!_&&(0,Ze.jsx)(mN,{forceIsDirty:s,setEntitiesSavedStatesCallback:I,customSaveButton:c,forceDisableBlockTools:d,title:u}),editorNotices:(0,Ze.jsx)(Gc,{}),secondarySidebar:!_&&f==="visual"&&(h&&(0,Ze.jsx)(bN,{})||g&&(0,Ze.jsx)(SN,{})),sidebar:!_&&!b&&(0,Ze.jsx)(oa.Slot,{scope:"core"}),content:(0,Ze.jsxs)(Ze.Fragment,{children:[!b&&!_&&(0,Ze.jsx)(Gc,{}),(0,Ze.jsx)(hg.Slot,{children:([L])=>L||(0,Ze.jsxs)(Ze.Fragment,{children:[!_&&f==="text"&&(0,Ze.jsx)(kN,{autoFocus:a}),!_&&!S&&f==="visual"&&(0,Ze.jsx)(zg.BlockToolbar,{hideDragHandle:!0}),(_||f==="visual")&&(0,Ze.jsx)(UN,{styles:t,contentRef:i,disableIframe:n,autoFocus:a,iframeProps:p}),o]})})]}),footer:!_&&!b&&S&&v&&f==="visual"&&(0,Ze.jsx)(zg.BlockBreadcrumb,{rootLabelText:x}),actions:_?void 0:l||(0,Ze.jsx)(wN,{closeEntitiesSavedStates:N,isEntitiesSavedStatesOpen:T,setEntitiesSavedStatesCallback:I,forceIsDirtyPublishPanel:s})})}var lt=r(y()),pb=r(F()),mb=r(P()),Rr=r(A()),xl=r(w());var uD=r(Wo()),pD=r(E());var $N=r(y()),YN=r(P()),ZN=r(Ho());var{OverridesPanel:$H}=k(ZN.privateApis);function qN(){return(0,YN.useSelect)(t=>t(m).getCurrentPostType()==="wp_block",[])?(0,$N.jsx)($H,{}):null}var fe=r(y()),Vd=r(E()),MM=r(P());var Er=r(y()),ar=r(E()),aM=r(R()),lM=r(P()),cM=r(A()),gn=r(w()),dM=r(ca());var bt=r(y()),Kg=r(P()),Fd=r(A()),sM=r(w()),bl=r(E());var iM=r(R());var oM=r(y()),Ld=r(P()),Zg=r(A()),rM=r(R());var pi=r(y()),Ro=r(w()),KN=r(A()),Ss=r(E()),fl=r(P()),$g=r(R()),QN=r(he());var Wg=r(_e());function ml(e){return typeof e.title=="string"?(0,Wg.decodeEntities)(e.title):e.title&&"rendered"in e.title?(0,Wg.decodeEntities)(e.title.rendered):e.title&&"raw"in e.title?(0,Wg.decodeEntities)(e.title.raw):""}var YH=({items:e,closeModal:t})=>{let[o]=e,s=ml(o),{showOnFront:i,currentHomePage:n,isSaving:a}=(0,fl.useSelect)(g=>{let{getEntityRecord:b,isSavingEntityRecord:_}=g($g.store),v=b("root","site"),x=b("postType","page",v?.page_on_front);return{showOnFront:v?.show_on_front,currentHomePage:x,isSaving:_("root","site")}}),{saveEntityRecord:c}=(0,fl.useDispatch)($g.store),{createSuccessNotice:l,createErrorNotice:d}=(0,fl.useDispatch)(QN.store);async function u(g){g.preventDefault();try{await c("root","site",{page_on_front:o.id,show_on_front:"page"}),l((0,Ro.__)("Homepage updated."),{type:"snackbar"})}catch(b){let _=b.message&&b.code!=="unknown_error"?b.message:(0,Ro.__)("An error occurred while setting the homepage.");d(_,{type:"snackbar"})}finally{t?.()}}let p="";i==="posts"?p=(0,Ro.__)("This will replace the current homepage which is set to display latest posts."):n&&(p=(0,Ro.sprintf)((0,Ro.__)('This will replace the current homepage: "%s"'),ml(n)));let f=(0,Ro.sprintf)((0,Ro.__)('Set "%1$s" as the site homepage? %2$s'),s,p).trim(),h=(0,Ro.__)("Set homepage");return(0,pi.jsx)("form",{onSubmit:u,children:(0,pi.jsxs)(Ss.__experimentalVStack,{spacing:"5",children:[(0,pi.jsx)(Ss.__experimentalText,{children:f}),(0,pi.jsxs)(Ss.__experimentalHStack,{justify:"right",children:[(0,pi.jsx)(Ss.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:()=>{t?.()},disabled:a,accessibleWhenDisabled:!0,children:(0,Ro.__)("Cancel")}),(0,pi.jsx)(Ss.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",disabled:a,accessibleWhenDisabled:!0,children:h})]})]})})},XN=()=>{let{pageOnFront:e,pageForPosts:t}=(0,fl.useSelect)(o=>{let{getEntityRecord:s,canUser:i}=o($g.store),n=i("read",{kind:"root",name:"site"})?s("root","site"):void 0;return{pageOnFront:n?.page_on_front,pageForPosts:n?.page_for_posts}});return(0,KN.useMemo)(()=>({id:"set-as-homepage",label:(0,Ro.__)("Set as homepage"),isEligible(o){return!(o.status!=="publish"||o.type!=="page"||e===o.id||t===o.id)},modalFocusOnMount:"firstContentElement",RenderModal:YH}),[t,e])};var mi=r(y()),Bo=r(w()),JN=r(A()),Ps=r(E()),hl=r(P()),Yg=r(R()),eM=r(he());var ZH=({items:e,closeModal:t})=>{let[o]=e,s=ml(o),{currentPostsPage:i,isPageForPostsSet:n,isSaving:a}=(0,hl.useSelect)(g=>{let{getEntityRecord:b,isSavingEntityRecord:_}=g(Yg.store),v=b("root","site");return{currentPostsPage:b("postType","page",v?.page_for_posts),isPageForPostsSet:v?.page_for_posts!==0,isSaving:_("root","site")}}),{saveEntityRecord:c}=(0,hl.useDispatch)(Yg.store),{createSuccessNotice:l,createErrorNotice:d}=(0,hl.useDispatch)(eM.store);async function u(g){g.preventDefault();try{await c("root","site",{page_for_posts:o.id,show_on_front:"page"}),l((0,Bo.__)("Posts page updated."),{type:"snackbar"})}catch(b){let _=b.message&&b.code!=="unknown_error"?b.message:(0,Bo.__)("An error occurred while setting the posts page.");d(_,{type:"snackbar"})}finally{t?.()}}let p=n&&i?(0,Bo.sprintf)((0,Bo.__)('This will replace the current posts page: "%s"'),ml(i)):(0,Bo.__)("This page will show the latest posts."),f=(0,Bo.sprintf)((0,Bo.__)('Set "%1$s" as the posts page? %2$s'),s,p),h=(0,Bo.__)("Set posts page");return(0,mi.jsx)("form",{onSubmit:u,children:(0,mi.jsxs)(Ps.__experimentalVStack,{spacing:"5",children:[(0,mi.jsx)(Ps.__experimentalText,{children:f}),(0,mi.jsxs)(Ps.__experimentalHStack,{justify:"right",children:[(0,mi.jsx)(Ps.Button,{__next40pxDefaultSize:!0,variant:"tertiary",onClick:()=>{t?.()},disabled:a,accessibleWhenDisabled:!0,children:(0,Bo.__)("Cancel")}),(0,mi.jsx)(Ps.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",disabled:a,accessibleWhenDisabled:!0,children:h})]})]})})},tM=()=>{let{pageOnFront:e,pageForPosts:t}=(0,hl.useSelect)(o=>{let{getEntityRecord:s,canUser:i}=o(Yg.store),n=i("read",{kind:"root",name:"site"})?s("root","site"):void 0;return{pageOnFront:n?.page_on_front,pageForPosts:n?.page_for_posts}});return(0,JN.useMemo)(()=>({id:"set-as-posts-page",label:(0,Bo.__)("Set as posts page"),isEligible(o){return!(o.status!=="publish"||o.type!=="page"||e===o.id||t===o.id)},modalFocusOnMount:"firstContentElement",RenderModal:ZH}),[t,e])};function qg({postType:e,onActionPerformed:t,context:o}){let{defaultActions:s}=(0,Ld.useSelect)(l=>{let{getEntityActions:d}=k(l(m));return{defaultActions:d("postType",e)}},[e]),i=(0,Ld.useSelect)(l=>{if(e!=="page")return!1;let{getDefaultTemplateId:d,getEntityRecord:u,canUser:p}=l(rM.store);if(!p("update",{kind:"root",name:"site"}))return!1;let h=d({slug:"front-page"});if(!h)return!0;let g=u("postType","wp_template",h);return g?g.slug!=="front-page":!0},[e]),n=XN(),a=tM(),{registerPostTypeSchema:c}=k((0,Ld.useDispatch)(m));return(0,Zg.useEffect)(()=>{c(e)},[c,e]),(0,Zg.useMemo)(()=>{let l=[...s];if(i&&l.push(n,a),l=l.sort((d,u)=>u.id==="move-to-trash"?-1:0),l=l.filter(d=>d.context?d.context===o:!0),t)for(let d=0;d<l.length;++d){if(l[d].callback){let u=l[d].callback;l[d]={...l[d],callback:(p,f)=>{u(p,{...f,onActionPerformed:h=>{f?.onActionPerformed&&f.onActionPerformed(h),t(l[d].id,h)}})}}}if(l[d].RenderModal){let u=l[d].RenderModal;l[d]={...l[d],RenderModal:p=>(0,oM.jsx)(u,{...p,onActionPerformed:f=>{p.onActionPerformed&&p.onActionPerformed(f),t(l[d].id,f)}})}}}return l},[o,s,t,n,a,i])}var{Menu:gl,kebabCase:qH}=k(bl.privateApis);function nM({postType:e,postId:t,onActionPerformed:o}){let[s,i]=(0,Fd.useState)(null),{item:n,permissions:a}=(0,Kg.useSelect)(u=>{let{getEditedEntityRecord:p,getEntityRecordPermissions:f}=k(u(iM.store));return{item:p("postType",e,t),permissions:f("postType",e,t)}},[t,e]),c=(0,Fd.useMemo)(()=>({...n,permissions:a}),[n,a]),l=qg({postType:e,onActionPerformed:o}),d=(0,Fd.useMemo)(()=>l.filter(u=>!u.isEligible||u.isEligible(c)),[l,c]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(gl,{placement:"bottom-end",children:[(0,bt.jsx)(gl.TriggerButton,{render:(0,bt.jsx)(bl.Button,{size:"small",icon:yi,label:(0,sM.__)("Actions"),disabled:!d.length,accessibleWhenDisabled:!0,className:"editor-all-actions-button"})}),(0,bt.jsx)(gl.Popover,{children:(0,bt.jsx)(XH,{actions:d,items:[c],setActiveModalAction:i})})]}),!!s&&(0,bt.jsx)(QH,{action:s,items:[c],closeModal:()=>i(null)})]})}function KH({action:e,onClick:t,items:o}){let s=typeof e.label=="string"?e.label:e.label(o);return(0,bt.jsx)(gl.Item,{onClick:t,children:(0,bt.jsx)(gl.ItemLabel,{children:s})})}function QH({action:e,items:t,closeModal:o}){let s=typeof e.label=="string"?e.label:e.label(t);return(0,bt.jsx)(bl.Modal,{title:e.modalHeader||s,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:o??(()=>{}),focusOnMount:"firstContentElement",size:"medium",overlayClassName:`editor-action-modal editor-action-modal__${qH(e.id)}`,children:(0,bt.jsx)(e.RenderModal,{items:t,closeModal:o})})}function XH({actions:e,items:t,setActiveModalAction:o}){let s=(0,Kg.useRegistry)();return(0,bt.jsx)(gl.Group,{children:e.map(i=>(0,bt.jsx)(KH,{action:i,onClick:()=>{if("RenderModal"in i){o(i);return}i.callback(t,{registry:s})},items:t},i.id))})}var{Badge:JH}=k(ar.privateApis);function Qg({postType:e,postId:t,onActionPerformed:o}){let s=(0,cM.useMemo)(()=>Array.isArray(t)?t:[t],[t]),{postTitle:i,icon:n,labels:a}=(0,lM.useSelect)(d=>{let{getEditedEntityRecord:u,getCurrentTheme:p,getPostType:f}=d(aM.store),{getPostIcon:h}=k(d(m)),g="",b=u("postType",e,s[0]);if(s.length===1){let{default_template_types:_=[]}=p()??{};g=([ae,De].includes(e)?uo({template:b,templateTypes:_}):{})?.title||b?.title}return{postTitle:g,icon:h(e,{area:b?.area}),labels:f(e)?.labels}},[s,e]),c=Sm(t),l=(0,gn.__)("No title");return a?.name&&s.length>1?l=(0,gn.sprintf)((0,gn.__)("%1$d %2$s"),s.length,a?.name):i&&(l=(0,dM.__unstableStripHTML)(i)),(0,Er.jsxs)(ar.__experimentalVStack,{spacing:1,className:"editor-post-card-panel",children:[(0,Er.jsxs)(ar.__experimentalHStack,{spacing:2,className:"editor-post-card-panel__header",align:"flex-start",children:[(0,Er.jsx)(ar.Icon,{className:"editor-post-card-panel__icon",icon:n}),(0,Er.jsxs)(ar.__experimentalText,{numberOfLines:2,truncate:!0,className:"editor-post-card-panel__title",as:"h2",children:[(0,Er.jsx)("span",{className:"editor-post-card-panel__title-name",children:l}),c&&s.length===1&&(0,Er.jsx)(JH,{children:c})]}),s.length===1&&(0,Er.jsx)(nM,{postType:e,postId:s[0],onActionPerformed:o})]}),s.length>1&&(0,Er.jsx)(ar.__experimentalText,{className:"editor-post-card-panel__description",children:(0,gn.sprintf)((0,gn.__)("Changes will be applied to all selected %s."),a?.name.toLowerCase())})]})}var HP=r(y()),uM=r(E()),pM=r(P()),No=r(w()),mM=r(Pd()),fM=r(A()),zP=r(R());var ez=189;function hM(){let{postContent:e}=(0,pM.useSelect)(a=>{let{getEditedPostAttribute:c,getCurrentPostType:l,getCurrentPostId:d}=a(m),{canUser:u}=a(zP.store),{getEntityRecord:p}=a(zP.store),f=u("read",{kind:"root",name:"site"})?p("root","site"):void 0,h=l();return{postContent:!(+d()===f?.page_for_posts)&&![ae,De].includes(h)&&c("content")}},[]),t=(0,No._x)("words","Word count type. Do not translate!"),o=(0,fM.useMemo)(()=>e?(0,mM.count)(e,t):0,[e,t]);if(!o)return null;let s=Math.round(o/ez),i=(0,No.sprintf)((0,No._n)("%s word","%s words",o),o.toLocaleString()),n=s<=1?(0,No.__)("1 minute"):(0,No.sprintf)((0,No._n)("%s minute","%s minutes",s),s.toLocaleString());return(0,HP.jsx)("div",{className:"editor-post-content-information",children:(0,HP.jsx)(uM.__experimentalText,{children:(0,No.sprintf)((0,No.__)("%1$s, %2$s read time."),i,n)})})}var ws=r(y()),Xg=r(E()),_l=r(w()),gM=r(P()),Jg=r(A()),bM=r(F());function tz(){let{postFormat:e}=(0,gM.useSelect)(n=>{let{getEditedPostAttribute:a}=n(m);return{postFormat:a("format")??"standard"}},[]),t=od.find(n=>n.id===e),[o,s]=(0,Jg.useState)(null),i=(0,Jg.useMemo)(()=>({anchor:o,placement:"left-start",offset:36,shift:!0}),[o]);return(0,ws.jsx)(Ra,{children:(0,ws.jsx)(ye,{label:(0,_l.__)("Format"),ref:s,children:(0,ws.jsx)(Xg.Dropdown,{popoverProps:i,contentClassName:"editor-post-format__dialog",focusOnMount:!0,renderToggle:({isOpen:n,onToggle:a})=>(0,ws.jsx)(Xg.Button,{size:"compact",variant:"tertiary","aria-expanded":n,"aria-label":(0,_l.sprintf)((0,_l.__)("Change format: %s"),t?.caption),onClick:a,children:t?.caption}),renderContent:({onClose:n})=>(0,ws.jsxs)("div",{className:"editor-post-format__dialog-content",children:[(0,ws.jsx)(bM.__experimentalInspectorPopoverHeader,{title:(0,_l.__)("Format"),onClose:n}),(0,ws.jsx)(rd,{})]})})})})}var _M=tz;var GP=r(y()),yM=r(E()),vM=r(P()),eb=r(w()),SM=r(bi());function PM(){let e=(0,vM.useSelect)(o=>o(m).getEditedPostAttribute("modified"),[]),t=e&&(0,eb.sprintf)((0,eb.__)("Last edited %s."),(0,SM.humanTimeDiff)(e));return t?(0,GP.jsx)("div",{className:"editor-post-last-edited-panel",children:(0,GP.jsx)(yM.__experimentalText,{children:t})}):null}var wM=r(y());var xM=r(E());function oz({className:e,children:t}){return(0,wM.jsx)(xM.__experimentalVStack,{className:W("editor-post-panel__section",e),children:t})}var TM=oz;var Cr=r(y()),xs=r(w()),kM=r($()),tb=r(P()),WP=r(R()),EM=r(_e()),yl=r(E()),ob=r(A()),CM=r(F());var rz={};function AM(){let{editEntityRecord:e}=(0,tb.useDispatch)(WP.store),{postsPageTitle:t,postsPageId:o,isTemplate:s,postSlug:i}=(0,tb.useSelect)(u=>{let{getEntityRecord:p,getEditedEntityRecord:f,canUser:h}=u(WP.store),g=h("read",{kind:"root",name:"site"})?p("root","site"):void 0,b=g?.page_for_posts?f("postType","page",g?.page_for_posts):rz,{getEditedPostAttribute:_,getCurrentPostType:v}=u(m);return{postsPageId:b?.id,postsPageTitle:b?.title,isTemplate:v()===ae,postSlug:_("slug")}},[]),[n,a]=(0,ob.useState)(null),c=(0,ob.useMemo)(()=>({anchor:n,placement:"left-start",offset:36,shift:!0}),[n]);if(!s||!["home","index"].includes(i)||!o)return null;let l=u=>{e("postType","page",o,{title:u})},d=(0,EM.decodeEntities)(t);return(0,Cr.jsx)(ye,{label:(0,xs.__)("Blog title"),ref:a,children:(0,Cr.jsx)(yl.Dropdown,{popoverProps:c,contentClassName:"editor-blog-title-dropdown__content",focusOnMount:!0,renderToggle:({isOpen:u,onToggle:p})=>(0,Cr.jsx)(yl.Button,{size:"compact",variant:"tertiary","aria-expanded":u,"aria-label":(0,xs.sprintf)((0,xs.__)("Change blog title: %s"),d),onClick:p,children:d}),renderContent:({onClose:u})=>(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)(CM.__experimentalInspectorPopoverHeader,{title:(0,xs.__)("Blog title"),onClose:u}),(0,Cr.jsx)(yl.__experimentalInputControl,{placeholder:(0,xs.__)("No title"),size:"__unstable-large",value:t,onChange:(0,kM.debounce)(l,300),label:(0,xs.__)("Blog title"),help:(0,xs.__)("Set the Posts Page title. Appears in search results, and when the page is shared on social media."),hideLabelFromVision:!0})]})})})}var Ar=r(y()),vl=r(w()),rb=r(P()),$P=r(R()),Sl=r(E()),sb=r(A()),IM=r(F());function RM(){let{editEntityRecord:e}=(0,rb.useDispatch)($P.store),{postsPerPage:t,isTemplate:o,postSlug:s}=(0,rb.useSelect)(l=>{let{getEditedPostAttribute:d,getCurrentPostType:u}=l(m),{getEditedEntityRecord:p,canUser:f}=l($P.store),h=f("read",{kind:"root",name:"site"})?p("root","site"):void 0;return{isTemplate:u()===ae,postSlug:d("slug"),postsPerPage:h?.posts_per_page||1}},[]),[i,n]=(0,sb.useState)(null),a=(0,sb.useMemo)(()=>({anchor:i,placement:"left-start",offset:36,shift:!0}),[i]);if(!o||!["home","index"].includes(s))return null;let c=l=>{e("root","site",void 0,{posts_per_page:l})};return(0,Ar.jsx)(ye,{label:(0,vl.__)("Posts per page"),ref:n,children:(0,Ar.jsx)(Sl.Dropdown,{popoverProps:a,contentClassName:"editor-posts-per-page-dropdown__content",focusOnMount:!0,renderToggle:({isOpen:l,onToggle:d})=>(0,Ar.jsx)(Sl.Button,{size:"compact",variant:"tertiary","aria-expanded":l,"aria-label":(0,vl.__)("Change posts per page"),onClick:d,children:t}),renderContent:({onClose:l})=>(0,Ar.jsxs)(Ar.Fragment,{children:[(0,Ar.jsx)(IM.__experimentalInspectorPopoverHeader,{title:(0,vl.__)("Posts per page"),onClose:l}),(0,Ar.jsx)(Sl.__experimentalNumberControl,{placeholder:0,value:t,size:"__unstable-large",spinControls:"custom",step:"1",min:"1",onChange:c,label:(0,vl.__)("Posts per page"),help:(0,vl.__)("Set the default number of posts to display on blog pages, including categories and tags. Some templates may override this setting."),hideLabelFromVision:!0})]})})})}var Mo=r(y()),qt=r(w()),ib=r(P()),YP=r(R()),Ir=r(E()),nb=r(A()),BM=r(F());var sz=[{label:(0,qt._x)("Open",'Adjective: e.g. "Comments are open"'),value:"open",description:(0,qt.__)("Visitors can add new comments and replies.")},{label:(0,qt.__)("Closed"),value:"",description:[(0,qt.__)("Visitors cannot add new comments or replies."),(0,qt.__)("Existing comments remain visible.")].join(" ")}];function NM(){let{editEntityRecord:e}=(0,ib.useDispatch)(YP.store),{allowCommentsOnNewPosts:t,isTemplate:o,postSlug:s}=(0,ib.useSelect)(l=>{let{getEditedPostAttribute:d,getCurrentPostType:u}=l(m),{getEditedEntityRecord:p,canUser:f}=l(YP.store),h=f("read",{kind:"root",name:"site"})?p("root","site"):void 0;return{isTemplate:u()===ae,postSlug:d("slug"),allowCommentsOnNewPosts:h?.default_comment_status||""}},[]),[i,n]=(0,nb.useState)(null),a=(0,nb.useMemo)(()=>({anchor:i,placement:"left-start",offset:36,shift:!0}),[i]);if(!o||!["home","index"].includes(s))return null;let c=l=>{e("root","site",void 0,{default_comment_status:l?"open":null})};return(0,Mo.jsx)(ye,{label:(0,qt.__)("Discussion"),ref:n,children:(0,Mo.jsx)(Ir.Dropdown,{popoverProps:a,contentClassName:"editor-site-discussion-dropdown__content",focusOnMount:!0,renderToggle:({isOpen:l,onToggle:d})=>(0,Mo.jsx)(Ir.Button,{size:"compact",variant:"tertiary","aria-expanded":l,"aria-label":(0,qt.__)("Change discussion settings"),onClick:d,children:t?(0,qt.__)("Comments open"):(0,qt.__)("Comments closed")}),renderContent:({onClose:l})=>(0,Mo.jsxs)(Mo.Fragment,{children:[(0,Mo.jsx)(BM.__experimentalInspectorPopoverHeader,{title:(0,qt.__)("Discussion"),onClose:l}),(0,Mo.jsxs)(Ir.__experimentalVStack,{spacing:3,children:[(0,Mo.jsx)(Ir.__experimentalText,{children:(0,qt.__)("Changes will apply to new posts only. Individual posts may override these settings.")}),(0,Mo.jsx)(Ir.RadioControl,{className:"editor-site-discussion__options",hideLabelFromVision:!0,label:(0,qt.__)("Comment status"),options:sz,onChange:c,selected:t})]})]})})})}var iz="post-status";function DM({onActionPerformed:e}){let{isRemovedPostStatusPanel:t,postType:o,postId:s}=(0,MM.useSelect)(i=>{let{isEditorPanelRemoved:n,getCurrentPostType:a,getCurrentPostId:c}=i(m);return{isRemovedPostStatusPanel:n(iz),postType:a(),postId:c()}},[]);return(0,fe.jsx)(TM,{className:"editor-post-summary",children:(0,fe.jsx)(lf.Slot,{children:i=>(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsxs)(Vd.__experimentalVStack,{spacing:4,children:[(0,fe.jsx)(Qg,{postType:o,postId:s,onActionPerformed:e}),(0,fe.jsx)(Uf,{withPanelBody:!1}),(0,fe.jsx)(bA,{}),(0,fe.jsxs)(Vd.__experimentalVStack,{spacing:1,children:[(0,fe.jsx)(hM,{}),(0,fe.jsx)(PM,{})]}),!t&&(0,fe.jsxs)(Vd.__experimentalVStack,{spacing:4,children:[(0,fe.jsxs)(Vd.__experimentalVStack,{spacing:1,children:[(0,fe.jsx)(nP,{}),(0,fe.jsx)(Nh,{}),(0,fe.jsx)(dg,{}),(0,fe.jsx)(Sf,{}),(0,fe.jsx)(ff,{}),(0,fe.jsx)(Rf,{}),(0,fe.jsx)(DA,{}),(0,fe.jsx)(Zm,{}),(0,fe.jsx)(Oh,{}),(0,fe.jsx)(AM,{}),(0,fe.jsx)(RM,{}),(0,fe.jsx)(NM,{}),(0,fe.jsx)(_M,{}),i]}),(0,fe.jsx)(rg,{onActionPerformed:e})]})]})})})})}var jd=r(y()),Ud=r(P()),qP=r(R()),HM=r(E()),KP=r(w()),zM=r(F()),GM=r(ve());var OM=r(P()),LM=r(A()),ZP=r(R()),FM=r(ve()),VM=r(Ho());var{EXCLUDED_PATTERN_SOURCES:nz,PATTERN_TYPES:az}=k(VM.privateApis);function jM(e,t){return e.innerBlocks=e.innerBlocks.map(o=>jM(o,t)),e.name==="core/template-part"&&e.attributes.theme===void 0&&(e.attributes.theme=t),e}function lz(e,t){let o=(n,a,c)=>a===c.findIndex(l=>n.name===l.name),s=n=>!nz.includes(n.source),i=n=>n.templateTypes?.includes(t.slug)||n.blockTypes?.includes("core/template-part/"+t.area);return e.filter((n,a,c)=>o(n,a,c)&&s(n)&&i(n))}function cz(e,t){return e.map(o=>({...o,keywords:o.keywords||[],type:az.theme,blocks:(0,FM.parse)(o.content,{__unstableSkipMigrationLogs:!0}).map(s=>jM(s,t))}))}function UM({area:e,name:t,slug:o}){let{blockPatterns:s,restBlockPatterns:i,currentThemeStylesheet:n}=(0,OM.useSelect)(a=>{let{getEditorSettings:c}=a(m),l=c();return{blockPatterns:l.__experimentalAdditionalBlockPatterns??l.__experimentalBlockPatterns,restBlockPatterns:a(ZP.store).getBlockPatterns(),currentThemeStylesheet:a(ZP.store).getCurrentTheme().stylesheet}},[]);return(0,LM.useMemo)(()=>{let a=[...s||[],...i||[]],c=lz(a,{area:e,name:t,slug:o});return cz(c,n)},[e,t,o,s,i,n])}function dz({availableTemplates:e,onSelect:t}){return!e||e?.length===0?null:(0,jd.jsx)(zM.__experimentalBlockPatternsList,{label:(0,KP.__)("Templates"),blockPatterns:e,onClickPattern:t,showTitlesAsTooltip:!0})}function uz(){let{area:e,name:t,slug:o,postType:s,postId:i}=(0,Ud.useSelect)(l=>{let{getCurrentPostType:d,getCurrentPostId:u}=l(m),{getEditedEntityRecord:p}=l(qP.store),f=d(),h=u(),g=p("postType",f,h);return{area:g?.area,name:g?.name,slug:g?.slug,postType:f,postId:h}},[]),{editEntityRecord:n}=(0,Ud.useDispatch)(qP.store),a=UM({area:e,name:t,slug:o}),c=async l=>{await n("postType",s,i,{blocks:l.blocks,content:(0,GM.serialize)(l.blocks)})};return a?.length?(0,jd.jsx)(HM.PanelBody,{title:(0,KP.__)("Design"),initialOpen:s===De,children:(0,jd.jsx)(dz,{availableTemplates:a,onSelect:c})}):null}function WM(){let{postType:e}=(0,Ud.useSelect)(t=>{let{getCurrentPostType:o}=t(m);return{postType:o()}},[]);return[De,ae].includes(e)?(0,jd.jsx)(uz,{}):null}var Hd=r(y()),$M=r(E()),ab=r(w()),YM=r(P()),ZM=r(A());var Do={document:"edit-post/document",block:"edit-post/block"};var{Tabs:QP}=k($M.privateApis),pz=(e,t)=>{let{documentLabel:o}=(0,YM.useSelect)(s=>{let{getPostTypeLabel:i}=s(m);return{documentLabel:i()||(0,ab._x)("Document","noun, panel")}},[]);return(0,Hd.jsxs)(QP.TabList,{ref:t,children:[(0,Hd.jsx)(QP.Tab,{tabId:Do.document,"data-tab-id":Do.document,children:o}),(0,Hd.jsx)(QP.Tab,{tabId:Do.block,"data-tab-id":Do.block,children:(0,ab.__)("Block")})]})},qM=(0,ZM.forwardRef)(pz);var XP=r(y()),lb=r(P()),KM=r(F()),QM=r(E()),XM=r(w());var JM=r(_t()),eD=r(A());var{BlockQuickNavigation:mz}=k(KM.privateApis),fz=["core/post-title","core/post-featured-image","core/post-content"],hz="core/template-part";function tD(){let e=(0,eD.useMemo)(()=>(0,JM.applyFilters)("editor.postContentBlockTypes",fz),[]),{clientIds:t,postType:o,renderingMode:s}=(0,lb.useSelect)(n=>{let{getCurrentPostType:a,getPostBlocksByName:c,getRenderingMode:l}=k(n(m)),d=a();return{postType:d,clientIds:c(ae===d?hz:e),renderingMode:l()}},[e]),{enableComplementaryArea:i}=(0,lb.useDispatch)(Y);return s==="post-only"&&o!==ae||t.length===0?null:(0,XP.jsx)(QM.PanelBody,{title:(0,XM.__)("Content"),children:(0,XP.jsx)(mz,{clientIds:t,onSelect:()=>{i("core","edit-post/document")}})})}var cb=r(y()),db=r(P()),oD=r(A()),rD=r(ve()),ub=r(F()),sD=r(E()),iD=r(w());var{BlockQuickNavigation:gz}=k(ub.privateApis);function bz(){let e=(0,db.useSelect)(s=>{let{getBlockTypes:i}=s(rD.store);return i()},[]),t=(0,oD.useMemo)(()=>e.filter(s=>s.category==="theme").map(({name:s})=>s),[e]),o=(0,db.useSelect)(s=>{let{getBlocksByName:i}=s(ub.store);return i(t)},[t]);return o.length===0?null:(0,cb.jsx)(sD.PanelBody,{title:(0,iD.__)("Content"),children:(0,cb.jsx)(gz,{clientIds:o})})}function nD(){return(0,db.useSelect)(t=>{let{getCurrentPostType:o}=t(m);return o()},[])!==De?null:(0,cb.jsx)(bz,{})}var Pl=r(P()),aD=r(A()),lD=r(F()),cD=r(Pe());function _z(){let{hasBlockSelection:e}=(0,Pl.useSelect)(i=>({hasBlockSelection:!!i(lD.store).getBlockSelectionStart()}),[]),{getActiveComplementaryArea:t}=(0,Pl.useSelect)(Y),{enableComplementaryArea:o}=(0,Pl.useDispatch)(Y),{get:s}=(0,Pl.useSelect)(cD.store);(0,aD.useEffect)(()=>{let i=t("core"),n=["edit-post/document","edit-post/block"].includes(i),a=s("core","distractionFree");!n||a||(e?o("core","edit-post/block"):o("core","edit-post/document"))},[e,t,o,s])}var dD=_z;var{Tabs:wl}=k(pD.privateApis),yz=Rr.Platform.select({web:!0,native:!1}),vz=({tabName:e,keyboardShortcut:t,onActionPerformed:o,extraPanels:s})=>{let i=(0,Rr.useRef)(null),n=(0,Rr.useContext)(wl.Context);return(0,Rr.useEffect)(()=>{let a=Array.from(i.current?.querySelectorAll('[role="tab"]')||[]),c=a.find(u=>u.getAttribute("data-tab-id")===e),l=c?.ownerDocument.activeElement;a.some(u=>l&&l.id===u.id)&&c&&c.id!==l?.id&&c?.focus()},[e]),(0,lt.jsx)(Yi,{identifier:e,header:(0,lt.jsx)(wl.Context.Provider,{value:n,children:(0,lt.jsx)(qM,{ref:i})}),closeLabel:(0,xl.__)("Close Settings"),className:"editor-sidebar__panel",headerClassName:"editor-sidebar__panel-tabs",title:(0,xl._x)("Settings","panel button label"),toggleShortcut:t,icon:(0,xl.isRTL)()?Vl:jl,isActiveByDefault:yz,children:(0,lt.jsxs)(wl.Context.Provider,{value:n,children:[(0,lt.jsxs)(wl.TabPanel,{tabId:Do.document,focusable:!1,children:[(0,lt.jsx)(DM,{onActionPerformed:o}),(0,lt.jsx)(rf.Slot,{}),(0,lt.jsx)(tD,{}),(0,lt.jsx)(nD,{}),(0,lt.jsx)(WM,{}),(0,lt.jsx)(Vh,{}),(0,lt.jsx)(qN,{}),s]}),(0,lt.jsx)(wl.TabPanel,{tabId:Do.block,focusable:!1,children:(0,lt.jsx)(pb.BlockInspector,{})})]})})},Sz=({extraPanels:e,onActionPerformed:t})=>{dD();let{tabName:o,keyboardShortcut:s,showSummary:i}=(0,mb.useSelect)(c=>{let l=c(uD.store).getShortcutRepresentation("core/editor/toggle-sidebar"),d=c(Y).getActiveComplementaryArea("core"),u=[Do.block,Do.document].includes(d),p=d;return u||(p=c(pb.store).getBlockSelectionStart()?Do.block:Do.document),{tabName:p,keyboardShortcut:l,showSummary:![ae,De,jo].includes(c(m).getCurrentPostType())}},[]),{enableComplementaryArea:n}=(0,mb.useDispatch)(Y),a=(0,Rr.useCallback)(c=>{c&&n("core",c)},[n]);return(0,lt.jsx)(wl,{selectedTabId:o,onSelect:a,selectOnMove:!1,children:(0,lt.jsx)(vz,{tabName:o,keyboardShortcut:s,showSummary:i,onActionPerformed:t,extraPanels:e})})},mD=Sz;var At=r(y()),Mb=r(w()),wn=r(P()),g4=r(E()),Ob=r(A()),b4=r($());var Db=r(F());var Tl="edit-post/collab-history-sidebar",fi="edit-post/collab-sidebar",JP=[Tl,fi];var oe=r(y());var ct=r(A()),we=r(E()),s4=r($());var ce=r(w()),Jd=r(P()),i4=r(ca()),Il=r(F());var Br=r(y()),hb=r(E()),gb=r(w()),Nr=r(bi()),_D=r(R()),yD=r(P()),vD=r(F());var hD=r(w());function gD(e){return e.trim()}function kl(){}var fD=["#3858E9","#9fB1FF","#1D35B4","#1A1919","#E26F56","#33F078","#FFF972","#7A00DF"];function fb(e){return fD[e%fD.length]}function bD(e,t=10){if(!e)return"";let o=(0,hD._x)("words","Word count type. Do not translate!"),s=e.trim(),i="";if(o==="words")i=s.split(" ",t).join(" ");else if(o==="characters_excluding_spaces"){let a=s.split("",t).join(""),c=a.length-a.replaceAll(" ","").length;i=s.split("",t+c).join("")}else o==="characters_including_spaces"&&(i=s.split("",t).join(""));return i!==s?i+"\u2026":i}function lo(e,t,o){if(!t)return;let s=e?`[role=listitem][id="comment-thread-${e}"]`:"[role=listitem]:not([id])",i=o?`${s} ${o}`:s;return new Promise(n=>{if(t.querySelector(i))return n(t.querySelector(i));let a=null,c=new window.MutationObserver(()=>{t.querySelector(i)&&(clearTimeout(a),c.disconnect(),n(t.querySelector(i)))});c.observe(t,{childList:!0,subtree:!0}),a=setTimeout(()=>{c.disconnect(),n(null)},3e3)}).then(n=>n?.focus())}function Pz({avatar:e,name:t,date:o,userId:s}){let i=!!e,n=(0,Nr.getSettings)(),{currentUserAvatar:a,currentUserName:c,currentUserId:l,dateFormat:d=n.formats.date}=(0,yD.useSelect)(b=>{let{canUser:_,getCurrentUser:v,getEntityRecord:x}=b(_D.store),S=_("read",{kind:"root",name:"site"})?x("root","site"):void 0;if(i)return{dateFormat:S?.date_format};let{getSettings:C}=b(vD.store),{__experimentalDiscussionSettings:T}=C(),I=T?.avatarURL,N=v();return{currentUserAvatar:N?.avatar_urls?.[48]??I,currentUserName:N?.name,currentUserId:N?.id,dateFormat:S?.date_format}},[i]),u=(0,Nr.getDate)(o),p=(0,Nr.dateI18n)("c",u),h=Math.floor((new Date-u)/(1e3*60*60*24))<30?(0,Nr.humanTimeDiff)(u):(0,Nr.dateI18n)(d,u),g=(0,Nr.dateI18n)((0,gb._x)("F j, Y g:i\xA0a","Note date full date format"),o);return(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("img",{src:e||a,className:"editor-collab-sidebar-panel__user-avatar",alt:(0,gb.__)("User avatar"),width:32,height:32,style:{borderColor:fb(s??l)}}),(0,Br.jsxs)(hb.__experimentalVStack,{spacing:"0",children:[(0,Br.jsx)("span",{className:"editor-collab-sidebar-panel__user-name",children:t??c}),o&&(0,Br.jsx)(hb.Tooltip,{text:g,children:(0,Br.jsx)("time",{dateTime:p,className:"editor-collab-sidebar-panel__user-time",children:h})})]})]})}var zd=Pz;var Mr=r(y()),SD=r(pP()),PD=r(A()),Oo=r(E()),ew=r(w()),bb=r($());function wD({onSubmit:e,onCancel:t,thread:o,submitButtonText:s,labelText:i,reflowComments:n=kl}){let[a,c]=(0,PD.useState)(o?.content?.raw??""),l=(0,bb.useDebounce)(n,100),d=f=>{c(f)},u=(0,bb.useInstanceId)(wD,"comment-input"),p=a===o?.content?.raw||!gD(a).length;return(0,Mr.jsxs)(Oo.__experimentalVStack,{className:"editor-collab-sidebar-panel__comment-form",spacing:"4",children:[(0,Mr.jsx)(Oo.VisuallyHidden,{as:"label",htmlFor:u,children:i??(0,ew.__)("Note")}),(0,Mr.jsx)(SD.default,{id:u,value:a??"",onChange:f=>{d(f.target.value),l()},rows:1,maxRows:20}),(0,Mr.jsxs)(Oo.__experimentalHStack,{spacing:"2",justify:"flex-end",wrap:!0,children:[(0,Mr.jsx)(Oo.Button,{size:"compact",variant:"tertiary",onClick:t,children:(0,Mr.jsx)(Oo.__experimentalTruncate,{children:(0,ew.__)("Cancel")})}),(0,Mr.jsx)(Oo.Button,{size:"compact",accessibleWhenDisabled:!0,variant:"primary",onClick:()=>{e(a),c("")},disabled:p,children:(0,Mr.jsx)(Oo.__experimentalTruncate,{children:s})})]})]})}var Gd=wD;var Wd=Math.min,hi=Math.max,$d=Math.round,Yd=Math.floor,lr=e=>({x:e,y:e});function xD(e,t){return typeof e=="function"?e(t):e}function _b(e){return e.split("-")[0]}function tw(e){return e.split("-")[1]}function TD(e){return e==="x"?"y":"x"}function kD(e){return e==="y"?"height":"width"}var wz=new Set(["top","bottom"]);function yb(e){return wz.has(_b(e))?"y":"x"}function ED(e){return TD(yb(e))}function Zd(e){let{x:t,y:o,width:s,height:i}=e;return{width:s,height:i,top:o,left:t,right:t+s,bottom:o+i,x:t,y:o}}function CD(e,t,o){let{reference:s,floating:i}=e,n=yb(t),a=ED(t),c=kD(a),l=_b(t),d=n==="y",u=s.x+s.width/2-i.width/2,p=s.y+s.height/2-i.height/2,f=s[c]/2-i[c]/2,h;switch(l){case"top":h={x:u,y:s.y-i.height};break;case"bottom":h={x:u,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:p};break;case"left":h={x:s.x-i.width,y:p};break;default:h={x:s.x,y:s.y}}switch(tw(t)){case"start":h[a]-=f*(o&&d?-1:1);break;case"end":h[a]+=f*(o&&d?-1:1);break}return h}var AD=async(e,t,o)=>{let{placement:s="bottom",strategy:i="absolute",middleware:n=[],platform:a}=o,c=n.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t)),d=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:p}=CD(d,s,l),f=s,h={},g=0;for(let b=0;b<c.length;b++){let{name:_,fn:v}=c[b],{x,y:S,data:C,reset:T}=await v({x:u,y:p,initialPlacement:s,placement:f,strategy:i,middlewareData:h,rects:d,platform:a,elements:{reference:e,floating:t}});u=x??u,p=S??p,h={...h,[_]:{...h[_],...C}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(d=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:u,y:p}=CD(d,f,l)),b=-1)}return{x:u,y:p,placement:f,strategy:i,middlewareData:h}};var xz=new Set(["left","top"]);async function Tz(e,t){let{placement:o,platform:s,elements:i}=e,n=await(s.isRTL==null?void 0:s.isRTL(i.floating)),a=_b(o),c=tw(o),l=yb(o)==="y",d=xz.has(a)?-1:1,u=n&&l?-1:1,p=xD(t,e),{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof g=="number"&&(h=c==="end"?g*-1:g),l?{x:h*u,y:f*d}:{x:f*d,y:h*u}}var ID=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,s;let{x:i,y:n,placement:a,middlewareData:c}=t,l=await Tz(t,e);return a===((o=c.offset)==null?void 0:o.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:i+l.x,y:n+l.y,data:{...l,placement:a}}}}};function vb(){return typeof window<"u"}function _n(e){return BD(e)?(e.nodeName||"").toLowerCase():"#document"}function Kt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cr(e){var t;return(t=(BD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BD(e){return vb()?e instanceof Node||e instanceof Kt(e).Node:!1}function Lo(e){return vb()?e instanceof Element||e instanceof Kt(e).Element:!1}function dr(e){return vb()?e instanceof HTMLElement||e instanceof Kt(e).HTMLElement:!1}function RD(e){return!vb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kt(e).ShadowRoot}var kz=new Set(["inline","contents"]);function El(e){let{overflow:t,overflowX:o,overflowY:s,display:i}=Fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+o)&&!kz.has(i)}var Ez=new Set(["table","td","th"]);function ND(e){return Ez.has(_n(e))}var Cz=[":popover-open",":modal"];function qd(e){return Cz.some(t=>{try{return e.matches(t)}catch{return!1}})}var Az=["transform","translate","scale","rotate","perspective"],Iz=["transform","translate","scale","rotate","perspective","filter"],Rz=["paint","layout","strict","content"];function Sb(e){let t=Pb(),o=Lo(e)?Fo(e):e;return Az.some(s=>o[s]?o[s]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||Iz.some(s=>(o.willChange||"").includes(s))||Rz.some(s=>(o.contain||"").includes(s))}function MD(e){let t=Ts(e);for(;dr(t)&&!yn(t);){if(Sb(t))return t;if(qd(t))return null;t=Ts(t)}return null}function Pb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}var Bz=new Set(["html","body","#document"]);function yn(e){return Bz.has(_n(e))}function Fo(e){return Kt(e).getComputedStyle(e)}function Kd(e){return Lo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ts(e){if(_n(e)==="html")return e;let t=e.assignedSlot||e.parentNode||RD(e)&&e.host||cr(e);return RD(t)?t.host:t}function DD(e){let t=Ts(e);return yn(t)?e.ownerDocument?e.ownerDocument.body:e.body:dr(t)&&El(t)?t:DD(t)}function bn(e,t,o){var s;t===void 0&&(t=[]),o===void 0&&(o=!0);let i=DD(e),n=i===((s=e.ownerDocument)==null?void 0:s.body),a=Kt(i);if(n){let c=wb(a);return t.concat(a,a.visualViewport||[],El(i)?i:[],c&&o?bn(c):[])}return t.concat(i,bn(i,[],o))}function wb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FD(e){let t=Fo(e),o=parseFloat(t.width)||0,s=parseFloat(t.height)||0,i=dr(e),n=i?e.offsetWidth:o,a=i?e.offsetHeight:s,c=$d(o)!==n||$d(s)!==a;return c&&(o=n,s=a),{width:o,height:s,$:c}}function rw(e){return Lo(e)?e:e.contextElement}function Cl(e){let t=rw(e);if(!dr(t))return lr(1);let o=t.getBoundingClientRect(),{width:s,height:i,$:n}=FD(t),a=(n?$d(o.width):o.width)/s,c=(n?$d(o.height):o.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}var Nz=lr(0);function VD(e){let t=Kt(e);return!Pb()||!t.visualViewport?Nz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Mz(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==Kt(e)?!1:t}function vn(e,t,o,s){t===void 0&&(t=!1),o===void 0&&(o=!1);let i=e.getBoundingClientRect(),n=rw(e),a=lr(1);t&&(s?Lo(s)&&(a=Cl(s)):a=Cl(e));let c=Mz(n,o,s)?VD(n):lr(0),l=(i.left+c.x)/a.x,d=(i.top+c.y)/a.y,u=i.width/a.x,p=i.height/a.y;if(n){let f=Kt(n),h=s&&Lo(s)?Kt(s):s,g=f,b=wb(g);for(;b&&s&&h!==g;){let _=Cl(b),v=b.getBoundingClientRect(),x=Fo(b),S=v.left+(b.clientLeft+parseFloat(x.paddingLeft))*_.x,C=v.top+(b.clientTop+parseFloat(x.paddingTop))*_.y;l*=_.x,d*=_.y,u*=_.x,p*=_.y,l+=S,d+=C,g=Kt(b),b=wb(g)}}return Zd({width:u,height:p,x:l,y:d})}function sw(e,t){let o=Kd(e).scrollLeft;return t?t.left+o:vn(cr(e)).left+o}function jD(e,t,o){o===void 0&&(o=!1);let s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(o?0:sw(e,s)),n=s.top+t.scrollTop;return{x:i,y:n}}function Dz(e){let{elements:t,rect:o,offsetParent:s,strategy:i}=e,n=i==="fixed",a=cr(s),c=t?qd(t.floating):!1;if(s===a||c&&n)return o;let l={scrollLeft:0,scrollTop:0},d=lr(1),u=lr(0),p=dr(s);if((p||!p&&!n)&&((_n(s)!=="body"||El(a))&&(l=Kd(s)),dr(s))){let h=vn(s);d=Cl(s),u.x=h.x+s.clientLeft,u.y=h.y+s.clientTop}let f=a&&!p&&!n?jD(a,l,!0):lr(0);return{width:o.width*d.x,height:o.height*d.y,x:o.x*d.x-l.scrollLeft*d.x+u.x+f.x,y:o.y*d.y-l.scrollTop*d.y+u.y+f.y}}function Oz(e){return Array.from(e.getClientRects())}function Lz(e){let t=cr(e),o=Kd(e),s=e.ownerDocument.body,i=hi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),n=hi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight),a=-o.scrollLeft+sw(e),c=-o.scrollTop;return Fo(s).direction==="rtl"&&(a+=hi(t.clientWidth,s.clientWidth)-i),{width:i,height:n,x:a,y:c}}function Fz(e,t){let o=Kt(e),s=cr(e),i=o.visualViewport,n=s.clientWidth,a=s.clientHeight,c=0,l=0;if(i){n=i.width,a=i.height;let d=Pb();(!d||d&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:n,height:a,x:c,y:l}}var Vz=new Set(["absolute","fixed"]);function jz(e,t){let o=vn(e,!0,t==="fixed"),s=o.top+e.clientTop,i=o.left+e.clientLeft,n=dr(e)?Cl(e):lr(1),a=e.clientWidth*n.x,c=e.clientHeight*n.y,l=i*n.x,d=s*n.y;return{width:a,height:c,x:l,y:d}}function OD(e,t,o){let s;if(t==="viewport")s=Fz(e,o);else if(t==="document")s=Lz(cr(e));else if(Lo(t))s=jz(t,o);else{let i=VD(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Zd(s)}function UD(e,t){let o=Ts(e);return o===t||!Lo(o)||yn(o)?!1:Fo(o).position==="fixed"||UD(o,t)}function Uz(e,t){let o=t.get(e);if(o)return o;let s=bn(e,[],!1).filter(c=>Lo(c)&&_n(c)!=="body"),i=null,n=Fo(e).position==="fixed",a=n?Ts(e):e;for(;Lo(a)&&!yn(a);){let c=Fo(a),l=Sb(a);!l&&c.position==="fixed"&&(i=null),(n?!l&&!i:!l&&c.position==="static"&&!!i&&Vz.has(i.position)||El(a)&&!l&&UD(e,a))?s=s.filter(u=>u!==a):i=c,a=Ts(a)}return t.set(e,s),s}function Hz(e){let{element:t,boundary:o,rootBoundary:s,strategy:i}=e,a=[...o==="clippingAncestors"?qd(t)?[]:Uz(t,this._c):[].concat(o),s],c=a[0],l=a.reduce((d,u)=>{let p=OD(t,u,i);return d.top=hi(p.top,d.top),d.right=Wd(p.right,d.right),d.bottom=Wd(p.bottom,d.bottom),d.left=hi(p.left,d.left),d},OD(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zz(e){let{width:t,height:o}=FD(e);return{width:t,height:o}}function Gz(e,t,o){let s=dr(t),i=cr(t),n=o==="fixed",a=vn(e,!0,n,t),c={scrollLeft:0,scrollTop:0},l=lr(0);function d(){l.x=sw(i)}if(s||!s&&!n)if((_n(t)!=="body"||El(i))&&(c=Kd(t)),s){let h=vn(t,!0,n,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&d();n&&!s&&i&&d();let u=i&&!s&&!n?jD(i,c):lr(0),p=a.left+c.scrollLeft-l.x-u.x,f=a.top+c.scrollTop-l.y-u.y;return{x:p,y:f,width:a.width,height:a.height}}function ow(e){return Fo(e).position==="static"}function LD(e,t){if(!dr(e)||Fo(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return cr(e)===o&&(o=o.ownerDocument.body),o}function HD(e,t){let o=Kt(e);if(qd(e))return o;if(!dr(e)){let i=Ts(e);for(;i&&!yn(i);){if(Lo(i)&&!ow(i))return i;i=Ts(i)}return o}let s=LD(e,t);for(;s&&ND(s)&&ow(s);)s=LD(s,t);return s&&yn(s)&&ow(s)&&!Sb(s)?o:s||MD(e)||o}var Wz=async function(e){let t=this.getOffsetParent||HD,o=this.getDimensions,s=await o(e.floating);return{reference:Gz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function $z(e){return Fo(e).direction==="rtl"}var zD={convertOffsetParentRelativeRectToViewportRelativeRect:Dz,getDocumentElement:cr,getClippingRect:Hz,getOffsetParent:HD,getElementRects:Wz,getClientRects:Oz,getDimensions:zz,getScale:Cl,isElement:Lo,isRTL:$z};function GD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Yz(e,t){let o=null,s,i=cr(e);function n(){var c;clearTimeout(s),(c=o)==null||c.disconnect(),o=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),n();let d=e.getBoundingClientRect(),{left:u,top:p,width:f,height:h}=d;if(c||t(),!f||!h)return;let g=Yd(p),b=Yd(i.clientWidth-(u+f)),_=Yd(i.clientHeight-(p+h)),v=Yd(u),S={rootMargin:-g+"px "+-b+"px "+-_+"px "+-v+"px",threshold:hi(0,Wd(1,l))||1},C=!0;function T(I){let N=I[0].intersectionRatio;if(N!==l){if(!C)return a();N?a(!1,N):s=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!GD(d,e.getBoundingClientRect())&&a(),C=!1}try{o=new IntersectionObserver(T,{...S,root:i.ownerDocument})}catch{o=new IntersectionObserver(T,S)}o.observe(e)}return a(!0),n}function iw(e,t,o,s){s===void 0&&(s={});let{ancestorScroll:i=!0,ancestorResize:n=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,d=rw(e),u=i||n?[...d?bn(d):[],...bn(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",o,{passive:!0}),n&&v.addEventListener("resize",o)});let p=d&&c?Yz(d,o):null,f=-1,h=null;a&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(t)})),o()}),d&&!l&&h.observe(d),h.observe(t));let g,b=l?vn(e):null;l&&_();function _(){let v=vn(e);b&&!GD(b,v)&&o(),b=v,g=requestAnimationFrame(_)}return o(),()=>{var v;u.forEach(x=>{i&&x.removeEventListener("scroll",o),n&&x.removeEventListener("resize",o)}),p?.(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(g)}}var nw=ID;var aw=(e,t,o)=>{let s=new Map,i={platform:zD,...o},n={...i.platform,_c:s};return AD(e,t,{...i,platform:n})};var qe=r(jh(),1),kb=r(jh(),1),qD=r($D(),1);var xb=typeof document<"u"?kb.useLayoutEffect:kb.useEffect;function Tb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(s=o;s--!==0;)if(!Tb(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),o=i.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=o;s--!==0;){let n=i[s];if(!(n==="_owner"&&e.$$typeof)&&!Tb(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function KD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function YD(e,t){let o=KD(e);return Math.round(t*o)/o}function ZD(e){let t=qe.useRef(e);return xb(()=>{t.current=e}),t}function QD(e){e===void 0&&(e={});let{placement:t="bottom",strategy:o="absolute",middleware:s=[],platform:i,elements:{reference:n,floating:a}={},transform:c=!0,whileElementsMounted:l,open:d}=e,[u,p]=qe.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=qe.useState(s);Tb(f,s)||h(s);let[g,b]=qe.useState(null),[_,v]=qe.useState(null),x=qe.useCallback(Q=>{Q!==I.current&&(I.current=Q,b(Q))},[]),S=qe.useCallback(Q=>{Q!==N.current&&(N.current=Q,v(Q))},[]),C=n||g,T=a||_,I=qe.useRef(null),N=qe.useRef(null),L=qe.useRef(u),V=l!=null,O=ZD(l),M=ZD(i),D=qe.useCallback(()=>{if(!I.current||!N.current)return;let Q={placement:t,strategy:o,middleware:f};M.current&&(Q.platform=M.current),aw(I.current,N.current,Q).then(X=>{let ee={...X,isPositioned:!0};j.current&&!Tb(L.current,ee)&&(L.current=ee,qD.flushSync(()=>{p(ee)}))})},[f,t,o,M]);xb(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,p(Q=>({...Q,isPositioned:!1})))},[d]);let j=qe.useRef(!1);xb(()=>(j.current=!0,()=>{j.current=!1}),[]),xb(()=>{if(C&&(I.current=C),T&&(N.current=T),C&&T){if(O.current)return O.current(C,T,D);D()}},[C,T,D,O,V]);let U=qe.useMemo(()=>({reference:I,floating:N,setReference:x,setFloating:S}),[x,S]),H=qe.useMemo(()=>({reference:C,floating:T}),[C,T]),z=qe.useMemo(()=>{let Q={position:o,left:0,top:0};if(!H.floating)return Q;let X=YD(H.floating,u.x),ee=YD(H.floating,u.y);return c?{...Q,transform:"translate("+X+"px, "+ee+"px)",...KD(H.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:X,top:ee}},[o,c,H.floating,u.x,u.y]);return qe.useMemo(()=>({...u,update:D,refs:U,elements:H,floatingStyles:z}),[u,D,U,H,z])}var ks=r(w()),co=r(A()),Eb=r(R()),ur=r(P()),Sn=r(F()),XD=r(he()),JD=r(_e());var{useBlockElementRef:Zz,cleanEmptyObject:qz}=k(Sn.privateApis);function e4(e){let[t,o]=(0,co.useReducer)(()=>Date.now(),0),s={post:e,type:"note",status:"all",per_page:-1},{records:i}=(0,Eb.useEntityRecords)("root","comment",s,{enabled:!!e&&typeof e=="number"}),{getBlockAttributes:n}=(0,ur.useSelect)(Sn.store),{clientIds:a}=(0,ur.useSelect)(d=>{let{getClientIdsWithDescendants:u}=d(Sn.store);return{clientIds:u()}},[]),{resultComments:c,unresolvedSortedThreads:l}=(0,co.useMemo)(()=>{if(!i||i.length===0)return{resultComments:[],unresolvedSortedThreads:[]};let d=a.reduce((S,C)=>{let T=n(C)?.metadata?.noteId;return T&&(S[C]=T),S},{}),u={},p=[];if(i.forEach(S=>{let C=Object.keys(d).find(T=>d[T]===S.id);u[S.id]={...S,reply:[],blockClientId:S.parent===0?C:null}}),i.forEach(S=>{S.parent===0?p.push(u[S.id]):u[S.parent]&&u[S.parent].reply.push(u[S.id])}),p?.length===0)return{resultComments:[],unresolvedSortedThreads:[]};let f=p.map(S=>({...S,reply:[...S.reply].reverse()})),h=new Map(f.map(S=>[String(S.id),S])),g=new Set(Object.values(d).map(S=>String(S))),b=Object.values(d).map(S=>h.get(String(S))).filter(S=>S!==void 0&&S.status==="hold"),_=Object.values(d).map(S=>h.get(String(S))).filter(S=>S!==void 0&&S.status==="approved"),v=f.filter(S=>!g.has(String(S.id)));return{resultComments:[...b,..._,...v],unresolvedSortedThreads:b}},[a,i,n]);return{resultComments:c,unresolvedSortedThreads:l,reflowComments:o,commentLastUpdated:t}}function t4(e=kl){let{createNotice:t}=(0,ur.useDispatch)(XD.store),{saveEntityRecord:o,deleteEntityRecord:s}=(0,ur.useDispatch)(Eb.store),{getCurrentPostId:i}=(0,ur.useSelect)(m),{getBlockAttributes:n,getSelectedBlockClientId:a}=(0,ur.useSelect)(Sn.store),{updateBlockAttributes:c}=(0,ur.useDispatch)(Sn.store),l=f=>{let h=f.message&&f.code!=="unknown_error"?(0,JD.decodeEntities)(f.message):(0,ks.__)("An error occurred while performing an update.");t("error",h,{type:"snackbar",isDismissible:!0})};return{onCreate:async({content:f,parent:h})=>{try{let g=await o("root","comment",{post:i(),content:f,status:"hold",type:"note",parent:h||0},{throwOnError:!0});if(!h&&g?.id){let b=a(),_=n(b)?.metadata;c(b,{metadata:{..._,noteId:g.id}})}return t("snackbar",h?(0,ks.__)("Reply added."):(0,ks.__)("Note added."),{type:"snackbar",isDismissible:!0}),setTimeout(e,300),g}catch(g){e(),l(g)}},onEdit:async({id:f,content:h,status:g})=>{let b=g||"updated",_={approved:(0,ks.__)("Note marked as resolved."),hold:(0,ks.__)("Note reopened."),updated:(0,ks.__)("Note updated.")};try{if(g==="approved"||g==="hold"){await o("root","comment",{id:f,status:g},{throwOnError:!0});let v={post:i(),content:h||"",type:"note",status:g,parent:f,meta:{_wp_note_status:g==="approved"?"resolved":"reopen"}};await o("root","comment",v,{throwOnError:!0})}else await o("root","comment",{id:f,content:h,status:g},{throwOnError:!0});t("snackbar",_[b]??(0,ks.__)("Note updated."),{type:"snackbar",isDismissible:!0}),e()}catch(v){e(),l(v)}},onDelete:async f=>{try{if(await s("root","comment",f.id,void 0,{throwOnError:!0}),!f.parent){let h=a(),g=n(h)?.metadata;c(h,{metadata:qz({...g,noteId:void 0})})}t("snackbar",(0,ks.__)("Note deleted."),{type:"snackbar",isDismissible:!0}),e()}catch(h){e(),l(h)}}}}function o4(e=!1){let t=(0,ur.useRegistry)();(0,co.useEffect)(()=>{if(!e)return;let{getActiveComplementaryArea:o}=t.select(Y),{disableComplementaryArea:s,enableComplementaryArea:i}=t.dispatch(Y),n=t.subscribe(()=>{o("core")===null&&i("core",fi)});return()=>{n(),o("core")===fi&&s("core",fi)}},[e,t])}function r4({thread:e,calculatedOffset:t,setHeights:o,selectedThread:s,setBlockRef:i,commentLastUpdated:n}){let a=(0,co.useRef)();Zz(e.blockClientId,a);let c=(0,co.useCallback)((u,p)=>{o(f=>f[u]!==p?{...f,[u]:p}:f)},[o]),{y:l,refs:d}=QD({placement:"right-start",middleware:[nw({crossAxis:t||-16})],whileElementsMounted:iw});return(0,co.useEffect)(()=>{a.current&&d.setReference(a.current)},[a,d,n]),(0,co.useEffect)(()=>{d.floating?.current&&i(e.id,a.current)},[e.id,d.floating,i]),(0,co.useEffect)(()=>{if(d.floating?.current){let u=d.floating.current.scrollHeight;c(e.id,u)}},[e.id,c,d.floating,s,n]),{blockRef:a,y:l,refs:d}}var Al=r(y());var Cb=r(w()),Ab=r(P()),Ib=r(E()),Qd=r(F());var{useBlockElement:Kz}=k(Qd.privateApis);function Rb({onSubmit:e,showCommentBoard:t,setShowCommentBoard:o,commentSidebarRef:s,reflowComments:i=kl,isFloating:n=!1,y:a,refs:c}){let{clientId:l,blockCommentId:d}=(0,Ab.useSelect)(h=>{let{getSelectedBlock:g}=h(Qd.store),b=g();return{clientId:b?.clientId,blockCommentId:b?.attributes?.metadata?.noteId}},[]),u=Kz(l),{toggleBlockSpotlight:p}=k((0,Ab.useDispatch)(Qd.store)),f=()=>{o(!1),u?.focus(),p(l,!1)};return!t||!l||d!==void 0?null:(0,Al.jsxs)(Ib.__experimentalVStack,{className:W("editor-collab-sidebar-panel__thread is-selected",{"is-floating":n}),spacing:"3",tabIndex:0,"aria-label":(0,Cb.__)("New note"),role:"listitem",ref:n?c.setFloating:void 0,style:n?{top:a,opacity:a?void 0:0}:void 0,onBlur:h=>{h.currentTarget.contains(h.relatedTarget)||(p(l,!1),o(!1))},children:[(0,Al.jsx)(Ib.__experimentalHStack,{alignment:"left",spacing:"3",children:(0,Al.jsx)(zd,{})}),(0,Al.jsx)(Gd,{onSubmit:async h=>{let{id:g}=await e({content:h});lo(g,s.current),o(!1)},onCancel:f,reflowComments:i,submitButtonText:(0,Cb.__)("Add note"),labelText:(0,Cb.__)("New note")})]})}var{useBlockElement:n4}=k(Il.privateApis),{Menu:Xd}=k(we.privateApis);function a4({threads:e,onEditComment:t,onAddReply:o,onCommentDelete:s,showCommentBoard:i,setShowCommentBoard:n,commentSidebarRef:a,reflowComments:c,isFloating:l=!1,commentLastUpdated:d}){let[u,p]=(0,ct.useState)({}),[f,h]=(0,ct.useState)(null),[g,b]=(0,ct.useState)({}),[_,v]=(0,ct.useState)({}),{setCanvasMinHeight:x}=k((0,Jd.useDispatch)(m)),{blockCommentId:S,selectedBlockClientId:C,orderedBlockIds:T}=(0,Jd.useSelect)(M=>{let{getBlockAttributes:D,getSelectedBlockClientId:j}=M(Il.store),U=j();return{blockCommentId:U?D(U)?.metadata?.noteId:null,selectedBlockClientId:U,orderedBlockIds:M(Il.store).getBlockOrder()}},[]),I=n4(C),N=(0,ct.useMemo)(()=>{let M=[...e],D=[];if(l&&i&&S===void 0){let j={id:"new-note-thread",blockClientId:C,content:{rendered:""}};return T.forEach(U=>{if(U===C)D.push(j);else{let H=M.find(z=>z.blockClientId===U);H&&D.push(H)}}),D}return M},[e,l,i,S,C,T]),L=async M=>{let D=N.findIndex(H=>H.id===M.id),j=N[D+1],U=N[D-1];if(await s(M),M.parent!==0){h(M.parent),lo(M.parent,a.current);return}j?(h(j.id),lo(j.id,a.current)):U?(h(U.id),lo(U.id,a.current)):(h(null),n(!1),I?.focus())};(0,ct.useEffect)(()=>{h(S??(i?"new-note-thread":null))},[S,i]);let V=(0,ct.useCallback)((M,D)=>{v(j=>({...j,[M]:D}))},[]);return(0,ct.useEffect)(()=>{let M=()=>{let U={};if(!l)return{offsets:U,minHeight:0};let H=N.findIndex(se=>se.id===f),z=H===-1?0:H,Q=N[z];if(!Q||!_[Q.id])return{offsets:U,minHeight:0};let X=_[Q.id],ee=X?.getBoundingClientRect(),xe=ee?.top||0,Qt=u[Q.id]||0;U[Q.id]=-16;let Ft={threadTop:xe-16,threadHeight:Qt};for(let se=z+1;se<N.length;se++){let le=N[se];if(!_[le.id])continue;X=_[le.id],ee=X?.getBoundingClientRect();let ie=ee?.top||0,Ie=u[le.id]||0,Le=-16,Fe=Ft.threadTop+Ft.threadHeight;ie<Fe+16&&(Le=Fe-ie+20),U[le.id]=Le,Ft={threadTop:ie+Le,threadHeight:Ie}}let It={threadTop:xe-16};for(let se=H-1;se>=0;se--){let le=N[se];if(!_[le.id])continue;X=_[le.id],ee=X?.getBoundingClientRect();let ie=ee?.top||0,Ie=u[le.id]||0,Le=-16;ie+Ie>It.threadTop&&(Le=It.threadTop-ie-Ie-20),U[le.id]=Le,It={threadTop:ie+Le}}let ze=0,Vt=N[N.length-1];if(_[Vt.id]){let ie=_[Vt.id]?.getBoundingClientRect()?.top||0,Ie=u[Vt.id]||0,Le=U[Vt.id]||0;ze=ie+Ie+Le+32}return{offsets:U,minHeight:ze}},{offsets:D,minHeight:j}=M();Object.keys(D).length>0&&b(D),x(j)},[u,_,l,N,f,x]),!(Array.isArray(N)&&N.length>0)&&!l?(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)(Rb,{onSubmit:o,showCommentBoard:i,setShowCommentBoard:n,commentSidebarRef:a}),(0,oe.jsx)(we.__experimentalText,{as:"p",children:(0,ce.__)("No notes available.")}),(0,oe.jsx)(we.__experimentalText,{as:"p",variant:"muted",children:(0,ce.__)("Only logged in users can see Notes.")})]}):(0,oe.jsxs)(oe.Fragment,{children:[!l&&i&&S===void 0&&(0,oe.jsx)(Rb,{onSubmit:o,showCommentBoard:i,setShowCommentBoard:n,commentSidebarRef:a}),N.map(M=>(0,oe.jsx)(Qz,{thread:M,onAddReply:o,onCommentDelete:L,onEditComment:t,isSelected:f===M.id,setSelectedThread:h,setShowCommentBoard:n,commentSidebarRef:a,reflowComments:c,isFloating:l,calculatedOffset:g[M.id]??0,setHeights:p,setBlockRef:V,selectedThread:f,commentLastUpdated:d,showCommentBoard:i},M.id))]})}function Qz({thread:e,onEditComment:t,onAddReply:o,onCommentDelete:s,isSelected:i,setShowCommentBoard:n,commentSidebarRef:a,reflowComments:c,isFloating:l,calculatedOffset:d,setHeights:u,setBlockRef:p,setSelectedThread:f,selectedThread:h,commentLastUpdated:g,showCommentBoard:b}){let{toggleBlockHighlight:_,selectBlock:v,toggleBlockSpotlight:x}=k((0,Jd.useDispatch)(Il.store)),S=n4(e.blockClientId),C=(0,s4.useDebounce)(_,50),{y:T,refs:I}=r4({thread:e,calculatedOffset:d,setHeights:u,setBlockRef:p,selectedThread:h,commentLastUpdated:g}),N=()=>{C(e.blockClientId,!0)},L=()=>{C(e.blockClientId,!1)},V=()=>{n(!1),f(e.id),e.blockClientId&&(v(e.blockClientId,null),x(e.blockClientId,!0))},O=()=>{f(null),n(!1),x(e.blockClientId,!1)},M=e?.reply||[],D=M.length>0?M[M.length-1]:void 0,j=M.length>0?M.slice(0,-1):[],U=bD((0,i4.__unstableStripHTML)(e.content?.rendered),10),H=e.blockClientId?(0,ce.sprintf)((0,ce.__)("Note: %s"),U):(0,ce.sprintf)((0,ce.__)("Original block deleted. Note: %s"),U);return e.id==="new-note-thread"&&b&&l?(0,oe.jsx)(Rb,{onSubmit:o,showCommentBoard:b,setShowCommentBoard:n,commentSidebarRef:a,reflowComments:c,isFloating:l,y:T,refs:I}):(0,oe.jsxs)(we.__experimentalVStack,{className:W("editor-collab-sidebar-panel__thread",{"is-selected":i,"is-floating":l}),id:`comment-thread-${e.id}`,spacing:"3",onClick:V,onMouseEnter:N,onMouseLeave:L,onFocus:N,onBlur:L,onKeyDown:z=>{z.defaultPrevented||(z.key==="Enter"&&z.currentTarget===z.target&&(i?O():V()),z.key==="Escape"&&(O(),lo(e.id,a.current)))},tabIndex:0,role:"listitem","aria-label":H,"aria-expanded":i,ref:l?I.setFloating:void 0,style:l?{top:T}:void 0,children:[(0,oe.jsx)(we.Button,{className:"editor-collab-sidebar-panel__skip-to-comment",variant:"secondary",size:"compact",onClick:()=>{lo(e.id,a.current,"textarea")},children:(0,ce.__)("Add new note")}),!e.blockClientId&&(0,oe.jsx)(we.__experimentalText,{as:"p",weight:500,variant:"muted",children:(0,ce.__)("Original block deleted.")}),(0,oe.jsx)(lw,{thread:e,isExpanded:i,onEdit:(z={})=>{let{status:Q}=z;t(z),Q==="approved"&&(O(),lo(e.id,a.current))},onDelete:s,reflowComments:c}),i&&M.map(z=>(0,oe.jsx)(lw,{thread:z,parent:e,isExpanded:i,onEdit:t,onDelete:s,reflowComments:c},z.id)),!i&&j.length>0&&(0,oe.jsx)(we.__experimentalHStack,{className:"editor-collab-sidebar-panel__more-reply-separator",children:(0,oe.jsx)(we.Button,{size:"compact",variant:"tertiary",className:"editor-collab-sidebar-panel__more-reply-button",onClick:()=>{f(e.id),lo(e.id,a.current)},children:(0,ce.sprintf)((0,ce._n)("%s more reply","%s more replies",j.length),j.length)})}),!i&&D&&(0,oe.jsx)(lw,{thread:D,parent:e,isExpanded:i,onEdit:t,onDelete:s,reflowComments:c}),i&&(0,oe.jsxs)(we.__experimentalVStack,{spacing:"2",children:[(0,oe.jsx)(we.__experimentalHStack,{alignment:"left",spacing:"3",justify:"flex-start",children:(0,oe.jsx)(zd,{})}),(0,oe.jsx)(we.__experimentalVStack,{spacing:"2",children:(0,oe.jsx)(Gd,{onSubmit:z=>{e.status==="approved"?t({id:e.id,status:"hold",content:z}):o({content:z,parent:e.id})},onCancel:z=>{z.stopPropagation(),O(),lo(e.id,a.current)},submitButtonText:e.status==="approved"?(0,ce.__)("Reopen & Reply"):(0,ce.__)("Reply"),rows:e.status==="approved"?2:4,labelText:(0,ce.sprintf)((0,ce.__)("Reply to note %1$s by %2$s"),e.id,e.author_name),reflowComments:c})})]}),!!e.blockClientId&&(0,oe.jsx)(we.Button,{className:"editor-collab-sidebar-panel__skip-to-block",variant:"secondary",size:"compact",onClick:z=>{z.stopPropagation(),S?.focus()},children:(0,ce.__)("Back to block")})]})}var lw=({thread:e,parent:t,isExpanded:o,onEdit:s,onDelete:i,reflowComments:n})=>{let[a,c]=(0,ct.useState)(!1),[l,d]=(0,ct.useState)(!1),u=(0,ct.useRef)(null),p=()=>{i(e),c(!1),d(!1)},f=()=>{c(!1),d(!1),u.current?.focus()},h=e.type==="note"&&e.meta&&(e.meta._wp_note_status==="resolved"||e.meta._wp_note_status==="reopen"),g=[{id:"edit",title:(0,ce.__)("Edit"),isEligible:({status:v})=>v!=="approved",onClick:()=>{c("edit")}},{id:"reopen",title:(0,ce._x)("Reopen","Reopen note"),isEligible:({status:v})=>v==="approved",onClick:()=>{s({id:e.id,status:"hold"})}},{id:"delete",title:(0,ce.__)("Delete"),isEligible:()=>!0,onClick:()=>{c("delete"),d(!0)}}],b=e.parent===0,_=t?.status!=="approved"?g.filter(v=>v.isEligible(e)):[];return(0,oe.jsxs)(we.__experimentalVStack,{spacing:"2",children:[(0,oe.jsxs)(we.__experimentalHStack,{alignment:"left",spacing:"3",justify:"flex-start",children:[(0,oe.jsx)(zd,{avatar:e?.author_avatar_urls?.[48],name:e?.author_name,date:e?.date,userId:e?.author}),o&&(0,oe.jsx)(we.FlexItem,{className:"editor-collab-sidebar-panel__comment-status",onClick:v=>{v.stopPropagation()},children:(0,oe.jsxs)(we.__experimentalHStack,{spacing:"0",children:[b&&(0,oe.jsx)(we.Button,{label:(0,ce._x)("Resolve","Mark note as resolved"),size:"small",icon:vi,disabled:e.status==="approved",accessibleWhenDisabled:e.status==="approved",onClick:()=>{s({id:e.id,status:"approved"})}}),(0,oe.jsxs)(Xd,{placement:"bottom-end",children:[(0,oe.jsx)(Xd.TriggerButton,{render:(0,oe.jsx)(we.Button,{ref:u,size:"small",icon:yi,label:(0,ce.__)("Actions"),disabled:!_.length,accessibleWhenDisabled:!0})}),(0,oe.jsx)(Xd.Popover,{children:_.map(v=>(0,oe.jsx)(Xd.Item,{onClick:()=>v.onClick(),children:(0,oe.jsx)(Xd.ItemLabel,{children:v.title})},v.id))})]})]})})]}),a==="edit"?(0,oe.jsx)(Gd,{onSubmit:v=>{s({id:e.id,content:v}),c(!1),u.current?.focus()},onCancel:()=>f(),thread:e,submitButtonText:(0,ce._x)("Update","verb"),labelText:(0,ce.sprintf)((0,ce.__)("Edit note %1$s by %2$s"),e.id,e.author_name),reflowComments:n}):(0,oe.jsx)(ct.RawHTML,{className:W("editor-collab-sidebar-panel__user-comment",{"editor-collab-sidebar-panel__resolution-text":h}),children:h?(()=>{let v=e.meta._wp_note_status==="resolved"?(0,ce.__)("Marked as resolved"):(0,ce.__)("Reopened"),x=e?.content?.raw;return x&&typeof x=="string"&&x.trim()!==""?(0,ce.sprintf)((0,ce.__)("%1$s: %2$s"),v,x):v})():e?.content?.rendered}),a==="delete"&&(0,oe.jsx)(we.__experimentalConfirmDialog,{isOpen:l,onConfirm:p,onCancel:f,confirmButtonText:(0,ce.__)("Delete"),children:(0,ce.__)("Are you sure you want to delete this note? This will also delete all of this note's replies.")})]})};var Bb=r(y()),l4=r(E()),cw=r(w());var Nb=r(F()),c4=r(P()),d4=r(ve());var{CommentIconSlotFill:Xz}=k(Nb.privateApis),Jz=({clientId:e,onClick:t})=>{let o=(0,c4.useSelect)(i=>i(Nb.store).getBlock(e),[e]);if(!o?.isValid||o?.name===(0,d4.getUnregisteredTypeHandlerName)())return null;let s=o?.name==="core/freeform";return(0,Bb.jsx)(l4.MenuItem,{icon:Ll,onClick:t,"aria-haspopup":"dialog",disabled:s,info:s?(0,cw.__)("Convert to blocks to add notes."):void 0,children:(0,cw.__)("Add note")})},eG=({onClick:e})=>(0,Bb.jsx)(Xz.Fill,{children:({clientId:t,onClose:o})=>(0,Bb.jsx)(Jz,{clientId:t,onClick:()=>{e(),o()}})}),u4=eG;var Pn=r(y()),Bl=r(E()),Rl=r(w()),p4=r(A()),m4=r(F());var{CommentIconToolbarSlotFill:tG}=k(m4.privateApis),oG=({onClick:e,thread:t})=>{let o=(0,p4.useMemo)(()=>{if(!t)return[];let d=new Map,u=[t,...t.reply];return u.sort((p,f)=>new Date(p.date)-new Date(f.date)),u.forEach(p=>{p.author_name&&p.author_avatar_urls&&(d.has(p.author)||d.set(p.author,{name:p.author_name,avatar:p.author_avatar_urls?.["48"]||p.author_avatar_urls?.["96"],id:p.author,date:p.date}))}),Array.from(d.values())},[t]);if(!o.length)return null;let s=3,n=o.length>s?o.slice(0,s-1):o,a=Math.max(0,o.length-n.length),l=o.length>100&&a>0?(0,Rl.__)("100+"):(0,Rl.sprintf)((0,Rl.__)("+%s"),a);return(0,Pn.jsx)(tG.Fill,{children:(0,Pn.jsx)(Bl.ToolbarButton,{className:"comment-avatar-indicator",label:(0,Rl.__)("View notes"),onClick:e,showTooltip:!0,children:(0,Pn.jsxs)(Bl.__experimentalHStack,{spacing:"1",children:[n.map(d=>(0,Pn.jsx)("img",{src:d.avatar,alt:d.name,className:"comment-avatar",style:{borderColor:fb(d.id)}},d.id)),a>0&&(0,Pn.jsx)(Bl.__experimentalText,{weight:500,children:l})]})})})},f4=oG;function h4({showCommentBoard:e,setShowCommentBoard:t,styles:o,comments:s,commentSidebarRef:i,reflowComments:n,commentLastUpdated:a,isFloating:c=!1}){let{onCreate:l,onEdit:d,onDelete:u}=t4(n);return(0,At.jsx)(g4.__experimentalVStack,{className:"editor-collab-sidebar-panel",style:o,role:"list",spacing:"3",justify:"flex-start",ref:p=>{p&&(i.current=p)},children:(0,At.jsx)(a4,{threads:s,onEditComment:d,onAddReply:l,onCommentDelete:u,showCommentBoard:e,setShowCommentBoard:t,commentSidebarRef:i,reflowComments:n,commentLastUpdated:a,isFloating:c})})}function rG({postId:e,mode:t}){let[o,s]=(0,Ob.useState)(!1),{getActiveComplementaryArea:i}=(0,wn.useSelect)(Y),{enableComplementaryArea:n}=(0,wn.useDispatch)(Y),{toggleBlockSpotlight:a}=k((0,wn.useDispatch)(Db.store)),c=(0,b4.useViewportMatch)("medium"),l=(0,Ob.useRef)(null),d=c&&t==="post-only",{clientId:u,blockCommentId:p}=(0,wn.useSelect)(C=>{let{getBlockAttributes:T,getSelectedBlockClientId:I}=C(Db.store),N=I();return{clientId:N,blockCommentId:N?T(N)?.metadata?.noteId:null}},[]),{resultComments:f,unresolvedSortedThreads:h,reflowComments:g,commentLastUpdated:b}=e4(e);o4(d&&(h.length>0||o));let{merged:_}=Sc(),v=_?.styles?.color?.background,x=p?f.find(C=>C.id===p):null;async function S(){let C=await i("core"),T=JP.find(N=>N===C);x?.status==="approved"?n("core",Tl):T||n("core",d?fi:Tl);let I=await i("core");JP.includes(I)&&(s(!p),lo(p,l.current,p?void 0:"textarea"),a(u,!0))}return(0,At.jsxs)(At.Fragment,{children:[p&&(0,At.jsx)(f4,{thread:x,onClick:S}),(0,At.jsx)(u4,{onClick:S}),(0,At.jsx)(Yi,{identifier:Tl,name:Tl,title:(0,Mb.__)("All notes"),header:(0,At.jsx)("h2",{className:"interface-complementary-area-header__title",children:(0,Mb.__)("All notes")}),icon:Ll,closeLabel:(0,Mb.__)("Close Notes"),children:(0,At.jsx)(h4,{comments:f,showCommentBoard:o,setShowCommentBoard:s,commentSidebarRef:l,reflowComments:g,commentLastUpdated:b})}),c&&(0,At.jsx)(Yi,{isPinnable:!1,header:!1,identifier:fi,className:"editor-collab-sidebar",headerClassName:"editor-collab-sidebar__header",backgroundColor:v,children:(0,At.jsx)(h4,{comments:h,showCommentBoard:o,setShowCommentBoard:s,commentSidebarRef:l,reflowComments:g,commentLastUpdated:b,styles:{backgroundColor:v},isFloating:!0})})]})}function _4(){let{postId:e,mode:t,editorMode:o,isDistractionFree:s}=(0,wn.useSelect)(i=>{let{getCurrentPostId:n,getRenderingMode:a,getEditorMode:c}=i(m),{getSettings:l}=i(Db.store);return{postId:n(),mode:a(),editorMode:c(),isDistractionFree:l().isDistractionFree}},[]);return!e||typeof e!="number"||s||o==="text"?null:(0,At.jsx)(Ee,{supportKeys:"editor.notes",children:(0,At.jsx)(rG,{postId:e,mode:t})})}function sG({postType:e,postId:t,templateId:o,settings:s,children:i,initialEdits:n,onActionPerformed:a,extraContent:c,extraSidebarPanels:l,...d}){let{post:u,template:p,hasLoadedPost:f,error:h}=(0,y4.useSelect)(g=>{let{getEntityRecord:b,getResolutionError:_,hasFinishedResolution:v}=g(v4.store),x=["postType",e,t];return{post:b(...x),template:o?b("postType",ae,o):void 0,hasLoadedPost:v("getEntityRecord",x),error:_("getEntityRecord",x)?.message}},[e,t,o]);return(0,Dr.jsxs)(Dr.Fragment,{children:[f&&!u&&(0,Dr.jsx)(S4.Notice,{status:h?"error":"warning",isDismissible:!1,children:h||(0,P4.__)("You attempted to edit an item that doesn't exist. Perhaps it was deleted?")}),!!u&&(0,Dr.jsxs)(Wv,{post:u,__unstableTemplate:p,settings:s,initialEdits:n,useSubRegistry:!1,children:[(0,Dr.jsx)(WN,{...d,children:c}),i,(0,Dr.jsx)(_4,{}),(0,Dr.jsx)(mD,{onActionPerformed:a,extraPanels:l})]})]})}var w4=sG;var K=r(y()),q=r(w()),B4=r($()),xn=r(P()),N4=r(A()),eu=r(Pe());var x4=r(y()),Lb=r(P()),T4=r(Pe());var{PreferenceBaseOption:iG}=k(T4.privateApis);function k4(e){let t=(0,Lb.useSelect)(i=>i(m).isPublishSidebarEnabled(),[]),{enablePublishSidebar:o,disablePublishSidebar:s}=(0,Lb.useDispatch)(m);return(0,x4.jsx)(iG,{isChecked:t,onChange:i=>i?o():s(),...e})}var Nl=r(y()),Fb=r(P()),E4=r(Pe()),Vb=r(ve()),C4=r(A()),A4=r(E()),Ml=r(w()),I4=r(F());var{BlockManager:nG}=k(I4.privateApis),aG=[];function R4(){let{showBlockTypes:e,hideBlockTypes:t}=k((0,Fb.useDispatch)(m)),{blockTypes:o,allowedBlockTypes:s,hiddenBlockTypes:i}=(0,Fb.useSelect)(f=>({blockTypes:f(Vb.store).getBlockTypes(),allowedBlockTypes:f(m).getEditorSettings().allowedBlockTypes,hiddenBlockTypes:f(E4.store).get("core","hiddenBlockTypes")??aG}),[]),a=(0,C4.useMemo)(()=>s===!0?o:o.filter(({name:f})=>s?.includes(f)),[s,o]).filter(f=>(0,Vb.hasBlockSupport)(f,"inserter",!0)&&(!f.parent||f.parent.includes("core/post-content"))),c=i.filter(f=>a.some(h=>h.name===f)),l=a.filter(f=>!c.includes(f.name)),d=a.length-l.length;function u(){p(a)}let p=f=>{if(l.length>f.length){let h=l.filter(g=>!f.find(({name:b})=>b===g.name));t(h.map(({name:g})=>g))}else if(l.length<f.length){let h=f.filter(g=>!l.find(({name:b})=>b===g.name));e(h.map(({name:g})=>g))}};return(0,Nl.jsxs)("div",{className:"editor-block-visibility",children:[!!d&&(0,Nl.jsxs)("div",{className:"editor-block-visibility__disabled-blocks-count",children:[(0,Ml.sprintf)((0,Ml._n)("%d block is hidden.","%d blocks are hidden.",d),d),(0,Nl.jsx)(A4.Button,{__next40pxDefaultSize:!0,variant:"link",onClick:u,children:(0,Ml.__)("Reset")})]}),(0,Nl.jsx)(nG,{blockTypes:a,selectedBlockTypes:l,onChange:p,showSelectAll:!1})]})}var{PreferencesModal:lG,PreferencesModalTabs:cG,PreferencesModalSection:Es,PreferenceToggleControl:Vo}=k(eu.privateApis);function M4({extraSections:e={}}){let t=(0,xn.useSelect)(s=>s(Y).isModalActive("editor/preferences"),[]),{closeModal:o}=(0,xn.useDispatch)(Y);return t?(0,K.jsx)(lG,{closeModal:o,children:(0,K.jsx)(dG,{extraSections:e})}):null}function dG({extraSections:e={}}){let t=(0,B4.useViewportMatch)("medium"),o=(0,xn.useSelect)(c=>{let{getEditorSettings:l}=c(m),{get:d}=c(eu.store),u=l().richEditingEnabled;return!d("core","distractionFree")&&t&&u},[t]),{setIsListViewOpened:s,setIsInserterOpened:i}=(0,xn.useDispatch)(m),{set:n}=(0,xn.useDispatch)(eu.store),a=(0,N4.useMemo)(()=>[{name:"general",tabLabel:(0,q.__)("General"),content:(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(Es,{title:(0,q.__)("Interface"),children:[(0,K.jsx)(Vo,{scope:"core",featureName:"showListViewByDefault",help:(0,q.__)("Opens the List View panel by default."),label:(0,q.__)("Always open List View")}),o&&(0,K.jsx)(Vo,{scope:"core",featureName:"showBlockBreadcrumbs",help:(0,q.__)("Display the block hierarchy trail at the bottom of the editor."),label:(0,q.__)("Show block breadcrumbs")}),(0,K.jsx)(Vo,{scope:"core",featureName:"allowRightClickOverrides",help:(0,q.__)("Allows contextual List View menus via right-click, overriding browser defaults."),label:(0,q.__)("Allow right-click contextual menus")}),(0,K.jsx)(Vo,{scope:"core",featureName:"enableChoosePatternModal",help:(0,q.__)("Shows starter patterns when creating a new page."),label:(0,q.__)("Show starter patterns")})]}),(0,K.jsxs)(Es,{title:(0,q.__)("Document settings"),description:(0,q.__)("Select what settings are shown in the document panel."),children:[(0,K.jsx)(ef.Slot,{}),(0,K.jsx)(qa,{taxonomyWrapper:(c,l)=>(0,K.jsx)(ei,{label:l.labels.menu_name,panelName:`taxonomy-panel-${l.slug}`})}),(0,K.jsx)(ms,{children:(0,K.jsx)(ei,{label:(0,q.__)("Featured image"),panelName:"featured-image"})}),(0,K.jsx)(Qi,{children:(0,K.jsx)(ei,{label:(0,q.__)("Excerpt"),panelName:"post-excerpt"})}),(0,K.jsx)(Ee,{supportKeys:["comments","trackbacks"],children:(0,K.jsx)(ei,{label:(0,q.__)("Discussion"),panelName:"discussion-panel"})}),(0,K.jsx)(ha,{children:(0,K.jsx)(ei,{label:(0,q.__)("Page attributes"),panelName:"page-attributes"})})]}),t&&(0,K.jsx)(Es,{title:(0,q.__)("Publishing"),children:(0,K.jsx)(k4,{help:(0,q.__)("Review settings, such as visibility and tags."),label:(0,q.__)("Enable pre-publish checks")})}),e?.general]})},{name:"appearance",tabLabel:(0,q.__)("Appearance"),content:(0,K.jsxs)(Es,{title:(0,q.__)("Appearance"),description:(0,q.__)("Customize the editor interface to suit your needs."),children:[(0,K.jsx)(Vo,{scope:"core",featureName:"fixedToolbar",onToggle:()=>n("core","distractionFree",!1),help:(0,q.__)("Access all block and document tools in a single place."),label:(0,q.__)("Top toolbar")}),(0,K.jsx)(Vo,{scope:"core",featureName:"distractionFree",onToggle:()=>{n("core","fixedToolbar",!0),i(!1),s(!1)},help:(0,q.__)("Reduce visual distractions by hiding the toolbar and other elements to focus on writing."),label:(0,q.__)("Distraction free")}),(0,K.jsx)(Vo,{scope:"core",featureName:"focusMode",help:(0,q.__)("Highlights the current block and fades other content."),label:(0,q.__)("Spotlight mode")}),e?.appearance]})},{name:"accessibility",tabLabel:(0,q.__)("Accessibility"),content:(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(Es,{title:(0,q.__)("Navigation"),description:(0,q.__)("Optimize the editing experience for enhanced control."),children:(0,K.jsx)(Vo,{scope:"core",featureName:"keepCaretInsideBlock",help:(0,q.__)("Keeps the text cursor within blocks while navigating with arrow keys, preventing it from moving to other blocks and enhancing accessibility for keyboard users."),label:(0,q.__)("Contain text cursor inside block")})}),(0,K.jsx)(Es,{title:(0,q.__)("Interface"),children:(0,K.jsx)(Vo,{scope:"core",featureName:"showIconLabels",label:(0,q.__)("Show button text labels"),help:(0,q.__)("Show text instead of icons on buttons across the interface.")})})]})},{name:"blocks",tabLabel:(0,q.__)("Blocks"),content:(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(Es,{title:(0,q.__)("Inserter"),children:(0,K.jsx)(Vo,{scope:"core",featureName:"mostUsedBlocks",help:(0,q.__)("Adds a category with the most frequently used blocks in the inserter."),label:(0,q.__)("Show most used blocks")})}),(0,K.jsx)(Es,{title:(0,q.__)("Manage block visibility"),description:(0,q.__)("Disable blocks that you don't want to appear in the inserter. They can always be toggled back on later."),children:(0,K.jsx)(R4,{})})]})},window.__experimentalMediaProcessing&&{name:"media",tabLabel:(0,q.__)("Media"),content:(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(Es,{title:(0,q.__)("General"),description:(0,q.__)("Customize options related to the media upload flow."),children:[(0,K.jsx)(Vo,{scope:"core/media",featureName:"optimizeOnUpload",help:(0,q.__)("Compress media items before uploading to the server."),label:(0,q.__)("Pre-upload compression")}),(0,K.jsx)(Vo,{scope:"core/media",featureName:"requireApproval",help:(0,q.__)("Require approval step when optimizing existing media."),label:(0,q.__)("Approval step")})]})})}].filter(Boolean),[o,e,i,s,n,t]);return(0,K.jsx)(cG,{sections:a})}var D4=r(A()),jb=r(P());function uG({postType:e}){let{registerPostTypeSchema:t}=k((0,jb.useDispatch)(m));(0,D4.useEffect)(()=>{t(e)},[t,e]);let{fields:o}=(0,jb.useSelect)(s=>{let{getEntityFields:i}=k(s(m));return{fields:i("postType",e)}},[e]);return o}var O4=uG;var su=r(ve());var tu=r(F()),L4="content",F4={name:"core/pattern-overrides",getValues({select:e,clientId:t,context:o,bindings:s}){let i=o["pattern/overrides"],{getBlockAttributes:n}=e(tu.store),a=n(t),c={};for(let l of Object.keys(s)){let d=i?.[a?.metadata?.name]?.[l];if(d===void 0){c[l]=a[l];continue}else c[l]=d===""?void 0:d}return c},setValues({select:e,dispatch:t,clientId:o,bindings:s}){let{getBlockAttributes:i,getBlockParentsByBlockName:n,getBlocks:a}=e(tu.store),l=i(o)?.metadata?.name;if(!l)return;let[d]=n(o,"core/block",!0),u=Object.entries(s).reduce((f,[h,{newValue:g}])=>(f[h]=g,f),{});if(!d){let f=h=>{for(let g of h)g.attributes?.metadata?.name===l&&t(tu.store).updateBlockAttributes(g.clientId,u),f(g.innerBlocks)};f(a());return}let p=i(d)?.[L4];t(tu.store).updateBlockAttributes(d,{[L4]:{...p,[l]:{...p?.[l],...Object.entries(u).reduce((f,[h,g])=>(f[h]=g===void 0?"":g,f),{})}}})},canUserEditValue:()=>!0};var Hb=r(w()),zb=r(R()),ou=r(F()),Ub=["core/navigation-link","core/navigation-submenu"],dw=[{label:(0,Hb.__)("Post Date"),args:{field:"date"},type:"string"},{label:(0,Hb.__)("Post Modified Date"),args:{field:"modified"},type:"string"},{label:(0,Hb.__)("Post Link"),args:{field:"link"},type:"string"}],V4={name:"core/post-data",getValues({select:e,context:t,bindings:o,clientId:s}){let i=dw.map(g=>g.args.field),{getBlockAttributes:n,getBlockName:a}=e(ou.store),c=a?.(s),l=Ub.includes(c),d,u;if(l){let g=n?.(s);d=g?.id,u=g?.type}else d=t?.postId,u=t?.postType;let{getEditedEntityRecord:p}=e(zb.store),f=p("postType",u,d),h={};for(let[g,b]of Object.entries(o)){if(!i.includes(b.args.field)){h[g]={};continue}h[g]=f?.[b.args.field]??dw.find(_=>_.args.field===b.args.field).label}return h},setValues({dispatch:e,context:t,bindings:o,clientId:s,select:i}){let{getBlockName:n}=i(ou.store),a=n?.(s);if(Ub.includes(a))return!1;let c={};Object.values(o).forEach(({args:l,newValue:d})=>{c[l.field]=d}),e(zb.store).editEntityRecord("postType",t?.postType,t?.postId,c)},canUserEditValue({select:e,context:t}){let{getBlockName:o,getSelectedBlockClientId:s}=e(ou.store),i=s(),n=o?.(i);return!(Ub.includes(n)||t?.query||t?.queryId||!t?.postType||!e(zb.store).canUser("update",{kind:"postType",name:t?.postType,id:t?.postId}))},getFieldsList({select:e}){let t=e(ou.store).getSelectedBlock();return t?.name!=="core/post-date"?[]:Ub.includes(t?.name)?[]:dw}};var ru=r(R());function uw(e,t){let{getRegisteredPostMeta:o}=k(e(ru.store)),s=o(t?.postType),i=[];return Object.entries(s).forEach(([n,a])=>{n==="footnotes"||n.charAt(0)==="_"||i.push({label:a.title||n,args:{key:n},default:a.default,type:a.type})}),i}function pG({select:e,context:t,args:o}){let i=uw(e,t).find(c=>c.args.key===o.key);if(!i)return o.key;if(!t?.postId)return i.default||i.label||o.key;let{getEditedEntityRecord:n}=e(ru.store);return n("postType",t?.postType,t?.postId).meta?.[o.key]??i?.label??o.key}var j4={name:"core/post-meta",getValues({select:e,context:t,bindings:o}){let s={};for(let[i,n]of Object.entries(o))s[i]=pG({select:e,context:t,args:n.args});return s},setValues({dispatch:e,context:t,bindings:o}){let s={};Object.values(o).forEach(({args:i,newValue:n})=>{s[i.key]=n}),e(ru.store).editEntityRecord("postType",t?.postType,t?.postId,{meta:s})},canUserEditValue({select:e,context:t,args:o}){return!(t?.query||t?.queryId||!t?.postType||!uw(e,t).some(c=>c.args.key===o.key)||e(m).getEditorSettings().enableCustomFields||!e(ru.store).canUser("update",{kind:"postType",name:t?.postType,id:t?.postId}))},getFieldsList({select:e,context:t}){return uw(e,t).map(({default:s,...i})=>({...i}))}};var gi=r(w()),H4=r(R()),Gb=r(F()),z4=["core/navigation-link","core/navigation-submenu"];function U4(e,t){return{id:{label:(0,gi.__)("Term ID"),value:t,type:"string"},name:{label:(0,gi.__)("Name"),value:e?.name,type:"string"},slug:{label:(0,gi.__)("Slug"),value:e?.slug,type:"string"},link:{label:(0,gi.__)("Link"),value:e?.link,type:"string"},description:{label:(0,gi.__)("Description"),value:e?.description,type:"string"},parent:{label:(0,gi.__)("Parent ID"),value:e?.parent,type:"string"},count:{label:(0,gi.__)("Count"),value:`(${e?.count??0})`,type:"string"}}}function pw(e,t,o){let{getEntityRecord:s}=e(H4.store),{getBlockAttributes:i,getBlockName:n}=e(Gb.store),a,c,l=n?.(o),d=z4.includes(l),u,p;if(d){let f=i?.(o);u=f?.id;let h=f?.type;p=h==="tag"?"post_tag":h}else u=t?.termId,p=t?.taxonomy;return p&&u?(a=s("taxonomy",p,u),!a&&t?.termData&&(a=t.termData),a&&(c=U4(a,u))):t?.termData&&(a=t.termData,c=U4(a,a?.term_id)),!c||!Object.keys(c).length?null:c}var G4={name:"core/term-data",usesContext:["taxonomy","termId","termData"],getValues({select:e,context:t,bindings:o,clientId:s}){let i=pw(e,t,s),n={};for(let[a,c]of Object.entries(o)){let l=c.args.field,{value:d,label:u}=i?.[l]||{};n[a]=d??u??l}return n},setValues({dispatch:e,context:t,bindings:o}){return!1},canUserEditValue({select:e,context:t,args:o}){let{getBlockName:s,getSelectedBlockClientId:i}=e(Gb.store),n=i(),a=s?.(n);return z4.includes(a)||t?.termQuery||!t?.taxonomy||!t?.termId||pw(e,t,void 0)?.[o.field]?.value===void 0,!1},getFieldsList({select:e,context:t}){let o=e(Gb.store).getSelectedBlockClientId(),s=pw(e,t,o);return s?Object.entries(s).map(([i,n])=>({label:n.label,type:n.type,args:{field:i}})):[]}};function W4(){(0,su.registerBlockBindingsSource)(F4),(0,su.registerBlockBindingsSource)(V4),(0,su.registerBlockBindingsSource)(j4),(0,su.registerBlockBindingsSource)(G4)}var{store:mG,...fG}=Mv,$4={};Uw($4,{CreateTemplatePartModal:Gn,patternTitleField:dc,templateTitleField:cc,BackButton:gg,EntitiesSavedStatesExtensible:$c,Editor:w4,EditorContentSlotFill:hg,EditorPresence:lN,GlobalStylesProvider:e0,mergeBaseAndUserConfigs:Ev,PluginPostExcerpt:Jc,PostCardPanel:Qg,PreferencesModal:M4,usePostActions:qg,usePostFields:O4,ToolsMoreMenuGroup:Sg,ViewMoreMenuGroup:Pg,ResizableEditor:Lg,registerCoreBlockBindingsSources:W4,getTemplateInfo:uo,interfaceStore:mG,...fG});var iu=r(P());function hG(e,t,o){let{registerEntityAction:s}=k((0,iu.dispatch)(m));s(e,t,o)}function gG(e,t,o){let{unregisterEntityAction:s}=k((0,iu.dispatch)(m));s(e,t,o)}function bG(e,t,o){let{registerEntityField:s}=k((0,iu.dispatch)(m));s(e,t,o)}function _G(e,t,o){let{unregisterEntityField:s}=k((0,iu.dispatch)(m));s(e,t,o)}var Y4=r(F());return nO(yG);})();
/*! Bundled license information:

autosize/dist/autosize.js:
  (*!
  	autosize 4.0.2
  	license: MIT
  	http://www.jacklmoore.com/autosize
  *)

is-plain-object/dist/is-plain-object.mjs:
  (*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)
*/
//# sourceMappingURL=index.min.js.map
