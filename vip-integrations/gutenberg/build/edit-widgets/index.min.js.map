{"version":3,"file":"./build/edit-widgets/index.min.js","mappings":"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","sources":["webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"deprecated\"]","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"blockLibrary\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"widgets\"]","webpack://wp/external window [\"wp\",\"preferences\"]","webpack://wp/external window [\"wp\",\"apiFetch\"]","../../packages/edit-widgets/src/store/reducer.js","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"notices\"]","webpack://wp/./node_modules/clsx/dist/clsx.mjs","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/external window \"ReactJSXRuntime\"","../../packages/icons/src/library/check.tsx","../../packages/icons/src/library/star-filled.tsx","../../packages/icons/src/library/star-empty.tsx","webpack://wp/external window [\"wp\",\"viewport\"]","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/external window [\"wp\",\"plugins\"]","../../packages/icons/src/library/close-small.tsx","../../packages/interface/src/store/deprecated.js","../../packages/interface/src/store/actions.js","../../packages/interface/src/store/selectors.js","../../packages/interface/src/store/reducer.js","../../packages/interface/src/store/index.js","../../packages/interface/src/store/constants.js","../../packages/interface/src/components/complementary-area-toggle/index.js","../../packages/interface/src/components/complementary-area-header/index.js","../../packages/interface/src/components/action-item/index.js","../../packages/interface/src/components/complementary-area-more-menu-item/index.js","../../packages/interface/src/components/pinned-items/index.js","../../packages/interface/src/components/complementary-area/index.js","../../packages/interface/src/components/navigable-region/index.js","../../packages/interface/src/components/interface-skeleton/index.js","webpack://wp/external window [\"wp\",\"blockEditor\"]","../../packages/edit-widgets/src/store/transformers.js","../../packages/edit-widgets/src/store/utils.js","../../packages/edit-widgets/src/store/constants.js","../../packages/edit-widgets/src/store/actions.js","../../packages/edit-widgets/src/store/resolvers.js","../../packages/edit-widgets/src/store/selectors.js","../../packages/edit-widgets/src/store/private-selectors.js","webpack://wp/external window [\"wp\",\"privateApis\"]","../../packages/edit-widgets/src/lock-unlock.js","../../packages/edit-widgets/src/store/index.js","webpack://wp/external window [\"wp\",\"hooks\"]","../../packages/edit-widgets/src/filters/move-to-widget-area.js","webpack://wp/external window [\"wp\",\"mediaUtils\"]","../../packages/edit-widgets/src/filters/replace-media-upload.js","../../packages/edit-widgets/src/blocks/widget-area/edit/use-is-dragging-within.js","../../packages/edit-widgets/src/blocks/widget-area/edit/inner-blocks.js","../../packages/edit-widgets/src/blocks/widget-area/edit/index.js","../../packages/edit-widgets/src/blocks/widget-area/index.js","../../packages/edit-widgets/src/components/error-boundary/index.js","webpack://wp/external window [\"wp\",\"patterns\"]","webpack://wp/external window [\"wp\",\"keyboardShortcuts\"]","webpack://wp/external window [\"wp\",\"keycodes\"]","../../packages/edit-widgets/src/components/keyboard-shortcuts/index.js","../../packages/edit-widgets/src/constants.js","../../packages/edit-widgets/src/components/widget-areas-block-editor-provider/index.js","../../packages/edit-widgets/src/hooks/use-last-selected-widget-area.js","../../packages/icons/src/library/drawer-left.tsx","../../packages/icons/src/library/drawer-right.tsx","../../packages/icons/src/library/block-default.tsx","webpack://wp/external window [\"wp\",\"url\"]","webpack://wp/external window [\"wp\",\"dom\"]","../../packages/edit-widgets/src/components/sidebar/widget-areas.js","../../packages/edit-widgets/src/components/sidebar/index.js","../../packages/icons/src/library/plus.tsx","../../packages/icons/src/library/list-view.tsx","../../packages/icons/src/library/undo.tsx","../../packages/icons/src/library/redo.tsx","../../packages/edit-widgets/src/components/header/undo-redo/undo.js","../../packages/edit-widgets/src/components/header/undo-redo/redo.js","../../packages/edit-widgets/src/components/header/document-tools/index.js","../../packages/edit-widgets/src/components/save-button/index.js","../../packages/icons/src/library/more-vertical.tsx","../../packages/icons/src/library/external.tsx","../../packages/edit-widgets/src/components/keyboard-shortcut-help-modal/config.js","../../packages/edit-widgets/src/components/keyboard-shortcut-help-modal/shortcut.js","../../packages/edit-widgets/src/components/keyboard-shortcut-help-modal/dynamic-shortcut.js","../../packages/edit-widgets/src/components/keyboard-shortcut-help-modal/index.js","../../packages/edit-widgets/src/components/more-menu/tools-more-menu-group.js","../../packages/edit-widgets/src/components/more-menu/index.js","../../packages/edit-widgets/src/components/header/index.js","../../packages/edit-widgets/src/components/notices/index.js","../../packages/edit-widgets/src/components/widget-areas-block-editor-content/index.js","../../packages/edit-widgets/src/hooks/use-widget-library-insertion-point.js","../../packages/edit-widgets/src/components/secondary-sidebar/inserter-sidebar.js","../../packages/edit-widgets/src/components/secondary-sidebar/list-view-sidebar.js","../../packages/edit-widgets/src/components/secondary-sidebar/index.js","../../packages/edit-widgets/src/components/layout/interface.js","../../packages/edit-widgets/src/components/layout/unsaved-changes-warning.js","../../packages/edit-widgets/src/components/welcome-guide/index.js","../../packages/edit-widgets/src/components/layout/index.js","../../packages/edit-widgets/src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"deprecated\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockLibrary\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"widgets\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"preferences\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Controls the open state of the widget areas.\n *\n * @param {Object} state  Redux state.\n * @param {Object} action Redux action.\n *\n * @return {Array} Updated state.\n */\nexport function widgetAreasOpenState( state = {}, action ) {\n\tconst { type } = action;\n\tswitch ( type ) {\n\t\tcase 'SET_WIDGET_AREAS_OPEN_STATE': {\n\t\t\treturn action.widgetAreasOpenState;\n\t\t}\n\t\tcase 'SET_IS_WIDGET_AREA_OPEN': {\n\t\t\tconst { clientId, isOpen } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ clientId ]: isOpen,\n\t\t\t};\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\n/**\n * Reducer to set the block inserter panel open or closed.\n *\n * Note: this reducer interacts with the list view panel reducer\n * to make sure that only one of the two panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the list view panel open or closed.\n *\n * Note: this reducer interacts with the inserter panel reducer\n * to make sure that only one of the two panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function listViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value ? false : state;\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t}\n\treturn state;\n}\n\n/**\n * This reducer does nothing aside initializing a ref to the list view toggle.\n * We will have a unique ref per \"editor\" instance.\n *\n * @param {Object} state\n * @return {Object} Reference to the list view toggle button.\n */\nexport function listViewToggleRef( state = { current: null } ) {\n\treturn state;\n}\n\n/**\n * This reducer does nothing aside initializing a ref to the inserter sidebar toggle.\n * We will have a unique ref per \"editor\" instance.\n *\n * @param {Object} state\n * @return {Object} Reference to the inserter sidebar toggle button.\n */\nexport function inserterSidebarToggleRef( state = { current: null } ) {\n\treturn state;\n}\n\n/**\n * Widget saving lock.\n *\n * When widget saving is locked, the widget cannot be updated.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function widgetSavingLock( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'LOCK_WIDGET_SAVING':\n\t\t\treturn { ...state, [ action.lockName ]: true };\n\n\t\tcase 'UNLOCK_WIDGET_SAVING': {\n\t\t\tconst { [ action.lockName ]: removedLockName, ...restState } =\n\t\t\t\tstate;\n\t\t\treturn restState;\n\t\t}\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tblockInserterPanel,\n\tinserterSidebarToggleRef,\n\tlistViewPanel,\n\tlistViewToggleRef,\n\twidgetAreasOpenState,\n\twidgetSavingLock,\n} );\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst check = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\" />\n\t</SVG>\n);\n\nexport default check;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z\" />\n\t</SVG>\n);\n\nexport default starFilled;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starEmpty = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default starEmpty;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"viewport\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"plugins\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst closeSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n\nexport default closeSmall;\n","/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\n\nexport function normalizeComplementaryAreaScope( scope ) {\n\tif ( [ 'core/edit-post', 'core/edit-site' ].includes( scope ) ) {\n\t\tdeprecated( `${ scope } interface scope`, {\n\t\t\talternative: 'core interface scope',\n\t\t\thint: 'core/edit-post and core/edit-site are merging.',\n\t\t\tversion: '6.6',\n\t\t} );\n\t\treturn 'core';\n\t}\n\n\treturn scope;\n}\n\nexport function normalizeComplementaryAreaName( scope, name ) {\n\tif ( scope === 'core' && name === 'edit-site/template' ) {\n\t\tdeprecated( `edit-site/template sidebar`, {\n\t\t\talternative: 'edit-post/document',\n\t\t\tversion: '6.6',\n\t\t} );\n\t\treturn 'edit-post/document';\n\t}\n\n\tif ( scope === 'core' && name === 'edit-site/block-inspector' ) {\n\t\tdeprecated( `edit-site/block-inspector sidebar`, {\n\t\t\talternative: 'edit-post/block',\n\t\t\tversion: '6.6',\n\t\t} );\n\t\treturn 'edit-post/block';\n\t}\n\n\treturn name;\n}\n","/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tnormalizeComplementaryAreaScope,\n\tnormalizeComplementaryAreaName,\n} from './deprecated';\n\n/**\n * Set a default complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n *\n * @return {Object} Action object.\n */\nexport const setDefaultComplementaryArea = ( scope, area ) => {\n\tscope = normalizeComplementaryAreaScope( scope );\n\tarea = normalizeComplementaryAreaName( scope, area );\n\treturn {\n\t\ttype: 'SET_DEFAULT_COMPLEMENTARY_AREA',\n\t\tscope,\n\t\tarea,\n\t};\n};\n\n/**\n * Enable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n */\nexport const enableComplementaryArea =\n\t( scope, area ) =>\n\t( { registry, dispatch } ) => {\n\t\t// Return early if there's no area.\n\t\tif ( ! area ) {\n\t\t\treturn;\n\t\t}\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tarea = normalizeComplementaryAreaName( scope, area );\n\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( ! isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', true );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'ENABLE_COMPLEMENTARY_AREA',\n\t\t\tscope,\n\t\t\tarea,\n\t\t} );\n\t};\n\n/**\n * Disable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n */\nexport const disableComplementaryArea =\n\t( scope ) =>\n\t( { registry } ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', false );\n\t\t}\n\t};\n\n/**\n * Pins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n *\n * @return {Object} Action object.\n */\nexport const pinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\titem = normalizeComplementaryAreaName( scope, item );\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\t// The item is already pinned, there's nothing to do.\n\t\tif ( pinnedItems?.[ item ] === true ) {\n\t\t\treturn;\n\t\t}\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: true,\n\t\t} );\n\t};\n\n/**\n * Unpins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n */\nexport const unpinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\titem = normalizeComplementaryAreaName( scope, item );\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: false,\n\t\t} );\n\t};\n\n/**\n * Returns an action object used in signalling that a feature should be toggled.\n *\n * @param {string} scope       The feature scope (e.g. core/edit-post).\n * @param {string} featureName The feature name.\n */\nexport function toggleFeature( scope, featureName ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).toggleFeature`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).toggle`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).toggle( scope, featureName );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a feature should be set to\n * a true or false value\n *\n * @param {string}  scope       The feature scope (e.g. core/edit-post).\n * @param {string}  featureName The feature name.\n * @param {boolean} value       The value to set.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureValue( scope, featureName, value ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureValue`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).set`,\n\t\t} );\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( scope, featureName, !! value );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that defaults should be set for features.\n *\n * @param {string}                  scope    The feature scope (e.g. core/edit-post).\n * @param {Object<string, boolean>} defaults A key/value map of feature names to values.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureDefaults( scope, defaults ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureDefaults`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).setDefaults`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).setDefaults( scope, defaults );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user opened a modal.\n *\n * @param {string} name A string that uniquely identifies the modal.\n *\n * @return {Object} Action object.\n */\nexport function openModal( name ) {\n\treturn {\n\t\ttype: 'OPEN_MODAL',\n\t\tname,\n\t};\n}\n\n/**\n * Returns an action object signalling that the user closed a modal.\n *\n * @return {Object} Action object.\n */\nexport function closeModal() {\n\treturn {\n\t\ttype: 'CLOSE_MODAL',\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tnormalizeComplementaryAreaScope,\n\tnormalizeComplementaryAreaName,\n} from './deprecated';\n\n/**\n * Returns the complementary area that is active in a given scope.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Item scope.\n *\n * @return {string | null | undefined} The complementary area that is active in the given scope.\n */\nexport const getActiveComplementaryArea = createRegistrySelector(\n\t( select ) => ( state, scope ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tconst isComplementaryAreaVisible = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'isComplementaryAreaVisible'\n\t\t);\n\n\t\t// Return `undefined` to indicate that the user has never toggled\n\t\t// visibility, this is the vanilla default. Other code relies on this\n\t\t// nuance in the return value.\n\t\tif ( isComplementaryAreaVisible === undefined ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Return `null` to indicate the user hid the complementary area.\n\t\tif ( isComplementaryAreaVisible === false ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn state?.complementaryAreas?.[ scope ];\n\t}\n);\n\nexport const isComplementaryAreaLoading = createRegistrySelector(\n\t( select ) => ( state, scope ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tconst isVisible = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'isComplementaryAreaVisible'\n\t\t);\n\t\tconst identifier = state?.complementaryAreas?.[ scope ];\n\n\t\treturn isVisible && identifier === undefined;\n\t}\n);\n\n/**\n * Returns a boolean indicating if an item is pinned or not.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Scope.\n * @param {string} item  Item to check.\n *\n * @return {boolean} True if the item is pinned and false otherwise.\n */\nexport const isItemPinned = createRegistrySelector(\n\t( select ) => ( state, scope, item ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\titem = normalizeComplementaryAreaName( scope, item );\n\t\tconst pinnedItems = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'pinnedItems'\n\t\t);\n\t\treturn pinnedItems?.[ item ] ?? true;\n\t}\n);\n\n/**\n * Returns a boolean indicating whether a feature is active for a particular\n * scope.\n *\n * @param {Object} state       The store state.\n * @param {string} scope       The scope of the feature (e.g. core/edit-post).\n * @param {string} featureName The name of the feature.\n *\n * @return {boolean} Is the feature enabled?\n */\nexport const isFeatureActive = createRegistrySelector(\n\t( select ) => ( state, scope, featureName ) => {\n\t\tdeprecated(\n\t\t\t`select( 'core/interface' ).isFeatureActive( scope, featureName )`,\n\t\t\t{\n\t\t\t\tsince: '6.0',\n\t\t\t\talternative: `select( 'core/preferences' ).get( scope, featureName )`,\n\t\t\t}\n\t\t);\n\n\t\treturn !! select( preferencesStore ).get( scope, featureName );\n\t}\n);\n\n/**\n * Returns true if a modal is active, or false otherwise.\n *\n * @param {Object} state     Global application state.\n * @param {string} modalName A string that uniquely identifies the modal.\n *\n * @return {boolean} Whether the modal is active.\n */\nexport function isModalActive( state, modalName ) {\n\treturn state.activeModal === modalName;\n}\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\nexport function complementaryAreas( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_DEFAULT_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\n\t\t\t// If there's already an area, don't overwrite it.\n\t\t\tif ( state[ scope ] ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t\tcase 'ENABLE_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer for storing the name of the open modal, or null if no modal is open.\n *\n * @param {Object} state  Previous state.\n * @param {Object} action Action object containing the `name` of the modal\n *\n * @return {Object} Updated state\n */\nexport function activeModal( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_MODAL':\n\t\t\treturn action.name;\n\t\tcase 'CLOSE_MODAL':\n\t\t\treturn null;\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tcomplementaryAreas,\n\tactiveModal,\n} );\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport reducer from './reducer';\nimport { STORE_NAME } from './constants';\n\n/**\n * Store definition for the interface namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, {\n\treducer,\n\tactions,\n\tselectors,\n} );\n\n// Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\nregister( store );\n","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/interface';\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { usePluginContext } from '@wordpress/plugins';\n\n/**\n * Internal dependencies\n */\nimport { store as interfaceStore } from '../../store';\n\n/**\n * Whether the role supports checked state.\n *\n * @see https://www.w3.org/TR/wai-aria-1.1/#aria-checked\n * @param {import('react').AriaRole} role Role.\n * @return {boolean} Whether the role supports checked state.\n */\nfunction roleSupportsCheckedState( role ) {\n\treturn [\n\t\t'checkbox',\n\t\t'option',\n\t\t'radio',\n\t\t'switch',\n\t\t'menuitemcheckbox',\n\t\t'menuitemradio',\n\t\t'treeitem',\n\t].includes( role );\n}\n\nexport default function ComplementaryAreaToggle( {\n\tas = Button,\n\tscope,\n\tidentifier: identifierProp,\n\ticon: iconProp,\n\tselectedIcon,\n\tname,\n\tshortcut,\n\t...props\n} ) {\n\tconst ComponentToUse = as;\n\tconst context = usePluginContext();\n\tconst icon = iconProp || context.icon;\n\tconst identifier = identifierProp || `${ context.name }/${ name }`;\n\tconst isSelected = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea( scope ) ===\n\t\t\tidentifier,\n\t\t[ identifier, scope ]\n\t);\n\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\n\treturn (\n\t\t<ComponentToUse\n\t\t\ticon={ selectedIcon && isSelected ? selectedIcon : icon }\n\t\t\taria-controls={ identifier.replace( '/', ':' ) }\n\t\t\t// Make sure aria-checked matches spec https://www.w3.org/TR/wai-aria-1.1/#aria-checked\n\t\t\taria-checked={\n\t\t\t\troleSupportsCheckedState( props.role ) ? isSelected : undefined\n\t\t\t}\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tdisableComplementaryArea( scope );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( scope, identifier );\n\t\t\t\t}\n\t\t\t} }\n\t\t\tshortcut={ shortcut }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\n\nconst ComplementaryAreaHeader = ( {\n\tchildren,\n\tclassName,\n\ttoggleButtonProps,\n} ) => {\n\tconst toggleButton = (\n\t\t<ComplementaryAreaToggle icon={ closeSmall } { ...toggleButtonProps } />\n\t);\n\treturn (\n\t\t<div\n\t\t\tclassName={ clsx(\n\t\t\t\t'components-panel__header',\n\t\t\t\t'interface-complementary-area-header',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\ttabIndex={ -1 }\n\t\t>\n\t\t\t{ children }\n\t\t\t{ toggleButton }\n\t\t</div>\n\t);\n};\n\nexport default ComplementaryAreaHeader;\n","/**\n * WordPress dependencies\n */\nimport { MenuGroup, Button, Slot, Fill } from '@wordpress/components';\nimport { Children } from '@wordpress/element';\n\nconst noop = () => {};\n\nfunction ActionItemSlot( {\n\tname,\n\tas: Component = MenuGroup,\n\tfillProps = {},\n\tbubblesVirtually,\n\t...props\n} ) {\n\treturn (\n\t\t<Slot\n\t\t\tname={ name }\n\t\t\tbubblesVirtually={ bubblesVirtually }\n\t\t\tfillProps={ fillProps }\n\t\t>\n\t\t\t{ ( fills ) => {\n\t\t\t\tif ( ! Children.toArray( fills ).length ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Special handling exists for backward compatibility.\n\t\t\t\t// It ensures that menu items created by plugin authors aren't\n\t\t\t\t// duplicated with automatically injected menu items coming\n\t\t\t\t// from pinnable plugin sidebars.\n\t\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t\tconst initializedByPlugins = [];\n\t\t\t\tChildren.forEach(\n\t\t\t\t\tfills,\n\t\t\t\t\t( {\n\t\t\t\t\t\tprops: { __unstableExplicitMenuItem, __unstableTarget },\n\t\t\t\t\t} ) => {\n\t\t\t\t\t\tif ( __unstableTarget && __unstableExplicitMenuItem ) {\n\t\t\t\t\t\t\tinitializedByPlugins.push( __unstableTarget );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst children = Children.map( fills, ( child ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t! child.props.__unstableExplicitMenuItem &&\n\t\t\t\t\t\tinitializedByPlugins.includes(\n\t\t\t\t\t\t\tchild.props.__unstableTarget\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn child;\n\t\t\t\t} );\n\n\t\t\t\treturn <Component { ...props }>{ children }</Component>;\n\t\t\t} }\n\t\t</Slot>\n\t);\n}\n\nfunction ActionItem( { name, as: Component = Button, onClick, ...props } ) {\n\treturn (\n\t\t<Fill name={ name }>\n\t\t\t{ ( { onClick: fpOnClick } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Component\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tonClick || fpOnClick\n\t\t\t\t\t\t\t\t? ( ...args ) => {\n\t\t\t\t\t\t\t\t\t\t( onClick || noop )( ...args );\n\t\t\t\t\t\t\t\t\t\t( fpOnClick || noop )( ...args );\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t</Fill>\n\t);\n}\n\nActionItem.Slot = ActionItemSlot;\n\nexport default ActionItem;\n","/**\n * WordPress dependencies\n */\nimport { check } from '@wordpress/icons';\nimport { MenuItem } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport ActionItem from '../action-item';\n\nconst PluginsMenuItem = ( {\n\t// Menu item is marked with unstable prop for backward compatibility.\n\t// They are removed so they don't leak to DOM elements.\n\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t__unstableExplicitMenuItem,\n\t__unstableTarget,\n\t...restProps\n} ) => <MenuItem { ...restProps } />;\n\nexport default function ComplementaryAreaMoreMenuItem( {\n\tscope,\n\ttarget,\n\t__unstableExplicitMenuItem,\n\t...props\n} ) {\n\treturn (\n\t\t<ComplementaryAreaToggle\n\t\t\tas={ ( toggleProps ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ActionItem\n\t\t\t\t\t\t__unstableExplicitMenuItem={\n\t\t\t\t\t\t\t__unstableExplicitMenuItem\n\t\t\t\t\t\t}\n\t\t\t\t\t\t__unstableTarget={ `${ scope }/${ target }` }\n\t\t\t\t\t\tas={ PluginsMenuItem }\n\t\t\t\t\t\tname={ `${ scope }/plugin-more-menu` }\n\t\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tselectedIcon={ check }\n\t\t\tname={ target }\n\t\t\tscope={ scope }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Slot, Fill } from '@wordpress/components';\n\nfunction PinnedItems( { scope, ...props } ) {\n\treturn <Fill name={ `PinnedItems/${ scope }` } { ...props } />;\n}\n\nfunction PinnedItemsSlot( { scope, className, ...props } ) {\n\treturn (\n\t\t<Slot name={ `PinnedItems/${ scope }` } { ...props }>\n\t\t\t{ ( fills ) =>\n\t\t\t\tfills?.length > 0 && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t'interface-pinned-items'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ fills }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</Slot>\n\t);\n}\n\nPinnedItems.Slot = PinnedItemsSlot;\n\nexport default PinnedItems;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tPanel,\n\tSlot,\n\tFill,\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { check, starEmpty, starFilled } from '@wordpress/icons';\nimport { useEffect, useRef, useState } from '@wordpress/element';\nimport { store as viewportStore } from '@wordpress/viewport';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tuseReducedMotion,\n\tuseViewportMatch,\n\tusePrevious,\n} from '@wordpress/compose';\nimport { usePluginContext } from '@wordpress/plugins';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaHeader from '../complementary-area-header';\nimport ComplementaryAreaMoreMenuItem from '../complementary-area-more-menu-item';\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport PinnedItems from '../pinned-items';\nimport { store as interfaceStore } from '../../store';\n\nconst ANIMATION_DURATION = 0.3;\n\nfunction ComplementaryAreaSlot( { scope, ...props } ) {\n\treturn <Slot name={ `ComplementaryArea/${ scope }` } { ...props } />;\n}\n\nconst SIDEBAR_WIDTH = 280;\nconst variants = {\n\topen: { width: SIDEBAR_WIDTH },\n\tclosed: { width: 0 },\n\tmobileOpen: { width: '100vw' },\n};\n\nfunction ComplementaryAreaFill( {\n\tactiveArea,\n\tisActive,\n\tscope,\n\tchildren,\n\tclassName,\n\tid,\n} ) {\n\tconst disableMotion = useReducedMotion();\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\t// This is used to delay the exit animation to the next tick.\n\t// The reason this is done is to allow us to apply the right transition properties\n\t// When we switch from an open sidebar to another open sidebar.\n\t// we don't want to animate in this case.\n\tconst previousActiveArea = usePrevious( activeArea );\n\tconst previousIsActive = usePrevious( isActive );\n\tconst [ , setState ] = useState( {} );\n\tuseEffect( () => {\n\t\tsetState( {} );\n\t}, [ isActive ] );\n\tconst transition = {\n\t\ttype: 'tween',\n\t\tduration:\n\t\t\tdisableMotion ||\n\t\t\tisMobileViewport ||\n\t\t\t( !! previousActiveArea &&\n\t\t\t\t!! activeArea &&\n\t\t\t\tactiveArea !== previousActiveArea )\n\t\t\t\t? 0\n\t\t\t\t: ANIMATION_DURATION,\n\t\tease: [ 0.6, 0, 0.4, 1 ],\n\t};\n\n\treturn (\n\t\t<Fill name={ `ComplementaryArea/${ scope }` }>\n\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t{ ( previousIsActive || isActive ) && (\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tvariants={ variants }\n\t\t\t\t\t\tinitial=\"closed\"\n\t\t\t\t\t\tanimate={ isMobileViewport ? 'mobileOpen' : 'open' }\n\t\t\t\t\t\texit=\"closed\"\n\t\t\t\t\t\ttransition={ transition }\n\t\t\t\t\t\tclassName=\"interface-complementary-area__fill\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\twidth: isMobileViewport\n\t\t\t\t\t\t\t\t\t? '100vw'\n\t\t\t\t\t\t\t\t\t: SIDEBAR_WIDTH,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</motion.div>\n\t\t\t\t) }\n\t\t\t</AnimatePresence>\n\t\t</Fill>\n\t);\n}\n\nfunction useAdjustComplementaryListener(\n\tscope,\n\tidentifier,\n\tactiveArea,\n\tisActive,\n\tisSmall\n) {\n\tconst previousIsSmallRef = useRef( false );\n\tconst shouldOpenWhenNotSmallRef = useRef( false );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tuseEffect( () => {\n\t\t// If the complementary area is active and the editor is switching from\n\t\t// a big to a small window size.\n\t\tif ( isActive && isSmall && ! previousIsSmallRef.current ) {\n\t\t\tdisableComplementaryArea( scope );\n\t\t\t// Flag the complementary area to be reopened when the window size\n\t\t\t// goes from small to big.\n\t\t\tshouldOpenWhenNotSmallRef.current = true;\n\t\t} else if (\n\t\t\t// If there is a flag indicating the complementary area should be\n\t\t\t// enabled when we go from small to big window size and we are going\n\t\t\t// from a small to big window size.\n\t\t\tshouldOpenWhenNotSmallRef.current &&\n\t\t\t! isSmall &&\n\t\t\tpreviousIsSmallRef.current\n\t\t) {\n\t\t\t// Remove the flag indicating the complementary area should be\n\t\t\t// enabled.\n\t\t\tshouldOpenWhenNotSmallRef.current = false;\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t} else if (\n\t\t\t// If the flag is indicating the current complementary should be\n\t\t\t// reopened but another complementary area becomes active, remove\n\t\t\t// the flag.\n\t\t\tshouldOpenWhenNotSmallRef.current &&\n\t\t\tactiveArea &&\n\t\t\tactiveArea !== identifier\n\t\t) {\n\t\t\tshouldOpenWhenNotSmallRef.current = false;\n\t\t}\n\t\tif ( isSmall !== previousIsSmallRef.current ) {\n\t\t\tpreviousIsSmallRef.current = isSmall;\n\t\t}\n\t}, [\n\t\tisActive,\n\t\tisSmall,\n\t\tscope,\n\t\tidentifier,\n\t\tactiveArea,\n\t\tdisableComplementaryArea,\n\t\tenableComplementaryArea,\n\t] );\n}\n\nfunction ComplementaryArea( {\n\tchildren,\n\tclassName,\n\tcloseLabel = __( 'Close plugin' ),\n\tidentifier: identifierProp,\n\theader,\n\theaderClassName,\n\ticon: iconProp,\n\tisPinnable = true,\n\tpanelClassName,\n\tscope,\n\tname,\n\ttitle,\n\ttoggleShortcut,\n\tisActiveByDefault,\n} ) {\n\tconst context = usePluginContext();\n\tconst icon = iconProp || context.icon;\n\tconst identifier = identifierProp || `${ context.name }/${ name }`;\n\n\t// This state is used to delay the rendering of the Fill\n\t// until the initial effect runs.\n\t// This prevents the animation from running on mount if\n\t// the complementary area is active by default.\n\tconst [ isReady, setIsReady ] = useState( false );\n\tconst {\n\t\tisLoading,\n\t\tisActive,\n\t\tisPinned,\n\t\tactiveArea,\n\t\tisSmall,\n\t\tisLarge,\n\t\tshowIconLabels,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetActiveComplementaryArea,\n\t\t\t\tisComplementaryAreaLoading,\n\t\t\t\tisItemPinned,\n\t\t\t} = select( interfaceStore );\n\t\t\tconst { get } = select( preferencesStore );\n\n\t\t\tconst _activeArea = getActiveComplementaryArea( scope );\n\n\t\t\treturn {\n\t\t\t\tisLoading: isComplementaryAreaLoading( scope ),\n\t\t\t\tisActive: _activeArea === identifier,\n\t\t\t\tisPinned: isItemPinned( scope, identifier ),\n\t\t\t\tactiveArea: _activeArea,\n\t\t\t\tisSmall: select( viewportStore ).isViewportMatch( '< medium' ),\n\t\t\t\tisLarge: select( viewportStore ).isViewportMatch( 'large' ),\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t};\n\t\t},\n\t\t[ identifier, scope ]\n\t);\n\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\n\tuseAdjustComplementaryListener(\n\t\tscope,\n\t\tidentifier,\n\t\tactiveArea,\n\t\tisActive,\n\t\tisSmall\n\t);\n\tconst {\n\t\tenableComplementaryArea,\n\t\tdisableComplementaryArea,\n\t\tpinItem,\n\t\tunpinItem,\n\t} = useDispatch( interfaceStore );\n\n\tuseEffect( () => {\n\t\t// Set initial visibility: For large screens, enable if it's active by\n\t\t// default. For small screens, always initially disable.\n\t\tif ( isActiveByDefault && activeArea === undefined && ! isSmall ) {\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t} else if ( activeArea === undefined && isSmall ) {\n\t\t\tdisableComplementaryArea( scope, identifier );\n\t\t}\n\t\tsetIsReady( true );\n\t}, [\n\t\tactiveArea,\n\t\tisActiveByDefault,\n\t\tscope,\n\t\tidentifier,\n\t\tisSmall,\n\t\tenableComplementaryArea,\n\t\tdisableComplementaryArea,\n\t] );\n\n\tif ( ! isReady ) {\n\t\treturn;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ isPinnable && (\n\t\t\t\t<PinnedItems scope={ scope }>\n\t\t\t\t\t{ isPinned && (\n\t\t\t\t\t\t<ComplementaryAreaToggle\n\t\t\t\t\t\t\tscope={ scope }\n\t\t\t\t\t\t\tidentifier={ identifier }\n\t\t\t\t\t\t\tisPressed={\n\t\t\t\t\t\t\t\tisActive && ( ! showIconLabels || isLarge )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-expanded={ isActive }\n\t\t\t\t\t\t\taria-disabled={ isLoading }\n\t\t\t\t\t\t\tlabel={ title }\n\t\t\t\t\t\t\ticon={ showIconLabels ? check : icon }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tshortcut={ toggleShortcut }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PinnedItems>\n\t\t\t) }\n\t\t\t{ name && isPinnable && (\n\t\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\t\ttarget={ name }\n\t\t\t\t\tscope={ scope }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t\t) }\n\t\t\t<ComplementaryAreaFill\n\t\t\t\tactiveArea={ activeArea }\n\t\t\t\tisActive={ isActive }\n\t\t\t\tclassName={ clsx( 'interface-complementary-area', className ) }\n\t\t\t\tscope={ scope }\n\t\t\t\tid={ identifier.replace( '/', ':' ) }\n\t\t\t>\n\t\t\t\t<ComplementaryAreaHeader\n\t\t\t\t\tclassName={ headerClassName }\n\t\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\t\tonClose={ () => disableComplementaryArea( scope ) }\n\t\t\t\t\ttoggleButtonProps={ {\n\t\t\t\t\t\tlabel: closeLabel,\n\t\t\t\t\t\tsize: 'compact',\n\t\t\t\t\t\tshortcut: toggleShortcut,\n\t\t\t\t\t\tscope,\n\t\t\t\t\t\tidentifier,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ header || (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h2 className=\"interface-complementary-area-header__title\">\n\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t{ isPinnable && ! isMobileViewport && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"interface-complementary-area__pin-unpin-item\"\n\t\t\t\t\t\t\t\t\ticon={ isPinned ? starFilled : starEmpty }\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\tisPinned\n\t\t\t\t\t\t\t\t\t\t\t? __( 'Unpin from toolbar' )\n\t\t\t\t\t\t\t\t\t\t\t: __( 'Pin to toolbar' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t( isPinned ? unpinItem : pinItem )(\n\t\t\t\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t\t\t\t\tidentifier\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tisPressed={ isPinned }\n\t\t\t\t\t\t\t\t\taria-expanded={ isPinned }\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</ComplementaryAreaHeader>\n\t\t\t\t<Panel className={ panelClassName }>{ children }</Panel>\n\t\t\t</ComplementaryAreaFill>\n\t\t</>\n\t);\n}\n\nComplementaryArea.Slot = ComplementaryAreaSlot;\n\nexport default ComplementaryArea;\n","/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\nconst NavigableRegion = forwardRef(\n\t( { children, className, ariaLabel, as: Tag = 'div', ...props }, ref ) => {\n\t\treturn (\n\t\t\t<Tag\n\t\t\t\tref={ ref }\n\t\t\t\tclassName={ clsx( 'interface-navigable-region', className ) }\n\t\t\t\taria-label={ ariaLabel }\n\t\t\t\trole=\"region\"\n\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Tag>\n\t\t);\n\t}\n);\n\nNavigableRegion.displayName = 'NavigableRegion';\nexport default NavigableRegion;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef, useEffect } from '@wordpress/element';\nimport {\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tuseReducedMotion,\n\tuseViewportMatch,\n\tuseResizeObserver,\n} from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport NavigableRegion from '../navigable-region';\n\nconst ANIMATION_DURATION = 0.25;\nconst commonTransition = {\n\ttype: 'tween',\n\tduration: ANIMATION_DURATION,\n\tease: [ 0.6, 0, 0.4, 1 ],\n};\n\nfunction useHTMLClass( className ) {\n\tuseEffect( () => {\n\t\tconst element =\n\t\t\tdocument && document.querySelector( `html:not(.${ className })` );\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\t\telement.classList.toggle( className );\n\t\treturn () => {\n\t\t\telement.classList.toggle( className );\n\t\t};\n\t}, [ className ] );\n}\n\nconst headerVariants = {\n\thidden: { opacity: 1, marginTop: -60 },\n\tvisible: { opacity: 1, marginTop: 0 },\n\tdistractionFreeHover: {\n\t\topacity: 1,\n\t\tmarginTop: 0,\n\t\ttransition: {\n\t\t\t...commonTransition,\n\t\t\tdelay: 0.2,\n\t\t\tdelayChildren: 0.2,\n\t\t},\n\t},\n\tdistractionFreeHidden: {\n\t\topacity: 0,\n\t\tmarginTop: -60,\n\t},\n\tdistractionFreeDisabled: {\n\t\topacity: 0,\n\t\tmarginTop: 0,\n\t\ttransition: {\n\t\t\t...commonTransition,\n\t\t\tdelay: 0.8,\n\t\t\tdelayChildren: 0.8,\n\t\t},\n\t},\n};\n\nfunction InterfaceSkeleton(\n\t{\n\t\tisDistractionFree,\n\t\tfooter,\n\t\theader,\n\t\teditorNotices,\n\t\tsidebar,\n\t\tsecondarySidebar,\n\t\tcontent,\n\t\tactions,\n\t\tlabels,\n\t\tclassName,\n\t},\n\tref\n) {\n\tconst [ secondarySidebarResizeListener, secondarySidebarSize ] =\n\t\tuseResizeObserver();\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst disableMotion = useReducedMotion();\n\tconst defaultTransition = {\n\t\ttype: 'tween',\n\t\tduration: disableMotion ? 0 : ANIMATION_DURATION,\n\t\tease: [ 0.6, 0, 0.4, 1 ],\n\t};\n\tuseHTMLClass( 'interface-interface-skeleton__html-container' );\n\n\tconst defaultLabels = {\n\t\t/* translators: accessibility text for the top bar landmark region. */\n\t\theader: _x( 'Header', 'header landmark area' ),\n\t\t/* translators: accessibility text for the content landmark region. */\n\t\tbody: __( 'Content' ),\n\t\t/* translators: accessibility text for the secondary sidebar landmark region. */\n\t\tsecondarySidebar: __( 'Block Library' ),\n\t\t/* translators: accessibility text for the settings landmark region. */\n\t\tsidebar: _x( 'Settings', 'settings landmark area' ),\n\t\t/* translators: accessibility text for the publish landmark region. */\n\t\tactions: __( 'Publish' ),\n\t\t/* translators: accessibility text for the footer landmark region. */\n\t\tfooter: __( 'Footer' ),\n\t};\n\n\tconst mergedLabels = { ...defaultLabels, ...labels };\n\n\treturn (\n\t\t<div\n\t\t\tref={ ref }\n\t\t\tclassName={ clsx(\n\t\t\t\tclassName,\n\t\t\t\t'interface-interface-skeleton',\n\t\t\t\t!! footer && 'has-footer'\n\t\t\t) }\n\t\t>\n\t\t\t<div className=\"interface-interface-skeleton__editor\">\n\t\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t\t{ !! header && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__header\"\n\t\t\t\t\t\t\taria-label={ mergedLabels.header }\n\t\t\t\t\t\t\tinitial={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeHidden'\n\t\t\t\t\t\t\t\t\t: 'hidden'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhileHover={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeHover'\n\t\t\t\t\t\t\t\t\t: 'visible'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tanimate={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeDisabled'\n\t\t\t\t\t\t\t\t\t: 'visible'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\texit={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeHidden'\n\t\t\t\t\t\t\t\t\t: 'hidden'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvariants={ headerVariants }\n\t\t\t\t\t\t\ttransition={ defaultTransition }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ header }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t</AnimatePresence>\n\t\t\t\t{ isDistractionFree && (\n\t\t\t\t\t<div className=\"interface-interface-skeleton__header\">\n\t\t\t\t\t\t{ editorNotices }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<div className=\"interface-interface-skeleton__body\">\n\t\t\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t\t\t{ !! secondarySidebar && (\n\t\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__secondary-sidebar\"\n\t\t\t\t\t\t\t\tariaLabel={ mergedLabels.secondarySidebar }\n\t\t\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\t\t\tinitial=\"closed\"\n\t\t\t\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\t\t\t\texit=\"closed\"\n\t\t\t\t\t\t\t\tvariants={ {\n\t\t\t\t\t\t\t\t\topen: { width: secondarySidebarSize.width },\n\t\t\t\t\t\t\t\t\tclosed: { width: 0 },\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\ttransition={ defaultTransition }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\twidth: isMobileViewport\n\t\t\t\t\t\t\t\t\t\t\t? '100vw'\n\t\t\t\t\t\t\t\t\t\t\t: 'fit-content',\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tvariants={ {\n\t\t\t\t\t\t\t\t\t\topen: { x: 0 },\n\t\t\t\t\t\t\t\t\t\tclosed: { x: '-100%' },\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\ttransition={ defaultTransition }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ secondarySidebarResizeListener }\n\t\t\t\t\t\t\t\t\t{ secondarySidebar }\n\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</AnimatePresence>\n\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__content\"\n\t\t\t\t\t\tariaLabel={ mergedLabels.body }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ content }\n\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t{ !! sidebar && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__sidebar\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.sidebar }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ sidebar }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! actions && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__actions\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.actions }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ actions }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ !! footer && (\n\t\t\t\t<NavigableRegion\n\t\t\t\t\tclassName=\"interface-interface-skeleton__footer\"\n\t\t\t\t\tariaLabel={ mergedLabels.footer }\n\t\t\t\t>\n\t\t\t\t\t{ footer }\n\t\t\t\t</NavigableRegion>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default forwardRef( InterfaceSkeleton );\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","/**\n * WordPress dependencies\n */\nimport { createBlock, parse, serialize } from '@wordpress/blocks';\nimport { addWidgetIdToBlock } from '@wordpress/widgets';\n\n/**\n * Converts a widget entity record into a block.\n *\n * @param {Object} widget The widget entity record.\n * @return {Object} a block (converted from the entity record).\n */\nexport function transformWidgetToBlock( widget ) {\n\tif ( widget.id_base === 'block' ) {\n\t\tconst parsedBlocks = parse( widget.instance.raw.content, {\n\t\t\t__unstableSkipAutop: true,\n\t\t} );\n\t\tif ( ! parsedBlocks.length ) {\n\t\t\treturn addWidgetIdToBlock(\n\t\t\t\tcreateBlock( 'core/paragraph', {}, [] ),\n\t\t\t\twidget.id\n\t\t\t);\n\t\t}\n\t\treturn addWidgetIdToBlock( parsedBlocks[ 0 ], widget.id );\n\t}\n\n\tlet attributes;\n\tif ( widget._embedded.about[ 0 ].is_multi ) {\n\t\tattributes = {\n\t\t\tidBase: widget.id_base,\n\t\t\tinstance: widget.instance,\n\t\t};\n\t} else {\n\t\tattributes = {\n\t\t\tid: widget.id,\n\t\t};\n\t}\n\n\treturn addWidgetIdToBlock(\n\t\tcreateBlock( 'core/legacy-widget', attributes, [] ),\n\t\twidget.id\n\t);\n}\n\n/**\n * Converts a block to a widget entity record.\n *\n * @param {Object}  block         The block.\n * @param {?Object} relatedWidget A related widget entity record from the API (optional).\n * @return {Object} the widget object (converted from block).\n */\nexport function transformBlockToWidget( block, relatedWidget = {} ) {\n\tlet widget;\n\n\tconst isValidLegacyWidgetBlock =\n\t\tblock.name === 'core/legacy-widget' &&\n\t\t( block.attributes.id || block.attributes.instance );\n\n\tif ( isValidLegacyWidgetBlock ) {\n\t\twidget = {\n\t\t\t...relatedWidget,\n\t\t\tid: block.attributes.id ?? relatedWidget.id,\n\t\t\tid_base: block.attributes.idBase ?? relatedWidget.id_base,\n\t\t\tinstance: block.attributes.instance ?? relatedWidget.instance,\n\t\t};\n\t} else {\n\t\twidget = {\n\t\t\t...relatedWidget,\n\t\t\tid_base: 'block',\n\t\t\tinstance: {\n\t\t\t\traw: {\n\t\t\t\t\tcontent: serialize( block ),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\n\t// Delete read-only properties.\n\tdelete widget.rendered;\n\tdelete widget.rendered_form;\n\n\treturn widget;\n}\n","/**\n * \"Kind\" of the navigation post.\n *\n * @type {string}\n */\nexport const KIND = 'root';\n\n/**\n * \"post type\" of the navigation post.\n *\n * @type {string}\n */\nexport const WIDGET_AREA_ENTITY_TYPE = 'sidebar';\n\n/**\n * \"post type\" of the widget area post.\n *\n * @type {string}\n */\nexport const POST_TYPE = 'postType';\n\n/**\n * Builds an ID for a new widget area post.\n *\n * @param {number} widgetAreaId Widget area id.\n * @return {string} An ID.\n */\nexport const buildWidgetAreaPostId = ( widgetAreaId ) =>\n\t`widget-area-${ widgetAreaId }`;\n\n/**\n * Builds an ID for a global widget areas post.\n *\n * @return {string} An ID.\n */\nexport const buildWidgetAreasPostId = () => `widget-areas`;\n\n/**\n * Builds a query to resolve sidebars.\n *\n * @return {Object} Query.\n */\nexport function buildWidgetAreasQuery() {\n\treturn {\n\t\tper_page: -1,\n\t};\n}\n\n/**\n * Builds a query to resolve widgets.\n *\n * @return {Object} Query.\n */\nexport function buildWidgetsQuery() {\n\treturn {\n\t\tper_page: -1,\n\t\t_embed: 'about',\n\t};\n}\n\n/**\n * Creates a stub post with given id and set of blocks. Used as a governing entity records\n * for all widget areas.\n *\n * @param {string} id     Post ID.\n * @param {Array}  blocks The list of blocks.\n * @return {Object} A stub post object formatted in compliance with the data layer.\n */\nexport const createStubPost = ( id, blocks ) => ( {\n\tid,\n\tslug: id,\n\tstatus: 'draft',\n\ttype: 'page',\n\tblocks,\n\tmeta: {\n\t\twidgetAreaId: id,\n\t},\n} );\n","/**\n * Module Constants\n */\nexport const STORE_NAME = 'core/edit-widgets';\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { getWidgetIdFromBlock } from '@wordpress/widgets';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { transformBlockToWidget } from './transformers';\nimport {\n\tbuildWidgetAreaPostId,\n\tbuildWidgetAreasQuery,\n\tcreateStubPost,\n\tKIND,\n\tPOST_TYPE,\n\tWIDGET_AREA_ENTITY_TYPE,\n} from './utils';\nimport { STORE_NAME as editWidgetsStoreName } from './constants';\n\n/**\n * Persists a stub post with given ID to core data store. The post is meant to be in-memory only and\n * shouldn't be saved via the API.\n *\n * @param {string} id     Post ID.\n * @param {Array}  blocks Blocks the post should consist of.\n * @return {Object} The post object.\n */\nexport const persistStubPost =\n\t( id, blocks ) =>\n\t( { registry } ) => {\n\t\tconst stubPost = createStubPost( id, blocks );\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.receiveEntityRecords(\n\t\t\t\tKIND,\n\t\t\t\tPOST_TYPE,\n\t\t\t\tstubPost,\n\t\t\t\t{ id: stubPost.id },\n\t\t\t\tfalse\n\t\t\t);\n\t\treturn stubPost;\n\t};\n\n/**\n * Converts all the blocks from edited widget areas into widgets,\n * and submits a batch request to save everything at once.\n *\n * Creates a snackbar notice on either success or error.\n *\n * @return {Function} An action creator.\n */\nexport const saveEditedWidgetAreas =\n\t() =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tconst editedWidgetAreas = select.getEditedWidgetAreas();\n\t\tif ( ! editedWidgetAreas?.length ) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tawait dispatch.saveWidgetAreas( editedWidgetAreas );\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createSuccessNotice( __( 'Widgets saved.' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t} catch ( e ) {\n\t\t\tregistry.dispatch( noticesStore ).createErrorNotice(\n\t\t\t\t/* translators: %s: The error message. */\n\t\t\t\tsprintf( __( 'There was an error. %s' ), e.message ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t};\n\n/**\n * Converts all the blocks from specified widget areas into widgets,\n * and submits a batch request to save everything at once.\n *\n * @param {Object[]} widgetAreas Widget areas to save.\n * @return {Function} An action creator.\n */\nexport const saveWidgetAreas =\n\t( widgetAreas ) =>\n\tasync ( { dispatch, registry } ) => {\n\t\ttry {\n\t\t\tfor ( const widgetArea of widgetAreas ) {\n\t\t\t\tawait dispatch.saveWidgetArea( widgetArea.id );\n\t\t\t}\n\t\t} finally {\n\t\t\t// saveEditedEntityRecord resets the resolution status, let's fix it manually.\n\t\t\tawait registry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.finishResolution(\n\t\t\t\t\t'getEntityRecord',\n\t\t\t\t\tKIND,\n\t\t\t\t\tWIDGET_AREA_ENTITY_TYPE,\n\t\t\t\t\tbuildWidgetAreasQuery()\n\t\t\t\t);\n\t\t}\n\t};\n\n/**\n * Converts all the blocks from a widget area specified by ID into widgets,\n * and submits a batch request to save everything at once.\n *\n * @param {string} widgetAreaId ID of the widget area to process.\n * @return {Function} An action creator.\n */\nexport const saveWidgetArea =\n\t( widgetAreaId ) =>\n\tasync ( { dispatch, select, registry } ) => {\n\t\tconst widgets = select.getWidgets();\n\n\t\tconst post = registry\n\t\t\t.select( coreStore )\n\t\t\t.getEditedEntityRecord(\n\t\t\t\tKIND,\n\t\t\t\tPOST_TYPE,\n\t\t\t\tbuildWidgetAreaPostId( widgetAreaId )\n\t\t\t);\n\n\t\t// Get all widgets from this area\n\t\tconst areaWidgets = Object.values( widgets ).filter(\n\t\t\t( { sidebar } ) => sidebar === widgetAreaId\n\t\t);\n\n\t\t// Remove all duplicate reference widget instances for legacy widgets.\n\t\t// Why? We filter out the widgets with duplicate IDs to prevent adding more than one instance of a widget\n\t\t// implemented using a function. WordPress doesn't support having more than one instance of these, if you try to\n\t\t// save multiple instances of these in different sidebars you will run into undefined behaviors.\n\t\tconst usedReferenceWidgets = [];\n\t\tconst widgetsBlocks = post.blocks.filter( ( block ) => {\n\t\t\tconst { id } = block.attributes;\n\n\t\t\tif ( block.name === 'core/legacy-widget' && id ) {\n\t\t\t\tif ( usedReferenceWidgets.includes( id ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tusedReferenceWidgets.push( id );\n\t\t\t}\n\t\t\treturn true;\n\t\t} );\n\n\t\t// Determine which widgets have been deleted. We can tell if a widget is\n\t\t// deleted and not just moved to a different area by looking to see if\n\t\t// getWidgetAreaForWidgetId() finds something.\n\t\tconst deletedWidgets = [];\n\t\tfor ( const widget of areaWidgets ) {\n\t\t\tconst widgetsNewArea = select.getWidgetAreaForWidgetId( widget.id );\n\t\t\tif ( ! widgetsNewArea ) {\n\t\t\t\tdeletedWidgets.push( widget );\n\t\t\t}\n\t\t}\n\n\t\tconst batchMeta = [];\n\t\tconst batchTasks = [];\n\t\tconst sidebarWidgetsIds = [];\n\t\tfor ( let i = 0; i < widgetsBlocks.length; i++ ) {\n\t\t\tconst block = widgetsBlocks[ i ];\n\t\t\tconst widgetId = getWidgetIdFromBlock( block );\n\t\t\tconst oldWidget = widgets[ widgetId ];\n\t\t\tconst widget = transformBlockToWidget( block, oldWidget );\n\n\t\t\t// We'll replace the null widgetId after save, but we track it here\n\t\t\t// since order is important.\n\t\t\tsidebarWidgetsIds.push( widgetId );\n\n\t\t\t// Check oldWidget as widgetId might refer to an ID which has been\n\t\t\t// deleted, e.g. if a deleted block is restored via undo after saving.\n\t\t\tif ( oldWidget ) {\n\t\t\t\t// Update an existing widget.\n\t\t\t\tregistry.dispatch( coreStore ).editEntityRecord(\n\t\t\t\t\t'root',\n\t\t\t\t\t'widget',\n\t\t\t\t\twidgetId,\n\t\t\t\t\t{\n\t\t\t\t\t\t...widget,\n\t\t\t\t\t\tsidebar: widgetAreaId,\n\t\t\t\t\t},\n\t\t\t\t\t{ undoIgnore: true }\n\t\t\t\t);\n\n\t\t\t\tconst hasEdits = registry\n\t\t\t\t\t.select( coreStore )\n\t\t\t\t\t.hasEditsForEntityRecord( 'root', 'widget', widgetId );\n\n\t\t\t\tif ( ! hasEdits ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tbatchTasks.push( ( { saveEditedEntityRecord } ) =>\n\t\t\t\t\tsaveEditedEntityRecord( 'root', 'widget', widgetId )\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// Create a new widget.\n\t\t\t\tbatchTasks.push( ( { saveEntityRecord } ) =>\n\t\t\t\t\tsaveEntityRecord( 'root', 'widget', {\n\t\t\t\t\t\t...widget,\n\t\t\t\t\t\tsidebar: widgetAreaId,\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tbatchMeta.push( {\n\t\t\t\tblock,\n\t\t\t\tposition: i,\n\t\t\t\tclientId: block.clientId,\n\t\t\t} );\n\t\t}\n\t\tfor ( const widget of deletedWidgets ) {\n\t\t\tbatchTasks.push( ( { deleteEntityRecord } ) =>\n\t\t\t\tdeleteEntityRecord( 'root', 'widget', widget.id, {\n\t\t\t\t\tforce: true,\n\t\t\t\t} )\n\t\t\t);\n\t\t}\n\n\t\tconst records = await registry\n\t\t\t.dispatch( coreStore )\n\t\t\t.__experimentalBatch( batchTasks );\n\t\tconst preservedRecords = records.filter(\n\t\t\t( record ) => ! record.hasOwnProperty( 'deleted' )\n\t\t);\n\n\t\tconst failedWidgetNames = [];\n\n\t\tfor ( let i = 0; i < preservedRecords.length; i++ ) {\n\t\t\tconst widget = preservedRecords[ i ];\n\t\t\tconst { block, position } = batchMeta[ i ];\n\n\t\t\t// Set __internalWidgetId on the block. This will be persisted to the\n\t\t\t// store when we dispatch receiveEntityRecords( post ) below.\n\t\t\tpost.blocks[ position ].attributes.__internalWidgetId = widget.id;\n\n\t\t\tconst error = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getLastEntitySaveError( 'root', 'widget', widget.id );\n\t\t\tif ( error ) {\n\t\t\t\tfailedWidgetNames.push( block.attributes?.name || block?.name );\n\t\t\t}\n\n\t\t\tif ( ! sidebarWidgetsIds[ position ] ) {\n\t\t\t\tsidebarWidgetsIds[ position ] = widget.id;\n\t\t\t}\n\t\t}\n\n\t\tif ( failedWidgetNames.length ) {\n\t\t\tthrow new Error(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: List of widget names */\n\t\t\t\t\t__( 'Could not save the following widgets: %s.' ),\n\t\t\t\t\tfailedWidgetNames.join( ', ' )\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tregistry.dispatch( coreStore ).editEntityRecord(\n\t\t\tKIND,\n\t\t\tWIDGET_AREA_ENTITY_TYPE,\n\t\t\twidgetAreaId,\n\t\t\t{\n\t\t\t\twidgets: sidebarWidgetsIds,\n\t\t\t},\n\t\t\t{ undoIgnore: true }\n\t\t);\n\n\t\tdispatch( trySaveWidgetArea( widgetAreaId ) );\n\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.receiveEntityRecords( KIND, POST_TYPE, post, undefined );\n\t};\n\nconst trySaveWidgetArea =\n\t( widgetAreaId ) =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.saveEditedEntityRecord(\n\t\t\t\tKIND,\n\t\t\t\tWIDGET_AREA_ENTITY_TYPE,\n\t\t\t\twidgetAreaId,\n\t\t\t\t{\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t}\n\t\t\t);\n\t};\n\n/**\n * Sets the clientId stored for a particular widgetId.\n *\n * @param {number} clientId Client id.\n * @param {number} widgetId Widget id.\n *\n * @return {Object} Action.\n */\nexport function setWidgetIdForClientId( clientId, widgetId ) {\n\treturn {\n\t\ttype: 'SET_WIDGET_ID_FOR_CLIENT_ID',\n\t\tclientId,\n\t\twidgetId,\n\t};\n}\n\n/**\n * Sets the open state of all the widget areas.\n *\n * @param {Object} widgetAreasOpenState The open states of all the widget areas.\n *\n * @return {Object} Action.\n */\nexport function setWidgetAreasOpenState( widgetAreasOpenState ) {\n\treturn {\n\t\ttype: 'SET_WIDGET_AREAS_OPEN_STATE',\n\t\twidgetAreasOpenState,\n\t};\n}\n\n/**\n * Sets the open state of the widget area.\n *\n * @param {string}  clientId The clientId of the widget area.\n * @param {boolean} isOpen   Whether the widget area should be opened.\n *\n * @return {Object} Action.\n */\nexport function setIsWidgetAreaOpen( clientId, isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_WIDGET_AREA_OPEN',\n\t\tclientId,\n\t\tisOpen,\n\t};\n}\n\n/**\n * Returns an action object used to open/close the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n *\n * @return {Object} Action object.\n */\nexport function setIsInserterOpened( value ) {\n\treturn {\n\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\tvalue,\n\t};\n}\n\n/**\n * Returns an action object used to open/close the list view.\n *\n * @param {boolean} isOpen A boolean representing whether the list view should be opened or closed.\n * @return {Object} Action object.\n */\nexport function setIsListViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_LIST_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Returns an action object signalling that the user closed the sidebar.\n *\n * @return {Object} Action creator.\n */\nexport const closeGeneralSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( interfaceStore )\n\t\t\t.disableComplementaryArea( editWidgetsStoreName );\n\t};\n\n/**\n * Action that handles moving a block between widget areas\n *\n * @param {string} clientId     The clientId of the block to move.\n * @param {string} widgetAreaId The id of the widget area to move the block to.\n */\nexport const moveBlockToWidgetArea =\n\t( clientId, widgetAreaId ) =>\n\tasync ( { dispatch, select, registry } ) => {\n\t\tconst sourceRootClientId = registry\n\t\t\t.select( blockEditorStore )\n\t\t\t.getBlockRootClientId( clientId );\n\n\t\t// Search the top level blocks (widget areas) for the one with the matching\n\t\t// id attribute. Makes the assumption that all top-level blocks are widget\n\t\t// areas.\n\t\tconst widgetAreas = registry.select( blockEditorStore ).getBlocks();\n\t\tconst destinationWidgetAreaBlock = widgetAreas.find(\n\t\t\t( { attributes } ) => attributes.id === widgetAreaId\n\t\t);\n\t\tconst destinationRootClientId = destinationWidgetAreaBlock.clientId;\n\n\t\t// Get the index for moving to the end of the destination widget area.\n\t\tconst destinationInnerBlocksClientIds = registry\n\t\t\t.select( blockEditorStore )\n\t\t\t.getBlockOrder( destinationRootClientId );\n\t\tconst destinationIndex = destinationInnerBlocksClientIds.length;\n\n\t\t// Reveal the widget area, if it's not open.\n\t\tconst isDestinationWidgetAreaOpen = select.getIsWidgetAreaOpen(\n\t\t\tdestinationRootClientId\n\t\t);\n\n\t\tif ( ! isDestinationWidgetAreaOpen ) {\n\t\t\tdispatch.setIsWidgetAreaOpen( destinationRootClientId, true );\n\t\t}\n\n\t\t// Move the block.\n\t\tregistry\n\t\t\t.dispatch( blockEditorStore )\n\t\t\t.moveBlocksToPosition(\n\t\t\t\t[ clientId ],\n\t\t\t\tsourceRootClientId,\n\t\t\t\tdestinationRootClientId,\n\t\t\t\tdestinationIndex\n\t\t\t);\n\t};\n\n/**\n * Returns an action object used to signal that widget saving is unlocked.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```js\n * import { store as widgetStore } from '@wordpress/edit-widgets';\n * import { useDispatch } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n * \tconst { unlockWidgetSaving } = useDispatch( widgetStore );\n * \treturn (\n * \t\t<Button onClick={ () => unlockWidgetSaving( 'lockName' ) }>\n * \t\t\t{ __( 'Unlock Widget Saving' ) }\n * \t\t</Button>\n * \t);\n * };\n * ```\n *\n * @return {Object} Action object\n */\nexport function unlockWidgetSaving( lockName ) {\n\treturn {\n\t\ttype: 'UNLOCK_WIDGET_SAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Returns an action object used to signal that widget saving is locked.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```js\n * import { store as widgetStore } from '@wordpress/edit-widgets';\n * import { useDispatch } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n * \tconst { lockWidgetSaving } = useDispatch( widgetStore );\n * \treturn (\n * \t\t<Button onClick={ () => lockWidgetSaving( 'lockName' ) }>\n * \t\t\t{ __( 'Lock Widget Saving' ) }\n * \t\t</Button>\n * \t);\n * };\n * ```\n *\n * @return {Object} Action object\n */\nexport function lockWidgetSaving( lockName ) {\n\treturn {\n\t\ttype: 'LOCK_WIDGET_SAVING',\n\t\tlockName,\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { persistStubPost, setWidgetAreasOpenState } from './actions';\nimport {\n\tKIND,\n\tWIDGET_AREA_ENTITY_TYPE,\n\tbuildWidgetsQuery,\n\tbuildWidgetAreasQuery,\n\tbuildWidgetAreaPostId,\n\tbuildWidgetAreasPostId,\n} from './utils';\nimport { transformWidgetToBlock } from './transformers';\n\n/**\n * Creates a \"stub\" widgets post reflecting all available widget areas. The\n * post is meant as a convenient to only exists in runtime and should never be saved. It\n * enables a convenient way of editing the widgets by using a regular post editor.\n *\n * Fetches all widgets from all widgets aras, converts them into blocks, and hydrates a new post with them.\n *\n * @return {Function} An action creator.\n */\nexport const getWidgetAreas =\n\t() =>\n\tasync ( { dispatch, registry } ) => {\n\t\tconst query = buildWidgetAreasQuery();\n\t\tconst widgetAreas = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getEntityRecords( KIND, WIDGET_AREA_ENTITY_TYPE, query );\n\n\t\tconst widgetAreaBlocks = [];\n\t\tconst sortedWidgetAreas = widgetAreas.sort( ( a, b ) => {\n\t\t\tif ( a.id === 'wp_inactive_widgets' ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif ( b.id === 'wp_inactive_widgets' ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t} );\n\t\tfor ( const widgetArea of sortedWidgetAreas ) {\n\t\t\twidgetAreaBlocks.push(\n\t\t\t\tcreateBlock( 'core/widget-area', {\n\t\t\t\t\tid: widgetArea.id,\n\t\t\t\t\tname: widgetArea.name,\n\t\t\t\t} )\n\t\t\t);\n\n\t\t\tif ( ! widgetArea.widgets.length ) {\n\t\t\t\t// If this widget area has no widgets, it won't get a post setup by\n\t\t\t\t// the getWidgets resolver.\n\t\t\t\tdispatch(\n\t\t\t\t\tpersistStubPost(\n\t\t\t\t\t\tbuildWidgetAreaPostId( widgetArea.id ),\n\t\t\t\t\t\t[]\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst widgetAreasOpenState = {};\n\t\twidgetAreaBlocks.forEach( ( widgetAreaBlock, index ) => {\n\t\t\t// Defaults to open the first widget area.\n\t\t\twidgetAreasOpenState[ widgetAreaBlock.clientId ] = index === 0;\n\t\t} );\n\t\tdispatch( setWidgetAreasOpenState( widgetAreasOpenState ) );\n\n\t\tdispatch(\n\t\t\tpersistStubPost( buildWidgetAreasPostId(), widgetAreaBlocks )\n\t\t);\n\t};\n\n/**\n * Fetches all widgets from all widgets ares, and groups them by widget area Id.\n *\n * @return {Function} An action creator.\n */\nexport const getWidgets =\n\t() =>\n\tasync ( { dispatch, registry } ) => {\n\t\tconst query = buildWidgetsQuery();\n\t\tconst widgets = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getEntityRecords( 'root', 'widget', query );\n\n\t\tconst groupedBySidebar = {};\n\n\t\tfor ( const widget of widgets ) {\n\t\t\tconst block = transformWidgetToBlock( widget );\n\t\t\tgroupedBySidebar[ widget.sidebar ] =\n\t\t\t\tgroupedBySidebar[ widget.sidebar ] || [];\n\t\t\tgroupedBySidebar[ widget.sidebar ].push( block );\n\t\t}\n\n\t\tfor ( const sidebarId in groupedBySidebar ) {\n\t\t\tif ( groupedBySidebar.hasOwnProperty( sidebarId ) ) {\n\t\t\t\t// Persist the actual post containing the widget block\n\t\t\t\tdispatch(\n\t\t\t\t\tpersistStubPost(\n\t\t\t\t\t\tbuildWidgetAreaPostId( sidebarId ),\n\t\t\t\t\t\tgroupedBySidebar[ sidebarId ]\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n","/**\n * WordPress dependencies\n */\nimport { createSelector, createRegistrySelector } from '@wordpress/data';\nimport { getWidgetIdFromBlock } from '@wordpress/widgets';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport {\n\tbuildWidgetsQuery,\n\tbuildWidgetAreasQuery,\n\tbuildWidgetAreaPostId,\n\tKIND,\n\tPOST_TYPE,\n\tWIDGET_AREA_ENTITY_TYPE,\n} from './utils';\nimport { STORE_NAME as editWidgetsStoreName } from './constants';\n\nconst EMPTY_INSERTION_POINT = {\n\trootClientId: undefined,\n\tinsertionIndex: undefined,\n};\n\n/**\n * Returns all API widgets.\n *\n * @return {Object[]} API List of widgets.\n */\nexport const getWidgets = createRegistrySelector( ( select ) =>\n\tcreateSelector(\n\t\t() => {\n\t\t\tconst widgets = select( coreStore ).getEntityRecords(\n\t\t\t\t'root',\n\t\t\t\t'widget',\n\t\t\t\tbuildWidgetsQuery()\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t// Key widgets by their ID.\n\t\t\t\twidgets?.reduce(\n\t\t\t\t\t( allWidgets, widget ) => ( {\n\t\t\t\t\t\t...allWidgets,\n\t\t\t\t\t\t[ widget.id ]: widget,\n\t\t\t\t\t} ),\n\t\t\t\t\t{}\n\t\t\t\t) ?? {}\n\t\t\t);\n\t\t},\n\t\t() => [\n\t\t\tselect( coreStore ).getEntityRecords(\n\t\t\t\t'root',\n\t\t\t\t'widget',\n\t\t\t\tbuildWidgetsQuery()\n\t\t\t),\n\t\t]\n\t)\n);\n\n/**\n * Returns API widget data for a particular widget ID.\n *\n * @param {number} id Widget ID.\n *\n * @return {Object} API widget data for a particular widget ID.\n */\nexport const getWidget = createRegistrySelector(\n\t( select ) => ( state, id ) => {\n\t\tconst widgets = select( editWidgetsStoreName ).getWidgets();\n\t\treturn widgets[ id ];\n\t}\n);\n\n/**\n * Returns all API widget areas.\n *\n * @return {Object[]} API List of widget areas.\n */\nexport const getWidgetAreas = createRegistrySelector( ( select ) => () => {\n\tconst query = buildWidgetAreasQuery();\n\treturn select( coreStore ).getEntityRecords(\n\t\tKIND,\n\t\tWIDGET_AREA_ENTITY_TYPE,\n\t\tquery\n\t);\n} );\n\n/**\n * Returns widgetArea containing a block identify by given widgetId\n *\n * @param {string} widgetId The ID of the widget.\n * @return {Object} Containing widget area.\n */\nexport const getWidgetAreaForWidgetId = createRegistrySelector(\n\t( select ) => ( state, widgetId ) => {\n\t\tconst widgetAreas = select( editWidgetsStoreName ).getWidgetAreas();\n\t\treturn widgetAreas.find( ( widgetArea ) => {\n\t\t\tconst post = select( coreStore ).getEditedEntityRecord(\n\t\t\t\tKIND,\n\t\t\t\tPOST_TYPE,\n\t\t\t\tbuildWidgetAreaPostId( widgetArea.id )\n\t\t\t);\n\t\t\tconst blockWidgetIds = post.blocks.map( ( block ) =>\n\t\t\t\tgetWidgetIdFromBlock( block )\n\t\t\t);\n\t\t\treturn blockWidgetIds.includes( widgetId );\n\t\t} );\n\t}\n);\n\n/**\n * Given a child client id, returns the parent widget area block.\n *\n * @param {string} clientId The client id of a block in a widget area.\n *\n * @return {WPBlock} The widget area block.\n */\nexport const getParentWidgetAreaBlock = createRegistrySelector(\n\t( select ) => ( state, clientId ) => {\n\t\tconst { getBlock, getBlockName, getBlockParents } =\n\t\t\tselect( blockEditorStore );\n\t\tconst blockParents = getBlockParents( clientId );\n\t\tconst widgetAreaClientId = blockParents.find(\n\t\t\t( parentClientId ) =>\n\t\t\t\tgetBlockName( parentClientId ) === 'core/widget-area'\n\t\t);\n\t\treturn getBlock( widgetAreaClientId );\n\t}\n);\n\n/**\n * Returns all edited widget area entity records.\n *\n * @return {Object[]} List of edited widget area entity records.\n */\nexport const getEditedWidgetAreas = createRegistrySelector(\n\t( select ) => ( state, ids ) => {\n\t\tlet widgetAreas = select( editWidgetsStoreName ).getWidgetAreas();\n\t\tif ( ! widgetAreas ) {\n\t\t\treturn [];\n\t\t}\n\t\tif ( ids ) {\n\t\t\twidgetAreas = widgetAreas.filter( ( { id } ) =>\n\t\t\t\tids.includes( id )\n\t\t\t);\n\t\t}\n\t\treturn widgetAreas\n\t\t\t.filter( ( { id } ) =>\n\t\t\t\tselect( coreStore ).hasEditsForEntityRecord(\n\t\t\t\t\tKIND,\n\t\t\t\t\tPOST_TYPE,\n\t\t\t\t\tbuildWidgetAreaPostId( id )\n\t\t\t\t)\n\t\t\t)\n\t\t\t.map( ( { id } ) =>\n\t\t\t\tselect( coreStore ).getEditedEntityRecord(\n\t\t\t\t\tKIND,\n\t\t\t\t\tWIDGET_AREA_ENTITY_TYPE,\n\t\t\t\t\tid\n\t\t\t\t)\n\t\t\t);\n\t}\n);\n\n/**\n * Returns all blocks representing reference widgets.\n *\n * @param {string} referenceWidgetName Optional. If given, only reference widgets with this name will be returned.\n * @return {Array}  List of all blocks representing reference widgets\n */\nexport const getReferenceWidgetBlocks = createRegistrySelector(\n\t( select ) =>\n\t\t( state, referenceWidgetName = null ) => {\n\t\t\tconst results = [];\n\t\t\tconst widgetAreas = select( editWidgetsStoreName ).getWidgetAreas();\n\t\t\tfor ( const _widgetArea of widgetAreas ) {\n\t\t\t\tconst post = select( coreStore ).getEditedEntityRecord(\n\t\t\t\t\tKIND,\n\t\t\t\t\tPOST_TYPE,\n\t\t\t\t\tbuildWidgetAreaPostId( _widgetArea.id )\n\t\t\t\t);\n\t\t\t\tfor ( const block of post.blocks ) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tblock.name === 'core/legacy-widget' &&\n\t\t\t\t\t\t( ! referenceWidgetName ||\n\t\t\t\t\t\t\tblock.attributes?.referenceWidgetName ===\n\t\t\t\t\t\t\t\treferenceWidgetName )\n\t\t\t\t\t) {\n\t\t\t\t\t\tresults.push( block );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn results;\n\t\t}\n);\n\n/**\n * Returns true if any widget area is currently being saved.\n *\n * @return {boolean} True if any widget area is currently being saved. False otherwise.\n */\nexport const isSavingWidgetAreas = createRegistrySelector( ( select ) => () => {\n\tconst widgetAreasIds = select( editWidgetsStoreName )\n\t\t.getWidgetAreas()\n\t\t?.map( ( { id } ) => id );\n\tif ( ! widgetAreasIds ) {\n\t\treturn false;\n\t}\n\n\tfor ( const id of widgetAreasIds ) {\n\t\tconst isSaving = select( coreStore ).isSavingEntityRecord(\n\t\t\tKIND,\n\t\t\tWIDGET_AREA_ENTITY_TYPE,\n\t\t\tid\n\t\t);\n\t\tif ( isSaving ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tconst widgetIds = [\n\t\t...Object.keys( select( editWidgetsStoreName ).getWidgets() ),\n\t\tundefined, // account for new widgets without an ID\n\t];\n\tfor ( const id of widgetIds ) {\n\t\tconst isSaving = select( coreStore ).isSavingEntityRecord(\n\t\t\t'root',\n\t\t\t'widget',\n\t\t\tid\n\t\t);\n\t\tif ( isSaving ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} );\n\n/**\n * Gets whether the widget area is opened.\n *\n * @param {Array}  state    The open state of the widget areas.\n * @param {string} clientId The clientId of the widget area.\n *\n * @return {boolean} True if the widget area is open.\n */\nexport const getIsWidgetAreaOpen = ( state, clientId ) => {\n\tconst { widgetAreasOpenState } = state;\n\treturn !! widgetAreasOpenState[ clientId ];\n};\n\n/**\n * Returns true if the inserter is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the inserter is opened.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/**\n * Get the insertion point for the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID and index to insert at.\n */\nexport function __experimentalGetInsertionPoint( state ) {\n\tif ( typeof state.blockInserterPanel === 'boolean' ) {\n\t\treturn EMPTY_INSERTION_POINT;\n\t}\n\n\treturn state.blockInserterPanel;\n}\n\n/**\n * Returns true if a block can be inserted into a widget area.\n *\n * @param {Array}  state     The open state of the widget areas.\n * @param {string} blockName The name of the block being inserted.\n *\n * @return {boolean} True if the block can be inserted in a widget area.\n */\nexport const canInsertBlockInWidgetArea = createRegistrySelector(\n\t( select ) => ( state, blockName ) => {\n\t\t// Widget areas are always top-level blocks, which getBlocks will return.\n\t\tconst widgetAreas = select( blockEditorStore ).getBlocks();\n\n\t\t// Makes an assumption that a block that can be inserted into one\n\t\t// widget area can be inserted into any widget area. Uses the first\n\t\t// widget area for testing whether the block can be inserted.\n\t\tconst [ firstWidgetArea ] = widgetAreas;\n\t\treturn select( blockEditorStore ).canInsertBlockType(\n\t\t\tblockName,\n\t\t\tfirstWidgetArea.clientId\n\t\t);\n\t}\n);\n\n/**\n * Returns true if the list view is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the list view is opened.\n */\nexport function isListViewOpened( state ) {\n\treturn state.listViewPanel;\n}\n\n/**\n * Returns whether widget saving is locked.\n *\n * @param {Object} state Global application state.\n *\n * @example\n * ```jsx\n * import { __ } from '@wordpress/i18n';\n * import { store as widgetStore } from '@wordpress/edit-widgets';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n * \tconst isSavingLocked = useSelect(\n * \t\t( select ) => select( widgetStore ).isWidgetSavingLocked(),\n * \t\t[]\n * \t);\n *\n * \treturn isSavingLocked ? (\n * \t\t<p>{ __( 'Widget saving is locked' ) }</p>\n * \t) : (\n * \t\t<p>{ __( 'Widget saving is not locked' ) }</p>\n * \t);\n * };\n * ```\n *\n * @return {boolean} Is locked.\n */\nexport function isWidgetSavingLocked( state ) {\n\treturn Object.keys( state.widgetSavingLock ).length > 0;\n}\n","export function getListViewToggleRef( state ) {\n\treturn state.listViewToggleRef;\n}\n\nexport function getInserterSidebarToggleRef( state ) {\n\treturn state.inserterSidebarToggleRef;\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"privateApis\"];","/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\n\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/edit-widgets'\n\t);\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as resolvers from './resolvers';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport * as privateSelectors from './private-selectors';\nimport { STORE_NAME } from './constants';\nimport { unlock } from '../lock-unlock';\n\n/**\n * Block editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#register\n *\n * @type {Object}\n */\nconst storeConfig = {\n\treducer,\n\tselectors,\n\tresolvers,\n\tactions,\n};\n\n/**\n * Store definition for the edit widgets namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, storeConfig );\nregister( store );\n\n// This package uses a few in-memory post types as wrappers for convenience.\n// This middleware prevents any network requests related to these types as they are\n// bound to fail anyway.\napiFetch.use( function ( options, next ) {\n\tif ( options.path?.indexOf( '/wp/v2/types/widget-area' ) === 0 ) {\n\t\treturn Promise.resolve( {} );\n\t}\n\n\treturn next( options );\n} );\n\nunlock( store ).registerPrivateSelectors( privateSelectors );\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","/**\n * WordPress dependencies\n */\n\nimport { BlockControls } from '@wordpress/block-editor';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { addFilter } from '@wordpress/hooks';\nimport { MoveToWidgetArea } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport { store as editWidgetsStore } from '../store';\n\nconst withMoveToWidgetAreaToolbarItem = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { clientId, name: blockName } = props;\n\t\tconst { widgetAreas, currentWidgetAreaId, canInsertBlockInWidgetArea } =\n\t\t\tuseSelect(\n\t\t\t\t( select ) => {\n\t\t\t\t\t// Component won't display for a widget area, so don't run selectors.\n\t\t\t\t\tif ( blockName === 'core/widget-area' ) {\n\t\t\t\t\t\treturn {};\n\t\t\t\t\t}\n\n\t\t\t\t\tconst selectors = select( editWidgetsStore );\n\n\t\t\t\t\tconst widgetAreaBlock =\n\t\t\t\t\t\tselectors.getParentWidgetAreaBlock( clientId );\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\twidgetAreas: selectors.getWidgetAreas(),\n\t\t\t\t\t\tcurrentWidgetAreaId: widgetAreaBlock?.attributes?.id,\n\t\t\t\t\t\tcanInsertBlockInWidgetArea:\n\t\t\t\t\t\t\tselectors.canInsertBlockInWidgetArea( blockName ),\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t[ clientId, blockName ]\n\t\t\t);\n\n\t\tconst { moveBlockToWidgetArea } = useDispatch( editWidgetsStore );\n\t\tconst hasMultipleWidgetAreas = widgetAreas?.length > 1;\n\t\tconst isMoveToWidgetAreaVisible =\n\t\t\tblockName !== 'core/widget-area' &&\n\t\t\thasMultipleWidgetAreas &&\n\t\t\tcanInsertBlockInWidgetArea;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\n\t\t\t\t{ isMoveToWidgetAreaVisible && (\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t<MoveToWidgetArea\n\t\t\t\t\t\t\twidgetAreas={ widgetAreas }\n\t\t\t\t\t\t\tcurrentWidgetAreaId={ currentWidgetAreaId }\n\t\t\t\t\t\t\tonSelect={ ( widgetAreaId ) => {\n\t\t\t\t\t\t\t\tmoveBlockToWidgetArea(\n\t\t\t\t\t\t\t\t\tprops.clientId,\n\t\t\t\t\t\t\t\t\twidgetAreaId\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t},\n\t'withMoveToWidgetAreaToolbarItem'\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/edit-widgets/block-edit',\n\twithMoveToWidgetAreaToolbarItem\n);\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"mediaUtils\"];","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { MediaUpload } from '@wordpress/media-utils';\n\nconst replaceMediaUpload = () => MediaUpload;\n\naddFilter(\n\t'editor.MediaUpload',\n\t'core/edit-widgets/replace-media-upload',\n\treplaceMediaUpload\n);\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\n\n/** @typedef {import('@wordpress/element').RefObject} RefObject */\n\n/**\n * A React hook to determine if it's dragging within the target element.\n *\n * @param {RefObject<HTMLElement>} elementRef The target elementRef object.\n *\n * @return {boolean} Is dragging within the target element.\n */\nconst useIsDraggingWithin = ( elementRef ) => {\n\tconst [ isDraggingWithin, setIsDraggingWithin ] = useState( false );\n\n\tuseEffect( () => {\n\t\tconst { ownerDocument } = elementRef.current;\n\n\t\tfunction handleDragStart( event ) {\n\t\t\t// Check the first time when the dragging starts.\n\t\t\thandleDragEnter( event );\n\t\t}\n\n\t\t// Set to false whenever the user cancel the drag event by either releasing the mouse or press Escape.\n\t\tfunction handleDragEnd() {\n\t\t\tsetIsDraggingWithin( false );\n\t\t}\n\n\t\tfunction handleDragEnter( event ) {\n\t\t\t// Check if the current target is inside the item element.\n\t\t\tif ( elementRef.current.contains( event.target ) ) {\n\t\t\t\tsetIsDraggingWithin( true );\n\t\t\t} else {\n\t\t\t\tsetIsDraggingWithin( false );\n\t\t\t}\n\t\t}\n\n\t\t// Bind these events to the document to catch all drag events.\n\t\t// Ideally, we can also use `event.relatedTarget`, but sadly that doesn't work in Safari.\n\t\townerDocument.addEventListener( 'dragstart', handleDragStart );\n\t\townerDocument.addEventListener( 'dragend', handleDragEnd );\n\t\townerDocument.addEventListener( 'dragenter', handleDragEnter );\n\n\t\treturn () => {\n\t\t\townerDocument.removeEventListener( 'dragstart', handleDragStart );\n\t\t\townerDocument.removeEventListener( 'dragend', handleDragEnd );\n\t\t\townerDocument.removeEventListener( 'dragenter', handleDragEnter );\n\t\t};\n\t}, [] );\n\n\treturn isDraggingWithin;\n};\n\nexport default useIsDraggingWithin;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useEntityBlockEditor } from '@wordpress/core-data';\nimport { InnerBlocks, useInnerBlocksProps } from '@wordpress/block-editor';\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useIsDraggingWithin from './use-is-dragging-within';\n\nexport default function WidgetAreaInnerBlocks( { id } ) {\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'root',\n\t\t'postType'\n\t);\n\tconst innerBlocksRef = useRef();\n\tconst isDraggingWithinInnerBlocks = useIsDraggingWithin( innerBlocksRef );\n\tconst shouldHighlightDropZone = isDraggingWithinInnerBlocks;\n\t// Using the experimental hook so that we can control the className of the element.\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{ ref: innerBlocksRef },\n\t\t{\n\t\t\tvalue: blocks,\n\t\t\tonInput,\n\t\t\tonChange,\n\t\t\ttemplateLock: false,\n\t\t\trenderAppender: InnerBlocks.ButtonBlockAppender,\n\t\t}\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tdata-widget-area-id={ id }\n\t\t\tclassName={ clsx(\n\t\t\t\t'wp-block-widget-area__inner-blocks block-editor-inner-blocks editor-styles-wrapper',\n\t\t\t\t{\n\t\t\t\t\t'wp-block-widget-area__highlight-drop-zone':\n\t\t\t\t\t\tshouldHighlightDropZone,\n\t\t\t\t}\n\t\t\t) }\n\t\t>\n\t\t\t<div { ...innerBlocksProps } />\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useState, useCallback, useRef } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { EntityProvider } from '@wordpress/core-data';\nimport {\n\t__unstableDisclosureContent as DisclosureContent,\n\tPanel,\n\tPanelBody,\n} from '@wordpress/components';\nimport { useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport WidgetAreaInnerBlocks from './inner-blocks';\nimport { store as editWidgetsStore } from '../../../store';\nimport useIsDraggingWithin from './use-is-dragging-within';\n\n/** @typedef {import('@wordpress/element').RefObject} RefObject */\n\nexport default function WidgetAreaEdit( {\n\tclientId,\n\tattributes: { id, name },\n} ) {\n\tconst isOpen = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editWidgetsStore ).getIsWidgetAreaOpen( clientId ),\n\t\t[ clientId ]\n\t);\n\tconst { setIsWidgetAreaOpen } = useDispatch( editWidgetsStore );\n\n\tconst wrapper = useRef();\n\tconst setOpen = useCallback(\n\t\t( openState ) => setIsWidgetAreaOpen( clientId, openState ),\n\t\t[ clientId ]\n\t);\n\tconst isDragging = useIsDragging( wrapper );\n\tconst isDraggingWithin = useIsDraggingWithin( wrapper );\n\n\tconst [ openedWhileDragging, setOpenedWhileDragging ] = useState( false );\n\tuseEffect( () => {\n\t\tif ( ! isDragging ) {\n\t\t\tsetOpenedWhileDragging( false );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isDraggingWithin && ! isOpen ) {\n\t\t\tsetOpen( true );\n\t\t\tsetOpenedWhileDragging( true );\n\t\t} else if ( ! isDraggingWithin && isOpen && openedWhileDragging ) {\n\t\t\tsetOpen( false );\n\t\t}\n\t}, [ isOpen, isDragging, isDraggingWithin, openedWhileDragging ] );\n\n\tconst blockProps = useBlockProps();\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<Panel ref={ wrapper }>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ name }\n\t\t\t\t\topened={ isOpen }\n\t\t\t\t\tonToggle={ () => {\n\t\t\t\t\t\tsetIsWidgetAreaOpen( clientId, ! isOpen );\n\t\t\t\t\t} }\n\t\t\t\t\tscrollAfterOpen={ ! isDragging }\n\t\t\t\t>\n\t\t\t\t\t{ ( { opened } ) => (\n\t\t\t\t\t\t// This is required to ensure LegacyWidget blocks are not\n\t\t\t\t\t\t// unmounted when the panel is collapsed. Unmounting legacy\n\t\t\t\t\t\t// widgets may have unintended consequences (e.g.  TinyMCE\n\t\t\t\t\t\t// not being properly reinitialized)\n\t\t\t\t\t\t<DisclosureContent\n\t\t\t\t\t\t\tclassName=\"wp-block-widget-area__panel-body-content\"\n\t\t\t\t\t\t\tvisible={ opened }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EntityProvider\n\t\t\t\t\t\t\t\tkind=\"root\"\n\t\t\t\t\t\t\t\ttype=\"postType\"\n\t\t\t\t\t\t\t\tid={ `widget-area-${ id }` }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<WidgetAreaInnerBlocks id={ id } />\n\t\t\t\t\t\t\t</EntityProvider>\n\t\t\t\t\t\t</DisclosureContent>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</Panel>\n\t\t</div>\n\t);\n}\n\n/**\n * A React hook to determine if dragging is active.\n *\n * @param {RefObject<HTMLElement>} elementRef The target elementRef object.\n *\n * @return {boolean} Is dragging within the entire document.\n */\nconst useIsDragging = ( elementRef ) => {\n\tconst [ isDragging, setIsDragging ] = useState( false );\n\n\tuseEffect( () => {\n\t\tconst { ownerDocument } = elementRef.current;\n\n\t\tfunction handleDragStart() {\n\t\t\tsetIsDragging( true );\n\t\t}\n\n\t\tfunction handleDragEnd() {\n\t\t\tsetIsDragging( false );\n\t\t}\n\n\t\townerDocument.addEventListener( 'dragstart', handleDragStart );\n\t\townerDocument.addEventListener( 'dragend', handleDragEnd );\n\n\t\treturn () => {\n\t\t\townerDocument.removeEventListener( 'dragstart', handleDragStart );\n\t\t\townerDocument.removeEventListener( 'dragend', handleDragEnd );\n\t\t};\n\t}, [] );\n\n\treturn isDragging;\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json';\nimport edit from './edit';\n\nconst { name } = metadata;\nexport { metadata, name };\n\nexport const settings = {\n\ttitle: __( 'Widget Area' ),\n\tdescription: __( 'A widget area container.' ),\n\t__experimentalLabel: ( { name: label } ) => label,\n\tedit,\n};\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Warning } from '@wordpress/block-editor';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { doAction } from '@wordpress/hooks';\n\nfunction CopyButton( { text, children } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button __next40pxDefaultSize variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nfunction ErrorBoundaryWarning( { message, error } ) {\n\tconst actions = [\n\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\n\t\t\t{ __( 'Copy Error' ) }\n\t\t</CopyButton>,\n\t];\n\n\treturn (\n\t\t<Warning className=\"edit-widgets-error-boundary\" actions={ actions }>\n\t\t\t{ message }\n\t\t</Warning>\n\t);\n}\n\nexport default class ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\n\t}\n\n\tstatic getDerivedStateFromError( error ) {\n\t\treturn { error };\n\t}\n\n\trender() {\n\t\tif ( ! this.state.error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\treturn (\n\t\t\t<ErrorBoundaryWarning\n\t\t\t\tmessage={ __(\n\t\t\t\t\t'The editor has encountered an unexpected error.'\n\t\t\t\t) }\n\t\t\t\terror={ this.state.error }\n\t\t\t/>\n\t\t);\n\t}\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"patterns\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keyboardShortcuts\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keycodes\"];","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { isAppleOS } from '@wordpress/keycodes';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editWidgetsStore } from '../../store';\n\nfunction KeyboardShortcuts() {\n\tconst { redo, undo } = useDispatch( coreStore );\n\tconst { saveEditedWidgetAreas } = useDispatch( editWidgetsStore );\n\n\tuseShortcut( 'core/edit-widgets/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/edit-widgets/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/edit-widgets/save', ( event ) => {\n\t\tevent.preventDefault();\n\t\tsaveEditedWidgetAreas();\n\t} );\n\n\treturn null;\n}\n\nfunction KeyboardShortcutsRegister() {\n\t// Registering the shortcuts.\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-widgets/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-widgets/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t\t// Disable on Apple OS because it conflicts with the browser's\n\t\t\t// history shortcut. It's a fine alias for both Windows and Linux.\n\t\t\t// Since there's no conflict for Ctrl+Shift+Z on both Windows and\n\t\t\t// Linux, we keep it as the default for consistency.\n\t\t\taliases: isAppleOS()\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmodifier: 'primary',\n\t\t\t\t\t\t\tcharacter: 'y',\n\t\t\t\t\t\t},\n\t\t\t\t  ],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-widgets/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-widgets/keyboard-shortcuts',\n\t\t\tcategory: 'main',\n\t\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'h',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-widgets/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-widgets/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\t\tcharacter: '~',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\treturn null;\n}\n\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\nexport default KeyboardShortcuts;\n","export const ALLOW_REUSABLE_BLOCKS = false;\nexport const ENABLE_EXPERIMENTAL_FSE_BLOCKS = false;\n","/**\n * WordPress dependencies\n */\nimport { SlotFillProvider } from '@wordpress/components';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { uploadMedia } from '@wordpress/media-utils';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEntityBlockEditor, store as coreStore } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { privateApis as editPatternsPrivateApis } from '@wordpress/patterns';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { privateApis as blockLibraryPrivateApis } from '@wordpress/block-library';\n\n/**\n * Internal dependencies\n */\nimport KeyboardShortcuts from '../keyboard-shortcuts';\nimport { buildWidgetAreasPostId, KIND, POST_TYPE } from '../../store/utils';\nimport useLastSelectedWidgetArea from '../../hooks/use-last-selected-widget-area';\nimport { store as editWidgetsStore } from '../../store';\nimport { ALLOW_REUSABLE_BLOCKS } from '../../constants';\nimport { unlock } from '../../lock-unlock';\n\nconst { ExperimentalBlockEditorProvider } = unlock( blockEditorPrivateApis );\nconst { PatternsMenuItems } = unlock( editPatternsPrivateApis );\nconst { BlockKeyboardShortcuts } = unlock( blockLibraryPrivateApis );\n\nconst EMPTY_ARRAY = [];\n\nexport default function WidgetAreasBlockEditorProvider( {\n\tblockEditorSettings,\n\tchildren,\n\t...props\n} ) {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst {\n\t\thasUploadPermissions,\n\t\treusableBlocks,\n\t\tisFixedToolbarActive,\n\t\tkeepCaretInsideBlock,\n\t\tpageOnFront,\n\t\tpageForPosts,\n\t} = useSelect( ( select ) => {\n\t\tconst { canUser, getEntityRecord, getEntityRecords } =\n\t\t\tselect( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\treturn {\n\t\t\thasUploadPermissions:\n\t\t\t\tcanUser( 'create', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: 'attachment',\n\t\t\t\t} ) ?? true,\n\t\t\treusableBlocks: ALLOW_REUSABLE_BLOCKS\n\t\t\t\t? getEntityRecords( 'postType', 'wp_block' )\n\t\t\t\t: EMPTY_ARRAY,\n\t\t\tisFixedToolbarActive: !! select( preferencesStore ).get(\n\t\t\t\t'core/edit-widgets',\n\t\t\t\t'fixedToolbar'\n\t\t\t),\n\t\t\tkeepCaretInsideBlock: !! select( preferencesStore ).get(\n\t\t\t\t'core/edit-widgets',\n\t\t\t\t'keepCaretInsideBlock'\n\t\t\t),\n\t\t\tpageOnFront: siteSettings?.page_on_front,\n\t\t\tpageForPosts: siteSettings?.page_for_posts,\n\t\t};\n\t}, [] );\n\tconst { setIsInserterOpened } = useDispatch( editWidgetsStore );\n\n\tconst settings = useMemo( () => {\n\t\tlet mediaUploadBlockEditor;\n\t\tif ( hasUploadPermissions ) {\n\t\t\tmediaUploadBlockEditor = ( { onError, ...argumentsObject } ) => {\n\t\t\t\tuploadMedia( {\n\t\t\t\t\twpAllowedMimeTypes: blockEditorSettings.allowedMimeTypes,\n\t\t\t\t\tonError: ( { message } ) => onError( message ),\n\t\t\t\t\t...argumentsObject,\n\t\t\t\t} );\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t...blockEditorSettings,\n\t\t\t__experimentalReusableBlocks: reusableBlocks,\n\t\t\thasFixedToolbar: isFixedToolbarActive || ! isLargeViewport,\n\t\t\tkeepCaretInsideBlock,\n\t\t\tmediaUpload: mediaUploadBlockEditor,\n\t\t\ttemplateLock: 'all',\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpened,\n\t\t\tpageOnFront,\n\t\t\tpageForPosts,\n\t\t\teditorTool: 'edit',\n\t\t};\n\t}, [\n\t\thasUploadPermissions,\n\t\tblockEditorSettings,\n\t\tisFixedToolbarActive,\n\t\tisLargeViewport,\n\t\tkeepCaretInsideBlock,\n\t\treusableBlocks,\n\t\tsetIsInserterOpened,\n\t\tpageOnFront,\n\t\tpageForPosts,\n\t] );\n\n\tconst widgetAreaId = useLastSelectedWidgetArea();\n\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\n\t\tKIND,\n\t\tPOST_TYPE,\n\t\t{ id: buildWidgetAreasPostId() }\n\t);\n\n\treturn (\n\t\t<SlotFillProvider>\n\t\t\t<KeyboardShortcuts.Register />\n\t\t\t<BlockKeyboardShortcuts />\n\t\t\t<ExperimentalBlockEditorProvider\n\t\t\t\tvalue={ blocks }\n\t\t\t\tonInput={ onInput }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tsettings={ settings }\n\t\t\t\tuseSubRegistry={ false }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t\t<PatternsMenuItems rootClientId={ widgetAreaId } />\n\t\t\t</ExperimentalBlockEditorProvider>\n\t\t</SlotFillProvider>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as widgetsEditorStore } from '../store';\nimport { buildWidgetAreasPostId, KIND, POST_TYPE } from '../store/utils';\n\n/**\n * A react hook that returns the client id of the last widget area to have\n * been selected, or to have a selected block within it.\n *\n * @return {string} clientId of the widget area last selected.\n */\nconst useLastSelectedWidgetArea = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getBlockSelectionEnd, getBlockName } =\n\t\t\tselect( blockEditorStore );\n\t\tconst selectionEndClientId = getBlockSelectionEnd();\n\n\t\t// If the selected block is a widget area, return its clientId.\n\t\tif ( getBlockName( selectionEndClientId ) === 'core/widget-area' ) {\n\t\t\treturn selectionEndClientId;\n\t\t}\n\n\t\tconst { getParentWidgetAreaBlock } = select( widgetsEditorStore );\n\t\tconst widgetAreaBlock =\n\t\t\tgetParentWidgetAreaBlock( selectionEndClientId );\n\t\tconst widgetAreaBlockClientId = widgetAreaBlock?.clientId;\n\n\t\tif ( widgetAreaBlockClientId ) {\n\t\t\treturn widgetAreaBlockClientId;\n\t\t}\n\n\t\t// If no widget area has been selected, return the clientId of the first\n\t\t// area.\n\t\tconst { getEntityRecord } = select( coreStore );\n\t\tconst widgetAreasPost = getEntityRecord(\n\t\t\tKIND,\n\t\t\tPOST_TYPE,\n\t\t\tbuildWidgetAreasPostId()\n\t\t);\n\t\treturn widgetAreasPost?.blocks[ 0 ]?.clientId;\n\t}, [] );\n\nexport default useLastSelectedWidgetArea;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst drawerLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default drawerLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst drawerRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default drawerRight;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst blockDefault = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z\" />\n\t</SVG>\n);\n\nexport default blockDefault;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"dom\"];","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { blockDefault } from '@wordpress/icons';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport { safeHTML } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { store as editWidgetsStore } from '../../store';\n\nexport default function WidgetAreas( { selectedWidgetAreaId } ) {\n\tconst widgetAreas = useSelect(\n\t\t( select ) => select( editWidgetsStore ).getWidgetAreas(),\n\t\t[]\n\t);\n\n\tconst selectedWidgetArea = useMemo(\n\t\t() =>\n\t\t\tselectedWidgetAreaId &&\n\t\t\twidgetAreas?.find(\n\t\t\t\t( widgetArea ) => widgetArea.id === selectedWidgetAreaId\n\t\t\t),\n\t\t[ selectedWidgetAreaId, widgetAreas ]\n\t);\n\n\tlet description;\n\tif ( ! selectedWidgetArea ) {\n\t\tdescription = __(\n\t\t\t// eslint-disable-next-line no-restricted-syntax -- 'sidebar' is a common web design term for layouts\n\t\t\t'Widget Areas are global parts in your sites layout that can accept blocks. These vary by theme, but are typically parts like your Sidebar or Footer.'\n\t\t);\n\t} else if ( selectedWidgetAreaId === 'wp_inactive_widgets' ) {\n\t\tdescription = __(\n\t\t\t'Blocks in this Widget Area will not be displayed in your site.'\n\t\t);\n\t} else {\n\t\tdescription = selectedWidgetArea.description;\n\t}\n\n\treturn (\n\t\t<div className=\"edit-widgets-widget-areas\">\n\t\t\t<div className=\"edit-widgets-widget-areas__top-container\">\n\t\t\t\t<BlockIcon icon={ blockDefault } />\n\t\t\t\t<div>\n\t\t\t\t\t<p\n\t\t\t\t\t\t// Use `dangerouslySetInnerHTML` to keep backwards\n\t\t\t\t\t\t// compatibility. Basic markup in the description is an\n\t\t\t\t\t\t// established feature of WordPress.\n\t\t\t\t\t\t// @see https://github.com/WordPress/gutenberg/issues/33106\n\t\t\t\t\t\tdangerouslySetInnerHTML={ {\n\t\t\t\t\t\t\t__html: safeHTML( description ),\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t{ widgetAreas?.length === 0 && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Your theme does not contain any Widget Areas.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! selectedWidgetArea && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\thref={ addQueryArgs( 'customize.php', {\n\t\t\t\t\t\t\t\t'autofocus[panel]': 'widgets',\n\t\t\t\t\t\t\t\treturn: window.location.pathname,\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Manage with live preview' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tuseEffect,\n\tPlatform,\n\tuseContext,\n\tuseCallback,\n} from '@wordpress/element';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport {\n\tComplementaryArea,\n\tstore as interfaceStore,\n} from '@wordpress/interface';\nimport {\n\tBlockInspector,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\nimport { drawerLeft, drawerRight } from '@wordpress/icons';\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\nconst SIDEBAR_ACTIVE_BY_DEFAULT = Platform.select( {\n\tweb: true,\n\tnative: false,\n} );\n\nconst BLOCK_INSPECTOR_IDENTIFIER = 'edit-widgets/block-inspector';\n\n// Widget areas were once called block areas, so use 'edit-widgets/block-areas'\n// for backwards compatibility.\nconst WIDGET_AREAS_IDENTIFIER = 'edit-widgets/block-areas';\n\n/**\n * Internal dependencies\n */\nimport WidgetAreas from './widget-areas';\nimport { store as editWidgetsStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nfunction SidebarHeader( { selectedWidgetAreaBlock } ) {\n\treturn (\n\t\t<Tabs.TabList>\n\t\t\t<Tabs.Tab tabId={ WIDGET_AREAS_IDENTIFIER }>\n\t\t\t\t{ selectedWidgetAreaBlock\n\t\t\t\t\t? selectedWidgetAreaBlock.attributes.name\n\t\t\t\t\t: __( 'Widget Areas' ) }\n\t\t\t</Tabs.Tab>\n\t\t\t<Tabs.Tab tabId={ BLOCK_INSPECTOR_IDENTIFIER }>\n\t\t\t\t{ __( 'Block' ) }\n\t\t\t</Tabs.Tab>\n\t\t</Tabs.TabList>\n\t);\n}\n\nfunction SidebarContent( {\n\thasSelectedNonAreaBlock,\n\tcurrentArea,\n\tisGeneralSidebarOpen,\n\tselectedWidgetAreaBlock,\n} ) {\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\thasSelectedNonAreaBlock &&\n\t\t\tcurrentArea === WIDGET_AREAS_IDENTIFIER &&\n\t\t\tisGeneralSidebarOpen\n\t\t) {\n\t\t\tenableComplementaryArea(\n\t\t\t\t'core/edit-widgets',\n\t\t\t\tBLOCK_INSPECTOR_IDENTIFIER\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\t! hasSelectedNonAreaBlock &&\n\t\t\tcurrentArea === BLOCK_INSPECTOR_IDENTIFIER &&\n\t\t\tisGeneralSidebarOpen\n\t\t) {\n\t\t\tenableComplementaryArea(\n\t\t\t\t'core/edit-widgets',\n\t\t\t\tWIDGET_AREAS_IDENTIFIER\n\t\t\t);\n\t\t}\n\t\t// We're intentionally leaving `currentArea` and `isGeneralSidebarOpen`\n\t\t// out of the dep array because we want this effect to run based on\n\t\t// block selection changes, not sidebar state changes.\n\t}, [ hasSelectedNonAreaBlock, enableComplementaryArea ] );\n\n\tconst tabsContextValue = useContext( Tabs.Context );\n\n\treturn (\n\t\t<ComplementaryArea\n\t\t\tclassName=\"edit-widgets-sidebar\"\n\t\t\theader={\n\t\t\t\t<Tabs.Context.Provider value={ tabsContextValue }>\n\t\t\t\t\t<SidebarHeader\n\t\t\t\t\t\tselectedWidgetAreaBlock={ selectedWidgetAreaBlock }\n\t\t\t\t\t/>\n\t\t\t\t</Tabs.Context.Provider>\n\t\t\t}\n\t\t\theaderClassName=\"edit-widgets-sidebar__panel-tabs\"\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\ttitle={ __( 'Settings' ) }\n\t\t\tcloseLabel={ __( 'Close Settings' ) }\n\t\t\tscope=\"core/edit-widgets\"\n\t\t\tidentifier={ currentArea }\n\t\t\ticon={ isRTL() ? drawerLeft : drawerRight }\n\t\t\tisActiveByDefault={ SIDEBAR_ACTIVE_BY_DEFAULT }\n\t\t>\n\t\t\t<Tabs.Context.Provider value={ tabsContextValue }>\n\t\t\t\t<Tabs.TabPanel\n\t\t\t\t\ttabId={ WIDGET_AREAS_IDENTIFIER }\n\t\t\t\t\tfocusable={ false }\n\t\t\t\t>\n\t\t\t\t\t<WidgetAreas\n\t\t\t\t\t\tselectedWidgetAreaId={\n\t\t\t\t\t\t\tselectedWidgetAreaBlock?.attributes.id\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t<Tabs.TabPanel\n\t\t\t\t\ttabId={ BLOCK_INSPECTOR_IDENTIFIER }\n\t\t\t\t\tfocusable={ false }\n\t\t\t\t>\n\t\t\t\t\t{ hasSelectedNonAreaBlock ? (\n\t\t\t\t\t\t<BlockInspector />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t// Pretend that Widget Areas are part of the UI by not\n\t\t\t\t\t\t// showing the Block Inspector when one is selected.\n\t\t\t\t\t\t<span className=\"block-editor-block-inspector__no-blocks\">\n\t\t\t\t\t\t\t{ __( 'No block selected.' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t</Tabs.Context.Provider>\n\t\t</ComplementaryArea>\n\t);\n}\n\nexport default function Sidebar() {\n\tconst {\n\t\tcurrentArea,\n\t\thasSelectedNonAreaBlock,\n\t\tisGeneralSidebarOpen,\n\t\tselectedWidgetAreaBlock,\n\t} = useSelect( ( select ) => {\n\t\tconst { getSelectedBlock, getBlock, getBlockParentsByBlockName } =\n\t\t\tselect( blockEditorStore );\n\t\tconst { getActiveComplementaryArea } = select( interfaceStore );\n\n\t\tconst selectedBlock = getSelectedBlock();\n\n\t\tconst activeArea = getActiveComplementaryArea( editWidgetsStore.name );\n\n\t\tlet currentSelection = activeArea;\n\t\tif ( ! currentSelection ) {\n\t\t\tif ( selectedBlock ) {\n\t\t\t\tcurrentSelection = BLOCK_INSPECTOR_IDENTIFIER;\n\t\t\t} else {\n\t\t\t\tcurrentSelection = WIDGET_AREAS_IDENTIFIER;\n\t\t\t}\n\t\t}\n\n\t\tlet widgetAreaBlock;\n\t\tif ( selectedBlock ) {\n\t\t\tif ( selectedBlock.name === 'core/widget-area' ) {\n\t\t\t\twidgetAreaBlock = selectedBlock;\n\t\t\t} else {\n\t\t\t\twidgetAreaBlock = getBlock(\n\t\t\t\t\tgetBlockParentsByBlockName(\n\t\t\t\t\t\tselectedBlock.clientId,\n\t\t\t\t\t\t'core/widget-area'\n\t\t\t\t\t)[ 0 ]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tcurrentArea: currentSelection,\n\t\t\thasSelectedNonAreaBlock: !! (\n\t\t\t\tselectedBlock && selectedBlock.name !== 'core/widget-area'\n\t\t\t),\n\t\t\tisGeneralSidebarOpen: !! activeArea,\n\t\t\tselectedWidgetAreaBlock: widgetAreaBlock,\n\t\t};\n\t}, [] );\n\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\t// `newSelectedTabId` could technically be falsy if no tab is selected (i.e.\n\t// the initial render) or when we don't want a tab displayed (i.e. the\n\t// sidebar is closed). These cases should both be covered by the `!!` check\n\t// below, so we shouldn't need any additional falsy handling.\n\tconst onTabSelect = useCallback(\n\t\t( newSelectedTabId ) => {\n\t\t\tif ( !! newSelectedTabId ) {\n\t\t\t\tenableComplementaryArea(\n\t\t\t\t\teditWidgetsStore.name,\n\t\t\t\t\tnewSelectedTabId\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ enableComplementaryArea ]\n\t);\n\n\treturn (\n\t\t<Tabs\n\t\t\t// Due to how this component is controlled (via a value from the\n\t\t\t// `interfaceStore`), when the sidebar closes the currently selected\n\t\t\t// tab can't be found. This causes the component to continuously reset\n\t\t\t// the selection to `null` in an infinite loop. Proactively setting\n\t\t\t// the selected tab to `null` avoids that.\n\t\t\tselectedTabId={ isGeneralSidebarOpen ? currentArea : null }\n\t\t\tonSelect={ onTabSelect }\n\t\t\tselectOnMove={ false }\n\t\t>\n\t\t\t<SidebarContent\n\t\t\t\thasSelectedNonAreaBlock={ hasSelectedNonAreaBlock }\n\t\t\t\tcurrentArea={ currentArea }\n\t\t\t\tisGeneralSidebarOpen={ isGeneralSidebarOpen }\n\t\t\t\tselectedWidgetAreaBlock={ selectedWidgetAreaBlock }\n\t\t\t/>\n\t\t</Tabs>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plus = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\" />\n\t</SVG>\n);\n\nexport default plus;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst listView = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z\" />\n\t</SVG>\n);\n\nexport default listView;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst undo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n\nexport default undo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst redo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n\nexport default redo;\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { forwardRef } from '@wordpress/element';\n\nfunction UndoButton( props, ref ) {\n\tconst hasUndo = useSelect(\n\t\t( select ) => select( coreStore ).hasUndo(),\n\t\t[]\n\t);\n\tconst { undo } = useDispatch( coreStore );\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\tlabel={ __( 'Undo' ) }\n\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasUndo }\n\t\t\tonClick={ hasUndo ? undo : undefined }\n\t\t\tsize=\"compact\"\n\t\t/>\n\t);\n}\n\nexport default forwardRef( UndoButton );\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { redo as redoIcon, undo as undoIcon } from '@wordpress/icons';\nimport { displayShortcut, isAppleOS } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { forwardRef } from '@wordpress/element';\n\nfunction RedoButton( props, ref ) {\n\tconst shortcut = isAppleOS()\n\t\t? displayShortcut.primaryShift( 'z' )\n\t\t: displayShortcut.primary( 'y' );\n\n\tconst hasRedo = useSelect(\n\t\t( select ) => select( coreStore ).hasRedo(),\n\t\t[]\n\t);\n\tconst { redo } = useDispatch( coreStore );\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\tlabel={ __( 'Redo' ) }\n\t\t\tshortcut={ shortcut }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasRedo }\n\t\t\tonClick={ hasRedo ? redo : undefined }\n\t\t\tsize=\"compact\"\n\t\t/>\n\t);\n}\n\nexport default forwardRef( RedoButton );\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\nimport { Button, ToolbarItem } from '@wordpress/components';\nimport { NavigableToolbar } from '@wordpress/block-editor';\nimport { listView, plus } from '@wordpress/icons';\nimport { useCallback } from '@wordpress/element';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport UndoButton from '../undo-redo/undo';\nimport RedoButton from '../undo-redo/redo';\nimport { store as editWidgetsStore } from '../../../store';\nimport { unlock } from '../../../lock-unlock';\n\nfunction DocumentTools() {\n\tconst isMediumViewport = useViewportMatch( 'medium' );\n\n\tconst {\n\t\tisInserterOpen,\n\t\tisListViewOpen,\n\t\tinserterSidebarToggleRef,\n\t\tlistViewToggleRef,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisInserterOpened,\n\t\t\tgetInserterSidebarToggleRef,\n\t\t\tisListViewOpened,\n\t\t\tgetListViewToggleRef,\n\t\t} = unlock( select( editWidgetsStore ) );\n\t\treturn {\n\t\t\tisInserterOpen: isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tinserterSidebarToggleRef: getInserterSidebarToggleRef(),\n\t\t\tlistViewToggleRef: getListViewToggleRef(),\n\t\t};\n\t}, [] );\n\tconst { setIsInserterOpened, setIsListViewOpened } =\n\t\tuseDispatch( editWidgetsStore );\n\n\tconst toggleListView = useCallback(\n\t\t() => setIsListViewOpened( ! isListViewOpen ),\n\t\t[ setIsListViewOpened, isListViewOpen ]\n\t);\n\n\tconst toggleInserterSidebar = useCallback(\n\t\t() => setIsInserterOpened( ! isInserterOpen ),\n\t\t[ setIsInserterOpened, isInserterOpen ]\n\t);\n\n\treturn (\n\t\t<NavigableToolbar\n\t\t\tclassName=\"edit-widgets-header-toolbar\"\n\t\t\taria-label={ __( 'Document tools' ) }\n\t\t\tvariant=\"unstyled\"\n\t\t>\n\t\t\t<ToolbarItem\n\t\t\t\tref={ inserterSidebarToggleRef }\n\t\t\t\tas={ Button }\n\t\t\t\tclassName=\"edit-widgets-header-toolbar__inserter-toggle\"\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tisPressed={ isInserterOpen }\n\t\t\t\tonMouseDown={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} }\n\t\t\t\tonClick={ toggleInserterSidebar }\n\t\t\t\ticon={ plus }\n\t\t\t\t/* translators: button label text should, if possible, be under 16\n\t\t\t\t\tcharacters. */\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Block Inserter',\n\t\t\t\t\t'Generic label for block inserter button'\n\t\t\t\t) }\n\t\t\t\tsize=\"compact\"\n\t\t\t/>\n\t\t\t{ isMediumViewport && (\n\t\t\t\t<>\n\t\t\t\t\t<ToolbarItem as={ UndoButton } />\n\t\t\t\t\t<ToolbarItem as={ RedoButton } />\n\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\tclassName=\"edit-widgets-header-toolbar__list-view-toggle\"\n\t\t\t\t\t\ticon={ listView }\n\t\t\t\t\t\tisPressed={ isListViewOpen }\n\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\tlabel={ __( 'List View' ) }\n\t\t\t\t\t\tonClick={ toggleListView }\n\t\t\t\t\t\tref={ listViewToggleRef }\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</NavigableToolbar>\n\t);\n}\n\nexport default DocumentTools;\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editWidgetsStore } from '../../store';\n\nfunction SaveButton() {\n\tconst { hasEditedWidgetAreaIds, isSaving, isWidgetSaveLocked } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEditedWidgetAreas,\n\t\t\t\tisSavingWidgetAreas,\n\t\t\t\tisWidgetSavingLocked,\n\t\t\t} = select( editWidgetsStore );\n\n\t\t\treturn {\n\t\t\t\thasEditedWidgetAreaIds: getEditedWidgetAreas()?.length > 0,\n\t\t\t\tisSaving: isSavingWidgetAreas(),\n\t\t\t\tisWidgetSaveLocked: isWidgetSavingLocked(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst { saveEditedWidgetAreas } = useDispatch( editWidgetsStore );\n\n\tconst isDisabled =\n\t\tisWidgetSaveLocked || isSaving || ! hasEditedWidgetAreaIds;\n\n\treturn (\n\t\t<Button\n\t\t\tvariant=\"primary\"\n\t\t\tisBusy={ isSaving }\n\t\t\taria-disabled={ isDisabled }\n\t\t\tonClick={ isDisabled ? undefined : saveEditedWidgetAreas }\n\t\t\tsize=\"compact\"\n\t\t>\n\t\t\t{ isSaving ? __( 'Saving' ) : __( 'Update' ) }\n\t\t</Button>\n\t);\n}\n\nexport default SaveButton;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst moreVertical = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n\nexport default moreVertical;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst external = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z\" />\n\t</SVG>\n);\n\nexport default external;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const textFormattingShortcuts = [\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'b' },\n\t\tdescription: __( 'Make the selected text bold.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'i' },\n\t\tdescription: __( 'Make the selected text italic.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'k' },\n\t\tdescription: __( 'Convert the selected text into a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'k' },\n\t\tdescription: __( 'Remove a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { character: '[[' },\n\t\tdescription: __( 'Insert a link to a post or page.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'u' },\n\t\tdescription: __( 'Underline the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'd' },\n\t\tdescription: __( 'Strikethrough the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'x' },\n\t\tdescription: __( 'Make the selected text inline code.' ),\n\t},\n\t{\n\t\tkeyCombination: {\n\t\t\tmodifier: 'access',\n\t\t\tcharacter: '0',\n\t\t},\n\t\taliases: [\n\t\t\t{\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: '7',\n\t\t\t},\n\t\t],\n\t\tdescription: __( 'Convert the current heading to a paragraph.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: '1-6' },\n\t\tdescription: __(\n\t\t\t'Convert the current paragraph or heading to a heading of level 1 to 6.'\n\t\t),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'SPACE' },\n\t\tdescription: __( 'Add non breaking space.' ),\n\t},\n];\n","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { displayShortcutList, shortcutAriaLabel } from '@wordpress/keycodes';\n\nfunction KeyCombination( { keyCombination, forceAriaLabel } ) {\n\tconst shortcut = keyCombination.modifier\n\t\t? displayShortcutList[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst ariaLabel = keyCombination.modifier\n\t\t? shortcutAriaLabel[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst shortcuts = Array.isArray( shortcut ) ? shortcut : [ shortcut ];\n\n\treturn (\n\t\t<kbd\n\t\t\tclassName=\"edit-widgets-keyboard-shortcut-help-modal__shortcut-key-combination\"\n\t\t\taria-label={ forceAriaLabel || ariaLabel }\n\t\t>\n\t\t\t{ shortcuts.map( ( character, index ) => {\n\t\t\t\tif ( character === '+' ) {\n\t\t\t\t\treturn <Fragment key={ index }>{ character }</Fragment>;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<kbd\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tclassName=\"edit-widgets-keyboard-shortcut-help-modal__shortcut-key\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ character }\n\t\t\t\t\t</kbd>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</kbd>\n\t);\n}\n\nfunction Shortcut( { description, keyCombination, aliases = [], ariaLabel } ) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"edit-widgets-keyboard-shortcut-help-modal__shortcut-description\">\n\t\t\t\t{ description }\n\t\t\t</div>\n\t\t\t<div className=\"edit-widgets-keyboard-shortcut-help-modal__shortcut-term\">\n\t\t\t\t<KeyCombination\n\t\t\t\t\tkeyCombination={ keyCombination }\n\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ aliases.map( ( alias, index ) => (\n\t\t\t\t\t<KeyCombination\n\t\t\t\t\t\tkeyCombination={ alias }\n\t\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Shortcut;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from './shortcut';\n\nfunction DynamicShortcut( { name } ) {\n\tconst { keyCombination, description, aliases } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetShortcutKeyCombination,\n\t\t\t\tgetShortcutDescription,\n\t\t\t\tgetShortcutAliases,\n\t\t\t} = select( keyboardShortcutsStore );\n\n\t\t\treturn {\n\t\t\t\tkeyCombination: getShortcutKeyCombination( name ),\n\t\t\t\taliases: getShortcutAliases( name ),\n\t\t\t\tdescription: getShortcutDescription( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! keyCombination ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Shortcut\n\t\t\tkeyCombination={ keyCombination }\n\t\t\tdescription={ description }\n\t\t\taliases={ aliases }\n\t\t/>\n\t);\n}\n\nexport default DynamicShortcut;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { textFormattingShortcuts } from './config';\nimport Shortcut from './shortcut';\nimport DynamicShortcut from './dynamic-shortcut';\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t<ul\n\t\tclassName=\"edit-widgets-keyboard-shortcut-help-modal__shortcut-list\"\n\t\trole=\"list\"\n\t>\n\t\t{ shortcuts.map( ( shortcut, index ) => (\n\t\t\t<li\n\t\t\t\tclassName=\"edit-widgets-keyboard-shortcut-help-modal__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t{ typeof shortcut === 'string' ? (\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\n\t\t\t\t) : (\n\t\t\t\t\t<Shortcut { ...shortcut } />\n\t\t\t\t) }\n\t\t\t</li>\n\t\t) ) }\n\t</ul>\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\n);\n\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\n\t<section\n\t\tclassName={ clsx(\n\t\t\t'edit-widgets-keyboard-shortcut-help-modal__section',\n\t\t\tclassName\n\t\t) }\n\t>\n\t\t{ !! title && (\n\t\t\t<h2 className=\"edit-widgets-keyboard-shortcut-help-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t) }\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nconst ShortcutCategorySection = ( {\n\ttitle,\n\tcategoryName,\n\tadditionalShortcuts = [],\n} ) => {\n\tconst categoryShortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\n\t\t\t\tcategoryName\n\t\t\t);\n\t\t},\n\t\t[ categoryName ]\n\t);\n\n\treturn (\n\t\t<ShortcutSection\n\t\t\ttitle={ title }\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\n\t\t/>\n\t);\n};\n\nexport default function KeyboardShortcutHelpModal( {\n\tisModalActive,\n\ttoggleModal,\n} ) {\n\tuseShortcut( 'core/edit-widgets/keyboard-shortcuts', toggleModal, {\n\t\tbindGlobal: true,\n\t} );\n\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"edit-widgets-keyboard-shortcut-help-modal\"\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\n\t\t\tonRequestClose={ toggleModal }\n\t\t>\n\t\t\t<ShortcutSection\n\t\t\t\tclassName=\"edit-widgets-keyboard-shortcut-help-modal__main-shortcuts\"\n\t\t\t\tshortcuts={ [ 'core/edit-widgets/keyboard-shortcuts' ] }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\n\t\t\t\tcategoryName=\"global\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\n\t\t\t\tcategoryName=\"selection\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\n\t\t\t\tcategoryName=\"block\"\n\t\t\t\tadditionalShortcuts={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeyCombination: { character: '/' },\n\t\t\t\t\t\tdescription: __(\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t\t<ShortcutSection\n\t\t\t\ttitle={ __( 'Text formatting' ) }\n\t\t\t\tshortcuts={ textFormattingShortcuts }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'List View shortcuts' ) }\n\t\t\t\tcategoryName=\"list-view\"\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: ToolsMoreMenuGroup, Slot } = createSlotFill(\n\t'EditWidgetsToolsMoreMenuGroup'\n);\n\nToolsMoreMenuGroup.Slot = ( { fillProps } ) => (\n\t<Slot fillProps={ fillProps }>\n\t\t{ ( fills ) => fills.length > 0 && fills }\n\t</Slot>\n);\n\nexport default ToolsMoreMenuGroup;\n","/**\n * WordPress dependencies\n */\nimport {\n\tMenuGroup,\n\tMenuItem,\n\tVisuallyHidden,\n\tDropdownMenu,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\nimport { external, moreVertical } from '@wordpress/icons';\nimport { PreferenceToggleMenuItem } from '@wordpress/preferences';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport KeyboardShortcutHelpModal from '../keyboard-shortcut-help-modal';\nimport ToolsMoreMenuGroup from './tools-more-menu-group';\n\nexport default function MoreMenu() {\n\tconst [\n\t\tisKeyboardShortcutsModalActive,\n\t\tsetIsKeyboardShortcutsModalVisible,\n\t] = useState( false );\n\tconst toggleKeyboardShortcutsModal = () =>\n\t\tsetIsKeyboardShortcutsModalVisible( ! isKeyboardShortcutsModalActive );\n\n\tuseShortcut(\n\t\t'core/edit-widgets/keyboard-shortcuts',\n\t\ttoggleKeyboardShortcutsModal\n\t);\n\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\treturn (\n\t\t<>\n\t\t\t<DropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'Options' ) }\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tplacement: 'bottom-end',\n\t\t\t\t\tclassName: 'more-menu-dropdown__content',\n\t\t\t\t} }\n\t\t\t\ttoggleProps={ {\n\t\t\t\t\ttooltipPosition: 'bottom',\n\t\t\t\t\tsize: 'compact',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ ( onClose ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ isLargeViewport && (\n\t\t\t\t\t\t\t<MenuGroup label={ _x( 'View', 'noun' ) }>\n\t\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\t\tscope=\"core/edit-widgets\"\n\t\t\t\t\t\t\t\t\tname=\"fixedToolbar\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t\t'Top toolbar activated'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t\t'Top toolbar deactivated'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tsetIsKeyboardShortcutsModalVisible( true );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.access( 'h' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Keyboard shortcuts' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/edit-widgets\"\n\t\t\t\t\t\t\t\tname=\"welcomeGuide\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Welcome Guide' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/block-based-widgets-editor/'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Help' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<ToolsMoreMenuGroup.Slot\n\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Preferences' ) }>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/edit-widgets\"\n\t\t\t\t\t\t\t\tname=\"keepCaretInsideBlock\"\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Aids screen readers by stopping text caret from leaving blocks.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/edit-widgets\"\n\t\t\t\t\t\t\t\tname=\"themeStyles\"\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Make the editor look like your theme.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Use theme styles' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ isLargeViewport && (\n\t\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\t\tscope=\"core/edit-widgets\"\n\t\t\t\t\t\t\t\t\tname=\"showBlockBreadcrumbs\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Display block breadcrumbs' ) }\n\t\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t\t'Shows block breadcrumbs at the bottom of the editor.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t\t'Display block breadcrumbs activated'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t\t'Display block breadcrumbs deactivated'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t\t<KeyboardShortcutHelpModal\n\t\t\t\tisModalActive={ isKeyboardShortcutsModalActive }\n\t\t\t\ttoggleModal={ toggleKeyboardShortcutsModal }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { BlockToolbar } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Popover, VisuallyHidden } from '@wordpress/components';\nimport { PinnedItems } from '@wordpress/interface';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport DocumentTools from './document-tools';\nimport SaveButton from '../save-button';\nimport MoreMenu from '../more-menu';\n\nfunction Header() {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst blockToolbarRef = useRef();\n\tconst { hasFixedToolbar } = useSelect(\n\t\t( select ) => ( {\n\t\t\thasFixedToolbar: !! select( preferencesStore ).get(\n\t\t\t\t'core/edit-widgets',\n\t\t\t\t'fixedToolbar'\n\t\t\t),\n\t\t} ),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"edit-widgets-header\">\n\t\t\t\t<div className=\"edit-widgets-header__navigable-toolbar-wrapper\">\n\t\t\t\t\t{ isLargeViewport && (\n\t\t\t\t\t\t<h1 className=\"edit-widgets-header__title\">\n\t\t\t\t\t\t\t{ __( 'Widgets' ) }\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isLargeViewport && (\n\t\t\t\t\t\t<VisuallyHidden\n\t\t\t\t\t\t\tas=\"h1\"\n\t\t\t\t\t\t\tclassName=\"edit-widgets-header__title\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Widgets' ) }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t) }\n\t\t\t\t\t<DocumentTools />\n\t\t\t\t\t{ hasFixedToolbar && isLargeViewport && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"selected-block-tools-wrapper\">\n\t\t\t\t\t\t\t\t<BlockToolbar hideDragHandle />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Popover.Slot\n\t\t\t\t\t\t\t\tref={ blockToolbarRef }\n\t\t\t\t\t\t\t\tname=\"block-toolbar\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"edit-widgets-header__actions\">\n\t\t\t\t\t<PinnedItems.Slot scope=\"core/edit-widgets\" />\n\t\t\t\t\t<SaveButton />\n\t\t\t\t\t<MoreMenu />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Header;\n","/**\n * WordPress dependencies\n */\nimport { NoticeList, SnackbarList } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n// Last three notices. Slices from the tail end of the list.\nconst MAX_VISIBLE_NOTICES = -3;\n\nfunction Notices() {\n\tconst { removeNotice } = useDispatch( noticesStore );\n\tconst { notices } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tnotices: select( noticesStore ).getNotices(),\n\t\t};\n\t}, [] );\n\n\tconst dismissibleNotices = notices.filter(\n\t\t( { isDismissible, type } ) => isDismissible && type === 'default'\n\t);\n\tconst nonDismissibleNotices = notices.filter(\n\t\t( { isDismissible, type } ) => ! isDismissible && type === 'default'\n\t);\n\tconst snackbarNotices = notices\n\t\t.filter( ( { type } ) => type === 'snackbar' )\n\t\t.slice( MAX_VISIBLE_NOTICES );\n\n\treturn (\n\t\t<>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ nonDismissibleNotices }\n\t\t\t\tclassName=\"edit-widgets-notices__pinned\"\n\t\t\t/>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ dismissibleNotices }\n\t\t\t\tclassName=\"edit-widgets-notices__dismissible\"\n\t\t\t\tonRemove={ removeNotice }\n\t\t\t/>\n\t\t\t<SnackbarList\n\t\t\t\tnotices={ snackbarNotices }\n\t\t\t\tclassName=\"edit-widgets-notices__snackbar\"\n\t\t\t\tonRemove={ removeNotice }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default Notices;\n","/**\n * WordPress dependencies\n */\nimport {\n\tBlockList,\n\tBlockToolbar,\n\tBlockTools,\n\tBlockSelectionClearer,\n\tWritingFlow,\n\t__unstableEditorStyles as EditorStyles,\n} from '@wordpress/block-editor';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport Notices from '../notices';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\n\nexport default function WidgetAreasBlockEditorContent( {\n\tblockEditorSettings,\n} ) {\n\tconst hasThemeStyles = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( preferencesStore ).get(\n\t\t\t\t'core/edit-widgets',\n\t\t\t\t'themeStyles'\n\t\t\t),\n\t\t[]\n\t);\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\tconst styles = useMemo( () => {\n\t\treturn hasThemeStyles ? blockEditorSettings.styles : [];\n\t}, [ blockEditorSettings, hasThemeStyles ] );\n\n\treturn (\n\t\t<div className=\"edit-widgets-block-editor\">\n\t\t\t<Notices />\n\t\t\t{ ! isLargeViewport && <BlockToolbar hideDragHandle /> }\n\t\t\t<BlockTools>\n\t\t\t\t<KeyboardShortcuts />\n\t\t\t\t<EditorStyles\n\t\t\t\t\tstyles={ styles }\n\t\t\t\t\tscope=\":where(.editor-styles-wrapper)\"\n\t\t\t\t/>\n\t\t\t\t<BlockSelectionClearer>\n\t\t\t\t\t<WritingFlow>\n\t\t\t\t\t\t<BlockList className=\"edit-widgets-main-block-list\" />\n\t\t\t\t\t</WritingFlow>\n\t\t\t\t</BlockSelectionClearer>\n\t\t\t</BlockTools>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editWidgetsStore } from '../store';\nimport { buildWidgetAreasPostId, KIND, POST_TYPE } from '../store/utils';\n\nconst useWidgetLibraryInsertionPoint = () => {\n\tconst firstRootId = useSelect( ( select ) => {\n\t\t// Default to the first widget area\n\t\tconst { getEntityRecord } = select( coreStore );\n\t\tconst widgetAreasPost = getEntityRecord(\n\t\t\tKIND,\n\t\t\tPOST_TYPE,\n\t\t\tbuildWidgetAreasPostId()\n\t\t);\n\t\treturn widgetAreasPost?.blocks[ 0 ]?.clientId;\n\t}, [] );\n\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockRootClientId,\n\t\t\t\tgetBlockSelectionEnd,\n\t\t\t\tgetBlockOrder,\n\t\t\t\tgetBlockIndex,\n\t\t\t} = select( blockEditorStore );\n\n\t\t\tconst insertionPoint =\n\t\t\t\tselect( editWidgetsStore ).__experimentalGetInsertionPoint();\n\n\t\t\t// \"Browse all\" in the quick inserter will set the rootClientId to the current block.\n\t\t\t// Otherwise, it will just be undefined, and we'll have to handle it differently below.\n\t\t\tif ( insertionPoint.rootClientId ) {\n\t\t\t\treturn insertionPoint;\n\t\t\t}\n\n\t\t\tconst clientId = getBlockSelectionEnd() || firstRootId;\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\n\t\t\t// If the selected block is at the root level, it's a widget area and\n\t\t\t// blocks can't be inserted here. Return this block as the root and the\n\t\t\t// last child clientId indicating insertion at the end.\n\t\t\tif ( clientId && rootClientId === '' ) {\n\t\t\t\treturn {\n\t\t\t\t\trootClientId: clientId,\n\t\t\t\t\tinsertionIndex: getBlockOrder( clientId ).length,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\trootClientId,\n\t\t\t\tinsertionIndex: getBlockIndex( clientId ) + 1,\n\t\t\t};\n\t\t},\n\t\t[ firstRootId ]\n\t);\n};\n\nexport default useWidgetLibraryInsertionPoint;\n","/**\n * WordPress dependencies\n */\nimport { __experimentalLibrary as Library } from '@wordpress/block-editor';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useCallback, useRef } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport useWidgetLibraryInsertionPoint from '../../hooks/use-widget-library-insertion-point';\nimport { store as editWidgetsStore } from '../../store';\n\nexport default function InserterSidebar() {\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst { rootClientId, insertionIndex } = useWidgetLibraryInsertionPoint();\n\n\tconst { setIsInserterOpened } = useDispatch( editWidgetsStore );\n\n\tconst closeInserter = useCallback( () => {\n\t\treturn setIsInserterOpened( false );\n\t}, [ setIsInserterOpened ] );\n\n\tconst libraryRef = useRef();\n\n\treturn (\n\t\t<div className=\"edit-widgets-layout__inserter-panel\">\n\t\t\t<div className=\"edit-widgets-layout__inserter-panel-content\">\n\t\t\t\t<Library\n\t\t\t\t\tshowInserterHelpPanel\n\t\t\t\t\tshouldFocusBlock={ isMobileViewport }\n\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\t__experimentalInsertionIndex={ insertionIndex }\n\t\t\t\t\tref={ libraryRef }\n\t\t\t\t\tonClose={ closeInserter }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalListView as ListView } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport { useFocusOnMount, useMergeRefs } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useCallback, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { closeSmall } from '@wordpress/icons';\nimport { ESCAPE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { store as editWidgetsStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( editWidgetsStore );\n\tconst { getListViewToggleRef } = unlock( useSelect( editWidgetsStore ) );\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the dropZoneElement updates.\n\tconst [ dropZoneElement, setDropZoneElement ] = useState( null );\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\n\t// When closing the list view, focus should return to the toggle button.\n\tconst closeListView = useCallback( () => {\n\t\tsetIsListViewOpened( false );\n\t\tgetListViewToggleRef().current?.focus();\n\t}, [ getListViewToggleRef, setIsListViewOpened ] );\n\n\tconst closeOnEscape = useCallback(\n\t\t( event ) => {\n\t\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcloseListView();\n\t\t\t}\n\t\t},\n\t\t[ closeListView ]\n\t);\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\tclassName=\"edit-widgets-editor__list-view-panel\"\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t>\n\t\t\t<div className=\"edit-widgets-editor__list-view-panel-header\">\n\t\t\t\t<strong>{ __( 'List View' ) }</strong>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close' ) }\n\t\t\t\t\tonClick={ closeListView }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-widgets-editor__list-view-panel-content\"\n\t\t\t\tref={ useMergeRefs( [ focusOnMountRef, setDropZoneElement ] ) }\n\t\t\t>\n\t\t\t\t<ListView dropZoneElement={ dropZoneElement } />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n/**\n * Internal dependencies\n */\nimport { store as editWidgetsStore } from '../../store';\n\n/**\n * Internal dependencies\n */\nimport InserterSidebar from './inserter-sidebar';\nimport ListViewSidebar from './list-view-sidebar';\n\nexport default function SecondarySidebar() {\n\tconst { isInserterOpen, isListViewOpen } = useSelect( ( select ) => {\n\t\tconst { isInserterOpened, isListViewOpened } =\n\t\t\tselect( editWidgetsStore );\n\t\treturn {\n\t\t\tisInserterOpen: isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t};\n\t}, [] );\n\n\tif ( isInserterOpen ) {\n\t\treturn <InserterSidebar />;\n\t}\n\tif ( isListViewOpen ) {\n\t\treturn <ListViewSidebar />;\n\t}\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport { BlockBreadcrumb } from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tInterfaceSkeleton,\n\tComplementaryArea,\n\tstore as interfaceStore,\n} from '@wordpress/interface';\nimport { __ } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport Header from '../header';\nimport WidgetAreasBlockEditorContent from '../widget-areas-block-editor-content';\nimport { store as editWidgetsStore } from '../../store';\nimport SecondarySidebar from '../secondary-sidebar';\n\nconst interfaceLabels = {\n\t/* translators: accessibility text for the widgets screen top bar landmark region. */\n\theader: __( 'Widgets top bar' ),\n\t/* translators: accessibility text for the widgets screen content landmark region. */\n\tbody: __( 'Widgets and blocks' ),\n\t/* translators: accessibility text for the widgets screen settings landmark region. */\n\tsidebar: __( 'Widgets settings' ),\n\t/* translators: accessibility text for the widgets screen footer landmark region. */\n\tfooter: __( 'Widgets footer' ),\n};\n\nfunction Interface( { blockEditorSettings } ) {\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst isHugeViewport = useViewportMatch( 'huge', '>=' );\n\tconst { setIsInserterOpened, setIsListViewOpened, closeGeneralSidebar } =\n\t\tuseDispatch( editWidgetsStore );\n\tconst {\n\t\thasBlockBreadCrumbsEnabled,\n\t\thasSidebarEnabled,\n\t\tisInserterOpened,\n\t\tisListViewOpened,\n\t} = useSelect(\n\t\t( select ) => ( {\n\t\t\thasSidebarEnabled: !! select(\n\t\t\t\tinterfaceStore\n\t\t\t).getActiveComplementaryArea( editWidgetsStore.name ),\n\t\t\tisInserterOpened: !! select( editWidgetsStore ).isInserterOpened(),\n\t\t\tisListViewOpened: !! select( editWidgetsStore ).isListViewOpened(),\n\t\t\thasBlockBreadCrumbsEnabled: !! select( preferencesStore ).get(\n\t\t\t\t'core/edit-widgets',\n\t\t\t\t'showBlockBreadcrumbs'\n\t\t\t),\n\t\t} ),\n\t\t[]\n\t);\n\n\t// Inserter and Sidebars are mutually exclusive\n\tuseEffect( () => {\n\t\tif ( hasSidebarEnabled && ! isHugeViewport ) {\n\t\t\tsetIsInserterOpened( false );\n\t\t\tsetIsListViewOpened( false );\n\t\t}\n\t}, [ hasSidebarEnabled, isHugeViewport ] );\n\n\tuseEffect( () => {\n\t\tif ( ( isInserterOpened || isListViewOpened ) && ! isHugeViewport ) {\n\t\t\tcloseGeneralSidebar();\n\t\t}\n\t}, [ isInserterOpened, isListViewOpened, isHugeViewport ] );\n\n\tconst secondarySidebarLabel = isListViewOpened\n\t\t? __( 'List View' )\n\t\t: __( 'Block Library' );\n\n\tconst hasSecondarySidebar = isListViewOpened || isInserterOpened;\n\n\treturn (\n\t\t<InterfaceSkeleton\n\t\t\tlabels={ {\n\t\t\t\t...interfaceLabels,\n\t\t\t\tsecondarySidebar: secondarySidebarLabel,\n\t\t\t} }\n\t\t\theader={ <Header /> }\n\t\t\tsecondarySidebar={ hasSecondarySidebar && <SecondarySidebar /> }\n\t\t\tsidebar={ <ComplementaryArea.Slot scope=\"core/edit-widgets\" /> }\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t<WidgetAreasBlockEditorContent\n\t\t\t\t\t\tblockEditorSettings={ blockEditorSettings }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t}\n\t\t\tfooter={\n\t\t\t\thasBlockBreadCrumbsEnabled &&\n\t\t\t\t! isMobileViewport && (\n\t\t\t\t\t<div className=\"edit-widgets-layout__footer\">\n\t\t\t\t\t\t<BlockBreadcrumb rootLabelText={ __( 'Widgets' ) } />\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default Interface;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editWidgetsStore } from '../../store';\n\n/**\n * Warns the user if there are unsaved changes before leaving the editor.\n *\n * This is a duplicate of the component implemented in the editor package.\n * Duplicated here as edit-widgets doesn't depend on editor.\n *\n * @return {Component} The component.\n */\nexport default function UnsavedChangesWarning() {\n\tconst isDirty = useSelect( ( select ) => {\n\t\tconst { getEditedWidgetAreas } = select( editWidgetsStore );\n\t\tconst editedWidgetAreas = getEditedWidgetAreas();\n\n\t\treturn editedWidgetAreas?.length > 0;\n\t}, [] );\n\n\tuseEffect( () => {\n\t\t/**\n\t\t * Warns the user if there are unsaved changes before leaving the editor.\n\t\t *\n\t\t * @param {Event} event `beforeunload` event.\n\t\t *\n\t\t * @return {string | undefined} Warning prompt message, if unsaved changes exist.\n\t\t */\n\t\tconst warnIfUnsavedChanges = ( event ) => {\n\t\t\tif ( isDirty ) {\n\t\t\t\tevent.returnValue = __(\n\t\t\t\t\t'You have unsaved changes. If you proceed, they will be lost.'\n\t\t\t\t);\n\t\t\t\treturn event.returnValue;\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener( 'beforeunload', warnIfUnsavedChanges );\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener( 'beforeunload', warnIfUnsavedChanges );\n\t\t};\n\t}, [ isDirty ] );\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { ExternalLink, Guide } from '@wordpress/components';\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport { createInterpolateElement } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { store as editWidgetsStore } from '../../store';\n\nexport default function WelcomeGuide() {\n\tconst isActive = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( preferencesStore ).get(\n\t\t\t\t'core/edit-widgets',\n\t\t\t\t'welcomeGuide'\n\t\t\t),\n\t\t[]\n\t);\n\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst widgetAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editWidgetsStore ).getWidgetAreas( { per_page: -1 } ),\n\t\t[]\n\t);\n\n\tif ( ! isActive ) {\n\t\treturn null;\n\t}\n\n\tconst isEntirelyBlockWidgets = widgetAreas?.every(\n\t\t( widgetArea ) =>\n\t\t\twidgetArea.id === 'wp_inactive_widgets' ||\n\t\t\twidgetArea.widgets.every( ( widgetId ) =>\n\t\t\t\twidgetId.startsWith( 'block-' )\n\t\t\t)\n\t);\n\n\tconst numWidgetAreas =\n\t\twidgetAreas?.filter(\n\t\t\t( widgetArea ) => widgetArea.id !== 'wp_inactive_widgets'\n\t\t).length ?? 0;\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-widgets-welcome-guide\"\n\t\t\tcontentLabel={ __( 'Welcome to block Widgets' ) }\n\t\t\tfinishButtonText={ __( 'Get started' ) }\n\t\t\tonFinish={ () => toggle( 'core/edit-widgets', 'welcomeGuide' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-canvas.svg\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-canvas.gif\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-widgets-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Welcome to block Widgets' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t{ isEntirelyBlockWidgets ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<p className=\"edit-widgets-welcome-guide__text\">\n\t\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t\t// Translators: %s: Number of block areas in the current theme.\n\t\t\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t\t\t'Your theme provides %s block area for you to add and edit content.Try adding a search bar, social icons, or other types of blocks here and see how theyll look on your site.',\n\t\t\t\t\t\t\t\t\t\t\t\t'Your theme provides %s different block areas for you to add and edit content.Try adding a search bar, social icons, or other types of blocks here and see how theyll look on your site.',\n\t\t\t\t\t\t\t\t\t\t\t\tnumWidgetAreas\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tnumWidgetAreas\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<p className=\"edit-widgets-welcome-guide__text\">\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'You can now add any block to your sites widget areas. Dont worry, all of your favorite widgets still work flawlessly.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"edit-widgets-welcome-guide__text\">\n\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Want to stick with the old widgets?'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</strong>{ ' ' }\n\t\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/plugins/classic-widgets/'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Get the Classic Widgets plugin.'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-editor.svg\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-editor.gif\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-widgets-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Customize each block' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-widgets-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-library.svg\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-library.gif\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-widgets-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Explore all blocks' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-widgets-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'All of the blocks available to you live in the block library. Youll find it wherever you see the <InserterIconImage /> icon.'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tInserterIconImage: (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"edit-widgets-welcome-guide__inserter-icon\"\n\t\t\t\t\t\t\t\t\t\t\t\talt={ __( 'inserter' ) }\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.svg\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.gif\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-widgets-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Learn more' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-widgets-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\"New to the block editor? Want to learn more about using it? <a>Here's a detailed guide.</a>\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ta: (\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/wordpress-block-editor/'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n\nfunction WelcomeGuideImage( { nonAnimatedSrc, animatedSrc } ) {\n\treturn (\n\t\t<picture className=\"edit-widgets-welcome-guide__image\">\n\t\t\t<source\n\t\t\t\tsrcSet={ nonAnimatedSrc }\n\t\t\t\tmedia=\"(prefers-reduced-motion: reduce)\"\n\t\t\t/>\n\t\t\t<img src={ animatedSrc } width=\"312\" height=\"240\" alt=\"\" />\n\t\t</picture>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { PluginArea } from '@wordpress/plugins';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { __unstableUseNavigateRegions as useNavigateRegions } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ErrorBoundary from '../error-boundary';\nimport WidgetAreasBlockEditorProvider from '../widget-areas-block-editor-provider';\nimport Sidebar from '../sidebar';\nimport Interface from './interface';\nimport UnsavedChangesWarning from './unsaved-changes-warning';\nimport WelcomeGuide from '../welcome-guide';\n\nfunction Layout( { blockEditorSettings } ) {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tfunction onPluginAreaError( name ) {\n\t\tcreateErrorNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: plugin name */\n\t\t\t\t__(\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\n\t\t\t\t),\n\t\t\t\tname\n\t\t\t)\n\t\t);\n\t}\n\n\tconst navigateRegionsProps = useNavigateRegions();\n\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<div\n\t\t\t\tclassName={ navigateRegionsProps.className }\n\t\t\t\t{ ...navigateRegionsProps }\n\t\t\t\tref={ navigateRegionsProps.ref }\n\t\t\t>\n\t\t\t\t<WidgetAreasBlockEditorProvider\n\t\t\t\t\tblockEditorSettings={ blockEditorSettings }\n\t\t\t\t>\n\t\t\t\t\t<Interface blockEditorSettings={ blockEditorSettings } />\n\t\t\t\t\t<Sidebar />\n\t\t\t\t\t<PluginArea onError={ onPluginAreaError } />\n\t\t\t\t\t<UnsavedChangesWarning />\n\t\t\t\t\t<WelcomeGuide />\n\t\t\t\t</WidgetAreasBlockEditorProvider>\n\t\t\t</div>\n\t\t</ErrorBoundary>\n\t);\n}\n\nexport default Layout;\n","/**\n * WordPress dependencies\n */\nimport {\n\tregisterBlockType,\n\tunstable__bootstrapServerSideBlockDefinitions, // eslint-disable-line camelcase\n\tsetFreeformContentHandlerName,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\nimport { dispatch } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { StrictMode, createRoot } from '@wordpress/element';\nimport {\n\tregisterCoreBlocks,\n\t__experimentalGetCoreBlocks,\n\t__experimentalRegisterExperimentalCoreBlocks,\n} from '@wordpress/block-library';\nimport { __experimentalFetchLinkSuggestions as fetchLinkSuggestions } from '@wordpress/core-data';\nimport {\n\tregisterLegacyWidgetBlock,\n\tregisterLegacyWidgetVariations,\n\tregisterWidgetGroupBlock,\n} from '@wordpress/widgets';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport './store';\nimport './filters';\nimport * as widgetArea from './blocks/widget-area';\nimport Layout from './components/layout';\nimport {\n\tALLOW_REUSABLE_BLOCKS,\n\tENABLE_EXPERIMENTAL_FSE_BLOCKS,\n} from './constants';\n\nconst disabledBlocks = [\n\t'core/more',\n\t'core/freeform',\n\t'core/template-part',\n\t...( ALLOW_REUSABLE_BLOCKS ? [] : [ 'core/block' ] ),\n];\n\n/**\n * Initializes the block editor in the widgets screen.\n *\n * @param {string} id       ID of the root element to render the screen in.\n * @param {Object} settings Block editor settings.\n */\nexport function initializeEditor( id, settings ) {\n\tconst target = document.getElementById( id );\n\tconst root = createRoot( target );\n\n\tconst coreBlocks = __experimentalGetCoreBlocks().filter( ( block ) => {\n\t\treturn ! (\n\t\t\tdisabledBlocks.includes( block.name ) ||\n\t\t\tblock.name.startsWith( 'core/post' ) ||\n\t\t\tblock.name.startsWith( 'core/query' ) ||\n\t\t\tblock.name.startsWith( 'core/site' ) ||\n\t\t\tblock.name.startsWith( 'core/navigation' )\n\t\t);\n\t} );\n\n\tdispatch( preferencesStore ).setDefaults( 'core/edit-widgets', {\n\t\tfixedToolbar: false,\n\t\twelcomeGuide: true,\n\t\tshowBlockBreadcrumbs: true,\n\t\tthemeStyles: true,\n\t} );\n\n\tdispatch( blocksStore ).reapplyBlockTypeFilters();\n\tregisterCoreBlocks( coreBlocks );\n\tregisterLegacyWidgetBlock();\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t__experimentalRegisterExperimentalCoreBlocks( {\n\t\t\tenableFSEBlocks: ENABLE_EXPERIMENTAL_FSE_BLOCKS,\n\t\t} );\n\t}\n\tregisterLegacyWidgetVariations( settings );\n\tregisterBlock( widgetArea );\n\tregisterWidgetGroupBlock();\n\n\tsettings.__experimentalFetchLinkSuggestions = ( search, searchOptions ) =>\n\t\tfetchLinkSuggestions( search, searchOptions, settings );\n\n\t// As we are unregistering `core/freeform` to avoid the Classic block, we must\n\t// replace it with something as the default freeform content handler. Failure to\n\t// do this will result in errors in the default block parser.\n\t// see: https://github.com/WordPress/gutenberg/issues/33097\n\tsetFreeformContentHandlerName( 'core/html' );\n\n\troot.render(\n\t\t<StrictMode>\n\t\t\t<Layout blockEditorSettings={ settings } />\n\t\t</StrictMode>\n\t);\n\n\treturn root;\n}\n\n/**\n * Compatibility export under the old `initialize` name.\n */\nexport const initialize = initializeEditor;\n\nexport function reinitializeEditor() {\n\tdeprecated( 'wp.editWidgets.reinitializeEditor', {\n\t\tsince: '6.2',\n\t\tversion: '6.3',\n\t} );\n}\n\n/**\n * Function to register an individual block.\n *\n * @param {Object} block The block to be registered.\n */\nconst registerBlock = ( block ) => {\n\tif ( ! block ) {\n\t\treturn;\n\t}\n\tconst { metadata, settings, name } = block;\n\tif ( metadata ) {\n\t\tunstable__bootstrapServerSideBlockDefinitions( { [ name ]: metadata } );\n\t}\n\tregisterBlockType( name, settings );\n};\n\nexport { store } from './store';\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","window","combineReducers","blockInserterPanel","state","action","type","isOpen","inserterSidebarToggleRef","current","listViewPanel","listViewToggleRef","widgetAreasOpenState","clientId","widgetSavingLock","lockName","removedLockName","restState","r","e","t","f","n","Array","isArray","length","arguments","_jsx","SVG","xmlns","viewBox","children","Path","fillRule","clipRule","normalizeComplementaryAreaScope","scope","includes","deprecated","alternative","hint","version","normalizeComplementaryAreaName","name","setDefaultComplementaryArea","area","enableComplementaryArea","registry","dispatch","select","preferencesStore","set","disableComplementaryArea","pinItem","item","pinnedItems","unpinItem","toggleFeature","featureName","since","toggle","setFeatureValue","setFeatureDefaults","defaults","setDefaults","openModal","closeModal","getActiveComplementaryArea","createRegistrySelector","isComplementaryAreaVisible","undefined","complementaryAreas","isComplementaryAreaLoading","isVisible","identifier","isItemPinned","_pinnedItems$item","isFeatureActive","isModalActive","modalName","activeModal","store","createReduxStore","reducer","actions","selectors","ComplementaryAreaToggle","as","Button","identifierProp","icon","iconProp","selectedIcon","shortcut","props","ComponentToUse","context","usePluginContext","isSelected","useSelect","interfaceStore","useDispatch","replace","role","onClick","register","ComplementaryAreaHeader","className","toggleButtonProps","toggleButton","closeSmall","_jsxs","clsx","tabIndex","noop","ActionItem","Component","Fill","fpOnClick","args","Slot","MenuGroup","fillProps","bubblesVirtually","fills","Children","toArray","initializedByPlugins","forEach","__unstableExplicitMenuItem","__unstableTarget","push","map","child","PluginsMenuItem","restProps","MenuItem","ComplementaryAreaMoreMenuItem","target","toggleProps","check","PinnedItems","ANIMATION_DURATION","SIDEBAR_WIDTH","variants","open","width","closed","mobileOpen","ComplementaryAreaFill","activeArea","isActive","id","disableMotion","useReducedMotion","isMobileViewport","useViewportMatch","previousActiveArea","usePrevious","previousIsActive","setState","useState","useEffect","transition","duration","ease","AnimatePresence","initial","motion","div","animate","exit","style","ComplementaryArea","closeLabel","__","header","headerClassName","isPinnable","panelClassName","title","toggleShortcut","isActiveByDefault","isReady","setIsReady","isLoading","isPinned","isSmall","isLarge","showIconLabels","_activeArea","viewportStore","isViewportMatch","previousIsSmallRef","useRef","shouldOpenWhenNotSmallRef","useAdjustComplementaryListener","_Fragment","isPressed","label","showTooltip","variant","size","onClose","starFilled","starEmpty","Panel","NavigableRegion","forwardRef","ariaLabel","Tag","ref","displayName","commonTransition","headerVariants","hidden","opacity","marginTop","visible","distractionFreeHover","delay","delayChildren","distractionFreeHidden","distractionFreeDisabled","isDistractionFree","footer","editorNotices","sidebar","secondarySidebar","content","labels","secondarySidebarResizeListener","secondarySidebarSize","useResizeObserver","defaultTransition","element","document","querySelector","classList","useHTMLClass","mergedLabels","_x","body","whileHover","position","height","left","x","transformWidgetToBlock","widget","id_base","parsedBlocks","parse","instance","raw","__unstableSkipAutop","addWidgetIdToBlock","createBlock","attributes","_embedded","about","is_multi","idBase","transformBlockToWidget","block","relatedWidget","_block$attributes$id","_block$attributes$idB","_block$attributes$ins","serialize","rendered","rendered_form","KIND","WIDGET_AREA_ENTITY_TYPE","POST_TYPE","buildWidgetAreaPostId","widgetAreaId","STORE_NAME","persistStubPost","blocks","stubPost","createStubPost","slug","status","meta","coreStore","receiveEntityRecords","saveEditedWidgetAreas","async","editedWidgetAreas","getEditedWidgetAreas","saveWidgetAreas","noticesStore","createSuccessNotice","createErrorNotice","sprintf","message","widgetAreas","widgetArea","saveWidgetArea","finishResolution","per_page","widgets","getWidgets","post","getEditedEntityRecord","areaWidgets","values","filter","usedReferenceWidgets","widgetsBlocks","deletedWidgets","getWidgetAreaForWidgetId","batchMeta","batchTasks","sidebarWidgetsIds","i","widgetId","getWidgetIdFromBlock","oldWidget","editEntityRecord","undoIgnore","hasEditsForEntityRecord","saveEditedEntityRecord","saveEntityRecord","deleteEntityRecord","force","preservedRecords","__experimentalBatch","record","failedWidgetNames","__internalWidgetId","getLastEntitySaveError","Error","join","trySaveWidgetArea","throwOnError","setWidgetIdForClientId","setWidgetAreasOpenState","setIsWidgetAreaOpen","setIsInserterOpened","setIsListViewOpened","closeGeneralSidebar","editWidgetsStoreName","moveBlockToWidgetArea","sourceRootClientId","blockEditorStore","getBlockRootClientId","destinationRootClientId","getBlocks","find","destinationIndex","getBlockOrder","getIsWidgetAreaOpen","moveBlocksToPosition","unlockWidgetSaving","lockWidgetSaving","getWidgetAreas","widgetAreaBlocks","sortedWidgetAreas","resolveSelect","getEntityRecords","sort","b","widgetAreaBlock","index","_embed","groupedBySidebar","sidebarId","EMPTY_INSERTION_POINT","rootClientId","insertionIndex","createSelector","_widgets$reduce","reduce","allWidgets","getWidget","getParentWidgetAreaBlock","getBlock","getBlockName","getBlockParents","parentClientId","ids","getReferenceWidgetBlocks","referenceWidgetName","results","_widgetArea","isSavingWidgetAreas","widgetAreasIds","isSavingEntityRecord","widgetIds","keys","isInserterOpened","__experimentalGetInsertionPoint","canInsertBlockInWidgetArea","blockName","firstWidgetArea","canInsertBlockType","isListViewOpened","isWidgetSavingLocked","getListViewToggleRef","getInserterSidebarToggleRef","lock","unlock","__dangerousOptInToUnstableAPIsOnlyForCoreModules","storeConfig","resolvers","apiFetch","options","next","path","indexOf","Promise","resolve","registerPrivateSelectors","privateSelectors","withMoveToWidgetAreaToolbarItem","createHigherOrderComponent","BlockEdit","currentWidgetAreaId","editWidgetsStore","isMoveToWidgetAreaVisible","BlockControls","MoveToWidgetArea","onSelect","addFilter","replaceMediaUpload","MediaUpload","elementRef","isDraggingWithin","setIsDraggingWithin","ownerDocument","handleDragStart","event","handleDragEnter","handleDragEnd","contains","addEventListener","removeEventListener","WidgetAreaInnerBlocks","onInput","onChange","useEntityBlockEditor","innerBlocksRef","shouldHighlightDropZone","useIsDraggingWithin","innerBlocksProps","useInnerBlocksProps","templateLock","renderAppender","InnerBlocks","ButtonBlockAppender","metadata","$schema","apiVersion","category","supports","html","inserter","customClassName","reusable","__experimentalToolbar","__experimentalParentSelector","__experimentalDisableBlockOverlay","editorStyle","settings","description","__experimentalLabel","edit","wrapper","setOpen","useCallback","openState","isDragging","setIsDragging","useIsDragging","openedWhileDragging","setOpenedWhileDragging","blockProps","useBlockProps","PanelBody","opened","onToggle","scrollAfterOpen","DisclosureContent","EntityProvider","kind","CopyButton","text","useCopyToClipboard","__next40pxDefaultSize","ErrorBoundaryWarning","error","stack","Warning","ErrorBoundary","constructor","super","this","componentDidCatch","doAction","getDerivedStateFromError","render","KeyboardShortcuts","redo","undo","useShortcut","preventDefault","Register","registerShortcut","keyboardShortcutsStore","keyCombination","modifier","character","aliases","isAppleOS","ENABLE_EXPERIMENTAL_FSE_BLOCKS","ExperimentalBlockEditorProvider","blockEditorPrivateApis","PatternsMenuItems","editPatternsPrivateApis","BlockKeyboardShortcuts","blockLibraryPrivateApis","EMPTY_ARRAY","WidgetAreasBlockEditorProvider","blockEditorSettings","isLargeViewport","hasUploadPermissions","reusableBlocks","isFixedToolbarActive","keepCaretInsideBlock","pageOnFront","pageForPosts","_canUser","canUser","getEntityRecord","siteSettings","page_on_front","page_for_posts","useMemo","mediaUploadBlockEditor","onError","argumentsObject","uploadMedia","wpAllowedMimeTypes","allowedMimeTypes","__experimentalReusableBlocks","hasFixedToolbar","mediaUpload","__experimentalSetIsInserterOpened","editorTool","getBlockSelectionEnd","selectionEndClientId","widgetsEditorStore","widgetAreaBlockClientId","widgetAreasPost","SlotFillProvider","useSubRegistry","WidgetAreas","selectedWidgetAreaId","selectedWidgetArea","BlockIcon","blockDefault","dangerouslySetInnerHTML","__html","safeHTML","href","addQueryArgs","return","location","pathname","SIDEBAR_ACTIVE_BY_DEFAULT","Platform","web","native","BLOCK_INSPECTOR_IDENTIFIER","WIDGET_AREAS_IDENTIFIER","Tabs","componentsPrivateApis","SidebarHeader","selectedWidgetAreaBlock","TabList","Tab","tabId","SidebarContent","hasSelectedNonAreaBlock","currentArea","isGeneralSidebarOpen","tabsContextValue","useContext","Context","Provider","isRTL","drawerLeft","drawerRight","TabPanel","focusable","BlockInspector","Sidebar","getSelectedBlock","getBlockParentsByBlockName","selectedBlock","currentSelection","onTabSelect","newSelectedTabId","selectedTabId","selectOnMove","hasUndo","redoIcon","undoIcon","displayShortcut","primary","primaryShift","hasRedo","isMediumViewport","isInserterOpen","isListViewOpen","toggleListView","toggleInserterSidebar","NavigableToolbar","ToolbarItem","onMouseDown","plus","UndoButton","RedoButton","listView","hasEditedWidgetAreaIds","isSaving","isWidgetSaveLocked","isDisabled","isBusy","textFormattingShortcuts","KeyCombination","forceAriaLabel","displayShortcutList","shortcutAriaLabel","shortcuts","Fragment","alias","getShortcutKeyCombination","getShortcutDescription","getShortcutAliases","Shortcut","ShortcutList","DynamicShortcut","ShortcutSection","ShortcutCategorySection","categoryName","additionalShortcuts","categoryShortcuts","getCategoryShortcuts","concat","KeyboardShortcutHelpModal","toggleModal","bindGlobal","Modal","onRequestClose","ToolsMoreMenuGroup","createSlotFill","MoreMenu","isKeyboardShortcutsModalActive","setIsKeyboardShortcutsModalVisible","toggleKeyboardShortcutsModal","DropdownMenu","moreVertical","popoverProps","placement","tooltipPosition","PreferenceToggleMenuItem","info","messageActivated","messageDeactivated","access","external","rel","VisuallyHidden","blockToolbarRef","DocumentTools","BlockToolbar","hideDragHandle","Popover","SaveButton","removeNotice","notices","getNotices","dismissibleNotices","isDismissible","nonDismissibleNotices","snackbarNotices","slice","NoticeList","onRemove","SnackbarList","WidgetAreasBlockEditorContent","hasThemeStyles","styles","Notices","BlockTools","EditorStyles","BlockSelectionClearer","WritingFlow","BlockList","useWidgetLibraryInsertionPoint","firstRootId","getBlockIndex","insertionPoint","InserterSidebar","closeInserter","libraryRef","Library","showInserterHelpPanel","shouldFocusBlock","__experimentalInsertionIndex","ListViewSidebar","dropZoneElement","setDropZoneElement","focusOnMountRef","useFocusOnMount","closeListView","focus","closeOnEscape","keyCode","ESCAPE","defaultPrevented","onKeyDown","useMergeRefs","ListView","SecondarySidebar","interfaceLabels","isHugeViewport","hasBlockBreadCrumbsEnabled","hasSidebarEnabled","secondarySidebarLabel","hasSecondarySidebar","InterfaceSkeleton","Header","BlockBreadcrumb","rootLabelText","UnsavedChangesWarning","isDirty","warnIfUnsavedChanges","returnValue","WelcomeGuide","_widgetAreas$filter$l","isEntirelyBlockWidgets","every","startsWith","numWidgetAreas","Guide","contentLabel","finishButtonText","onFinish","pages","image","WelcomeGuideImage","nonAnimatedSrc","animatedSrc","_n","ExternalLink","createInterpolateElement","InserterIconImage","alt","src","srcSet","media","navigateRegionsProps","useNavigateRegions","Interface","PluginArea","disabledBlocks","initializeEditor","getElementById","root","createRoot","coreBlocks","__experimentalGetCoreBlocks","fixedToolbar","welcomeGuide","showBlockBreadcrumbs","themeStyles","blocksStore","reapplyBlockTypeFilters","registerCoreBlocks","registerLegacyWidgetBlock","__experimentalRegisterExperimentalCoreBlocks","enableFSEBlocks","registerLegacyWidgetVariations","registerBlock","registerWidgetGroupBlock","__experimentalFetchLinkSuggestions","search","searchOptions","fetchLinkSuggestions","setFreeformContentHandlerName","StrictMode","Layout","initialize","reinitializeEditor","unstable__bootstrapServerSideBlockDefinitions","registerBlockType"],"sourceRoot":""}