{"version":3,"file":"block-library/search/view.min.js","mappings":"2CACA,IAAIA,EAAsB,CCA1BA,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDH,EAAwB,CAACS,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,ICIlF,MAAM,GAJGI,EAI8B,CAAE,WAAgB,IAAOC,EAAwE,WAAG,WAAgB,IAAOA,EAAwE,WAAG,MAAW,IAAOA,EAAmE,MAAG,cAAmB,IAAOA,EAA2E,eAHraC,EAAI,CAAC,EAAGhB,EAAoBiB,EAAED,EAAGF,GAAWE,ICS3C,QAAEE,IAAYC,EAAAA,EAAAA,OACnB,cACA,CACCC,MAAO,CACN,aAAIC,GACH,MAAM,qBACLC,EAAoB,mBACpBC,EAAkB,kBAClBC,IACGC,EAAAA,EAAAA,cACJ,OAAOH,EACJE,EACAD,CACJ,EACA,gBAAIG,GACH,MAAM,qBAAEJ,EAAoB,QAAEK,IAAYF,EAAAA,EAAAA,cAC1C,OAAOH,EAAuB,KAAOK,CACtC,EACA,QAAIC,GACH,MAAM,qBAAEN,IAAyBG,EAAAA,EAAAA,cACjC,OAAOH,EAAuB,SAAW,QAC1C,EACA,YAAIO,GACH,MAAM,qBAAEP,IAAyBG,EAAAA,EAAAA,cACjC,OAAOH,EAAuB,IAAM,IACrC,GAEDJ,QAAS,CACRY,iBAAiBC,EAAAA,EAAAA,gBAAiBC,IACjC,MAAMC,GAAMR,EAAAA,EAAAA,eACN,IAAES,IAAQC,EAAAA,EAAAA,cACTF,EAAIX,uBACVU,EAAMI,iBACNH,EAAIX,sBAAuB,EAC3BY,EAAIG,cAAcC,cAAe,SAAUC,QAC5C,IAEDC,gBAAAA,IACaf,EAAAA,EAAAA,cACRH,sBAAuB,CAC5B,EACAmB,mBAAAA,CAAqBT,GACpB,MAAM,IAAEE,IAAQC,EAAAA,EAAAA,cAEI,WAAfH,GAAO7B,MACXe,EAAQsB,mBACRN,EAAII,cAAe,UAAWC,QAEhC,EACAG,oBAAAA,CAAsBV,GACrB,MAAM,IAAEE,IAAQC,EAAAA,EAAAA,cAObD,EAAIS,SAAUX,EAAMY,gBACtBZ,EAAMa,SAAWC,OAAOC,SAASC,eAEjC9B,EAAQsB,kBAEV,IAGF,CAAES,MAAM,ID3ED,IAACnC,EACJE","sources":["webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/external module \"@wordpress/interactivity\"","webpack://wp/./packages/block-library/build-module/search/@wordpress/block-library/src/search/view.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"getContext\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.getContext), [\"getElement\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.getElement), [\"store\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.store), [\"withSyncEvent\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.withSyncEvent) });","/**\n * WordPress dependencies\n */\nimport {\n\tstore,\n\tgetContext,\n\tgetElement,\n\twithSyncEvent,\n} from '@wordpress/interactivity';\n\nconst { actions } = store(\n\t'core/search',\n\t{\n\t\tstate: {\n\t\t\tget ariaLabel() {\n\t\t\t\tconst {\n\t\t\t\t\tisSearchInputVisible,\n\t\t\t\t\tariaLabelCollapsed,\n\t\t\t\t\tariaLabelExpanded,\n\t\t\t\t} = getContext();\n\t\t\t\treturn isSearchInputVisible\n\t\t\t\t\t? ariaLabelExpanded\n\t\t\t\t\t: ariaLabelCollapsed;\n\t\t\t},\n\t\t\tget ariaControls() {\n\t\t\t\tconst { isSearchInputVisible, inputId } = getContext();\n\t\t\t\treturn isSearchInputVisible ? null : inputId;\n\t\t\t},\n\t\t\tget type() {\n\t\t\t\tconst { isSearchInputVisible } = getContext();\n\t\t\t\treturn isSearchInputVisible ? 'submit' : 'button';\n\t\t\t},\n\t\t\tget tabindex() {\n\t\t\t\tconst { isSearchInputVisible } = getContext();\n\t\t\t\treturn isSearchInputVisible ? '0' : '-1';\n\t\t\t},\n\t\t},\n\t\tactions: {\n\t\t\topenSearchInput: withSyncEvent( ( event ) => {\n\t\t\t\tconst ctx = getContext();\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\tif ( ! ctx.isSearchInputVisible ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tctx.isSearchInputVisible = true;\n\t\t\t\t\tref.parentElement.querySelector( 'input' ).focus();\n\t\t\t\t}\n\t\t\t} ),\n\t\t\tcloseSearchInput() {\n\t\t\t\tconst ctx = getContext();\n\t\t\t\tctx.isSearchInputVisible = false;\n\t\t\t},\n\t\t\thandleSearchKeydown( event ) {\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\t// If Escape close the menu.\n\t\t\t\tif ( event?.key === 'Escape' ) {\n\t\t\t\t\tactions.closeSearchInput();\n\t\t\t\t\tref.querySelector( 'button' ).focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleSearchFocusout( event ) {\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\t// If focus is outside search form, and in the document, close menu\n\t\t\t\t// event.target === The element losing focus\n\t\t\t\t// event.relatedTarget === The element receiving focus (if any)\n\t\t\t\t// When focusout is outside the document,\n\t\t\t\t// `window.document.activeElement` doesn't change.\n\t\t\t\tif (\n\t\t\t\t\t! ref.contains( event.relatedTarget ) &&\n\t\t\t\t\tevent.target !== window.document.activeElement\n\t\t\t\t) {\n\t\t\t\t\tactions.closeSearchInput();\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\t{ lock: true }\n);\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","y","__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__","x","d","actions","store","state","ariaLabel","isSearchInputVisible","ariaLabelCollapsed","ariaLabelExpanded","getContext","ariaControls","inputId","type","tabindex","openSearchInput","withSyncEvent","event","ctx","ref","getElement","preventDefault","parentElement","querySelector","focus","closeSearchInput","handleSearchKeydown","handleSearchFocusout","contains","relatedTarget","target","window","document","activeElement","lock"],"sourceRoot":""}