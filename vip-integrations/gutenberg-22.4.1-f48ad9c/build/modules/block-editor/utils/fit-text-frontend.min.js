import{store as S,getElement as u,getContext as w}from"@wordpress/interactivity";function H(i,t){let o=i.scrollHeight>i.clientHeight,e=0,c=2400,d=e,a=window.getComputedStyle(i),g=parseFloat(a.paddingLeft)||0,h=parseFloat(a.paddingRight)||0,s=document.createRange();s.selectNodeContents(i);let r=i.clientHeight;for(;e<=c;){let n=Math.floor((e+c)/2);t(n);let f=s.getBoundingClientRect().width,p=i.scrollWidth<=i.clientWidth&&f<=i.clientWidth-g-h,z=o||i.scrollHeight<=i.clientHeight||i.scrollHeight<=r;i.clientHeight>r&&(r=i.clientHeight),p&&z?(d=n,e=n+1):c=n-1}return s.detach(),d}function l(i,t){if(!i)return;t(0);let o=H(i,t);return t(o),o}S("core/fit-text",{callbacks:{init(){let i=w(),{ref:t}=u(),o=e=>{e===0?t.style.fontSize="":t.style.fontSize=`${e}px`};if(i.fontSize=l(t,o),window.ResizeObserver&&t.parentElement){let e=new window.ResizeObserver(()=>{i.fontSize=l(t,o)});return e.observe(t.parentElement),e.observe(t),()=>{e&&e.disconnect()}}}}});
//# sourceMappingURL=fit-text-frontend.min.js.map
